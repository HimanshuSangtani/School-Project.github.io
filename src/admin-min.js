function googleApiLoaded(){}if(function(a,b){function c(a){var b=a.length,c=fa.type(a);return!fa.isWindow(a)&&(!(1!==a.nodeType||!b)||("array"===c||"function"!==c&&(0===b||"number"==typeof b&&b>0&&b-1 in a)))}function d(a){var b=oa[a]={};return fa.each(a.match(ha)||[],function(a,c){b[c]=!0}),b}function e(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=fa.expando+Math.random()}function f(a,c,d){var e;if(d===b&&1===a.nodeType)if(e="data-"+c.replace(sa,"-$1").toLowerCase(),d=a.getAttribute(e),"string"==typeof d){try{d="true"===d||"false"!==d&&("null"===d?null:+d+""===d?+d:ra.test(d)?JSON.parse(d):d)}catch(a){}pa.set(a,c,d)}else d=b;return d}function g(){return!0}function h(){return!1}function i(){try{return T.activeElement}catch(a){}}function j(a,b){for(;(a=a[b])&&1!==a.nodeType;);return a}function k(a,b,c){if(fa.isFunction(b))return fa.grep(a,function(a,d){return!!b.call(a,d,a)!==c});if(b.nodeType)return fa.grep(a,function(a){return a===b!==c});if("string"==typeof b){if(Ca.test(b))return fa.filter(b,a,c);b=fa.filter(b,a)}return fa.grep(a,function(a){return ba.call(b,a)>=0!==c})}function l(a,b){return fa.nodeName(a,"table")&&fa.nodeName(1===b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function m(a){return a.type=(null!==a.getAttribute("type"))+"/"+a.type,a}function n(a){var b=Na.exec(a.type);return b?a.type=b[1]:a.removeAttribute("type"),a}function o(a,b){for(var c=a.length,d=0;c>d;d++)qa.set(a[d],"globalEval",!b||qa.get(b[d],"globalEval"))}function p(a,b){var c,d,e,f,g,h,i,j;if(1===b.nodeType){if(qa.hasData(a)&&(f=qa.access(a),g=qa.set(b,f),j=f.events)){delete g.handle,g.events={};for(e in j)for(c=0,d=j[e].length;d>c;c++)fa.event.add(b,e,j[e][c])}pa.hasData(a)&&(h=pa.access(a),i=fa.extend({},h),pa.set(b,i))}}function q(a,c){var d=a.getElementsByTagName?a.getElementsByTagName(c||"*"):a.querySelectorAll?a.querySelectorAll(c||"*"):[];return c===b||c&&fa.nodeName(a,c)?fa.merge([a],d):d}function r(a,b){var c=b.nodeName.toLowerCase();"input"===c&&Ka.test(a.type)?b.checked=a.checked:("input"===c||"textarea"===c)&&(b.defaultValue=a.defaultValue)}function s(a,b){if(b in a)return b;for(var c=b.charAt(0).toUpperCase()+b.slice(1),d=b,e=_a.length;e--;)if(b=_a[e]+c,b in a)return b;return d}function t(a,b){return a=b||a,"none"===fa.css(a,"display")||!fa.contains(a.ownerDocument,a)}function u(b){return a.getComputedStyle(b,null)}function v(a,b){for(var c,d,e,f=[],g=0,h=a.length;h>g;g++)d=a[g],d.style&&(f[g]=qa.get(d,"olddisplay"),c=d.style.display,b?(f[g]||"none"!==c||(d.style.display=""),""===d.style.display&&t(d)&&(f[g]=qa.access(d,"olddisplay",z(d.nodeName)))):f[g]||(e=t(d),(c&&"none"!==c||!e)&&qa.set(d,"olddisplay",e?c:fa.css(d,"display"))));for(g=0;h>g;g++)d=a[g],d.style&&(b&&"none"!==d.style.display&&""!==d.style.display||(d.style.display=b?f[g]||"":"none"));return a}function w(a,b,c){var d=Ua.exec(b);return d?Math.max(0,d[1]-(c||0))+(d[2]||"px"):b}function x(a,b,c,d,e){for(var f=c===(d?"border":"content")?4:"width"===b?1:0,g=0;4>f;f+=2)"margin"===c&&(g+=fa.css(a,c+$a[f],!0,e)),d?("content"===c&&(g-=fa.css(a,"padding"+$a[f],!0,e)),"margin"!==c&&(g-=fa.css(a,"border"+$a[f]+"Width",!0,e))):(g+=fa.css(a,"padding"+$a[f],!0,e),"padding"!==c&&(g+=fa.css(a,"border"+$a[f]+"Width",!0,e)));return g}function y(a,b,c){var d=!0,e="width"===b?a.offsetWidth:a.offsetHeight,f=u(a),g=fa.support.boxSizing&&"border-box"===fa.css(a,"boxSizing",!1,f);if(0>=e||null==e){if(e=Qa(a,b,f),(0>e||null==e)&&(e=a.style[b]),Va.test(e))return e;d=g&&(fa.support.boxSizingReliable||e===a.style[b]),e=parseFloat(e)||0}return e+x(a,b,c||(g?"border":"content"),d,f)+"px"}function z(a){var b=T,c=Xa[a];return c||(c=A(a,b),"none"!==c&&c||(Ra=(Ra||fa("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(b.documentElement),b=(Ra[0].contentWindow||Ra[0].contentDocument).document,b.write("<!doctype html><html><body>"),b.close(),c=A(a,b),Ra.detach()),Xa[a]=c),c}function A(a,b){var c=fa(b.createElement(a)).appendTo(b.body),d=fa.css(c[0],"display");return c.remove(),d}function B(a,b,c,d){var e;if(fa.isArray(b))fa.each(b,function(b,e){c||bb.test(a)?d(a,e):B(a+"["+("object"==typeof e?b:"")+"]",e,c,d)});else if(c||"object"!==fa.type(b))d(a,b);else for(e in b)B(a+"["+e+"]",b[e],c,d)}function C(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e=0,f=b.toLowerCase().match(ha)||[];if(fa.isFunction(c))for(;d=f[e++];)"+"===d[0]?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}function D(a,c,d,e){function f(i){var j;return g[i]=!0,fa.each(a[i]||[],function(a,i){var k=i(c,d,e);return"string"!=typeof k||h||g[k]?h?!(j=k):b:(c.dataTypes.unshift(k),f(k),!1)}),j}var g={},h=a===sb;return f(c.dataTypes[0])||!g["*"]&&f("*")}function E(a,c){var d,e,f=fa.ajaxSettings.flatOptions||{};for(d in c)c[d]!==b&&((f[d]?a:e||(e={}))[d]=c[d]);return e&&fa.extend(!0,a,e),a}function F(a,c,d){for(var e,f,g,h,i=a.contents,j=a.dataTypes;"*"===j[0];)j.shift(),e===b&&(e=a.mimeType||c.getResponseHeader("Content-Type"));if(e)for(f in i)if(i[f]&&i[f].test(e)){j.unshift(f);break}if(j[0]in d)g=j[0];else{for(f in d){if(!j[0]||a.converters[f+" "+j[0]]){g=f;break}h||(h=f)}g=g||h}return g?(g!==j[0]&&j.unshift(g),d[g]):b}function G(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1])for(g in a.converters)j[g.toLowerCase()]=a.converters[g];for(f=k.shift();f;)if(a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift())if("*"===f)f=i;else if("*"!==i&&i!==f){if(g=j[i+" "+f]||j["* "+f],!g)for(e in j)if(h=e.split(" "),h[1]===f&&(g=j[i+" "+h[0]]||j["* "+h[0]])){g===!0?g=j[e]:j[e]!==!0&&(f=h[0],k.unshift(h[1]));break}if(g!==!0)if(g&&a.throws)b=g(b);else try{b=g(b)}catch(a){return{state:"parsererror",error:g?a:"No conversion from "+i+" to "+f}}}return{state:"success",data:b}}function H(){return setTimeout(function(){Ab=b}),Ab=fa.now()}function I(a,b,c){for(var d,e=(Gb[b]||[]).concat(Gb["*"]),f=0,g=e.length;g>f;f++)if(d=e[f].call(c,b,a))return d}function J(a,b,c){var d,e,f=0,g=Fb.length,h=fa.Deferred().always(function(){delete i.elem}),i=function(){if(e)return!1;for(var b=Ab||H(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;i>g;g++)j.tweens[g].run(f);return h.notifyWith(a,[j,f,c]),1>f&&i?c:(h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:fa.extend({},b),opts:fa.extend(!0,{specialEasing:{}},c),originalProperties:b,originalOptions:c,startTime:Ab||H(),duration:c.duration,tweens:[],createTween:function(b,c){var d=fa.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e)return this;for(e=!0;d>c;c++)j.tweens[c].run(1);return b?h.resolveWith(a,[j,b]):h.rejectWith(a,[j,b]),this}}),k=j.props;for(K(k,j.opts.specialEasing);g>f;f++)if(d=Fb[f].call(j,a,k,j.opts))return d;return fa.map(k,I,j),fa.isFunction(j.opts.start)&&j.opts.start.call(a,j),fa.fx.timer(fa.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}function K(a,b){var c,d,e,f,g;for(c in a)if(d=fa.camelCase(c),e=b[d],f=a[c],fa.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),g=fa.cssHooks[d],g&&"expand"in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}function L(a,c,d){var e,f,g,h,i,j,k=this,l={},m=a.style,n=a.nodeType&&t(a),o=qa.get(a,"fxshow");d.queue||(i=fa._queueHooks(a,"fx"),null==i.unqueued&&(i.unqueued=0,j=i.empty.fire,i.empty.fire=function(){i.unqueued||j()}),i.unqueued++,k.always(function(){k.always(function(){i.unqueued--,fa.queue(a,"fx").length||i.empty.fire()})})),1===a.nodeType&&("height"in c||"width"in c)&&(d.overflow=[m.overflow,m.overflowX,m.overflowY],"inline"===fa.css(a,"display")&&"none"===fa.css(a,"float")&&(m.display="inline-block")),d.overflow&&(m.overflow="hidden",k.always(function(){m.overflow=d.overflow[0],m.overflowX=d.overflow[1],m.overflowY=d.overflow[2]}));for(e in c)if(f=c[e],Cb.exec(f)){if(delete c[e],g=g||"toggle"===f,f===(n?"hide":"show")){if("show"!==f||!o||o[e]===b)continue;n=!0}l[e]=o&&o[e]||fa.style(a,e)}if(!fa.isEmptyObject(l)){o?"hidden"in o&&(n=o.hidden):o=qa.access(a,"fxshow",{}),g&&(o.hidden=!n),n?fa(a).show():k.done(function(){fa(a).hide()}),k.done(function(){var b;qa.remove(a,"fxshow");for(b in l)fa.style(a,b,l[b])});for(e in l)h=I(n?o[e]:0,e,k),e in o||(o[e]=h.start,n&&(h.end=h.start,h.start="width"===e||"height"===e?1:0))}}function M(a,b,c,d,e){return new M.prototype.init(a,b,c,d,e)}function N(a,b){var c,d={height:a},e=0;for(b=b?1:0;4>e;e+=2-b)c=$a[e],d["margin"+c]=d["padding"+c]=a;return b&&(d.opacity=d.width=a),d}function O(a){return fa.isWindow(a)?a:9===a.nodeType&&a.defaultView}var P,Q,R=typeof b,S=a.location,T=a.document,U=T.documentElement,V=a.jQuery,W=a.$,X={},Y=[],Z="2.0.3",$=Y.concat,_=Y.push,aa=Y.slice,ba=Y.indexOf,ca=X.toString,da=X.hasOwnProperty,ea=Z.trim,fa=function(a,b){return new fa.fn.init(a,b,P)},ga=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ha=/\S+/g,ia=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,ja=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,ka=/^-ms-/,la=/-([\da-z])/gi,ma=function(a,b){return b.toUpperCase()},na=function(){T.removeEventListener("DOMContentLoaded",na,!1),a.removeEventListener("load",na,!1),fa.ready()};fa.fn=fa.prototype={jquery:Z,constructor:fa,init:function(a,c,d){var e,f;if(!a)return this;if("string"==typeof a){if(e="<"===a.charAt(0)&&">"===a.charAt(a.length-1)&&a.length>=3?[null,a,null]:ia.exec(a),!e||!e[1]&&c)return!c||c.jquery?(c||d).find(a):this.constructor(c).find(a);if(e[1]){if(c=c instanceof fa?c[0]:c,fa.merge(this,fa.parseHTML(e[1],c&&c.nodeType?c.ownerDocument||c:T,!0)),ja.test(e[1])&&fa.isPlainObject(c))for(e in c)fa.isFunction(this[e])?this[e](c[e]):this.attr(e,c[e]);return this}return f=T.getElementById(e[2]),f&&f.parentNode&&(this.length=1,this[0]=f),this.context=T,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):fa.isFunction(a)?d.ready(a):(a.selector!==b&&(this.selector=a.selector,this.context=a.context),fa.makeArray(a,this))},selector:"",length:0,toArray:function(){return aa.call(this)},get:function(a){return null==a?this.toArray():0>a?this[this.length+a]:this[a]},pushStack:function(a){var b=fa.merge(this.constructor(),a);return b.prevObject=this,b.context=this.context,b},each:function(a,b){return fa.each(this,a,b)},ready:function(a){return fa.ready.promise().done(a),this},slice:function(){return this.pushStack(aa.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(0>a?b:0);return this.pushStack(c>=0&&b>c?[this[c]]:[])},map:function(a){return this.pushStack(fa.map(this,function(b,c){return a.call(b,c,b)}))},end:function(){return this.prevObject||this.constructor(null)},push:_,sort:[].sort,splice:[].splice},fa.fn.init.prototype=fa.fn,fa.extend=fa.fn.extend=function(){var a,c,d,e,f,g,h=arguments[0]||{},i=1,j=arguments.length,k=!1;for("boolean"==typeof h&&(k=h,h=arguments[1]||{},i=2),"object"==typeof h||fa.isFunction(h)||(h={}),j===i&&(h=this,--i);j>i;i++)if(null!=(a=arguments[i]))for(c in a)d=h[c],e=a[c],h!==e&&(k&&e&&(fa.isPlainObject(e)||(f=fa.isArray(e)))?(f?(f=!1,g=d&&fa.isArray(d)?d:[]):g=d&&fa.isPlainObject(d)?d:{},h[c]=fa.extend(k,g,e)):e!==b&&(h[c]=e));return h},fa.extend({expando:"jQuery"+(Z+Math.random()).replace(/\D/g,""),noConflict:function(b){return a.$===fa&&(a.$=W),b&&a.jQuery===fa&&(a.jQuery=V),fa},isReady:!1,readyWait:1,holdReady:function(a){a?fa.readyWait++:fa.ready(!0)},ready:function(a){(a===!0?--fa.readyWait:fa.isReady)||(fa.isReady=!0,a!==!0&&--fa.readyWait>0||(Q.resolveWith(T,[fa]),fa.fn.trigger&&fa(T).trigger("ready").off("ready")))},isFunction:function(a){return"function"===fa.type(a)},isArray:Array.isArray,isWindow:function(a){return null!=a&&a===a.window},isNumeric:function(a){return!isNaN(parseFloat(a))&&isFinite(a)},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?X[ca.call(a)]||"object":typeof a},isPlainObject:function(a){if("object"!==fa.type(a)||a.nodeType||fa.isWindow(a))return!1;try{if(a.constructor&&!da.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(a){return!1}return!0},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},error:function(a){throw Error(a)},parseHTML:function(a,b,c){if(!a||"string"!=typeof a)return null;"boolean"==typeof b&&(c=b,b=!1),b=b||T;var d=ja.exec(a),e=!c&&[];return d?[b.createElement(d[1])]:(d=fa.buildFragment([a],b,e),e&&fa(e).remove(),fa.merge([],d.childNodes))},parseJSON:JSON.parse,parseXML:function(a){var c,d;if(!a||"string"!=typeof a)return null;try{d=new DOMParser,c=d.parseFromString(a,"text/xml")}catch(a){c=b}return(!c||c.getElementsByTagName("parsererror").length)&&fa.error("Invalid XML: "+a),c},noop:function(){},globalEval:function(a){var b,c=eval;a=fa.trim(a),a&&(1===a.indexOf("use strict")?(b=T.createElement("script"),b.text=a,T.head.appendChild(b).parentNode.removeChild(b)):c(a))},camelCase:function(a){return a.replace(ka,"ms-").replace(la,ma)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b,d){var e,f=0,g=a.length,h=c(a);if(d){if(h)for(;g>f&&(e=b.apply(a[f],d),e!==!1);f++);else for(f in a)if(e=b.apply(a[f],d),e===!1)break}else if(h)for(;g>f&&(e=b.call(a[f],f,a[f]),e!==!1);f++);else for(f in a)if(e=b.call(a[f],f,a[f]),e===!1)break;return a},trim:function(a){return null==a?"":ea.call(a)},makeArray:function(a,b){var d=b||[];return null!=a&&(c(Object(a))?fa.merge(d,"string"==typeof a?[a]:a):_.call(d,a)),d},inArray:function(a,b,c){return null==b?-1:ba.call(b,a,c)},merge:function(a,c){var d=c.length,e=a.length,f=0;if("number"==typeof d)for(;d>f;f++)a[e++]=c[f];else for(;c[f]!==b;)a[e++]=c[f++];return a.length=e,a},grep:function(a,b,c){var d,e=[],f=0,g=a.length;for(c=!!c;g>f;f++)d=!!b(a[f],f),c!==d&&e.push(a[f]);return e},map:function(a,b,d){var e,f=0,g=a.length,h=c(a),i=[];if(h)for(;g>f;f++)e=b(a[f],f,d),null!=e&&(i[i.length]=e);else for(f in a)e=b(a[f],f,d),null!=e&&(i[i.length]=e);return $.apply([],i)},guid:1,proxy:function(a,c){var d,e,f;return"string"==typeof c&&(d=a[c],c=a,a=d),fa.isFunction(a)?(e=aa.call(arguments,2),f=function(){return a.apply(c||this,e.concat(aa.call(arguments)))},f.guid=a.guid=a.guid||fa.guid++,f):b},access:function(a,c,d,e,f,g,h){var i=0,j=a.length,k=null==d;if("object"===fa.type(d)){f=!0;for(i in d)fa.access(a,c,i,d[i],!0,g,h)}else if(e!==b&&(f=!0,fa.isFunction(e)||(h=!0),k&&(h?(c.call(a,e),c=null):(k=c,c=function(a,b,c){return k.call(fa(a),c)})),c))for(;j>i;i++)c(a[i],d,h?e:e.call(a[i],i,c(a[i],d)));return f?a:k?c.call(a):j?c(a[0],d):g},now:Date.now,swap:function(a,b,c,d){var e,f,g={};for(f in b)g[f]=a.style[f],a.style[f]=b[f];e=c.apply(a,d||[]);for(f in b)a.style[f]=g[f];return e}}),fa.ready.promise=function(b){return Q||(Q=fa.Deferred(),"complete"===T.readyState?setTimeout(fa.ready):(T.addEventListener("DOMContentLoaded",na,!1),a.addEventListener("load",na,!1))),Q.promise(b)},fa.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(a,b){X["[object "+b+"]"]=b.toLowerCase()}),P=fa(T),function(a,b){function c(a,b,c,d){var e,f,g,h,i,j,k,l,o,p;if((b?b.ownerDocument||b:O)!==G&&F(b),b=b||G,c=c||[],!a||"string"!=typeof a)return c;if(1!==(h=b.nodeType)&&9!==h)return[];if(I&&!d){if(e=ta.exec(a))if(g=e[1]){if(9===h){if(f=b.getElementById(g),!f||!f.parentNode)return c;if(f.id===g)return c.push(f),c}else if(b.ownerDocument&&(f=b.ownerDocument.getElementById(g))&&M(b,f)&&f.id===g)return c.push(f),c}else{if(e[2])return aa.apply(c,b.getElementsByTagName(a)),c;if((g=e[3])&&x.getElementsByClassName&&b.getElementsByClassName)return aa.apply(c,b.getElementsByClassName(g)),c}if(x.qsa&&(!J||!J.test(a))){if(l=k=N,o=b,p=9===h&&a,1===h&&"object"!==b.nodeName.toLowerCase()){for(j=m(a),(k=b.getAttribute("id"))?l=k.replace(wa,"\\$&"):b.setAttribute("id",l),l="[id='"+l+"'] ",i=j.length;i--;)j[i]=l+n(j[i]);o=na.test(a)&&b.parentNode||b,p=j.join(",")}if(p)try{return aa.apply(c,o.querySelectorAll(p)),c}catch(a){}finally{k||b.removeAttribute("id")}}}return v(a.replace(ka,"$1"),b,c,d)}function d(){function a(c,d){return b.push(c+=" ")>z.cacheLength&&delete a[b.shift()],a[c]=d}var b=[];return a}function e(a){return a[N]=!0,a}function f(a){var b=G.createElement("div");try{return!!a(b)}catch(a){return!1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function g(a,b){for(var c=a.split("|"),d=a.length;d--;)z.attrHandle[c[d]]=b}function h(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||X)-(~a.sourceIndex||X);if(d)return d;if(c)for(;c=c.nextSibling;)if(c===b)return-1;return a?1:-1}function i(a){return function(b){var c=b.nodeName.toLowerCase();return"input"===c&&b.type===a}}function j(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function k(a){return e(function(b){return b=+b,e(function(c,d){for(var e,f=a([],c.length,b),g=f.length;g--;)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function l(){}function m(a,b){var d,e,f,g,h,i,j,k=S[a+" "];if(k)return b?0:k.slice(0);for(h=a,i=[],j=z.preFilter;h;){(!d||(e=la.exec(h)))&&(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),d=!1,(e=ma.exec(h))&&(d=e.shift(),f.push({value:d,type:e[0].replace(ka," ")}),h=h.slice(d.length));for(g in z.filter)!(e=ra[g].exec(h))||j[g]&&!(e=j[g](e))||(d=e.shift(),f.push({value:d,type:g,matches:e}),h=h.slice(d.length));if(!d)break}return b?h.length:h?c.error(a):S(a,i).slice(0)}function n(a){for(var b=0,c=a.length,d="";c>b;b++)d+=a[b].value;return d}function o(a,b,c){var d=b.dir,e=c&&"parentNode"===d,f=Q++;return b.first?function(b,c,f){for(;b=b[d];)if(1===b.nodeType||e)return a(b,c,f)}:function(b,c,g){var h,i,j,k=P+" "+f;if(g){for(;b=b[d];)if((1===b.nodeType||e)&&a(b,c,g))return!0}else for(;b=b[d];)if(1===b.nodeType||e)if(j=b[N]||(b[N]={}),(i=j[d])&&i[0]===k){if((h=i[1])===!0||h===y)return h===!0}else if(i=j[d]=[k],i[1]=a(b,c,g)||y,i[1]===!0)return!0}}function p(a){return a.length>1?function(b,c,d){for(var e=a.length;e--;)if(!a[e](b,c,d))return!1;return!0}:a[0]}function q(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;i>h;h++)(f=a[h])&&(!c||c(f,d,e))&&(g.push(f),j&&b.push(h));return g}function r(a,b,c,d,f,g){return d&&!d[N]&&(d=r(d)),f&&!f[N]&&(f=r(f,g)),e(function(e,g,h,i){var j,k,l,m=[],n=[],o=g.length,p=e||u(b||"*",h.nodeType?[h]:h,[]),r=!a||!e&&b?p:q(p,m,a,h,i),s=c?f||(e?a:o||d)?[]:g:r;if(c&&c(r,s,h,i),d)for(j=q(s,n),d(j,[],h,i),k=j.length;k--;)(l=j[k])&&(s[n[k]]=!(r[n[k]]=l));if(e){if(f||a){if(f){for(j=[],k=s.length;k--;)(l=s[k])&&j.push(r[k]=l);f(null,s=[],j,i)}for(k=s.length;k--;)(l=s[k])&&(j=f?ca.call(e,l):m[k])>-1&&(e[j]=!(g[j]=l))}}else s=q(s===g?s.splice(o,s.length):s),f?f(null,g,s,i):aa.apply(g,s)})}function s(a){for(var b,c,d,e=a.length,f=z.relative[a[0].type],g=f||z.relative[" "],h=f?1:0,i=o(function(a){return a===b},g,!0),j=o(function(a){return ca.call(b,a)>-1},g,!0),k=[function(a,c,d){return!f&&(d||c!==D)||((b=c).nodeType?i(a,c,d):j(a,c,d))}];e>h;h++)if(c=z.relative[a[h].type])k=[o(p(k),c)];else{if(c=z.filter[a[h].type].apply(null,a[h].matches),c[N]){for(d=++h;e>d&&!z.relative[a[d].type];d++);return r(h>1&&p(k),h>1&&n(a.slice(0,h-1).concat({value:" "===a[h-2].type?"*":""})).replace(ka,"$1"),c,d>h&&s(a.slice(h,d)),e>d&&s(a=a.slice(d)),e>d&&n(a))}k.push(c)}return p(k)}function t(a,b){var d=0,f=b.length>0,g=a.length>0,h=function(e,h,i,j,k){var l,m,n,o=[],p=0,r="0",s=e&&[],t=null!=k,u=D,v=e||g&&z.find.TAG("*",k&&h.parentNode||h),w=P+=null==u?1:Math.random()||.1;for(t&&(D=h!==G&&h,y=d);null!=(l=v[r]);r++){if(g&&l){for(m=0;n=a[m++];)if(n(l,h,i)){j.push(l);break}t&&(P=w,y=++d)}f&&((l=!n&&l)&&p--,e&&s.push(l))}if(p+=r,f&&r!==p){for(m=0;n=b[m++];)n(s,o,h,i);if(e){if(p>0)for(;r--;)s[r]||o[r]||(o[r]=$.call(j));o=q(o)}aa.apply(j,o),t&&!e&&o.length>0&&p+b.length>1&&c.uniqueSort(j)}return t&&(P=w,D=u),s};return f?e(h):h}function u(a,b,d){for(var e=0,f=b.length;f>e;e++)c(a,b[e],d);return d}function v(a,b,c,d){var e,f,g,h,i,j=m(a);if(!d&&1===j.length){if(f=j[0]=j[0].slice(0),f.length>2&&"ID"===(g=f[0]).type&&x.getById&&9===b.nodeType&&I&&z.relative[f[1].type]){if(b=(z.find.ID(g.matches[0].replace(xa,ya),b)||[])[0],!b)return c;a=a.slice(f.shift().value.length)}for(e=ra.needsContext.test(a)?0:f.length;e--&&(g=f[e],!z.relative[h=g.type]);)if((i=z.find[h])&&(d=i(g.matches[0].replace(xa,ya),na.test(f[0].type)&&b.parentNode||b))){if(f.splice(e,1),a=d.length&&n(f),!a)return aa.apply(c,d),c;break}}return C(a,j)(d,b,!I,c,na.test(a)),c}var w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N="sizzle"+-new Date,O=a.document,P=0,Q=0,R=d(),S=d(),T=d(),U=!1,V=function(a,b){return a===b?(U=!0,0):0},W=typeof b,X=1<<31,Y={}.hasOwnProperty,Z=[],$=Z.pop,_=Z.push,aa=Z.push,ba=Z.slice,ca=Z.indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(this[b]===a)return b;return-1},da="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ea="[\\x20\\t\\r\\n\\f]",ga="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ha=ga.replace("w","w#"),ia="\\["+ea+"*("+ga+")"+ea+"*(?:([*^$|!~]?=)"+ea+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+ha+")|)|)"+ea+"*\\]",ja=":("+ga+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+ia.replace(3,8)+")*)|.*)\\)|)",ka=RegExp("^"+ea+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ea+"+$","g"),la=RegExp("^"+ea+"*,"+ea+"*"),ma=RegExp("^"+ea+"*([>+~]|"+ea+")"+ea+"*"),na=RegExp(ea+"*[+~]"),oa=RegExp("="+ea+"*([^\\]'\"]*)"+ea+"*\\]","g"),pa=RegExp(ja),qa=RegExp("^"+ha+"$"),ra={ID:RegExp("^#("+ga+")"),CLASS:RegExp("^\\.("+ga+")"),TAG:RegExp("^("+ga.replace("w","w*")+")"),ATTR:RegExp("^"+ia),PSEUDO:RegExp("^"+ja),CHILD:RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ea+"*(even|odd|(([+-]|)(\\d*)n|)"+ea+"*(?:([+-]|)"+ea+"*(\\d+)|))"+ea+"*\\)|)","i"),bool:RegExp("^(?:"+da+")$","i"),needsContext:RegExp("^"+ea+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ea+"*((?:-\\d)?\\d*)"+ea+"*\\)|)(?=[^-]|$)","i")},sa=/^[^{]+\{\s*\[native \w/,ta=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ua=/^(?:input|select|textarea|button)$/i,va=/^h\d$/i,wa=/'|\\/g,xa=RegExp("\\\\([\\da-f]{1,6}"+ea+"?|("+ea+")|.)","ig"),ya=function(a,b,c){var d="0x"+b-65536;return d!==d||c?b:0>d?String.fromCharCode(d+65536):String.fromCharCode(55296|d>>10,56320|1023&d)};try{aa.apply(Z=ba.call(O.childNodes),O.childNodes),Z[O.childNodes.length].nodeType}catch(a){aa={apply:Z.length?function(a,b){_.apply(a,ba.call(b))}:function(a,b){for(var c=a.length,d=0;a[c++]=b[d++];);a.length=c-1}}}B=c.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return!!b&&"HTML"!==b.nodeName},x=c.support={},F=c.setDocument=function(a){var c=a?a.ownerDocument||a:O,d=c.defaultView;return c!==G&&9===c.nodeType&&c.documentElement?(G=c,H=c.documentElement,I=!B(c),d&&d.attachEvent&&d!==d.top&&d.attachEvent("onbeforeunload",function(){F()}),x.attributes=f(function(a){return a.className="i",!a.getAttribute("className")}),x.getElementsByTagName=f(function(a){return a.appendChild(c.createComment("")),!a.getElementsByTagName("*").length}),x.getElementsByClassName=f(function(a){return a.innerHTML="<div class='a'></div><div class='a i'></div>",a.firstChild.className="i",2===a.getElementsByClassName("i").length}),x.getById=f(function(a){return H.appendChild(a).id=N,!c.getElementsByName||!c.getElementsByName(N).length}),x.getById?(z.find.ID=function(a,b){if(typeof b.getElementById!==W&&I){var c=b.getElementById(a);return c&&c.parentNode?[c]:[]}},z.filter.ID=function(a){var b=a.replace(xa,ya);return function(a){return a.getAttribute("id")===b}}):(delete z.find.ID,z.filter.ID=function(a){var b=a.replace(xa,ya);return function(a){var c=typeof a.getAttributeNode!==W&&a.getAttributeNode("id");return c&&c.value===b}}),z.find.TAG=x.getElementsByTagName?function(a,c){return typeof c.getElementsByTagName!==W?c.getElementsByTagName(a):b}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if("*"===a){for(;c=f[e++];)1===c.nodeType&&d.push(c);return d}return f},z.find.CLASS=x.getElementsByClassName&&function(a,c){return typeof c.getElementsByClassName!==W&&I?c.getElementsByClassName(a):b},K=[],J=[],(x.qsa=sa.test(c.querySelectorAll))&&(f(function(a){a.innerHTML="<select><option selected=''></option></select>",a.querySelectorAll("[selected]").length||J.push("\\["+ea+"*(?:value|"+da+")"),a.querySelectorAll(":checked").length||J.push(":checked")}),f(function(a){var b=c.createElement("input");b.setAttribute("type","hidden"),a.appendChild(b).setAttribute("t",""),a.querySelectorAll("[t^='']").length&&J.push("[*^$]="+ea+"*(?:''|\"\")"),a.querySelectorAll(":enabled").length||J.push(":enabled",":disabled"),a.querySelectorAll("*,:x"),J.push(",.*:")})),(x.matchesSelector=sa.test(L=H.webkitMatchesSelector||H.mozMatchesSelector||H.oMatchesSelector||H.msMatchesSelector))&&f(function(a){x.disconnectedMatch=L.call(a,"div"),L.call(a,"[s!='']:x"),K.push("!=",ja)}),J=J.length&&RegExp(J.join("|")),K=K.length&&RegExp(K.join("|")),M=sa.test(H.contains)||H.compareDocumentPosition?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b)for(;b=b.parentNode;)if(b===a)return!0;return!1},V=H.compareDocumentPosition?function(a,b){if(a===b)return U=!0,0;var d=b.compareDocumentPosition&&a.compareDocumentPosition&&a.compareDocumentPosition(b);return d?1&d||!x.sortDetached&&b.compareDocumentPosition(a)===d?a===c||M(O,a)?-1:b===c||M(O,b)?1:E?ca.call(E,a)-ca.call(E,b):0:4&d?-1:1:a.compareDocumentPosition?-1:1}:function(a,b){var d,e=0,f=a.parentNode,g=b.parentNode,i=[a],j=[b];if(a===b)return U=!0,0;if(!f||!g)return a===c?-1:b===c?1:f?-1:g?1:E?ca.call(E,a)-ca.call(E,b):0;if(f===g)return h(a,b);for(d=a;d=d.parentNode;)i.unshift(d);for(d=b;d=d.parentNode;)j.unshift(d);for(;i[e]===j[e];)e++;return e?h(i[e],j[e]):i[e]===O?-1:j[e]===O?1:0},c):G},c.matches=function(a,b){return c(a,null,null,b)},c.matchesSelector=function(a,b){if((a.ownerDocument||a)!==G&&F(a),b=b.replace(oa,"='$1']"),!(!x.matchesSelector||!I||K&&K.test(b)||J&&J.test(b)))try{var d=L.call(a,b);if(d||x.disconnectedMatch||a.document&&11!==a.document.nodeType)return d}catch(a){}return c(b,G,null,[a]).length>0},c.contains=function(a,b){return(a.ownerDocument||a)!==G&&F(a),M(a,b)},c.attr=function(a,c){(a.ownerDocument||a)!==G&&F(a);var d=z.attrHandle[c.toLowerCase()],e=d&&Y.call(z.attrHandle,c.toLowerCase())?d(a,c,!I):b;return e===b?x.attributes||!I?a.getAttribute(c):(e=a.getAttributeNode(c))&&e.specified?e.value:null:e},c.error=function(a){throw Error("Syntax error, unrecognized expression: "+a)},c.uniqueSort=function(a){var b,c=[],d=0,e=0;if(U=!x.detectDuplicates,E=!x.sortStable&&a.slice(0),a.sort(V),U){for(;b=a[e++];)b===a[e]&&(d=c.push(e));for(;d--;)a.splice(c[d],1)}return a},A=c.getText=function(a){var b,c="",d=0,e=a.nodeType;if(e){if(1===e||9===e||11===e){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=A(a)}else if(3===e||4===e)return a.nodeValue}else for(;b=a[d];d++)c+=A(b);return c},z=c.selectors={cacheLength:50,createPseudo:e,match:ra,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(xa,ya),a[3]=(a[4]||a[5]||"").replace(xa,ya),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||c.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&c.error(a[0]),a},PSEUDO:function(a){var c,d=!a[5]&&a[2];return ra.CHILD.test(a[0])?null:(a[3]&&a[4]!==b?a[2]=a[4]:d&&pa.test(d)&&(c=m(d,!0))&&(c=d.indexOf(")",d.length-c)-d.length)&&(a[0]=a[0].slice(0,c),a[2]=d.slice(0,c)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(xa,ya).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=R[a+" "];return b||(b=RegExp("(^|"+ea+")"+a+"("+ea+"|$)"))&&R(a,function(a){return b.test("string"==typeof a.className&&a.className||typeof a.getAttribute!==W&&a.getAttribute("class")||"")})},ATTR:function(a,b,d){return function(e){var f=c.attr(e,a);return null==f?"!="===b:!b||(f+="","="===b?f===d:"!="===b?f!==d:"^="===b?d&&0===f.indexOf(d):"*="===b?d&&f.indexOf(d)>-1:"$="===b?d&&f.slice(-d.length)===d:"~="===b?(" "+f+" ").indexOf(d)>-1:"|="===b&&(f===d||f.slice(0,d.length+1)===d+"-"))}},CHILD:function(a,b,c,d,e){var f="nth"!==a.slice(0,3),g="last"!==a.slice(-4),h="of-type"===b;return 1===d&&0===e?function(a){return!!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?"nextSibling":"previousSibling",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),s=!i&&!h;if(q){if(f){for(;p;){for(l=b;l=l[p];)if(h?l.nodeName.toLowerCase()===r:1===l.nodeType)return!1;o=p="only"===a&&!o&&"nextSibling"}return!0}if(o=[g?q.firstChild:q.lastChild],g&&s){for(k=q[N]||(q[N]={}),j=k[a]||[],n=j[0]===P&&j[1],m=j[0]===P&&j[2],l=n&&q.childNodes[n];l=++n&&l&&l[p]||(m=n=0)||o.pop();)if(1===l.nodeType&&++m&&l===b){k[a]=[P,n,m];break}}else if(s&&(j=(b[N]||(b[N]={}))[a])&&j[0]===P)m=j[1];else for(;(l=++n&&l&&l[p]||(m=n=0)||o.pop())&&((h?l.nodeName.toLowerCase()!==r:1!==l.nodeType)||!++m||(s&&((l[N]||(l[N]={}))[a]=[P,m]),l!==b)););return m-=e,m===d||0===m%d&&m/d>=0}}},PSEUDO:function(a,b){var d,f=z.pseudos[a]||z.setFilters[a.toLowerCase()]||c.error("unsupported pseudo: "+a);return f[N]?f(b):f.length>1?(d=[a,a,"",b],z.setFilters.hasOwnProperty(a.toLowerCase())?e(function(a,c){for(var d,e=f(a,b),g=e.length;g--;)d=ca.call(a,e[g]),a[d]=!(c[d]=e[g])}):function(a){return f(a,0,d)}):f}},pseudos:{not:e(function(a){var b=[],c=[],d=C(a.replace(ka,"$1"));return d[N]?e(function(a,b,c,e){for(var f,g=d(a,null,e,[]),h=a.length;h--;)(f=g[h])&&(a[h]=!(b[h]=f))}):function(a,e,f){return b[0]=a,d(b,null,f,c),!c.pop()}}),has:e(function(a){return function(b){return c(a,b).length>0}}),contains:e(function(a){return function(b){return(b.textContent||b.innerText||A(b)).indexOf(a)>-1}}),lang:e(function(a){return qa.test(a||"")||c.error("unsupported lang: "+a),a=a.replace(xa,ya).toLowerCase(),function(b){var c;do if(c=I?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===H},focus:function(a){return a===G.activeElement&&(!G.hasFocus||G.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===!0},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeName>"@"||3===a.nodeType||4===a.nodeType)return!1;return!0},parent:function(a){return!z.pseudos.empty(a)},header:function(a){return va.test(a.nodeName)},input:function(a){return ua.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||b.toLowerCase()===a.type)},first:k(function(){return[0]}),last:k(function(a,b){return[b-1]}),eq:k(function(a,b,c){return[0>c?c+b:c]}),even:k(function(a,b){for(var c=0;b>c;c+=2)a.push(c);return a}),odd:k(function(a,b){for(var c=1;b>c;c+=2)a.push(c);return a}),lt:k(function(a,b,c){for(var d=0>c?c+b:c;--d>=0;)a.push(d);return a}),gt:k(function(a,b,c){for(var d=0>c?c+b:c;b>++d;)a.push(d);return a})}},z.pseudos.nth=z.pseudos.eq;for(w in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})z.pseudos[w]=i(w);for(w in{submit:!0,
reset:!0})z.pseudos[w]=j(w);l.prototype=z.filters=z.pseudos,z.setFilters=new l,C=c.compile=function(a,b){var c,d=[],e=[],f=T[a+" "];if(!f){for(b||(b=m(a)),c=b.length;c--;)f=s(b[c]),f[N]?d.push(f):e.push(f);f=T(a,t(e,d))}return f},x.sortStable=N.split("").sort(V).join("")===N,x.detectDuplicates=U,F(),x.sortDetached=f(function(a){return 1&a.compareDocumentPosition(G.createElement("div"))}),f(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||g("type|href|height|width",function(a,c,d){return d?b:a.getAttribute(c,"type"===c.toLowerCase()?1:2)}),x.attributes&&f(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||g("value",function(a,c,d){return d||"input"!==a.nodeName.toLowerCase()?b:a.defaultValue}),f(function(a){return null==a.getAttribute("disabled")})||g(da,function(a,c,d){var e;return d?b:(e=a.getAttributeNode(c))&&e.specified?e.value:a[c]===!0?c.toLowerCase():null}),fa.find=c,fa.expr=c.selectors,fa.expr[":"]=fa.expr.pseudos,fa.unique=c.uniqueSort,fa.text=c.getText,fa.isXMLDoc=c.isXML,fa.contains=c.contains}(a);var oa={};fa.Callbacks=function(a){a="string"==typeof a?oa[a]||d(a):fa.extend({},a);var c,e,f,g,h,i,j=[],k=!a.once&&[],l=function(b){for(c=a.memory&&b,e=!0,i=g||0,g=0,h=j.length,f=!0;j&&h>i;i++)if(j[i].apply(b[0],b[1])===!1&&a.stopOnFalse){c=!1;break}f=!1,j&&(k?k.length&&l(k.shift()):c?j=[]:m.disable())},m={add:function(){if(j){var b=j.length;!function b(c){fa.each(c,function(c,d){var e=fa.type(d);"function"===e?a.unique&&m.has(d)||j.push(d):d&&d.length&&"string"!==e&&b(d)})}(arguments),f?h=j.length:c&&(g=b,l(c))}return this},remove:function(){return j&&fa.each(arguments,function(a,b){for(var c;(c=fa.inArray(b,j,c))>-1;)j.splice(c,1),f&&(h>=c&&h--,i>=c&&i--)}),this},has:function(a){return a?fa.inArray(a,j)>-1:!(!j||!j.length)},empty:function(){return j=[],h=0,this},disable:function(){return j=k=c=b,this},disabled:function(){return!j},lock:function(){return k=b,c||m.disable(),this},locked:function(){return!k},fireWith:function(a,b){return!j||e&&!k||(b=b||[],b=[a,b.slice?b.slice():b],f?k.push(b):l(b)),this},fire:function(){return m.fireWith(this,arguments),this},fired:function(){return!!e}};return m},fa.extend({Deferred:function(a){var b=[["resolve","done",fa.Callbacks("once memory"),"resolved"],["reject","fail",fa.Callbacks("once memory"),"rejected"],["notify","progress",fa.Callbacks("memory")]],c="pending",d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return fa.Deferred(function(c){fa.each(b,function(b,f){var g=f[0],h=fa.isFunction(a[b])&&a[b];e[f[1]](function(){var a=h&&h.apply(this,arguments);a&&fa.isFunction(a.promise)?a.promise().done(c.resolve).fail(c.reject).progress(c.notify):c[g+"With"](this===d?c.promise():this,h?[a]:arguments)})}),a=null}).promise()},promise:function(a){return null!=a?fa.extend(a,d):d}},e={};return d.pipe=d.then,fa.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&&g.add(function(){c=h},b[1^a][2].disable,b[2][2].lock),e[f[0]]=function(){return e[f[0]+"With"](this===e?d:this,arguments),this},e[f[0]+"With"]=g.fireWith}),d.promise(e),a&&a.call(e,e),e},when:function(a){var b,c,d,e=0,f=aa.call(arguments),g=f.length,h=1!==g||a&&fa.isFunction(a.promise)?g:0,i=1===h?a:fa.Deferred(),j=function(a,c,d){return function(e){c[a]=this,d[a]=arguments.length>1?aa.call(arguments):e,d===b?i.notifyWith(c,d):--h||i.resolveWith(c,d)}};if(g>1)for(b=Array(g),c=Array(g),d=Array(g);g>e;e++)f[e]&&fa.isFunction(f[e].promise)?f[e].promise().done(j(e,d,f)).fail(i.reject).progress(j(e,c,b)):--h;return h||i.resolveWith(d,f),i.promise()}}),fa.support=function(b){var c=T.createElement("input"),d=T.createDocumentFragment(),e=T.createElement("div"),f=T.createElement("select"),g=f.appendChild(T.createElement("option"));return c.type?(c.type="checkbox",b.checkOn=""!==c.value,b.optSelected=g.selected,b.reliableMarginRight=!0,b.boxSizingReliable=!0,b.pixelPosition=!1,c.checked=!0,b.noCloneChecked=c.cloneNode(!0).checked,f.disabled=!0,b.optDisabled=!g.disabled,c=T.createElement("input"),c.value="t",c.type="radio",b.radioValue="t"===c.value,c.setAttribute("checked","t"),c.setAttribute("name","t"),d.appendChild(c),b.checkClone=d.cloneNode(!0).cloneNode(!0).lastChild.checked,b.focusinBubbles="onfocusin"in a,e.style.backgroundClip="content-box",e.cloneNode(!0).style.backgroundClip="",b.clearCloneStyle="content-box"===e.style.backgroundClip,fa(function(){var c,d,f="padding:0;margin:0;border:0;display:block;-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box",g=T.getElementsByTagName("body")[0];g&&(c=T.createElement("div"),c.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",g.appendChild(c).appendChild(e),e.innerHTML="",e.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%",fa.swap(g,null!=g.style.zoom?{zoom:1}:{},function(){b.boxSizing=4===e.offsetWidth}),a.getComputedStyle&&(b.pixelPosition="1%"!==(a.getComputedStyle(e,null)||{}).top,b.boxSizingReliable="4px"===(a.getComputedStyle(e,null)||{width:"4px"}).width,d=e.appendChild(T.createElement("div")),d.style.cssText=e.style.cssText=f,d.style.marginRight=d.style.width="0",e.style.width="1px",b.reliableMarginRight=!parseFloat((a.getComputedStyle(d,null)||{}).marginRight)),g.removeChild(c))}),b):b}({});var pa,qa,ra=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,sa=/([A-Z])/g;e.uid=1,e.accepts=function(a){return!a.nodeType||(1===a.nodeType||9===a.nodeType)},e.prototype={key:function(a){if(!e.accepts(a))return 0;var b={},c=a[this.expando];if(!c){c=e.uid++;try{b[this.expando]={value:c},Object.defineProperties(a,b)}catch(d){b[this.expando]=c,fa.extend(a,b)}}return this.cache[c]||(this.cache[c]={}),c},set:function(a,b,c){var d,e=this.key(a),f=this.cache[e];if("string"==typeof b)f[b]=c;else if(fa.isEmptyObject(f))fa.extend(this.cache[e],b);else for(d in b)f[d]=b[d];return f},get:function(a,c){var d=this.cache[this.key(a)];return c===b?d:d[c]},access:function(a,c,d){var e;return c===b||c&&"string"==typeof c&&d===b?(e=this.get(a,c),e!==b?e:this.get(a,fa.camelCase(c))):(this.set(a,c,d),d!==b?d:c)},remove:function(a,c){var d,e,f,g=this.key(a),h=this.cache[g];if(c===b)this.cache[g]={};else{fa.isArray(c)?e=c.concat(c.map(fa.camelCase)):(f=fa.camelCase(c),c in h?e=[c,f]:(e=f,e=e in h?[e]:e.match(ha)||[])),d=e.length;for(;d--;)delete h[e[d]]}},hasData:function(a){return!fa.isEmptyObject(this.cache[a[this.expando]]||{})},discard:function(a){a[this.expando]&&delete this.cache[a[this.expando]]}},pa=new e,qa=new e,fa.extend({acceptData:e.accepts,hasData:function(a){return pa.hasData(a)||qa.hasData(a)},data:function(a,b,c){return pa.access(a,b,c)},removeData:function(a,b){pa.remove(a,b)},_data:function(a,b,c){return qa.access(a,b,c)},_removeData:function(a,b){qa.remove(a,b)}}),fa.fn.extend({data:function(a,c){var d,e,g=this[0],h=0,i=null;if(a===b){if(this.length&&(i=pa.get(g),1===g.nodeType&&!qa.get(g,"hasDataAttrs"))){for(d=g.attributes;d.length>h;h++)e=d[h].name,0===e.indexOf("data-")&&(e=fa.camelCase(e.slice(5)),f(g,e,i[e]));qa.set(g,"hasDataAttrs",!0)}return i}return"object"==typeof a?this.each(function(){pa.set(this,a)}):fa.access(this,function(c){var d,e=fa.camelCase(a);if(g&&c===b){if(d=pa.get(g,a),d!==b)return d;if(d=pa.get(g,e),d!==b)return d;if(d=f(g,e,b),d!==b)return d}else this.each(function(){var d=pa.get(this,e);pa.set(this,e,c),-1!==a.indexOf("-")&&d!==b&&pa.set(this,a,c)})},null,c,arguments.length>1,null,!0)},removeData:function(a){return this.each(function(){pa.remove(this,a)})}}),fa.extend({queue:function(a,c,d){var e;return a?(c=(c||"fx")+"queue",e=qa.get(a,c),d&&(!e||fa.isArray(d)?e=qa.access(a,c,fa.makeArray(d)):e.push(d)),e||[]):b},dequeue:function(a,b){b=b||"fx";var c=fa.queue(a,b),d=c.length,e=c.shift(),f=fa._queueHooks(a,b),g=function(){fa.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--),e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return qa.get(a,c)||qa.access(a,c,{empty:fa.Callbacks("once memory").add(function(){qa.remove(a,[b+"queue",c])})})}}),fa.fn.extend({queue:function(a,c){var d=2;return"string"!=typeof a&&(c=a,a="fx",d--),d>arguments.length?fa.queue(this[0],a):c===b?this:this.each(function(){var b=fa.queue(this,a,c);fa._queueHooks(this,a),"fx"===a&&"inprogress"!==b[0]&&fa.dequeue(this,a)})},dequeue:function(a){return this.each(function(){fa.dequeue(this,a)})},delay:function(a,b){return a=fa.fx?fa.fx.speeds[a]||a:a,b=b||"fx",this.queue(b,function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,c){var d,e=1,f=fa.Deferred(),g=this,h=this.length,i=function(){--e||f.resolveWith(g,[g])};for("string"!=typeof a&&(c=a,a=b),a=a||"fx";h--;)d=qa.get(g[h],a+"queueHooks"),d&&d.empty&&(e++,d.empty.add(i));return i(),f.promise(c)}});var ta,ua,va=/[\t\r\n\f]/g,wa=/\r/g,xa=/^(?:input|select|textarea|button)$/i;fa.fn.extend({attr:function(a,b){return fa.access(this,fa.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){fa.removeAttr(this,a)})},prop:function(a,b){return fa.access(this,fa.prop,a,b,arguments.length>1)},removeProp:function(a){return this.each(function(){delete this[fa.propFix[a]||a]})},addClass:function(a){var b,c,d,e,f,g=0,h=this.length,i="string"==typeof a&&a;if(fa.isFunction(a))return this.each(function(b){fa(this).addClass(a.call(this,b,this.className))});if(i)for(b=(a||"").match(ha)||[];h>g;g++)if(c=this[g],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(va," "):" ")){for(f=0;e=b[f++];)0>d.indexOf(" "+e+" ")&&(d+=e+" ");c.className=fa.trim(d)}return this},removeClass:function(a){var b,c,d,e,f,g=0,h=this.length,i=0===arguments.length||"string"==typeof a&&a;if(fa.isFunction(a))return this.each(function(b){fa(this).removeClass(a.call(this,b,this.className))});if(i)for(b=(a||"").match(ha)||[];h>g;g++)if(c=this[g],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(va," "):"")){for(f=0;e=b[f++];)for(;d.indexOf(" "+e+" ")>=0;)d=d.replace(" "+e+" "," ");c.className=a?fa.trim(d):""}return this},toggleClass:function(a,b){var c=typeof a;return"boolean"==typeof b&&"string"===c?b?this.addClass(a):this.removeClass(a):fa.isFunction(a)?this.each(function(c){fa(this).toggleClass(a.call(this,c,this.className,b),b)}):this.each(function(){if("string"===c)for(var b,d=0,e=fa(this),f=a.match(ha)||[];b=f[d++];)e.hasClass(b)?e.removeClass(b):e.addClass(b);else(c===R||"boolean"===c)&&(this.className&&qa.set(this,"__className__",this.className),this.className=this.className||a===!1?"":qa.get(this,"__className__")||"")})},hasClass:function(a){for(var b=" "+a+" ",c=0,d=this.length;d>c;c++)if(1===this[c].nodeType&&(" "+this[c].className+" ").replace(va," ").indexOf(b)>=0)return!0;return!1},val:function(a){var c,d,e,f=this[0];return arguments.length?(e=fa.isFunction(a),this.each(function(d){var f;1===this.nodeType&&(f=e?a.call(this,d,fa(this).val()):a,null==f?f="":"number"==typeof f?f+="":fa.isArray(f)&&(f=fa.map(f,function(a){return null==a?"":a+""})),c=fa.valHooks[this.type]||fa.valHooks[this.nodeName.toLowerCase()],c&&"set"in c&&c.set(this,f,"value")!==b||(this.value=f))})):f?(c=fa.valHooks[f.type]||fa.valHooks[f.nodeName.toLowerCase()],c&&"get"in c&&(d=c.get(f,"value"))!==b?d:(d=f.value,"string"==typeof d?d.replace(wa,""):null==d?"":d)):void 0}}),fa.extend({valHooks:{option:{get:function(a){var b=a.attributes.value;return!b||b.specified?a.value:a.text}},select:{get:function(a){for(var b,c,d=a.options,e=a.selectedIndex,f="select-one"===a.type||0>e,g=f?null:[],h=f?e+1:d.length,i=0>e?h:f?e:0;h>i;i++)if(c=d[i],!(!c.selected&&i!==e||(fa.support.optDisabled?c.disabled:null!==c.getAttribute("disabled"))||c.parentNode.disabled&&fa.nodeName(c.parentNode,"optgroup"))){if(b=fa(c).val(),f)return b;g.push(b)}return g},set:function(a,b){for(var c,d,e=a.options,f=fa.makeArray(b),g=e.length;g--;)d=e[g],(d.selected=fa.inArray(fa(d).val(),f)>=0)&&(c=!0);return c||(a.selectedIndex=-1),f}}},attr:function(a,c,d){var e,f,g=a.nodeType;if(a&&3!==g&&8!==g&&2!==g)return typeof a.getAttribute===R?fa.prop(a,c,d):(1===g&&fa.isXMLDoc(a)||(c=c.toLowerCase(),e=fa.attrHooks[c]||(fa.expr.match.bool.test(c)?ua:ta)),d===b?e&&"get"in e&&null!==(f=e.get(a,c))?f:(f=fa.find.attr(a,c),null==f?b:f):null!==d?e&&"set"in e&&(f=e.set(a,d,c))!==b?f:(a.setAttribute(c,d+""),d):(fa.removeAttr(a,c),b))},removeAttr:function(a,b){var c,d,e=0,f=b&&b.match(ha);if(f&&1===a.nodeType)for(;c=f[e++];)d=fa.propFix[c]||c,fa.expr.match.bool.test(c)&&(a[d]=!1),a.removeAttribute(c)},attrHooks:{type:{set:function(a,b){if(!fa.support.radioValue&&"radio"===b&&fa.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}}},propFix:{for:"htmlFor",class:"className"},prop:function(a,c,d){var e,f,g,h=a.nodeType;if(a&&3!==h&&8!==h&&2!==h)return g=1!==h||!fa.isXMLDoc(a),g&&(c=fa.propFix[c]||c,f=fa.propHooks[c]),d!==b?f&&"set"in f&&(e=f.set(a,d,c))!==b?e:a[c]=d:f&&"get"in f&&null!==(e=f.get(a,c))?e:a[c]},propHooks:{tabIndex:{get:function(a){return a.hasAttribute("tabindex")||xa.test(a.nodeName)||a.href?a.tabIndex:-1}}}}),ua={set:function(a,b,c){return b===!1?fa.removeAttr(a,c):a.setAttribute(c,c),c}},fa.each(fa.expr.match.bool.source.match(/\w+/g),function(a,c){var d=fa.expr.attrHandle[c]||fa.find.attr;fa.expr.attrHandle[c]=function(a,c,e){var f=fa.expr.attrHandle[c],g=e?b:(fa.expr.attrHandle[c]=b)!=d(a,c,e)?c.toLowerCase():null;return fa.expr.attrHandle[c]=f,g}}),fa.support.optSelected||(fa.propHooks.selected={get:function(a){var b=a.parentNode;return b&&b.parentNode&&b.parentNode.selectedIndex,null}}),fa.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){fa.propFix[this.toLowerCase()]=this}),fa.each(["radio","checkbox"],function(){fa.valHooks[this]={set:function(a,c){return fa.isArray(c)?a.checked=fa.inArray(fa(a).val(),c)>=0:b}},fa.support.checkOn||(fa.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})});var ya=/^key/,za=/^(?:mouse|contextmenu)|click/,Aa=/^(?:focusinfocus|focusoutblur)$/,Ba=/^([^.]*)(?:\.(.+)|)$/;fa.event={global:{},add:function(a,c,d,e,f){var g,h,i,j,k,l,m,n,o,p,q,r=qa.get(a);if(r){for(d.handler&&(g=d,d=g.handler,f=g.selector),d.guid||(d.guid=fa.guid++),(j=r.events)||(j=r.events={}),(h=r.handle)||(h=r.handle=function(a){return typeof fa===R||a&&fa.event.triggered===a.type?b:fa.event.dispatch.apply(h.elem,arguments)},h.elem=a),c=(c||"").match(ha)||[""],k=c.length;k--;)i=Ba.exec(c[k])||[],o=q=i[1],p=(i[2]||"").split(".").sort(),o&&(m=fa.event.special[o]||{},o=(f?m.delegateType:m.bindType)||o,m=fa.event.special[o]||{},l=fa.extend({type:o,origType:q,data:e,handler:d,guid:d.guid,selector:f,needsContext:f&&fa.expr.match.needsContext.test(f),namespace:p.join(".")},g),(n=j[o])||(n=j[o]=[],n.delegateCount=0,m.setup&&m.setup.call(a,e,p,h)!==!1||a.addEventListener&&a.addEventListener(o,h,!1)),m.add&&(m.add.call(a,l),l.handler.guid||(l.handler.guid=d.guid)),f?n.splice(n.delegateCount++,0,l):n.push(l),fa.event.global[o]=!0);a=null}},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q=qa.hasData(a)&&qa.get(a);if(q&&(i=q.events)){for(b=(b||"").match(ha)||[""],j=b.length;j--;)if(h=Ba.exec(b[j])||[],n=p=h[1],o=(h[2]||"").split(".").sort(),n){for(l=fa.event.special[n]||{},n=(d?l.delegateType:l.bindType)||n,m=i[n]||[],h=h[2]&&RegExp("(^|\\.)"+o.join("\\.(?:.*\\.|)")+"(\\.|$)"),g=f=m.length;f--;)k=m[f],!e&&p!==k.origType||c&&c.guid!==k.guid||h&&!h.test(k.namespace)||d&&d!==k.selector&&("**"!==d||!k.selector)||(m.splice(f,1),k.selector&&m.delegateCount--,l.remove&&l.remove.call(a,k));g&&!m.length&&(l.teardown&&l.teardown.call(a,o,q.handle)!==!1||fa.removeEvent(a,n,q.handle),delete i[n])}else for(n in i)fa.event.remove(a,n+b[j],c,d,!0);fa.isEmptyObject(i)&&(delete q.handle,qa.remove(a,"events"))}},trigger:function(c,d,e,f){var g,h,i,j,k,l,m,n=[e||T],o=da.call(c,"type")?c.type:c,p=da.call(c,"namespace")?c.namespace.split("."):[];if(h=i=e=e||T,3!==e.nodeType&&8!==e.nodeType&&!Aa.test(o+fa.event.triggered)&&(o.indexOf(".")>=0&&(p=o.split("."),o=p.shift(),p.sort()),k=0>o.indexOf(":")&&"on"+o,c=c[fa.expando]?c:new fa.Event(o,"object"==typeof c&&c),c.isTrigger=f?2:3,c.namespace=p.join("."),c.namespace_re=c.namespace?RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,c.result=b,c.target||(c.target=e),d=null==d?[c]:fa.makeArray(d,[c]),m=fa.event.special[o]||{},f||!m.trigger||m.trigger.apply(e,d)!==!1)){if(!f&&!m.noBubble&&!fa.isWindow(e)){for(j=m.delegateType||o,Aa.test(j+o)||(h=h.parentNode);h;h=h.parentNode)n.push(h),i=h;i===(e.ownerDocument||T)&&n.push(i.defaultView||i.parentWindow||a)}for(g=0;(h=n[g++])&&!c.isPropagationStopped();)c.type=g>1?j:m.bindType||o,l=(qa.get(h,"events")||{})[c.type]&&qa.get(h,"handle"),l&&l.apply(h,d),l=k&&h[k],l&&fa.acceptData(h)&&l.apply&&l.apply(h,d)===!1&&c.preventDefault();return c.type=o,f||c.isDefaultPrevented()||m._default&&m._default.apply(n.pop(),d)!==!1||!fa.acceptData(e)||k&&fa.isFunction(e[o])&&!fa.isWindow(e)&&(i=e[k],i&&(e[k]=null),fa.event.triggered=o,e[o](),fa.event.triggered=b,i&&(e[k]=i)),c.result}},dispatch:function(a){a=fa.event.fix(a);var c,d,e,f,g,h=[],i=aa.call(arguments),j=(qa.get(this,"events")||{})[a.type]||[],k=fa.event.special[a.type]||{};if(i[0]=a,a.delegateTarget=this,!k.preDispatch||k.preDispatch.call(this,a)!==!1){for(h=fa.event.handlers.call(this,a,j),c=0;(f=h[c++])&&!a.isPropagationStopped();)for(a.currentTarget=f.elem,d=0;(g=f.handlers[d++])&&!a.isImmediatePropagationStopped();)(!a.namespace_re||a.namespace_re.test(g.namespace))&&(a.handleObj=g,a.data=g.data,e=((fa.event.special[g.origType]||{}).handle||g.handler).apply(f.elem,i),e!==b&&(a.result=e)===!1&&(a.preventDefault(),a.stopPropagation()));return k.postDispatch&&k.postDispatch.call(this,a),a.result}},handlers:function(a,c){var d,e,f,g,h=[],i=c.delegateCount,j=a.target;if(i&&j.nodeType&&(!a.button||"click"!==a.type))for(;j!==this;j=j.parentNode||this)if(j.disabled!==!0||"click"!==a.type){for(e=[],d=0;i>d;d++)g=c[d],f=g.selector+" ",e[f]===b&&(e[f]=g.needsContext?fa(f,this).index(j)>=0:fa.find(f,this,null,[j]).length),e[f]&&e.push(g);e.length&&h.push({elem:j,handlers:e})}return c.length>i&&h.push({elem:this,handlers:c.slice(i)}),h},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,c){var d,e,f,g=c.button;return null==a.pageX&&null!=c.clientX&&(d=a.target.ownerDocument||T,e=d.documentElement,f=d.body,a.pageX=c.clientX+(e&&e.scrollLeft||f&&f.scrollLeft||0)-(e&&e.clientLeft||f&&f.clientLeft||0),a.pageY=c.clientY+(e&&e.scrollTop||f&&f.scrollTop||0)-(e&&e.clientTop||f&&f.clientTop||0)),a.which||g===b||(a.which=1&g?1:2&g?3:4&g?2:0),a}},fix:function(a){if(a[fa.expando])return a;var b,c,d,e=a.type,f=a,g=this.fixHooks[e];for(g||(this.fixHooks[e]=g=za.test(e)?this.mouseHooks:ya.test(e)?this.keyHooks:{}),d=g.props?this.props.concat(g.props):this.props,a=new fa.Event(f),b=d.length;b--;)c=d[b],a[c]=f[c];return a.target||(a.target=T),3===a.target.nodeType&&(a.target=a.target.parentNode),g.filter?g.filter(a,f):a},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==i()&&this.focus?(this.focus(),!1):b},delegateType:"focusin"},blur:{trigger:function(){return this===i()&&this.blur?(this.blur(),!1):b},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&fa.nodeName(this,"input")?(this.click(),!1):b},_default:function(a){return fa.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){a.result!==b&&(a.originalEvent.returnValue=a.result)}}},simulate:function(a,b,c,d){var e=fa.extend(new fa.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?fa.event.trigger(e,null,b):fa.event.dispatch.call(b,e),e.isDefaultPrevented()&&c.preventDefault()}},fa.removeEvent=function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)},fa.Event=function(a,c){return this instanceof fa.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||a.getPreventDefault&&a.getPreventDefault()?g:h):this.type=a,c&&fa.extend(this,c),this.timeStamp=a&&a.timeStamp||fa.now(),this[fa.expando]=!0,b):new fa.Event(a,c)},fa.Event.prototype={isDefaultPrevented:h,isPropagationStopped:h,isImmediatePropagationStopped:h,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=g,a&&a.preventDefault&&a.preventDefault()},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=g,a&&a.stopPropagation&&a.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=g,this.stopPropagation()}},fa.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(a,b){fa.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return(!e||e!==d&&!fa.contains(d,e))&&(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),fa.support.focusinBubbles||fa.each({focus:"focusin",blur:"focusout"},function(a,b){var c=0,d=function(a){fa.event.simulate(b,a.target,fa.event.fix(a),!0)};fa.event.special[b]={setup:function(){0===c++&&T.addEventListener(a,d,!0)},teardown:function(){0===--c&&T.removeEventListener(a,d,!0)}}}),fa.fn.extend({on:function(a,c,d,e,f){var g,i;if("object"==typeof a){"string"!=typeof c&&(d=d||c,c=b);for(i in a)this.on(i,c,d,a[i],f);return this}if(null==d&&null==e?(e=c,d=c=b):null==e&&("string"==typeof c?(e=d,d=b):(e=d,d=c,c=b)),e===!1)e=h;else if(!e)return this;return 1===f&&(g=e,e=function(a){return fa().off(a),g.apply(this,arguments)},e.guid=g.guid||(g.guid=fa.guid++)),this.each(function(){fa.event.add(this,a,e,d,c)})},one:function(a,b,c,d){return this.on(a,b,c,d,1)},off:function(a,c,d){var e,f;if(a&&a.preventDefault&&a.handleObj)return e=a.handleObj,fa(a.delegateTarget).off(e.namespace?e.origType+"."+e.namespace:e.origType,e.selector,e.handler),this;if("object"==typeof a){for(f in a)this.off(f,c,a[f]);return this}return(c===!1||"function"==typeof c)&&(d=c,c=b),d===!1&&(d=h),this.each(function(){fa.event.remove(this,a,d,c)})},trigger:function(a,b){return this.each(function(){fa.event.trigger(a,b,this)})},triggerHandler:function(a,c){var d=this[0];return d?fa.event.trigger(a,c,d,!0):b}});var Ca=/^.[^:#\[\.,]*$/,Da=/^(?:parents|prev(?:Until|All))/,Ea=fa.expr.match.needsContext,Fa={children:!0,contents:!0,next:!0,prev:!0};fa.fn.extend({find:function(a){var b,c=[],d=this,e=d.length;if("string"!=typeof a)return this.pushStack(fa(a).filter(function(){for(b=0;e>b;b++)if(fa.contains(d[b],this))return!0}));for(b=0;e>b;b++)fa.find(a,d[b],c);return c=this.pushStack(e>1?fa.unique(c):c),c.selector=this.selector?this.selector+" "+a:a,c},has:function(a){var b=fa(a,this),c=b.length;return this.filter(function(){for(var a=0;c>a;a++)if(fa.contains(this,b[a]))return!0})},not:function(a){return this.pushStack(k(this,a||[],!0))},filter:function(a){return this.pushStack(k(this,a||[],!1))},is:function(a){return!!k(this,"string"==typeof a&&Ea.test(a)?fa(a):a||[],!1).length},closest:function(a,b){for(var c,d=0,e=this.length,f=[],g=Ea.test(a)||"string"!=typeof a?fa(a,b||this.context):0;e>d;d++)for(c=this[d];c&&c!==b;c=c.parentNode)if(11>c.nodeType&&(g?g.index(c)>-1:1===c.nodeType&&fa.find.matchesSelector(c,a))){c=f.push(c);break}return this.pushStack(f.length>1?fa.unique(f):f)},index:function(a){return a?"string"==typeof a?ba.call(fa(a),this[0]):ba.call(this,a.jquery?a[0]:a):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){var c="string"==typeof a?fa(a,b):fa.makeArray(a&&a.nodeType?[a]:a),d=fa.merge(this.get(),c);return this.pushStack(fa.unique(d))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}}),fa.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return fa.dir(a,"parentNode")},parentsUntil:function(a,b,c){return fa.dir(a,"parentNode",c)},next:function(a){return j(a,"nextSibling")},prev:function(a){return j(a,"previousSibling")},nextAll:function(a){return fa.dir(a,"nextSibling")},prevAll:function(a){return fa.dir(a,"previousSibling")},nextUntil:function(a,b,c){return fa.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return fa.dir(a,"previousSibling",c)},siblings:function(a){return fa.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return fa.sibling(a.firstChild)},contents:function(a){return a.contentDocument||fa.merge([],a.childNodes)}},function(a,b){fa.fn[a]=function(c,d){var e=fa.map(this,b,c);return"Until"!==a.slice(-5)&&(d=c),d&&"string"==typeof d&&(e=fa.filter(d,e)),this.length>1&&(Fa[a]||fa.unique(e),Da.test(a)&&e.reverse()),this.pushStack(e)}}),fa.extend({filter:function(a,b,c){var d=b[0];return c&&(a=":not("+a+")"),1===b.length&&1===d.nodeType?fa.find.matchesSelector(d,a)?[d]:[]:fa.find.matches(a,fa.grep(b,function(a){return 1===a.nodeType}))},dir:function(a,c,d){for(var e=[],f=d!==b;(a=a[c])&&9!==a.nodeType;)if(1===a.nodeType){if(f&&fa(a).is(d))break;e.push(a)}return e},sibling:function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c}});var Ga=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Ha=/<([\w:]+)/,Ia=/<|&#?\w+;/,Ja=/<(?:script|style|link)/i,Ka=/^(?:checkbox|radio)$/i,La=/checked\s*(?:[^=]|=\s*.checked.)/i,Ma=/^$|\/(?:java|ecma)script/i,Na=/^true\/(.*)/,Oa=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Pa={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Pa.optgroup=Pa.option,Pa.tbody=Pa.tfoot=Pa.colgroup=Pa.caption=Pa.thead,Pa.th=Pa.td,fa.fn.extend({text:function(a){return fa.access(this,function(a){return a===b?fa.text(this):this.empty().append((this[0]&&this[0].ownerDocument||T).createTextNode(a))},null,a,arguments.length)},append:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=l(this,a);b.appendChild(a)}})},prepend:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=l(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},remove:function(a,b){for(var c,d=a?fa.filter(a,this):this,e=0;null!=(c=d[e]);e++)b||1!==c.nodeType||fa.cleanData(q(c)),c.parentNode&&(b&&fa.contains(c.ownerDocument,c)&&o(q(c,"script")),c.parentNode.removeChild(c));return this},empty:function(){for(var a,b=0;null!=(a=this[b]);b++)1===a.nodeType&&(fa.cleanData(q(a,!1)),a.textContent="");return this},clone:function(a,b){return a=null!=a&&a,b=null==b?a:b,this.map(function(){return fa.clone(this,a,b)})},html:function(a){return fa.access(this,function(a){var c=this[0]||{},d=0,e=this.length;if(a===b&&1===c.nodeType)return c.innerHTML;if("string"==typeof a&&!Ja.test(a)&&!Pa[(Ha.exec(a)||["",""])[1].toLowerCase()]){a=a.replace(Ga,"<$1></$2>");try{for(;e>d;d++)c=this[d]||{},1===c.nodeType&&(fa.cleanData(q(c,!1)),c.innerHTML=a);c=0}catch(a){}}c&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=fa.map(this,function(a){return[a.nextSibling,a.parentNode]}),b=0;return this.domManip(arguments,function(c){var d=a[b++],e=a[b++];e&&(d&&d.parentNode!==e&&(d=this.nextSibling),fa(this).remove(),e.insertBefore(c,d))},!0),b?this:this.remove()},detach:function(a){return this.remove(a,!0)},domManip:function(a,b,c){a=$.apply([],a);var d,e,f,g,h,i,j=0,k=this.length,l=this,o=k-1,p=a[0],r=fa.isFunction(p);if(r||!(1>=k||"string"!=typeof p||fa.support.checkClone)&&La.test(p))return this.each(function(d){var e=l.eq(d);r&&(a[0]=p.call(this,d,e.html())),e.domManip(a,b,c)});if(k&&(d=fa.buildFragment(a,this[0].ownerDocument,!1,!c&&this),e=d.firstChild,1===d.childNodes.length&&(d=e),e)){for(f=fa.map(q(d,"script"),m),g=f.length;k>j;j++)h=d,j!==o&&(h=fa.clone(h,!0,!0),g&&fa.merge(f,q(h,"script"))),b.call(this[j],h,j);if(g)for(i=f[f.length-1].ownerDocument,fa.map(f,n),j=0;g>j;j++)h=f[j],Ma.test(h.type||"")&&!qa.access(h,"globalEval")&&fa.contains(i,h)&&(h.src?fa._evalUrl(h.src):fa.globalEval(h.textContent.replace(Oa,"")))}return this}}),fa.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){fa.fn[a]=function(a){for(var c,d=[],e=fa(a),f=e.length-1,g=0;f>=g;g++)c=g===f?this:this.clone(!0),fa(e[g])[b](c),_.apply(d,c.get());return this.pushStack(d)}}),fa.extend({clone:function(a,b,c){var d,e,f,g,h=a.cloneNode(!0),i=fa.contains(a.ownerDocument,a);if(!(fa.support.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||fa.isXMLDoc(a)))for(g=q(h),f=q(a),d=0,e=f.length;e>d;d++)r(f[d],g[d]);if(b)if(c)for(f=f||q(a),g=g||q(h),d=0,e=f.length;e>d;d++)p(f[d],g[d]);else p(a,h);return g=q(h,"script"),g.length>0&&o(g,!i&&q(a,"script")),h},buildFragment:function(a,b,c,d){for(var e,f,g,h,i,j,k=0,l=a.length,m=b.createDocumentFragment(),n=[];l>k;k++)if(e=a[k],e||0===e)if("object"===fa.type(e))fa.merge(n,e.nodeType?[e]:e);else if(Ia.test(e)){for(f=f||m.appendChild(b.createElement("div")),g=(Ha.exec(e)||["",""])[1].toLowerCase(),h=Pa[g]||Pa._default,f.innerHTML=h[1]+e.replace(Ga,"<$1></$2>")+h[2],j=h[0];j--;)f=f.lastChild;fa.merge(n,f.childNodes),f=m.firstChild,f.textContent=""}else n.push(b.createTextNode(e));for(m.textContent="",k=0;e=n[k++];)if((!d||-1===fa.inArray(e,d))&&(i=fa.contains(e.ownerDocument,e),f=q(m.appendChild(e),"script"),i&&o(f),c))for(j=0;e=f[j++];)Ma.test(e.type||"")&&c.push(e);return m},cleanData:function(a){for(var c,d,f,g,h,i,j=fa.event.special,k=0;(d=a[k])!==b;k++){if(e.accepts(d)&&(h=d[qa.expando],h&&(c=qa.cache[h]))){if(f=Object.keys(c.events||{}),f.length)for(i=0;(g=f[i])!==b;i++)j[g]?fa.event.remove(d,g):fa.removeEvent(d,g,c.handle);qa.cache[h]&&delete qa.cache[h]}delete pa.cache[d[pa.expando]]}},_evalUrl:function(a){return fa.ajax({url:a,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})}}),fa.fn.extend({wrapAll:function(a){var b;return fa.isFunction(a)?this.each(function(b){fa(this).wrapAll(a.call(this,b))}):(this[0]&&(b=fa(a,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){for(var a=this;a.firstElementChild;)a=a.firstElementChild;return a}).append(this)),this)},wrapInner:function(a){return fa.isFunction(a)?this.each(function(b){fa(this).wrapInner(a.call(this,b))}):this.each(function(){var b=fa(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=fa.isFunction(a);return this.each(function(c){fa(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){fa.nodeName(this,"body")||fa(this).replaceWith(this.childNodes)}).end()}});var Qa,Ra,Sa=/^(none|table(?!-c[ea]).+)/,Ta=/^margin/,Ua=RegExp("^("+ga+")(.*)$","i"),Va=RegExp("^("+ga+")(?!px)[a-z%]+$","i"),Wa=RegExp("^([+-])=("+ga+")","i"),Xa={BODY:"block"},Ya={position:"absolute",visibility:"hidden",display:"block"},Za={letterSpacing:0,fontWeight:400},$a=["Top","Right","Bottom","Left"],_a=["Webkit","O","Moz","ms"];fa.fn.extend({css:function(a,c){return fa.access(this,function(a,c,d){var e,f,g={},h=0;if(fa.isArray(c)){for(e=u(a),f=c.length;f>h;h++)g[c[h]]=fa.css(a,c[h],!1,e);
return g}return d!==b?fa.style(a,c,d):fa.css(a,c)},a,c,arguments.length>1)},show:function(){return v(this,!0)},hide:function(){return v(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){t(this)?fa(this).show():fa(this).hide()})}}),fa.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=Qa(a,"opacity");return""===c?"1":c}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(a,c,d,e){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var f,g,h,i=fa.camelCase(c),j=a.style;return c=fa.cssProps[i]||(fa.cssProps[i]=s(j,i)),h=fa.cssHooks[c]||fa.cssHooks[i],d===b?h&&"get"in h&&(f=h.get(a,!1,e))!==b?f:j[c]:(g=typeof d,"string"===g&&(f=Wa.exec(d))&&(d=(f[1]+1)*f[2]+parseFloat(fa.css(a,c)),g="number"),null==d||"number"===g&&isNaN(d)||("number"!==g||fa.cssNumber[i]||(d+="px"),fa.support.clearCloneStyle||""!==d||0!==c.indexOf("background")||(j[c]="inherit"),h&&"set"in h&&(d=h.set(a,d,e))===b||(j[c]=d)),b)}},css:function(a,c,d,e){var f,g,h,i=fa.camelCase(c);return c=fa.cssProps[i]||(fa.cssProps[i]=s(a.style,i)),h=fa.cssHooks[c]||fa.cssHooks[i],h&&"get"in h&&(f=h.get(a,!0,d)),f===b&&(f=Qa(a,c,e)),"normal"===f&&c in Za&&(f=Za[c]),""===d||d?(g=parseFloat(f),d===!0||fa.isNumeric(g)?g||0:f):f}}),Qa=function(a,c,d){var e,f,g,h=d||u(a),i=h?h.getPropertyValue(c)||h[c]:b,j=a.style;return h&&(""!==i||fa.contains(a.ownerDocument,a)||(i=fa.style(a,c)),Va.test(i)&&Ta.test(c)&&(e=j.width,f=j.minWidth,g=j.maxWidth,j.minWidth=j.maxWidth=j.width=i,i=h.width,j.width=e,j.minWidth=f,j.maxWidth=g)),i},fa.each(["height","width"],function(a,c){fa.cssHooks[c]={get:function(a,d,e){return d?0===a.offsetWidth&&Sa.test(fa.css(a,"display"))?fa.swap(a,Ya,function(){return y(a,c,e)}):y(a,c,e):b},set:function(a,b,d){var e=d&&u(a);return w(a,b,d?x(a,c,d,fa.support.boxSizing&&"border-box"===fa.css(a,"boxSizing",!1,e),e):0)}}}),fa(function(){fa.support.reliableMarginRight||(fa.cssHooks.marginRight={get:function(a,c){return c?fa.swap(a,{display:"inline-block"},Qa,[a,"marginRight"]):b}}),!fa.support.pixelPosition&&fa.fn.position&&fa.each(["top","left"],function(a,c){fa.cssHooks[c]={get:function(a,d){return d?(d=Qa(a,c),Va.test(d)?fa(a).position()[c]+"px":d):b}}})}),fa.expr&&fa.expr.filters&&(fa.expr.filters.hidden=function(a){return 0>=a.offsetWidth&&0>=a.offsetHeight},fa.expr.filters.visible=function(a){return!fa.expr.filters.hidden(a)}),fa.each({margin:"",padding:"",border:"Width"},function(a,b){fa.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f="string"==typeof c?c.split(" "):[c];4>d;d++)e[a+$a[d]+b]=f[d]||f[d-2]||f[0];return e}},Ta.test(a)||(fa.cssHooks[a+b].set=w)});var ab=/%20/g,bb=/\[\]$/,cb=/\r?\n/g,db=/^(?:submit|button|image|reset|file)$/i,eb=/^(?:input|select|textarea|keygen)/i;fa.fn.extend({serialize:function(){return fa.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=fa.prop(this,"elements");return a?fa.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!fa(this).is(":disabled")&&eb.test(this.nodeName)&&!db.test(a)&&(this.checked||!Ka.test(a))}).map(function(a,b){var c=fa(this).val();return null==c?null:fa.isArray(c)?fa.map(c,function(a){return{name:b.name,value:a.replace(cb,"\r\n")}}):{name:b.name,value:c.replace(cb,"\r\n")}}).get()}}),fa.param=function(a,c){var d,e=[],f=function(a,b){b=fa.isFunction(b)?b():null==b?"":b,e[e.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};if(c===b&&(c=fa.ajaxSettings&&fa.ajaxSettings.traditional),fa.isArray(a)||a.jquery&&!fa.isPlainObject(a))fa.each(a,function(){f(this.name,this.value)});else for(d in a)B(d,a[d],c,f);return e.join("&").replace(ab,"+")},fa.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){fa.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}}),fa.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)}});var fb,gb,hb=fa.now(),ib=/\?/,jb=/#.*$/,kb=/([?&])_=[^&]*/,lb=/^(.*?):[ \t]*([^\r\n]*)$/gm,mb=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,nb=/^(?:GET|HEAD)$/,ob=/^\/\//,pb=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,qb=fa.fn.load,rb={},sb={},tb="*/".concat("*");try{gb=S.href}catch(a){gb=T.createElement("a"),gb.href="",gb=gb.href}fb=pb.exec(gb.toLowerCase())||[],fa.fn.load=function(a,c,d){if("string"!=typeof a&&qb)return qb.apply(this,arguments);var e,f,g,h=this,i=a.indexOf(" ");return i>=0&&(e=a.slice(i),a=a.slice(0,i)),fa.isFunction(c)?(d=c,c=b):c&&"object"==typeof c&&(f="POST"),h.length>0&&fa.ajax({url:a,type:f,dataType:"html",data:c}).done(function(a){g=arguments,h.html(e?fa("<div>").append(fa.parseHTML(a)).find(e):a)}).complete(d&&function(a,b){h.each(d,g||[a.responseText,b,a])}),this},fa.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,b){fa.fn[b]=function(a){return this.on(b,a)}}),fa.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:gb,type:"GET",isLocal:mb.test(fb[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":tb,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":fa.parseJSON,"text xml":fa.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?E(E(a,fa.ajaxSettings),b):E(fa.ajaxSettings,a)},ajaxPrefilter:C(rb),ajaxTransport:C(sb),ajax:function(a,c){function d(a,c,d,h){var j,l,s,t,v,x=c;2!==u&&(u=2,i&&clearTimeout(i),e=b,g=h||"",w.readyState=a>0?4:0,j=a>=200&&300>a||304===a,d&&(t=F(m,w,d)),t=G(m,t,w,j),j?(m.ifModified&&(v=w.getResponseHeader("Last-Modified"),v&&(fa.lastModified[f]=v),v=w.getResponseHeader("etag"),v&&(fa.etag[f]=v)),204===a||"HEAD"===m.type?x="nocontent":304===a?x="notmodified":(x=t.state,l=t.data,s=t.error,j=!s)):(s=x,(a||!x)&&(x="error",0>a&&(a=0))),w.status=a,w.statusText=(c||x)+"",j?p.resolveWith(n,[l,x,w]):p.rejectWith(n,[w,x,s]),w.statusCode(r),r=b,k&&o.trigger(j?"ajaxSuccess":"ajaxError",[w,m,j?l:s]),q.fireWith(n,[w,x]),k&&(o.trigger("ajaxComplete",[w,m]),--fa.active||fa.event.trigger("ajaxStop")))}"object"==typeof a&&(c=a,a=b),c=c||{};var e,f,g,h,i,j,k,l,m=fa.ajaxSetup({},c),n=m.context||m,o=m.context&&(n.nodeType||n.jquery)?fa(n):fa.event,p=fa.Deferred(),q=fa.Callbacks("once memory"),r=m.statusCode||{},s={},t={},u=0,v="canceled",w={readyState:0,getResponseHeader:function(a){var b;if(2===u){if(!h)for(h={};b=lb.exec(g);)h[b[1].toLowerCase()]=b[2];b=h[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===u?g:null},setRequestHeader:function(a,b){var c=a.toLowerCase();return u||(a=t[c]=t[c]||a,s[a]=b),this},overrideMimeType:function(a){return u||(m.mimeType=a),this},statusCode:function(a){var b;if(a)if(2>u)for(b in a)r[b]=[r[b],a[b]];else w.always(a[w.status]);return this},abort:function(a){var b=a||v;return e&&e.abort(b),d(0,b),this}};if(p.promise(w).complete=q.add,w.success=w.done,w.error=w.fail,m.url=((a||m.url||gb)+"").replace(jb,"").replace(ob,fb[1]+"//"),m.type=c.method||c.type||m.method||m.type,m.dataTypes=fa.trim(m.dataType||"*").toLowerCase().match(ha)||[""],null==m.crossDomain&&(j=pb.exec(m.url.toLowerCase()),m.crossDomain=!(!j||j[1]===fb[1]&&j[2]===fb[2]&&(j[3]||("http:"===j[1]?"80":"443"))===(fb[3]||("http:"===fb[1]?"80":"443")))),m.data&&m.processData&&"string"!=typeof m.data&&(m.data=fa.param(m.data,m.traditional)),D(rb,m,c,w),2===u)return w;k=m.global,k&&0===fa.active++&&fa.event.trigger("ajaxStart"),m.type=m.type.toUpperCase(),m.hasContent=!nb.test(m.type),f=m.url,m.hasContent||(m.data&&(f=m.url+=(ib.test(f)?"&":"?")+m.data,delete m.data),m.cache===!1&&(m.url=kb.test(f)?f.replace(kb,"$1_="+hb++):f+(ib.test(f)?"&":"?")+"_="+hb++)),m.ifModified&&(fa.lastModified[f]&&w.setRequestHeader("If-Modified-Since",fa.lastModified[f]),fa.etag[f]&&w.setRequestHeader("If-None-Match",fa.etag[f])),(m.data&&m.hasContent&&m.contentType!==!1||c.contentType)&&w.setRequestHeader("Content-Type",m.contentType),w.setRequestHeader("Accept",m.dataTypes[0]&&m.accepts[m.dataTypes[0]]?m.accepts[m.dataTypes[0]]+("*"!==m.dataTypes[0]?", "+tb+"; q=0.01":""):m.accepts["*"]);for(l in m.headers)w.setRequestHeader(l,m.headers[l]);if(m.beforeSend&&(m.beforeSend.call(n,w,m)===!1||2===u))return w.abort();v="abort";for(l in{success:1,error:1,complete:1})w[l](m[l]);if(e=D(sb,m,c,w)){w.readyState=1,k&&o.trigger("ajaxSend",[w,m]),m.async&&m.timeout>0&&(i=setTimeout(function(){w.abort("timeout")},m.timeout));try{u=1,e.send(s,d)}catch(a){if(!(2>u))throw a;d(-1,a)}}else d(-1,"No Transport");return w},getJSON:function(a,b,c){return fa.get(a,b,c,"json")},getScript:function(a,c){return fa.get(a,b,c,"script")}}),fa.each(["get","post"],function(a,c){fa[c]=function(a,d,e,f){return fa.isFunction(d)&&(f=f||e,e=d,d=b),fa.ajax({url:a,type:c,dataType:f,data:d,success:e})}}),fa.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(a){return fa.globalEval(a),a}}}),fa.ajaxPrefilter("script",function(a){a.cache===b&&(a.cache=!1),a.crossDomain&&(a.type="GET")}),fa.ajaxTransport("script",function(a){if(a.crossDomain){var b,c;return{send:function(d,e){b=fa("<script>").prop({async:!0,charset:a.scriptCharset,src:a.url}).on("load error",c=function(a){b.remove(),c=null,a&&e("error"===a.type?404:200,a.type)}),T.head.appendChild(b[0])},abort:function(){c&&c()}}}});var ub=[],vb=/(=)\?(?=&|$)|\?\?/;fa.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=ub.pop()||fa.expando+"_"+hb++;return this[a]=!0,a}}),fa.ajaxPrefilter("json jsonp",function(c,d,e){var f,g,h,i=c.jsonp!==!1&&(vb.test(c.url)?"url":"string"==typeof c.data&&!(c.contentType||"").indexOf("application/x-www-form-urlencoded")&&vb.test(c.data)&&"data");return i||"jsonp"===c.dataTypes[0]?(f=c.jsonpCallback=fa.isFunction(c.jsonpCallback)?c.jsonpCallback():c.jsonpCallback,i?c[i]=c[i].replace(vb,"$1"+f):c.jsonp!==!1&&(c.url+=(ib.test(c.url)?"&":"?")+c.jsonp+"="+f),c.converters["script json"]=function(){return h||fa.error(f+" was not called"),h[0]},c.dataTypes[0]="json",g=a[f],a[f]=function(){h=arguments},e.always(function(){a[f]=g,c[f]&&(c.jsonpCallback=d.jsonpCallback,ub.push(f)),h&&fa.isFunction(g)&&g(h[0]),h=g=b}),"script"):b}),fa.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(a){}};var wb=fa.ajaxSettings.xhr(),xb={0:200,1223:204},yb=0,zb={};a.ActiveXObject&&fa(a).on("unload",function(){for(var a in zb)zb[a]();zb=b}),fa.support.cors=!!wb&&"withCredentials"in wb,fa.support.ajax=wb=!!wb,fa.ajaxTransport(function(a){var c;return fa.support.cors||wb&&!a.crossDomain?{send:function(d,e){var f,g,h=a.xhr();if(h.open(a.type,a.url,a.async,a.username,a.password),a.xhrFields)for(f in a.xhrFields)h[f]=a.xhrFields[f];a.mimeType&&h.overrideMimeType&&h.overrideMimeType(a.mimeType),a.crossDomain||d["X-Requested-With"]||(d["X-Requested-With"]="XMLHttpRequest");for(f in d)h.setRequestHeader(f,d[f]);c=function(a){return function(){c&&(delete zb[g],c=h.onload=h.onerror=null,"abort"===a?h.abort():"error"===a?e(h.status||404,h.statusText):e(xb[h.status]||h.status,h.statusText,"string"==typeof h.responseText?{text:h.responseText}:b,h.getAllResponseHeaders()))}},h.onload=c(),h.onerror=c("error"),c=zb[g=yb++]=c("abort"),h.send(a.hasContent&&a.data||null)},abort:function(){c&&c()}}:b});var Ab,Bb,Cb=/^(?:toggle|show|hide)$/,Db=RegExp("^(?:([+-])=|)("+ga+")([a-z%]*)$","i"),Eb=/queueHooks$/,Fb=[L],Gb={"*":[function(a,b){var c=this.createTween(a,b),d=c.cur(),e=Db.exec(b),f=e&&e[3]||(fa.cssNumber[a]?"":"px"),g=(fa.cssNumber[a]||"px"!==f&&+d)&&Db.exec(fa.css(c.elem,a)),h=1,i=20;if(g&&g[3]!==f){f=f||g[3],e=e||[],g=+d||1;do h=h||".5",g/=h,fa.style(c.elem,a,g+f);while(h!==(h=c.cur()/d)&&1!==h&&--i)}return e&&(g=c.start=+g||+d||0,c.unit=f,c.end=e[1]?g+(e[1]+1)*e[2]:+e[2]),c}]};fa.Animation=fa.extend(J,{tweener:function(a,b){fa.isFunction(a)?(b=a,a=["*"]):a=a.split(" ");for(var c,d=0,e=a.length;e>d;d++)c=a[d],Gb[c]=Gb[c]||[],Gb[c].unshift(b)},prefilter:function(a,b){b?Fb.unshift(a):Fb.push(a)}}),fa.Tween=M,M.prototype={constructor:M,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||"swing",this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(fa.cssNumber[c]?"":"px")},cur:function(){var a=M.propHooks[this.prop];return a&&a.get?a.get(this):M.propHooks._default.get(this)},run:function(a){var b,c=M.propHooks[this.prop];return this.pos=b=this.options.duration?fa.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):M.propHooks._default.set(this),this}},M.prototype.init.prototype=M.prototype,M.propHooks={_default:{get:function(a){var b;return null==a.elem[a.prop]||a.elem.style&&null!=a.elem.style[a.prop]?(b=fa.css(a.elem,a.prop,""),b&&"auto"!==b?b:0):a.elem[a.prop]},set:function(a){fa.fx.step[a.prop]?fa.fx.step[a.prop](a):a.elem.style&&(null!=a.elem.style[fa.cssProps[a.prop]]||fa.cssHooks[a.prop])?fa.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}},M.propHooks.scrollTop=M.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},fa.each(["toggle","show","hide"],function(a,b){var c=fa.fn[b];fa.fn[b]=function(a,d,e){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.animate(N(b,!0),a,d,e)}}),fa.fn.extend({fadeTo:function(a,b,c,d){return this.filter(t).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=fa.isEmptyObject(a),f=fa.speed(b,c,d),g=function(){var b=J(this,fa.extend({},a),f);(e||qa.get(this,"finish"))&&b.stop(!0)};return g.finish=g,e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,c,d){var e=function(a){var b=a.stop;delete a.stop,b(d)};return"string"!=typeof a&&(d=c,c=a,a=b),c&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){var b=!0,c=null!=a&&a+"queueHooks",f=fa.timers,g=qa.get(this);if(c)g[c]&&g[c].stop&&e(g[c]);else for(c in g)g[c]&&g[c].stop&&Eb.test(c)&&e(g[c]);for(c=f.length;c--;)f[c].elem!==this||null!=a&&f[c].queue!==a||(f[c].anim.stop(d),b=!1,f.splice(c,1));(b||!d)&&fa.dequeue(this,a)})},finish:function(a){return a!==!1&&(a=a||"fx"),this.each(function(){var b,c=qa.get(this),d=c[a+"queue"],e=c[a+"queueHooks"],f=fa.timers,g=d?d.length:0;for(c.finish=!0,fa.queue(this,a,[]),e&&e.stop&&e.stop.call(this,!0),b=f.length;b--;)f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1));for(b=0;g>b;b++)d[b]&&d[b].finish&&d[b].finish.call(this);delete c.finish})}}),fa.each({slideDown:N("show"),slideUp:N("hide"),slideToggle:N("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){fa.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),fa.speed=function(a,b,c){var d=a&&"object"==typeof a?fa.extend({},a):{complete:c||!c&&b||fa.isFunction(a)&&a,duration:a,easing:c&&b||b&&!fa.isFunction(b)&&b};return d.duration=fa.fx.off?0:"number"==typeof d.duration?d.duration:d.duration in fa.fx.speeds?fa.fx.speeds[d.duration]:fa.fx.speeds._default,(null==d.queue||d.queue===!0)&&(d.queue="fx"),d.old=d.complete,d.complete=function(){fa.isFunction(d.old)&&d.old.call(this),d.queue&&fa.dequeue(this,d.queue)},d},fa.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2}},fa.timers=[],fa.fx=M.prototype.init,fa.fx.tick=function(){var a,c=fa.timers,d=0;for(Ab=fa.now();c.length>d;d++)a=c[d],a()||c[d]!==a||c.splice(d--,1);c.length||fa.fx.stop(),Ab=b},fa.fx.timer=function(a){a()&&fa.timers.push(a)&&fa.fx.start()},fa.fx.interval=13,fa.fx.start=function(){Bb||(Bb=setInterval(fa.fx.tick,fa.fx.interval))},fa.fx.stop=function(){clearInterval(Bb),Bb=null},fa.fx.speeds={slow:600,fast:200,_default:400},fa.fx.step={},fa.expr&&fa.expr.filters&&(fa.expr.filters.animated=function(a){return fa.grep(fa.timers,function(b){return a===b.elem}).length}),fa.fn.offset=function(a){if(arguments.length)return a===b?this:this.each(function(b){fa.offset.setOffset(this,a,b)});var c,d,e=this[0],f={top:0,left:0},g=e&&e.ownerDocument;return g?(c=g.documentElement,fa.contains(c,e)?(typeof e.getBoundingClientRect!==R&&(f=e.getBoundingClientRect()),d=O(g),{top:f.top+d.pageYOffset-c.clientTop,left:f.left+d.pageXOffset-c.clientLeft}):f):void 0},fa.offset={setOffset:function(a,b,c){var d,e,f,g,h,i,j,k=fa.css(a,"position"),l=fa(a),m={};"static"===k&&(a.style.position="relative"),h=l.offset(),f=fa.css(a,"top"),i=fa.css(a,"left"),j=("absolute"===k||"fixed"===k)&&(f+i).indexOf("auto")>-1,j?(d=l.position(),g=d.top,e=d.left):(g=parseFloat(f)||0,e=parseFloat(i)||0),fa.isFunction(b)&&(b=b.call(a,c,h)),null!=b.top&&(m.top=b.top-h.top+g),null!=b.left&&(m.left=b.left-h.left+e),"using"in b?b.using.call(a,m):l.css(m)}},fa.fn.extend({position:function(){if(this[0]){var a,b,c=this[0],d={top:0,left:0};return"fixed"===fa.css(c,"position")?b=c.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),fa.nodeName(a[0],"html")||(d=a.offset()),d.top+=fa.css(a[0],"borderTopWidth",!0),d.left+=fa.css(a[0],"borderLeftWidth",!0)),{top:b.top-d.top-fa.css(c,"marginTop",!0),left:b.left-d.left-fa.css(c,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||U;a&&!fa.nodeName(a,"html")&&"static"===fa.css(a,"position");)a=a.offsetParent;return a||U})}}),fa.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(c,d){var e="pageYOffset"===d;fa.fn[c]=function(f){return fa.access(this,function(c,f,g){var h=O(c);return g===b?h?h[d]:c[f]:(h?h.scrollTo(e?a.pageXOffset:g,e?g:a.pageYOffset):c[f]=g,b)},c,f,arguments.length,null)}}),fa.each({Height:"height",Width:"width"},function(a,c){fa.each({padding:"inner"+a,content:c,"":"outer"+a},function(d,e){fa.fn[e]=function(e,f){var g=arguments.length&&(d||"boolean"!=typeof e),h=d||(e===!0||f===!0?"margin":"border");return fa.access(this,function(c,d,e){var f;return fa.isWindow(c)?c.document.documentElement["client"+a]:9===c.nodeType?(f=c.documentElement,Math.max(c.body["scroll"+a],f["scroll"+a],c.body["offset"+a],f["offset"+a],f["client"+a])):e===b?fa.css(c,d,h):fa.style(c,d,e,h)},c,g?e:b,g,null)}})}),fa.fn.size=function(){return this.length},fa.fn.andSelf=fa.fn.addBack,"object"==typeof module&&module&&"object"==typeof module.exports?module.exports=fa:"function"==typeof define&&define.amd&&define("jquery",[],function(){return fa}),"object"==typeof a&&"object"==typeof a.document&&(a.jQuery=a.$=fa)}(window),function(a){a.fn.dcAccordion=function(b){var c={classParent:"dcjq-parent",classActive:"active",classArrow:"dcjq-icon",classCount:"dcjq-count",classExpand:"dcjq-current-parent",eventType:"click",hoverDelay:300,menuClose:!0,autoClose:!0,autoExpand:!1,speed:"slow",saveState:!0,disableLink:!0,showCount:!1},b=a.extend(c,b);this.each(function(b){function d(){$arrow='<span class="'+c.classArrow+'"></span>';var b=c.classParent+"-li";a("> ul",k).show(),a("li",k).each(function(){a("> ul",this).length>0&&(a(this).addClass(b),a("> a",this).addClass(c.classParent).append($arrow))}),a("> ul",k).hide(),1==c.showCount&&a("li."+b,k).each(function(){if(1==c.disableLink)var b=parseInt(a("ul a:not(."+c.classParent+")",this).length);else var b=parseInt(a("ul a",this).length);a("> a",this).append(' <span class="'+c.classCount+'">'+b+"</span>")})}function e(){$activeLi=a(this).parent("li"),$parentsLi=$activeLi.parents("li"),$parentsUl=$activeLi.parents("ul"),1==c.autoClose&&i($parentsLi,$parentsUl),a("> ul",$activeLi).is(":visible")?(a("ul",$activeLi).slideUp(c.speed),a("a",$activeLi).removeClass(c.classActive)):(a(this).siblings("ul").slideToggle(c.speed),a("> a",$activeLi).addClass(c.classActive)),1==c.saveState&&createCookie(c.cookie,k)}function f(){}function g(){}function h(){1==c.menuClose&&(a("ul",k).slideUp(c.speed),a("a",k).removeClass(c.classActive),createCookie(c.cookie,k))}function i(b,d){a("ul",k).not(d).slideUp(c.speed),a("a",k).removeClass(c.classActive),a("> a",b).addClass(c.classActive)}function j(){a("ul",k).hide(),$allActiveLi=a("a."+c.classActive,k),$allActiveLi.siblings("ul").show()}var k=this;if(d(),1==c.autoExpand&&a("li."+c.classExpand+" > a").addClass(c.classActive),j(),"hover"==c.eventType){var l={sensitivity:2,interval:c.hoverDelay,over:e,timeout:c.hoverDelay,out:f};a("li a",k).hoverIntent(l);var m={sensitivity:2,interval:1e3,over:g,timeout:1e3,out:h};a(k).hoverIntent(m),1==c.disableLink&&a("li a",k).click(function(b){a(this).siblings("ul").length>0&&b.preventDefault()})}else a("li a",k).click(function(b){$activeLi=a(this).parent("li"),$parentsLi=$activeLi.parents("li"),$parentsUl=$activeLi.parents("ul"),1==c.disableLink&&a(this).siblings("ul").length>0&&b.preventDefault(),1==c.autoClose&&i($parentsLi,$parentsUl),a("> ul",$activeLi).is(":visible")?(a("ul",$activeLi).slideUp(c.speed),a("a",$activeLi).removeClass(c.classActive)):(a(this).siblings("ul").slideToggle(c.speed),a("> a",$activeLi).addClass(c.classActive))})})}}(jQuery),function(b){var c=!1,d=!1,e=5e3,f=2e3,g=0,h=function(){var a=document.getElementsByTagName("script"),a=a[a.length-1].src.split("?")[0];return 0<a.split("/").length?a.split("/").slice(0,-1).join("/")+"/":""}(),i=["ms","moz","webkit","o"],j=window.requestAnimationFrame||!1,k=window.cancelAnimationFrame||!1;if(!j)for(var l in i){var m=i[l];j||(j=window[m+"RequestAnimationFrame"]),k||(k=window[m+"CancelAnimationFrame"]||window[m+"CancelRequestAnimationFrame"])}var n=window.MutationObserver||window.WebKitMutationObserver||!1,o={zindex:"auto",cursoropacitymin:0,cursoropacitymax:1,cursorcolor:"#424242",cursorwidth:"5px",cursorborder:"1px solid #fff",cursorborderradius:"5px",scrollspeed:60,mousescrollstep:24,touchbehavior:!1,hwacceleration:!0,usetransition:!0,boxzoom:!1,dblclickzoom:!0,gesturezoom:!0,grabcursorenabled:!0,autohidemode:!0,background:"",iframeautoresize:!0,cursorminheight:32,preservenativescrolling:!0,railoffset:!1,bouncescroll:!0,spacebarenabled:!0,railpadding:{top:0,right:0,left:0,bottom:0},disableoutline:!0,horizrailenabled:!0,railalign:"right",railvalign:"bottom",enabletranslate3d:!0,enablemousewheel:!0,enablekeyboard:!0,smoothscroll:!0,sensitiverail:!0,enablemouselockapi:!0,cursorfixedheight:!1,directionlockdeadzone:6,hidecursordelay:400,nativeparentscrolling:!0,enablescrollonselection:!0,overflowx:!0,overflowy:!0,cursordragspeed:.3,rtlmode:!1,cursordragontouch:!1,oneaxismousemode:"auto"},p=!1,q=function(){if(p)return p;var a=document.createElement("DIV"),b={haspointerlock:"pointerLockElement"in document||"mozPointerLockElement"in document||"webkitPointerLockElement"in document};b.isopera="opera"in window,b.isopera12=b.isopera&&"getUserMedia"in navigator,b.isoperamini="[object OperaMini]"===Object.prototype.toString.call(window.operamini),b.isie="all"in document&&"attachEvent"in a&&!b.isopera,b.isieold=b.isie&&!("msInterpolationMode"in a.style),b.isie7=b.isie&&!b.isieold&&(!("documentMode"in document)||7==document.documentMode),b.isie8=b.isie&&"documentMode"in document&&8==document.documentMode,b.isie9=b.isie&&"performance"in window&&9<=document.documentMode,b.isie10=b.isie&&"performance"in window&&10<=document.documentMode,b.isie9mobile=/iemobile.9/i.test(navigator.userAgent),b.isie9mobile&&(b.isie9=!1),b.isie7mobile=!b.isie9mobile&&b.isie7&&/iemobile/i.test(navigator.userAgent),b.ismozilla="MozAppearance"in a.style,b.iswebkit="WebkitAppearance"in a.style,b.ischrome="chrome"in window,b.ischrome22=b.ischrome&&b.haspointerlock,b.ischrome26=b.ischrome&&"transition"in a.style,b.cantouch="ontouchstart"in document.documentElement||"ontouchstart"in window,b.hasmstouch=window.navigator.msPointerEnabled||!1,b.ismac=/^mac$/i.test(navigator.platform),b.isios=b.cantouch&&/iphone|ipad|ipod/i.test(navigator.platform),b.isios4=b.isios&&!("seal"in Object),b.isandroid=/android/i.test(navigator.userAgent),b.trstyle=!1,b.hastransform=!1,b.hastranslate3d=!1,b.transitionstyle=!1,b.hastransition=!1,b.transitionend=!1;for(var c=["transform","msTransform","webkitTransform","MozTransform","OTransform"],d=0;d<c.length;d++)if("undefined"!=typeof a.style[c[d]]){b.trstyle=c[d];break}b.hastransform=0!=b.trstyle,b.hastransform&&(a.style[b.trstyle]="translate3d(1px,2px,3px)",b.hastranslate3d=/translate3d/.test(a.style[b.trstyle])),b.transitionstyle=!1,b.prefixstyle="",b.transitionend=!1;for(var c="transition webkitTransition MozTransition OTransition OTransition msTransition KhtmlTransition".split(" "),e=" -webkit- -moz- -o- -o -ms- -khtml-".split(" "),f="transitionend webkitTransitionEnd transitionend otransitionend oTransitionEnd msTransitionEnd KhtmlTransitionEnd".split(" "),d=0;d<c.length;d++)if(c[d]in a.style){b.transitionstyle=c[d],b.prefixstyle=e[d],b.transitionend=f[d];break}b.ischrome26&&(b.prefixstyle=e[1]),b.hastransition=b.transitionstyle;a:{for(c=["-moz-grab","-webkit-grab","grab"],(b.ischrome&&!b.ischrome22||b.isie)&&(c=[]),d=0;d<c.length;d++)if(e=c[d],a.style.cursor=e,a.style.cursor==e){c=e;break a}c="url(http://www.google.com/intl/en_ALL/mapfiles/openhand.cur),n-resize"}return b.cursorgrabvalue=c,b.hasmousecapture="setCapture"in a,b.hasMutationObserver=!1!==n,p=b},r=function(a,i){function l(){var a=t.win;if("zIndex"in a)return a.zIndex();for(;0<a.length&&9!=a[0].nodeType;){var b=a.css("zIndex");if(!isNaN(b)&&0!=b)return parseInt(b);a=a.parent()}return!1}function m(a,b,c){return b=a.css(b),a=parseFloat(b),isNaN(a)?(a=x[b]||0,c=3==a?c?t.win.outerHeight()-t.win.innerHeight():t.win.outerWidth()-t.win.innerWidth():1,t.isie8&&a&&(a+=1),c?a:0):a}function p(a,b,c,d){t._bind(a,b,function(d){d=d?d:window.event;var e={original:d,target:d.target||d.srcElement,type:"wheel",deltaMode:"MozMousePixelScroll"==d.type?0:1,deltaX:0,deltaZ:0,preventDefault:function(){return d.preventDefault?d.preventDefault():d.returnValue=!1,!1},stopImmediatePropagation:function(){d.stopImmediatePropagation?d.stopImmediatePropagation():d.cancelBubble=!0}};return"mousewheel"==b?(e.deltaY=-.025*d.wheelDelta,d.wheelDeltaX&&(e.deltaX=-.025*d.wheelDeltaX)):e.deltaY=d.detail,c.call(a,e)},d)}function r(a,b,c){var d,e;if(0==a.deltaMode?(d=-Math.floor(a.deltaX*(t.opt.mousescrollstep/54)),e=-Math.floor(a.deltaY*(t.opt.mousescrollstep/54))):1==a.deltaMode&&(d=-Math.floor(a.deltaX*t.opt.mousescrollstep),e=-Math.floor(a.deltaY*t.opt.mousescrollstep)),b&&t.opt.oneaxismousemode&&0==d&&e&&(d=e,e=0),d&&(t.scrollmom&&t.scrollmom.stop(),t.lastdeltax+=d,t.debounced("mousewheelx",function(){var a=t.lastdeltax;t.lastdeltax=0,t.rail.drag||t.doScrollLeftBy(a)},120)),e){if(t.opt.nativeparentscrolling&&c&&!t.ispage&&!t.zoomactive)if(0>e){if(t.getScrollTop()>=t.page.maxh)return!0}else if(0>=t.getScrollTop())return!0;t.scrollmom&&t.scrollmom.stop(),t.lastdeltay+=e,t.debounced("mousewheely",function(){var a=t.lastdeltay;t.lastdeltay=0,t.rail.drag||t.doScrollBy(a)},120)}return a.stopImmediatePropagation(),a.preventDefault()}var t=this;if(this.version="3.5.0",this.name="nicescroll",this.me=i,this.opt={doc:b("body"),win:!1},b.extend(this.opt,o),this.opt.snapbackspeed=80,a)for(var u in t.opt)"undefined"!=typeof a[u]&&(t.opt[u]=a[u]);this.iddoc=(this.doc=t.opt.doc)&&this.doc[0]?this.doc[0].id||"":"",this.ispage=/BODY|HTML/.test(t.opt.win?t.opt.win[0].nodeName:this.doc[0].nodeName),this.haswrapper=!1!==t.opt.win,this.win=t.opt.win||(this.ispage?b(window):this.doc),this.docscroll=this.ispage&&!this.haswrapper?b(window):this.win,this.body=b("body"),this.iframe=this.isfixed=this.viewport=!1,this.isiframe="IFRAME"==this.doc[0].nodeName&&"IFRAME"==this.win[0].nodeName,this.istextarea="TEXTAREA"==this.win[0].nodeName,this.forcescreen=!1,this.canshowonmouseevent="scroll"!=t.opt.autohidemode,this.page=this.view=this.onzoomout=this.onzoomin=this.onscrollcancel=this.onscrollend=this.onscrollstart=this.onclick=this.ongesturezoom=this.onkeypress=this.onmousewheel=this.onmousemove=this.onmouseup=this.onmousedown=!1,this.scroll={x:0,y:0},this.scrollratio={x:0,y:0},this.cursorheight=20,this.scrollvaluemax=0,this.observerremover=this.observer=this.scrollmom=this.scrollrunning=this.checkrtlmode=!1;do this.id="ascrail"+f++;while(document.getElementById(this.id));this.hasmousefocus=this.hasfocus=this.zoomactive=this.zoom=this.selectiondrag=this.cursorfreezed=this.cursor=this.rail=!1,this.visibility=!0,this.hidden=this.locked=!1,this.cursoractive=!0,this.overflowx=t.opt.overflowx,this.overflowy=t.opt.overflowy,this.nativescrollingarea=!1,this.checkarea=0,this.events=[],this.saved={},this.delaylist={},this.synclist={},this.lastdeltay=this.lastdeltax=0,this.detected=q();var v=b.extend({},this.detected);if(this.ishwscroll=(this.canhwscroll=v.hastransform&&t.opt.hwacceleration)&&t.haswrapper,this.istouchcapable=!1,v.cantouch&&v.ischrome&&!v.isios&&!v.isandroid&&(this.istouchcapable=!0,v.cantouch=!1),v.cantouch&&v.ismozilla&&!v.isios&&!v.isandroid&&(this.istouchcapable=!0,v.cantouch=!1),t.opt.enablemouselockapi||(v.hasmousecapture=!1,v.haspointerlock=!1),this.delayed=function(a,b,c,d){var e=t.delaylist[a],f=(new Date).getTime();return!(!d&&e&&e.tt)&&(e&&e.tt&&clearTimeout(e.tt),void(e&&e.last+c>f&&!e.tt?t.delaylist[a]={last:f+c,tt:setTimeout(function(){t.delaylist[a].tt=0,b.call()},c)}:e&&e.tt||(t.delaylist[a]={last:f,tt:0},setTimeout(function(){b.call()},0))))},this.debounced=function(a,b,c){var d=t.delaylist[a];(new Date).getTime(),t.delaylist[a]=b,d||setTimeout(function(){var b=t.delaylist[a];t.delaylist[a]=!1,b.call()},c)},this.synched=function(a,b){return t.synclist[a]=b,function(){t.onsync||(j(function(){t.onsync=!1;for(a in t.synclist){var b=t.synclist[a];b&&b.call(t),t.synclist[a]=!1}}),t.onsync=!0)}(),a},this.unsynched=function(a){t.synclist[a]&&(t.synclist[a]=!1)},this.css=function(a,b){for(var c in b)t.saved.css.push([a,c,a.css(c)]),a.css(c,b[c])},this.scrollTop=function(a){return"undefined"==typeof a?t.getScrollTop():t.setScrollTop(a)},this.scrollLeft=function(a){return"undefined"==typeof a?t.getScrollLeft():t.setScrollLeft(a)},BezierClass=function(a,b,c,d,e,f,g){this.st=a,this.ed=b,this.spd=c,this.p1=d||0,this.p2=e||1,this.p3=f||0,this.p4=g||1,this.ts=(new Date).getTime(),this.df=this.ed-this.st},BezierClass.prototype={B2:function(a){return 3*a*a*(1-a)},B3:function(a){return 3*a*(1-a)*(1-a)},B4:function(a){return(1-a)*(1-a)*(1-a)},getNow:function(){var a=1-((new Date).getTime()-this.ts)/this.spd,b=this.B2(a)+this.B3(a)+this.B4(a);return 0>a?this.ed:this.st+Math.round(this.df*b)},update:function(a,b){return this.st=this.getNow(),this.ed=a,this.spd=b,this.ts=(new Date).getTime(),this.df=this.ed-this.st,this}},this.ishwscroll){this.doc.translate={x:0,y:0,tx:"0px",ty:"0px"},v.hastranslate3d&&v.isios&&this.doc.css("-webkit-backface-visibility","hidden");var w=function(){var a=t.doc.css(v.trstyle);return!(!a||"matrix"!=a.substr(0,6))&&a.replace(/^.*\((.*)\)$/g,"$1").replace(/px/g,"").split(/, +/)};this.getScrollTop=function(a){if(!a){if(a=w())return 16==a.length?-a[13]:-a[5];if(t.timerscroll&&t.timerscroll.bz)return t.timerscroll.bz.getNow()}return t.doc.translate.y},this.getScrollLeft=function(a){if(!a){if(a=w())return 16==a.length?-a[12]:-a[4];if(t.timerscroll&&t.timerscroll.bh)return t.timerscroll.bh.getNow()}return t.doc.translate.x},this.notifyScrollEvent=document.createEvent?function(a){var b=document.createEvent("UIEvents");b.initUIEvent("scroll",!1,!0,window,1),a.dispatchEvent(b)}:document.fireEvent?function(a){var b=document.createEventObject();a.fireEvent("onscroll"),
b.cancelBubble=!0}:function(a,b){},v.hastranslate3d&&t.opt.enabletranslate3d?(this.setScrollTop=function(a,b){t.doc.translate.y=a,t.doc.translate.ty=-1*a+"px",t.doc.css(v.trstyle,"translate3d("+t.doc.translate.tx+","+t.doc.translate.ty+",0px)"),b||t.notifyScrollEvent(t.win[0])},this.setScrollLeft=function(a,b){t.doc.translate.x=a,t.doc.translate.tx=-1*a+"px",t.doc.css(v.trstyle,"translate3d("+t.doc.translate.tx+","+t.doc.translate.ty+",0px)"),b||t.notifyScrollEvent(t.win[0])}):(this.setScrollTop=function(a,b){t.doc.translate.y=a,t.doc.translate.ty=-1*a+"px",t.doc.css(v.trstyle,"translate("+t.doc.translate.tx+","+t.doc.translate.ty+")"),b||t.notifyScrollEvent(t.win[0])},this.setScrollLeft=function(a,b){t.doc.translate.x=a,t.doc.translate.tx=-1*a+"px",t.doc.css(v.trstyle,"translate("+t.doc.translate.tx+","+t.doc.translate.ty+")"),b||t.notifyScrollEvent(t.win[0])})}else this.getScrollTop=function(){return t.docscroll.scrollTop()},this.setScrollTop=function(a){return t.docscroll.scrollTop(a)},this.getScrollLeft=function(){return t.docscroll.scrollLeft()},this.setScrollLeft=function(a){return t.docscroll.scrollLeft(a)};this.getTarget=function(a){return!!a&&(a.target?a.target:!!a.srcElement&&a.srcElement)},this.hasParent=function(a,b){if(!a)return!1;for(var c=a.target||a.srcElement||a||!1;c&&c.id!=b;)c=c.parentNode||!1;return!1!==c};var x={thin:1,medium:3,thick:5};this.getOffset=function(){if(t.isfixed)return{top:parseFloat(t.win.css("top")),left:parseFloat(t.win.css("left"))};if(!t.viewport)return t.win.offset();var a=t.win.offset(),b=t.viewport.offset();return{top:a.top-b.top+t.viewport.scrollTop(),left:a.left-b.left+t.viewport.scrollLeft()}},this.updateScrollBar=function(a){if(t.ishwscroll)t.rail.css({height:t.win.innerHeight()}),t.railh&&t.railh.css({width:t.win.innerWidth()});else{var b=t.getOffset(),c=b.top,d=b.left,c=c+m(t.win,"border-top-width",!0);t.win.outerWidth(),t.win.innerWidth();var d=d+(t.rail.align?t.win.outerWidth()-m(t.win,"border-right-width")-t.rail.width:m(t.win,"border-left-width")),e=t.opt.railoffset;e&&(e.top&&(c+=e.top),t.rail.align&&e.left&&(d+=e.left)),t.locked||t.rail.css({top:c,left:d,height:a?a.h:t.win.innerHeight()}),t.zoom&&t.zoom.css({top:c+1,left:1==t.rail.align?d-20:d+t.rail.width+4}),t.railh&&!t.locked&&(c=b.top,d=b.left,a=t.railh.align?c+m(t.win,"border-top-width",!0)+t.win.innerHeight()-t.railh.height:c+m(t.win,"border-top-width",!0),d+=m(t.win,"border-left-width"),t.railh.css({top:a,left:d,width:t.railh.width}))}},this.doRailClick=function(a,b,c){var d;t.locked||(t.cancelEvent(a),b?(b=c?t.doScrollLeft:t.doScrollTop,d=c?(a.pageX-t.railh.offset().left-t.cursorwidth/2)*t.scrollratio.x:(a.pageY-t.rail.offset().top-t.cursorheight/2)*t.scrollratio.y,b(d)):(b=c?t.doScrollLeftBy:t.doScrollBy,d=c?t.scroll.x:t.scroll.y,a=c?a.pageX-t.railh.offset().left:a.pageY-t.rail.offset().top,c=c?t.view.w:t.view.h,b(d>=a?c:-c)))},t.hasanimationframe=j,t.hascancelanimationframe=k,t.hasanimationframe?t.hascancelanimationframe||(k=function(){t.cancelAnimationFrame=!0}):(j=function(a){return setTimeout(a,15-Math.floor(+new Date/1e3)%16)},k=clearInterval),this.init=function(){if(t.saved.css=[],v.isie7mobile||v.isoperamini)return!0;if(v.hasmstouch&&t.css(t.ispage?b("html"):t.win,{"-ms-touch-action":"none"}),t.zindex="auto",t.zindex=t.ispage||"auto"!=t.opt.zindex?t.opt.zindex:l()||"auto",!t.ispage&&"auto"!=t.zindex&&t.zindex>g&&(g=t.zindex),t.isie&&0==t.zindex&&"auto"==t.opt.zindex&&(t.zindex="auto"),!t.ispage||!v.cantouch&&!v.isieold&&!v.isie9mobile){var a=t.docscroll;t.ispage&&(a=t.haswrapper?t.win:t.doc),v.isie9mobile||t.css(a,{"overflow-y":"hidden"}),t.ispage&&v.isie7&&("BODY"==t.doc[0].nodeName?t.css(b("html"),{"overflow-y":"hidden"}):"HTML"==t.doc[0].nodeName&&t.css(b("body"),{"overflow-y":"hidden"})),v.isios&&!t.ispage&&!t.haswrapper&&t.css(b("body"),{"-webkit-overflow-scrolling":"touch"});var f=b(document.createElement("div"));f.css({position:"relative",top:0,float:"right",width:t.opt.cursorwidth,height:"0px","background-color":t.opt.cursorcolor,border:t.opt.cursorborder,"background-clip":"padding-box","-webkit-border-radius":t.opt.cursorborderradius,"-moz-border-radius":t.opt.cursorborderradius,"border-radius":t.opt.cursorborderradius}),f.hborder=parseFloat(f.outerHeight()-f.innerHeight()),t.cursor=f;var i=b(document.createElement("div"));i.attr("id",t.id),i.addClass("nicescroll-rails");var j,k,m,o=["left","right"];for(m in o)k=o[m],(j=t.opt.railpadding[k])?i.css("padding-"+k,j+"px"):t.opt.railpadding[k]=0;if(i.append(f),i.width=Math.max(parseFloat(t.opt.cursorwidth),f.outerWidth())+t.opt.railpadding.left+t.opt.railpadding.right,i.css({width:i.width+"px",zIndex:t.zindex,background:t.opt.background,cursor:"default"}),i.visibility=!0,i.scrollable=!0,i.align="left"==t.opt.railalign?0:1,t.rail=i,f=t.rail.drag=!1,t.opt.boxzoom&&!t.ispage&&!v.isieold&&(f=document.createElement("div"),t.bind(f,"click",t.doZoom),t.zoom=b(f),t.zoom.css({cursor:"pointer","z-index":t.zindex,backgroundImage:"url("+h+"zoomico.png)",height:18,width:18,backgroundPosition:"0px 0px"}),t.opt.dblclickzoom&&t.bind(t.win,"dblclick",t.doZoom),v.cantouch&&t.opt.gesturezoom&&(t.ongesturezoom=function(a){return 1.5<a.scale&&t.doZoomIn(a),.8>a.scale&&t.doZoomOut(a),t.cancelEvent(a)},t.bind(t.win,"gestureend",t.ongesturezoom))),t.railh=!1,t.opt.horizrailenabled){t.css(a,{"overflow-x":"hidden"}),f=b(document.createElement("div")),f.css({position:"relative",top:0,height:t.opt.cursorwidth,width:"0px","background-color":t.opt.cursorcolor,border:t.opt.cursorborder,"background-clip":"padding-box","-webkit-border-radius":t.opt.cursorborderradius,"-moz-border-radius":t.opt.cursorborderradius,"border-radius":t.opt.cursorborderradius}),f.wborder=parseFloat(f.outerWidth()-f.innerWidth()),t.cursorh=f;var p=b(document.createElement("div"));p.attr("id",t.id+"-hr"),p.addClass("nicescroll-rails"),p.height=Math.max(parseFloat(t.opt.cursorwidth),f.outerHeight()),p.css({height:p.height+"px",zIndex:t.zindex,background:t.opt.background}),p.append(f),p.visibility=!0,p.scrollable=!0,p.align="top"==t.opt.railvalign?0:1,t.railh=p,t.railh.drag=!1}if(t.ispage?(i.css({position:"fixed",top:"0px",height:"100%"}),i.align?i.css({right:"0px"}):i.css({left:"0px"}),t.body.append(i),t.railh&&(p.css({position:"fixed",left:"0px",width:"100%"}),p.align?p.css({bottom:"0px"}):p.css({top:"0px"}),t.body.append(p))):(t.ishwscroll?("static"==t.win.css("position")&&t.css(t.win,{position:"relative"}),a="HTML"==t.win[0].nodeName?t.body:t.win,t.zoom&&(t.zoom.css({position:"absolute",top:1,right:0,"margin-right":i.width+4}),a.append(t.zoom)),i.css({position:"absolute",top:0}),i.align?i.css({right:0}):i.css({left:0}),a.append(i),p&&(p.css({position:"absolute",left:0,bottom:0}),p.align?p.css({bottom:0}):p.css({top:0}),a.append(p))):(t.isfixed="fixed"==t.win.css("position"),a=t.isfixed?"fixed":"absolute",t.isfixed||(t.viewport=t.getViewport(t.win[0])),t.viewport&&(t.body=t.viewport,0==/fixed|relative|absolute/.test(t.viewport.css("position"))&&t.css(t.viewport,{position:"relative"})),i.css({position:a}),t.zoom&&t.zoom.css({position:a}),t.updateScrollBar(),t.body.append(i),t.zoom&&t.body.append(t.zoom),t.railh&&(p.css({position:a}),t.body.append(p))),v.isios&&t.css(t.win,{"-webkit-tap-highlight-color":"rgba(0,0,0,0)","-webkit-touch-callout":"none"}),v.isie&&t.opt.disableoutline&&t.win.attr("hideFocus","true"),v.iswebkit&&t.opt.disableoutline&&t.win.css({outline:"none"})),!1===t.opt.autohidemode?(t.autohidedom=!1,t.rail.css({opacity:t.opt.cursoropacitymax}),t.railh&&t.railh.css({opacity:t.opt.cursoropacitymax})):!0===t.opt.autohidemode||"leave"===t.opt.autohidemode?(t.autohidedom=b().add(t.rail),v.isie8&&(t.autohidedom=t.autohidedom.add(t.cursor)),t.railh&&(t.autohidedom=t.autohidedom.add(t.railh)),t.railh&&v.isie8&&(t.autohidedom=t.autohidedom.add(t.cursorh))):"scroll"==t.opt.autohidemode?(t.autohidedom=b().add(t.rail),t.railh&&(t.autohidedom=t.autohidedom.add(t.railh))):"cursor"==t.opt.autohidemode?(t.autohidedom=b().add(t.cursor),t.railh&&(t.autohidedom=t.autohidedom.add(t.cursorh))):"hidden"==t.opt.autohidemode&&(t.autohidedom=!1,t.hide(),t.locked=!1),v.isie9mobile)t.scrollmom=new s(t),t.onmangotouch=function(a){a=t.getScrollTop();var b=t.getScrollLeft();if(a==t.scrollmom.lastscrolly&&b==t.scrollmom.lastscrollx)return!0;var c=a-t.mangotouch.sy,d=b-t.mangotouch.sx;if(0!=Math.round(Math.sqrt(Math.pow(d,2)+Math.pow(c,2)))){var e=0>c?-1:1,f=0>d?-1:1,g=+new Date;t.mangotouch.lazy&&clearTimeout(t.mangotouch.lazy),80<g-t.mangotouch.tm||t.mangotouch.dry!=e||t.mangotouch.drx!=f?(t.scrollmom.stop(),t.scrollmom.reset(b,a),t.mangotouch.sy=a,t.mangotouch.ly=a,t.mangotouch.sx=b,t.mangotouch.lx=b,t.mangotouch.dry=e,t.mangotouch.drx=f,t.mangotouch.tm=g):(t.scrollmom.stop(),t.scrollmom.update(t.mangotouch.sx-d,t.mangotouch.sy-c),t.mangotouch.tm=g,c=Math.max(Math.abs(t.mangotouch.ly-a),Math.abs(t.mangotouch.lx-b)),t.mangotouch.ly=a,t.mangotouch.lx=b,2<c&&(t.mangotouch.lazy=setTimeout(function(){t.mangotouch.lazy=!1,t.mangotouch.dry=0,t.mangotouch.drx=0,t.mangotouch.tm=0,t.scrollmom.doMomentum(30)},100)))}},i=t.getScrollTop(),p=t.getScrollLeft(),t.mangotouch={sy:i,ly:i,dry:0,sx:p,lx:p,drx:0,lazy:!1,tm:0},t.bind(t.docscroll,"scroll",t.onmangotouch);else{if(v.cantouch||t.istouchcapable||t.opt.touchbehavior||v.hasmstouch){t.scrollmom=new s(t),t.ontouchstart=function(a){if(a.pointerType&&2!=a.pointerType)return!1;if(!t.locked){if(v.hasmstouch)for(var c=!!a.target&&a.target;c;){var d=b(c).getNiceScroll();if(0<d.length&&d[0].me==t.me)break;if(0<d.length)return!1;if("DIV"==c.nodeName&&c.id==t.id)break;c=!!c.parentNode&&c.parentNode}if(t.cancelScroll(),(c=t.getTarget(a))&&/INPUT/i.test(c.nodeName)&&/range/i.test(c.type))return t.stopPropagation(a);if(!("clientX"in a)&&"changedTouches"in a&&(a.clientX=a.changedTouches[0].clientX,a.clientY=a.changedTouches[0].clientY),t.forcescreen&&(d=a,a={original:a.original?a.original:a},a.clientX=d.screenX,a.clientY=d.screenY),t.rail.drag={x:a.clientX,y:a.clientY,sx:t.scroll.x,sy:t.scroll.y,st:t.getScrollTop(),sl:t.getScrollLeft(),pt:2,dl:!1},t.ispage||!t.opt.directionlockdeadzone)t.rail.drag.dl="f";else{var d=b(window).width(),e=b(window).height(),f=Math.max(document.body.scrollWidth,document.documentElement.scrollWidth),g=Math.max(document.body.scrollHeight,document.documentElement.scrollHeight),e=Math.max(0,g-e),d=Math.max(0,f-d);t.rail.drag.ck=!t.rail.scrollable&&t.railh.scrollable?0<e&&"v":!(!t.rail.scrollable||t.railh.scrollable)&&(0<d&&"h"),t.rail.drag.ck||(t.rail.drag.dl="f")}if(t.opt.touchbehavior&&t.isiframe&&v.isie&&(d=t.win.position(),t.rail.drag.x+=d.left,t.rail.drag.y+=d.top),t.hasmoving=!1,t.lastmouseup=!1,t.scrollmom.reset(a.clientX,a.clientY),!v.cantouch&&!this.istouchcapable&&!v.hasmstouch){if(!c||!/INPUT|SELECT|TEXTAREA/i.test(c.nodeName))return!t.ispage&&v.hasmousecapture&&c.setCapture(),t.opt.touchbehavior?t.cancelEvent(a):t.stopPropagation(a);/SUBMIT|CANCEL|BUTTON/i.test(b(c).attr("type"))&&(pc={tg:c,click:!1},t.preventclick=pc)}}},t.ontouchend=function(a){return(!a.pointerType||2==a.pointerType)&&(t.rail.drag&&2==t.rail.drag.pt&&(t.scrollmom.doMomentum(),t.rail.drag=!1,t.hasmoving&&(t.hasmoving=!1,t.lastmouseup=!0,t.hideCursor(),v.hasmousecapture&&document.releaseCapture(),!v.cantouch))?t.cancelEvent(a):void 0)};var q=t.opt.touchbehavior&&t.isiframe&&!v.hasmousecapture;t.ontouchmove=function(a,c){if(a.pointerType&&2!=a.pointerType)return!1;if(t.rail.drag&&2==t.rail.drag.pt){if(v.cantouch&&"undefined"==typeof a.original)return!0;if(t.hasmoving=!0,t.preventclick&&!t.preventclick.click&&(t.preventclick.click=t.preventclick.tg.onclick||!1,t.preventclick.tg.onclick=t.onpreventclick),a=b.extend({original:a},a),"changedTouches"in a&&(a.clientX=a.changedTouches[0].clientX,a.clientY=a.changedTouches[0].clientY),t.forcescreen){var d=a;a={original:a.original?a.original:a},a.clientX=d.screenX,a.clientY=d.screenY}if(d=ofy=0,q&&!c){var e=t.win.position(),d=-e.left;ofy=-e.top}var f=a.clientY+ofy,e=f-t.rail.drag.y,g=a.clientX+d,h=g-t.rail.drag.x,i=t.rail.drag.st-e;if(t.ishwscroll&&t.opt.bouncescroll?0>i?i=Math.round(i/2):i>t.page.maxh&&(i=t.page.maxh+Math.round((i-t.page.maxh)/2)):(0>i&&(f=i=0),i>t.page.maxh&&(i=t.page.maxh,f=0)),t.railh&&t.railh.scrollable){var j=t.rail.drag.sl-h;t.ishwscroll&&t.opt.bouncescroll?0>j?j=Math.round(j/2):j>t.page.maxw&&(j=t.page.maxw+Math.round((j-t.page.maxw)/2)):(0>j&&(g=j=0),j>t.page.maxw&&(j=t.page.maxw,g=0))}if(d=!1,t.rail.drag.dl)d=!0,"v"==t.rail.drag.dl?j=t.rail.drag.sl:"h"==t.rail.drag.dl&&(i=t.rail.drag.st);else{var e=Math.abs(e),h=Math.abs(h),k=t.opt.directionlockdeadzone;if("v"==t.rail.drag.ck){if(e>k&&h<=.3*e)return t.rail.drag=!1,!0;h>k&&(t.rail.drag.dl="f",b("body").scrollTop(b("body").scrollTop()))}else if("h"==t.rail.drag.ck){if(h>k&&e<=.3*h)return t.rail.drag=!1,!0;e>k&&(t.rail.drag.dl="f",b("body").scrollLeft(b("body").scrollLeft()))}}if(t.synched("touchmove",function(){t.rail.drag&&2==t.rail.drag.pt&&(t.prepareTransition&&t.prepareTransition(0),t.rail.scrollable&&t.setScrollTop(i),t.scrollmom.update(g,f),t.railh&&t.railh.scrollable?(t.setScrollLeft(j),t.showCursor(i,j)):t.showCursor(i),v.isie10&&document.selection.clear())}),v.ischrome&&t.istouchcapable&&(d=!1),d)return t.cancelEvent(a)}}}if(t.onmousedown=function(a,b){if(!t.rail.drag||1==t.rail.drag.pt){if(t.locked)return t.cancelEvent(a);t.cancelScroll(),t.rail.drag={x:a.clientX,y:a.clientY,sx:t.scroll.x,sy:t.scroll.y,pt:1,hr:!!b};var c=t.getTarget(a);return!t.ispage&&v.hasmousecapture&&c.setCapture(),t.isiframe&&!v.hasmousecapture&&(t.saved.csspointerevents=t.doc.css("pointer-events"),t.css(t.doc,{"pointer-events":"none"})),t.cancelEvent(a)}},t.onmouseup=function(a){if(t.rail.drag&&(v.hasmousecapture&&document.releaseCapture(),t.isiframe&&!v.hasmousecapture&&t.doc.css("pointer-events",t.saved.csspointerevents),1==t.rail.drag.pt))return t.rail.drag=!1,t.cancelEvent(a)},t.onmousemove=function(a){if(t.rail.drag&&1==t.rail.drag.pt){if(v.ischrome&&0==a.which)return t.onmouseup(a);if(t.cursorfreezed=!0,t.rail.drag.hr){t.scroll.x=t.rail.drag.sx+(a.clientX-t.rail.drag.x),0>t.scroll.x&&(t.scroll.x=0);var b=t.scrollvaluemaxw;t.scroll.x>b&&(t.scroll.x=b)}else t.scroll.y=t.rail.drag.sy+(a.clientY-t.rail.drag.y),0>t.scroll.y&&(t.scroll.y=0),b=t.scrollvaluemax,t.scroll.y>b&&(t.scroll.y=b);return t.synched("mousemove",function(){t.rail.drag&&1==t.rail.drag.pt&&(t.showCursor(),t.rail.drag.hr?t.doScrollLeft(Math.round(t.scroll.x*t.scrollratio.x),t.opt.cursordragspeed):t.doScrollTop(Math.round(t.scroll.y*t.scrollratio.y),t.opt.cursordragspeed))}),t.cancelEvent(a)}},v.cantouch||t.opt.touchbehavior)t.onpreventclick=function(a){if(t.preventclick)return t.preventclick.tg.onclick=t.preventclick.click,t.preventclick=!1,t.cancelEvent(a)},t.bind(t.win,"mousedown",t.ontouchstart),t.onclick=!v.isios&&function(a){return!t.lastmouseup||(t.lastmouseup=!1,t.cancelEvent(a))},t.opt.grabcursorenabled&&v.cursorgrabvalue&&(t.css(t.ispage?t.doc:t.win,{cursor:v.cursorgrabvalue}),t.css(t.rail,{cursor:v.cursorgrabvalue}));else{var r=function(a){if(t.selectiondrag){if(a){var b=t.win.outerHeight();a=a.pageY-t.selectiondrag.top,0<a&&a<b&&(a=0),a>=b&&(a-=b),t.selectiondrag.df=a}0!=t.selectiondrag.df&&(t.doScrollBy(2*-Math.floor(t.selectiondrag.df/6)),t.debounced("doselectionscroll",function(){r()},50))}};t.hasTextSelected="getSelection"in document?function(){return 0<document.getSelection().rangeCount}:"selection"in document?function(){return"None"!=document.selection.type}:function(){return!1},t.onselectionstart=function(a){t.ispage||(t.selectiondrag=t.win.offset())},t.onselectionend=function(a){t.selectiondrag=!1},t.onselectiondrag=function(a){t.selectiondrag&&t.hasTextSelected()&&t.debounced("selectionscroll",function(){r(a)},250)}}v.hasmstouch&&(t.css(t.rail,{"-ms-touch-action":"none"}),t.css(t.cursor,{"-ms-touch-action":"none"}),t.bind(t.win,"MSPointerDown",t.ontouchstart),t.bind(document,"MSPointerUp",t.ontouchend),t.bind(document,"MSPointerMove",t.ontouchmove),t.bind(t.cursor,"MSGestureHold",function(a){a.preventDefault()}),t.bind(t.cursor,"contextmenu",function(a){a.preventDefault()})),this.istouchcapable&&(t.bind(t.win,"touchstart",t.ontouchstart),t.bind(document,"touchend",t.ontouchend),t.bind(document,"touchcancel",t.ontouchend),t.bind(document,"touchmove",t.ontouchmove)),t.bind(t.cursor,"mousedown",t.onmousedown),t.bind(t.cursor,"mouseup",t.onmouseup),t.railh&&(t.bind(t.cursorh,"mousedown",function(a){t.onmousedown(a,!0)}),t.bind(t.cursorh,"mouseup",function(a){if(!t.rail.drag||2!=t.rail.drag.pt)return t.rail.drag=!1,t.hasmoving=!1,t.hideCursor(),v.hasmousecapture&&document.releaseCapture(),t.cancelEvent(a)})),(t.opt.cursordragontouch||!v.cantouch&&!t.opt.touchbehavior)&&(t.rail.css({cursor:"default"}),t.railh&&t.railh.css({cursor:"default"}),t.jqbind(t.rail,"mouseenter",function(){t.canshowonmouseevent&&t.showCursor(),t.rail.active=!0}),t.jqbind(t.rail,"mouseleave",function(){t.rail.active=!1,t.rail.drag||t.hideCursor()}),t.opt.sensitiverail&&(t.bind(t.rail,"click",function(a){t.doRailClick(a,!1,!1)}),t.bind(t.rail,"dblclick",function(a){t.doRailClick(a,!0,!1)}),t.bind(t.cursor,"click",function(a){t.cancelEvent(a)}),t.bind(t.cursor,"dblclick",function(a){t.cancelEvent(a)})),t.railh&&(t.jqbind(t.railh,"mouseenter",function(){t.canshowonmouseevent&&t.showCursor(),t.rail.active=!0}),t.jqbind(t.railh,"mouseleave",function(){t.rail.active=!1,t.rail.drag||t.hideCursor()}),t.opt.sensitiverail&&(t.bind(t.railh,"click",function(a){t.doRailClick(a,!1,!0)}),t.bind(t.railh,"dblclick",function(a){t.doRailClick(a,!0,!0)}),t.bind(t.cursorh,"click",function(a){t.cancelEvent(a)}),t.bind(t.cursorh,"dblclick",function(a){t.cancelEvent(a)})))),v.cantouch||t.opt.touchbehavior?(t.bind(v.hasmousecapture?t.win:document,"mouseup",t.ontouchend),t.bind(document,"mousemove",t.ontouchmove),t.onclick&&t.bind(document,"click",t.onclick),t.opt.cursordragontouch&&(t.bind(t.cursor,"mousedown",t.onmousedown),t.bind(t.cursor,"mousemove",t.onmousemove),t.cursorh&&t.bind(t.cursorh,"mousedown",function(a){t.onmousedown(a,!0)}),t.cursorh&&t.bind(t.cursorh,"mousemove",t.onmousemove))):(t.bind(v.hasmousecapture?t.win:document,"mouseup",t.onmouseup),t.bind(document,"mousemove",t.onmousemove),t.onclick&&t.bind(document,"click",t.onclick),!t.ispage&&t.opt.enablescrollonselection&&(t.bind(t.win[0],"mousedown",t.onselectionstart),t.bind(document,"mouseup",t.onselectionend),t.bind(t.cursor,"mouseup",t.onselectionend),t.cursorh&&t.bind(t.cursorh,"mouseup",t.onselectionend),t.bind(document,"mousemove",t.onselectiondrag)),t.zoom&&(t.jqbind(t.zoom,"mouseenter",function(){t.canshowonmouseevent&&t.showCursor(),t.rail.active=!0}),t.jqbind(t.zoom,"mouseleave",function(){t.rail.active=!1,t.rail.drag||t.hideCursor()}))),t.opt.enablemousewheel&&(t.isiframe||t.bind(v.isie&&t.ispage?document:t.win,"mousewheel",t.onmousewheel),t.bind(t.rail,"mousewheel",t.onmousewheel),t.railh&&t.bind(t.railh,"mousewheel",t.onmousewheelhr)),!t.ispage&&!v.cantouch&&!/HTML|BODY/.test(t.win[0].nodeName)&&(t.win.attr("tabindex")||t.win.attr({tabindex:e++}),t.jqbind(t.win,"focus",function(a){c=t.getTarget(a).id||!0,t.hasfocus=!0,t.canshowonmouseevent&&t.noticeCursor()}),t.jqbind(t.win,"blur",function(a){c=!1,t.hasfocus=!1}),t.jqbind(t.win,"mouseenter",function(a){d=t.getTarget(a).id||!0,t.hasmousefocus=!0,t.canshowonmouseevent&&t.noticeCursor()}),t.jqbind(t.win,"mouseleave",function(){d=!1,t.hasmousefocus=!1,t.rail.drag||t.hideCursor()}))}if(t.onkeypress=function(a){if(t.locked&&0==t.page.maxh)return!0;a=a?a:window.e;var b=t.getTarget(a);if(b&&/INPUT|TEXTAREA|SELECT|OPTION/.test(b.nodeName)&&(!b.getAttribute("type")&&!b.type||!/submit|button|cancel/i.tp))return!0;if(t.hasfocus||t.hasmousefocus&&!c||t.ispage&&!c&&!d){if(b=a.keyCode,t.locked&&27!=b)return t.cancelEvent(a);var e=a.ctrlKey||!1,f=a.shiftKey||!1,g=!1;switch(b){case 38:case 63233:t.doScrollBy(72),g=!0;break;case 40:case 63235:t.doScrollBy(-72),g=!0;break;case 37:case 63232:t.railh&&(e?t.doScrollLeft(0):t.doScrollLeftBy(72),g=!0);break;case 39:case 63234:t.railh&&(e?t.doScrollLeft(t.page.maxw):t.doScrollLeftBy(-72),g=!0);break;case 33:case 63276:t.doScrollBy(t.view.h),g=!0;break;case 34:case 63277:t.doScrollBy(-t.view.h),g=!0;break;case 36:case 63273:t.railh&&e?t.doScrollPos(0,0):t.doScrollTo(0),g=!0;break;case 35:case 63275:t.railh&&e?t.doScrollPos(t.page.maxw,t.page.maxh):t.doScrollTo(t.page.maxh),g=!0;break;case 32:t.opt.spacebarenabled&&(f?t.doScrollBy(t.view.h):t.doScrollBy(-t.view.h),g=!0);break;case 27:t.zoomactive&&(t.doZoom(),g=!0)}if(g)return t.cancelEvent(a)}},t.opt.enablekeyboard&&t.bind(document,v.isopera&&!v.isopera12?"keypress":"keydown",t.onkeypress),t.bind(window,"resize",t.lazyResize),t.bind(window,"orientationchange",t.lazyResize),t.bind(window,"load",t.lazyResize),v.ischrome&&!t.ispage&&!t.haswrapper){var u=t.win.attr("style"),i=parseFloat(t.win.css("width"))+1;t.win.css("width",i),t.synched("chromefix",function(){t.win.attr("style",u)})}t.onAttributeChange=function(a){t.lazyResize(250)},!t.ispage&&!t.haswrapper&&(!1!==n?(t.observer=new n(function(a){a.forEach(t.onAttributeChange)}),t.observer.observe(t.win[0],{childList:!0,characterData:!1,attributes:!0,subtree:!1}),t.observerremover=new n(function(a){a.forEach(function(a){if(0<a.removedNodes.length)for(var b in a.removedNodes)if(a.removedNodes[b]==t.win[0])return t.remove()})}),t.observerremover.observe(t.win[0].parentNode,{childList:!0,characterData:!1,attributes:!1,subtree:!1})):(t.bind(t.win,v.isie&&!v.isie9?"propertychange":"DOMAttrModified",t.onAttributeChange),v.isie9&&t.win[0].attachEvent("onpropertychange",t.onAttributeChange),t.bind(t.win,"DOMNodeRemoved",function(a){a.target==t.win[0]&&t.remove()}))),!t.ispage&&t.opt.boxzoom&&t.bind(window,"resize",t.resizeZoom),t.istextarea&&t.bind(t.win,"mouseup",t.lazyResize),t.checkrtlmode=!0,t.lazyResize(30)}if("IFRAME"==this.doc[0].nodeName){var w=function(a){t.iframexd=!1;try{var c="contentDocument"in this?this.contentDocument:this.contentWindow.document}catch(a){t.iframexd=!0,c=!1}return t.iframexd?("console"in window&&console.log("NiceScroll error: policy restriced iframe"),!0):(t.forcescreen=!0,t.isiframe&&(t.iframe={doc:b(c),html:t.doc.contents().find("html")[0],body:t.doc.contents().find("body")[0]},t.getContentSize=function(){return{w:Math.max(t.iframe.html.scrollWidth,t.iframe.body.scrollWidth),h:Math.max(t.iframe.html.scrollHeight,t.iframe.body.scrollHeight)}},t.docscroll=b(t.iframe.body)),!v.isios&&t.opt.iframeautoresize&&!t.isiframe&&(t.win.scrollTop(0),t.doc.height(""),a=Math.max(c.getElementsByTagName("html")[0].scrollHeight,c.body.scrollHeight),t.doc.height(a)),t.lazyResize(30),v.isie7&&t.css(b(t.iframe.html),{"overflow-y":"hidden"}),t.css(b(t.iframe.body),{"overflow-y":"hidden"}),v.isios&&t.haswrapper&&t.css(b(c.body),{"-webkit-transform":"translate3d(0,0,0)"}),"contentWindow"in this?t.bind(this.contentWindow,"scroll",t.onscroll):t.bind(c,"scroll",t.onscroll),t.opt.enablemousewheel&&t.bind(c,"mousewheel",t.onmousewheel),t.opt.enablekeyboard&&t.bind(c,v.isopera?"keypress":"keydown",t.onkeypress),(v.cantouch||t.opt.touchbehavior)&&(t.bind(c,"mousedown",t.ontouchstart),t.bind(c,"mousemove",function(a){t.ontouchmove(a,!0)}),t.opt.grabcursorenabled&&v.cursorgrabvalue&&t.css(b(c.body),{cursor:v.cursorgrabvalue})),t.bind(c,"mouseup",t.ontouchend),void(t.zoom&&(t.opt.dblclickzoom&&t.bind(c,"dblclick",t.doZoom),t.ongesturezoom&&t.bind(c,"gestureend",t.ongesturezoom))))};this.doc[0].readyState&&"complete"==this.doc[0].readyState&&setTimeout(function(){w.call(t.doc[0],!1)},500),t.bind(this.doc,"load",w)}},this.showCursor=function(a,b){t.cursortimeout&&(clearTimeout(t.cursortimeout),t.cursortimeout=0),t.rail&&(t.autohidedom&&(t.autohidedom.stop().css({opacity:t.opt.cursoropacitymax}),t.cursoractive=!0),t.rail.drag&&1==t.rail.drag.pt||("undefined"!=typeof a&&!1!==a&&(t.scroll.y=Math.round(1*a/t.scrollratio.y)),"undefined"!=typeof b&&(t.scroll.x=Math.round(1*b/t.scrollratio.x))),t.cursor.css({height:t.cursorheight,top:t.scroll.y}),t.cursorh&&(!t.rail.align&&t.rail.visibility?t.cursorh.css({width:t.cursorwidth,left:t.scroll.x+t.rail.width}):t.cursorh.css({width:t.cursorwidth,left:t.scroll.x}),t.cursoractive=!0),t.zoom&&t.zoom.stop().css({opacity:t.opt.cursoropacitymax}))},this.hideCursor=function(a){!t.cursortimeout&&t.rail&&t.autohidedom&&!(t.hasmousefocus&&"leave"==t.opt.autohidemode)&&(t.cursortimeout=setTimeout(function(){t.rail.active&&t.showonmouseevent||(t.autohidedom.stop().animate({opacity:t.opt.cursoropacitymin}),t.zoom&&t.zoom.stop().animate({opacity:t.opt.cursoropacitymin}),t.cursoractive=!1),t.cursortimeout=0},a||t.opt.hidecursordelay))},this.noticeCursor=function(a,b,c){t.showCursor(b,c),t.rail.active||t.hideCursor(a)},this.getContentSize=t.ispage?function(){return{w:Math.max(document.body.scrollWidth,document.documentElement.scrollWidth),h:Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)}}:t.haswrapper?function(){return{w:t.doc.outerWidth()+parseInt(t.win.css("paddingLeft"))+parseInt(t.win.css("paddingRight")),h:t.doc.outerHeight()+parseInt(t.win.css("paddingTop"))+parseInt(t.win.css("paddingBottom"))}}:function(){return{w:t.docscroll[0].scrollWidth,h:t.docscroll[0].scrollHeight}},this.onResize=function(a,b){if(!t.win)return!1;if(!t.haswrapper&&!t.ispage){if("none"==t.win.css("display"))return t.visibility&&t.hideRail().hideRailHr(),!1;!t.hidden&&!t.visibility&&t.showRail().showRailHr()}var c=t.page.maxh,d=t.page.maxw,e=t.view.w;if(t.view={w:t.ispage?t.win.width():parseInt(t.win[0].clientWidth),h:t.ispage?t.win.height():parseInt(t.win[0].clientHeight)},t.page=b?b:t.getContentSize(),t.page.maxh=Math.max(0,t.page.h-t.view.h),t.page.maxw=Math.max(0,t.page.w-t.view.w),t.page.maxh==c&&t.page.maxw==d&&t.view.w==e){if(t.ispage)return t;if(c=t.win.offset(),t.lastposition&&(d=t.lastposition,d.top==c.top&&d.left==c.left))return t;t.lastposition=c}return 0==t.page.maxh?(t.hideRail(),t.scrollvaluemax=0,t.scroll.y=0,t.scrollratio.y=0,t.cursorheight=0,t.setScrollTop(0),t.rail.scrollable=!1):t.rail.scrollable=!0,0==t.page.maxw?(t.hideRailHr(),t.scrollvaluemaxw=0,t.scroll.x=0,t.scrollratio.x=0,t.cursorwidth=0,t.setScrollLeft(0),t.railh.scrollable=!1):t.railh.scrollable=!0,t.locked=0==t.page.maxh&&0==t.page.maxw,t.locked?(t.ispage||t.updateScrollBar(t.view),!1):(t.hidden||t.visibility?!t.hidden&&!t.railh.visibility&&t.showRailHr():t.showRail().showRailHr(),t.istextarea&&t.win.css("resize")&&"none"!=t.win.css("resize")&&(t.view.h-=20),t.cursorheight=Math.min(t.view.h,Math.round(t.view.h*(t.view.h/t.page.h))),t.cursorheight=t.opt.cursorfixedheight?t.opt.cursorfixedheight:Math.max(t.opt.cursorminheight,t.cursorheight),t.cursorwidth=Math.min(t.view.w,Math.round(t.view.w*(t.view.w/t.page.w))),t.cursorwidth=t.opt.cursorfixedheight?t.opt.cursorfixedheight:Math.max(t.opt.cursorminheight,t.cursorwidth),t.scrollvaluemax=t.view.h-t.cursorheight-t.cursor.hborder,t.railh&&(t.railh.width=0<t.page.maxh?t.view.w-t.rail.width:t.view.w,t.scrollvaluemaxw=t.railh.width-t.cursorwidth-t.cursorh.wborder),t.checkrtlmode&&t.railh&&(t.checkrtlmode=!1,t.opt.rtlmode&&0==t.scroll.x&&t.setScrollLeft(t.page.maxw)),t.ispage||t.updateScrollBar(t.view),t.scrollratio={x:t.page.maxw/t.scrollvaluemaxw,y:t.page.maxh/t.scrollvaluemax},t.getScrollTop()>t.page.maxh?t.doScrollTop(t.page.maxh):(t.scroll.y=Math.round(t.getScrollTop()*(1/t.scrollratio.y)),t.scroll.x=Math.round(t.getScrollLeft()*(1/t.scrollratio.x)),t.cursoractive&&t.noticeCursor()),t.scroll.y&&0==t.getScrollTop()&&t.doScrollTo(Math.floor(t.scroll.y*t.scrollratio.y)),t)},this.resize=t.onResize,this.lazyResize=function(a){return a=isNaN(a)?30:a,t.delayed("resize",t.resize,a),t},this._bind=function(a,b,c,d){t.events.push({e:a,n:b,f:c,b:d,q:!1}),a.addEventListener?a.addEventListener(b,c,d||!1):a.attachEvent?a.attachEvent("on"+b,c):a["on"+b]=c},this.jqbind=function(a,c,d){t.events.push({e:a,n:c,f:d,q:!0}),b(a).bind(c,d)},this.bind=function(a,b,c,d){var e="jquery"in a?a[0]:a;"mousewheel"==b?"onwheel"in t.win?t._bind(e,"wheel",c,d||!1):(a="undefined"!=typeof document.onmousewheel?"mousewheel":"DOMMouseScroll",p(e,a,c,d||!1),"DOMMouseScroll"==a&&p(e,"MozMousePixelScroll",c,d||!1)):e.addEventListener?(v.cantouch&&/mouseup|mousedown|mousemove/.test(b)&&t._bind(e,"mousedown"==b?"touchstart":"mouseup"==b?"touchend":"touchmove",function(a){if(a.touches){if(2>a.touches.length){var b=a.touches.length?a.touches[0]:a;b.original=a,c.call(this,b)}}else a.changedTouches&&(b=a.changedTouches[0],b.original=a,c.call(this,b))},d||!1),t._bind(e,b,c,d||!1),v.cantouch&&"mouseup"==b&&t._bind(e,"touchcancel",c,d||!1)):t._bind(e,b,function(a){return(a=a||window.event||!1)&&a.srcElement&&(a.target=a.srcElement),"pageY"in a||(a.pageX=a.clientX+document.documentElement.scrollLeft,a.pageY=a.clientY+document.documentElement.scrollTop),!1!==c.call(e,a)&&!1!==d||t.cancelEvent(a)})},this._unbind=function(a,b,c,d){a.removeEventListener?a.removeEventListener(b,c,d):a.detachEvent?a.detachEvent("on"+b,c):a["on"+b]=!1},this.unbindAll=function(){for(var a=0;a<t.events.length;a++){var b=t.events[a];b.q?b.e.unbind(b.n,b.f):t._unbind(b.e,b.n,b.f,b.b)}},this.cancelEvent=function(a){return!!(a=a.original?a.original:a?a:window.event||!1)&&(a.preventDefault&&a.preventDefault(),a.stopPropagation&&a.stopPropagation(),a.preventManipulation&&a.preventManipulation(),a.cancelBubble=!0,a.cancel=!0,a.returnValue=!1)},this.stopPropagation=function(a){return!!(a=a.original?a.original:a?a:window.event||!1)&&(a.stopPropagation?a.stopPropagation():(a.cancelBubble&&(a.cancelBubble=!0),!1))},this.showRail=function(){return 0==t.page.maxh||!t.ispage&&"none"==t.win.css("display")||(t.visibility=!0,t.rail.visibility=!0,t.rail.css("display","block")),t},this.showRailHr=function(){return t.railh?(0==t.page.maxw||!t.ispage&&"none"==t.win.css("display")||(t.railh.visibility=!0,t.railh.css("display","block")),t):t},this.hideRail=function(){return t.visibility=!1,t.rail.visibility=!1,t.rail.css("display","none"),t},this.hideRailHr=function(){return t.railh?(t.railh.visibility=!1,t.railh.css("display","none"),t):t},this.show=function(){return t.hidden=!1,t.locked=!1,t.showRail().showRailHr()},this.hide=function(){return t.hidden=!0,t.locked=!0,t.hideRail().hideRailHr()},this.toggle=function(){return t.hidden?t.show():t.hide()},this.remove=function(){t.stop(),t.cursortimeout&&clearTimeout(t.cursortimeout),t.doZoomOut(),t.unbindAll(),v.isie9&&t.win[0].detachEvent("onpropertychange",t.onAttributeChange),!1!==t.observer&&t.observer.disconnect(),!1!==t.observerremover&&t.observerremover.disconnect(),t.events=null,t.cursor&&t.cursor.remove(),t.cursorh&&t.cursorh.remove(),t.rail&&t.rail.remove(),t.railh&&t.railh.remove(),t.zoom&&t.zoom.remove();for(var a=0;a<t.saved.css.length;a++){var c=t.saved.css[a];c[0].css(c[1],"undefined"==typeof c[2]?"":c[2])}t.saved=!1,t.me.data("__nicescroll","");var d=b.nicescroll;d.each(function(a){if(this&&this.id===t.id){delete d[a];for(var b=++a;b<d.length;b++,a++)d[a]=d[b];d.length--,d.length&&delete d[d.length]}});for(var e in t)t[e]=null,delete t[e];t=null},this.scrollstart=function(a){return this.onscrollstart=a,t},this.scrollend=function(a){return this.onscrollend=a,t},this.scrollcancel=function(a){return this.onscrollcancel=a,t},this.zoomin=function(a){return this.onzoomin=a,t},this.zoomout=function(a){return this.onzoomout=a,t},this.isScrollable=function(a){if(a=a.target?a.target:a,"OPTION"==a.nodeName)return!0;for(;a&&1==a.nodeType&&!/BODY|HTML/.test(a.nodeName);){var c=b(a),c=c.css("overflowY")||c.css("overflowX")||c.css("overflow")||"";if(/scroll|auto/.test(c))return a.clientHeight!=a.scrollHeight;a=!!a.parentNode&&a.parentNode}return!1},this.getViewport=function(a){for(a=!(!a||!a.parentNode)&&a.parentNode;a&&1==a.nodeType&&!/BODY|HTML/.test(a.nodeName);){var c=b(a);if(/fixed|absolute/.test(c.css("position")))return c;var d=c.css("overflowY")||c.css("overflowX")||c.css("overflow")||"";if(/scroll|auto/.test(d)&&a.clientHeight!=a.scrollHeight||0<c.getNiceScroll().length)return c;
a=!!a.parentNode&&a.parentNode}return!1},this.onmousewheel=function(a){if(t.locked)return t.debounced("checkunlock",t.resize,250),!0;if(t.rail.drag)return t.cancelEvent(a);if("auto"==t.opt.oneaxismousemode&&0!=a.deltaX&&(t.opt.oneaxismousemode=!1),t.opt.oneaxismousemode&&0==a.deltaX&&!t.rail.scrollable)return!t.railh||!t.railh.scrollable||t.onmousewheelhr(a);var b=+new Date,c=!1;return t.opt.preservenativescrolling&&t.checkarea+600<b&&(t.nativescrollingarea=t.isScrollable(a),c=!0),t.checkarea=b,!!t.nativescrollingarea||((a=r(a,!1,c))&&(t.checkarea=0),a)},this.onmousewheelhr=function(a){if(t.locked||!t.railh.scrollable)return!0;if(t.rail.drag)return t.cancelEvent(a);var b=+new Date,c=!1;return t.opt.preservenativescrolling&&t.checkarea+600<b&&(t.nativescrollingarea=t.isScrollable(a),c=!0),t.checkarea=b,!!t.nativescrollingarea||(t.locked?t.cancelEvent(a):r(a,!0,c))},this.stop=function(){return t.cancelScroll(),t.scrollmon&&t.scrollmon.stop(),t.cursorfreezed=!1,t.scroll.y=Math.round(t.getScrollTop()*(1/t.scrollratio.y)),t.noticeCursor(),t},this.getTransitionSpeed=function(a){var b=Math.round(10*t.opt.scrollspeed);return a=Math.min(b,Math.round(a/20*t.opt.scrollspeed)),20<a?a:0},t.opt.smoothscroll?t.ishwscroll&&v.hastransition&&t.opt.usetransition?(this.prepareTransition=function(a,b){var c=b?20<a?a:0:t.getTransitionSpeed(a),d=c?v.prefixstyle+"transform "+c+"ms ease-out":"";return t.lasttransitionstyle&&t.lasttransitionstyle==d||(t.lasttransitionstyle=d,t.doc.css(v.transitionstyle,d)),c},this.doScrollLeft=function(a,b){var c=t.scrollrunning?t.newscrolly:t.getScrollTop();t.doScrollPos(a,c,b)},this.doScrollTop=function(a,b){var c=t.scrollrunning?t.newscrollx:t.getScrollLeft();t.doScrollPos(c,a,b)},this.doScrollPos=function(a,b,c){var d=t.getScrollTop(),e=t.getScrollLeft();return(0>(t.newscrolly-d)*(b-d)||0>(t.newscrollx-e)*(a-e))&&t.cancelScroll(),0==t.opt.bouncescroll&&(0>b?b=0:b>t.page.maxh&&(b=t.page.maxh),0>a?a=0:a>t.page.maxw&&(a=t.page.maxw)),(!t.scrollrunning||a!=t.newscrollx||b!=t.newscrolly)&&(t.newscrolly=b,t.newscrollx=a,t.newscrollspeed=c||!1,!t.timer&&void(t.timer=setTimeout(function(){var c,d,e=t.getScrollTop(),f=t.getScrollLeft();c=a-f,d=b-e,c=Math.round(Math.sqrt(Math.pow(c,2)+Math.pow(d,2))),c=t.newscrollspeed&&1<t.newscrollspeed?t.newscrollspeed:t.getTransitionSpeed(c),t.newscrollspeed&&1>=t.newscrollspeed&&(c*=t.newscrollspeed),t.prepareTransition(c,!0),t.timerscroll&&t.timerscroll.tm&&clearInterval(t.timerscroll.tm),0<c&&(!t.scrollrunning&&t.onscrollstart&&t.onscrollstart.call(t,{type:"scrollstart",current:{x:f,y:e},request:{x:a,y:b},end:{x:t.newscrollx,y:t.newscrolly},speed:c}),v.transitionend?t.scrollendtrapped||(t.scrollendtrapped=!0,t.bind(t.doc,v.transitionend,t.onScrollEnd,!1)):(t.scrollendtrapped&&clearTimeout(t.scrollendtrapped),t.scrollendtrapped=setTimeout(t.onScrollEnd,c)),t.timerscroll={bz:new BezierClass(e,t.newscrolly,c,0,0,.58,1),bh:new BezierClass(f,t.newscrollx,c,0,0,.58,1)},t.cursorfreezed||(t.timerscroll.tm=setInterval(function(){t.showCursor(t.getScrollTop(),t.getScrollLeft())},60))),t.synched("doScroll-set",function(){t.timer=0,t.scrollendtrapped&&(t.scrollrunning=!0),t.setScrollTop(t.newscrolly),t.setScrollLeft(t.newscrollx),t.scrollendtrapped||t.onScrollEnd()})},50)))},this.cancelScroll=function(){if(!t.scrollendtrapped)return!0;var a=t.getScrollTop(),b=t.getScrollLeft();return t.scrollrunning=!1,v.transitionend||clearTimeout(v.transitionend),t.scrollendtrapped=!1,t._unbind(t.doc,v.transitionend,t.onScrollEnd),t.prepareTransition(0),t.setScrollTop(a),t.railh&&t.setScrollLeft(b),t.timerscroll&&t.timerscroll.tm&&clearInterval(t.timerscroll.tm),t.timerscroll=!1,t.cursorfreezed=!1,t.showCursor(a,b),t},this.onScrollEnd=function(){t.scrollendtrapped&&t._unbind(t.doc,v.transitionend,t.onScrollEnd),t.scrollendtrapped=!1,t.prepareTransition(0),t.timerscroll&&t.timerscroll.tm&&clearInterval(t.timerscroll.tm),t.timerscroll=!1;var a=t.getScrollTop(),b=t.getScrollLeft();return t.setScrollTop(a),t.railh&&t.setScrollLeft(b),t.noticeCursor(!1,a,b),t.cursorfreezed=!1,0>a?a=0:a>t.page.maxh&&(a=t.page.maxh),0>b?b=0:b>t.page.maxw&&(b=t.page.maxw),a!=t.newscrolly||b!=t.newscrollx?t.doScrollPos(b,a,t.opt.snapbackspeed):(t.onscrollend&&t.scrollrunning&&t.onscrollend.call(t,{type:"scrollend",current:{x:b,y:a},end:{x:t.newscrollx,y:t.newscrolly}}),void(t.scrollrunning=!1))}):(this.doScrollLeft=function(a,b){var c=t.scrollrunning?t.newscrolly:t.getScrollTop();t.doScrollPos(a,c,b)},this.doScrollTop=function(a,b){var c=t.scrollrunning?t.newscrollx:t.getScrollLeft();t.doScrollPos(c,a,b)},this.doScrollPos=function(a,b,c){function d(){if(t.cancelAnimationFrame)return!0;if(t.scrollrunning=!0,l=1-l)return t.timer=j(d)||1;var a=0,b=sy=t.getScrollTop();if(t.dst.ay){var b=t.bzscroll?t.dst.py+t.bzscroll.getNow()*t.dst.ay:t.newscrolly,c=b-sy;(0>c&&b<t.newscrolly||0<c&&b>t.newscrolly)&&(b=t.newscrolly),t.setScrollTop(b),b==t.newscrolly&&(a=1)}else a=1;var e=sx=t.getScrollLeft();t.dst.ax?(e=t.bzscroll?t.dst.px+t.bzscroll.getNow()*t.dst.ax:t.newscrollx,c=e-sx,(0>c&&e<t.newscrollx||0<c&&e>t.newscrollx)&&(e=t.newscrollx),t.setScrollLeft(e),e==t.newscrollx&&(a+=1)):a+=1,2==a?(t.timer=0,t.cursorfreezed=!1,t.bzscroll=!1,t.scrollrunning=!1,0>b?b=0:b>t.page.maxh&&(b=t.page.maxh),0>e?e=0:e>t.page.maxw&&(e=t.page.maxw),e!=t.newscrollx||b!=t.newscrolly?t.doScrollPos(e,b):t.onscrollend&&t.onscrollend.call(t,{type:"scrollend",current:{x:sx,y:sy},end:{x:t.newscrollx,y:t.newscrolly}})):t.timer=j(d)||1}if(b="undefined"==typeof b||!1===b?t.getScrollTop(!0):b,t.timer&&t.newscrolly==b&&t.newscrollx==a)return!0;t.timer&&k(t.timer),t.timer=0;var e=t.getScrollTop(),f=t.getScrollLeft();(0>(t.newscrolly-e)*(b-e)||0>(t.newscrollx-f)*(a-f))&&t.cancelScroll(),t.newscrolly=b,t.newscrollx=a,t.bouncescroll&&t.rail.visibility||(0>t.newscrolly?t.newscrolly=0:t.newscrolly>t.page.maxh&&(t.newscrolly=t.page.maxh)),t.bouncescroll&&t.railh.visibility||(0>t.newscrollx?t.newscrollx=0:t.newscrollx>t.page.maxw&&(t.newscrollx=t.page.maxw)),t.dst={},t.dst.x=a-f,t.dst.y=b-e,t.dst.px=f,t.dst.py=e;var g=Math.round(Math.sqrt(Math.pow(t.dst.x,2)+Math.pow(t.dst.y,2)));t.dst.ax=t.dst.x/g,t.dst.ay=t.dst.y/g;var h=0,i=g;if(0==t.dst.x?(h=e,i=b,t.dst.ay=1,t.dst.py=0):0==t.dst.y&&(h=f,i=a,t.dst.ax=1,t.dst.px=0),g=t.getTransitionSpeed(g),c&&1>=c&&(g*=c),t.bzscroll=0<g&&(t.bzscroll?t.bzscroll.update(i,g):new BezierClass(h,i,g,0,1,0,1)),!t.timer){(e==t.page.maxh&&b>=t.page.maxh||f==t.page.maxw&&a>=t.page.maxw)&&t.checkContentSize();var l=1;t.cancelAnimationFrame=!1,t.timer=1,t.onscrollstart&&!t.scrollrunning&&t.onscrollstart.call(t,{type:"scrollstart",current:{x:f,y:e},request:{x:a,y:b},end:{x:t.newscrollx,y:t.newscrolly},speed:g}),d(),(e==t.page.maxh&&b>=e||f==t.page.maxw&&a>=f)&&t.checkContentSize(),t.noticeCursor()}},this.cancelScroll=function(){return t.timer&&k(t.timer),t.timer=0,t.bzscroll=!1,t.scrollrunning=!1,t}):(this.doScrollLeft=function(a,b){var c=t.getScrollTop();t.doScrollPos(a,c,b)},this.doScrollTop=function(a,b){var c=t.getScrollLeft();t.doScrollPos(c,a,b)},this.doScrollPos=function(a,b,c){var d=a>t.page.maxw?t.page.maxw:a;0>d&&(d=0);var e=b>t.page.maxh?t.page.maxh:b;0>e&&(e=0),t.synched("scroll",function(){t.setScrollTop(e),t.setScrollLeft(d)})},this.cancelScroll=function(){}),this.doScrollBy=function(a,b){var c=0,c=b?Math.floor((t.scroll.y-a)*t.scrollratio.y):(t.timer?t.newscrolly:t.getScrollTop(!0))-a;if(t.bouncescroll){var d=Math.round(t.view.h/2);c<-d?c=-d:c>t.page.maxh+d&&(c=t.page.maxh+d)}return t.cursorfreezed=!1,py=t.getScrollTop(!0),0>c&&0>=py?t.noticeCursor():c>t.page.maxh&&py>=t.page.maxh?(t.checkContentSize(),t.noticeCursor()):void t.doScrollTop(c)},this.doScrollLeftBy=function(a,b){var c=0,c=b?Math.floor((t.scroll.x-a)*t.scrollratio.x):(t.timer?t.newscrollx:t.getScrollLeft(!0))-a;if(t.bouncescroll){var d=Math.round(t.view.w/2);c<-d?c=-d:c>t.page.maxw+d&&(c=t.page.maxw+d)}return t.cursorfreezed=!1,px=t.getScrollLeft(!0),0>c&&0>=px||c>t.page.maxw&&px>=t.page.maxw?t.noticeCursor():void t.doScrollLeft(c)},this.doScrollTo=function(a,b){b&&Math.round(a*t.scrollratio.y),t.cursorfreezed=!1,t.doScrollTop(a)},this.checkContentSize=function(){var a=t.getContentSize();(a.h!=t.page.h||a.w!=t.page.w)&&t.resize(!1,a)},t.onscroll=function(a){t.rail.drag||t.cursorfreezed||t.synched("scroll",function(){t.scroll.y=Math.round(t.getScrollTop()*(1/t.scrollratio.y)),t.railh&&(t.scroll.x=Math.round(t.getScrollLeft()*(1/t.scrollratio.x))),t.noticeCursor()})},t.bind(t.docscroll,"scroll",t.onscroll),this.doZoomIn=function(a){if(!t.zoomactive){t.zoomactive=!0,t.zoomrestore={style:{}};var c,d="position top left zIndex backgroundColor marginTop marginBottom marginLeft marginRight".split(" "),e=t.win[0].style;for(c in d){var f=d[c];t.zoomrestore.style[f]="undefined"!=typeof e[f]?e[f]:""}return t.zoomrestore.style.width=t.win.css("width"),t.zoomrestore.style.height=t.win.css("height"),t.zoomrestore.padding={w:t.win.outerWidth()-t.win.width(),h:t.win.outerHeight()-t.win.height()},v.isios4&&(t.zoomrestore.scrollTop=b(window).scrollTop(),b(window).scrollTop(0)),t.win.css({position:v.isios4?"absolute":"fixed",top:0,left:0,"z-index":g+100,margin:"0px"}),d=t.win.css("backgroundColor"),(""==d||/transparent|rgba\(0, 0, 0, 0\)|rgba\(0,0,0,0\)/.test(d))&&t.win.css("backgroundColor","#fff"),t.rail.css({"z-index":g+101}),t.zoom.css({"z-index":g+102}),t.zoom.css("backgroundPosition","0px -18px"),t.resizeZoom(),t.onzoomin&&t.onzoomin.call(t),t.cancelEvent(a)}},this.doZoomOut=function(a){if(t.zoomactive)return t.zoomactive=!1,t.win.css("margin",""),t.win.css(t.zoomrestore.style),v.isios4&&b(window).scrollTop(t.zoomrestore.scrollTop),t.rail.css({"z-index":t.zindex}),t.zoom.css({"z-index":t.zindex}),t.zoomrestore=!1,t.zoom.css("backgroundPosition","0px 0px"),t.onResize(),t.onzoomout&&t.onzoomout.call(t),t.cancelEvent(a)},this.doZoom=function(a){return t.zoomactive?t.doZoomOut(a):t.doZoomIn(a)},this.resizeZoom=function(){if(t.zoomactive){var a=t.getScrollTop();t.win.css({width:b(window).width()-t.zoomrestore.padding.w+"px",height:b(window).height()-t.zoomrestore.padding.h+"px"}),t.onResize(),t.setScrollTop(Math.min(t.page.maxh,a))}},this.init(),b.nicescroll.push(this)},s=function(a){var b=this;this.nc=a,this.steptime=this.lasttime=this.speedy=this.speedx=this.lasty=this.lastx=0,this.snapy=this.snapx=!1,this.demuly=this.demulx=0,this.lastscrolly=this.lastscrollx=-1,this.timer=this.chky=this.chkx=0,this.time=function(){return+new Date},this.reset=function(a,c){b.stop();var d=b.time();b.steptime=0,b.lasttime=d,b.speedx=0,b.speedy=0,b.lastx=a,b.lasty=c,b.lastscrollx=-1,b.lastscrolly=-1},this.update=function(a,c){var d=b.time();b.steptime=d-b.lasttime,b.lasttime=d;var d=c-b.lasty,e=a-b.lastx,f=b.nc.getScrollTop(),g=b.nc.getScrollLeft(),f=f+d,g=g+e;b.snapx=0>g||g>b.nc.page.maxw,b.snapy=0>f||f>b.nc.page.maxh,b.speedx=e,b.speedy=d,b.lastx=a,b.lasty=c},this.stop=function(){b.nc.unsynched("domomentum2d"),b.timer&&clearTimeout(b.timer),b.timer=0,b.lastscrollx=-1,b.lastscrolly=-1},this.doSnapy=function(a,c){var d=!1;0>c?(c=0,d=!0):c>b.nc.page.maxh&&(c=b.nc.page.maxh,d=!0),0>a?(a=0,d=!0):a>b.nc.page.maxw&&(a=b.nc.page.maxw,d=!0),d&&b.nc.doScrollPos(a,c,b.nc.opt.snapbackspeed)},this.doMomentum=function(a){var c=b.time(),d=a?c+a:b.lasttime;a=b.nc.getScrollLeft();var e=b.nc.getScrollTop(),f=b.nc.page.maxh,g=b.nc.page.maxw;if(b.speedx=0<g?Math.min(60,b.speedx):0,b.speedy=0<f?Math.min(60,b.speedy):0,d=d&&60>=c-d,(0>e||e>f||0>a||a>g)&&(d=!1),a=!(!b.speedx||!d)&&b.speedx,b.speedy&&d&&b.speedy||a){var h=Math.max(16,b.steptime);50<h&&(a=h/50,b.speedx*=a,b.speedy*=a,h=50),b.demulxy=0,b.lastscrollx=b.nc.getScrollLeft(),b.chkx=b.lastscrollx,b.lastscrolly=b.nc.getScrollTop(),b.chky=b.lastscrolly;var i=b.lastscrollx,j=b.lastscrolly,k=function(){var a=600<b.time()-c?.04:.02;b.speedx&&(i=Math.floor(b.lastscrollx-b.speedx*(1-b.demulxy)),b.lastscrollx=i,0>i||i>g)&&(a=.1),b.speedy&&(j=Math.floor(b.lastscrolly-b.speedy*(1-b.demulxy)),b.lastscrolly=j,0>j||j>f)&&(a=.1),b.demulxy=Math.min(1,b.demulxy+a),b.nc.synched("domomentum2d",function(){b.speedx&&(b.nc.getScrollLeft()!=b.chkx&&b.stop(),b.chkx=i,b.nc.setScrollLeft(i)),b.speedy&&(b.nc.getScrollTop()!=b.chky&&b.stop(),b.chky=j,b.nc.setScrollTop(j)),b.timer||(b.nc.hideCursor(),b.doSnapy(i,j))}),1>b.demulxy?b.timer=setTimeout(k,h):(b.stop(),b.nc.hideCursor(),b.doSnapy(i,j))};k()}else b.doSnapy(b.nc.getScrollLeft(),b.nc.getScrollTop())}},t=b.fn.scrollTop;b.cssHooks.pageYOffset={get:function(a,c,d){return(c=b.data(a,"__nicescroll")||!1)&&c.ishwscroll?c.getScrollTop():t.call(a)},set:function(a,c){var d=b.data(a,"__nicescroll")||!1;return d&&d.ishwscroll?d.setScrollTop(parseInt(c)):t.call(a,c),this}},b.fn.scrollTop=function(a){if("undefined"==typeof a){var c=!!this[0]&&(b.data(this[0],"__nicescroll")||!1);return c&&c.ishwscroll?c.getScrollTop():t.call(this)}return this.each(function(){var c=b.data(this,"__nicescroll")||!1;c&&c.ishwscroll?c.setScrollTop(parseInt(a)):t.call(b(this),a)})};var u=b.fn.scrollLeft;b.cssHooks.pageXOffset={get:function(a,c,d){return(c=b.data(a,"__nicescroll")||!1)&&c.ishwscroll?c.getScrollLeft():u.call(a)},set:function(a,c){var d=b.data(a,"__nicescroll")||!1;return d&&d.ishwscroll?d.setScrollLeft(parseInt(c)):u.call(a,c),this}},b.fn.scrollLeft=function(a){if("undefined"==typeof a){var c=!!this[0]&&(b.data(this[0],"__nicescroll")||!1);return c&&c.ishwscroll?c.getScrollLeft():u.call(this)}return this.each(function(){var c=b.data(this,"__nicescroll")||!1;c&&c.ishwscroll?c.setScrollLeft(parseInt(a)):u.call(b(this),a)})};var v=function(c){var d=this;if(this.length=0,this.name="nicescrollarray",this.each=function(a){for(var b=0,c=0;b<d.length;b++)a.call(d[b],c++);return d},this.push=function(a){d[d.length]=a,d.length++},this.eq=function(a){return d[a]},c)for(a=0;a<c.length;a++){var e=b.data(c[a],"__nicescroll")||!1;e&&(this[this.length]=e,this.length++)}return this};!function(a,b,c){for(var d=0;d<b.length;d++)c(a,b[d])}(v.prototype,"show hide toggle onResize resize remove stop doScrollPos".split(" "),function(a,b){a[b]=function(){var a=arguments;return this.each(function(){this[b].apply(this,a)})}}),b.fn.getNiceScroll=function(a){return"undefined"==typeof a?new v(this):this[a]&&b.data(this[a],"__nicescroll")||!1},b.extend(b.expr[":"],{nicescroll:function(a){return!!b.data(a,"__nicescroll")}}),b.fn.niceScroll=function(a,c){"undefined"==typeof c&&"object"==typeof a&&!("jquery"in a)&&(c=a,a=!1);var d=new v;"undefined"==typeof c&&(c={}),a&&(c.doc=b(a),c.win=b(this));var e=!("doc"in c);return!e&&!("win"in c)&&(c.win=b(this)),this.each(function(){var a=b(this).data("__nicescroll")||!1;a||(c.doc=e?b(this):c.doc,a=new r(c,b(this)),b(this).data("__nicescroll",a)),d.push(a)}),1==d.length?d[0]:d},window.NiceScroll={getjQuery:function(){return b}},b.nicescroll||(b.nicescroll=new v,b.nicescroll.options=o)}(jQuery),function(a){function b(a){return"object"==typeof a?a:{top:a,left:a}}var c=a.scrollTo=function(b,c,d){a(window).scrollTo(b,c,d)};c.defaults={axis:"xy",duration:parseFloat(a.fn.jquery)>=1.3?0:1,limit:!0},c.window=function(b){return a(window)._scrollable()},a.fn._scrollable=function(){return this.map(function(){var b=this,c=!b.nodeName||a.inArray(b.nodeName.toLowerCase(),["iframe","#document","html","body"])!=-1;if(!c)return b;var d=(b.contentWindow||b).document||b.ownerDocument||b;return/webkit/i.test(navigator.userAgent)||"BackCompat"==d.compatMode?d.body:d.documentElement})},a.fn.scrollTo=function(d,e,f){return"object"==typeof e&&(f=e,e=0),"function"==typeof f&&(f={onAfter:f}),"max"==d&&(d=9e9),f=a.extend({},c.defaults,f),e=e||f.duration,f.queue=f.queue&&f.axis.length>1,f.queue&&(e/=2),f.offset=b(f.offset),f.over=b(f.over),this._scrollable().each(function(){function g(a){j.animate(l,e,f.easing,a&&function(){a.call(this,k,f)})}if(null!=d){var h,i=this,j=a(i),k=d,l={},m=j.is("html,body");switch(typeof k){case"number":case"string":if(/^([+-]=?)?\d+(\.\d+)?(px|%)?$/.test(k)){k=b(k);break}if(k=a(k,this),!k.length)return;case"object":(k.is||k.style)&&(h=(k=a(k)).offset())}a.each(f.axis.split(""),function(a,b){var d="x"==b?"Left":"Top",e=d.toLowerCase(),n="scroll"+d,o=i[n],p=c.max(i,b);if(h)l[n]=h[e]+(m?0:o-j.offset()[e]),f.margin&&(l[n]-=parseInt(k.css("margin"+d))||0,l[n]-=parseInt(k.css("border"+d+"Width"))||0),l[n]+=f.offset[e]||0,f.over[e]&&(l[n]+=k["x"==b?"width":"height"]()*f.over[e]);else{var q=k[e];l[n]=q.slice&&"%"==q.slice(-1)?parseFloat(q)/100*p:q}f.limit&&/^\d+$/.test(l[n])&&(l[n]=l[n]<=0?0:Math.min(l[n],p)),!a&&f.queue&&(o!=l[n]&&g(f.onAfterFirst),delete l[n])}),g(f.onAfter)}}).end()},c.max=function(b,c){var d="x"==c?"Width":"Height",e="scroll"+d;if(!a(b).is("html,body"))return b[e]-a(b)[d.toLowerCase()]();var f="client"+d,g=b.ownerDocument.documentElement,h=b.ownerDocument.body;return Math.max(g[e],h[e])-Math.min(g[f],h[f])}}(jQuery),function(a,b,c){!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):jQuery&&!jQuery.fn.sparkline&&a(jQuery)}(function(d){"use strict";var e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K={},L=0;e=function(){return{common:{type:"line",lineColor:"#00f",fillColor:"#cdf",defaultPixelsPerValue:3,width:"auto",height:"auto",composite:!1,tagValuesAttribute:"values",tagOptionsPrefix:"spark",enableTagOptions:!1,enableHighlight:!0,highlightLighten:1.4,tooltipSkipNull:!0,tooltipPrefix:"",tooltipSuffix:"",disableHiddenCheck:!1,numberFormatter:!1,numberDigitGroupCount:3,numberDigitGroupSep:",",numberDecimalMark:".",disableTooltips:!1,disableInteraction:!1},line:{spotColor:"#f80",highlightSpotColor:"#5f5",highlightLineColor:"#f22",spotRadius:1.5,minSpotColor:"#f80",maxSpotColor:"#f80",lineWidth:1,normalRangeMin:c,normalRangeMax:c,normalRangeColor:"#ccc",drawNormalOnTop:!1,chartRangeMin:c,chartRangeMax:c,chartRangeMinX:c,chartRangeMaxX:c,tooltipFormat:new g('<span style="color: {{color}}">&#9679;</span> {{prefix}}{{y}}{{suffix}}')},bar:{barColor:"#3366cc",negBarColor:"#f44",stackedBarColor:["#3366cc","#dc3912","#ff9900","#109618","#66aa00","#dd4477","#0099c6","#990099"],zeroColor:c,nullColor:c,zeroAxis:!0,barWidth:4,barSpacing:1,chartRangeMax:c,chartRangeMin:c,chartRangeClip:!1,colorMap:c,tooltipFormat:new g('<span style="color: {{color}}">&#9679;</span> {{prefix}}{{value}}{{suffix}}')},tristate:{barWidth:4,barSpacing:1,posBarColor:"#6f6",negBarColor:"#f44",zeroBarColor:"#999",colorMap:{},tooltipFormat:new g('<span style="color: {{color}}">&#9679;</span> {{value:map}}'),tooltipValueLookups:{map:{"-1":"Loss",0:"Draw",1:"Win"}}},discrete:{lineHeight:"auto",thresholdColor:c,thresholdValue:0,chartRangeMax:c,chartRangeMin:c,chartRangeClip:!1,tooltipFormat:new g("{{prefix}}{{value}}{{suffix}}")},bullet:{targetColor:"#f33",targetWidth:3,performanceColor:"#33f",rangeColors:["#d3dafe","#a8b6ff","#7f94ff"],base:c,tooltipFormat:new g("{{fieldkey:fields}} - {{value}}"),tooltipValueLookups:{fields:{r:"Range",p:"Performance",t:"Target"}}},pie:{offset:0,sliceColors:["#3366cc","#dc3912","#ff9900","#109618","#66aa00","#dd4477","#0099c6","#990099"],borderWidth:0,borderColor:"#000",tooltipFormat:new g('<span style="color: {{color}}">&#9679;</span> {{value}} ({{percent.1}}%)')},box:{raw:!1,boxLineColor:"#000",boxFillColor:"#cdf",whiskerColor:"#000",outlierLineColor:"#333",outlierFillColor:"#fff",medianColor:"#f00",showOutliers:!0,outlierIQR:1.5,spotRadius:1.5,target:c,targetColor:"#4a2",chartRangeMax:c,chartRangeMin:c,tooltipFormat:new g("{{field:fields}}: {{value}}"),tooltipFormatFieldlistKey:"field",tooltipValueLookups:{fields:{lq:"Lower Quartile",med:"Median",uq:"Upper Quartile",lo:"Left Outlier",ro:"Right Outlier",lw:"Left Whisker",rw:"Right Whisker"}}}}},D='.jqstooltip { position: absolute;left: 0px;top: 0px;display: block;visibility: hidden;background: rgb(0, 0, 0) transparent;background-color: rgba(0,0,0,0.6);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr=#99000000, endColorstr=#99000000);-ms-filter: "progid:DXImageTransform.Microsoft.gradient(startColorstr=#99000000, endColorstr=#99000000)";color: white;font: 10px arial, san serif;text-align: left;white-space: nowrap;border: 1px solid white;z-index: 10000;}.jqsfield { color: white;padding: 5px 5px 8px 5px;font: 10px arial, san serif;text-align: left;}',f=function(){var a,b;return a=function(){this.init.apply(this,arguments)},arguments.length>1?(arguments[0]?(a.prototype=d.extend(new arguments[0],arguments[arguments.length-1]),a._super=arguments[0].prototype):a.prototype=arguments[arguments.length-1],arguments.length>2&&(b=Array.prototype.slice.call(arguments,1,-1),b.unshift(a.prototype),d.extend.apply(d,b))):a.prototype=arguments[0],a.prototype.cls=a,a},d.SPFormatClass=g=f({fre:/\{\{([\w.]+?)(:(.+?))?\}\}/g,precre:/(\w+)\.(\d+)/,init:function(a,b){this.format=a,this.fclass=b},render:function(a,b,d){var e,f,g,h,i,j=this,k=a;return this.format.replace(this.fre,function(){var a;return f=arguments[1],g=arguments[3],e=j.precre.exec(f),e?(i=e[2],f=e[1]):i=!1,h=k[f],h===c?"":g&&b&&b[g]?(a=b[g],a.get?b[g].get(h)||h:b[g][h]||h):(m(h)&&(h=d.get("numberFormatter")?d.get("numberFormatter")(h):r(h,i,d.get("numberDigitGroupCount"),d.get("numberDigitGroupSep"),d.get("numberDecimalMark"))),h)})}}),d.spformat=function(a,b){return new g(a,b)},h=function(a,b,c){return a<b?b:a>c?c:a},i=function(a,c){var d;return 2===c?(d=b.floor(a.length/2),a.length%2?a[d]:(a[d-1]+a[d])/2):a.length%2?(d=(a.length*c+c)/4,d%1?(a[b.floor(d)]+a[b.floor(d)-1])/2:a[d-1]):(d=(a.length*c+2)/4,d%1?(a[b.floor(d)]+a[b.floor(d)-1])/2:a[d-1])},j=function(a){var b;switch(a){case"undefined":a=c;break;case"null":a=null;break;case"true":a=!0;break;case"false":a=!1;break;default:b=parseFloat(a),a==b&&(a=b)}return a},k=function(a){var b,c=[];for(b=a.length;b--;)c[b]=j(a[b]);return c},l=function(a,b){var c,d,e=[];for(c=0,d=a.length;c<d;c++)a[c]!==b&&e.push(a[c]);return e},m=function(a){return!isNaN(parseFloat(a))&&isFinite(a)},r=function(a,b,c,e,f){var g,h;for(a=(b===!1?parseFloat(a).toString():a.toFixed(b)).split(""),g=(g=d.inArray(".",a))<0?a.length:g,g<a.length&&(a[g]=f),h=g-c;h>0;h-=c)a.splice(h,0,e);return a.join("")},n=function(a,b,c){var d;for(d=b.length;d--;)if((!c||null!==b[d])&&b[d]!==a)return!1;return!0},o=function(a){var b,c=0;for(b=a.length;b--;)c+="number"==typeof a[b]?a[b]:0;return c},q=function(a){return d.isArray(a)?a:[a]},p=function(b){var c;a.createStyleSheet?a.createStyleSheet().cssText=b:(c=a.createElement("style"),c.type="text/css",a.getElementsByTagName("head")[0].appendChild(c),c["string"==typeof a.body.style.WebkitAppearance?"innerText":"innerHTML"]=b)},d.fn.simpledraw=function(b,e,f,g){var h,i;if(f&&(h=this.data("_jqs_vcanvas")))return h;if(d.fn.sparkline.canvas===!1)return!1;if(d.fn.sparkline.canvas===c){var j=a.createElement("canvas");if(j.getContext&&j.getContext("2d"))d.fn.sparkline.canvas=function(a,b,c,d){return new H(a,b,c,d)};else{if(!a.namespaces||a.namespaces.v)return d.fn.sparkline.canvas=!1,!1;a.namespaces.add("v","urn:schemas-microsoft-com:vml","#default#VML"),d.fn.sparkline.canvas=function(a,b,c,d){return new I(a,b,c)}}}return b===c&&(b=d(this).innerWidth()),e===c&&(e=d(this).innerHeight()),h=d.fn.sparkline.canvas(b,e,this,g),i=d(this).data("_jqs_mhandler"),i&&i.registerCanvas(h),h},d.fn.cleardraw=function(){var a=this.data("_jqs_vcanvas");a&&a.reset()},d.RangeMapClass=s=f({init:function(a){var b,c,d=[];for(b in a)a.hasOwnProperty(b)&&"string"==typeof b&&b.indexOf(":")>-1&&(c=b.split(":"),c[0]=0===c[0].length?-(1/0):parseFloat(c[0]),c[1]=0===c[1].length?1/0:parseFloat(c[1]),c[2]=a[b],d.push(c));this.map=a,this.rangelist=d||!1},get:function(a){var b,d,e,f=this.rangelist;if((e=this.map[a])!==c)return e;if(f)for(b=f.length;b--;)if(d=f[b],d[0]<=a&&d[1]>=a)return d[2];return c}}),d.range_map=function(a){return new s(a)},t=f({init:function(a,b){var c=d(a);this.$el=c,this.options=b,this.currentPageX=0,this.currentPageY=0,this.el=a,this.splist=[],this.tooltip=null,this.over=!1,this.displayTooltips=!b.get("disableTooltips"),this.highlightEnabled=!b.get("disableHighlight")},registerSparkline:function(a){this.splist.push(a),this.over&&this.updateDisplay()},registerCanvas:function(a){var b=d(a.canvas);this.canvas=a,this.$canvas=b,b.mouseenter(d.proxy(this.mouseenter,this)),b.mouseleave(d.proxy(this.mouseleave,this)),b.click(d.proxy(this.mouseclick,this))},reset:function(a){this.splist=[],this.tooltip&&a&&(this.tooltip.remove(),this.tooltip=c)},mouseclick:function(a){var b=d.Event("sparklineClick");b.originalEvent=a,b.sparklines=this.splist,this.$el.trigger(b)},mouseenter:function(b){d(a.body).unbind("mousemove.jqs"),d(a.body).bind("mousemove.jqs",d.proxy(this.mousemove,this)),this.over=!0,this.currentPageX=b.pageX,this.currentPageY=b.pageY,this.currentEl=b.target,!this.tooltip&&this.displayTooltips&&(this.tooltip=new u(this.options),this.tooltip.updatePosition(b.pageX,b.pageY)),this.updateDisplay()},mouseleave:function(){d(a.body).unbind("mousemove.jqs");var b,c,e=this.splist,f=e.length,g=!1;for(this.over=!1,this.currentEl=null,this.tooltip&&(this.tooltip.remove(),this.tooltip=null),c=0;c<f;c++)b=e[c],b.clearRegionHighlight()&&(g=!0);g&&this.canvas.render()},mousemove:function(a){this.currentPageX=a.pageX,this.currentPageY=a.pageY,this.currentEl=a.target,this.tooltip&&this.tooltip.updatePosition(a.pageX,a.pageY),this.updateDisplay()},updateDisplay:function(){var a,b,c,e,f,g=this.splist,h=g.length,i=!1,j=this.$canvas.offset(),k=this.currentPageX-j.left,l=this.currentPageY-j.top;if(this.over){for(c=0;c<h;c++)b=g[c],e=b.setRegionHighlight(this.currentEl,k,l),e&&(i=!0);if(i){if(f=d.Event("sparklineRegionChange"),f.sparklines=this.splist,this.$el.trigger(f),this.tooltip){for(a="",c=0;c<h;c++)b=g[c],a+=b.getCurrentRegionTooltip();this.tooltip.setContent(a)}this.disableHighlight||this.canvas.render()}null===e&&this.mouseleave()}}}),u=f({sizeStyle:"position: static !important;display: block !important;visibility: hidden !important;float: left !important;",init:function(b){var c,e=b.get("tooltipClassname","jqstooltip"),f=this.sizeStyle;this.container=b.get("tooltipContainer")||a.body,this.tooltipOffsetX=b.get("tooltipOffsetX",10),this.tooltipOffsetY=b.get("tooltipOffsetY",12),d("#jqssizetip").remove(),d("#jqstooltip").remove(),this.sizetip=d("<div/>",{id:"jqssizetip",style:f,class:e}),this.tooltip=d("<div/>",{id:"jqstooltip",class:e}).appendTo(this.container),c=this.tooltip.offset(),this.offsetLeft=c.left,this.offsetTop=c.top,this.hidden=!0,d(window).unbind("resize.jqs scroll.jqs"),d(window).bind("resize.jqs scroll.jqs",d.proxy(this.updateWindowDims,this)),this.updateWindowDims()},updateWindowDims:function(){this.scrollTop=d(window).scrollTop(),this.scrollLeft=d(window).scrollLeft(),this.scrollRight=this.scrollLeft+d(window).width(),this.updatePosition()},getSize:function(a){this.sizetip.html(a).appendTo(this.container),this.width=this.sizetip.width()+1,this.height=this.sizetip.height(),this.sizetip.remove()},setContent:function(a){return a?(this.getSize(a),this.tooltip.html(a).css({width:this.width,height:this.height,visibility:"visible"}),void(this.hidden&&(this.hidden=!1,this.updatePosition()))):(this.tooltip.css("visibility","hidden"),void(this.hidden=!0))},updatePosition:function(a,b){if(a===c){if(this.mousex===c)return;a=this.mousex-this.offsetLeft,b=this.mousey-this.offsetTop}else this.mousex=a-=this.offsetLeft,this.mousey=b-=this.offsetTop;this.height&&this.width&&!this.hidden&&(b-=this.height+this.tooltipOffsetY,a+=this.tooltipOffsetX,b<this.scrollTop&&(b=this.scrollTop),a<this.scrollLeft?a=this.scrollLeft:a+this.width>this.scrollRight&&(a=this.scrollRight-this.width),this.tooltip.css({left:a,top:b}))},remove:function(){this.tooltip.remove(),this.sizetip.remove(),this.sizetip=this.tooltip=c,d(window).unbind("resize.jqs scroll.jqs")}}),E=function(){p(D)},d(E),J=[],d.fn.sparkline=function(b,e){return this.each(function(){var f,g,h=new d.fn.sparkline.options(this,e),i=d(this);if(f=function(){var e,f,g,j,k,l,m;return"html"===b||b===c?(m=this.getAttribute(h.get("tagValuesAttribute")),m!==c&&null!==m||(m=i.html()),e=m.replace(/(^\s*<!--)|(-->\s*$)|\s+/g,"").split(",")):e=b,f="auto"===h.get("width")?e.length*h.get("defaultPixelsPerValue"):h.get("width"),"auto"===h.get("height")?h.get("composite")&&d.data(this,"_jqs_vcanvas")||(j=a.createElement("span"),j.innerHTML="a",i.html(j),g=d(j).innerHeight()||d(j).height(),d(j).remove(),j=null):g=h.get("height"),h.get("disableInteraction")?k=!1:(k=d.data(this,"_jqs_mhandler"),k?h.get("composite")||k.reset():(k=new t(this,h),d.data(this,"_jqs_mhandler",k))),h.get("composite")&&!d.data(this,"_jqs_vcanvas")?void(d.data(this,"_jqs_errnotify")||(alert("Attempted to attach a composite sparkline to an element with no existing sparkline"),d.data(this,"_jqs_errnotify",!0))):(l=new(d.fn.sparkline[h.get("type")])(this,e,h,f,g),l.render(),void(k&&k.registerSparkline(l)))},d(this).html()&&!h.get("disableHiddenCheck")&&d(this).is(":hidden")||!d(this).parents("body").length){if(!h.get("composite")&&d.data(this,"_jqs_pending"))for(g=J.length;g;g--)J[g-1][0]==this&&J.splice(g-1,1);J.push([this,f]),d.data(this,"_jqs_pending",!0)}else f.call(this)})},d.fn.sparkline.defaults=e(),d.sparkline_display_visible=function(){var a,b,c,e=[];for(b=0,c=J.length;b<c;b++)a=J[b][0],d(a).is(":visible")&&!d(a).parents().is(":hidden")?(J[b][1].call(a),d.data(J[b][0],"_jqs_pending",!1),e.push(b)):d(a).closest("html").length||d.data(a,"_jqs_pending")||(d.data(J[b][0],"_jqs_pending",!1),e.push(b));for(b=e.length;b;b--)J.splice(e[b-1],1)},d.fn.sparkline.options=f({init:function(a,b){var c,e,f,g;this.userOptions=b=b||{},this.tag=a,this.tagValCache={},e=d.fn.sparkline.defaults,f=e.common,this.tagOptionsPrefix=b.enableTagOptions&&(b.tagOptionsPrefix||f.tagOptionsPrefix),g=this.getTagSetting("type"),c=g===K?e[b.type||f.type]:e[g],this.mergedOptions=d.extend({},f,c,b)},getTagSetting:function(a){var b,d,e,f,g=this.tagOptionsPrefix;if(g===!1||g===c)return K;if(this.tagValCache.hasOwnProperty(a))b=this.tagValCache.key;else{if(b=this.tag.getAttribute(g+a),b===c||null===b)b=K;else if("["===b.substr(0,1))for(b=b.substr(1,b.length-2).split(","),d=b.length;d--;)b[d]=j(b[d].replace(/(^\s*)|(\s*$)/g,""));else if("{"===b.substr(0,1))for(e=b.substr(1,b.length-2).split(","),b={},d=e.length;d--;)f=e[d].split(":",2),b[f[0].replace(/(^\s*)|(\s*$)/g,"")]=j(f[1].replace(/(^\s*)|(\s*$)/g,""));else b=j(b);this.tagValCache.key=b}return b},get:function(a,b){var d,e=this.getTagSetting(a);return e!==K?e:(d=this.mergedOptions[a])===c?b:d}}),d.fn.sparkline._base=f({disabled:!1,init:function(a,b,e,f,g){this.el=a,this.$el=d(a),this.values=b,this.options=e,this.width=f,this.height=g,this.currentRegion=c},initTarget:function(){var a=!this.options.get("disableInteraction");(this.target=this.$el.simpledraw(this.width,this.height,this.options.get("composite"),a))?(this.canvasWidth=this.target.pixelWidth,this.canvasHeight=this.target.pixelHeight):this.disabled=!0},render:function(){return!this.disabled||(this.el.innerHTML="",!1)},getRegion:function(a,b){},setRegionHighlight:function(a,b,d){var e,f=this.currentRegion,g=!this.options.get("disableHighlight");return b>this.canvasWidth||d>this.canvasHeight||b<0||d<0?null:(e=this.getRegion(a,b,d),f!==e&&(f!==c&&g&&this.removeHighlight(),this.currentRegion=e,e!==c&&g&&this.renderHighlight(),!0))},clearRegionHighlight:function(){return this.currentRegion!==c&&(this.removeHighlight(),this.currentRegion=c,!0)},renderHighlight:function(){this.changeHighlight(!0)},removeHighlight:function(){this.changeHighlight(!1)},changeHighlight:function(a){},getCurrentRegionTooltip:function(){var a,b,e,f,h,i,j,k,l,m,n,o,p,q,r=this.options,s="",t=[];if(this.currentRegion===c)return"";if(a=this.getCurrentRegionFields(),n=r.get("tooltipFormatter"))return n(this,r,a);if(r.get("tooltipChartTitle")&&(s+='<div class="jqs jqstitle">'+r.get("tooltipChartTitle")+"</div>\n"),b=this.options.get("tooltipFormat"),!b)return"";if(d.isArray(b)||(b=[b]),d.isArray(a)||(a=[a]),j=this.options.get("tooltipFormatFieldlist"),k=this.options.get("tooltipFormatFieldlistKey"),j&&k){for(l=[],i=a.length;i--;)m=a[i][k],
(q=d.inArray(m,j))!=-1&&(l[q]=a[i]);a=l}for(e=b.length,p=a.length,i=0;i<e;i++)for(o=b[i],"string"==typeof o&&(o=new g(o)),f=o.fclass||"jqsfield",q=0;q<p;q++)a[q].isNull&&r.get("tooltipSkipNull")||(d.extend(a[q],{prefix:r.get("tooltipPrefix"),suffix:r.get("tooltipSuffix")}),h=o.render(a[q],r.get("tooltipValueLookups"),r),t.push('<div class="'+f+'">'+h+"</div>"));return t.length?s+t.join("\n"):""},getCurrentRegionFields:function(){},calcHighlightColor:function(a,c){var d,e,f,g,i=c.get("highlightColor"),j=c.get("highlightLighten");if(i)return i;if(j&&(d=/^#([0-9a-f])([0-9a-f])([0-9a-f])$/i.exec(a)||/^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})$/i.exec(a))){for(f=[],e=4===a.length?16:1,g=0;g<3;g++)f[g]=h(b.round(parseInt(d[g+1],16)*e*j),0,255);return"rgb("+f.join(",")+")"}return a}}),v={changeHighlight:function(a){var b,c=this.currentRegion,e=this.target,f=this.regionShapes[c];f&&(b=this.renderRegion(c,a),d.isArray(b)||d.isArray(f)?(e.replaceWithShapes(f,b),this.regionShapes[c]=d.map(b,function(a){return a.id})):(e.replaceWithShape(f,b),this.regionShapes[c]=b.id))},render:function(){var a,b,c,e,f=this.values,g=this.target,h=this.regionShapes;if(this.cls._super.render.call(this)){for(c=f.length;c--;)if(a=this.renderRegion(c))if(d.isArray(a)){for(b=[],e=a.length;e--;)a[e].append(),b.push(a[e].id);h[c]=b}else a.append(),h[c]=a.id;else h[c]=null;g.render()}}},d.fn.sparkline.line=w=f(d.fn.sparkline._base,{type:"line",init:function(a,b,c,d,e){w._super.init.call(this,a,b,c,d,e),this.vertices=[],this.regionMap=[],this.xvalues=[],this.yvalues=[],this.yminmax=[],this.hightlightSpotId=null,this.lastShapeId=null,this.initTarget()},getRegion:function(a,b,d){var e,f=this.regionMap;for(e=f.length;e--;)if(null!==f[e]&&b>=f[e][0]&&b<=f[e][1])return f[e][2];return c},getCurrentRegionFields:function(){var a=this.currentRegion;return{isNull:null===this.yvalues[a],x:this.xvalues[a],y:this.yvalues[a],color:this.options.get("lineColor"),fillColor:this.options.get("fillColor"),offset:a}},renderHighlight:function(){var a,b,d=this.currentRegion,e=this.target,f=this.vertices[d],g=this.options,h=g.get("spotRadius"),i=g.get("highlightSpotColor"),j=g.get("highlightLineColor");f&&(h&&i&&(a=e.drawCircle(f[0],f[1],h,c,i),this.highlightSpotId=a.id,e.insertAfterShape(this.lastShapeId,a)),j&&(b=e.drawLine(f[0],this.canvasTop,f[0],this.canvasTop+this.canvasHeight,j),this.highlightLineId=b.id,e.insertAfterShape(this.lastShapeId,b)))},removeHighlight:function(){var a=this.target;this.highlightSpotId&&(a.removeShapeId(this.highlightSpotId),this.highlightSpotId=null),this.highlightLineId&&(a.removeShapeId(this.highlightLineId),this.highlightLineId=null)},scanValues:function(){var a,c,d,e,f,g=this.values,h=g.length,i=this.xvalues,j=this.yvalues,k=this.yminmax;for(a=0;a<h;a++)c=g[a],d="string"==typeof g[a],e="object"==typeof g[a]&&g[a]instanceof Array,f=d&&g[a].split(":"),d&&2===f.length?(i.push(Number(f[0])),j.push(Number(f[1])),k.push(Number(f[1]))):e?(i.push(c[0]),j.push(c[1]),k.push(c[1])):(i.push(a),null===g[a]||"null"===g[a]?j.push(null):(j.push(Number(c)),k.push(Number(c))));this.options.get("xvalues")&&(i=this.options.get("xvalues")),this.maxy=this.maxyorg=b.max.apply(b,k),this.miny=this.minyorg=b.min.apply(b,k),this.maxx=b.max.apply(b,i),this.minx=b.min.apply(b,i),this.xvalues=i,this.yvalues=j,this.yminmax=k},processRangeOptions:function(){var a=this.options,b=a.get("normalRangeMin"),d=a.get("normalRangeMax");b!==c&&(b<this.miny&&(this.miny=b),d>this.maxy&&(this.maxy=d)),a.get("chartRangeMin")!==c&&(a.get("chartRangeClip")||a.get("chartRangeMin")<this.miny)&&(this.miny=a.get("chartRangeMin")),a.get("chartRangeMax")!==c&&(a.get("chartRangeClip")||a.get("chartRangeMax")>this.maxy)&&(this.maxy=a.get("chartRangeMax")),a.get("chartRangeMinX")!==c&&(a.get("chartRangeClipX")||a.get("chartRangeMinX")<this.minx)&&(this.minx=a.get("chartRangeMinX")),a.get("chartRangeMaxX")!==c&&(a.get("chartRangeClipX")||a.get("chartRangeMaxX")>this.maxx)&&(this.maxx=a.get("chartRangeMaxX"))},drawNormalRange:function(a,d,e,f,g){var h=this.options.get("normalRangeMin"),i=this.options.get("normalRangeMax"),j=d+b.round(e-e*((i-this.miny)/g)),k=b.round(e*(i-h)/g);this.target.drawRect(a,j,f,k,c,this.options.get("normalRangeColor")).append()},render:function(){var a,e,f,g,h,i,j,k,l,m,n,o,p,q,r,t,u,v,x,y,z,A,B,C,D,E=this.options,F=this.target,G=this.canvasWidth,H=this.canvasHeight,I=this.vertices,J=E.get("spotRadius"),K=this.regionMap;if(w._super.render.call(this)&&(this.scanValues(),this.processRangeOptions(),B=this.xvalues,C=this.yvalues,this.yminmax.length&&!(this.yvalues.length<2))){for(g=h=0,a=this.maxx-this.minx===0?1:this.maxx-this.minx,e=this.maxy-this.miny===0?1:this.maxy-this.miny,f=this.yvalues.length-1,J&&(G<4*J||H<4*J)&&(J=0),J&&(z=E.get("highlightSpotColor")&&!E.get("disableInteraction"),(z||E.get("minSpotColor")||E.get("spotColor")&&C[f]===this.miny)&&(H-=b.ceil(J)),(z||E.get("maxSpotColor")||E.get("spotColor")&&C[f]===this.maxy)&&(H-=b.ceil(J),g+=b.ceil(J)),(z||(E.get("minSpotColor")||E.get("maxSpotColor"))&&(C[0]===this.miny||C[0]===this.maxy))&&(h+=b.ceil(J),G-=b.ceil(J)),(z||E.get("spotColor")||E.get("minSpotColor")||E.get("maxSpotColor")&&(C[f]===this.miny||C[f]===this.maxy))&&(G-=b.ceil(J))),H--,E.get("normalRangeMin")===c||E.get("drawNormalOnTop")||this.drawNormalRange(h,g,H,G,e),j=[],k=[j],q=r=null,t=C.length,D=0;D<t;D++)l=B[D],n=B[D+1],m=C[D],o=h+b.round((l-this.minx)*(G/a)),p=D<t-1?h+b.round((n-this.minx)*(G/a)):G,r=o+(p-o)/2,K[D]=[q||0,r,D],q=r,null===m?D&&(null!==C[D-1]&&(j=[],k.push(j)),I.push(null)):(m<this.miny&&(m=this.miny),m>this.maxy&&(m=this.maxy),j.length||j.push([o,g+H]),i=[o,g+b.round(H-H*((m-this.miny)/e))],j.push(i),I.push(i));for(u=[],v=[],x=k.length,D=0;D<x;D++)j=k[D],j.length&&(E.get("fillColor")&&(j.push([j[j.length-1][0],g+H]),v.push(j.slice(0)),j.pop()),j.length>2&&(j[0]=[j[0][0],j[1][1]]),u.push(j));for(x=v.length,D=0;D<x;D++)F.drawShape(v[D],E.get("fillColor"),E.get("fillColor")).append();for(E.get("normalRangeMin")!==c&&E.get("drawNormalOnTop")&&this.drawNormalRange(h,g,H,G,e),x=u.length,D=0;D<x;D++)F.drawShape(u[D],E.get("lineColor"),c,E.get("lineWidth")).append();if(J&&E.get("valueSpots"))for(y=E.get("valueSpots"),y.get===c&&(y=new s(y)),D=0;D<t;D++)A=y.get(C[D]),A&&F.drawCircle(h+b.round((B[D]-this.minx)*(G/a)),g+b.round(H-H*((C[D]-this.miny)/e)),J,c,A).append();J&&E.get("spotColor")&&null!==C[f]&&F.drawCircle(h+b.round((B[B.length-1]-this.minx)*(G/a)),g+b.round(H-H*((C[f]-this.miny)/e)),J,c,E.get("spotColor")).append(),this.maxy!==this.minyorg&&(J&&E.get("minSpotColor")&&(l=B[d.inArray(this.minyorg,C)],F.drawCircle(h+b.round((l-this.minx)*(G/a)),g+b.round(H-H*((this.minyorg-this.miny)/e)),J,c,E.get("minSpotColor")).append()),J&&E.get("maxSpotColor")&&(l=B[d.inArray(this.maxyorg,C)],F.drawCircle(h+b.round((l-this.minx)*(G/a)),g+b.round(H-H*((this.maxyorg-this.miny)/e)),J,c,E.get("maxSpotColor")).append())),this.lastShapeId=F.getLastShapeId(),this.canvasTop=g,F.render()}}}),d.fn.sparkline.bar=x=f(d.fn.sparkline._base,v,{type:"bar",init:function(a,e,f,g,i){var m,n,o,p,q,r,t,u,v,w,y,z,A,B,C,D,E,F,G,H,I,J,K=parseInt(f.get("barWidth"),10),L=parseInt(f.get("barSpacing"),10),M=f.get("chartRangeMin"),N=f.get("chartRangeMax"),O=f.get("chartRangeClip"),P=1/0,Q=-(1/0);for(x._super.init.call(this,a,e,f,g,i),r=0,t=e.length;r<t;r++)H=e[r],m="string"==typeof H&&H.indexOf(":")>-1,(m||d.isArray(H))&&(C=!0,m&&(H=e[r]=k(H.split(":"))),H=l(H,null),n=b.min.apply(b,H),o=b.max.apply(b,H),n<P&&(P=n),o>Q&&(Q=o));this.stacked=C,this.regionShapes={},this.barWidth=K,this.barSpacing=L,this.totalBarWidth=K+L,this.width=g=e.length*K+(e.length-1)*L,this.initTarget(),O&&(A=M===c?-(1/0):M,B=N===c?1/0:N),q=[],p=C?[]:q;var R=[],S=[];for(r=0,t=e.length;r<t;r++)if(C)for(D=e[r],e[r]=G=[],R[r]=0,p[r]=S[r]=0,E=0,F=D.length;E<F;E++)H=G[E]=O?h(D[E],A,B):D[E],null!==H&&(H>0&&(R[r]+=H),P<0&&Q>0?H<0?S[r]+=b.abs(H):p[r]+=H:p[r]+=b.abs(H-(H<0?Q:P)),q.push(H));else H=O?h(e[r],A,B):e[r],H=e[r]=j(H),null!==H&&q.push(H);this.max=z=b.max.apply(b,q),this.min=y=b.min.apply(b,q),this.stackMax=Q=C?b.max.apply(b,R):z,this.stackMin=P=C?b.min.apply(b,q):y,f.get("chartRangeMin")!==c&&(f.get("chartRangeClip")||f.get("chartRangeMin")<y)&&(y=f.get("chartRangeMin")),f.get("chartRangeMax")!==c&&(f.get("chartRangeClip")||f.get("chartRangeMax")>z)&&(z=f.get("chartRangeMax")),this.zeroAxis=v=f.get("zeroAxis",!0),w=y<=0&&z>=0&&v?0:0==v?y:y>0?y:z,this.xaxisOffset=w,u=C?b.max.apply(b,p)+b.max.apply(b,S):z-y,this.canvasHeightEf=v&&y<0?this.canvasHeight-2:this.canvasHeight-1,y<w?(J=C&&z>=0?Q:z,I=(J-w)/u*this.canvasHeight,I!==b.ceil(I)&&(this.canvasHeightEf-=2,I=b.ceil(I))):I=this.canvasHeight,this.yoffset=I,d.isArray(f.get("colorMap"))?(this.colorMapByIndex=f.get("colorMap"),this.colorMapByValue=null):(this.colorMapByIndex=null,this.colorMapByValue=f.get("colorMap"),this.colorMapByValue&&this.colorMapByValue.get===c&&(this.colorMapByValue=new s(this.colorMapByValue))),this.range=u},getRegion:function(a,d,e){var f=b.floor(d/this.totalBarWidth);return f<0||f>=this.values.length?c:f},getCurrentRegionFields:function(){var a,b,c=this.currentRegion,d=q(this.values[c]),e=[];for(b=d.length;b--;)a=d[b],e.push({isNull:null===a,value:a,color:this.calcColor(b,a,c),offset:c});return e},calcColor:function(a,b,e){var f,g,h=this.colorMapByIndex,i=this.colorMapByValue,j=this.options;return f=this.stacked?j.get("stackedBarColor"):b<0?j.get("negBarColor"):j.get("barColor"),0===b&&j.get("zeroColor")!==c&&(f=j.get("zeroColor")),i&&(g=i.get(b))?f=g:h&&h.length>e&&(f=h[e]),d.isArray(f)?f[a%f.length]:f},renderRegion:function(a,e){var f,g,h,i,j,k,l,m,o,p,q=this.values[a],r=this.options,s=this.xaxisOffset,t=[],u=this.range,v=this.stacked,w=this.target,x=a*this.totalBarWidth,y=this.canvasHeightEf,z=this.yoffset;if(q=d.isArray(q)?q:[q],l=q.length,m=q[0],i=n(null,q),p=n(s,q,!0),i)return r.get("nullColor")?(h=e?r.get("nullColor"):this.calcHighlightColor(r.get("nullColor"),r),f=z>0?z-1:z,w.drawRect(x,f,this.barWidth-1,0,h,h)):c;for(j=z,k=0;k<l;k++){if(m=q[k],v&&m===s){if(!p||o)continue;o=!0}g=u>0?b.floor(y*(b.abs(m-s)/u))+1:1,m<s||m===s&&0===z?(f=j,j+=g):(f=z-g,z-=g),h=this.calcColor(k,m,a),e&&(h=this.calcHighlightColor(h,r)),t.push(w.drawRect(x,f,this.barWidth-1,g-1,h,h))}return 1===t.length?t[0]:t}}),d.fn.sparkline.tristate=y=f(d.fn.sparkline._base,v,{type:"tristate",init:function(a,b,e,f,g){var h=parseInt(e.get("barWidth"),10),i=parseInt(e.get("barSpacing"),10);y._super.init.call(this,a,b,e,f,g),this.regionShapes={},this.barWidth=h,this.barSpacing=i,this.totalBarWidth=h+i,this.values=d.map(b,Number),this.width=f=b.length*h+(b.length-1)*i,d.isArray(e.get("colorMap"))?(this.colorMapByIndex=e.get("colorMap"),this.colorMapByValue=null):(this.colorMapByIndex=null,this.colorMapByValue=e.get("colorMap"),this.colorMapByValue&&this.colorMapByValue.get===c&&(this.colorMapByValue=new s(this.colorMapByValue))),this.initTarget()},getRegion:function(a,c,d){return b.floor(c/this.totalBarWidth)},getCurrentRegionFields:function(){var a=this.currentRegion;return{isNull:this.values[a]===c,value:this.values[a],color:this.calcColor(this.values[a],a),offset:a}},calcColor:function(a,b){var c,d,e=this.values,f=this.options,g=this.colorMapByIndex,h=this.colorMapByValue;return c=h&&(d=h.get(a))?d:g&&g.length>b?g[b]:e[b]<0?f.get("negBarColor"):e[b]>0?f.get("posBarColor"):f.get("zeroBarColor")},renderRegion:function(a,c){var d,e,f,g,h,i,j=this.values,k=this.options,l=this.target;if(d=l.pixelHeight,f=b.round(d/2),g=a*this.totalBarWidth,j[a]<0?(h=f,e=f-1):j[a]>0?(h=0,e=f-1):(h=f-1,e=2),i=this.calcColor(j[a],a),null!==i)return c&&(i=this.calcHighlightColor(i,k)),l.drawRect(g,h,this.barWidth-1,e-1,i,i)}}),d.fn.sparkline.discrete=z=f(d.fn.sparkline._base,v,{type:"discrete",init:function(a,e,f,g,h){z._super.init.call(this,a,e,f,g,h),this.regionShapes={},this.values=e=d.map(e,Number),this.min=b.min.apply(b,e),this.max=b.max.apply(b,e),this.range=this.max-this.min,this.width=g="auto"===f.get("width")?2*e.length:this.width,this.interval=b.floor(g/e.length),this.itemWidth=g/e.length,f.get("chartRangeMin")!==c&&(f.get("chartRangeClip")||f.get("chartRangeMin")<this.min)&&(this.min=f.get("chartRangeMin")),f.get("chartRangeMax")!==c&&(f.get("chartRangeClip")||f.get("chartRangeMax")>this.max)&&(this.max=f.get("chartRangeMax")),this.initTarget(),this.target&&(this.lineHeight="auto"===f.get("lineHeight")?b.round(.3*this.canvasHeight):f.get("lineHeight"))},getRegion:function(a,c,d){return b.floor(c/this.itemWidth)},getCurrentRegionFields:function(){var a=this.currentRegion;return{isNull:this.values[a]===c,value:this.values[a],offset:a}},renderRegion:function(a,c){var d,e,f,g,i=this.values,j=this.options,k=this.min,l=this.max,m=this.range,n=this.interval,o=this.target,p=this.canvasHeight,q=this.lineHeight,r=p-q;return e=h(i[a],k,l),g=a*n,d=b.round(r-r*((e-k)/m)),f=j.get("thresholdColor")&&e<j.get("thresholdValue")?j.get("thresholdColor"):j.get("lineColor"),c&&(f=this.calcHighlightColor(f,j)),o.drawLine(g,d,g,d+q,f)}}),d.fn.sparkline.bullet=A=f(d.fn.sparkline._base,{type:"bullet",init:function(a,d,e,f,g){var h,i,j;A._super.init.call(this,a,d,e,f,g),this.values=d=k(d),j=d.slice(),j[0]=null===j[0]?j[2]:j[0],j[1]=null===d[1]?j[2]:j[1],h=b.min.apply(b,d),i=b.max.apply(b,d),h=e.get("base")===c?h<0?h:0:e.get("base"),this.min=h,this.max=i,this.range=i-h,this.shapes={},this.valueShapes={},this.regiondata={},this.width=f="auto"===e.get("width")?"4.0em":f,this.target=this.$el.simpledraw(f,g,e.get("composite")),d.length||(this.disabled=!0),this.initTarget()},getRegion:function(a,b,d){var e=this.target.getShapeAt(a,b,d);return e!==c&&this.shapes[e]!==c?this.shapes[e]:c},getCurrentRegionFields:function(){var a=this.currentRegion;return{fieldkey:a.substr(0,1),value:this.values[a.substr(1)],region:a}},changeHighlight:function(a){var b,c=this.currentRegion,d=this.valueShapes[c];switch(delete this.shapes[d],c.substr(0,1)){case"r":b=this.renderRange(c.substr(1),a);break;case"p":b=this.renderPerformance(a);break;case"t":b=this.renderTarget(a)}this.valueShapes[c]=b.id,this.shapes[b.id]=c,this.target.replaceWithShape(d,b)},renderRange:function(a,c){var d=this.values[a],e=b.round(this.canvasWidth*((d-this.min)/this.range)),f=this.options.get("rangeColors")[a-2];return c&&(f=this.calcHighlightColor(f,this.options)),this.target.drawRect(0,0,e-1,this.canvasHeight-1,f,f)},renderPerformance:function(a){var c=this.values[1],d=b.round(this.canvasWidth*((c-this.min)/this.range)),e=this.options.get("performanceColor");return a&&(e=this.calcHighlightColor(e,this.options)),this.target.drawRect(0,b.round(.3*this.canvasHeight),d-1,b.round(.4*this.canvasHeight)-1,e,e)},renderTarget:function(a){var c=this.values[0],d=b.round(this.canvasWidth*((c-this.min)/this.range)-this.options.get("targetWidth")/2),e=b.round(.1*this.canvasHeight),f=this.canvasHeight-2*e,g=this.options.get("targetColor");return a&&(g=this.calcHighlightColor(g,this.options)),this.target.drawRect(d,e,this.options.get("targetWidth")-1,f-1,g,g)},render:function(){var a,b,c=this.values.length,d=this.target;if(A._super.render.call(this)){for(a=2;a<c;a++)b=this.renderRange(a).append(),this.shapes[b.id]="r"+a,this.valueShapes["r"+a]=b.id;null!==this.values[1]&&(b=this.renderPerformance().append(),this.shapes[b.id]="p1",this.valueShapes.p1=b.id),null!==this.values[0]&&(b=this.renderTarget().append(),this.shapes[b.id]="t0",this.valueShapes.t0=b.id),d.render()}}}),d.fn.sparkline.pie=B=f(d.fn.sparkline._base,{type:"pie",init:function(a,c,e,f,g){var h,i=0;if(B._super.init.call(this,a,c,e,f,g),this.shapes={},this.valueShapes={},this.values=c=d.map(c,Number),"auto"===e.get("width")&&(this.width=this.height),c.length>0)for(h=c.length;h--;)i+=c[h];this.total=i,this.initTarget(),this.radius=b.floor(b.min(this.canvasWidth,this.canvasHeight)/2)},getRegion:function(a,b,d){var e=this.target.getShapeAt(a,b,d);return e!==c&&this.shapes[e]!==c?this.shapes[e]:c},getCurrentRegionFields:function(){var a=this.currentRegion;return{isNull:this.values[a]===c,value:this.values[a],percent:this.values[a]/this.total*100,color:this.options.get("sliceColors")[a%this.options.get("sliceColors").length],offset:a}},changeHighlight:function(a){var b=this.currentRegion,c=this.renderSlice(b,a),d=this.valueShapes[b];delete this.shapes[d],this.target.replaceWithShape(d,c),this.valueShapes[b]=c.id,this.shapes[c.id]=b},renderSlice:function(a,d){var e,f,g,h,i,j=this.target,k=this.options,l=this.radius,m=k.get("borderWidth"),n=k.get("offset"),o=2*b.PI,p=this.values,q=this.total,r=n?2*b.PI*(n/360):0;for(h=p.length,g=0;g<h;g++){if(e=r,f=r,q>0&&(f=r+o*(p[g]/q)),a===g)return i=k.get("sliceColors")[g%k.get("sliceColors").length],d&&(i=this.calcHighlightColor(i,k)),j.drawPieSlice(l,l,l-m,e,f,c,i);r=f}},render:function(){var a,d,e=this.target,f=this.values,g=this.options,h=this.radius,i=g.get("borderWidth");if(B._super.render.call(this)){for(i&&e.drawCircle(h,h,b.floor(h-i/2),g.get("borderColor"),c,i).append(),d=f.length;d--;)f[d]&&(a=this.renderSlice(d).append(),this.valueShapes[d]=a.id,this.shapes[a.id]=d);e.render()}}}),d.fn.sparkline.box=C=f(d.fn.sparkline._base,{type:"box",init:function(a,b,c,e,f){C._super.init.call(this,a,b,c,e,f),this.values=d.map(b,Number),this.width="auto"===c.get("width")?"4.0em":e,this.initTarget(),this.values.length||(this.disabled=1)},getRegion:function(){return 1},getCurrentRegionFields:function(){var a=[{field:"lq",value:this.quartiles[0]},{field:"med",value:this.quartiles[1]},{field:"uq",value:this.quartiles[2]}];return this.loutlier!==c&&a.push({field:"lo",value:this.loutlier}),this.routlier!==c&&a.push({field:"ro",value:this.routlier}),this.lwhisker!==c&&a.push({field:"lw",value:this.lwhisker}),this.rwhisker!==c&&a.push({field:"rw",value:this.rwhisker}),a},render:function(){var a,d,e,f,g,h,j,k,l,m,n,o=this.target,p=this.values,q=p.length,r=this.options,s=this.canvasWidth,t=this.canvasHeight,u=r.get("chartRangeMin")===c?b.min.apply(b,p):r.get("chartRangeMin"),v=r.get("chartRangeMax")===c?b.max.apply(b,p):r.get("chartRangeMax"),w=0;if(C._super.render.call(this)){if(r.get("raw"))r.get("showOutliers")&&p.length>5?(d=p[0],a=p[1],f=p[2],g=p[3],h=p[4],j=p[5],k=p[6]):(a=p[0],f=p[1],g=p[2],h=p[3],j=p[4]);else if(p.sort(function(a,b){return a-b}),f=i(p,1),g=i(p,2),h=i(p,3),e=h-f,r.get("showOutliers")){for(a=j=c,l=0;l<q;l++)a===c&&p[l]>f-e*r.get("outlierIQR")&&(a=p[l]),p[l]<h+e*r.get("outlierIQR")&&(j=p[l]);d=p[0],k=p[q-1]}else a=p[0],j=p[q-1];this.quartiles=[f,g,h],this.lwhisker=a,this.rwhisker=j,this.loutlier=d,this.routlier=k,n=s/(v-u+1),r.get("showOutliers")&&(w=b.ceil(r.get("spotRadius")),s-=2*b.ceil(r.get("spotRadius")),n=s/(v-u+1),d<a&&o.drawCircle((d-u)*n+w,t/2,r.get("spotRadius"),r.get("outlierLineColor"),r.get("outlierFillColor")).append(),k>j&&o.drawCircle((k-u)*n+w,t/2,r.get("spotRadius"),r.get("outlierLineColor"),r.get("outlierFillColor")).append()),o.drawRect(b.round((f-u)*n+w),b.round(.1*t),b.round((h-f)*n),b.round(.8*t),r.get("boxLineColor"),r.get("boxFillColor")).append(),o.drawLine(b.round((a-u)*n+w),b.round(t/2),b.round((f-u)*n+w),b.round(t/2),r.get("lineColor")).append(),o.drawLine(b.round((a-u)*n+w),b.round(t/4),b.round((a-u)*n+w),b.round(t-t/4),r.get("whiskerColor")).append(),o.drawLine(b.round((j-u)*n+w),b.round(t/2),b.round((h-u)*n+w),b.round(t/2),r.get("lineColor")).append(),o.drawLine(b.round((j-u)*n+w),b.round(t/4),b.round((j-u)*n+w),b.round(t-t/4),r.get("whiskerColor")).append(),o.drawLine(b.round((g-u)*n+w),b.round(.1*t),b.round((g-u)*n+w),b.round(.9*t),r.get("medianColor")).append(),r.get("target")&&(m=b.ceil(r.get("spotRadius")),o.drawLine(b.round((r.get("target")-u)*n+w),b.round(t/2-m),b.round((r.get("target")-u)*n+w),b.round(t/2+m),r.get("targetColor")).append(),o.drawLine(b.round((r.get("target")-u)*n+w-m),b.round(t/2),b.round((r.get("target")-u)*n+w+m),b.round(t/2),r.get("targetColor")).append()),o.render()}}}),F=f({init:function(a,b,c,d){this.target=a,this.id=b,this.type=c,this.args=d},append:function(){return this.target.appendShape(this),this}}),G=f({_pxregex:/(\d+)(px)?\s*$/i,init:function(a,b,c){a&&(this.width=a,this.height=b,this.target=c,this.lastShapeId=null,c[0]&&(c=c[0]),d.data(c,"_jqs_vcanvas",this))},drawLine:function(a,b,c,d,e,f){return this.drawShape([[a,b],[c,d]],e,f)},drawShape:function(a,b,c,d){return this._genShape("Shape",[a,b,c,d])},drawCircle:function(a,b,c,d,e,f){return this._genShape("Circle",[a,b,c,d,e,f])},drawPieSlice:function(a,b,c,d,e,f,g){return this._genShape("PieSlice",[a,b,c,d,e,f,g])},drawRect:function(a,b,c,d,e,f){return this._genShape("Rect",[a,b,c,d,e,f])},getElement:function(){return this.canvas},getLastShapeId:function(){return this.lastShapeId},reset:function(){alert("reset not implemented")},_insert:function(a,b){d(b).html(a)},_calculatePixelDims:function(a,b,c){var e;e=this._pxregex.exec(b),e?this.pixelHeight=e[1]:this.pixelHeight=d(c).height(),e=this._pxregex.exec(a),e?this.pixelWidth=e[1]:this.pixelWidth=d(c).width()},_genShape:function(a,b){var c=L++;return b.unshift(c),new F(this,c,a,b)},appendShape:function(a){alert("appendShape not implemented")},replaceWithShape:function(a,b){alert("replaceWithShape not implemented")},insertAfterShape:function(a,b){alert("insertAfterShape not implemented")},removeShapeId:function(a){alert("removeShapeId not implemented")},getShapeAt:function(a,b,c){alert("getShapeAt not implemented")},render:function(){alert("render not implemented")}}),H=f(G,{init:function(b,e,f,g){H._super.init.call(this,b,e,f),this.canvas=a.createElement("canvas"),f[0]&&(f=f[0]),d.data(f,"_jqs_vcanvas",this),d(this.canvas).css({display:"inline-block",width:b,height:e,verticalAlign:"top"}),this._insert(this.canvas,f),this._calculatePixelDims(b,e,this.canvas),this.canvas.width=this.pixelWidth,this.canvas.height=this.pixelHeight,this.interact=g,this.shapes={},this.shapeseq=[],this.currentTargetShapeId=c,d(this.canvas).css({width:this.pixelWidth,height:this.pixelHeight})},_getContext:function(a,b,d){var e=this.canvas.getContext("2d");return a!==c&&(e.strokeStyle=a),e.lineWidth=d===c?1:d,b!==c&&(e.fillStyle=b),e},reset:function(){var a=this._getContext();a.clearRect(0,0,this.pixelWidth,this.pixelHeight),this.shapes={},this.shapeseq=[],this.currentTargetShapeId=c},_drawShape:function(a,b,d,e,f){var g,h,i=this._getContext(d,e,f);for(i.beginPath(),i.moveTo(b[0][0]+.5,b[0][1]+.5),g=1,h=b.length;g<h;g++)i.lineTo(b[g][0]+.5,b[g][1]+.5);d!==c&&i.stroke(),e!==c&&i.fill(),this.targetX!==c&&this.targetY!==c&&i.isPointInPath(this.targetX,this.targetY)&&(this.currentTargetShapeId=a)},_drawCircle:function(a,d,e,f,g,h,i){var j=this._getContext(g,h,i);j.beginPath(),j.arc(d,e,f,0,2*b.PI,!1),this.targetX!==c&&this.targetY!==c&&j.isPointInPath(this.targetX,this.targetY)&&(this.currentTargetShapeId=a),g!==c&&j.stroke(),h!==c&&j.fill()},_drawPieSlice:function(a,b,d,e,f,g,h,i){var j=this._getContext(h,i);j.beginPath(),j.moveTo(b,d),j.arc(b,d,e,f,g,!1),j.lineTo(b,d),j.closePath(),h!==c&&j.stroke(),i&&j.fill(),this.targetX!==c&&this.targetY!==c&&j.isPointInPath(this.targetX,this.targetY)&&(this.currentTargetShapeId=a)},_drawRect:function(a,b,c,d,e,f,g){return this._drawShape(a,[[b,c],[b+d,c],[b+d,c+e],[b,c+e],[b,c]],f,g)},appendShape:function(a){return this.shapes[a.id]=a,this.shapeseq.push(a.id),this.lastShapeId=a.id,a.id},replaceWithShape:function(a,b){var c,d=this.shapeseq;for(this.shapes[b.id]=b,c=d.length;c--;)d[c]==a&&(d[c]=b.id);delete this.shapes[a]},replaceWithShapes:function(a,b){var c,d,e,f=this.shapeseq,g={};for(d=a.length;d--;)g[a[d]]=!0;for(d=f.length;d--;)c=f[d],g[c]&&(f.splice(d,1),delete this.shapes[c],e=d);for(d=b.length;d--;)f.splice(e,0,b[d].id),this.shapes[b[d].id]=b[d]},insertAfterShape:function(a,b){var c,d=this.shapeseq;for(c=d.length;c--;)if(d[c]===a)return d.splice(c+1,0,b.id),void(this.shapes[b.id]=b)},removeShapeId:function(a){var b,c=this.shapeseq;for(b=c.length;b--;)if(c[b]===a){c.splice(b,1);break}delete this.shapes[a]},getShapeAt:function(a,b,c){return this.targetX=b,this.targetY=c,this.render(),this.currentTargetShapeId},render:function(){var a,b,c,d=this.shapeseq,e=this.shapes,f=d.length,g=this._getContext();for(g.clearRect(0,0,this.pixelWidth,this.pixelHeight),c=0;c<f;c++)a=d[c],b=e[a],this["_draw"+b.type].apply(this,b.args);this.interact||(this.shapes={},this.shapeseq=[])}}),I=f(G,{init:function(b,c,e){var f;I._super.init.call(this,b,c,e),e[0]&&(e=e[0]),d.data(e,"_jqs_vcanvas",this),this.canvas=a.createElement("span"),d(this.canvas).css({display:"inline-block",position:"relative",overflow:"hidden",width:b,height:c,margin:"0px",padding:"0px",verticalAlign:"top"}),this._insert(this.canvas,e),this._calculatePixelDims(b,c,this.canvas),this.canvas.width=this.pixelWidth,this.canvas.height=this.pixelHeight,f='<v:group coordorigin="0 0" coordsize="'+this.pixelWidth+" "+this.pixelHeight+'" style="position:absolute;top:0;left:0;width:'+this.pixelWidth+"px;height="+this.pixelHeight+'px;"></v:group>',this.canvas.insertAdjacentHTML("beforeEnd",f),this.group=d(this.canvas).children()[0],this.rendered=!1,this.prerender=""},_drawShape:function(a,b,d,e,f){var g,h,i,j,k,l,m,n=[];for(m=0,l=b.length;m<l;m++)n[m]=""+b[m][0]+","+b[m][1];return g=n.splice(0,1),f=f===c?1:f,h=d===c?' stroked="false" ':' strokeWeight="'+f+'px" strokeColor="'+d+'" ',i=e===c?' filled="false"':' fillColor="'+e+'" filled="true" ',j=n[0]===n[n.length-1]?"x ":"",k='<v:shape coordorigin="0 0" coordsize="'+this.pixelWidth+" "+this.pixelHeight+'"  id="jqsshape'+a+'" '+h+i+' style="position:absolute;left:0px;top:0px;height:'+this.pixelHeight+"px;width:"+this.pixelWidth+'px;padding:0px;margin:0px;"  path="m '+g+" l "+n.join(", ")+" "+j+'e"> </v:shape>'},_drawCircle:function(a,b,d,e,f,g,h){var i,j,k;return b-=e,d-=e,i=f===c?' stroked="false" ':' strokeWeight="'+h+'px" strokeColor="'+f+'" ',j=g===c?' filled="false"':' fillColor="'+g+'" filled="true" ',k='<v:oval  id="jqsshape'+a+'" '+i+j+' style="position:absolute;top:'+d+"px; left:"+b+"px; width:"+2*e+"px; height:"+2*e+'px"></v:oval>'},_drawPieSlice:function(a,d,e,f,g,h,i,j){var k,l,m,n,o,p,q,r;if(g===h)return"";if(h-g===2*b.PI&&(g=0,h=2*b.PI),l=d+b.round(b.cos(g)*f),m=e+b.round(b.sin(g)*f),n=d+b.round(b.cos(h)*f),o=e+b.round(b.sin(h)*f),l===n&&m===o){if(h-g<b.PI)return"";l=n=d+f,m=o=e}return l===n&&m===o&&h-g<b.PI?"":(k=[d-f,e-f,d+f,e+f,l,m,n,o],p=i===c?' stroked="false" ':' strokeWeight="1px" strokeColor="'+i+'" ',q=j===c?' filled="false"':' fillColor="'+j+'" filled="true" ',r='<v:shape coordorigin="0 0" coordsize="'+this.pixelWidth+" "+this.pixelHeight+'"  id="jqsshape'+a+'" '+p+q+' style="position:absolute;left:0px;top:0px;height:'+this.pixelHeight+"px;width:"+this.pixelWidth+'px;padding:0px;margin:0px;"  path="m '+d+","+e+" wa "+k.join(", ")+' x e"> </v:shape>')},_drawRect:function(a,b,c,d,e,f,g){return this._drawShape(a,[[b,c],[b,c+e],[b+d,c+e],[b+d,c],[b,c]],f,g)},reset:function(){this.group.innerHTML=""},appendShape:function(a){var b=this["_draw"+a.type].apply(this,a.args);return this.rendered?this.group.insertAdjacentHTML("beforeEnd",b):this.prerender+=b,this.lastShapeId=a.id,a.id},replaceWithShape:function(a,b){var c=d("#jqsshape"+a),e=this["_draw"+b.type].apply(this,b.args);c[0].outerHTML=e},replaceWithShapes:function(a,b){var c,e=d("#jqsshape"+a[0]),f="",g=b.length;for(c=0;c<g;c++)f+=this["_draw"+b[c].type].apply(this,b[c].args);for(e[0].outerHTML=f,c=1;c<a.length;c++)d("#jqsshape"+a[c]).remove()},insertAfterShape:function(a,b){var c=d("#jqsshape"+a),e=this["_draw"+b.type].apply(this,b.args);c[0].insertAdjacentHTML("afterEnd",e)},removeShapeId:function(a){var b=d("#jqsshape"+a);this.group.removeChild(b[0])},getShapeAt:function(a,b,c){var d=a.id.substr(8);return d},render:function(){this.rendered||(this.group.innerHTML=this.prerender,this.rendered=!0)}})})}(document,Math),"undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");+function(a){"use strict";function b(){var a=document.createElement("bootstrap"),b={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var c in b)if(void 0!==a.style[c])return{end:b[c]};return!1}a.fn.emulateTransitionEnd=function(b){var c=!1,d=this;a(this).one("bsTransitionEnd",function(){c=!0});var e=function(){c||a(d).trigger(a.support.transition.end)};return setTimeout(e,b),this},a(function(){a.support.transition=b(),a.support.transition&&(a.event.special.bsTransitionEnd={bindType:a.support.transition.end,delegateType:a.support.transition.end,handle:function(b){return a(b.target).is(this)?b.handleObj.handler.apply(this,arguments):void 0}})})}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var c=a(this),e=c.data("bs.alert");e||c.data("bs.alert",e=new d(this)),"string"==typeof b&&e[b].call(c)})}var c='[data-dismiss="alert"]',d=function(b){a(b).on("click",c,this.close)};d.VERSION="3.2.0",d.prototype.close=function(b){function c(){f.detach().trigger("closed.bs.alert").remove()}var d=a(this),e=d.attr("data-target");e||(e=d.attr("href"),e=e&&e.replace(/.*(?=#[^\s]*$)/,""));var f=a(e);b&&b.preventDefault(),f.length||(f=d.hasClass("alert")?d:d.parent()),f.trigger(b=a.Event("close.bs.alert")),b.isDefaultPrevented()||(f.removeClass("in"),a.support.transition&&f.hasClass("fade")?f.one("bsTransitionEnd",c).emulateTransitionEnd(150):c())};var e=a.fn.alert;a.fn.alert=b,a.fn.alert.Constructor=d,a.fn.alert.noConflict=function(){return a.fn.alert=e,this},a(document).on("click.bs.alert.data-api",c,d.prototype.close)}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.button"),f="object"==typeof b&&b;e||d.data("bs.button",e=new c(this,f)),"toggle"==b?e.toggle():b&&e.setState(b)})}var c=function(b,d){this.$element=a(b),this.options=a.extend({},c.DEFAULTS,d),this.isLoading=!1};c.VERSION="3.2.0",c.DEFAULTS={loadingText:"loading..."},c.prototype.setState=function(b){var c="disabled",d=this.$element,e=d.is("input")?"val":"html",f=d.data();b+="Text",null==f.resetText&&d.data("resetText",d[e]()),d[e](null==f[b]?this.options[b]:f[b]),setTimeout(a.proxy(function(){"loadingText"==b?(this.isLoading=!0,d.addClass(c).attr(c,c)):this.isLoading&&(this.isLoading=!1,d.removeClass(c).removeAttr(c))},this),0)},c.prototype.toggle=function(){var a=!0,b=this.$element.closest('[data-toggle="buttons"]');if(b.length){var c=this.$element.find("input");"radio"==c.prop("type")&&(c.prop("checked")&&this.$element.hasClass("active")?a=!1:b.find(".active").removeClass("active")),a&&c.prop("checked",!this.$element.hasClass("active")).trigger("change")}a&&this.$element.toggleClass("active")};var d=a.fn.button;a.fn.button=b,a.fn.button.Constructor=c,a.fn.button.noConflict=function(){return a.fn.button=d,this},a(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(c){var d=a(c.target);d.hasClass("btn")||(d=d.closest(".btn")),b.call(d,"toggle"),c.preventDefault()})}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.carousel"),f=a.extend({},c.DEFAULTS,d.data(),"object"==typeof b&&b),g="string"==typeof b?b:f.slide;e||d.data("bs.carousel",e=new c(this,f)),"number"==typeof b?e.to(b):g?e[g]():f.interval&&e.pause().cycle()})}var c=function(b,c){this.$element=a(b).on("keydown.bs.carousel",a.proxy(this.keydown,this)),this.$indicators=this.$element.find(".carousel-indicators"),this.options=c,this.paused=this.sliding=this.interval=this.$active=this.$items=null,"hover"==this.options.pause&&this.$element.on("mouseenter.bs.carousel",a.proxy(this.pause,this)).on("mouseleave.bs.carousel",a.proxy(this.cycle,this))};c.VERSION="3.2.0",c.DEFAULTS={interval:5e3,pause:"hover",wrap:!0},c.prototype.keydown=function(a){switch(a.which){case 37:this.prev();break;case 39:this.next();break;default:return}a.preventDefault()},c.prototype.cycle=function(b){return b||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(a.proxy(this.next,this),this.options.interval)),
this},c.prototype.getItemIndex=function(a){return this.$items=a.parent().children(".item"),this.$items.index(a||this.$active)},c.prototype.to=function(b){var c=this,d=this.getItemIndex(this.$active=this.$element.find(".item.active"));return b>this.$items.length-1||0>b?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){c.to(b)}):d==b?this.pause().cycle():this.slide(b>d?"next":"prev",a(this.$items[b]))},c.prototype.pause=function(b){return b||(this.paused=!0),this.$element.find(".next, .prev").length&&a.support.transition&&(this.$element.trigger(a.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},c.prototype.next=function(){return this.sliding?void 0:this.slide("next")},c.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},c.prototype.slide=function(b,c){var d=this.$element.find(".item.active"),e=c||d[b](),f=this.interval,g="next"==b?"left":"right",h="next"==b?"first":"last",i=this;if(!e.length){if(!this.options.wrap)return;e=this.$element.find(".item")[h]()}if(e.hasClass("active"))return this.sliding=!1;var j=e[0],k=a.Event("slide.bs.carousel",{relatedTarget:j,direction:g});if(this.$element.trigger(k),!k.isDefaultPrevented()){if(this.sliding=!0,f&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var l=a(this.$indicators.children()[this.getItemIndex(e)]);l&&l.addClass("active")}var m=a.Event("slid.bs.carousel",{relatedTarget:j,direction:g});return a.support.transition&&this.$element.hasClass("slide")?(e.addClass(b),e[0].offsetWidth,d.addClass(g),e.addClass(g),d.one("bsTransitionEnd",function(){e.removeClass([b,g].join(" ")).addClass("active"),d.removeClass(["active",g].join(" ")),i.sliding=!1,setTimeout(function(){i.$element.trigger(m)},0)}).emulateTransitionEnd(1e3*d.css("transition-duration").slice(0,-1))):(d.removeClass("active"),e.addClass("active"),this.sliding=!1,this.$element.trigger(m)),f&&this.cycle(),this}};var d=a.fn.carousel;a.fn.carousel=b,a.fn.carousel.Constructor=c,a.fn.carousel.noConflict=function(){return a.fn.carousel=d,this},a(document).on("click.bs.carousel.data-api","[data-slide], [data-slide-to]",function(c){var d,e=a(this),f=a(e.attr("data-target")||(d=e.attr("href"))&&d.replace(/.*(?=#[^\s]+$)/,""));if(f.hasClass("carousel")){var g=a.extend({},f.data(),e.data()),h=e.attr("data-slide-to");h&&(g.interval=!1),b.call(f,g),h&&f.data("bs.carousel").to(h),c.preventDefault()}}),a(window).on("load",function(){a('[data-ride="carousel"]').each(function(){var c=a(this);b.call(c,c.data())})})}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.collapse"),f=a.extend({},c.DEFAULTS,d.data(),"object"==typeof b&&b);!e&&f.toggle&&"show"==b&&(b=!b),e||d.data("bs.collapse",e=new c(this,f)),"string"==typeof b&&e[b]()})}var c=function(b,d){this.$element=a(b),this.options=a.extend({},c.DEFAULTS,d),this.transitioning=null,this.options.parent&&(this.$parent=a(this.options.parent)),this.options.toggle&&this.toggle()};c.VERSION="3.2.0",c.DEFAULTS={toggle:!0},c.prototype.dimension=function(){var a=this.$element.hasClass("width");return a?"width":"height"},c.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var c=a.Event("show.bs.collapse");if(this.$element.trigger(c),!c.isDefaultPrevented()){var d=this.$parent&&this.$parent.find("> .panel > .in");if(d&&d.length){var e=d.data("bs.collapse");if(e&&e.transitioning)return;b.call(d,"hide"),e||d.data("bs.collapse",null)}var f=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[f](0),this.transitioning=1;var g=function(){this.$element.removeClass("collapsing").addClass("collapse in")[f](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!a.support.transition)return g.call(this);var h=a.camelCase(["scroll",f].join("-"));this.$element.one("bsTransitionEnd",a.proxy(g,this)).emulateTransitionEnd(350)[f](this.$element[0][h])}}},c.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var b=a.Event("hide.bs.collapse");if(this.$element.trigger(b),!b.isDefaultPrevented()){var c=this.dimension();this.$element[c](this.$element[c]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse").removeClass("in"),this.transitioning=1;var d=function(){this.transitioning=0,this.$element.trigger("hidden.bs.collapse").removeClass("collapsing").addClass("collapse")};return a.support.transition?void this.$element[c](0).one("bsTransitionEnd",a.proxy(d,this)).emulateTransitionEnd(350):d.call(this)}}},c.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};var d=a.fn.collapse;a.fn.collapse=b,a.fn.collapse.Constructor=c,a.fn.collapse.noConflict=function(){return a.fn.collapse=d,this},a(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(c){var d,e=a(this),f=e.attr("data-target")||c.preventDefault()||(d=e.attr("href"))&&d.replace(/.*(?=#[^\s]+$)/,""),g=a(f),h=g.data("bs.collapse"),i=h?"toggle":e.data(),j=e.attr("data-parent"),k=j&&a(j);h&&h.transitioning||(k&&k.find('[data-toggle="collapse"][data-parent="'+j+'"]').not(e).addClass("collapsed"),e[g.hasClass("in")?"addClass":"removeClass"]("collapsed")),b.call(g,i)})}(jQuery),+function(a){"use strict";function b(b){b&&3===b.which||(a(e).remove(),a(f).each(function(){var d=c(a(this)),e={relatedTarget:this};d.hasClass("open")&&(d.trigger(b=a.Event("hide.bs.dropdown",e)),b.isDefaultPrevented()||d.removeClass("open").trigger("hidden.bs.dropdown",e))}))}function c(b){var c=b.attr("data-target");c||(c=b.attr("href"),c=c&&/#[A-Za-z]/.test(c)&&c.replace(/.*(?=#[^\s]*$)/,""));var d=c&&a(c);return d&&d.length?d:b.parent()}function d(b){return this.each(function(){var c=a(this),d=c.data("bs.dropdown");d||c.data("bs.dropdown",d=new g(this)),"string"==typeof b&&d[b].call(c)})}var e=".dropdown-backdrop",f='[data-toggle="dropdown"]',g=function(b){a(b).on("click.bs.dropdown",this.toggle)};g.VERSION="3.2.0",g.prototype.toggle=function(d){var e=a(this);if(!e.is(".disabled, :disabled")){var f=c(e),g=f.hasClass("open");if(b(),!g){"ontouchstart"in document.documentElement&&!f.closest(".navbar-nav").length&&a('<div class="dropdown-backdrop"/>').insertAfter(a(this)).on("click",b);var h={relatedTarget:this};if(f.trigger(d=a.Event("show.bs.dropdown",h)),d.isDefaultPrevented())return;e.trigger("focus"),f.toggleClass("open").trigger("shown.bs.dropdown",h)}return!1}},g.prototype.keydown=function(b){if(/(38|40|27)/.test(b.keyCode)){var d=a(this);if(b.preventDefault(),b.stopPropagation(),!d.is(".disabled, :disabled")){var e=c(d),g=e.hasClass("open");if(!g||g&&27==b.keyCode)return 27==b.which&&e.find(f).trigger("focus"),d.trigger("click");var h=" li:not(.divider):visible a",i=e.find('[role="menu"]'+h+', [role="listbox"]'+h);if(i.length){var j=i.index(i.filter(":focus"));38==b.keyCode&&j>0&&j--,40==b.keyCode&&j<i.length-1&&j++,~j||(j=0),i.eq(j).trigger("focus")}}}};var h=a.fn.dropdown;a.fn.dropdown=d,a.fn.dropdown.Constructor=g,a.fn.dropdown.noConflict=function(){return a.fn.dropdown=h,this},a(document).on("click.bs.dropdown.data-api",b).on("click.bs.dropdown.data-api",".dropdown form",function(a){a.stopPropagation()}).on("click.bs.dropdown.data-api",f,g.prototype.toggle).on("keydown.bs.dropdown.data-api",f+', [role="menu"], [role="listbox"]',g.prototype.keydown)}(jQuery),+function(a){"use strict";function b(b,d){return this.each(function(){var e=a(this),f=e.data("bs.modal"),g=a.extend({},c.DEFAULTS,e.data(),"object"==typeof b&&b);f||e.data("bs.modal",f=new c(this,g)),"string"==typeof b?f[b](d):g.show&&f.show(d)})}var c=function(b,c){this.options=c,this.$body=a(document.body),this.$element=a(b),this.$backdrop=this.isShown=null,this.scrollbarWidth=0,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,a.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};c.VERSION="3.2.0",c.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},c.prototype.toggle=function(a){return this.isShown?this.hide():this.show(a)},c.prototype.show=function(b){var c=this,d=a.Event("show.bs.modal",{relatedTarget:b});this.$element.trigger(d),this.isShown||d.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.$body.addClass("modal-open"),this.setScrollbar(),this.escape(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',a.proxy(this.hide,this)),this.backdrop(function(){var d=a.support.transition&&c.$element.hasClass("fade");c.$element.parent().length||c.$element.appendTo(c.$body),c.$element.show().scrollTop(0),d&&c.$element[0].offsetWidth,c.$element.addClass("in").attr("aria-hidden",!1),c.enforceFocus();var e=a.Event("shown.bs.modal",{relatedTarget:b});d?c.$element.find(".modal-dialog").one("bsTransitionEnd",function(){c.$element.trigger("focus").trigger(e)}).emulateTransitionEnd(300):c.$element.trigger("focus").trigger(e)}))},c.prototype.hide=function(b){b&&b.preventDefault(),b=a.Event("hide.bs.modal"),this.$element.trigger(b),this.isShown&&!b.isDefaultPrevented()&&(this.isShown=!1,this.$body.removeClass("modal-open"),this.resetScrollbar(),this.escape(),a(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal"),a.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",a.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal())},c.prototype.enforceFocus=function(){a(document).off("focusin.bs.modal").on("focusin.bs.modal",a.proxy(function(a){this.$element[0]===a.target||this.$element.has(a.target).length||this.$element.trigger("focus")},this))},c.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.bs.modal",a.proxy(function(a){27==a.which&&this.hide()},this)):this.isShown||this.$element.off("keyup.dismiss.bs.modal")},c.prototype.hideModal=function(){var a=this;this.$element.hide(),this.backdrop(function(){a.$element.trigger("hidden.bs.modal")})},c.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},c.prototype.backdrop=function(b){var c=this,d=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var e=a.support.transition&&d;if(this.$backdrop=a('<div class="modal-backdrop '+d+'" />').appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",a.proxy(function(a){a.target===a.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this)),e&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!b)return;e?this.$backdrop.one("bsTransitionEnd",b).emulateTransitionEnd(150):b()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var f=function(){c.removeBackdrop(),b&&b()};a.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",f).emulateTransitionEnd(150):f()}else b&&b()},c.prototype.checkScrollbar=function(){document.body.clientWidth>=window.innerWidth||(this.scrollbarWidth=this.scrollbarWidth||this.measureScrollbar())},c.prototype.setScrollbar=function(){var a=parseInt(this.$body.css("padding-right")||0,10);this.scrollbarWidth&&this.$body.css("padding-right",a+this.scrollbarWidth)},c.prototype.resetScrollbar=function(){this.$body.css("padding-right","")},c.prototype.measureScrollbar=function(){var a=document.createElement("div");a.className="modal-scrollbar-measure",this.$body.append(a);var b=a.offsetWidth-a.clientWidth;return this.$body[0].removeChild(a),b};var d=a.fn.modal;a.fn.modal=b,a.fn.modal.Constructor=c,a.fn.modal.noConflict=function(){return a.fn.modal=d,this},a(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(c){var d=a(this),e=d.attr("href"),f=a(d.attr("data-target")||e&&e.replace(/.*(?=#[^\s]+$)/,"")),g=f.data("bs.modal")?"toggle":a.extend({remote:!/#/.test(e)&&e},f.data(),d.data());d.is("a")&&c.preventDefault(),f.one("show.bs.modal",function(a){a.isDefaultPrevented()||f.one("hidden.bs.modal",function(){d.is(":visible")&&d.trigger("focus")})}),b.call(f,g,this)})}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.tooltip"),f="object"==typeof b&&b;(e||"destroy"!=b)&&(e||d.data("bs.tooltip",e=new c(this,f)),"string"==typeof b&&e[b]())})}var c=function(a,b){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",a,b)};c.VERSION="3.2.0",c.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},c.prototype.init=function(b,c,d){this.enabled=!0,this.type=b,this.$element=a(c),this.options=this.getOptions(d),this.$viewport=this.options.viewport&&a(this.options.viewport.selector||this.options.viewport);for(var e=this.options.trigger.split(" "),f=e.length;f--;){var g=e[f];if("click"==g)this.$element.on("click."+this.type,this.options.selector,a.proxy(this.toggle,this));else if("manual"!=g){var h="hover"==g?"mouseenter":"focusin",i="hover"==g?"mouseleave":"focusout";this.$element.on(h+"."+this.type,this.options.selector,a.proxy(this.enter,this)),this.$element.on(i+"."+this.type,this.options.selector,a.proxy(this.leave,this))}}this.options.selector?this._options=a.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},c.prototype.getDefaults=function(){return c.DEFAULTS},c.prototype.getOptions=function(b){return b=a.extend({},this.getDefaults(),this.$element.data(),b),b.delay&&"number"==typeof b.delay&&(b.delay={show:b.delay,hide:b.delay}),b},c.prototype.getDelegateOptions=function(){var b={},c=this.getDefaults();return this._options&&a.each(this._options,function(a,d){c[a]!=d&&(b[a]=d)}),b},c.prototype.enter=function(b){var c=b instanceof this.constructor?b:a(b.currentTarget).data("bs."+this.type);return c||(c=new this.constructor(b.currentTarget,this.getDelegateOptions()),a(b.currentTarget).data("bs."+this.type,c)),clearTimeout(c.timeout),c.hoverState="in",c.options.delay&&c.options.delay.show?void(c.timeout=setTimeout(function(){"in"==c.hoverState&&c.show()},c.options.delay.show)):c.show()},c.prototype.leave=function(b){var c=b instanceof this.constructor?b:a(b.currentTarget).data("bs."+this.type);return c||(c=new this.constructor(b.currentTarget,this.getDelegateOptions()),a(b.currentTarget).data("bs."+this.type,c)),clearTimeout(c.timeout),c.hoverState="out",c.options.delay&&c.options.delay.hide?void(c.timeout=setTimeout(function(){"out"==c.hoverState&&c.hide()},c.options.delay.hide)):c.hide()},c.prototype.show=function(){var b=a.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(b);var c=a.contains(document.documentElement,this.$element[0]);if(b.isDefaultPrevented()||!c)return;var d=this,e=this.tip(),f=this.getUID(this.type);this.setContent(),e.attr("id",f),this.$element.attr("aria-describedby",f),this.options.animation&&e.addClass("fade");var g="function"==typeof this.options.placement?this.options.placement.call(this,e[0],this.$element[0]):this.options.placement,h=/\s?auto?\s?/i,i=h.test(g);i&&(g=g.replace(h,"")||"top"),e.detach().css({top:0,left:0,display:"block"}).addClass(g).data("bs."+this.type,this),this.options.container?e.appendTo(this.options.container):e.insertAfter(this.$element);var j=this.getPosition(),k=e[0].offsetWidth,l=e[0].offsetHeight;if(i){var m=g,n=this.$element.parent(),o=this.getPosition(n);g="bottom"==g&&j.top+j.height+l-o.scroll>o.height?"top":"top"==g&&j.top-o.scroll-l<0?"bottom":"right"==g&&j.right+k>o.width?"left":"left"==g&&j.left-k<o.left?"right":g,e.removeClass(m).addClass(g)}var p=this.getCalculatedOffset(g,j,k,l);this.applyPlacement(p,g);var q=function(){d.$element.trigger("shown.bs."+d.type),d.hoverState=null};a.support.transition&&this.$tip.hasClass("fade")?e.one("bsTransitionEnd",q).emulateTransitionEnd(150):q()}},c.prototype.applyPlacement=function(b,c){var d=this.tip(),e=d[0].offsetWidth,f=d[0].offsetHeight,g=parseInt(d.css("margin-top"),10),h=parseInt(d.css("margin-left"),10);isNaN(g)&&(g=0),isNaN(h)&&(h=0),b.top=b.top+g,b.left=b.left+h,a.offset.setOffset(d[0],a.extend({using:function(a){d.css({top:Math.round(a.top),left:Math.round(a.left)})}},b),0),d.addClass("in");var i=d[0].offsetWidth,j=d[0].offsetHeight;"top"==c&&j!=f&&(b.top=b.top+f-j);var k=this.getViewportAdjustedDelta(c,b,i,j);k.left?b.left+=k.left:b.top+=k.top;var l=k.left?2*k.left-e+i:2*k.top-f+j,m=k.left?"left":"top",n=k.left?"offsetWidth":"offsetHeight";d.offset(b),this.replaceArrow(l,d[0][n],m)},c.prototype.replaceArrow=function(a,b,c){this.arrow().css(c,a?50*(1-a/b)+"%":"")},c.prototype.setContent=function(){var a=this.tip(),b=this.getTitle();a.find(".tooltip-inner")[this.options.html?"html":"text"](b),a.removeClass("fade in top bottom left right")},c.prototype.hide=function(){function b(){"in"!=c.hoverState&&d.detach(),c.$element.trigger("hidden.bs."+c.type)}var c=this,d=this.tip(),e=a.Event("hide.bs."+this.type);return this.$element.removeAttr("aria-describedby"),this.$element.trigger(e),e.isDefaultPrevented()?void 0:(d.removeClass("in"),a.support.transition&&this.$tip.hasClass("fade")?d.one("bsTransitionEnd",b).emulateTransitionEnd(150):b(),this.hoverState=null,this)},c.prototype.fixTitle=function(){var a=this.$element;(a.attr("title")||"string"!=typeof a.attr("data-original-title"))&&a.attr("data-original-title",a.attr("title")||"").attr("title","")},c.prototype.hasContent=function(){return this.getTitle()},c.prototype.getPosition=function(b){b=b||this.$element;var c=b[0],d="BODY"==c.tagName;return a.extend({},"function"==typeof c.getBoundingClientRect?c.getBoundingClientRect():null,{scroll:d?document.documentElement.scrollTop||document.body.scrollTop:b.scrollTop(),width:d?a(window).width():b.outerWidth(),height:d?a(window).height():b.outerHeight()},d?{top:0,left:0}:b.offset())},c.prototype.getCalculatedOffset=function(a,b,c,d){return"bottom"==a?{top:b.top+b.height,left:b.left+b.width/2-c/2}:"top"==a?{top:b.top-d,left:b.left+b.width/2-c/2}:"left"==a?{top:b.top+b.height/2-d/2,left:b.left-c}:{top:b.top+b.height/2-d/2,left:b.left+b.width}},c.prototype.getViewportAdjustedDelta=function(a,b,c,d){var e={top:0,left:0};if(!this.$viewport)return e;var f=this.options.viewport&&this.options.viewport.padding||0,g=this.getPosition(this.$viewport);if(/right|left/.test(a)){var h=b.top-f-g.scroll,i=b.top+f-g.scroll+d;h<g.top?e.top=g.top-h:i>g.top+g.height&&(e.top=g.top+g.height-i)}else{var j=b.left-f,k=b.left+f+c;j<g.left?e.left=g.left-j:k>g.width&&(e.left=g.left+g.width-k)}return e},c.prototype.getTitle=function(){var a,b=this.$element,c=this.options;return a=b.attr("data-original-title")||("function"==typeof c.title?c.title.call(b[0]):c.title)},c.prototype.getUID=function(a){do a+=~~(1e6*Math.random());while(document.getElementById(a));return a},c.prototype.tip=function(){return this.$tip=this.$tip||a(this.options.template)},c.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},c.prototype.validate=function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},c.prototype.enable=function(){this.enabled=!0},c.prototype.disable=function(){this.enabled=!1},c.prototype.toggleEnabled=function(){this.enabled=!this.enabled},c.prototype.toggle=function(b){var c=this;b&&(c=a(b.currentTarget).data("bs."+this.type),c||(c=new this.constructor(b.currentTarget,this.getDelegateOptions()),a(b.currentTarget).data("bs."+this.type,c))),c.tip().hasClass("in")?c.leave(c):c.enter(c)},c.prototype.destroy=function(){clearTimeout(this.timeout),this.hide().$element.off("."+this.type).removeData("bs."+this.type)};var d=a.fn.tooltip;a.fn.tooltip=b,a.fn.tooltip.Constructor=c,a.fn.tooltip.noConflict=function(){return a.fn.tooltip=d,this}}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.popover"),f="object"==typeof b&&b;(e||"destroy"!=b)&&(e||d.data("bs.popover",e=new c(this,f)),"string"==typeof b&&e[b]())})}var c=function(a,b){this.init("popover",a,b)};if(!a.fn.tooltip)throw new Error("Popover requires tooltip.js");c.VERSION="3.2.0",c.DEFAULTS=a.extend({},a.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),c.prototype=a.extend({},a.fn.tooltip.Constructor.prototype),c.prototype.constructor=c,c.prototype.getDefaults=function(){return c.DEFAULTS},c.prototype.setContent=function(){var a=this.tip(),b=this.getTitle(),c=this.getContent();a.find(".popover-title")[this.options.html?"html":"text"](b),a.find(".popover-content").empty()[this.options.html?"string"==typeof c?"html":"append":"text"](c),a.removeClass("fade top bottom left right in"),a.find(".popover-title").html()||a.find(".popover-title").hide()},c.prototype.hasContent=function(){return this.getTitle()||this.getContent()},c.prototype.getContent=function(){var a=this.$element,b=this.options;return a.attr("data-content")||("function"==typeof b.content?b.content.call(a[0]):b.content)},c.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")},c.prototype.tip=function(){return this.$tip||(this.$tip=a(this.options.template)),this.$tip};var d=a.fn.popover;a.fn.popover=b,a.fn.popover.Constructor=c,a.fn.popover.noConflict=function(){return a.fn.popover=d,this}}(jQuery),+function(a){"use strict";function b(c,d){var e=a.proxy(this.process,this);this.$body=a("body"),this.$scrollElement=a(a(c).is("body")?window:c),this.options=a.extend({},b.DEFAULTS,d),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",e),this.refresh(),this.process()}function c(c){return this.each(function(){var d=a(this),e=d.data("bs.scrollspy"),f="object"==typeof c&&c;e||d.data("bs.scrollspy",e=new b(this,f)),"string"==typeof c&&e[c]()})}b.VERSION="3.2.0",b.DEFAULTS={offset:10},b.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},b.prototype.refresh=function(){var b="offset",c=0;a.isWindow(this.$scrollElement[0])||(b="position",c=this.$scrollElement.scrollTop()),this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight();var d=this;this.$body.find(this.selector).map(function(){var d=a(this),e=d.data("target")||d.attr("href"),f=/^#./.test(e)&&a(e);return f&&f.length&&f.is(":visible")&&[[f[b]().top+c,e]]||null}).sort(function(a,b){return a[0]-b[0]}).each(function(){d.offsets.push(this[0]),d.targets.push(this[1])})},b.prototype.process=function(){var a,b=this.$scrollElement.scrollTop()+this.options.offset,c=this.getScrollHeight(),d=this.options.offset+c-this.$scrollElement.height(),e=this.offsets,f=this.targets,g=this.activeTarget;if(this.scrollHeight!=c&&this.refresh(),b>=d)return g!=(a=f[f.length-1])&&this.activate(a);if(g&&b<=e[0])return g!=(a=f[0])&&this.activate(a);for(a=e.length;a--;)g!=f[a]&&b>=e[a]&&(!e[a+1]||b<=e[a+1])&&this.activate(f[a])},b.prototype.activate=function(b){this.activeTarget=b,a(this.selector).parentsUntil(this.options.target,".active").removeClass("active");var c=this.selector+'[data-target="'+b+'"],'+this.selector+'[href="'+b+'"]',d=a(c).parents("li").addClass("active");d.parent(".dropdown-menu").length&&(d=d.closest("li.dropdown").addClass("active")),d.trigger("activate.bs.scrollspy")};var d=a.fn.scrollspy;a.fn.scrollspy=c,a.fn.scrollspy.Constructor=b,a.fn.scrollspy.noConflict=function(){return a.fn.scrollspy=d,this},a(window).on("load.bs.scrollspy.data-api",function(){a('[data-spy="scroll"]').each(function(){var b=a(this);c.call(b,b.data())})})}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.tab");e||d.data("bs.tab",e=new c(this)),"string"==typeof b&&e[b]()})}var c=function(b){this.element=a(b)};c.VERSION="3.2.0",c.prototype.show=function(){var b=this.element,c=b.closest("ul:not(.dropdown-menu)"),d=b.data("target");if(d||(d=b.attr("href"),d=d&&d.replace(/.*(?=#[^\s]*$)/,"")),!b.parent("li").hasClass("active")){var e=c.find(".active:last a")[0],f=a.Event("show.bs.tab",{relatedTarget:e});if(b.trigger(f),!f.isDefaultPrevented()){var g=a(d);this.activate(b.closest("li"),c),this.activate(g,g.parent(),function(){b.trigger({type:"shown.bs.tab",relatedTarget:e})})}}},c.prototype.activate=function(b,c,d){function e(){f.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),b.addClass("active"),g?(b[0].offsetWidth,b.addClass("in")):b.removeClass("fade"),b.parent(".dropdown-menu")&&b.closest("li.dropdown").addClass("active"),d&&d()}var f=c.find("> .active"),g=d&&a.support.transition&&f.hasClass("fade");g?f.one("bsTransitionEnd",e).emulateTransitionEnd(150):e(),f.removeClass("in")};var d=a.fn.tab;a.fn.tab=b,a.fn.tab.Constructor=c,a.fn.tab.noConflict=function(){return a.fn.tab=d,this},a(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(c){c.preventDefault(),b.call(a(this),"show")})}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.affix"),f="object"==typeof b&&b;e||d.data("bs.affix",e=new c(this,f)),"string"==typeof b&&e[b]()})}var c=function(b,d){this.options=a.extend({},c.DEFAULTS,d),this.$target=a(this.options.target).on("scroll.bs.affix.data-api",a.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",a.proxy(this.checkPositionWithEventLoop,this)),this.$element=a(b),this.affixed=this.unpin=this.pinnedOffset=null,this.checkPosition()};c.VERSION="3.2.0",c.RESET="affix affix-top affix-bottom",c.DEFAULTS={offset:0,target:window},c.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(c.RESET).addClass("affix");var a=this.$target.scrollTop(),b=this.$element.offset();return this.pinnedOffset=b.top-a},c.prototype.checkPositionWithEventLoop=function(){setTimeout(a.proxy(this.checkPosition,this),1)},c.prototype.checkPosition=function(){if(this.$element.is(":visible")){var b=a(document).height(),d=this.$target.scrollTop(),e=this.$element.offset(),f=this.options.offset,g=f.top,h=f.bottom;"object"!=typeof f&&(h=g=f),"function"==typeof g&&(g=f.top(this.$element)),"function"==typeof h&&(h=f.bottom(this.$element));var i=!(null!=this.unpin&&d+this.unpin<=e.top)&&(null!=h&&e.top+this.$element.height()>=b-h?"bottom":null!=g&&g>=d&&"top");if(this.affixed!==i){null!=this.unpin&&this.$element.css("top","");var j="affix"+(i?"-"+i:""),k=a.Event(j+".bs.affix");this.$element.trigger(k),k.isDefaultPrevented()||(this.affixed=i,this.unpin="bottom"==i?this.getPinnedOffset():null,this.$element.removeClass(c.RESET).addClass(j).trigger(a.Event(j.replace("affix","affixed"))),"bottom"==i&&this.$element.offset({top:b-this.$element.height()-h}))}}};var d=a.fn.affix;a.fn.affix=b,a.fn.affix.Constructor=c,a.fn.affix.noConflict=function(){return a.fn.affix=d,this},a(window).on("load",function(){a('[data-spy="affix"]').each(function(){var c=a(this),d=c.data();d.offset=d.offset||{},d.offsetBottom&&(d.offset.bottom=d.offsetBottom),d.offsetTop&&(d.offset.top=d.offsetTop),b.call(c,d)})})}(jQuery),$(function(){$("#nav-accordion").dcAccordion({eventType:"click",autoClose:!0,saveState:!0,disableLink:!0,speed:"slow",showCount:!1,autoExpand:!0,classExpand:"dcjq-current-parent"})});var Script=function(){jQuery("#sidebar .sub-menu > a").click(function(){var a=$(this).offset();diff=250-a.top,diff>0?$("#sidebar").scrollTo("-="+Math.abs(diff),500):$("#sidebar").scrollTo("+="+Math.abs(diff),500)}),$(function(){function a(){var a=$(window).width();a<=768&&($("#container").addClass("sidebar-close"),$("#sidebar > ul").hide()),a>768&&($("#container").removeClass("sidebar-close"),$("#sidebar > ul").show())}$(window).on("load",a),$(window).on("resize",a)}),$(".fa-bars").click(function(){$("#sidebar > ul").is(":visible")===!0?($("#main-content").css({"margin-left":"0px"}),$("#main-content-sidebar-open").css({"margin-left":"0px"}),$("#main-content-sidebar-closed").css({"margin-left":"0px"}),$("#sidebar").css({"margin-left":"-210px"}),$("#sidebar > ul").hide(),$("#container").addClass("sidebar-closed")):($("#main-content").css({"margin-left":"210px"}),$("#main-content-sidebar-open").css({"margin-left":"210px"}),$("#main-content-sidebar-closed").css({"margin-left":"210px"}),$("#sidebar > ul").show(),$("#sidebar").css({"margin-left":"0"}),$("#container").removeClass("sidebar-closed"))}),$("#sidebar").niceScroll({styler:"fb",cursorcolor:"#4ECDC4",cursorwidth:"3",cursorborderradius:"10px",background:"#404040",spacebarenabled:!1,cursorborder:""}),$("html").niceScroll({styler:"fb",cursorcolor:"#4ECDC4",cursorwidth:"6",cursorborderradius:"10px",background:"#404040",spacebarenabled:!1,cursorborder:"",zindex:"1000"}),jQuery(".panel .tools .fa-chevron-down").click(function(){var a=jQuery(this).parents(".panel").children(".panel-body");jQuery(this).hasClass("fa-chevron-down")?(jQuery(this).removeClass("fa-chevron-down").addClass("fa-chevron-up"),a.slideUp(200)):(jQuery(this).removeClass("fa-chevron-up").addClass("fa-chevron-down"),a.slideDown(200))}),jQuery(".panel .tools .fa-times").click(function(){jQuery(this).parents(".panel").parent().remove()}),$(".tooltips").tooltip(),$(".popovers").popover(),$(".custom-bar-chart")&&$(".bar").each(function(){var a=$(this).find(".value").html();$(this).find(".value").html(""),$(this).find(".value").animate({height:a},2e3)})}(),Gritter=function(){$("#add-sticky").click(function(){$.gritter.add({title:"This is a Sticky Notice!",text:'Hover me to enable the Close Button. This note also contains a link example. Thank you so much to try Dashgum. Developed by <a href="#" style="color:#FFD777">Alvarez.is</a>.',image:"assets/img/School-48.png",sticky:!0,time:"",class_name:"my-sticky-class"});return!1}),$("#add-regular").click(function(){return $.gritter.add({title:"This is a Regular Notice!",text:'This will fade out after a certain amount of time. This note also contains a link example. Thank you so much to try Dashgum. Developed by <a href="#" style="color:#FFD777">Alvarez.is</a>.',image:"assets/img/School-48.png",sticky:!1,time:""}),!1}),$("#add-max").click(function(){return $.gritter.add({title:"This is a notice with a max of 3 on screen at one time!",text:'This will fade out after a certain amount of time. This note also contains a link example. Thank you so much to try Dashgum. Developed by <a href="#" style="color:#FFD777">Alvarez.is</a>.',image:"assets/img/School-48.png",sticky:!1,before_open:function(){if(3==$(".gritter-item-wrapper").length)return!1}}),!1}),$("#add-without-image").click(function(){return $.gritter.add({title:"This is a Notice Without an Image!",text:'This will fade out after a certain amount of time. This note also contains a link example. Thank you so much to try Dashgum. Developed by <a href="#" style="color:#FFD777">Alvarez.is</a>.'}),!1}),$("#add-gritter-light").click(function(){return $.gritter.add({title:"This is a Light Notification",text:'Just add a "gritter-light" class_name to your $.gritter.add or globally to $.gritter.options.class_name',class_name:"gritter-light"}),!1}),$("#remove-all").click(function(){return $.gritter.removeAll(),!1})}();!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):"object"==typeof exports?module.exports=a:a(jQuery)}(function(a){function b(b){var g=b||window.event,h=i.call(arguments,1),j=0,l=0,m=0,n=0,o=0,p=0;if(b=a.event.fix(g),b.type="mousewheel","detail"in g&&(m=-1*g.detail),"wheelDelta"in g&&(m=g.wheelDelta),"wheelDeltaY"in g&&(m=g.wheelDeltaY),"wheelDeltaX"in g&&(l=-1*g.wheelDeltaX),"axis"in g&&g.axis===g.HORIZONTAL_AXIS&&(l=-1*m,m=0),j=0===m?l:m,"deltaY"in g&&(m=-1*g.deltaY,j=m),"deltaX"in g&&(l=g.deltaX,0===m&&(j=-1*l)),0!==m||0!==l){
if(1===g.deltaMode){var q=a.data(this,"mousewheel-line-height");j*=q,m*=q,l*=q}else if(2===g.deltaMode){var r=a.data(this,"mousewheel-page-height");j*=r,m*=r,l*=r}if(n=Math.max(Math.abs(m),Math.abs(l)),(!f||f>n)&&(f=n,d(g,n)&&(f/=40)),d(g,n)&&(j/=40,l/=40,m/=40),j=Math[j>=1?"floor":"ceil"](j/f),l=Math[l>=1?"floor":"ceil"](l/f),m=Math[m>=1?"floor":"ceil"](m/f),k.settings.normalizeOffset&&this.getBoundingClientRect){var s=this.getBoundingClientRect();o=b.clientX-s.left,p=b.clientY-s.top}return b.deltaX=l,b.deltaY=m,b.deltaFactor=f,b.offsetX=o,b.offsetY=p,b.deltaMode=0,h.unshift(b,j,l,m),e&&clearTimeout(e),e=setTimeout(c,200),(a.event.dispatch||a.event.handle).apply(this,h)}}function c(){f=null}function d(a,b){return k.settings.adjustOldDeltas&&"mousewheel"===a.type&&b%120===0}var e,f,g=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],h="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],i=Array.prototype.slice;if(a.event.fixHooks)for(var j=g.length;j;)a.event.fixHooks[g[--j]]=a.event.mouseHooks;var k=a.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var c=h.length;c;)this.addEventListener(h[--c],b,!1);else this.onmousewheel=b;a.data(this,"mousewheel-line-height",k.getLineHeight(this)),a.data(this,"mousewheel-page-height",k.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var c=h.length;c;)this.removeEventListener(h[--c],b,!1);else this.onmousewheel=null;a.removeData(this,"mousewheel-line-height"),a.removeData(this,"mousewheel-page-height")},getLineHeight:function(b){var c=a(b),d=c["offsetParent"in a.fn?"offsetParent":"parent"]();return d.length||(d=a("body")),parseInt(d.css("fontSize"),10)||parseInt(c.css("fontSize"),10)||16},getPageHeight:function(b){return a(b).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};a.fn.extend({mousewheel:function(a){return a?this.bind("mousewheel",a):this.trigger("mousewheel")},unmousewheel:function(a){return this.unbind("mousewheel",a)}})}),!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){function d(a){this.message=a}function e(a){var b=String(a).replace(/=+$/,"");if(b.length%4==1)throw new d("'atob' failed: The string to be decoded is not correctly encoded.");for(var c,e,g=0,h=0,i="";e=b.charAt(h++);~e&&(c=g%4?64*c+e:e,g++%4)?i+=String.fromCharCode(255&c>>(-2*g&6)):0)e=f.indexOf(e);return i}var f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";d.prototype=new Error,d.prototype.name="InvalidCharacterError",b.exports="undefined"!=typeof window&&window.atob&&window.atob.bind(window)||e},{}],2:[function(a,b,c){function d(a){return decodeURIComponent(e(a).replace(/(.)/g,function(a,b){var c=b.charCodeAt(0).toString(16).toUpperCase();return c.length<2&&(c="0"+c),"%"+c}))}var e=a("./atob");b.exports=function(a){var b=a.replace(/-/g,"+").replace(/_/g,"/");switch(b.length%4){case 0:break;case 2:b+="==";break;case 3:b+="=";break;default:throw"Illegal base64url string!"}try{return d(b)}catch(a){return e(b)}}},{"./atob":1}],3:[function(a,b,c){"use strict";function d(a){this.message=a}var e=a("./base64_url_decode");d.prototype=new Error,d.prototype.name="InvalidTokenError",b.exports=function(a,b){if("string"!=typeof a)throw new d("Invalid token specified");b=b||{};var c=b.header===!0?0:1;try{return JSON.parse(e(a.split(".")[c]))}catch(a){throw new d("Invalid token specified: "+a.message)}},b.exports.InvalidTokenError=d},{"./base64_url_decode":2}],4:[function(a,b,c){(function(b){var c=a("./lib/index");"function"==typeof b.window.define&&b.window.define.amd?b.window.define("jwt_decode",function(){return c}):b.window&&(b.window.jwt_decode=c)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./lib/index":3}]},{},[4]),function(a,b){"function"==typeof define&&define.amd?define(["jquery"],b):"object"==typeof exports?module.exports=b(require("jquery")):a.lightbox=b(a.jQuery)}(this,function(a){function b(b){this.album=[],this.currentImageIndex=void 0,this.init(),this.options=a.extend({},this.constructor.defaults),this.option(b)}return b.defaults={albumLabel:"Image %1 of %2",alwaysShowNavOnTouchDevices:!1,fadeDuration:600,fitImagesInViewport:!0,imageFadeDuration:600,positionFromTop:50,resizeDuration:700,showImageNumberLabel:!0,wrapAround:!1,disableScrolling:!1,sanitizeTitle:!1},b.prototype.option=function(b){a.extend(this.options,b)},b.prototype.imageCountLabel=function(a,b){return this.options.albumLabel.replace(/%1/g,a).replace(/%2/g,b)},b.prototype.init=function(){var b=this;a(document).ready(function(){b.enable(),b.build()})},b.prototype.enable=function(){var b=this;a("body").on("click","a[rel^=lightbox], area[rel^=lightbox], a[data-lightbox], area[data-lightbox]",function(c){return b.start(a(c.currentTarget)),!1})},b.prototype.build=function(){if(!(a("#lightbox").length>0)){var b=this;a('<div id="lightboxOverlay" tabindex="-1" class="lightboxOverlay"></div><div id="lightbox" tabindex="-1" class="lightbox"><div class="lb-outerContainer"><div class="lb-container"><img class="lb-image" src="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==" alt=""/><div class="lb-nav"><a class="lb-prev" aria-label="Previous image" href="" ></a><a class="lb-next" aria-label="Next image" href="" ></a></div><div class="lb-loader"><a class="lb-cancel"></a></div></div></div><div class="lb-dataContainer"><div class="lb-data"><div class="lb-details"><span class="lb-caption"></span><span class="lb-number"></span></div><div class="lb-closeContainer"><a class="lb-close"></a></div></div></div></div>').appendTo(a("body")),this.$lightbox=a("#lightbox"),this.$overlay=a("#lightboxOverlay"),this.$outerContainer=this.$lightbox.find(".lb-outerContainer"),this.$container=this.$lightbox.find(".lb-container"),this.$image=this.$lightbox.find(".lb-image"),this.$nav=this.$lightbox.find(".lb-nav"),this.containerPadding={top:parseInt(this.$container.css("padding-top"),10),right:parseInt(this.$container.css("padding-right"),10),bottom:parseInt(this.$container.css("padding-bottom"),10),left:parseInt(this.$container.css("padding-left"),10)},this.imageBorderWidth={top:parseInt(this.$image.css("border-top-width"),10),right:parseInt(this.$image.css("border-right-width"),10),bottom:parseInt(this.$image.css("border-bottom-width"),10),left:parseInt(this.$image.css("border-left-width"),10)},this.$overlay.hide().on("click",function(){return b.end(),!1}),this.$lightbox.hide().on("click",function(c){"lightbox"===a(c.target).attr("id")&&b.end()}),this.$outerContainer.on("click",function(c){return"lightbox"===a(c.target).attr("id")&&b.end(),!1}),this.$lightbox.find(".lb-prev").on("click",function(){return 0===b.currentImageIndex?b.changeImage(b.album.length-1):b.changeImage(b.currentImageIndex-1),!1}),this.$lightbox.find(".lb-next").on("click",function(){return b.currentImageIndex===b.album.length-1?b.changeImage(0):b.changeImage(b.currentImageIndex+1),!1}),this.$nav.on("mousedown",function(a){3===a.which&&(b.$nav.css("pointer-events","none"),b.$lightbox.one("contextmenu",function(){setTimeout(function(){this.$nav.css("pointer-events","auto")}.bind(b),0)}))}),this.$lightbox.find(".lb-loader, .lb-close").on("click",function(){return b.end(),!1})}},b.prototype.start=function(b){function c(a){d.album.push({alt:a.attr("data-alt"),link:a.attr("href"),title:a.attr("data-title")||a.attr("title")})}var d=this,e=a(window);e.on("resize",a.proxy(this.sizeOverlay,this)),this.sizeOverlay(),this.album=[];var f,g=0,h=b.attr("data-lightbox");if(h){f=a(b.prop("tagName")+'[data-lightbox="'+h+'"]');for(var i=0;i<f.length;i=++i)c(a(f[i])),f[i]===b[0]&&(g=i)}else if("lightbox"===b.attr("rel"))c(b);else{f=a(b.prop("tagName")+'[rel="'+b.attr("rel")+'"]');for(var j=0;j<f.length;j=++j)c(a(f[j])),f[j]===b[0]&&(g=j)}var k=e.scrollTop()+this.options.positionFromTop,l=e.scrollLeft();this.$lightbox.css({top:k+"px",left:l+"px"}).fadeIn(this.options.fadeDuration),this.options.disableScrolling&&a("body").addClass("lb-disable-scrolling"),this.changeImage(g)},b.prototype.changeImage=function(b){var c=this,d=this.album[b].link,e=d.split(".").slice(-1)[0],f=this.$lightbox.find(".lb-image");this.disableKeyboardNav(),this.$overlay.fadeIn(this.options.fadeDuration),a(".lb-loader").fadeIn("slow"),this.$lightbox.find(".lb-image, .lb-nav, .lb-prev, .lb-next, .lb-dataContainer, .lb-numbers, .lb-caption").hide(),this.$outerContainer.addClass("animating");var g=new Image;g.onload=function(){var h,i,j,k,l,m,n;f.attr({alt:c.album[b].alt,src:d}),h=a(g),f.width(g.width),f.height(g.height),n=a(window).width(),m=a(window).height(),l=n-c.containerPadding.left-c.containerPadding.right-c.imageBorderWidth.left-c.imageBorderWidth.right-20,k=m-c.containerPadding.top-c.containerPadding.bottom-c.imageBorderWidth.top-c.imageBorderWidth.bottom-c.options.positionFromTop-70,"svg"===e&&(f.width(l),f.height(k)),c.options.fitImagesInViewport?(c.options.maxWidth&&c.options.maxWidth<l&&(l=c.options.maxWidth),c.options.maxHeight&&c.options.maxHeight<k&&(k=c.options.maxHeight)):(l=c.options.maxWidth||g.width||l,k=c.options.maxHeight||g.height||k),(g.width>l||g.height>k)&&(g.width/l>g.height/k?(j=l,i=parseInt(g.height/(g.width/j),10),f.width(j),f.height(i)):(i=k,j=parseInt(g.width/(g.height/i),10),f.width(j),f.height(i))),c.sizeContainer(f.width(),f.height())},g.src=this.album[b].link,this.currentImageIndex=b},b.prototype.sizeOverlay=function(){var b=this;setTimeout(function(){b.$overlay.width(a(document).width()).height(a(document).height())},0)},b.prototype.sizeContainer=function(a,b){function c(){d.$lightbox.find(".lb-dataContainer").width(g),d.$lightbox.find(".lb-prevLink").height(h),d.$lightbox.find(".lb-nextLink").height(h),d.$overlay.focus(),d.showImage()}var d=this,e=this.$outerContainer.outerWidth(),f=this.$outerContainer.outerHeight(),g=a+this.containerPadding.left+this.containerPadding.right+this.imageBorderWidth.left+this.imageBorderWidth.right,h=b+this.containerPadding.top+this.containerPadding.bottom+this.imageBorderWidth.top+this.imageBorderWidth.bottom;e!==g||f!==h?this.$outerContainer.animate({width:g,height:h},this.options.resizeDuration,"swing",function(){c()}):c()},b.prototype.showImage=function(){this.$lightbox.find(".lb-loader").stop(!0).hide(),this.$lightbox.find(".lb-image").fadeIn(this.options.imageFadeDuration),this.updateNav(),this.updateDetails(),this.preloadNeighboringImages(),this.enableKeyboardNav()},b.prototype.updateNav=function(){var a=!1;try{document.createEvent("TouchEvent"),a=!!this.options.alwaysShowNavOnTouchDevices}catch(a){}this.$lightbox.find(".lb-nav").show(),this.album.length>1&&(this.options.wrapAround?(a&&this.$lightbox.find(".lb-prev, .lb-next").css("opacity","1"),this.$lightbox.find(".lb-prev, .lb-next").show()):(this.currentImageIndex>0&&(this.$lightbox.find(".lb-prev").show(),a&&this.$lightbox.find(".lb-prev").css("opacity","1")),this.currentImageIndex<this.album.length-1&&(this.$lightbox.find(".lb-next").show(),a&&this.$lightbox.find(".lb-next").css("opacity","1"))))},b.prototype.updateDetails=function(){var a=this;if("undefined"!=typeof this.album[this.currentImageIndex].title&&""!==this.album[this.currentImageIndex].title){var b=this.$lightbox.find(".lb-caption");this.options.sanitizeTitle?b.text(this.album[this.currentImageIndex].title):b.html(this.album[this.currentImageIndex].title),b.fadeIn("fast")}if(this.album.length>1&&this.options.showImageNumberLabel){var c=this.imageCountLabel(this.currentImageIndex+1,this.album.length);this.$lightbox.find(".lb-number").text(c).fadeIn("fast")}else this.$lightbox.find(".lb-number").hide();this.$outerContainer.removeClass("animating"),this.$lightbox.find(".lb-dataContainer").fadeIn(this.options.resizeDuration,function(){return a.sizeOverlay()})},b.prototype.preloadNeighboringImages=function(){if(this.album.length>this.currentImageIndex+1){var a=new Image;a.src=this.album[this.currentImageIndex+1].link}if(this.currentImageIndex>0){var b=new Image;b.src=this.album[this.currentImageIndex-1].link}},b.prototype.enableKeyboardNav=function(){this.$lightbox.on("keyup.keyboard",a.proxy(this.keyboardAction,this)),this.$overlay.on("keyup.keyboard",a.proxy(this.keyboardAction,this))},b.prototype.disableKeyboardNav=function(){this.$lightbox.off(".keyboard"),this.$overlay.off(".keyboard")},b.prototype.keyboardAction=function(a){var b=27,c=37,d=39,e=a.keyCode;e===b?(a.stopPropagation(),this.end()):e===c?0!==this.currentImageIndex?this.changeImage(this.currentImageIndex-1):this.options.wrapAround&&this.album.length>1&&this.changeImage(this.album.length-1):e===d&&(this.currentImageIndex!==this.album.length-1?this.changeImage(this.currentImageIndex+1):this.options.wrapAround&&this.album.length>1&&this.changeImage(0))},b.prototype.end=function(){this.disableKeyboardNav(),a(window).off("resize",this.sizeOverlay),this.$lightbox.fadeOut(this.options.fadeDuration),this.$overlay.fadeOut(this.options.fadeDuration),this.options.disableScrolling&&a("body").removeClass("lb-disable-scrolling")},new b}),!function(a,b){"function"==typeof define&&define.amd?define(["jquery"],function(a){return b(a)}):"object"==typeof module&&module.exports?module.exports=b(require("jquery")):b(a.jQuery)}(this,function(a){!function(){"use strict";function b(b,d){if(this.el=b,this.$el=a(b),this.s=a.extend({},c,d),this.s.dynamic&&"undefined"!==this.s.dynamicEl&&this.s.dynamicEl.constructor===Array&&!this.s.dynamicEl.length)throw"When using dynamic mode, you must also define dynamicEl as an Array.";return this.modules={},this.lGalleryOn=!1,this.lgBusy=!1,this.hideBartimeout=!1,this.isTouch="ontouchstart"in document.documentElement,this.s.slideEndAnimatoin&&(this.s.hideControlOnEnd=!1),this.s.dynamic?this.$items=this.s.dynamicEl:"this"===this.s.selector?this.$items=this.$el:""!==this.s.selector?this.s.selectWithin?this.$items=a(this.s.selectWithin).find(this.s.selector):this.$items=this.$el.find(a(this.s.selector)):this.$items=this.$el.children(),this.$slide="",this.$outer="",this.init(),this}var c={mode:"lg-slide",cssEasing:"ease",easing:"linear",speed:600,height:"100%",width:"100%",addClass:"",startClass:"lg-start-zoom",backdropDuration:150,hideBarsDelay:6e3,useLeft:!1,ariaLabelledby:"",ariaDescribedby:"",closable:!0,loop:!0,escKey:!0,keyPress:!0,controls:!0,slideEndAnimatoin:!0,hideControlOnEnd:!1,mousewheel:!0,getCaptionFromTitleOrAlt:!0,appendSubHtmlTo:".lg-sub-html",subHtmlSelectorRelative:!1,preload:1,showAfterLoad:!0,selector:"",selectWithin:"",nextHtml:"",prevHtml:"",index:!1,iframeMaxWidth:"100%",download:!0,counter:!0,appendCounterTo:".lg-toolbar",swipeThreshold:50,enableSwipe:!0,enableDrag:!0,dynamic:!1,dynamicEl:[],galleryId:1};b.prototype.init=function(){var b=this;b.s.preload>b.$items.length&&(b.s.preload=b.$items.length);var c=window.location.hash;c.indexOf("lg="+this.s.galleryId)>0&&(b.index=parseInt(c.split("&slide=")[1],10),a("body").addClass("lg-from-hash"),a("body").hasClass("lg-on")||(setTimeout(function(){b.build(b.index)}),a("body").addClass("lg-on"))),b.s.dynamic?(b.$el.trigger("onBeforeOpen.lg"),b.index=b.s.index||0,a("body").hasClass("lg-on")||setTimeout(function(){b.build(b.index),a("body").addClass("lg-on")})):b.$items.on("click.lgcustom",function(c){try{c.preventDefault(),c.preventDefault()}catch(a){c.returnValue=!1}b.$el.trigger("onBeforeOpen.lg"),b.index=b.s.index||b.$items.index(this),a("body").hasClass("lg-on")||(b.build(b.index),a("body").addClass("lg-on"))})},b.prototype.build=function(b){var c=this;c.structure(),a.each(a.fn.lightGallery.modules,function(b){c.modules[b]=new a.fn.lightGallery.modules[b](c.el)}),c.slide(b,!1,!1,!1),c.s.keyPress&&c.keyPress(),c.$items.length>1?(c.arrow(),setTimeout(function(){c.enableDrag(),c.enableSwipe()},50),c.s.mousewheel&&c.mousewheel()):c.$slide.on("click.lg",function(){c.$el.trigger("onSlideClick.lg")}),c.counter(),c.closeGallery(),c.$el.trigger("onAfterOpen.lg"),c.$outer.on("mousemove.lg click.lg touchstart.lg",function(){c.$outer.removeClass("lg-hide-items"),clearTimeout(c.hideBartimeout),c.hideBartimeout=setTimeout(function(){c.$outer.addClass("lg-hide-items")},c.s.hideBarsDelay)}),c.$outer.trigger("mousemove.lg")},b.prototype.structure=function(){var b,c="",d="",e=0,f="",g=this;for(a("body").append('<div class="lg-backdrop"></div>'),a(".lg-backdrop").css("transition-duration",this.s.backdropDuration+"ms"),e=0;e<this.$items.length;e++)c+='<div class="lg-item"></div>';if(this.s.controls&&this.$items.length>1&&(d='<div class="lg-actions"><button aria-label="Previous slide" class="lg-prev lg-icon">'+this.s.prevHtml+'</button><button aria-label="Next slide" class="lg-next lg-icon">'+this.s.nextHtml+"</button></div>"),".lg-sub-html"===this.s.appendSubHtmlTo&&(f='<div role="status" aria-live="polite" class="lg-sub-html"></div>'),b='<div tabindex="-1" aria-modal="true" '+(this.s.ariaLabelledby?'aria-labelledby="'+this.s.ariaLabelledby+'"':"")+" "+(this.s.ariaDescribedby?'aria-describedby="'+this.s.ariaDescribedby+'"':"")+' role="dialog" class="lg-outer '+this.s.addClass+" "+this.s.startClass+'"><div class="lg" style="width:'+this.s.width+"; height:"+this.s.height+'"><div class="lg-inner">'+c+'</div><div class="lg-toolbar lg-group"><button aria-label="Close gallery" class="lg-close lg-icon"></button></div>'+d+f+"</div></div>",a("body").append(b),this.$outer=a(".lg-outer"),this.$outer.focus(),this.$slide=this.$outer.find(".lg-item"),this.s.useLeft?(this.$outer.addClass("lg-use-left"),this.s.mode="lg-slide"):this.$outer.addClass("lg-use-css3"),g.setTop(),a(window).on("resize.lg orientationchange.lg",function(){setTimeout(function(){g.setTop()},100)}),this.$slide.eq(this.index).addClass("lg-current"),this.doCss()?this.$outer.addClass("lg-css3"):(this.$outer.addClass("lg-css"),this.s.speed=0),this.$outer.addClass(this.s.mode),this.s.enableDrag&&this.$items.length>1&&this.$outer.addClass("lg-grab"),this.s.showAfterLoad&&this.$outer.addClass("lg-show-after-load"),this.doCss()){var h=this.$outer.find(".lg-inner");h.css("transition-timing-function",this.s.cssEasing),h.css("transition-duration",this.s.speed+"ms")}setTimeout(function(){a(".lg-backdrop").addClass("in")}),setTimeout(function(){g.$outer.addClass("lg-visible")},this.s.backdropDuration),this.s.download&&this.$outer.find(".lg-toolbar").append('<a id="lg-download" aria-label="Download" target="_blank" download class="lg-download lg-icon"></a>'),this.prevScrollTop=a(window).scrollTop()},b.prototype.setTop=function(){if("100%"!==this.s.height){var b=a(window).height(),c=(b-parseInt(this.s.height,10))/2,d=this.$outer.find(".lg");b>=parseInt(this.s.height,10)?d.css("top",c+"px"):d.css("top","0px")}},b.prototype.doCss=function(){return!!function(){var a=["transition","MozTransition","WebkitTransition","OTransition","msTransition","KhtmlTransition"],b=document.documentElement,c=0;for(c=0;c<a.length;c++)if(a[c]in b.style)return!0}()},b.prototype.isVideo=function(a,b){var c;if(c=this.s.dynamic?this.s.dynamicEl[b].html:this.$items.eq(b).attr("data-html"),!a)return c?{html5:!0}:(console.error("lightGallery :- data-src is not provided on slide item "+(b+1)+". Please make sure the selector property is properly configured. More info - http://sachinchoolur.github.io/lightGallery/demos/html-markup.html"),!1);var d=a.match(/\/\/(?:www\.)?youtu(?:\.be|be\.com|be-nocookie\.com)\/(?:watch\?v=|embed\/)?([a-z0-9\-\_\%]+)/i),e=a.match(/\/\/(?:www\.)?vimeo.com\/([0-9a-z\-_]+)/i),f=a.match(/\/\/(?:www\.)?dai.ly\/([0-9a-z\-_]+)/i),g=a.match(/\/\/(?:www\.)?(?:vk\.com|vkontakte\.ru)\/(?:video_ext\.php\?)(.*)/i);return d?{youtube:d}:e?{vimeo:e}:f?{dailymotion:f}:g?{vk:g}:void 0},b.prototype.counter=function(){this.s.counter&&a(this.s.appendCounterTo).append('<div id="lg-counter" role="status" aria-live="polite"><span id="lg-counter-current">'+(parseInt(this.index,10)+1)+'</span> / <span id="lg-counter-all">'+this.$items.length+"</span></div>")},b.prototype.addHtml=function(b){var c,d,e=null;if(this.s.dynamic?this.s.dynamicEl[b].subHtmlUrl?c=this.s.dynamicEl[b].subHtmlUrl:e=this.s.dynamicEl[b].subHtml:(d=this.$items.eq(b),d.attr("data-sub-html-url")?c=d.attr("data-sub-html-url"):(e=d.attr("data-sub-html"),this.s.getCaptionFromTitleOrAlt&&!e&&(e=d.attr("title")||d.find("img").first().attr("alt")))),!c)if(void 0!==e&&null!==e){var f=e.substring(0,1);"."!==f&&"#"!==f||(e=this.s.subHtmlSelectorRelative&&!this.s.dynamic?d.find(e).html():a(e).html())}else e="";".lg-sub-html"===this.s.appendSubHtmlTo?c?this.$outer.find(this.s.appendSubHtmlTo).load(c):this.$outer.find(this.s.appendSubHtmlTo).html(e):c?this.$slide.eq(b).load(c):this.$slide.eq(b).append(e),void 0!==e&&null!==e&&(""===e?this.$outer.find(this.s.appendSubHtmlTo).addClass("lg-empty-html"):this.$outer.find(this.s.appendSubHtmlTo).removeClass("lg-empty-html")),this.$el.trigger("onAfterAppendSubHtml.lg",[b])},b.prototype.preload=function(a){var b=1,c=1;for(b=1;b<=this.s.preload&&!(b>=this.$items.length-a);b++)this.loadContent(a+b,!1,0);for(c=1;c<=this.s.preload&&!(a-c<0);c++)this.loadContent(a-c,!1,0)},b.prototype.loadContent=function(b,c,d){var e,f,g,h,i,j,k,l=this,m=!1,n=function(b){for(var c=[],d=[],e=0;e<b.length;e++){var g=b[e].split(" ");""===g[0]&&g.splice(0,1),d.push(g[0]),c.push(g[1])}for(var h=a(window).width(),i=0;i<c.length;i++)if(parseInt(c[i],10)>h){f=d[i];break}};if(l.s.dynamic)l.s.dynamicEl[b].poster&&(m=!0,g=l.s.dynamicEl[b].poster),j=l.s.dynamicEl[b].html,f=l.s.dynamicEl[b].src,k=l.s.dynamicEl[b].alt,l.s.dynamicEl[b].responsive&&n(l.s.dynamicEl[b].responsive.split(",")),h=l.s.dynamicEl[b].srcset,i=l.s.dynamicEl[b].sizes;else{var o=l.$items.eq(b);o.attr("data-poster")&&(m=!0,g=o.attr("data-poster")),j=o.attr("data-html"),f=o.attr("href")||o.attr("data-src"),k=o.attr("title")||o.find("img").first().attr("alt"),o.attr("data-responsive")&&n(o.attr("data-responsive").split(",")),h=o.attr("data-srcset"),i=o.attr("data-sizes")}var p=!1;l.s.dynamic?l.s.dynamicEl[b].iframe&&(p=!0):"true"===l.$items.eq(b).attr("data-iframe")&&(p=!0);var q=l.isVideo(f,b);if(!l.$slide.eq(b).hasClass("lg-loaded")){if(p)l.$slide.eq(b).prepend('<div class="lg-video-cont lg-has-iframe" style="max-width:'+l.s.iframeMaxWidth+'"><div class="lg-video"><iframe class="lg-object" frameborder="0" src="'+f+'"  allowfullscreen="true"></iframe></div></div>');else if(m){var r="";r=q&&q.youtube?"lg-has-youtube":q&&q.vimeo?"lg-has-vimeo":"lg-has-html5",l.$slide.eq(b).prepend('<div class="lg-video-cont '+r+' "><div class="lg-video"><span class="lg-video-play"></span><img class="lg-object lg-has-poster" src="'+g+'" /></div></div>')}else q?(l.$slide.eq(b).prepend('<div class="lg-video-cont "><div class="lg-video"></div></div>'),l.$el.trigger("hasVideo.lg",[b,f,j])):(k=k?'alt="'+k+'"':"",l.$slide.eq(b).prepend('<div class="lg-img-wrap"><img class="lg-object lg-image" '+k+' src="'+f+'" /></div>'));if(l.$el.trigger("onAferAppendSlide.lg",[b]),e=l.$slide.eq(b).find(".lg-object"),i&&e.attr("sizes",i),h){e.attr("srcset",h);try{picturefill({elements:[e[0]]})}catch(a){console.warn("lightGallery :- If you want srcset to be supported for older browser please include picturefil version 2 javascript library in your document.")}}".lg-sub-html"!==this.s.appendSubHtmlTo&&l.addHtml(b),l.$slide.eq(b).addClass("lg-loaded")}l.$slide.eq(b).find(".lg-object").on("load.lg error.lg",function(){var c=0;d&&!a("body").hasClass("lg-from-hash")&&(c=d),setTimeout(function(){l.$slide.eq(b).addClass("lg-complete"),l.$el.trigger("onSlideItemLoad.lg",[b,d||0])},c)}),q&&q.html5&&!m&&l.$slide.eq(b).addClass("lg-complete"),!0===c&&(l.$slide.eq(b).hasClass("lg-complete")?l.preload(b):l.$slide.eq(b).find(".lg-object").on("load.lg error.lg",function(){l.preload(b)}))},b.prototype.slide=function(b,c,d,e){var f=this.$outer.find(".lg-current").index(),g=this;if(!g.lGalleryOn||f!==b){var h=this.$slide.length,i=g.lGalleryOn?this.s.speed:0;if(!g.lgBusy){if(this.s.download){var j;j=g.s.dynamic?!1!==g.s.dynamicEl[b].downloadUrl&&(g.s.dynamicEl[b].downloadUrl||g.s.dynamicEl[b].src):"false"!==g.$items.eq(b).attr("data-download-url")&&(g.$items.eq(b).attr("data-download-url")||g.$items.eq(b).attr("href")||g.$items.eq(b).attr("data-src")),j?(a("#lg-download").attr("href",j),g.$outer.removeClass("lg-hide-download")):g.$outer.addClass("lg-hide-download")}if(this.$el.trigger("onBeforeSlide.lg",[f,b,c,d]),g.lgBusy=!0,clearTimeout(g.hideBartimeout),".lg-sub-html"===this.s.appendSubHtmlTo&&setTimeout(function(){g.addHtml(b)},i),this.arrowDisable(b),e||(b<f?e="prev":b>f&&(e="next")),c){this.$slide.removeClass("lg-prev-slide lg-current lg-next-slide");var k,l;h>2?(k=b-1,l=b+1,0===b&&f===h-1?(l=0,k=h-1):b===h-1&&0===f&&(l=0,k=h-1)):(k=0,l=1),"prev"===e?g.$slide.eq(l).addClass("lg-next-slide"):g.$slide.eq(k).addClass("lg-prev-slide"),g.$slide.eq(b).addClass("lg-current")}else g.$outer.addClass("lg-no-trans"),this.$slide.removeClass("lg-prev-slide lg-next-slide"),"prev"===e?(this.$slide.eq(b).addClass("lg-prev-slide"),this.$slide.eq(f).addClass("lg-next-slide")):(this.$slide.eq(b).addClass("lg-next-slide"),this.$slide.eq(f).addClass("lg-prev-slide")),setTimeout(function(){g.$slide.removeClass("lg-current"),g.$slide.eq(b).addClass("lg-current"),g.$outer.removeClass("lg-no-trans")},50);g.lGalleryOn?(setTimeout(function(){g.loadContent(b,!0,0)},this.s.speed+50),setTimeout(function(){g.lgBusy=!1,g.$el.trigger("onAfterSlide.lg",[f,b,c,d])},this.s.speed)):(g.loadContent(b,!0,g.s.backdropDuration),g.lgBusy=!1,g.$el.trigger("onAfterSlide.lg",[f,b,c,d])),g.lGalleryOn=!0,this.s.counter&&a("#lg-counter-current").text(b+1)}g.index=b}},b.prototype.goToNextSlide=function(a){var b=this,c=b.s.loop;a&&b.$slide.length<3&&(c=!1),b.lgBusy||(b.index+1<b.$slide.length?(b.index++,b.$el.trigger("onBeforeNextSlide.lg",[b.index]),b.slide(b.index,a,!1,"next")):c?(b.index=0,b.$el.trigger("onBeforeNextSlide.lg",[b.index]),b.slide(b.index,a,!1,"next")):b.s.slideEndAnimatoin&&!a&&(b.$outer.addClass("lg-right-end"),setTimeout(function(){b.$outer.removeClass("lg-right-end")},400)))},b.prototype.goToPrevSlide=function(a){var b=this,c=b.s.loop;a&&b.$slide.length<3&&(c=!1),b.lgBusy||(b.index>0?(b.index--,b.$el.trigger("onBeforePrevSlide.lg",[b.index,a]),b.slide(b.index,a,!1,"prev")):c?(b.index=b.$items.length-1,b.$el.trigger("onBeforePrevSlide.lg",[b.index,a]),b.slide(b.index,a,!1,"prev")):b.s.slideEndAnimatoin&&!a&&(b.$outer.addClass("lg-left-end"),setTimeout(function(){b.$outer.removeClass("lg-left-end")},400)))},b.prototype.keyPress=function(){var b=this;this.$items.length>1&&a(window).on("keyup.lg",function(a){b.$items.length>1&&(37===a.keyCode&&(a.preventDefault(),b.goToPrevSlide()),39===a.keyCode&&(a.preventDefault(),b.goToNextSlide()))}),a(window).on("keydown.lg",function(a){!0===b.s.escKey&&27===a.keyCode&&(a.preventDefault(),b.$outer.hasClass("lg-thumb-open")?b.$outer.removeClass("lg-thumb-open"):b.destroy())})},b.prototype.arrow=function(){var a=this;this.$outer.find(".lg-prev").on("click.lg",function(){a.goToPrevSlide()}),this.$outer.find(".lg-next").on("click.lg",function(){a.goToNextSlide()})},b.prototype.arrowDisable=function(a){!this.s.loop&&this.s.hideControlOnEnd&&(a+1<this.$slide.length?this.$outer.find(".lg-next").removeAttr("disabled").removeClass("disabled"):this.$outer.find(".lg-next").attr("disabled","disabled").addClass("disabled"),a>0?this.$outer.find(".lg-prev").removeAttr("disabled").removeClass("disabled"):this.$outer.find(".lg-prev").attr("disabled","disabled").addClass("disabled"))},b.prototype.setTranslate=function(a,b,c){this.s.useLeft?a.css("left",b):a.css({transform:"translate3d("+b+"px, "+c+"px, 0px)"})},b.prototype.touchMove=function(b,c){var d=c-b;Math.abs(d)>15&&(this.$outer.addClass("lg-dragging"),this.setTranslate(this.$slide.eq(this.index),d,0),this.setTranslate(a(".lg-prev-slide"),-this.$slide.eq(this.index).width()+d,0),this.setTranslate(a(".lg-next-slide"),this.$slide.eq(this.index).width()+d,0))},b.prototype.touchEnd=function(a){var b=this;"lg-slide"!==b.s.mode&&b.$outer.addClass("lg-slide"),this.$slide.not(".lg-current, .lg-prev-slide, .lg-next-slide").css("opacity","0"),setTimeout(function(){b.$outer.removeClass("lg-dragging"),a<0&&Math.abs(a)>b.s.swipeThreshold?b.goToNextSlide(!0):a>0&&Math.abs(a)>b.s.swipeThreshold?b.goToPrevSlide(!0):Math.abs(a)<5&&b.$el.trigger("onSlideClick.lg"),b.$slide.removeAttr("style")}),setTimeout(function(){b.$outer.hasClass("lg-dragging")||"lg-slide"===b.s.mode||b.$outer.removeClass("lg-slide")},b.s.speed+100)},b.prototype.enableSwipe=function(){var a=this,b=0,c=0,d=!1;a.s.enableSwipe&&a.doCss()&&(a.$slide.on("touchstart.lg",function(c){a.$outer.hasClass("lg-zoomed")||a.lgBusy||(c.preventDefault(),a.manageSwipeClass(),b=c.originalEvent.targetTouches[0].pageX)}),a.$slide.on("touchmove.lg",function(e){a.$outer.hasClass("lg-zoomed")||(e.preventDefault(),c=e.originalEvent.targetTouches[0].pageX,a.touchMove(b,c),d=!0)}),a.$slide.on("touchend.lg",function(){a.$outer.hasClass("lg-zoomed")||(d?(d=!1,a.touchEnd(c-b)):a.$el.trigger("onSlideClick.lg"))}))},b.prototype.enableDrag=function(){var b=this,c=0,d=0,e=!1,f=!1;b.s.enableDrag&&b.doCss()&&(b.$slide.on("mousedown.lg",function(d){b.$outer.hasClass("lg-zoomed")||b.lgBusy||a(d.target).text().trim()||(d.preventDefault(),b.manageSwipeClass(),c=d.pageX,e=!0,b.$outer.scrollLeft+=1,b.$outer.scrollLeft-=1,b.$outer.removeClass("lg-grab").addClass("lg-grabbing"),b.$el.trigger("onDragstart.lg"))}),a(window).on("mousemove.lg",function(a){e&&(f=!0,d=a.pageX,b.touchMove(c,d),b.$el.trigger("onDragmove.lg"))}),a(window).on("mouseup.lg",function(g){f?(f=!1,b.touchEnd(d-c),b.$el.trigger("onDragend.lg")):(a(g.target).hasClass("lg-object")||a(g.target).hasClass("lg-video-play"))&&b.$el.trigger("onSlideClick.lg"),e&&(e=!1,b.$outer.removeClass("lg-grabbing").addClass("lg-grab"))}))},b.prototype.manageSwipeClass=function(){var a=this.index+1,b=this.index-1;this.s.loop&&this.$slide.length>2&&(0===this.index?b=this.$slide.length-1:this.index===this.$slide.length-1&&(a=0)),this.$slide.removeClass("lg-next-slide lg-prev-slide"),b>-1&&this.$slide.eq(b).addClass("lg-prev-slide"),this.$slide.eq(a).addClass("lg-next-slide")},b.prototype.mousewheel=function(){var a=this;a.$outer.on("mousewheel.lg",function(b){b.deltaY&&(b.deltaY>0?a.goToPrevSlide():a.goToNextSlide(),b.preventDefault())})},b.prototype.closeGallery=function(){var b=this,c=!1;this.$outer.find(".lg-close").on("click.lg",function(){b.destroy()}),b.s.closable&&(b.$outer.on("mousedown.lg",function(b){c=!!(a(b.target).is(".lg-outer")||a(b.target).is(".lg-item ")||a(b.target).is(".lg-img-wrap"))}),b.$outer.on("mousemove.lg",function(){c=!1}),b.$outer.on("mouseup.lg",function(d){(a(d.target).is(".lg-outer")||a(d.target).is(".lg-item ")||a(d.target).is(".lg-img-wrap")&&c)&&(b.$outer.hasClass("lg-dragging")||b.destroy())}))},b.prototype.destroy=function(b){var c=this;b||(c.$el.trigger("onBeforeClose.lg"),a(window).scrollTop(c.prevScrollTop)),b&&(c.s.dynamic||this.$items.off("click.lg click.lgcustom"),a.removeData(c.el,"lightGallery")),this.$el.off(".lg.tm"),a.each(a.fn.lightGallery.modules,function(a){c.modules[a]&&c.modules[a].destroy()}),this.lGalleryOn=!1,clearTimeout(c.hideBartimeout),this.hideBartimeout=!1,a(window).off(".lg"),a("body").removeClass("lg-on lg-from-hash"),c.$outer&&c.$outer.removeClass("lg-visible"),a(".lg-backdrop").removeClass("in"),setTimeout(function(){c.$outer&&c.$outer.remove(),a(".lg-backdrop").remove(),b||c.$el.trigger("onCloseAfter.lg"),c.$el.focus()},c.s.backdropDuration+50)},a.fn.lightGallery=function(c){return this.each(function(){if(a.data(this,"lightGallery"))try{a(this).data("lightGallery").init()}catch(a){
console.error("lightGallery has not initiated properly")}else a.data(this,"lightGallery",new b(this,c))})},a.fn.lightGallery.modules={}}()}),function(a,b){"function"==typeof define&&define.amd?define(["jquery"],function(a){return b(a)}):"object"==typeof module&&module.exports?module.exports=b(require("jquery")):b(a.jQuery)}(this,function(a){!function(){"use strict";var b={autoplay:!1,pause:5e3,progressBar:!0,fourceAutoplay:!1,autoplayControls:!0,appendAutoplayControlsTo:".lg-toolbar"},c=function(c){return this.core=a(c).data("lightGallery"),this.$el=a(c),!(this.core.$items.length<2)&&(this.core.s=a.extend({},b,this.core.s),this.interval=!1,this.fromAuto=!0,this.canceledOnTouch=!1,this.fourceAutoplayTemp=this.core.s.fourceAutoplay,this.core.doCss()||(this.core.s.progressBar=!1),this.init(),this)};c.prototype.init=function(){var a=this;a.core.s.autoplayControls&&a.controls(),a.core.s.progressBar&&a.core.$outer.find(".lg").append('<div class="lg-progress-bar"><div class="lg-progress"></div></div>'),a.progress(),a.core.s.autoplay&&a.$el.one("onSlideItemLoad.lg.tm",function(){a.startlAuto()}),a.$el.on("onDragstart.lg.tm touchstart.lg.tm",function(){a.interval&&(a.cancelAuto(),a.canceledOnTouch=!0)}),a.$el.on("onDragend.lg.tm touchend.lg.tm onSlideClick.lg.tm",function(){!a.interval&&a.canceledOnTouch&&(a.startlAuto(),a.canceledOnTouch=!1)})},c.prototype.progress=function(){var a,b,c=this;c.$el.on("onBeforeSlide.lg.tm",function(){c.core.s.progressBar&&c.fromAuto&&(a=c.core.$outer.find(".lg-progress-bar"),b=c.core.$outer.find(".lg-progress"),c.interval&&(b.removeAttr("style"),a.removeClass("lg-start"),setTimeout(function(){b.css("transition","width "+(c.core.s.speed+c.core.s.pause)+"ms ease 0s"),a.addClass("lg-start")},20))),c.fromAuto||c.core.s.fourceAutoplay||c.cancelAuto(),c.fromAuto=!1})},c.prototype.controls=function(){var b=this;a(this.core.s.appendAutoplayControlsTo).append('<button aria-label="Toggle autoplay" class="lg-autoplay-button lg-icon"></button>'),b.core.$outer.find(".lg-autoplay-button").on("click.lg",function(){a(b.core.$outer).hasClass("lg-show-autoplay")?(b.cancelAuto(),b.core.s.fourceAutoplay=!1):b.interval||(b.startlAuto(),b.core.s.fourceAutoplay=b.fourceAutoplayTemp)})},c.prototype.startlAuto=function(){var a=this;a.core.$outer.find(".lg-progress").css("transition","width "+(a.core.s.speed+a.core.s.pause)+"ms ease 0s"),a.core.$outer.addClass("lg-show-autoplay"),a.core.$outer.find(".lg-progress-bar").addClass("lg-start"),a.interval=setInterval(function(){a.core.index+1<a.core.$items.length?a.core.index++:a.core.index=0,a.fromAuto=!0,a.core.slide(a.core.index,!1,!1,"next")},a.core.s.speed+a.core.s.pause)},c.prototype.cancelAuto=function(){clearInterval(this.interval),this.interval=!1,this.core.$outer.find(".lg-progress").removeAttr("style"),this.core.$outer.removeClass("lg-show-autoplay"),this.core.$outer.find(".lg-progress-bar").removeClass("lg-start")},c.prototype.destroy=function(){this.cancelAuto(),this.core.$outer.find(".lg-progress-bar").remove()},a.fn.lightGallery.modules.autoplay=c}()}),function(a,b){"function"==typeof define&&define.amd?define(["jquery"],function(a){return b(a)}):"object"==typeof module&&module.exports?module.exports=b(require("jquery")):b(a.jQuery)}(this,function(a){!function(){"use strict";function b(){return document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement}var c={fullScreen:!0},d=function(b){return this.core=a(b).data("lightGallery"),this.$el=a(b),this.core.s=a.extend({},c,this.core.s),this.init(),this};d.prototype.init=function(){var a="";if(this.core.s.fullScreen){if(!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled))return;a='<button aria-label="Toggle fullscreen" class="lg-fullscreen lg-icon"></button>',this.core.$outer.find(".lg-toolbar").append(a),this.fullScreen()}},d.prototype.requestFullscreen=function(){var a=document.documentElement;a.requestFullscreen?a.requestFullscreen():a.msRequestFullscreen?a.msRequestFullscreen():a.mozRequestFullScreen?a.mozRequestFullScreen():a.webkitRequestFullscreen&&a.webkitRequestFullscreen()},d.prototype.exitFullscreen=function(){document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen()},d.prototype.fullScreen=function(){var c=this;a(document).on("fullscreenchange.lg webkitfullscreenchange.lg mozfullscreenchange.lg MSFullscreenChange.lg",function(){c.core.$outer.toggleClass("lg-fullscreen-on")}),this.core.$outer.find(".lg-fullscreen").on("click.lg",function(){b()?c.exitFullscreen():c.requestFullscreen()})},d.prototype.destroy=function(){b()&&this.exitFullscreen(),a(document).off("fullscreenchange.lg webkitfullscreenchange.lg mozfullscreenchange.lg MSFullscreenChange.lg")},a.fn.lightGallery.modules.fullscreen=d}()}),function(a,b){"function"==typeof define&&define.amd?define(["jquery"],function(a){return b(a)}):"object"==typeof exports?module.exports=b(require("jquery")):b(jQuery)}(0,function(a){!function(){"use strict";var b={pager:!1},c=function(c){return this.core=a(c).data("lightGallery"),this.$el=a(c),this.core.s=a.extend({},b,this.core.s),this.core.s.pager&&this.core.$items.length>1&&this.init(),this};c.prototype.init=function(){var b,c,d,e=this,f="";if(e.core.$outer.find(".lg").append('<div class="lg-pager-outer"></div>'),e.core.s.dynamic)for(var g=0;g<e.core.s.dynamicEl.length;g++)f+='<span class="lg-pager-cont"> <span class="lg-pager"></span><div class="lg-pager-thumb-cont"><span class="lg-caret"></span> <img src="'+e.core.s.dynamicEl[g].thumb+'" /></div></span>';else e.core.$items.each(function(){f+=e.core.s.exThumbImage?'<span class="lg-pager-cont"> <span class="lg-pager"></span><div class="lg-pager-thumb-cont"><span class="lg-caret"></span> <img src="'+a(this).attr(e.core.s.exThumbImage)+'" /></div></span>':'<span class="lg-pager-cont"> <span class="lg-pager"></span><div class="lg-pager-thumb-cont"><span class="lg-caret"></span> <img src="'+a(this).find("img").attr("src")+'" /></div></span>'});c=e.core.$outer.find(".lg-pager-outer"),c.html(f),b=e.core.$outer.find(".lg-pager-cont"),b.on("click.lg touchend.lg",function(){var b=a(this);e.core.index=b.index(),e.core.slide(e.core.index,!1,!0,!1)}),c.on("mouseover.lg",function(){clearTimeout(d),c.addClass("lg-pager-hover")}),c.on("mouseout.lg",function(){d=setTimeout(function(){c.removeClass("lg-pager-hover")})}),e.core.$el.on("onBeforeSlide.lg.tm",function(a,c,d){b.removeClass("lg-pager-active"),b.eq(d).addClass("lg-pager-active")})},c.prototype.destroy=function(){},a.fn.lightGallery.modules.pager=c}()}),function(a,b){"function"==typeof define&&define.amd?define(["jquery"],function(a){return b(a)}):"object"==typeof module&&module.exports?module.exports=b(require("jquery")):b(a.jQuery)}(this,function(a){!function(){"use strict";var b={thumbnail:!0,animateThumb:!0,currentPagerPosition:"middle",thumbWidth:100,thumbHeight:"80px",thumbContHeight:100,thumbMargin:5,exThumbImage:!1,showThumbByDefault:!0,toogleThumb:!0,pullCaptionUp:!0,enableThumbDrag:!0,enableThumbSwipe:!0,swipeThreshold:50,loadYoutubeThumbnail:!0,youtubeThumbSize:1,loadVimeoThumbnail:!0,vimeoThumbSize:"thumbnail_small",loadDailymotionThumbnail:!0},c=function(c){return this.core=a(c).data("lightGallery"),this.core.s=a.extend({},b,this.core.s),this.$el=a(c),this.$thumbOuter=null,this.thumbOuterWidth=0,this.thumbTotalWidth=this.core.$items.length*(this.core.s.thumbWidth+this.core.s.thumbMargin),this.thumbIndex=this.core.index,this.core.s.animateThumb&&(this.core.s.thumbHeight="100%"),this.left=0,this.init(),this};c.prototype.init=function(){var a=this;this.core.s.thumbnail&&this.core.$items.length>1&&(this.core.s.showThumbByDefault&&setTimeout(function(){a.core.$outer.addClass("lg-thumb-open")},700),this.core.s.pullCaptionUp&&this.core.$outer.addClass("lg-pull-caption-up"),this.build(),this.core.s.animateThumb&&this.core.doCss()?(this.core.s.enableThumbDrag&&this.enableThumbDrag(),this.core.s.enableThumbSwipe&&this.enableThumbSwipe(),this.thumbClickable=!1):this.thumbClickable=!0,this.toogle(),this.thumbkeyPress())},c.prototype.build=function(){function b(a,b,c){var g,h=d.core.isVideo(a,c)||{},i="";h.youtube||h.vimeo||h.dailymotion?h.youtube?g=d.core.s.loadYoutubeThumbnail?"//img.youtube.com/vi/"+h.youtube[1]+"/"+d.core.s.youtubeThumbSize+".jpg":b:h.vimeo?d.core.s.loadVimeoThumbnail?(g="//i.vimeocdn.com/video/error_"+f+".jpg",i=h.vimeo[1]):g=b:h.dailymotion&&(g=d.core.s.loadDailymotionThumbnail?"//www.dailymotion.com/thumbnail/video/"+h.dailymotion[1]:b):g=b,e+='<div data-vimeo-id="'+i+'" class="lg-thumb-item" style="width:'+d.core.s.thumbWidth+"px; height: "+d.core.s.thumbHeight+"; margin-right: "+d.core.s.thumbMargin+'px"><img src="'+g+'" /></div>',i=""}var c,d=this,e="",f="",g='<div class="lg-thumb-outer"><div class="lg-thumb lg-group"></div></div>';switch(this.core.s.vimeoThumbSize){case"thumbnail_large":f="640";break;case"thumbnail_medium":f="200x150";break;case"thumbnail_small":f="100x75"}if(d.core.$outer.addClass("lg-has-thumb"),d.core.$outer.find(".lg").append(g),d.$thumbOuter=d.core.$outer.find(".lg-thumb-outer"),d.thumbOuterWidth=d.$thumbOuter.width(),d.core.s.animateThumb&&d.core.$outer.find(".lg-thumb").css({width:d.thumbTotalWidth+"px",position:"relative"}),this.core.s.animateThumb&&d.$thumbOuter.css("height",d.core.s.thumbContHeight+"px"),d.core.s.dynamic)for(var h=0;h<d.core.s.dynamicEl.length;h++)b(d.core.s.dynamicEl[h].src,d.core.s.dynamicEl[h].thumb,h);else d.core.$items.each(function(c){d.core.s.exThumbImage?b(a(this).attr("href")||a(this).attr("data-src"),a(this).attr(d.core.s.exThumbImage),c):b(a(this).attr("href")||a(this).attr("data-src"),a(this).find("img").attr("src"),c)});d.core.$outer.find(".lg-thumb").html(e),c=d.core.$outer.find(".lg-thumb-item"),c.each(function(){var b=a(this),c=b.attr("data-vimeo-id");c&&a.getJSON("//www.vimeo.com/api/v2/video/"+c+".json?callback=?",{format:"json"},function(a){b.find("img").attr("src",a[0][d.core.s.vimeoThumbSize])})}),c.eq(d.core.index).addClass("active"),d.core.$el.on("onBeforeSlide.lg.tm",function(){c.removeClass("active"),c.eq(d.core.index).addClass("active")}),c.on("click.lg touchend.lg",function(){var b=a(this);setTimeout(function(){(d.thumbClickable&&!d.core.lgBusy||!d.core.doCss())&&(d.core.index=b.index(),d.core.slide(d.core.index,!1,!0,!1))},50)}),d.core.$el.on("onBeforeSlide.lg.tm",function(){d.animateThumb(d.core.index)}),a(window).on("resize.lg.thumb orientationchange.lg.thumb",function(){setTimeout(function(){d.animateThumb(d.core.index),d.thumbOuterWidth=d.$thumbOuter.width()},200)})},c.prototype.setTranslate=function(a){this.core.$outer.find(".lg-thumb").css({transform:"translate3d(-"+a+"px, 0px, 0px)"})},c.prototype.animateThumb=function(a){var b=this.core.$outer.find(".lg-thumb");if(this.core.s.animateThumb){var c;switch(this.core.s.currentPagerPosition){case"left":c=0;break;case"middle":c=this.thumbOuterWidth/2-this.core.s.thumbWidth/2;break;case"right":c=this.thumbOuterWidth-this.core.s.thumbWidth}this.left=(this.core.s.thumbWidth+this.core.s.thumbMargin)*a-1-c,this.left>this.thumbTotalWidth-this.thumbOuterWidth&&(this.left=this.thumbTotalWidth-this.thumbOuterWidth),this.left<0&&(this.left=0),this.core.lGalleryOn?(b.hasClass("on")||this.core.$outer.find(".lg-thumb").css("transition-duration",this.core.s.speed+"ms"),this.core.doCss()||b.animate({left:-this.left+"px"},this.core.s.speed)):this.core.doCss()||b.css("left",-this.left+"px"),this.setTranslate(this.left)}},c.prototype.enableThumbDrag=function(){var b=this,c=0,d=0,e=!1,f=!1,g=0;b.$thumbOuter.addClass("lg-grab"),b.core.$outer.find(".lg-thumb").on("mousedown.lg.thumb",function(a){b.thumbTotalWidth>b.thumbOuterWidth&&(a.preventDefault(),c=a.pageX,e=!0,b.core.$outer.scrollLeft+=1,b.core.$outer.scrollLeft-=1,b.thumbClickable=!1,b.$thumbOuter.removeClass("lg-grab").addClass("lg-grabbing"))}),a(window).on("mousemove.lg.thumb",function(a){e&&(g=b.left,f=!0,d=a.pageX,b.$thumbOuter.addClass("lg-dragging"),g-=d-c,g>b.thumbTotalWidth-b.thumbOuterWidth&&(g=b.thumbTotalWidth-b.thumbOuterWidth),g<0&&(g=0),b.setTranslate(g))}),a(window).on("mouseup.lg.thumb",function(){f?(f=!1,b.$thumbOuter.removeClass("lg-dragging"),b.left=g,Math.abs(d-c)<b.core.s.swipeThreshold&&(b.thumbClickable=!0)):b.thumbClickable=!0,e&&(e=!1,b.$thumbOuter.removeClass("lg-grabbing").addClass("lg-grab"))})},c.prototype.enableThumbSwipe=function(){var a=this,b=0,c=0,d=!1,e=0;a.core.$outer.find(".lg-thumb").on("touchstart.lg",function(c){a.thumbTotalWidth>a.thumbOuterWidth&&(c.preventDefault(),b=c.originalEvent.targetTouches[0].pageX,a.thumbClickable=!1)}),a.core.$outer.find(".lg-thumb").on("touchmove.lg",function(f){a.thumbTotalWidth>a.thumbOuterWidth&&(f.preventDefault(),c=f.originalEvent.targetTouches[0].pageX,d=!0,a.$thumbOuter.addClass("lg-dragging"),e=a.left,e-=c-b,e>a.thumbTotalWidth-a.thumbOuterWidth&&(e=a.thumbTotalWidth-a.thumbOuterWidth),e<0&&(e=0),a.setTranslate(e))}),a.core.$outer.find(".lg-thumb").on("touchend.lg",function(){a.thumbTotalWidth>a.thumbOuterWidth&&d?(d=!1,a.$thumbOuter.removeClass("lg-dragging"),Math.abs(c-b)<a.core.s.swipeThreshold&&(a.thumbClickable=!0),a.left=e):a.thumbClickable=!0})},c.prototype.toogle=function(){var a=this;a.core.s.toogleThumb&&(a.core.$outer.addClass("lg-can-toggle"),a.$thumbOuter.append('<button aria-label="Toggle thumbnails" class="lg-toogle-thumb lg-icon"></button>'),a.core.$outer.find(".lg-toogle-thumb").on("click.lg",function(){a.core.$outer.toggleClass("lg-thumb-open")}))},c.prototype.thumbkeyPress=function(){var b=this;a(window).on("keydown.lg.thumb",function(a){38===a.keyCode?(a.preventDefault(),b.core.$outer.addClass("lg-thumb-open")):40===a.keyCode&&(a.preventDefault(),b.core.$outer.removeClass("lg-thumb-open"))})},c.prototype.destroy=function(){this.core.s.thumbnail&&this.core.$items.length>1&&(a(window).off("resize.lg.thumb orientationchange.lg.thumb keydown.lg.thumb"),this.$thumbOuter.remove(),this.core.$outer.removeClass("lg-has-thumb"))},a.fn.lightGallery.modules.Thumbnail=c}()}),function(a,b){"function"==typeof define&&define.amd?define(["jquery"],function(a){return b(a)}):"object"==typeof module&&module.exports?module.exports=b(require("jquery")):b(a.jQuery)}(this,function(a){!function(){"use strict";function b(a,b,c,d){var e=this;if(e.core.$slide.eq(b).find(".lg-video").append(e.loadVideo(c,"lg-object",!0,b,d)),d)if(e.core.s.videojs)try{videojs(e.core.$slide.eq(b).find(".lg-html5").get(0),e.core.s.videojsOptions,function(){!e.videoLoaded&&e.core.s.autoplayFirstVideo&&this.play()})}catch(a){console.error("Make sure you have included videojs")}else!e.videoLoaded&&e.core.s.autoplayFirstVideo&&e.core.$slide.eq(b).find(".lg-html5").get(0).play()}function c(a,b){var c=this.core.$slide.eq(b).find(".lg-video-cont");c.hasClass("lg-has-iframe")||(c.css("max-width",this.core.s.videoMaxWidth),this.videoLoaded=!0)}function d(b,c,d){var e=this,f=e.core.$slide.eq(c),g=f.find(".lg-youtube").get(0),h=f.find(".lg-vimeo").get(0),i=f.find(".lg-dailymotion").get(0),j=f.find(".lg-vk").get(0),k=f.find(".lg-html5").get(0);if(g)g.contentWindow.postMessage('{"event":"command","func":"pauseVideo","args":""}',"*");else if(h)try{$f(h).api("pause")}catch(a){console.error("Make sure you have included froogaloop2 js")}else if(i)i.contentWindow.postMessage("pause","*");else if(k)if(e.core.s.videojs)try{videojs(k).pause()}catch(a){console.error("Make sure you have included videojs")}else k.pause();j&&a(j).attr("src",a(j).attr("src").replace("&autoplay","&noplay"));var l;l=e.core.s.dynamic?e.core.s.dynamicEl[d].src:e.core.$items.eq(d).attr("href")||e.core.$items.eq(d).attr("data-src");var m=e.core.isVideo(l,d)||{};(m.youtube||m.vimeo||m.dailymotion||m.vk)&&e.core.$outer.addClass("lg-hide-download")}var e={videoMaxWidth:"855px",autoplayFirstVideo:!0,youtubePlayerParams:!1,vimeoPlayerParams:!1,dailymotionPlayerParams:!1,vkPlayerParams:!1,videojs:!1,videojsOptions:{}},f=function(b){return this.core=a(b).data("lightGallery"),this.$el=a(b),this.core.s=a.extend({},e,this.core.s),this.videoLoaded=!1,this.init(),this};f.prototype.init=function(){var e=this;e.core.$el.on("hasVideo.lg.tm",b.bind(this)),e.core.$el.on("onAferAppendSlide.lg.tm",c.bind(this)),e.core.doCss()&&e.core.$items.length>1&&(e.core.s.enableSwipe||e.core.s.enableDrag)?e.core.$el.on("onSlideClick.lg.tm",function(){var a=e.core.$slide.eq(e.core.index);e.loadVideoOnclick(a)}):e.core.$slide.on("click.lg",function(){e.loadVideoOnclick(a(this))}),e.core.$el.on("onBeforeSlide.lg.tm",d.bind(this)),e.core.$el.on("onAfterSlide.lg.tm",function(a,b){e.core.$slide.eq(b).removeClass("lg-video-playing")}),e.core.s.autoplayFirstVideo&&e.core.$el.on("onAferAppendSlide.lg.tm",function(a,b){if(!e.core.lGalleryOn){var c=e.core.$slide.eq(b);setTimeout(function(){e.loadVideoOnclick(c)},100)}})},f.prototype.loadVideo=function(b,c,d,e,f){var g,h=this,i="",j=1,k="",l=this.core.isVideo(b,e)||{};if(g=h.core.s.dynamic?h.core.s.dynamicEl[h.core.index].title:h.core.$items.eq(h.core.index).attr("title")||h.core.$items.eq(h.core.index).find("img").first().attr("alt"),g=g?'title="'+g+'"':"",d&&(j=this.videoLoaded?0:this.core.s.autoplayFirstVideo?1:0),l.youtube)k="?wmode=opaque&autoplay="+j+"&enablejsapi=1",this.core.s.youtubePlayerParams&&(k=k+"&"+a.param(this.core.s.youtubePlayerParams)),i='<iframe class="lg-video-object lg-youtube '+c+'" '+g+' width="560" height="315" src="//www.youtube.com/embed/'+l.youtube[1]+k+'" frameborder="0" allowfullscreen></iframe>';else if(l.vimeo)k="?autoplay="+j+"&api=1",this.core.s.vimeoPlayerParams&&(k=k+"&"+a.param(this.core.s.vimeoPlayerParams)),i='<iframe class="lg-video-object lg-vimeo '+c+'" '+g+' width="560" height="315"  src="//player.vimeo.com/video/'+l.vimeo[1]+k+'" frameborder="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>';else if(l.dailymotion)k="?wmode=opaque&autoplay="+j+"&api=postMessage",this.core.s.dailymotionPlayerParams&&(k=k+"&"+a.param(this.core.s.dailymotionPlayerParams)),i='<iframe class="lg-video-object lg-dailymotion '+c+'" '+g+' width="560" height="315" src="//www.dailymotion.com/embed/video/'+l.dailymotion[1]+k+'" frameborder="0" allowfullscreen></iframe>';else if(l.html5){var m=f.substring(0,1);"."!==m&&"#"!==m||(f=a(f).html()),i=f}else l.vk&&(k="&autoplay="+j,this.core.s.vkPlayerParams&&(k=k+"&"+a.param(this.core.s.vkPlayerParams)),i='<iframe class="lg-video-object lg-vk '+c+'" '+g+' width="560" height="315" src="//vk.com/video_ext.php?'+l.vk[1]+k+'" frameborder="0" allowfullscreen></iframe>');return i},f.prototype.loadVideoOnclick=function(a){var b=this;if(a.find(".lg-object").hasClass("lg-has-poster")&&a.find(".lg-object").is(":visible"))if(a.hasClass("lg-has-video")){var c=a.find(".lg-youtube").get(0),d=a.find(".lg-vimeo").get(0),e=a.find(".lg-dailymotion").get(0),f=a.find(".lg-html5").get(0);if(c)c.contentWindow.postMessage('{"event":"command","func":"playVideo","args":""}',"*");else if(d)try{$f(d).api("play")}catch(a){console.error("Make sure you have included froogaloop2 js")}else if(e)e.contentWindow.postMessage("play","*");else if(f)if(b.core.s.videojs)try{videojs(f).play()}catch(a){console.error("Make sure you have included videojs")}else f.play();a.addClass("lg-video-playing")}else{a.addClass("lg-video-playing lg-has-video");var g,h,i=function(c,d){if(a.find(".lg-video").append(b.loadVideo(c,"",!1,b.core.index,d)),d)if(b.core.s.videojs)try{videojs(b.core.$slide.eq(b.core.index).find(".lg-html5").get(0),b.core.s.videojsOptions,function(){this.play()})}catch(a){console.error("Make sure you have included videojs")}else b.core.$slide.eq(b.core.index).find(".lg-html5").get(0).play()};b.core.s.dynamic?(g=b.core.s.dynamicEl[b.core.index].src,h=b.core.s.dynamicEl[b.core.index].html,i(g,h)):(g=b.core.$items.eq(b.core.index).attr("href")||b.core.$items.eq(b.core.index).attr("data-src"),h=b.core.$items.eq(b.core.index).attr("data-html"),i(g,h));var j=a.find(".lg-object");a.find(".lg-video").append(j),a.find(".lg-video-object").hasClass("lg-html5")||(a.removeClass("lg-complete"),a.find(".lg-video-object").on("load.lg error.lg",function(){a.addClass("lg-complete")}))}},f.prototype.destroy=function(){this.videoLoaded=!1},a.fn.lightGallery.modules.video=f}()}),function(a,b){"function"==typeof define&&define.amd?define(["jquery"],function(a){return b(a)}):"object"==typeof module&&module.exports?module.exports=b(require("jquery")):b(a.jQuery)}(this,function(a){!function(){"use strict";var b=function(){var a=!1,b=navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./);return b&&parseInt(b[2],10)<54&&(a=!0),a},c={scale:1,zoom:!0,actualSize:!0,enableZoomAfter:300,useLeftForZoom:b()},d=function(b){return this.core=a(b).data("lightGallery"),this.core.s=a.extend({},c,this.core.s),this.core.s.zoom&&this.core.doCss()&&(this.init(),this.zoomabletimeout=!1,this.pageX=a(window).width()/2,this.pageY=a(window).height()/2+a(window).scrollTop()),this};d.prototype.init=function(){var b=this,c='<button aria-label="Zoom in" id="lg-zoom-in" class="lg-icon"></button><button aria-label="Zoom out" id="lg-zoom-out" class="lg-icon"></button>';b.core.s.actualSize&&(c+='<button aria-label="Actual size" id="lg-actual-size" class="lg-icon"></button>'),b.core.s.useLeftForZoom?b.core.$outer.addClass("lg-use-left-for-zoom"):b.core.$outer.addClass("lg-use-transition-for-zoom"),this.core.$outer.find(".lg-toolbar").append(c),b.core.$el.on("onSlideItemLoad.lg.tm.zoom",function(c,d,e){var f=b.core.s.enableZoomAfter+e;a("body").hasClass("lg-from-hash")&&e?f=0:a("body").removeClass("lg-from-hash"),b.zoomabletimeout=setTimeout(function(){b.core.$slide.eq(d).addClass("lg-zoomable")},f+30)});var d=1,e=function(c){var d,e,f=b.core.$outer.find(".lg-current .lg-image"),g=(a(window).width()-f.prop("offsetWidth"))/2,h=(a(window).height()-f.prop("offsetHeight"))/2+a(window).scrollTop();d=b.pageX-g,e=b.pageY-h;var i=(c-1)*d,j=(c-1)*e;f.css("transform","scale3d("+c+", "+c+", 1)").attr("data-scale",c),b.core.s.useLeftForZoom?f.parent().css({left:-i+"px",top:-j+"px"}).attr("data-x",i).attr("data-y",j):f.parent().css("transform","translate3d(-"+i+"px, -"+j+"px, 0)").attr("data-x",i).attr("data-y",j)},f=function(){d>1?b.core.$outer.addClass("lg-zoomed"):b.resetZoom(),d<1&&(d=1),e(d)},g=function(c,e,g,h){var i,j=e.prop("offsetWidth");i=b.core.s.dynamic?b.core.s.dynamicEl[g].width||e[0].naturalWidth||j:b.core.$items.eq(g).attr("data-width")||e[0].naturalWidth||j;var k;b.core.$outer.hasClass("lg-zoomed")?d=1:i>j&&(k=i/j,d=k||2),h?(b.pageX=a(window).width()/2,b.pageY=a(window).height()/2+a(window).scrollTop()):(b.pageX=c.pageX||c.originalEvent.targetTouches[0].pageX,b.pageY=c.pageY||c.originalEvent.targetTouches[0].pageY),f(),setTimeout(function(){b.core.$outer.removeClass("lg-grabbing").addClass("lg-grab")},10)},h=!1;b.core.$el.on("onAferAppendSlide.lg.tm.zoom",function(a,c){var d=b.core.$slide.eq(c).find(".lg-image");d.on("dblclick",function(a){g(a,d,c)}),d.on("touchstart",function(a){h?(clearTimeout(h),h=null,g(a,d,c)):h=setTimeout(function(){h=null},300),a.preventDefault()})}),a(window).on("resize.lg.zoom scroll.lg.zoom orientationchange.lg.zoom",function(){b.pageX=a(window).width()/2,b.pageY=a(window).height()/2+a(window).scrollTop(),e(d)}),a("#lg-zoom-out").on("click.lg",function(){b.core.$outer.find(".lg-current .lg-image").length&&(d-=b.core.s.scale,f())}),a("#lg-zoom-in").on("click.lg",function(){b.core.$outer.find(".lg-current .lg-image").length&&(d+=b.core.s.scale,f())}),a("#lg-actual-size").on("click.lg",function(a){g(a,b.core.$slide.eq(b.core.index).find(".lg-image"),b.core.index,!0)}),b.core.$el.on("onBeforeSlide.lg.tm",function(){d=1,b.resetZoom()}),b.zoomDrag(),b.zoomSwipe()},d.prototype.resetZoom=function(){this.core.$outer.removeClass("lg-zoomed"),this.core.$slide.find(".lg-img-wrap").removeAttr("style data-x data-y"),this.core.$slide.find(".lg-image").removeAttr("style data-scale"),this.pageX=a(window).width()/2,this.pageY=a(window).height()/2+a(window).scrollTop()},d.prototype.zoomSwipe=function(){var a=this,b={},c={},d=!1,e=!1,f=!1;a.core.$slide.on("touchstart.lg",function(c){if(a.core.$outer.hasClass("lg-zoomed")){var d=a.core.$slide.eq(a.core.index).find(".lg-object");f=d.prop("offsetHeight")*d.attr("data-scale")>a.core.$outer.find(".lg").height(),e=d.prop("offsetWidth")*d.attr("data-scale")>a.core.$outer.find(".lg").width(),(e||f)&&(c.preventDefault(),b={x:c.originalEvent.targetTouches[0].pageX,y:c.originalEvent.targetTouches[0].pageY})}}),a.core.$slide.on("touchmove.lg",function(g){if(a.core.$outer.hasClass("lg-zoomed")){var h,i,j=a.core.$slide.eq(a.core.index).find(".lg-img-wrap");g.preventDefault(),d=!0,c={x:g.originalEvent.targetTouches[0].pageX,y:g.originalEvent.targetTouches[0].pageY},a.core.$outer.addClass("lg-zoom-dragging"),i=f?-Math.abs(j.attr("data-y"))+(c.y-b.y):-Math.abs(j.attr("data-y")),h=e?-Math.abs(j.attr("data-x"))+(c.x-b.x):-Math.abs(j.attr("data-x")),(Math.abs(c.x-b.x)>15||Math.abs(c.y-b.y)>15)&&(a.core.s.useLeftForZoom?j.css({left:h+"px",top:i+"px"}):j.css("transform","translate3d("+h+"px, "+i+"px, 0)"))}}),a.core.$slide.on("touchend.lg",function(){a.core.$outer.hasClass("lg-zoomed")&&d&&(d=!1,a.core.$outer.removeClass("lg-zoom-dragging"),a.touchendZoom(b,c,e,f))})},d.prototype.zoomDrag=function(){var b=this,c={},d={},e=!1,f=!1,g=!1,h=!1;b.core.$slide.on("mousedown.lg.zoom",function(d){var f=b.core.$slide.eq(b.core.index).find(".lg-object");h=f.prop("offsetHeight")*f.attr("data-scale")>b.core.$outer.find(".lg").height(),g=f.prop("offsetWidth")*f.attr("data-scale")>b.core.$outer.find(".lg").width(),b.core.$outer.hasClass("lg-zoomed")&&a(d.target).hasClass("lg-object")&&(g||h)&&(d.preventDefault(),c={x:d.pageX,y:d.pageY},e=!0,b.core.$outer.scrollLeft+=1,b.core.$outer.scrollLeft-=1,b.core.$outer.removeClass("lg-grab").addClass("lg-grabbing"))}),a(window).on("mousemove.lg.zoom",function(a){if(e){var i,j,k=b.core.$slide.eq(b.core.index).find(".lg-img-wrap");f=!0,d={x:a.pageX,y:a.pageY},b.core.$outer.addClass("lg-zoom-dragging"),j=h?-Math.abs(k.attr("data-y"))+(d.y-c.y):-Math.abs(k.attr("data-y")),i=g?-Math.abs(k.attr("data-x"))+(d.x-c.x):-Math.abs(k.attr("data-x")),b.core.s.useLeftForZoom?k.css({left:i+"px",top:j+"px"}):k.css("transform","translate3d("+i+"px, "+j+"px, 0)")}}),a(window).on("mouseup.lg.zoom",function(a){e&&(e=!1,b.core.$outer.removeClass("lg-zoom-dragging"),!f||c.x===d.x&&c.y===d.y||(d={x:a.pageX,y:a.pageY},b.touchendZoom(c,d,g,h)),f=!1),b.core.$outer.removeClass("lg-grabbing").addClass("lg-grab")})},d.prototype.touchendZoom=function(a,b,c,d){var e=this,f=e.core.$slide.eq(e.core.index).find(".lg-img-wrap"),g=e.core.$slide.eq(e.core.index).find(".lg-object"),h=-Math.abs(f.attr("data-x"))+(b.x-a.x),i=-Math.abs(f.attr("data-y"))+(b.y-a.y),j=(e.core.$outer.find(".lg").height()-g.prop("offsetHeight"))/2,k=Math.abs(g.prop("offsetHeight")*Math.abs(g.attr("data-scale"))-e.core.$outer.find(".lg").height()+j),l=(e.core.$outer.find(".lg").width()-g.prop("offsetWidth"))/2,m=Math.abs(g.prop("offsetWidth")*Math.abs(g.attr("data-scale"))-e.core.$outer.find(".lg").width()+l);(Math.abs(b.x-a.x)>15||Math.abs(b.y-a.y)>15)&&(d&&(i<=-k?i=-k:i>=-j&&(i=-j)),c&&(h<=-m?h=-m:h>=-l&&(h=-l)),d?f.attr("data-y",Math.abs(i)):i=-Math.abs(f.attr("data-y")),c?f.attr("data-x",Math.abs(h)):h=-Math.abs(f.attr("data-x")),e.core.s.useLeftForZoom?f.css({left:h+"px",top:i+"px"}):f.css("transform","translate3d("+h+"px, "+i+"px, 0)"))},d.prototype.destroy=function(){var b=this;b.core.$el.off(".lg.zoom"),a(window).off(".lg.zoom"),b.core.$slide.off(".lg.zoom"),b.core.$el.off(".lg.tm.zoom"),b.resetZoom(),clearTimeout(b.zoomabletimeout),b.zoomabletimeout=!1},a.fn.lightGallery.modules.zoom=d}()}),function(a,b){"function"==typeof define&&define.amd?define(["jquery"],function(a){return b(a)}):"object"==typeof exports?module.exports=b(require("jquery")):b(jQuery)}(0,function(a){!function(){"use strict";var b={hash:!0},c=function(c){return this.core=a(c).data("lightGallery"),this.core.s=a.extend({},b,this.core.s),this.core.s.hash&&(this.oldHash=window.location.hash,this.init()),this};c.prototype.init=function(){var b,c=this;c.core.$el.on("onAfterSlide.lg.tm",function(a,b,d){history.replaceState?history.replaceState(null,null,window.location.pathname+window.location.search+"#lg="+c.core.s.galleryId+"&slide="+d):window.location.hash="lg="+c.core.s.galleryId+"&slide="+d}),a(window).on("hashchange.lg.hash",function(){b=window.location.hash;var a=parseInt(b.split("&slide=")[1],10);b.indexOf("lg="+c.core.s.galleryId)>-1?c.core.slide(a,!1,!1):c.core.lGalleryOn&&c.core.destroy()})},c.prototype.destroy=function(){this.core.s.hash&&(this.oldHash&&this.oldHash.indexOf("lg="+this.core.s.galleryId)<0?history.replaceState?history.replaceState(null,null,this.oldHash):window.location.hash=this.oldHash:history.replaceState?history.replaceState(null,document.title,window.location.pathname+window.location.search):window.location.hash="",this.core.$el.off(".lg.hash"))},a.fn.lightGallery.modules.hash=c}()}),function(a,b){"function"==typeof define&&define.amd?define(["jquery"],function(a){return b(a)}):"object"==typeof module&&module.exports?module.exports=b(require("jquery")):b(a.jQuery)}(this,function(a){!function(){"use strict";var b={share:!0,facebook:!0,facebookDropdownText:"Facebook",twitter:!0,twitterDropdownText:"Twitter",googlePlus:!0,googlePlusDropdownText:"GooglePlus",pinterest:!0,pinterestDropdownText:"Pinterest"},c=function(c){return this.core=a(c).data("lightGallery"),this.core.s=a.extend({},b,this.core.s),this.core.s.share&&this.init(),this};c.prototype.init=function(){var b=this,c='<button aria-label="Share" id="lg-share" class="lg-icon" aria-haspopup="true" aria-expanded="false"><ul class="lg-dropdown" style="position: absolute;">';c+=b.core.s.facebook?'<li><a id="lg-share-facebook" target="_blank"><span class="lg-icon"></span><span class="lg-dropdown-text">'+this.core.s.facebookDropdownText+"</span></a></li>":"",c+=b.core.s.twitter?'<li><a id="lg-share-twitter" target="_blank"><span class="lg-icon"></span><span class="lg-dropdown-text">'+this.core.s.twitterDropdownText+"</span></a></li>":"",c+=b.core.s.googlePlus?'<li><a id="lg-share-googleplus" target="_blank"><span class="lg-icon"></span><span class="lg-dropdown-text">'+this.core.s.googlePlusDropdownText+"</span></a></li>":"",c+=b.core.s.pinterest?'<li><a id="lg-share-pinterest" target="_blank"><span class="lg-icon"></span><span class="lg-dropdown-text">'+this.core.s.pinterestDropdownText+"</span></a></li>":"",c+="</ul></button>",this.core.$outer.find(".lg-toolbar").append(c),this.core.$outer.find(".lg").append('<div id="lg-dropdown-overlay"></div>'),a("#lg-share").on("click.lg",function(){b.core.$outer.toggleClass("lg-dropdown-active");var c=a("#lg-share").attr("aria-expanded");a("#lg-share").attr("aria-expanded","true"!==c)}),a("#lg-dropdown-overlay").on("click.lg",function(){b.core.$outer.removeClass("lg-dropdown-active"),a("#lg-share").attr("aria-expanded",!1)}),b.core.$el.on("onAfterSlide.lg.tm",function(c,d,e){setTimeout(function(){a("#lg-share-facebook").attr("href","https://www.facebook.com/sharer/sharer.php?u="+encodeURIComponent(b.getSahreProps(e,"facebookShareUrl")||window.location.href)),a("#lg-share-twitter").attr("href","https://twitter.com/intent/tweet?text="+b.getSahreProps(e,"tweetText")+"&url="+encodeURIComponent(b.getSahreProps(e,"twitterShareUrl")||window.location.href)),a("#lg-share-googleplus").attr("href","https://plus.google.com/share?url="+encodeURIComponent(b.getSahreProps(e,"googleplusShareUrl")||window.location.href)),a("#lg-share-pinterest").attr("href","http://www.pinterest.com/pin/create/button/?url="+encodeURIComponent(b.getSahreProps(e,"pinterestShareUrl")||window.location.href)+"&media="+encodeURIComponent(b.getSahreProps(e,"src"))+"&description="+b.getSahreProps(e,"pinterestText"))},100)})},c.prototype.getSahreProps=function(a,b){
var c="";if(this.core.s.dynamic)c=this.core.s.dynamicEl[a][b];else{var d=this.core.$items.eq(a).attr("href"),e=this.core.$items.eq(a).data(b);c="src"===b?d||e:e}return c},c.prototype.destroy=function(){},a.fn.lightGallery.modules.share=c}()}),!function(a,b){"function"==typeof define&&define.amd?define([],b):"object"==typeof module&&"undefined"!=typeof exports?module.exports=b():a.Papa=b()}(this,function a(){"use strict";function b(a){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(a){var b=m(a);b.chunkSize=parseInt(b.chunkSize),a.step||a.chunk||(b.chunkSize=null),this._handle=new g(b),(this._handle.streamer=this)._config=b}.call(this,a),this.parseChunk=function(a,b){if(this.isFirstChunk&&o(this._config.beforeFirstChunk)){var c=this._config.beforeFirstChunk(a);void 0!==c&&(a=c)}this.isFirstChunk=!1,this._halted=!1;var d=this._partialLine+a;this._partialLine="";var e=this._handle.parse(d,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var f=e.meta.cursor;this._finished||(this._partialLine=d.substring(f-this._baseIndex),this._baseIndex=f),e&&e.data&&(this._rowCount+=e.data.length);var g=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(r)p.postMessage({results:e,workerId:u.WORKER_ID,finished:g});else if(o(this._config.chunk)&&!b){if(this._config.chunk(e,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);e=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(e.data),this._completeResults.errors=this._completeResults.errors.concat(e.errors),this._completeResults.meta=e.meta),this._completed||!g||!o(this._config.complete)||e&&e.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),g||e&&e.meta.paused||this._nextChunk(),e}this._halted=!0},this._sendError=function(a){o(this._config.error)?this._config.error(a):r&&this._config.error&&p.postMessage({workerId:u.WORKER_ID,error:a,finished:!1})}}function c(a){var c;(a=a||{}).chunkSize||(a.chunkSize=u.RemoteChunkSize),b.call(this,a),this._nextChunk=q?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(a){this._input=a,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(c=new XMLHttpRequest,this._config.withCredentials&&(c.withCredentials=this._config.withCredentials),q||(c.onload=n(this._chunkLoaded,this),c.onerror=n(this._chunkError,this)),c.open("GET",this._input,!q),this._config.downloadRequestHeaders){var a=this._config.downloadRequestHeaders;for(var b in a)c.setRequestHeader(b,a[b])}if(this._config.chunkSize){var d=this._start+this._config.chunkSize-1;c.setRequestHeader("Range","bytes="+this._start+"-"+d)}try{c.send()}catch(a){this._chunkError(a.message)}q&&0===c.status?this._chunkError():this._start+=this._config.chunkSize}},this._chunkLoaded=function(){4===c.readyState&&(c.status<200||400<=c.status?this._chunkError():(this._finished=!this._config.chunkSize||this._start>function(a){var b=a.getResponseHeader("Content-Range");return null===b?-1:parseInt(b.substr(b.lastIndexOf("/")+1))}(c),this.parseChunk(c.responseText)))},this._chunkError=function(a){var b=c.statusText||a;this._sendError(new Error(b))}}function d(a){var c,d;(a=a||{}).chunkSize||(a.chunkSize=u.LocalChunkSize),b.call(this,a);var e="undefined"!=typeof FileReader;this.stream=function(a){this._input=a,d=a.slice||a.webkitSlice||a.mozSlice,e?((c=new FileReader).onload=n(this._chunkLoaded,this),c.onerror=n(this._chunkError,this)):c=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var a=this._input;if(this._config.chunkSize){var b=Math.min(this._start+this._config.chunkSize,this._input.size);a=d.call(a,this._start,b)}var f=c.readAsText(a,this._config.encoding);e||this._chunkLoaded({target:{result:f}})},this._chunkLoaded=function(a){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(a.target.result)},this._chunkError=function(){this._sendError(c.error)}}function e(a){var c;b.call(this,a=a||{}),this.stream=function(a){return c=a,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var a=this._config.chunkSize,b=a?c.substr(0,a):c;return c=a?c.substr(a):"",this._finished=!c,this.parseChunk(b)}}}function f(a){b.call(this,a=a||{});var c=[],d=!0,e=!1;this.pause=function(){b.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){b.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(a){this._input=a,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){e&&1===c.length&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),c.length?this.parseChunk(c.shift()):d=!0},this._streamData=n(function(a){try{c.push("string"==typeof a?a:a.toString(this._config.encoding)),d&&(d=!1,this._checkIsFinished(),this.parseChunk(c.shift()))}catch(a){this._streamError(a)}},this),this._streamError=n(function(a){this._streamCleanUp(),this._sendError(a)},this),this._streamEnd=n(function(){this._streamCleanUp(),e=!0,this._streamData("")},this),this._streamCleanUp=n(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function g(a){function b(b){return"greedy"===a.skipEmptyLines?""===b.join("").trim():1===b.length&&0===b[0].length}function c(){if(w&&k&&(f("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+u.DefaultDelimiter+"'"),k=!1),a.skipEmptyLines)for(var c=0;c<w.data.length;c++)b(w.data[c])&&w.data.splice(c--,1);return d()&&function(){function b(b){o(a.transformHeader)&&(b=a.transformHeader(b)),v.push(b)}if(w)if(Array.isArray(w.data[0])){for(var c=0;d()&&c<w.data.length;c++)w.data[c].forEach(b);w.data.splice(0,1)}else w.data.forEach(b)}(),function(){function b(b,c){var d,g=a.header?{}:[];for(d=0;d<b.length;d++){var h=d,i=b[d];a.header&&(h=d>=v.length?"__parsed_extra":v[d]),a.transform&&(i=a.transform(i,h)),i=e(h,i),"__parsed_extra"===h?(g[h]=g[h]||[],g[h].push(i)):g[h]=i}return a.header&&(d>v.length?f("FieldMismatch","TooManyFields","Too many fields: expected "+v.length+" fields but parsed "+d,r+c):d<v.length&&f("FieldMismatch","TooFewFields","Too few fields: expected "+v.length+" fields but parsed "+d,r+c)),g}if(!w||!a.header&&!a.dynamicTyping&&!a.transform)return w;var c=1;return!w.data[0]||Array.isArray(w.data[0])?(w.data=w.data.map(b),c=w.data.length):w.data=b(w.data,0),a.header&&w.meta&&(w.meta.fields=v),r+=c,w}()}function d(){return a.header&&0===v.length}function e(b,c){return d=b,a.dynamicTypingFunction&&void 0===a.dynamicTyping[d]&&(a.dynamicTyping[d]=a.dynamicTypingFunction(d)),!0===(a.dynamicTyping[d]||a.dynamicTyping)?"true"===c||"TRUE"===c||"false"!==c&&"FALSE"!==c&&(l.test(c)?parseFloat(c):n.test(c)?new Date(c):""===c?null:c):c;var d}function f(a,b,c,d){w.errors.push({type:a,code:b,message:c,row:d})}var g,j,k,l=/^\s*-?(\d*\.?\d+|\d+\.?\d*)(e[-+]?\d+)?\s*$/i,n=/(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))/,p=this,q=0,r=0,s=!1,t=!1,v=[],w={data:[],errors:[],meta:{}};if(o(a.step)){var x=a.step;a.step=function(b){if(w=b,d())c();else{if(c(),0===w.data.length)return;q+=b.data.length,a.preview&&q>a.preview?j.abort():x(w,p)}}}this.parse=function(d,e,f){var l=a.quoteChar||'"';if(a.newline||(a.newline=function(a,b){a=a.substr(0,1048576);var c=new RegExp(h(b)+"([^]*?)"+h(b),"gm"),d=(a=a.replace(c,"")).split("\r"),e=a.split("\n"),f=1<e.length&&e[0].length<d[0].length;if(1===d.length||f)return"\n";for(var g=0,i=0;i<d.length;i++)"\n"===d[i][0]&&g++;return g>=d.length/2?"\r\n":"\r"}(d,l)),k=!1,a.delimiter)o(a.delimiter)&&(a.delimiter=a.delimiter(d),w.meta.delimiter=a.delimiter);else{var n=function(c,d,e,f,g){var h,j,k;g=g||[",","\t","|",";",u.RECORD_SEP,u.UNIT_SEP];for(var l=0;l<g.length;l++){var m=g[l],n=0,o=0,p=0;k=void 0;for(var q=new i({comments:f,delimiter:m,newline:d,preview:10}).parse(c),r=0;r<q.data.length;r++)if(e&&b(q.data[r]))p++;else{var s=q.data[r].length;o+=s,void 0!==k?1<s&&(n+=Math.abs(s-k),k=s):k=0}0<q.data.length&&(o/=q.data.length-p),(void 0===j||j<n)&&1.99<o&&(j=n,h=m)}return{successful:!!(a.delimiter=h),bestDelimiter:h}}(d,a.newline,a.skipEmptyLines,a.comments,a.delimitersToGuess);n.successful?a.delimiter=n.bestDelimiter:(k=!0,a.delimiter=u.DefaultDelimiter),w.meta.delimiter=a.delimiter}var p=m(a);return a.preview&&a.header&&p.preview++,g=d,j=new i(p),w=j.parse(g,e,f),c(),s?{meta:{paused:!0}}:w||{meta:{paused:!1}}},this.paused=function(){return s},this.pause=function(){s=!0,j.abort(),g=g.substr(j.getCharIndex())},this.resume=function(){p.streamer._halted?(s=!1,p.streamer.parseChunk(g,!0)):setTimeout(this.resume,3)},this.aborted=function(){return t},this.abort=function(){t=!0,j.abort(),w.meta.aborted=!0,o(a.complete)&&a.complete(w),g=""}}function h(a){return a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function i(a){var b,c=(a=a||{}).delimiter,d=a.newline,e=a.comments,f=a.step,g=a.preview,i=a.fastMode,j=b=void 0===a.quoteChar?'"':a.quoteChar;if(void 0!==a.escapeChar&&(j=a.escapeChar),("string"!=typeof c||-1<u.BAD_DELIMITERS.indexOf(c))&&(c=","),e===c)throw new Error("Comment character same as delimiter");!0===e?e="#":("string"!=typeof e||-1<u.BAD_DELIMITERS.indexOf(e))&&(e=!1),"\n"!==d&&"\r"!==d&&"\r\n"!==d&&(d="\n");var k=0,l=!1;this.parse=function(a,m,n){function p(a){B.push(a),E=k}function q(b){var c=0;if(-1!==b){var d=a.substring(K+1,b);d&&""===d.trim()&&(c=d.length)}return c}function r(b){return n||(void 0===b&&(b=a.substr(k)),D.push(b),k=w,p(D),A&&u()),t()}function s(b){k=b,p(D),D=[],I=a.indexOf(d,k)}function t(a,b){return{data:b?B[0]:B,errors:C,meta:{delimiter:c,linebreak:d,aborted:l,truncated:!!a,cursor:E+(m||0)}}}function u(){f(t(void 0,!0)),B=[],C=[]}function v(d,e,f){var g={nextDelim:void 0,quoteSearch:void 0},h=a.indexOf(b,e+1);if(e<d&&d<h&&(h<f||-1===f)){var i=a.indexOf(c,h);if(-1===i)return g;h<i&&(h=a.indexOf(b,h+1)),g=v(i,h,f)}else g={nextDelim:d,quoteSearch:e};return g}if("string"!=typeof a)throw new Error("Input must be a string");var w=a.length,x=c.length,y=d.length,z=e.length,A=o(f),B=[],C=[],D=[],E=k=0;if(!a)return t();if(i||!1!==i&&-1===a.indexOf(b)){for(var F=a.split(d),G=0;G<F.length;G++){if(D=F[G],k+=D.length,G!==F.length-1)k+=d.length;else if(n)return t();if(!e||D.substr(0,z)!==e){if(A){if(B=[],p(D.split(c)),u(),l)return t()}else p(D.split(c));if(g&&g<=G)return B=B.slice(0,g),t(!0)}}return t()}for(var H=a.indexOf(c,k),I=a.indexOf(d,k),J=new RegExp(h(j)+h(b),"g"),K=a.indexOf(b,k);;)if(a[k]!==b)if(e&&0===D.length&&a.substr(k,z)===e){if(-1===I)return t();k=I+y,I=a.indexOf(d,k),H=a.indexOf(c,k)}else{if(-1!==H&&(H<I||-1===I)){if(-1===K){D.push(a.substring(k,H)),k=H+x,H=a.indexOf(c,k);continue}var L=v(H,K,I);if(L&&L.nextDelim){H=L.nextDelim,K=L.quoteSearch,D.push(a.substring(k,H)),k=H+x,H=a.indexOf(c,k);continue}}if(-1===I)break;if(D.push(a.substring(k,I)),s(I+y),A&&(u(),l))return t();if(g&&B.length>=g)return t(!0)}else for(K=k,k++;;){if(-1===(K=a.indexOf(b,K+1)))return n||C.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:B.length,index:k}),r();if(K===w-1)return r(a.substring(k,K).replace(J,b));if(b!==j||a[K+1]!==j){if(b===j||0===K||a[K-1]!==j){var M=q(-1===I?H:Math.min(H,I));if(a[K+1+M]===c){D.push(a.substring(k,K).replace(J,b)),a[k=K+1+M+x]!==b&&(K=a.indexOf(b,k)),H=a.indexOf(c,k),I=a.indexOf(d,k);break}var N=q(I);if(a.substr(K+1+N,y)===d){if(D.push(a.substring(k,K).replace(J,b)),s(K+1+N+y),H=a.indexOf(c,k),K=a.indexOf(b,k),A&&(u(),l))return t();if(g&&B.length>=g)return t(!0);break}C.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:B.length,index:k}),K++}}else K++}return r()},this.abort=function(){l=!0},this.getCharIndex=function(){return k}}function j(a){var b=a.data,c=s[b.workerId],d=!1;if(b.error)c.userError(b.error,b.file);else if(b.results&&b.results.data){var e={abort:function(){d=!0,k(b.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:l,resume:l};if(o(c.userStep)){for(var f=0;f<b.results.data.length&&(c.userStep({data:b.results.data[f],errors:b.results.errors,meta:b.results.meta},e),!d);f++);delete b.results}else o(c.userChunk)&&(c.userChunk(b.results,e,b.file),delete b.results)}b.finished&&!d&&k(b.workerId,b.results)}function k(a,b){var c=s[a];o(c.userComplete)&&c.userComplete(b),c.terminate(),delete s[a]}function l(){throw new Error("Not implemented.")}function m(a){if("object"!=typeof a||null===a)return a;var b=Array.isArray(a)?[]:{};for(var c in a)b[c]=m(a[c]);return b}function n(a,b){return function(){a.apply(b,arguments)}}function o(a){return"function"==typeof a}var p="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==p?p:{},q=!p.document&&!!p.postMessage,r=q&&/blob:/i.test((p.location||{}).protocol),s={},t=0,u={parse:function(b,g){var h=(g=g||{}).dynamicTyping||!1;if(o(h)&&(g.dynamicTypingFunction=h,h={}),g.dynamicTyping=h,g.transform=!!o(g.transform)&&g.transform,g.worker&&u.WORKERS_SUPPORTED){var i=function(){if(!u.WORKERS_SUPPORTED)return!1;var b,c,d=(b=p.URL||p.webkitURL||null,c=a.toString(),u.BLOB_URL||(u.BLOB_URL=b.createObjectURL(new Blob(["(",c,")();"],{type:"text/javascript"})))),e=new p.Worker(d);return e.onmessage=j,e.id=t++,s[e.id]=e}();return i.userStep=g.step,i.userChunk=g.chunk,i.userComplete=g.complete,i.userError=g.error,g.step=o(g.step),g.chunk=o(g.chunk),g.complete=o(g.complete),g.error=o(g.error),delete g.worker,void i.postMessage({input:b,config:g,workerId:i.id})}var k=null;return u.NODE_STREAM_INPUT,"string"==typeof b?k=g.download?new c(g):new e(g):!0===b.readable&&o(b.read)&&o(b.on)?k=new f(g):(p.File&&b instanceof File||b instanceof Object)&&(k=new d(g)),k.stream(b)},unparse:function(a,b){function c(a){if("object"!=typeof a)return[];var b=[];for(var c in a)b.push(c);return b}function d(a,b,c){var d="";"string"==typeof a&&(a=JSON.parse(a)),"string"==typeof b&&(b=JSON.parse(b));var f=Array.isArray(a)&&0<a.length,h=!Array.isArray(b[0]);if(f&&g){for(var k=0;k<a.length;k++)0<k&&(d+=i),d+=e(a[k],k);0<b.length&&(d+=j)}for(var l=0;l<b.length;l++){var m=f?a.length:b[l].length,n=!1,o=f?0===Object.keys(b[l]).length:0===b[l].length;if(c&&!f&&(n="greedy"===c?""===b[l].join("").trim():1===b[l].length&&0===b[l][0].length),"greedy"===c&&f){for(var p=[],q=0;q<m;q++){var r=h?a[q]:q;p.push(b[l][r])}n=""===p.join("").trim()}if(!n){for(var s=0;s<m;s++){0<s&&!o&&(d+=i);var t=f&&h?a[s]:s;d+=e(b[l][t],s)}l<b.length-1&&(!c||0<m&&!o)&&(d+=j)}}return d}function e(a,b){if(null==a)return"";if(a.constructor===Date)return JSON.stringify(a).slice(1,25);a=a.toString().replace(o,l);var c="boolean"==typeof f&&f||Array.isArray(f)&&f[b]||function(a,b){for(var c=0;c<b.length;c++)if(-1<a.indexOf(b[c]))return!0;return!1}(a,u.BAD_DELIMITERS)||-1<a.indexOf(i)||" "===a.charAt(0)||" "===a.charAt(a.length-1);return c?k+a+k:a}var f=!1,g=!0,i=",",j="\r\n",k='"',l=k+k,m=!1,n=null;!function(){if("object"==typeof b){if("string"!=typeof b.delimiter||u.BAD_DELIMITERS.filter(function(a){return-1!==b.delimiter.indexOf(a)}).length||(i=b.delimiter),("boolean"==typeof b.quotes||Array.isArray(b.quotes))&&(f=b.quotes),"boolean"!=typeof b.skipEmptyLines&&"string"!=typeof b.skipEmptyLines||(m=b.skipEmptyLines),"string"==typeof b.newline&&(j=b.newline),"string"==typeof b.quoteChar&&(k=b.quoteChar),"boolean"==typeof b.header&&(g=b.header),Array.isArray(b.columns)){if(0===b.columns.length)throw new Error("Option columns is empty");n=b.columns}void 0!==b.escapeChar&&(l=b.escapeChar+k)}}();var o=new RegExp(h(k),"g");if("string"==typeof a&&(a=JSON.parse(a)),Array.isArray(a)){if(!a.length||Array.isArray(a[0]))return d(null,a,m);if("object"==typeof a[0])return d(n||c(a[0]),a,m)}else if("object"==typeof a)return"string"==typeof a.data&&(a.data=JSON.parse(a.data)),Array.isArray(a.data)&&(a.fields||(a.fields=a.meta&&a.meta.fields),a.fields||(a.fields=Array.isArray(a.data[0])?a.fields:c(a.data[0])),Array.isArray(a.data[0])||"object"==typeof a.data[0]||(a.data=[a.data])),d(a.fields||[],a.data||[],m);throw new Error("Unable to serialize unrecognized input")}};if(u.RECORD_SEP=String.fromCharCode(30),u.UNIT_SEP=String.fromCharCode(31),u.BYTE_ORDER_MARK="\ufeff",u.BAD_DELIMITERS=["\r","\n",'"',u.BYTE_ORDER_MARK],u.WORKERS_SUPPORTED=!q&&!!p.Worker,u.NODE_STREAM_INPUT=1,u.LocalChunkSize=10485760,u.RemoteChunkSize=5242880,u.DefaultDelimiter=",",u.Parser=i,u.ParserHandle=g,u.NetworkStreamer=c,u.FileStreamer=d,u.StringStreamer=e,u.ReadableStreamStreamer=f,p.jQuery){var v=p.jQuery;v.fn.parse=function(a){function b(){if(0!==e.length){var b,d,f,g,h=e[0];if(o(a.before)){var i=a.before(h.file,h.inputElem);if("object"==typeof i){if("abort"===i.action)return b="AbortError",d=h.file,f=h.inputElem,g=i.reason,void(o(a.error)&&a.error({name:b},d,f,g));if("skip"===i.action)return void c();"object"==typeof i.config&&(h.instanceConfig=v.extend(h.instanceConfig,i.config))}else if("skip"===i)return void c()}var j=h.instanceConfig.complete;h.instanceConfig.complete=function(a){o(j)&&j(a,h.file,h.inputElem),c()},u.parse(h.file,h.instanceConfig)}else o(a.complete)&&a.complete()}function c(){e.splice(0,1),b()}var d=a.config||{},e=[];return this.each(function(a){if("INPUT"!==v(this).prop("tagName").toUpperCase()||"file"!==v(this).attr("type").toLowerCase()||!p.FileReader||!this.files||0===this.files.length)return!0;for(var b=0;b<this.files.length;b++)e.push({file:this.files[b],inputElem:this,instanceConfig:v.extend({},d)})}),b(),this}}return r&&(p.onmessage=function(a){var b=a.data;if(void 0===u.WORKER_ID&&b&&(u.WORKER_ID=b.workerId),"string"==typeof b.input)p.postMessage({workerId:u.WORKER_ID,results:u.parse(b.input,b.config),finished:!0});else if(p.File&&b.input instanceof File||b.input instanceof Object){var c=u.parse(b.input,b.config);c&&p.postMessage({workerId:u.WORKER_ID,results:c,finished:!0})}}),(c.prototype=Object.create(b.prototype)).constructor=c,(d.prototype=Object.create(b.prototype)).constructor=d,(e.prototype=Object.create(e.prototype)).constructor=e,(f.prototype=Object.create(b.prototype)).constructor=f,u}),window.matchMedia||(window.matchMedia=function(){"use strict";var a=window.styleMedia||window.media;if(!a){var b=document.createElement("style"),c=document.getElementsByTagName("script")[0],d=null;b.type="text/css",b.id="matchmediajs-test",c.parentNode.insertBefore(b,c),d="getComputedStyle"in window&&window.getComputedStyle(b,null)||b.currentStyle,a={matchMedium:function(a){var c="@media "+a+"{ #matchmediajs-test { width: 1px; } }";return b.styleSheet?b.styleSheet.cssText=c:b.textContent=c,"1px"===d.width}}}return function(b){return{matches:a.matchMedium(b||"all"),media:b||"all"}}}()),function(a,b,c){"use strict";function d(b){"object"==typeof module&&"object"==typeof module.exports?module.exports=b:"function"==typeof define&&define.amd&&define("picturefill",function(){return b}),"object"==typeof a&&(a.picturefill=b)}function e(a){var b,c,d,e,f,i=a||{};b=i.elements||g.getAllElements();for(var j=0,k=b.length;k>j;j++)if(c=b[j],d=c.parentNode,e=void 0,f=void 0,"IMG"===c.nodeName.toUpperCase()&&(c[g.ns]||(c[g.ns]={}),i.reevaluate||!c[g.ns].evaluated)){if(d&&"PICTURE"===d.nodeName.toUpperCase()){if(g.removeVideoShim(d),e=g.getMatch(c,d),e===!1)continue}else e=void 0;(d&&"PICTURE"===d.nodeName.toUpperCase()||!g.sizesSupported&&c.srcset&&h.test(c.srcset))&&g.dodgeSrcset(c),e?(f=g.processSourceSet(e),g.applyBestCandidate(f,c)):(f=g.processSourceSet(c),(void 0===c.srcset||c[g.ns].srcset)&&g.applyBestCandidate(f,c)),c[g.ns].evaluated=!0}}function f(){function c(){clearTimeout(d),d=setTimeout(h,60)}g.initTypeDetects(),e();var d,f=setInterval(function(){return e(),/^loaded|^i|^c/.test(b.readyState)?void clearInterval(f):void 0},250),h=function(){e({reevaluate:!0})};a.addEventListener?a.addEventListener("resize",c,!1):a.attachEvent&&a.attachEvent("onresize",c)}if(a.HTMLPictureElement)return void d(function(){});b.createElement("picture");var g=a.picturefill||{},h=/\s+\+?\d+(e\d+)?w/;g.ns="picturefill",function(){g.srcsetSupported="srcset"in c,g.sizesSupported="sizes"in c,g.curSrcSupported="currentSrc"in c}(),g.trim=function(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")},g.makeUrl=function(){var a=b.createElement("a");return function(b){return a.href=b,a.href}}(),g.restrictsMixedContent=function(){return"https:"===a.location.protocol},g.matchesMedia=function(b){return a.matchMedia&&a.matchMedia(b).matches},g.getDpr=function(){return a.devicePixelRatio||1},g.getWidthFromLength=function(a){var c;if(!a||a.indexOf("%")>-1!=0||!(parseFloat(a)>0||a.indexOf("calc(")>-1))return!1;a=a.replace("vw","%"),g.lengthEl||(g.lengthEl=b.createElement("div"),g.lengthEl.style.cssText="border:0;display:block;font-size:1em;left:0;margin:0;padding:0;position:absolute;visibility:hidden",g.lengthEl.className="helper-from-picturefill-js"),g.lengthEl.style.width="0px";try{g.lengthEl.style.width=a}catch(a){}return b.body.appendChild(g.lengthEl),c=g.lengthEl.offsetWidth,0>=c&&(c=!1),b.body.removeChild(g.lengthEl),c},g.detectTypeSupport=function(b,c){var d=new a.Image;return d.onerror=function(){g.types[b]=!1,e()},d.onload=function(){g.types[b]=1===d.width,e()},d.src=c,"pending"},g.types=g.types||{},g.initTypeDetects=function(){g.types["image/jpeg"]=!0,g.types["image/gif"]=!0,g.types["image/png"]=!0,g.types["image/svg+xml"]=b.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Image","1.1"),g.types["image/webp"]=g.detectTypeSupport("image/webp","data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA=")},g.verifyTypeSupport=function(a){var b=a.getAttribute("type");if(null===b||""===b)return!0;var c=g.types[b];return"string"==typeof c&&"pending"!==c?(g.types[b]=g.detectTypeSupport(b,c),"pending"):"function"==typeof c?(c(),"pending"):c},g.parseSize=function(a){var b=/(\([^)]+\))?\s*(.+)/g.exec(a);return{media:b&&b[1],length:b&&b[2]}},g.findWidthFromSourceSize=function(c){for(var d,e=g.trim(c).split(/\s*,\s*/),f=0,h=e.length;h>f;f++){var i=e[f],j=g.parseSize(i),k=j.length,l=j.media;if(k&&(!l||g.matchesMedia(l))&&(d=g.getWidthFromLength(k)))break}return d||Math.max(a.innerWidth||0,b.documentElement.clientWidth)},g.parseSrcset=function(a){for(var b=[];""!==a;){a=a.replace(/^\s+/g,"");var c,d=a.search(/\s/g),e=null;if(-1!==d){c=a.slice(0,d);var f=c.slice(-1);if((","===f||""===c)&&(c=c.replace(/,+$/,""),e=""),a=a.slice(d+1),null===e){var g=a.indexOf(",");-1!==g?(e=a.slice(0,g),a=a.slice(g+1)):(e=a,a="")}}else c=a,a="";(c||e)&&b.push({url:c,descriptor:e})}return b},g.parseDescriptor=function(a,b){var c,d=b||"100vw",e=a&&a.replace(/(^\s+|\s+$)/g,""),f=g.findWidthFromSourceSize(d);if(e)for(var h=e.split(" "),i=h.length-1;i>=0;i--){var j=h[i],k=j&&j.slice(j.length-1);if("h"!==k&&"w"!==k||g.sizesSupported){if("x"===k){var l=j&&parseFloat(j,10);c=l&&!isNaN(l)?l:1}}else c=parseFloat(parseInt(j,10)/f)}return c||1},g.getCandidatesFromSourceSet=function(a,b){for(var c=g.parseSrcset(a),d=[],e=0,f=c.length;f>e;e++){var h=c[e];d.push({url:h.url,resolution:g.parseDescriptor(h.descriptor,b)})}return d},g.dodgeSrcset=function(a){a.srcset&&(a[g.ns].srcset=a.srcset,a.srcset="",a.setAttribute("data-pfsrcset",a[g.ns].srcset))},g.processSourceSet=function(a){var b=a.getAttribute("srcset"),c=a.getAttribute("sizes"),d=[];return"IMG"===a.nodeName.toUpperCase()&&a[g.ns]&&a[g.ns].srcset&&(b=a[g.ns].srcset),b&&(d=g.getCandidatesFromSourceSet(b,c)),d},g.backfaceVisibilityFix=function(a){var b=a.style||{},c="webkitBackfaceVisibility"in b,d=b.zoom;c&&(b.zoom=".999",c=a.offsetWidth,b.zoom=d)},g.setIntrinsicSize=function(){var c={},d=function(a,b,c){b&&a.setAttribute("width",parseInt(b/c,10))};return function(e,f){var h;e[g.ns]&&!a.pfStopIntrinsicSize&&(void 0===e[g.ns].dims&&(e[g.ns].dims=e.getAttribute("width")||e.getAttribute("height")),e[g.ns].dims||(f.url in c?d(e,c[f.url],f.resolution):(h=b.createElement("img"),h.onload=function(){if(c[f.url]=h.width,!c[f.url])try{b.body.appendChild(h),c[f.url]=h.width||h.offsetWidth,b.body.removeChild(h)}catch(a){}e.src===f.url&&d(e,c[f.url],f.resolution),e=null,h.onload=null,h=null},h.src=f.url)))}}(),g.applyBestCandidate=function(a,b){var c,d,e;a.sort(g.ascendingSort),d=a.length,e=a[d-1];for(var f=0;d>f;f++)if(c=a[f],c.resolution>=g.getDpr()){e=c;break}e&&(e.url=g.makeUrl(e.url),b.src!==e.url&&(g.restrictsMixedContent()&&"http:"===e.url.substr(0,"http:".length).toLowerCase()?void 0!==window.console&&console.warn("Blocked mixed content image "+e.url):(b.src=e.url,g.curSrcSupported||(b.currentSrc=b.src),g.backfaceVisibilityFix(b))),g.setIntrinsicSize(b,e))},g.ascendingSort=function(a,b){return a.resolution-b.resolution},g.removeVideoShim=function(a){var b=a.getElementsByTagName("video");if(b.length){for(var c=b[0],d=c.getElementsByTagName("source");d.length;)a.insertBefore(d[0],c);c.parentNode.removeChild(c)}},g.getAllElements=function(){for(var a=[],c=b.getElementsByTagName("img"),d=0,e=c.length;e>d;d++){var f=c[d];("PICTURE"===f.parentNode.nodeName.toUpperCase()||null!==f.getAttribute("srcset")||f[g.ns]&&null!==f[g.ns].srcset)&&a.push(f)}return a},g.getMatch=function(a,b){for(var c,d=b.childNodes,e=0,f=d.length;f>e;e++){var h=d[e];if(1===h.nodeType){if(h===a)return c;if("SOURCE"===h.nodeName.toUpperCase()){null!==h.getAttribute("src")&&void 0!==typeof console&&console.warn("The `src` attribute is invalid on `picture` `source` element; instead, use `srcset`.");var i=h.getAttribute("media");if(h.getAttribute("srcset")&&(!i||g.matchesMedia(i))){var j=g.verifyTypeSupport(h);if(j===!0){c=h;break}if("pending"===j)return!1}}}}return c},f(),e._=g,d(e)}(window,window.document,new window.Image),function(){function m(){return function(){}}function n(a){return function(){return this[a]}}function p(a){return function(){return a}}function t(a,b,c){if("string"==typeof a){if(0===a.indexOf("#")&&(a=a.slice(1)),t.Ca[a])return b&&t.log.warn('Player "'+a+'" is already initialised. Options will not be applied.'),c&&t.Ca[a].I(c),t.Ca[a];a=t.m(a)}if(!a||!a.nodeName)throw new TypeError("The element or ID supplied is not valid. (videojs)");return a.player||new t.Player(a,b,c)}function v(a,b,c,d){t.tc.forEach(c,function(c){a(b,c,d)})}function F(a,b){var c,d;c=Array.prototype.slice.call(b),d=m(),d=window.console||{log:d,warn:d,error:d},a?c.unshift(a.toUpperCase()+":"):a="log",t.log.history.push(c),c.unshift("VIDEOJS:"),d[a].apply?d[a].apply(d,c):d[a](c.join(" "))}function G(a){a.r("vjs-lock-showing")}function ca(a,c,d,e){return d!==b?((d===j||t.ge(d))&&(d=0),a.c.style[c]=-1!==(""+d).indexOf("%")||-1!==(""+d).indexOf("px")?d:"auto"===d?"":d+"px",e||a.o("resize"),a):a.c?(d=a.c.style[c],e=d.indexOf("px"),-1!==e?parseInt(d.slice(0,e),10):parseInt(a.c["offset"+t.va(c)],10)):0}function da(a){var b,c,d,e,g,h,i,k;b=0,c=j,a.b("touchstart",function(a){1===a.touches.length&&(c=t.i.copy(a.touches[0]),b=(new Date).getTime(),e=f)}),a.b("touchmove",function(a){1<a.touches.length?e=l:c&&(h=a.touches[0].pageX-c.pageX,i=a.touches[0].pageY-c.pageY,k=Math.sqrt(h*h+i*i),10<k&&(e=l))}),g=function(){e=l},a.b("touchleave",g),a.b("touchcancel",g),a.b("touchend",function(a){c=j,e===f&&(d=(new Date).getTime()-b,200>d&&(a.preventDefault(),this.o("tap")))})}function ea(a,b){var c,d,e,f;return c=a.c,d=t.Vd(c),f=e=c.offsetWidth,c=a.handle,a.options().vertical?(f=d.top,d=b.changedTouches?b.changedTouches[0].pageY:b.pageY,c&&(c=c.m().offsetHeight,f+=c/2,e-=c),Math.max(0,Math.min(1,(f-d+e)/e))):(e=d.left,d=b.changedTouches?b.changedTouches[0].pageX:b.pageX,c&&(c=c.m().offsetWidth,e+=c/2,f-=c),Math.max(0,Math.min(1,(d-e)/f)))}function fa(a,b){a.aa(b),b.b("click",t.bind(a,function(){G(this)}))}function ga(a){a.Ja=f,a.za.p("vjs-lock-showing"),a.c.setAttribute("aria-pressed",f),a.H&&0<a.H.length&&a.H[0].m().focus()}function H(a){a.Ja=l,G(a.za),a.c.setAttribute("aria-pressed",l)}function ia(a){var b,c,d={sources:[],tracks:[]};if(b=t.Oa(a),c=b["data-setup"],c!==j&&t.i.D(b,t.JSON.parse(c||"{}")),t.i.D(d,b),a.hasChildNodes()){var e,f;for(a=a.childNodes,e=0,f=a.length;e<f;e++)b=a[e],c=b.nodeName.toLowerCase(),"source"===c?d.sources.push(t.Oa(b)):"track"===c&&d.tracks.push(t.Oa(b))}return d}function ka(a,b,c){a.h&&(a.ya=l,a.h.dispose(),a.h=l),"Html5"!==b&&a.L&&(t.f.Kb(a.L),a.L=j),a.Ta=b,a.ya=l;var d=t.i.D({source:c,parentEl:a.c},a.q[b.toLowerCase()]);c&&(a.Cc=c.type,c.src==a.K.src&&0<a.K.currentTime&&(d.startTime=a.K.currentTime),a.K.src=c.src),a.h=new window.videojs[b](a,d),a.h.I(function(){this.d.Va()})}function la(a,c){c!==b&&a.Jc!==c&&((a.Jc=c)?(a.p("vjs-has-started"),a.o("firstplay")):a.r("vjs-has-started"))}function N(a,b,c){if(a.h&&!a.h.ya)a.h.I(function(){this[b](c)});else try{a.h[b](c)}catch(a){throw t.log(a),a}}function M(a,c){if(a.h&&a.h.ya)try{return a.h[c]()}catch(d){throw a.h[c]===b?t.log("Video.js: "+c+" method not defined for "+a.Ta+" playback technology.",d):"TypeError"==d.name?(t.log("Video.js: "+c+" unavailable on "+a.Ta+" playback technology element.",d),a.h.ya=l):t.log(d),d}}function ma(a,b){var c=a.selectSource(b);c?c.h===a.Ta?a.src(c.source):ka(a,c.h,c.source):(a.setTimeout(function(){this.error({code:4,message:this.v(this.options().notSupportedMessage)})},0),a.Va())}function ja(a,c){return c!==b?(a.Lc=!!c,a):a.Lc}function na(a){return a.k().h&&a.k().h.featuresPlaybackRate&&a.k().options().playbackRates&&0<a.k().options().playbackRates.length}function oa(a,b){var c=/^blob\:/i;return b&&a&&c.test(a)?b:a}function ta(){var a=T[U],b=a.charAt(0).toUpperCase()+a.slice(1);ua["set"+b]=function(b){return this.c.vjs_setProperty(a,b)}}function va(a){ua[a]=function(){return this.c.vjs_getProperty(a)}}function P(a,b){var c=a.Ua.length;""+c in a||Object.defineProperty(a,c,{get:function(){return this.Ua[c]}}),b.addEventListener("modechange",t.bind(a,function(){this.o("change")})),a.Ua.push(b),a.o({type:"addtrack",Y:b})}function Q(a,b){for(var c,d=0,e=a.length;d<e;d++)if(c=a[d],c===b){a.Ua.splice(d,1);break}a.o({type:"removetrack",Y:b})}function W(a,b){return"rgba("+parseInt(a[1]+a[1],16)+","+parseInt(a[2]+a[2],16)+","+parseInt(a[3]+a[3],16)+","+b+")"}function X(a){var b;return a.Ge?b=a.Ge[0]:a.options&&(b=a.options[a.options.selectedIndex]),b.value}function Y(a,b){var c,d;if(b){for(c=0;c<a.options.length&&(d=a.options[c],!(d.value===b));c++);a.selectedIndex=c}}function $(a,c){var d=a.split("."),e=Ba;!(d[0]in e)&&e.execScript&&e.execScript("var "+d[0]);for(var f;d.length&&(f=d.shift());)d.length||c===b?e=e[f]?e[f]:e[f]={}:e[f]=c}var b=void 0,f=!0,j=null,l=!1,s;document.createElement("video"),document.createElement("audio"),document.createElement("track");var videojs=window.videojs=t;t.fc="4.12",t.sd="https:"==document.location.protocol?"https://":"http://",t.VERSION="4.12.15",t.options={techOrder:["html5","flash"],html5:{},flash:{},width:300,height:150,defaultVolume:0,playbackRates:[],inactivityTimeout:2e3,children:{mediaLoader:{},posterImage:{},loadingSpinner:{},textTrackDisplay:{},bigPlayButton:{},controlBar:{},errorDisplay:{},textTrackSettings:{}},language:document.getElementsByTagName("html")[0].getAttribute("lang")||navigator.languages&&navigator.languages[0]||navigator.Ef||navigator.language||"en",languages:{},notSupportedMessage:"No compatible source was found for this video."},"GENERATED_CDN_VSN"!==t.fc&&(videojs.options.flash.swf=t.sd+"vjs.zencdn.net/"+t.fc+"/video-js.swf"),t.Gd=function(a,c){return t.options.languages[a]=t.options.languages[a]!==b?t.Z.Aa(t.options.languages[a],c):c,
t.options.languages},t.Ca={},"function"==typeof define&&define.amd?define("videojs",[],function(){return videojs}):"object"==typeof exports&&"object"==typeof module&&(module.exports=videojs),t.Ga=t.CoreObject=m(),t.Ga.extend=function(a){var b,c;a=a||{},b=a.init||a.l||this.prototype.init||this.prototype.l||m(),c=function(){b.apply(this,arguments)},c.prototype=t.i.create(this.prototype),c.prototype.constructor=c,c.extend=t.Ga.extend,c.create=t.Ga.create;for(var d in a)a.hasOwnProperty(d)&&(c.prototype[d]=a[d]);return c},t.Ga.create=function(){var a=t.i.create(this.prototype);return this.apply(a,arguments),a},t.b=function(a,b,c){if(t.i.isArray(b))return v(t.b,a,b,c);var d=t.getData(a);d.G||(d.G={}),d.G[b]||(d.G[b]=[]),c.s||(c.s=t.s++),d.G[b].push(c),d.ba||(d.disabled=l,d.ba=function(b){if(!d.disabled){b=t.Nb(b);var c=d.G[b.type];if(c)for(var c=c.slice(0),e=0,f=c.length;e<f&&!b.Nc();e++)c[e].call(a,b)}}),1==d.G[b].length&&(a.addEventListener?a.addEventListener(b,d.ba,l):a.attachEvent&&a.attachEvent("on"+b,d.ba))},t.n=function(a,b,c){if(t.Ic(a)){var d=t.getData(a);if(d.G){if(t.i.isArray(b))return v(t.n,a,b,c);if(b){var e=d.G[b];if(e){if(c){if(c.s)for(d=0;d<e.length;d++)e[d].s===c.s&&e.splice(d--,1)}else d.G[b]=[];t.xc(a,b)}}else for(e in d.G)b=e,d.G[b]=[],t.xc(a,b)}}},t.xc=function(a,b){var c=t.getData(a);0===c.G[b].length&&(delete c.G[b],a.removeEventListener?a.removeEventListener(b,c.ba,l):a.detachEvent&&a.detachEvent("on"+b,c.ba)),t.hb(c.G)&&(delete c.G,delete c.ba,delete c.disabled),t.hb(c)&&t.Zc(a)},t.Nb=function(a){function b(){return f}function c(){return l}if(!a||!a.Sb){var d=a||window.event;a={};for(var e in d)"layerX"!==e&&"layerY"!==e&&"keyLocation"!==e&&("returnValue"==e&&d.preventDefault||(a[e]=d[e]));if(a.target||(a.target=a.srcElement||document),a.relatedTarget=a.fromElement===a.target?a.toElement:a.fromElement,a.preventDefault=function(){d.preventDefault&&d.preventDefault(),a.returnValue=l,a.ee=b,a.defaultPrevented=f},a.ee=c,a.defaultPrevented=l,a.stopPropagation=function(){d.stopPropagation&&d.stopPropagation(),a.cancelBubble=f,a.Sb=b},a.Sb=c,a.stopImmediatePropagation=function(){d.stopImmediatePropagation&&d.stopImmediatePropagation(),a.Nc=b,a.stopPropagation()},a.Nc=c,a.clientX!=j){e=document.documentElement;var g=document.body;a.pageX=a.clientX+(e&&e.scrollLeft||g&&g.scrollLeft||0)-(e&&e.clientLeft||g&&g.clientLeft||0),a.pageY=a.clientY+(e&&e.scrollTop||g&&g.scrollTop||0)-(e&&e.clientTop||g&&g.clientTop||0)}a.which=a.charCode||a.keyCode,a.button!=j&&(a.button=1&a.button?0:4&a.button?1:2&a.button?2:0)}return a},t.o=function(a,b){var c=t.Ic(a)?t.getData(a):{},d=a.parentNode||a.ownerDocument;return"string"==typeof b&&(b={type:b,target:a}),b=t.Nb(b),c.ba&&c.ba.call(a,b),d&&!b.Sb()&&b.bubbles!==l?t.o(d,b):d||b.defaultPrevented||(c=t.getData(b.target),!b.target[b.type])||(c.disabled=f,"function"==typeof b.target[b.type]&&b.target[b.type](),c.disabled=l),!b.defaultPrevented},t.N=function(a,b,c){function d(){t.n(a,b,d),c.apply(this,arguments)}return t.i.isArray(b)?v(t.N,a,b,c):(d.s=c.s=c.s||t.s++,void t.b(a,b,d))};var w=Object.prototype.hasOwnProperty;t.e=function(a,b){var c;return b=b||{},c=document.createElement(a||"div"),t.i.ca(b,function(a,b){-1!==a.indexOf("aria-")||"role"==a?c.setAttribute(a,b):c[a]=b}),c},t.va=function(a){return a.charAt(0).toUpperCase()+a.slice(1)},t.i={},t.i.create=Object.create||function(a){function b(){}return b.prototype=a,new b},t.i.ca=function(a,b,c){for(var d in a)w.call(a,d)&&b.call(c||this,d,a[d])},t.i.D=function(a,b){if(!b)return a;for(var c in b)w.call(b,c)&&(a[c]=b[c]);return a},t.i.Od=function(a,b){var c,d,e;a=t.i.copy(a);for(c in b)w.call(b,c)&&(d=a[c],e=b[c],a[c]=t.i.ib(d)&&t.i.ib(e)?t.i.Od(d,e):b[c]);return a},t.i.copy=function(a){return t.i.D({},a)},t.i.ib=function(a){return!!a&&"object"==typeof a&&"[object Object]"===a.toString()&&a.constructor===Object},t.i.isArray=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)},t.ge=function(a){return a!==a},t.bind=function(a,b,c){function d(){return b.apply(a,arguments)}return b.s||(b.s=t.s++),d.s=c?c+"_"+b.s:b.s,d},t.ua={},t.s=1,t.expando="vdata"+(new Date).getTime(),t.getData=function(a){var b=a[t.expando];return b||(b=a[t.expando]=t.s++),t.ua[b]||(t.ua[b]={}),t.ua[b]},t.Ic=function(a){return a=a[t.expando],!(!a||t.hb(t.ua[a]))},t.Zc=function(a){var b=a[t.expando];if(b){delete t.ua[b];try{delete a[t.expando]}catch(b){a.removeAttribute?a.removeAttribute(t.expando):a[t.expando]=j}}},t.hb=function(a){for(var b in a)if(a[b]!==j)return l;return f},t.Pa=function(a,b){return-1!==(" "+a.className+" ").indexOf(" "+b+" ")},t.p=function(a,b){t.Pa(a,b)||(a.className=""===a.className?b:a.className+" "+b)},t.r=function(a,b){var c,d;if(t.Pa(a,b)){for(c=a.className.split(" "),d=c.length-1;0<=d;d--)c[d]===b&&c.splice(d,1);a.className=c.join(" ")}},t.A=t.e("video");var x=document.createElement("track");x.Tb="captions",x.ed="en",x.label="English",t.A.appendChild(x),t.P=navigator.userAgent,t.zd=/iPhone/i.test(t.P),t.yd=/iPad/i.test(t.P),t.Ad=/iPod/i.test(t.P),t.xd=t.zd||t.yd||t.Ad;var aa=t,y,z=t.P.match(/OS (\d+)_/i);y=z&&z[1]?z[1]:b,aa.ff=y,t.wd=/Android/i.test(t.P);var ba=t,B,C=t.P.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i),D,E;C?(D=C[1]&&parseFloat(C[1]),E=C[2]&&parseFloat(C[2]),B=D&&E?parseFloat(C[1]+"."+C[2]):D?D:j):B=j,ba.ec=B,t.Bd=t.wd&&/webkit/i.test(t.P)&&2.3>t.ec,t.gc=/Firefox/i.test(t.P),t.gf=/Chrome/i.test(t.P),t.pa=/MSIE\s8\.0/.test(t.P),t.Db=!!("ontouchstart"in window||window.ud&&document instanceof window.ud),t.td="backgroundSize"in t.A.style,t.ad=function(a,b){t.i.ca(b,function(b,c){c===j||"undefined"==typeof c||c===l?a.removeAttribute(b):a.setAttribute(b,c===f?"":c)})},t.Oa=function(a){var b,c,d,e;if(b={},a&&a.attributes&&0<a.attributes.length){c=a.attributes;for(var g=c.length-1;0<=g;g--)d=c[g].name,e=c[g].value,"boolean"!=typeof a[d]&&-1===",autoplay,controls,loop,muted,default,".indexOf(","+d+",")||(e=e!==j?f:l),b[d]=e}return b},t.rf=function(a,b){var c="";return document.defaultView&&document.defaultView.getComputedStyle?c=document.defaultView.getComputedStyle(a,"").getPropertyValue(b):a.currentStyle&&(c=a["client"+b.substr(0,1).toUpperCase()+b.substr(1)]+"px"),c},t.Rb=function(a,b){b.firstChild?b.insertBefore(a,b.firstChild):b.appendChild(a)},t.bb={},t.m=function(a){return 0===a.indexOf("#")&&(a=a.slice(1)),document.getElementById(a)},t.Na=function(a,b){b=b||a;var c=Math.floor(a%60),d=Math.floor(a/60%60),e=Math.floor(a/3600),f=Math.floor(b/60%60),g=Math.floor(b/3600);return(isNaN(a)||1/0===a)&&(e=d=c="-"),e=0<e||0<g?e+":":"",e+(((e||10<=f)&&10>d?"0"+d:d)+":")+(10>c?"0"+c:c)},t.Id=function(){document.body.focus(),document.onselectstart=p(l)},t.Xe=function(){document.onselectstart=p(f)},t.trim=function(a){return(a+"").replace(/^\s+|\s+$/g,"")},t.round=function(a,b){return b||(b=0),Math.round(a*Math.pow(10,b))/Math.pow(10,b)},t.xa=function(a,c){return a===b&&c===b?{length:0,start:function(){throw Error("This TimeRanges object is empty")},end:function(){throw Error("This TimeRanges object is empty")}}:{length:1,start:function(){return a},end:function(){return c}}},t.Ie=function(a){try{var b=window.localStorage||l;b&&(b.volume=a)}catch(a){22==a.code||1014==a.code?t.log("LocalStorage Full (VideoJS)",a):18==a.code?t.log("LocalStorage not allowed (VideoJS)",a):t.log("LocalStorage Error (VideoJS)",a)}},t.Xd=function(a){return a.match(/^https?:\/\//)||(a=t.e("div",{innerHTML:'<a href="'+a+'">x</a>'}).firstChild.href),a},t.Ae=function(a){var b,c,d,e;e="protocol hostname port pathname search hash host".split(" "),c=t.e("a",{href:a}),(d=""===c.host&&"file:"!==c.protocol)&&(b=t.e("div"),b.innerHTML='<a href="'+a+'"></a>',c=b.firstChild,b.setAttribute("style","display:none; position:absolute;"),document.body.appendChild(b)),a={};for(var f=0;f<e.length;f++)a[e[f]]=c[e[f]];return"http:"===a.protocol&&(a.host=a.host.replace(/:80$/,"")),"https:"===a.protocol&&(a.host=a.host.replace(/:443$/,"")),d&&document.body.removeChild(b),a},t.log=function(){F(j,arguments)},t.log.history=[],t.log.error=function(){F("error",arguments)},t.log.warn=function(){F("warn",arguments)},t.Vd=function(a){var b,c;return a.getBoundingClientRect&&a.parentNode&&(b=a.getBoundingClientRect()),b?(a=document.documentElement,c=document.body,{left:t.round(b.left+(window.pageXOffset||c.scrollLeft)-(a.clientLeft||c.clientLeft||0)),top:t.round(b.top+(window.pageYOffset||c.scrollTop)-(a.clientTop||c.clientTop||0))}):{left:0,top:0}},t.tc={},t.tc.forEach=function(a,b,c){if(t.i.isArray(a)&&b instanceof Function)for(var d=0,e=a.length;d<e;++d)b.call(c||t,a[d],d,a);return a},t.bf=function(a,b){var c,d,e,g,h,i,k;"string"==typeof a&&(a={uri:a}),videojs.Z.Aa({method:"GET",timeout:45e3},a),b=b||m(),i=function(){window.clearTimeout(h),b(j,d,d.response||d.responseText)},k=function(a){window.clearTimeout(h),a&&"string"!=typeof a||(a=Error(a)),b(a,d)},c=window.XMLHttpRequest,"undefined"==typeof c&&(c=function(){try{return new window.ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(a){}try{return new window.ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(a){}try{return new window.ActiveXObject("Msxml2.XMLHTTP")}catch(a){}throw Error("This browser does not support XMLHttpRequest.")}),d=new c,d.uri=a.uri,c=t.Ae(a.uri),e=window.location,c.protocol+c.host===e.protocol+e.host||!window.XDomainRequest||"withCredentials"in d?(g="file:"==c.protocol||"file:"==e.protocol,d.onreadystatechange=function(){if(4===d.readyState){if(d.Ue)return k("timeout");200===d.status||g&&0===d.status?i():k()}},a.timeout&&(h=window.setTimeout(function(){4!==d.readyState&&(d.Ue=f,d.abort())},a.timeout))):(d=new window.XDomainRequest,d.onload=i,d.onerror=k,d.onprogress=m(),d.ontimeout=m());try{d.open(a.method||"GET",a.uri,f)}catch(a){return void k(a)}a.withCredentials&&(d.withCredentials=f),a.responseType&&(d.responseType=a.responseType);try{d.send()}catch(a){k(a)}},t.Z={},t.Z.Aa=function(a,b){var c,d,e;a=t.i.copy(a);for(c in b)b.hasOwnProperty(c)&&(d=a[c],e=b[c],a[c]=t.i.ib(d)&&t.i.ib(e)?t.Z.Aa(d,e):b[c]);return a},t.z=m(),s=t.z.prototype,s.ab={},s.b=function(a,b){var c=this.addEventListener;this.addEventListener=Function.prototype,t.b(this,a,b),this.addEventListener=c},s.addEventListener=t.z.prototype.b,s.n=function(a,b){t.n(this,a,b)},s.removeEventListener=t.z.prototype.n,s.N=function(a,b){t.N(this,a,b)},s.o=function(a){var b=a.type||a;"string"==typeof a&&(a={type:b}),a=t.Nb(a),this.ab[b]&&this["on"+b]&&this["on"+b](a),t.o(this,a)},s.dispatchEvent=t.z.prototype.o,t.a=t.Ga.extend({l:function(a,b,c){if(this.d=a,this.q=t.i.copy(this.q),b=this.options(b),this.Qa=b.id||b.el&&b.el.id,this.Qa||(this.Qa=(a.id&&a.id()||"no_player")+"_component_"+t.s++),this.pe=b.name||j,this.c=b.el||this.e(),this.R=[],this.cb={},this.eb={},this.Kc(),this.I(c),b.$c!==l){var d,e;this.k().reportUserActivity&&(d=t.bind(this.k(),this.k().reportUserActivity),this.b("touchstart",function(){d(),this.clearInterval(e),e=this.setInterval(d,250)}),a=function(){d(),this.clearInterval(e)},this.b("touchmove",d),this.b("touchend",a),this.b("touchcancel",a))}}}),s=t.a.prototype,s.dispose=function(){if(this.o({type:"dispose",bubbles:l}),this.R)for(var a=this.R.length-1;0<=a;a--)this.R[a].dispose&&this.R[a].dispose();this.eb=this.cb=this.R=j,this.n(),this.c.parentNode&&this.c.parentNode.removeChild(this.c),t.Zc(this.c),this.c=j},s.d=f,s.k=n("d"),s.options=function(a){return a===b?this.q:this.q=t.Z.Aa(this.q,a)},s.e=function(a,b){return t.e(a,b)},s.v=function(a){var b=this.d.language(),c=this.d.languages();return c&&c[b]&&c[b][a]?c[b][a]:a},s.m=n("c"),s.wa=function(){return this.B||this.c},s.id=n("Qa"),s.name=n("pe"),s.children=n("R"),s.Yd=function(a){return this.cb[a]},s.da=function(a){return this.eb[a]},s.aa=function(a,b){var c,d;return"string"==typeof a?(d=a,b=b||{},c=b.componentClass||t.va(d),b.name=d,c=new window.videojs[c](this.d||this,b)):c=a,this.R.push(c),"function"==typeof c.id&&(this.cb[c.id()]=c),(d=d||c.name&&c.name())&&(this.eb[d]=c),"function"==typeof c.el&&c.el()&&this.wa().appendChild(c.el()),c},s.removeChild=function(a){if("string"==typeof a&&(a=this.da(a)),a&&this.R){for(var b=l,c=this.R.length-1;0<=c;c--)if(this.R[c]===a){b=f,this.R.splice(c,1);break}b&&(this.cb[a.id()]=j,this.eb[a.name()]=j,(b=a.m())&&b.parentNode===this.wa()&&this.wa().removeChild(a.m()))}},s.Kc=function(){var a,c,d,e,f,g;if(a=this,c=a.options(),d=c.children)if(g=function(d,e){c[d]!==b&&(e=c[d]),e!==l&&(a[d]=a.aa(d,e))},t.i.isArray(d))for(var h=0;h<d.length;h++)e=d[h],"string"==typeof e?(f=e,e={}):f=e.name,g(f,e);else t.i.ca(d,g)},s.T=p(""),s.b=function(a,b,c){var d,e,f;return"string"==typeof a||t.i.isArray(a)?t.b(this.c,a,t.bind(this,b)):(d=t.bind(this,c),f=this,e=function(){f.n(a,b,d)},e.s=d.s,this.b("dispose",e),c=function(){f.n("dispose",e)},c.s=d.s,a.nodeName?(t.b(a,b,d),t.b(a,"dispose",c)):"function"==typeof a.b&&(a.b(b,d),a.b("dispose",c))),this},s.n=function(a,b,c){return!a||"string"==typeof a||t.i.isArray(a)?t.n(this.c,a,b):(c=t.bind(this,c),this.n("dispose",c),a.nodeName?(t.n(a,b,c),t.n(a,"dispose",c)):(a.n(b,c),a.n("dispose",c))),this},s.N=function(a,b,c){var d,e,f;return"string"==typeof a||t.i.isArray(a)?t.N(this.c,a,t.bind(this,b)):(d=t.bind(this,c),e=this,f=function(){e.n(a,b,f),d.apply(this,arguments)},f.s=d.s,this.b(a,b,f)),this},s.o=function(a){return t.o(this.c,a),this},s.I=function(a){return a&&(this.ya?a.call(this):(this.mb===b&&(this.mb=[]),this.mb.push(a))),this},s.Va=function(){this.ya=f;var a=this.mb;if(this.mb=[],a&&0<a.length){for(var b=0,c=a.length;b<c;b++)a[b].call(this);this.o("ready")}},s.Pa=function(a){return t.Pa(this.c,a)},s.p=function(a){return t.p(this.c,a),this},s.r=function(a){return t.r(this.c,a),this},s.show=function(){return this.r("vjs-hidden"),this},s.W=function(){return this.p("vjs-hidden"),this},s.width=function(a,b){return ca(this,"width",a,b)},s.height=function(a,b){return ca(this,"height",a,b)},s.Qd=function(a,b){return this.width(a,f).height(b)},s.setTimeout=function(a,b){function c(){this.clearTimeout(d)}a=t.bind(this,a);var d=setTimeout(a,b);return c.s="vjs-timeout-"+d,this.b("dispose",c),d},s.clearTimeout=function(a){function b(){}return clearTimeout(a),b.s="vjs-timeout-"+a,this.n("dispose",b),a},s.setInterval=function(a,b){function c(){this.clearInterval(d)}a=t.bind(this,a);var d=setInterval(a,b);return c.s="vjs-interval-"+d,this.b("dispose",c),d},s.clearInterval=function(a){function b(){}return clearInterval(a),b.s="vjs-interval-"+a,this.n("dispose",b),a},t.w=t.a.extend({l:function(a,b){t.a.call(this,a,b),da(this),this.b("tap",this.u),this.b("click",this.u),this.b("focus",this.kb),this.b("blur",this.jb)}}),s=t.w.prototype,s.e=function(a,b){var c;return b=t.i.D({className:this.T(),role:"button","aria-live":"polite",tabIndex:0},b),c=t.a.prototype.e.call(this,a,b),b.innerHTML||(this.B=t.e("div",{className:"vjs-control-content"}),this.Ib=t.e("span",{className:"vjs-control-text",innerHTML:this.v(this.ta)||"Need Text"}),this.B.appendChild(this.Ib),c.appendChild(this.B)),c},s.T=function(){return"vjs-control "+t.a.prototype.T.call(this)},s.u=m(),s.kb=function(){t.b(document,"keydown",t.bind(this,this.ka))},s.ka=function(a){32!=a.which&&13!=a.which||(a.preventDefault(),this.u())},s.jb=function(){t.n(document,"keydown",t.bind(this,this.ka))},t.S=t.a.extend({l:function(a,b){t.a.call(this,a,b),this.Hd=this.da(this.q.barName),this.handle=this.da(this.q.handleName),this.b("mousedown",this.lb),this.b("touchstart",this.lb),this.b("focus",this.kb),this.b("blur",this.jb),this.b("click",this.u),this.b(a,"controlsvisible",this.update),this.b(a,this.Uc,this.update)}}),s=t.S.prototype,s.e=function(a,b){return b=b||{},b.className+=" vjs-slider",b=t.i.D({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},b),t.a.prototype.e.call(this,a,b)},s.lb=function(a){a.preventDefault(),t.Id(),this.p("vjs-sliding"),this.b(document,"mousemove",this.la),this.b(document,"mouseup",this.Ba),this.b(document,"touchmove",this.la),this.b(document,"touchend",this.Ba),this.la(a)},s.la=m(),s.Ba=function(){t.Xe(),this.r("vjs-sliding"),this.n(document,"mousemove",this.la),this.n(document,"mouseup",this.Ba),this.n(document,"touchmove",this.la),this.n(document,"touchend",this.Ba),this.update()},s.update=function(){if(this.c){var a,b=this.Qb(),c=this.handle,d=this.Hd;if(("number"!=typeof b||b!==b||0>b||1/0===b)&&(b=0),a=b,c){a=this.c.offsetWidth;var e=c.m().offsetWidth;a=e?e/a:0,b*=1-a,a=b+a/2,c.m().style.left=t.round(100*b,2)+"%"}d&&(d.m().style.width=t.round(100*a,2)+"%")}},s.kb=function(){this.b(document,"keydown",this.ka)},s.ka=function(a){37==a.which||40==a.which?(a.preventDefault(),this.fd()):38!=a.which&&39!=a.which||(a.preventDefault(),this.gd())},s.jb=function(){this.n(document,"keydown",this.ka)},s.u=function(a){a.stopImmediatePropagation(),a.preventDefault()},t.ga=t.a.extend(),t.ga.prototype.defaultValue=0,t.ga.prototype.e=function(a,b){return b=b||{},b.className+=" vjs-slider-handle",b=t.i.D({innerHTML:'<span class="vjs-control-text">'+this.defaultValue+"</span>"},b),t.a.prototype.e.call(this,"div",b)},t.qa=t.a.extend(),t.qa.prototype.e=function(){var a=this.options().zc||"ul";return this.B=t.e(a,{className:"vjs-menu-content"}),a=t.a.prototype.e.call(this,"div",{append:this.B,className:"vjs-menu"}),a.appendChild(this.B),t.b(a,"click",function(a){a.preventDefault(),a.stopImmediatePropagation()}),a},t.M=t.w.extend({l:function(a,b){t.w.call(this,a,b),this.selected(b.selected)}}),t.M.prototype.e=function(a,b){return t.w.prototype.e.call(this,"li",t.i.D({className:"vjs-menu-item",innerHTML:this.v(this.q.label)},b))},t.M.prototype.u=function(){this.selected(f)},t.M.prototype.selected=function(a){a?(this.p("vjs-selected"),this.c.setAttribute("aria-selected",f)):(this.r("vjs-selected"),this.c.setAttribute("aria-selected",l))},t.O=t.w.extend({l:function(a,b){t.w.call(this,a,b),this.update(),this.b("keydown",this.ka),this.c.setAttribute("aria-haspopup",f),this.c.setAttribute("role","button")}}),s=t.O.prototype,s.update=function(){var a=this.La();this.za&&this.removeChild(this.za),this.za=a,this.aa(a),this.H&&0===this.H.length?this.W():this.H&&1<this.H.length&&this.show()},s.Ja=l,s.La=function(){var a=new t.qa(this.d);if(this.options().title&&a.wa().appendChild(t.e("li",{className:"vjs-menu-title",innerHTML:t.va(this.options().title),Se:-1})),this.H=this.createItems())for(var b=0;b<this.H.length;b++)fa(a,this.H[b]);return a},s.Ka=m(),s.T=function(){return this.className+" vjs-menu-button "+t.w.prototype.T.call(this)},s.kb=m(),s.jb=m(),s.u=function(){this.N("mouseout",t.bind(this,function(){G(this.za),this.c.blur()})),this.Ja?H(this):ga(this)},s.ka=function(a){32==a.which||13==a.which?(this.Ja?H(this):ga(this),a.preventDefault()):27==a.which&&(this.Ja&&H(this),a.preventDefault())},t.J=function(a){"number"==typeof a?this.code=a:"string"==typeof a?this.message=a:"object"==typeof a&&t.i.D(this,a),this.message||(this.message=t.J.Pd[this.code]||"")},t.J.prototype.code=0,t.J.prototype.message="",t.J.prototype.status=j,t.J.gb="MEDIA_ERR_CUSTOM MEDIA_ERR_ABORTED MEDIA_ERR_NETWORK MEDIA_ERR_DECODE MEDIA_ERR_SRC_NOT_SUPPORTED MEDIA_ERR_ENCRYPTED".split(" "),t.J.Pd={1:"You aborted the video playback",2:"A network error caused the video download to fail part-way.",3:"The video playback was aborted due to a corruption problem or because the video used features your browser did not support.",4:"The video could not be loaded, either because the server or network failed or because the format is not supported.",5:"The video is encrypted and we do not have the keys to decrypt it."};for(var I=0;I<t.J.gb.length;I++)t.J[t.J.gb[I]]=I,t.J.prototype[t.J.gb[I]]=I;var J,ha,K,L;for(J=["requestFullscreen exitFullscreen fullscreenElement fullscreenEnabled fullscreenchange fullscreenerror".split(" "),"webkitRequestFullscreen webkitExitFullscreen webkitFullscreenElement webkitFullscreenEnabled webkitfullscreenchange webkitfullscreenerror".split(" "),"webkitRequestFullScreen webkitCancelFullScreen webkitCurrentFullScreenElement webkitCancelFullScreen webkitfullscreenchange webkitfullscreenerror".split(" "),"mozRequestFullScreen mozCancelFullScreen mozFullScreenElement mozFullScreenEnabled mozfullscreenchange mozfullscreenerror".split(" "),"msRequestFullscreen msExitFullscreen msFullscreenElement msFullscreenEnabled MSFullscreenChange MSFullscreenError".split(" ")],ha=J[0],L=0;L<J.length;L++)if(J[L][1]in document){K=J[L];break}if(K)for(t.bb.Pb={},L=0;L<K.length;L++)t.bb.Pb[ha[L]]=K[L];t.Player=t.a.extend({l:function(a,b,c){this.L=a,a.id=a.id||"vjs_video_"+t.s++,this.Te=a&&t.Oa(a),b=t.i.D(ia(a),b),this.Pc=b.language||t.options.language,this.je=b.languages||t.options.languages,this.K={},this.Vc=b.poster||"",this.Jb=!!b.controls,a.controls=l,b.$c=l,ja(this,"audio"===this.L.nodeName.toLowerCase()),t.a.call(this,this,b,c),this.controls()?this.p("vjs-controls-enabled"):this.p("vjs-controls-disabled"),ja(this)&&this.p("vjs-audio"),t.Ca[this.Qa]=this,b.plugins&&t.i.ca(b.plugins,function(a,b){this[a](b)},this);var d,e,g,h,i;d=t.bind(this,this.reportUserActivity),this.b("mousedown",function(){d(),this.clearInterval(e),e=this.setInterval(d,250)}),this.b("mousemove",function(a){a.screenX==h&&a.screenY==i||(h=a.screenX,i=a.screenY,d())}),this.b("mouseup",function(){d(),this.clearInterval(e)}),this.b("keydown",d),this.b("keyup",d),this.setInterval(function(){if(this.Fa){this.Fa=l,this.userActive(f),this.clearTimeout(g);var a=this.options().inactivityTimeout;0<a&&(g=this.setTimeout(function(){this.Fa||this.userActive(l)},a))}},250)}}),s=t.Player.prototype,s.language=function(a){return a===b?this.Pc:(this.Pc=a,this)},s.languages=n("je"),s.q=t.options,s.dispose=function(){this.o("dispose"),this.n("dispose"),t.Ca[this.Qa]=j,this.L&&this.L.player&&(this.L.player=j),this.c&&this.c.player&&(this.c.player=j),this.h&&this.h.dispose(),t.a.prototype.dispose.call(this)},s.e=function(){var a,b=this.c=t.a.prototype.e.call(this,"div"),c=this.L;return c.removeAttribute("width"),c.removeAttribute("height"),a=t.Oa(c),t.i.ca(a,function(c){"class"==c?b.className=a[c]:b.setAttribute(c,a[c])}),c.id+="_html5_api",c.className="vjs-tech",c.player=b.player=this,this.p("vjs-paused"),this.width(this.q.width,f),this.height(this.q.height,f),c.ce=c.networkState,c.parentNode&&c.parentNode.insertBefore(b,c),t.Rb(c,b),this.c=b,this.b("loadstart",this.te),this.b("waiting",this.ze),this.b(["canplay","canplaythrough","playing","ended"],this.ye),this.b("seeking",this.we),this.b("seeked",this.ve),this.b("ended",this.qe),this.b("play",this.Xb),this.b("firstplay",this.re),this.b("pause",this.Wb),this.b("progress",this.ue),this.b("durationchange",this.Sc),this.b("fullscreenchange",this.se),b},s.te=function(){this.r("vjs-ended"),this.error(j),this.paused()?la(this,l):this.o("firstplay")},s.Jc=l,s.Xb=function(){this.r("vjs-ended"),this.r("vjs-paused"),this.p("vjs-playing"),la(this,f)},s.ze=function(){this.p("vjs-waiting")},s.ye=function(){this.r("vjs-waiting")},s.we=function(){this.p("vjs-seeking")},s.ve=function(){this.r("vjs-seeking")},s.re=function(){this.q.starttime&&this.currentTime(this.q.starttime),this.p("vjs-has-started")},s.Wb=function(){this.r("vjs-playing"),this.p("vjs-paused")},s.ue=function(){1==this.bufferedPercent()&&this.o("loadedalldata")},s.qe=function(){this.p("vjs-ended"),this.q.loop?(this.currentTime(0),this.play()):this.paused()||this.pause()},s.Sc=function(){var a=M(this,"duration");a&&(0>a&&(a=1/0),this.duration(a),1/0===a?this.p("vjs-live"):this.r("vjs-live"))},s.se=function(){this.isFullscreen()?this.p("vjs-fullscreen"):this.r("vjs-fullscreen")},s.play=function(){return N(this,"play"),this},s.pause=function(){return N(this,"pause"),this},s.paused=function(){return M(this,"paused")===l?l:f},s.currentTime=function(a){return a!==b?(N(this,"setCurrentTime",a),this):this.K.currentTime=M(this,"currentTime")||0},s.duration=function(a){return a!==b?(this.K.duration=parseFloat(a),this):(this.K.duration===b&&this.Sc(),this.K.duration||0)},s.remainingTime=function(){return this.duration()-this.currentTime()},s.buffered=function(){var a=M(this,"buffered");return a&&a.length||(a=t.xa(0,0)),a},s.bufferedPercent=function(){var a,b,c=this.duration(),d=this.buffered(),e=0;if(!c)return 0;for(var f=0;f<d.length;f++)a=d.start(f),b=d.end(f),b>c&&(b=c),e+=b-a;return e/c},s.volume=function(a){return a!==b?(a=Math.max(0,Math.min(1,parseFloat(a))),this.K.volume=a,N(this,"setVolume",a),t.Ie(a),this):(a=parseFloat(M(this,"volume")),isNaN(a)?1:a)},s.muted=function(a){return a!==b?(N(this,"setMuted",a),this):M(this,"muted")||l},s.Sa=function(){return M(this,"supportsFullScreen")||l},s.Mc=l,s.isFullscreen=function(a){return a!==b?(this.Mc=!!a,this):this.Mc},s.isFullScreen=function(a){return t.log.warn('player.isFullScreen() has been deprecated, use player.isFullscreen() with a lowercase "s")'),this.isFullscreen(a)},s.requestFullscreen=function(){var a=t.bb.Pb;return this.isFullscreen(f),a?(t.b(document,a.fullscreenchange,t.bind(this,function(b){this.isFullscreen(document[a.fullscreenElement]),this.isFullscreen()===l&&t.n(document,a.fullscreenchange,arguments.callee),this.o("fullscreenchange")})),this.c[a.requestFullscreen]()):this.h.Sa()?N(this,"enterFullScreen"):(this.Fc(),this.o("fullscreenchange")),this},s.requestFullScreen=function(){return t.log.warn('player.requestFullScreen() has been deprecated, use player.requestFullscreen() with a lowercase "s")'),this.requestFullscreen()},s.exitFullscreen=function(){var a=t.bb.Pb;return this.isFullscreen(l),a?document[a.exitFullscreen]():this.h.Sa()?N(this,"exitFullScreen"):(this.Lb(),this.o("fullscreenchange")),this},s.cancelFullScreen=function(){return t.log.warn("player.cancelFullScreen() has been deprecated, use player.exitFullscreen()"),this.exitFullscreen()},s.Fc=function(){this.fe=f,this.Rd=document.documentElement.style.overflow,t.b(document,"keydown",t.bind(this,this.Gc)),document.documentElement.style.overflow="hidden",t.p(document.body,"vjs-full-window"),this.o("enterFullWindow")},s.Gc=function(a){27===a.keyCode&&(this.isFullscreen()===f?this.exitFullscreen():this.Lb())},s.Lb=function(){this.fe=l,t.n(document,"keydown",this.Gc),document.documentElement.style.overflow=this.Rd,t.r(document.body,"vjs-full-window"),this.o("exitFullWindow")},s.selectSource=function(a){for(var b=0,c=this.q.techOrder;b<c.length;b++){var d=t.va(c[b]),e=window.videojs[d];if(e){if(e.isSupported())for(var f=0,g=a;f<g.length;f++){var h=g[f];if(e.canPlaySource(h))return{source:h,h:d}}}else t.log.error('The "'+d+'" tech is undefined. Skipped browser support check for that tech.')}return l},s.src=function(a){return a===b?M(this,"src"):(t.i.isArray(a)?ma(this,a):"string"==typeof a?this.src({src:a}):a instanceof Object&&(a.type&&!window.videojs[this.Ta].canPlaySource(a)?ma(this,[a]):(this.K.src=a.src,this.Cc=a.type||"",this.I(function(){window.videojs[this.Ta].prototype.hasOwnProperty("setSource")?N(this,"setSource",a):N(this,"src",a.src),"auto"==this.q.preload&&this.load(),this.q.autoplay&&this.play()}))),this)},s.load=function(){return N(this,"load"),this},s.currentSrc=function(){return M(this,"currentSrc")||this.K.src||""},s.Nd=function(){return this.Cc||""},s.Ra=function(a){return a!==b?(N(this,"setPreload",a),this.q.preload=a,this):M(this,"preload")},s.autoplay=function(a){return a!==b?(N(this,"setAutoplay",a),this.q.autoplay=a,this):M(this,"autoplay")},s.loop=function(a){return a!==b?(N(this,"setLoop",a),this.q.loop=a,this):M(this,"loop")},s.poster=function(a){return a===b?this.Vc:(a||(a=""),this.Vc=a,N(this,"setPoster",a),this.o("posterchange"),this)},s.controls=function(a){return a!==b?(a=!!a,this.Jb!==a&&((this.Jb=a)?(this.r("vjs-controls-disabled"),this.p("vjs-controls-enabled"),this.o("controlsenabled")):(this.r("vjs-controls-enabled"),this.p("vjs-controls-disabled"),this.o("controlsdisabled"))),this):this.Jb},t.Player.prototype.bc,s=t.Player.prototype,s.usingNativeControls=function(a){return a!==b?(a=!!a,this.bc!==a&&((this.bc=a)?(this.p("vjs-using-native-controls"),this.o("usingnativecontrols")):(this.r("vjs-using-native-controls"),this.o("usingcustomcontrols"))),this):this.bc},s.ja=j,s.error=function(a){return a===b?this.ja:a===j?(this.ja=a,this.r("vjs-error"),this):(this.ja=a instanceof t.J?a:new t.J(a),this.o("error"),this.p("vjs-error"),t.log.error("(CODE:"+this.ja.code+" "+t.J.gb[this.ja.code]+")",this.ja.message,this.ja),this)},s.ended=function(){return M(this,"ended")},s.seeking=function(){return M(this,"seeking")},s.seekable=function(){return M(this,"seekable")},s.Fa=f,s.reportUserActivity=function(){this.Fa=f},s.ac=f,s.userActive=function(a){return a!==b?(a=!!a,a!==this.ac&&((this.ac=a)?(this.Fa=f,this.r("vjs-user-inactive"),this.p("vjs-user-active"),this.o("useractive")):(this.Fa=l,this.h&&this.h.N("mousemove",function(a){a.stopPropagation(),a.preventDefault()}),this.r("vjs-user-active"),this.p("vjs-user-inactive"),this.o("userinactive"))),this):this.ac},s.playbackRate=function(a){return a!==b?(N(this,"setPlaybackRate",a),this):this.h&&this.h.featuresPlaybackRate?M(this,"playbackRate"):1},s.Lc=l,s.networkState=function(){return M(this,"networkState")},s.readyState=function(){return M(this,"readyState")},s.textTracks=function(){return this.h&&this.h.textTracks()},s.X=function(){return this.h&&this.h.remoteTextTracks()},s.addTextTrack=function(a,b,c){return this.h&&this.h.addTextTrack(a,b,c)},s.ha=function(a){return this.h&&this.h.addRemoteTextTrack(a)},s.Da=function(a){this.h&&this.h.removeRemoteTextTrack(a)},t.tb=t.a.extend(),t.tb.prototype.q={sf:"play",children:{playToggle:{},currentTimeDisplay:{},timeDivider:{},durationDisplay:{},remainingTimeDisplay:{},liveDisplay:{},progressControl:{},fullscreenToggle:{},volumeControl:{},muteToggle:{},playbackRateMenuButton:{},subtitlesButton:{},captionsButton:{},chaptersButton:{}}},t.tb.prototype.e=function(){return t.e("div",{className:"vjs-control-bar"})},t.hc=t.a.extend({l:function(a,b){t.a.call(this,a,b)}}),t.hc.prototype.e=function(){var a=t.a.prototype.e.call(this,"div",{className:"vjs-live-controls vjs-control"});return this.B=t.e("div",{className:"vjs-live-display",innerHTML:'<span class="vjs-control-text">'+this.v("Stream Type")+"</span>"+this.v("LIVE"),"aria-live":"off"}),a.appendChild(this.B),a},t.kc=t.w.extend({l:function(a,b){t.w.call(this,a,b),this.b(a,"play",this.Xb),this.b(a,"pause",this.Wb)}}),s=t.kc.prototype,s.ta="Play",s.T=function(){return"vjs-play-control "+t.w.prototype.T.call(this)},s.u=function(){this.d.paused()?this.d.play():this.d.pause()},s.Xb=function(){this.r("vjs-paused"),this.p("vjs-playing"),this.c.children[0].children[0].innerHTML=this.v("Pause")},s.Wb=function(){this.r("vjs-playing"),this.p("vjs-paused"),this.c.children[0].children[0].innerHTML=this.v("Play")},t.ub=t.a.extend({l:function(a,b){t.a.call(this,a,b),this.b(a,"timeupdate",this.fa)}}),t.ub.prototype.e=function(){var a=t.a.prototype.e.call(this,"div",{className:"vjs-current-time vjs-time-controls vjs-control"});return this.B=t.e("div",{className:"vjs-current-time-display",innerHTML:'<span class="vjs-control-text">Current Time </span>0:00',"aria-live":"off"}),a.appendChild(this.B),a},t.ub.prototype.fa=function(){var a=this.d.nb?this.d.K.currentTime:this.d.currentTime();this.B.innerHTML='<span class="vjs-control-text">'+this.v("Current Time")+"</span> "+t.Na(a,this.d.duration())},t.vb=t.a.extend({l:function(a,b){t.a.call(this,a,b),this.b(a,"timeupdate",this.fa),this.b(a,"loadedmetadata",this.fa)}}),t.vb.prototype.e=function(){var a=t.a.prototype.e.call(this,"div",{className:"vjs-duration vjs-time-controls vjs-control"});return this.B=t.e("div",{className:"vjs-duration-display",innerHTML:'<span class="vjs-control-text">'+this.v("Duration Time")+"</span> 0:00","aria-live":"off"}),a.appendChild(this.B),a},t.vb.prototype.fa=function(){var a=this.d.duration();a&&(this.B.innerHTML='<span class="vjs-control-text">'+this.v("Duration Time")+"</span> "+t.Na(a))},t.qc=t.a.extend({l:function(a,b){t.a.call(this,a,b)}}),t.qc.prototype.e=function(){return t.a.prototype.e.call(this,"div",{className:"vjs-time-divider",innerHTML:"<div><span>/</span></div>"
})},t.Cb=t.a.extend({l:function(a,b){t.a.call(this,a,b),this.b(a,"timeupdate",this.fa)}}),t.Cb.prototype.e=function(){var a=t.a.prototype.e.call(this,"div",{className:"vjs-remaining-time vjs-time-controls vjs-control"});return this.B=t.e("div",{className:"vjs-remaining-time-display",innerHTML:'<span class="vjs-control-text">'+this.v("Remaining Time")+"</span> -0:00","aria-live":"off"}),a.appendChild(this.B),a},t.Cb.prototype.fa=function(){this.d.duration()&&(this.B.innerHTML='<span class="vjs-control-text">'+this.v("Remaining Time")+"</span> -"+t.Na(this.d.remainingTime()))},t.Ya=t.w.extend({l:function(a,b){t.w.call(this,a,b)}}),t.Ya.prototype.ta="Fullscreen",t.Ya.prototype.T=function(){return"vjs-fullscreen-control "+t.w.prototype.T.call(this)},t.Ya.prototype.u=function(){this.d.isFullscreen()?(this.d.exitFullscreen(),this.Ib.innerHTML=this.v("Fullscreen")):(this.d.requestFullscreen(),this.Ib.innerHTML=this.v("Non-Fullscreen"))},t.Bb=t.a.extend({l:function(a,b){t.a.call(this,a,b)}}),t.Bb.prototype.q={children:{seekBar:{}}},t.Bb.prototype.e=function(){return t.a.prototype.e.call(this,"div",{className:"vjs-progress-control vjs-control"})},t.nc=t.S.extend({l:function(a,b){t.S.call(this,a,b),this.b(a,"timeupdate",this.Ea),a.I(t.bind(this,this.Ea))}}),s=t.nc.prototype,s.q={children:{loadProgressBar:{},playProgressBar:{},seekHandle:{}},barName:"playProgressBar",handleName:"seekHandle"},s.Uc="timeupdate",s.e=function(){return t.S.prototype.e.call(this,"div",{className:"vjs-progress-holder","aria-label":"video progress bar"})},s.Ea=function(){var a=this.d.nb?this.d.K.currentTime:this.d.currentTime();this.c.setAttribute("aria-valuenow",t.round(100*this.Qb(),2)),this.c.setAttribute("aria-valuetext",t.Na(a,this.d.duration()))},s.Qb=function(){return this.d.currentTime()/this.d.duration()},s.lb=function(a){t.S.prototype.lb.call(this,a),this.d.nb=f,this.d.p("vjs-scrubbing"),this.$e=!this.d.paused(),this.d.pause()},s.la=function(a){a=ea(this,a)*this.d.duration(),a==this.d.duration()&&(a-=.1),this.d.currentTime(a)},s.Ba=function(a){t.S.prototype.Ba.call(this,a),this.d.nb=l,this.d.r("vjs-scrubbing"),this.$e&&this.d.play()},s.gd=function(){this.d.currentTime(this.d.currentTime()+5)},s.fd=function(){this.d.currentTime(this.d.currentTime()-5)},t.yb=t.a.extend({l:function(a,b){t.a.call(this,a,b),this.b(a,"progress",this.update)}}),t.yb.prototype.e=function(){return t.a.prototype.e.call(this,"div",{className:"vjs-load-progress",innerHTML:'<span class="vjs-control-text"><span>'+this.v("Loaded")+"</span>: 0%</span>"})},t.yb.prototype.update=function(){var a,b,c,d,e=this.d.buffered();a=this.d.duration();var f,g=this.d;for(f=g.buffered(),g=g.duration(),f=f.end(f.length-1),f>g&&(f=g),g=this.c.children,this.c.style.width=100*(f/a||0)+"%",a=0;a<e.length;a++)b=e.start(a),c=e.end(a),(d=g[a])||(d=this.c.appendChild(t.e())),d.style.left=100*(b/f||0)+"%",d.style.width=100*((c-b)/f||0)+"%";for(a=g.length;a>e.length;a--)this.c.removeChild(g[a-1])},t.jc=t.a.extend({l:function(a,b){t.a.call(this,a,b)}}),t.jc.prototype.e=function(){return t.a.prototype.e.call(this,"div",{className:"vjs-play-progress",innerHTML:'<span class="vjs-control-text"><span>'+this.v("Progress")+"</span>: 0%</span>"})},t.Za=t.ga.extend({l:function(a,b){t.ga.call(this,a,b),this.b(a,"timeupdate",this.fa)}}),t.Za.prototype.defaultValue="00:00",t.Za.prototype.e=function(){return t.ga.prototype.e.call(this,"div",{className:"vjs-seek-handle","aria-live":"off"})},t.Za.prototype.fa=function(){var a=this.d.nb?this.d.K.currentTime:this.d.currentTime();this.c.innerHTML='<span class="vjs-control-text">'+t.Na(a,this.d.duration())+"</span>"},t.Fb=t.a.extend({l:function(a,b){t.a.call(this,a,b),a.h&&a.h.featuresVolumeControl===l&&this.p("vjs-hidden"),this.b(a,"loadstart",function(){a.h.featuresVolumeControl===l?this.p("vjs-hidden"):this.r("vjs-hidden")})}}),t.Fb.prototype.q={children:{volumeBar:{}}},t.Fb.prototype.e=function(){return t.a.prototype.e.call(this,"div",{className:"vjs-volume-control vjs-control"})},t.Eb=t.S.extend({l:function(a,b){t.S.call(this,a,b),this.b(a,"volumechange",this.Ea),a.I(t.bind(this,this.Ea))}}),s=t.Eb.prototype,s.Ea=function(){this.c.setAttribute("aria-valuenow",t.round(100*this.d.volume(),2)),this.c.setAttribute("aria-valuetext",t.round(100*this.d.volume(),2)+"%")},s.q={children:{volumeLevel:{},volumeHandle:{}},barName:"volumeLevel",handleName:"volumeHandle"},s.Uc="volumechange",s.e=function(){return t.S.prototype.e.call(this,"div",{className:"vjs-volume-bar","aria-label":"volume level"})},s.la=function(a){this.d.muted()&&this.d.muted(l),this.d.volume(ea(this,a))},s.Qb=function(){return this.d.muted()?0:this.d.volume()},s.gd=function(){this.d.volume(this.d.volume()+.1)},s.fd=function(){this.d.volume(this.d.volume()-.1)},t.rc=t.a.extend({l:function(a,b){t.a.call(this,a,b)}}),t.rc.prototype.e=function(){return t.a.prototype.e.call(this,"div",{className:"vjs-volume-level",innerHTML:'<span class="vjs-control-text"></span>'})},t.Gb=t.ga.extend(),t.Gb.prototype.defaultValue="00:00",t.Gb.prototype.e=function(){return t.ga.prototype.e.call(this,"div",{className:"vjs-volume-handle"})},t.ra=t.w.extend({l:function(a,b){t.w.call(this,a,b),this.b(a,"volumechange",this.update),a.h&&a.h.featuresVolumeControl===l&&this.p("vjs-hidden"),this.b(a,"loadstart",function(){a.h.featuresVolumeControl===l?this.p("vjs-hidden"):this.r("vjs-hidden")})}}),t.ra.prototype.e=function(){return t.w.prototype.e.call(this,"div",{className:"vjs-mute-control vjs-control",innerHTML:'<div><span class="vjs-control-text">'+this.v("Mute")+"</span></div>"})},t.ra.prototype.u=function(){this.d.muted(this.d.muted()?l:f)},t.ra.prototype.update=function(){var a=this.d.volume(),b=3;for(0===a||this.d.muted()?b=0:.33>a?b=1:.67>a&&(b=2),this.d.muted()?this.c.children[0].children[0].innerHTML!=this.v("Unmute")&&(this.c.children[0].children[0].innerHTML=this.v("Unmute")):this.c.children[0].children[0].innerHTML!=this.v("Mute")&&(this.c.children[0].children[0].innerHTML=this.v("Mute")),a=0;4>a;a++)t.r(this.c,"vjs-vol-"+a);t.p(this.c,"vjs-vol-"+b)},t.Ha=t.O.extend({l:function(a,b){t.O.call(this,a,b),this.b(a,"volumechange",this.af),a.h&&a.h.featuresVolumeControl===l&&this.p("vjs-hidden"),this.b(a,"loadstart",function(){a.h.featuresVolumeControl===l?this.p("vjs-hidden"):this.r("vjs-hidden")}),this.p("vjs-menu-button")}}),t.Ha.prototype.La=function(){var a=new t.qa(this.d,{zc:"div"}),b=new t.Eb(this.d,this.q.volumeBar);return b.b("focus",function(){a.p("vjs-lock-showing")}),b.b("blur",function(){G(a)}),a.aa(b),a},t.Ha.prototype.u=function(){t.ra.prototype.u.call(this),t.O.prototype.u.call(this)},t.Ha.prototype.e=function(){return t.w.prototype.e.call(this,"div",{className:"vjs-volume-menu-button vjs-menu-button vjs-control",innerHTML:'<div><span class="vjs-control-text">'+this.v("Mute")+"</span></div>"})},t.Ha.prototype.af=t.ra.prototype.update,t.lc=t.O.extend({l:function(a,b){t.O.call(this,a,b),this.pd(),this.od(),this.b(a,"loadstart",this.pd),this.b(a,"ratechange",this.od)}}),s=t.lc.prototype,s.ta="Playback Rate",s.className="vjs-playback-rate",s.e=function(){var a=t.O.prototype.e.call(this);return this.Oc=t.e("div",{className:"vjs-playback-rate-value",innerHTML:1}),a.appendChild(this.Oc),a},s.La=function(){var a=new t.qa(this.k()),b=this.k().options().playbackRates;if(b)for(var c=b.length-1;0<=c;c--)a.aa(new t.Ab(this.k(),{rate:b[c]+"x"}));return a},s.Ea=function(){this.m().setAttribute("aria-valuenow",this.k().playbackRate())},s.u=function(){for(var a=this.k().playbackRate(),b=this.k().options().playbackRates,c=b[0],d=0;d<b.length;d++)if(b[d]>a){c=b[d];break}this.k().playbackRate(c)},s.pd=function(){na(this)?this.r("vjs-hidden"):this.p("vjs-hidden")},s.od=function(){na(this)&&(this.Oc.innerHTML=this.k().playbackRate()+"x")},t.Ab=t.M.extend({zc:"button",l:function(a,b){var c=this.label=b.rate,d=this.Wc=parseFloat(c,10);b.label=c,b.selected=1===d,t.M.call(this,a,b),this.b(a,"ratechange",this.update)}}),t.Ab.prototype.u=function(){t.M.prototype.u.call(this),this.k().playbackRate(this.Wc)},t.Ab.prototype.update=function(){this.selected(this.k().playbackRate()==this.Wc)},t.mc=t.w.extend({l:function(a,b){t.w.call(this,a,b),this.update(),a.b("posterchange",t.bind(this,this.update))}}),s=t.mc.prototype,s.dispose=function(){this.k().n("posterchange",this.update),t.w.prototype.dispose.call(this)},s.e=function(){var a=t.e("div",{className:"vjs-poster",tabIndex:-1});return t.td||(this.Mb=t.e("img"),a.appendChild(this.Mb)),a},s.update=function(){var a=this.k().poster();this.na(a),a?this.show():this.W()},s.na=function(a){var b;this.Mb?this.Mb.src=a:(b="",a&&(b='url("'+a+'")'),this.c.style.backgroundImage=b)},s.u=function(){this.d.play()},t.ic=t.a.extend({l:function(a,b){t.a.call(this,a,b)}}),t.ic.prototype.e=function(){return t.a.prototype.e.call(this,"div",{className:"vjs-loading-spinner"})},t.rb=t.w.extend(),t.rb.prototype.e=function(){return t.w.prototype.e.call(this,"div",{className:"vjs-big-play-button",innerHTML:'<span aria-hidden="true"></span>',"aria-label":"play video"})},t.rb.prototype.u=function(){this.d.play()},t.wb=t.a.extend({l:function(a,b){t.a.call(this,a,b),this.update(),this.b(a,"error",this.update)}}),t.wb.prototype.e=function(){var a=t.a.prototype.e.call(this,"div",{className:"vjs-error-display"});return this.B=t.e("div"),a.appendChild(this.B),a},t.wb.prototype.update=function(){this.k().error()&&(this.B.innerHTML=this.v(this.k().error().message))};var O;t.j=t.a.extend({l:function(a,b,c){b=b||{},b.$c=l,t.a.call(this,a,b,c),this.featuresProgressEvents||this.ne(),this.featuresTimeupdateEvents||this.oe(),this.be(),this.featuresNativeTextTracks||this.Sd(),this.de()}}),s=t.j.prototype,s.be=function(){var a,b;a=this.k(),b=function(){a.controls()&&!a.usingNativeControls()&&this.Fd()},this.I(b),this.b(a,"controlsenabled",b),this.b(a,"controlsdisabled",this.De),this.I(function(){this.networkState&&0<this.networkState()&&this.k().o("loadstart")})},s.Fd=function(){var a;this.b("mousedown",this.u),this.b("touchstart",function(){a=this.d.userActive()}),this.b("touchmove",function(){a&&this.k().reportUserActivity()}),this.b("touchend",function(a){a.preventDefault()}),da(this),this.b("tap",this.xe)},s.De=function(){this.n("tap"),this.n("touchstart"),this.n("touchmove"),this.n("touchleave"),this.n("touchcancel"),this.n("touchend"),this.n("click"),this.n("mousedown")},s.u=function(a){0===a.button&&this.k().controls()&&(this.k().paused()?this.k().play():this.k().pause())},s.xe=function(){this.k().userActive(!this.k().userActive())},s.ne=function(){this.Qc=f,this.We()},s.me=function(){this.Qc=l,this.hd()},s.We=function(){this.Ce=this.setInterval(function(){var a=this.k().bufferedPercent();this.Jd!=a&&this.k().o("progress"),this.Jd=a,1===a&&this.hd()},500)},s.hd=function(){this.clearInterval(this.Ce)},s.oe=function(){var a=this.d;this.Vb=f,this.b(a,"play",this.md),this.b(a,"pause",this.qb),this.N("timeupdate",function(){this.featuresTimeupdateEvents=f,this.Rc()})},s.Rc=function(){var a=this.d;this.Vb=l,this.qb(),this.n(a,"play",this.md),this.n(a,"pause",this.qb)},s.md=function(){this.Bc&&this.qb(),this.Bc=this.setInterval(function(){this.k().o("timeupdate")},250)},s.qb=function(){this.clearInterval(this.Bc),this.k().o("timeupdate")},s.dispose=function(){this.Qc&&this.me(),this.Vb&&this.Rc(),t.a.prototype.dispose.call(this)},s.Zb=function(){this.Vb&&this.k().o("timeupdate")},s.de=function(){function a(){var a=c.da("textTrackDisplay");a&&a.C()}var b,c=this.d;(b=this.textTracks())&&(b.addEventListener("removetrack",a),b.addEventListener("addtrack",a),this.b("dispose",t.bind(this,function(){b.removeEventListener("removetrack",a),b.removeEventListener("addtrack",a)})))},s.Sd=function(){var a,b,c,d=this.d;window.WebVTT||(c=document.createElement("script"),c.src=d.options()["vtt.js"]||"../node_modules/vtt.js/dist/vtt.js",d.m().appendChild(c),window.WebVTT=f),(b=this.textTracks())&&(a=function(){var a,b,c;for(c=d.da("textTrackDisplay"),c.C(),a=0;a<this.length;a++)b=this[a],b.removeEventListener("cuechange",t.bind(c,c.C)),"showing"===b.mode&&b.addEventListener("cuechange",t.bind(c,c.C))},b.addEventListener("change",a),this.b("dispose",t.bind(this,function(){b.removeEventListener("change",a)})))},s.textTracks=function(){return this.d.ld=this.d.ld||new t.F,this.d.ld},s.X=function(){return this.d.Xc=this.d.Xc||new t.F,this.d.Xc},O=function(a,b,c,d,e){var f=a.textTracks();return e=e||{},e.kind=b,c&&(e.label=c),d&&(e.language=d),e.player=a.d,a=new t.t(e),P(f,a),a},t.j.prototype.addTextTrack=function(a,b,c){if(!a)throw Error("TextTrack kind is required but was not provided");return O(this,a,b,c)},t.j.prototype.ha=function(a){return a=O(this,a.kind,a.label,a.language,a),P(this.X(),a),{Y:a}},t.j.prototype.Da=function(a){Q(this.textTracks(),a),Q(this.X(),a)},t.j.prototype.bd=m(),t.j.prototype.featuresVolumeControl=f,t.j.prototype.featuresFullscreenResize=l,t.j.prototype.featuresPlaybackRate=l,t.j.prototype.featuresProgressEvents=l,t.j.prototype.featuresTimeupdateEvents=l,t.j.prototype.featuresNativeTextTracks=l,t.j.dc=function(a){a.registerSourceHandler=function(c,d){var e=a.cd;e||(e=a.cd=[]),d===b&&(d=e.length),e.splice(d,0,c)},a.ob=function(b){for(var c,d=a.cd||[],e=0;e<d.length;e++)if(c=d[e].canHandleSource(b))return d[e];return j},a.wc=function(b){var c=a.ob(b);return c?c.canHandleSource(b):""},a.prototype.ma=function(b){var c=a.ob(b);return c||(a.nativeSourceHandler?c=a.nativeSourceHandler:t.log.error("No source hander found for the current source.")),this.ia(),this.n("dispose",this.ia),this.fb=b,this.$b=c.handleSource(b,this),this.b("dispose",this.ia),this},a.prototype.ia=function(){this.$b&&this.$b.dispose&&this.$b.dispose()}},t.media={},t.f=t.j.extend({l:function(a,b,c){var d,e,g;for(b.nativeCaptions!==l&&b.nativeTextTracks!==l||(this.featuresNativeTextTracks=l),t.j.call(this,a,b,c),c=t.f.xb.length-1;0<=c;c--)this.b(t.f.xb[c],this.Td);if((b=b.source)&&(this.c.currentSrc!==b.src||a.L&&3===a.L.ce)&&this.ma(b),this.c.hasChildNodes()){for(c=this.c.childNodes,d=c.length,b=[];d--;)e=c[d],g=e.nodeName.toLowerCase(),"track"===g&&(this.featuresNativeTextTracks?P(this.X(),e.track):b.push(e));for(c=0;c<b.length;c++)this.c.removeChild(b[c])}if(t.Db&&a.options().nativeControlsForTouch===f){var h,i,j,k;h=this,i=this.k(),b=i.controls(),h.c.controls=!!b,j=function(){h.c.controls=f},k=function(){h.c.controls=l},i.b("controlsenabled",j),i.b("controlsdisabled",k),b=function(){i.n("controlsenabled",j),i.n("controlsdisabled",k)},h.b("dispose",b),i.b("usingcustomcontrols",b),i.usingNativeControls(f)}a.I(function(){this.src()&&this.L&&this.q.autoplay&&this.paused()&&(delete this.L.poster,this.play())}),this.Va()}}),s=t.f.prototype,s.dispose=function(){t.f.Kb(this.c),t.j.prototype.dispose.call(this)},s.e=function(){var a,b,c,d=this.d,e=d.L;if(!e||this.movingMediaElementInDOM===l){if(e?(c=e.cloneNode(l),t.f.Kb(e),e=c,d.L=j):(e=t.e("video"),c=videojs.Z.Aa({},d.Te),(!t.Db||d.options().nativeControlsForTouch!==f)&&delete c.controls,t.ad(e,t.i.D(c,{id:d.id()+"_html5_api",class:"vjs-tech"}))),e.player=d,d.q.nd)for(c=0;c<d.q.nd.length;c++)a=d.q.nd[c],b=document.createElement("track"),b.Tb=a.Tb,b.label=a.label,b.ed=a.ed,b.src=a.src,"default"in a&&b.setAttribute("default","default"),e.appendChild(b);t.Rb(e,d.m())}for(a=["autoplay","preload","loop","muted"],c=a.length-1;0<=c;c--){b=a[c];var g={};"undefined"!=typeof d.q[b]&&(g[b]=d.q[b]),t.ad(e,g)}return e},s.Td=function(a){"error"==a.type&&this.error()?this.k().error(this.error().code):(a.bubbles=l,this.k().o(a))},s.play=function(){this.c.play()},s.pause=function(){this.c.pause()},s.paused=function(){return this.c.paused},s.currentTime=function(){return this.c.currentTime},s.Zb=function(a){try{this.c.currentTime=a}catch(a){t.log(a,"Video is not ready. (Video.js)")}},s.duration=function(){return this.c.duration||0},s.buffered=function(){return this.c.buffered},s.volume=function(){return this.c.volume},s.Oe=function(a){this.c.volume=a},s.muted=function(){return this.c.muted},s.Ke=function(a){this.c.muted=a},s.width=function(){return this.c.offsetWidth},s.height=function(){return this.c.offsetHeight},s.Sa=function(){return"function"!=typeof this.c.webkitEnterFullScreen||!/Android/.test(t.P)&&/Chrome|Mac OS X 10.5/.test(t.P)?l:f},s.Ec=function(){var a=this.c;"webkitDisplayingFullscreen"in a&&this.N("webkitbeginfullscreen",function(){this.d.isFullscreen(f),this.N("webkitendfullscreen",function(){this.d.isFullscreen(l),this.d.o("fullscreenchange")}),this.d.o("fullscreenchange")}),a.paused&&a.networkState<=a.ef?(this.c.play(),this.setTimeout(function(){a.pause(),a.webkitEnterFullScreen()},0)):a.webkitEnterFullScreen()},s.Ud=function(){this.c.webkitExitFullScreen()},s.src=function(a){var c=this.c.src;return a===b?oa(c,this.dd):void this.na(a)},s.na=function(a){this.c.src=a},s.load=function(){this.c.load()},s.currentSrc=function(){var a=this.c.currentSrc;return this.fb?oa(a,this.fb.src):a},s.poster=function(){return this.c.poster},s.bd=function(a){this.c.poster=a},s.Ra=function(){return this.c.Ra},s.Me=function(a){this.c.Ra=a},s.autoplay=function(){return this.c.autoplay},s.He=function(a){this.c.autoplay=a},s.controls=function(){return this.c.controls},s.loop=function(){return this.c.loop},s.Je=function(a){this.c.loop=a},s.error=function(){return this.c.error},s.seeking=function(){return this.c.seeking},s.seekable=function(){return this.c.seekable},s.ended=function(){return this.c.ended},s.playbackRate=function(){return this.c.playbackRate},s.Le=function(a){this.c.playbackRate=a},s.networkState=function(){return this.c.networkState},s.readyState=function(){return this.c.readyState},s.textTracks=function(){return this.featuresNativeTextTracks?this.c.textTracks:t.j.prototype.textTracks.call(this)},s.addTextTrack=function(a,b,c){return this.featuresNativeTextTracks?this.c.addTextTrack(a,b,c):t.j.prototype.addTextTrack.call(this,a,b,c)},s.ha=function(a){if(!this.featuresNativeTextTracks)return t.j.prototype.ha.call(this,a);var b=document.createElement("track");return a=a||{},a.kind&&(b.kind=a.kind),a.label&&(b.label=a.label),(a.language||a.srclang)&&(b.srclang=a.language||a.srclang),a.default&&(b.default=a.default),a.id&&(b.id=a.id),a.src&&(b.src=a.src),this.m().appendChild(b),P(this.X(),b.Y),b},s.Da=function(a){if(!this.featuresNativeTextTracks)return t.j.prototype.Da.call(this,a);var b,c;for(Q(this.X(),a),b=this.m().querySelectorAll("track"),c=0;c<b.length;c++)if(b[c]===a||b[c].track===a){b[c].parentNode.removeChild(b[c]);break}},t.f.isSupported=function(){try{t.A.volume=.5}catch(a){return l}return!!t.A.canPlayType},t.j.dc(t.f);var pa=t.f.prototype.ma,qa=t.f.prototype.ia;t.f.prototype.ma=function(a){var b=pa.call(this,a);return this.dd=a.src,b},t.f.prototype.ia=function(){return this.dd=b,qa.call(this)},t.f.nativeSourceHandler={},t.f.nativeSourceHandler.canHandleSource=function(a){function b(a){try{return t.A.canPlayType(a)}catch(a){return""}}return a.type?b(a.type):a.src?(a=(a=a.src.match(/\.([^.\/\?]+)(\?[^\/]+)?$/i))&&a[1],b("video/"+a)):""},t.f.nativeSourceHandler.handleSource=function(a,b){b.na(a.src)},t.f.nativeSourceHandler.dispose=m(),t.f.registerSourceHandler(t.f.nativeSourceHandler),t.f.Ld=function(){var a=t.A.volume;return t.A.volume=a/2+.1,a!==t.A.volume},t.f.Kd=function(){var a=t.A.playbackRate;return t.A.playbackRate=a/2+.1,a!==t.A.playbackRate},t.f.Re=function(){var a;return(a=!!t.A.textTracks)&&0<t.A.textTracks.length&&(a="number"!=typeof t.A.textTracks[0].mode),a&&t.gc&&(a=l),a},t.f.prototype.featuresVolumeControl=t.f.Ld(),t.f.prototype.featuresPlaybackRate=t.f.Kd(),t.f.prototype.movingMediaElementInDOM=!t.xd,t.f.prototype.featuresFullscreenResize=f,t.f.prototype.featuresProgressEvents=f,t.f.prototype.featuresNativeTextTracks=t.f.Re();var S,ra=/^application\/(?:x-|vnd\.apple\.)mpegurl/i,sa=/^video\/mp4/i;t.f.Tc=function(){4<=t.ec&&(S||(S=t.A.constructor.prototype.canPlayType),t.A.constructor.prototype.canPlayType=function(a){return a&&ra.test(a)?"maybe":S.call(this,a)}),t.Bd&&(S||(S=t.A.constructor.prototype.canPlayType),t.A.constructor.prototype.canPlayType=function(a){return a&&sa.test(a)?"maybe":S.call(this,a)})},t.f.Ye=function(){var a=t.A.constructor.prototype.canPlayType;return t.A.constructor.prototype.canPlayType=S,S=j,a},t.f.Tc(),t.f.xb="loadstart suspend abort error emptied stalled loadedmetadata loadeddata canplay canplaythrough playing waiting seeking seeked ended durationchange timeupdate progress play pause ratechange volumechange".split(" "),t.f.Kb=function(a){if(a){for(a.player=j,a.parentNode&&a.parentNode.removeChild(a);a.hasChildNodes();)a.removeChild(a.firstChild);if(a.removeAttribute("src"),"function"==typeof a.load)try{a.load()}catch(a){}}},t.g=t.j.extend({l:function(a,b,c){t.j.call(this,a,b,c);var d=b.source;c=a.id()+"_flash_api";var e=a.q,e=t.i.D({readyFunction:"videojs.Flash.onReady",eventProxyFunction:"videojs.Flash.onEvent",errorEventProxyFunction:"videojs.Flash.onError",autoplay:e.autoplay,preload:e.Ra,loop:e.loop,muted:e.muted},b.flashVars),f=t.i.D({wmode:"opaque",bgcolor:"#000000"},b.params);c=t.i.D({id:c,name:c,class:"vjs-tech"},b.attributes),d&&this.I(function(){this.ma(d)}),t.Rb(this.c,b.parentEl),b.startTime&&this.I(function(){this.load(),this.play(),this.currentTime(b.startTime)}),t.gc&&this.I(function(){this.b("mousemove",function(){this.k().o({type:"mousemove",bubbles:l})})}),a.b("stageclick",a.reportUserActivity),this.c=t.g.Dc(b.swf,this.c,e,f,c)}}),s=t.g.prototype,s.dispose=function(){t.j.prototype.dispose.call(this)},s.play=function(){this.ended()&&this.setCurrentTime(0),this.c.vjs_play()},s.pause=function(){this.c.vjs_pause()},s.src=function(a){return a===b?this.currentSrc():this.na(a)},s.na=function(a){if(a=t.Xd(a),this.c.vjs_src(a),this.d.autoplay()){var b=this;this.setTimeout(function(){b.play()},0)}},t.g.prototype.setCurrentTime=function(a){this.ke=a,this.c.vjs_setProperty("currentTime",a),t.j.prototype.Zb.call(this)},t.g.prototype.currentTime=function(){return this.seeking()?this.ke||0:this.c.vjs_getProperty("currentTime")},t.g.prototype.currentSrc=function(){return this.fb?this.fb.src:this.c.vjs_getProperty("currentSrc")},t.g.prototype.load=function(){this.c.vjs_load()},t.g.prototype.poster=function(){this.c.vjs_getProperty("poster")},t.g.prototype.setPoster=m(),s=t.g.prototype,s.seekable=function(){return 0===this.duration()?t.xa():t.xa(0,this.duration())},s.buffered=function(){return this.c.vjs_getProperty?t.xa(0,this.c.vjs_getProperty("buffered")):t.xa()},s.duration=function(){return this.c.vjs_getProperty?this.c.vjs_getProperty("duration"):0},s.Sa=p(l),s.Ec=p(l);var ua=t.g.prototype,T="rtmpConnection rtmpStream preload defaultPlaybackRate playbackRate autoplay loop mediaGroup controller controls volume muted defaultMuted".split(" "),wa="error networkState readyState seeking initialTime startOffsetTime paused played ended videoTracks audioTracks videoWidth videoHeight".split(" "),U;for(U=0;U<T.length;U++)va(T[U]),ta();for(U=0;U<wa.length;U++)va(wa[U]);t.g.isSupported=function(){return 10<=t.g.version()[0]},t.j.dc(t.g),t.g.nativeSourceHandler={},t.g.nativeSourceHandler.canHandleSource=function(a){return a.type&&a.type.replace(/;.*/,"").toLowerCase()in t.g.Wd?"maybe":""},t.g.nativeSourceHandler.handleSource=function(a,b){b.na(a.src)},t.g.nativeSourceHandler.dispose=m(),t.g.registerSourceHandler(t.g.nativeSourceHandler),t.g.Wd={"video/flv":"FLV","video/x-flv":"FLV","video/mp4":"MP4","video/m4v":"MP4"},t.g.onReady=function(a){var b;(b=(a=t.m(a))&&a.parentNode&&a.parentNode.player)&&(a.player=b,t.g.checkReady(b.h))},t.g.checkReady=function(a){a.m()&&(a.m().vjs_getProperty?a.Va():this.setTimeout(function(){t.g.checkReady(a)},50))},t.g.onEvent=function(a,b){t.m(a).player.o(b)},t.g.onError=function(a,b){var c=t.m(a).player,d="FLASH: "+b;"srcnotfound"==b?c.error({code:4,message:d}):c.error(d)},t.g.version=function(){var a="0,0,0";try{a=new window.ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version").replace(/\D+/g,",").match(/^,?(.+),?$/)[1]}catch(b){try{navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin&&(a=(navigator.plugins["Shockwave Flash 2.0"]||navigator.plugins["Shockwave Flash"]).description.replace(/\D+/g,",").match(/^,?(.+),?$/)[1])}catch(a){}}return a.split(",")},t.g.Dc=function(a,b,c,d,e){a=t.g.$d(a,c,d,e),a=t.e("div",{innerHTML:a}).childNodes[0],c=b.parentNode,b.parentNode.replaceChild(a,b),a[t.expando]=b[t.expando];var f=c.childNodes[0];return setTimeout(function(){f.style.display="block"},1e3),a},t.g.$d=function(a,b,c,d){var e="",f="",g="";return b&&t.i.ca(b,function(a,b){e+=a+"="+b+"&amp;"}),c=t.i.D({movie:a,flashvars:e,allowScriptAccess:"always",allowNetworking:"all"},c),t.i.ca(c,function(a,b){f+='<param name="'+a+'" value="'+b+'" />'}),d=t.i.D({data:a,width:"100%",height:"100%"},d),t.i.ca(d,function(a,b){g+=a+'="'+b+'" '}),'<object type="application/x-shockwave-flash" '+g+">"+f+"</object>"},t.g.Qe={"rtmp/mp4":"MP4","rtmp/flv":"FLV"},t.g.Df=function(a,b){return a+"&"+b},t.g.Pe=function(a){var b={yc:"",jd:""};if(!a)return b;var c,d=a.indexOf("&");return-1!==d?c=d+1:(d=c=a.lastIndexOf("/")+1,0===d&&(d=c=a.length)),b.yc=a.substring(0,d),b.jd=a.substring(c,a.length),b},t.g.ie=function(a){return a in t.g.Qe},t.g.Dd=/^rtmp[set]?:\/\//i,t.g.he=function(a){return t.g.Dd.test(a)},t.g.Yb={},t.g.Yb.canHandleSource=function(a){return t.g.ie(a.type)||t.g.he(a.src)?"maybe":""},t.g.Yb.handleSource=function(a,b){var c=t.g.Pe(a.src);b.setRtmpConnection(c.yc),b.setRtmpStream(c.jd)},t.g.registerSourceHandler(t.g.Yb),t.Cd=t.a.extend({l:function(a,b,c){if(t.a.call(this,a,b,c),a.q.sources&&0!==a.q.sources.length)a.src(a.q.sources);else for(b=0,c=a.q.techOrder;b<c.length;b++){var d=t.va(c[b]),e=window.videojs[d];if(e&&e.isSupported()){ka(a,d);break}}}}),t.oc={disabled:"disabled",hidden:"hidden",showing:"showing"},t.Ed={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},t.t=function(a){var b,c,d,e,g,h,i,k,m,n,o;if(a=a||{},!a.player)throw Error("A player was not provided.");if(b=this,t.pa)for(o in b=document.createElement("custom"),t.t.prototype)b[o]=t.t.prototype[o];if(b.d=a.player,d=t.oc[a.mode]||"disabled",e=t.Ed[a.kind]||"subtitles",g=a.label||"",h=a.language||a.srclang||"",c=a.id||"vjs_text_track_"+t.s++,"metadata"!==e&&"chapters"!==e||(d="hidden"),b.V=[],b.Ia=[],i=new t.U(b.V),k=new t.U(b.Ia),n=l,m=t.bind(b,function(){this.activeCues,n&&(this.trigger("cuechange"),n=l)}),"disabled"!==d&&b.d.b("timeupdate",m),Object.defineProperty(b,"kind",{get:function(){return e},set:Function.prototype}),Object.defineProperty(b,"label",{get:function(){return g},set:Function.prototype}),Object.defineProperty(b,"language",{get:function(){return h},set:Function.prototype}),Object.defineProperty(b,"id",{get:function(){return c},set:Function.prototype}),Object.defineProperty(b,"mode",{get:function(){return d},set:function(a){t.oc[a]&&(d=a,"showing"===d&&this.d.b("timeupdate",m),this.o("modechange"))}}),Object.defineProperty(b,"cues",{get:function(){return this.Ub?i:j},set:Function.prototype}),Object.defineProperty(b,"activeCues",{get:function(){var a,b,c,d,e;if(!this.Ub)return j;if(0===this.cues.length)return k;for(d=this.d.currentTime(),a=0,b=this.cues.length,c=[];a<b;a++)e=this.cues[a],e.startTime<=d&&e.endTime>=d?c.push(e):e.startTime===e.endTime&&e.startTime<=d&&e.startTime+.5>=d&&c.push(e);if(n=l,c.length!==this.Ia.length)n=f;else for(a=0;a<c.length;a++)-1===xa.call(this.Ia,c[a])&&(n=f);return this.Ia=c,k.pb(this.Ia),k},set:Function.prototype}),a.src?ya(a.src,b):b.Ub=f,t.pa)return b},t.t.prototype=t.i.create(t.z.prototype),t.t.prototype.constructor=t.t,t.t.prototype.ab={cuechange:"cuechange"},t.t.prototype.sc=function(a){var b=this.d.textTracks(),c=0;if(b)for(;c<b.length;c++)b[c]!==this&&b[c].Yc(a);this.V.push(a),this.cues.pb(this.V)},t.t.prototype.Yc=function(a){for(var b,c=0,d=this.V.length,e=l;c<d;c++)b=this.V[c],b===a&&(this.V.splice(c,1),e=f);e&&this.Ac.pb(this.V)};var ya,V,xa;ya=function(a,b){t.bf(a,t.bind(this,function(a,c,d){return a?t.log.error(a):(b.Ub=f,void V(d,b))}))},V=function(a,b){if("function"!=typeof window.WebVTT)window.setTimeout(function(){V(a,b)},25);else{var c=new window.WebVTT.Parser(window,window.vttjs,window.WebVTT.StringDecoder());c.oncue=function(a){b.sc(a)},c.onparsingerror=function(a){t.log.error(a)},c.parse(a),c.flush()}},xa=function(a,b){var c;if(this==j)throw new TypeError('"this" is null or not defined');var d=Object(this),e=d.length>>>0;if(0===e)return-1;if(c=+b||0,1/0===Math.abs(c)&&(c=0),c>=e)return-1;for(c=Math.max(0<=c?c:e-Math.abs(c),0);c<e;){if(c in d&&d[c]===a)return c;c++}return-1},t.F=function(a){var b,c=this,d=0;if(t.pa)for(b in c=document.createElement("custom"),t.F.prototype)c[b]=t.F.prototype[b];for(a=a||[],c.Ua=[],Object.defineProperty(c,"length",{get:function(){return this.Ua.length}});d<a.length;d++)P(c,a[d]);if(t.pa)return c},t.F.prototype=t.i.create(t.z.prototype),t.F.prototype.constructor=t.F,t.F.prototype.ab={change:"change",addtrack:"addtrack",removetrack:"removetrack"};for(var za in t.F.prototype.ab)t.F.prototype["on"+za]=j;t.F.prototype.ae=function(a){for(var b,c=0,d=this.length,e=j;c<d;c++)if(b=this[c],b.id===a){e=b;break}return e},t.U=function(a){var b,c=this;if(t.pa)for(b in c=document.createElement("custom"),t.U.prototype)c[b]=t.U.prototype[b];if(t.U.prototype.pb.call(c,a),Object.defineProperty(c,"length",{get:n("le")}),t.pa)return c},t.U.prototype.pb=function(a){var b=this.length||0,c=0,d=a.length;if(this.V=a,this.le=a.length,a=function(a){""+a in this||Object.defineProperty(this,""+a,{get:function(){return this.V[a]}})},b<d)for(c=b;c<d;c++)a.call(this,c)},t.U.prototype.Zd=function(a){for(var b,c=0,d=this.length,e=j;c<d;c++)if(b=this[c],b.id===a){e=b;break}return e},t.sa=t.a.extend({l:function(a,b,c){t.a.call(this,a,b,c),a.b("loadstart",t.bind(this,this.Ve)),a.I(t.bind(this,function(){if(a.h&&a.h.featuresNativeTextTracks)this.W();else{var b,c,d;for(a.b("fullscreenchange",t.bind(this,this.C)),c=a.q.tracks||[],b=0;b<c.length;b++)d=c[b],this.d.ha(d)}}))}}),t.sa.prototype.Ve=function(){this.d.h&&this.d.h.featuresNativeTextTracks?this.W():this.show()},t.sa.prototype.e=function(){return t.a.prototype.e.call(this,"div",{className:"vjs-text-track-display"})},t.sa.prototype.Md=function(){"function"==typeof window.WebVTT&&window.WebVTT.processCues(window,[],this.c)};var Aa={tf:"monospace",zf:"sans-serif",Bf:"serif",uf:'"Andale Mono", "Lucida Console", monospace',vf:'"Courier New", monospace',xf:"sans-serif",yf:"serif",kf:'"Comic Sans MS", Impact, fantasy',Af:'"Monotype Corsiva", cursive',Cf:'"Andale Mono", "Lucida Console", monospace, sans-serif'};if(t.sa.prototype.C=function(){var a,b=this.d.textTracks(),c=0;if(this.Md(),b)for(;c<b.length;c++)a=b[c],"showing"===a.mode&&this.Ze(a)},t.sa.prototype.Ze=function(a){if("function"==typeof window.WebVTT&&a.activeCues){for(var b,c=0,d=this.d.textTrackSettings.Hc(),e=[];c<a.activeCues.length;c++)e.push(a.activeCues[c]);for(window.WebVTT.processCues(window,a.activeCues,this.c),c=e.length;c--;){if(a=e[c].lf,d.color&&(a.firstChild.style.color=d.color),d.kd)try{a.firstChild.style.color=W(d.color||"#fff",d.kd)}catch(a){}if(d.backgroundColor&&(a.firstChild.style.backgroundColor=d.backgroundColor),d.vc)try{a.firstChild.style.backgroundColor=W(d.backgroundColor||"#000",d.vc)}catch(a){}if(d.cc)if(d.rd)try{a.style.backgroundColor=W(d.cc,d.rd)}catch(a){}else a.style.backgroundColor=d.cc;d.Ma&&("dropshadow"===d.Ma?a.firstChild.style.textShadow="2px 2px 3px #222, 2px 2px 4px #222, 2px 2px 5px #222":"raised"===d.Ma?a.firstChild.style.textShadow="1px 1px #222, 2px 2px #222, 3px 3px #222":"depressed"===d.Ma?a.firstChild.style.textShadow="1px 1px #ccc, 0 1px #ccc, -1px -1px #222, 0 -1px #222":"uniform"===d.Ma&&(a.firstChild.style.textShadow="0 0 4px #222, 0 0 4px #222, 0 0 4px #222, 0 0 4px #222")),d.Ob&&1!==d.Ob&&(b=window.wf(a.style.fontSize),a.style.fontSize=b*d.Ob+"px",a.style.height="auto",a.style.top="auto",a.style.bottom="2px"),d.fontFamily&&"default"!==d.fontFamily&&("small-caps"===d.fontFamily?a.firstChild.style.fontVariant="small-caps":a.firstChild.style.fontFamily=Aa[d.fontFamily]);
}}},t.$=t.M.extend({l:function(a,c){var d,e,g=this.Y=c.track,h=a.textTracks();h&&(d=t.bind(this,function(){var a,b,c,d="showing"===this.Y.mode;if(this instanceof t.zb)for(d=f,b=0,c=h.length;b<c;b++)if(a=h[b],a.kind===this.Y.kind&&"showing"===a.mode){d=l;break}this.selected(d)}),h.addEventListener("change",d),a.b("dispose",function(){h.removeEventListener("change",d)})),c.label=g.label||g.language||"Unknown",c.selected=g.default||"showing"===g.mode,t.M.call(this,a,c),h&&h.onchange===b&&this.b(["tap","click"],function(){if("object"!=typeof window.vd)try{e=new window.vd("change")}catch(a){}e||(e=document.createEvent("Event"),e.initEvent("change",f,f)),h.dispatchEvent(e)})}}),t.$.prototype.u=function(){var a,b=this.Y.kind,c=this.d.textTracks(),d=0;if(t.M.prototype.u.call(this),c)for(;d<c.length;d++)a=c[d],a.kind===b&&(a.mode=a===this.Y?"showing":"disabled")},t.zb=t.$.extend({l:function(a,b){b.track={kind:b.kind,player:a,label:b.kind+" off",default:l,mode:"disabled"},t.$.call(this,a,b),this.selected(f)}}),t.sb=t.$.extend({l:function(a,b){b.track={kind:b.kind,player:a,label:b.kind+" settings",default:l,mode:"disabled"},t.$.call(this,a,b),this.p("vjs-texttrack-settings")}}),t.sb.prototype.u=function(){this.k().da("textTrackSettings").show()},t.Q=t.O.extend({l:function(a,b){var c,d;t.O.call(this,a,b),c=this.d.textTracks(),1>=this.H.length&&this.W(),c&&(d=t.bind(this,this.update),c.addEventListener("removetrack",d),c.addEventListener("addtrack",d),this.d.b("dispose",function(){c.removeEventListener("removetrack",d),c.removeEventListener("addtrack",d)}))}}),t.Q.prototype.Ka=function(){var a,b,c=[];if(this instanceof t.oa&&(!this.k().h||!this.k().h.featuresNativeTextTracks)&&c.push(new t.sb(this.d,{kind:this.ea})),c.push(new t.zb(this.d,{kind:this.ea})),b=this.d.textTracks(),!b)return c;for(var d=0;d<b.length;d++)a=b[d],a.kind===this.ea&&c.push(new t.$(this.d,{track:a}));return c},t.oa=t.Q.extend({l:function(a,b,c){t.Q.call(this,a,b,c),this.c.setAttribute("aria-label","Captions Menu")}}),t.oa.prototype.ea="captions",t.oa.prototype.ta="Captions",t.oa.prototype.className="vjs-captions-button",t.oa.prototype.update=function(){var a=2;t.Q.prototype.update.call(this),this.k().h&&this.k().h.featuresNativeTextTracks&&(a=1),this.H&&this.H.length>a?this.show():this.W()},t.$a=t.Q.extend({l:function(a,b,c){t.Q.call(this,a,b,c),this.c.setAttribute("aria-label","Subtitles Menu")}}),t.$a.prototype.ea="subtitles",t.$a.prototype.ta="Subtitles",t.$a.prototype.className="vjs-subtitles-button",t.Wa=t.Q.extend({l:function(a,b,c){t.Q.call(this,a,b,c),this.c.setAttribute("aria-label","Chapters Menu")}}),s=t.Wa.prototype,s.ea="chapters",s.ta="Chapters",s.className="vjs-chapters-button",s.Ka=function(){var a,b,c=[];if(b=this.d.textTracks(),!b)return c;for(var d=0;d<b.length;d++)a=b[d],a.kind===this.ea&&c.push(new t.$(this.d,{track:a}));return c},s.La=function(){for(var a,c,d=this.d.textTracks()||[],e=0,f=d.length,g=this.H=[];e<f;e++)if(a=d[e],a.kind==this.ea){if(a.Ac){c=a;break}a.mode="hidden",window.setTimeout(t.bind(this,function(){this.La()}),100)}if(d=this.za,d===b&&(d=new t.qa(this.d),d.wa().appendChild(t.e("li",{className:"vjs-menu-title",innerHTML:t.va(this.ea),Se:-1}))),c){a=c.cues;for(var h,e=0,f=a.length;e<f;e++)h=a[e],h=new t.Xa(this.d,{track:c,cue:h}),g.push(h),d.aa(h);this.aa(d)}return 0<this.H.length&&this.show(),d},t.Xa=t.M.extend({l:function(a,b){var c=this.Y=b.track,d=this.cue=b.cue,e=a.currentTime();b.label=d.text,b.selected=d.startTime<=e&&e<d.endTime,t.M.call(this,a,b),c.addEventListener("cuechange",t.bind(this,this.update))}}),t.Xa.prototype.u=function(){t.M.prototype.u.call(this),this.d.currentTime(this.cue.startTime),this.update(this.cue.startTime)},t.Xa.prototype.update=function(){var a=this.cue,b=this.d.currentTime();this.selected(a.startTime<=b&&b<a.endTime)},t.pc=t.a.extend({l:function(a,b){t.a.call(this,a,b),this.W(),t.b(this.m().querySelector(".vjs-done-button"),"click",t.bind(this,function(){this.Fe(),this.W()})),t.b(this.m().querySelector(".vjs-default-button"),"click",t.bind(this,function(){this.m().querySelector(".vjs-fg-color > select").selectedIndex=0,this.m().querySelector(".vjs-bg-color > select").selectedIndex=0,this.m().querySelector(".window-color > select").selectedIndex=0,this.m().querySelector(".vjs-text-opacity > select").selectedIndex=0,this.m().querySelector(".vjs-bg-opacity > select").selectedIndex=0,this.m().querySelector(".vjs-window-opacity > select").selectedIndex=0,this.m().querySelector(".vjs-edge-style select").selectedIndex=0,this.m().querySelector(".vjs-font-family select").selectedIndex=0,this.m().querySelector(".vjs-font-percent select").selectedIndex=2,this.C()})),t.b(this.m().querySelector(".vjs-fg-color > select"),"change",t.bind(this,this.C)),t.b(this.m().querySelector(".vjs-bg-color > select"),"change",t.bind(this,this.C)),t.b(this.m().querySelector(".window-color > select"),"change",t.bind(this,this.C)),t.b(this.m().querySelector(".vjs-text-opacity > select"),"change",t.bind(this,this.C)),t.b(this.m().querySelector(".vjs-bg-opacity > select"),"change",t.bind(this,this.C)),t.b(this.m().querySelector(".vjs-window-opacity > select"),"change",t.bind(this,this.C)),t.b(this.m().querySelector(".vjs-font-percent select"),"change",t.bind(this,this.C)),t.b(this.m().querySelector(".vjs-edge-style select"),"change",t.bind(this,this.C)),t.b(this.m().querySelector(".vjs-font-family select"),"change",t.bind(this,this.C)),a.options().persistTextTrackSettings&&this.Ee()}}),s=t.pc.prototype,s.e=function(){return t.a.prototype.e.call(this,"div",{className:"vjs-caption-settings vjs-modal-overlay",innerHTML:'<div class="vjs-tracksettings"><div class="vjs-tracksettings-colors"><div class="vjs-fg-color vjs-tracksetting"><label class="vjs-label">Foreground</label><select><option value="">---</option><option value="#FFF">White</option><option value="#000">Black</option><option value="#F00">Red</option><option value="#0F0">Green</option><option value="#00F">Blue</option><option value="#FF0">Yellow</option><option value="#F0F">Magenta</option><option value="#0FF">Cyan</option></select><span class="vjs-text-opacity vjs-opacity"><select><option value="">---</option><option value="1">Opaque</option><option value="0.5">Semi-Opaque</option></select></span></div><div class="vjs-bg-color vjs-tracksetting"><label class="vjs-label">Background</label><select><option value="">---</option><option value="#FFF">White</option><option value="#000">Black</option><option value="#F00">Red</option><option value="#0F0">Green</option><option value="#00F">Blue</option><option value="#FF0">Yellow</option><option value="#F0F">Magenta</option><option value="#0FF">Cyan</option></select><span class="vjs-bg-opacity vjs-opacity"><select><option value="">---</option><option value="1">Opaque</option><option value="0.5">Semi-Transparent</option><option value="0">Transparent</option></select></span></div><div class="window-color vjs-tracksetting"><label class="vjs-label">Window</label><select><option value="">---</option><option value="#FFF">White</option><option value="#000">Black</option><option value="#F00">Red</option><option value="#0F0">Green</option><option value="#00F">Blue</option><option value="#FF0">Yellow</option><option value="#F0F">Magenta</option><option value="#0FF">Cyan</option></select><span class="vjs-window-opacity vjs-opacity"><select><option value="">---</option><option value="1">Opaque</option><option value="0.5">Semi-Transparent</option><option value="0">Transparent</option></select></span></div></div><div class="vjs-tracksettings-font"><div class="vjs-font-percent vjs-tracksetting"><label class="vjs-label">Font Size</label><select><option value="0.50">50%</option><option value="0.75">75%</option><option value="1.00" selected>100%</option><option value="1.25">125%</option><option value="1.50">150%</option><option value="1.75">175%</option><option value="2.00">200%</option><option value="3.00">300%</option><option value="4.00">400%</option></select></div><div class="vjs-edge-style vjs-tracksetting"><label class="vjs-label">Text Edge Style</label><select><option value="none">None</option><option value="raised">Raised</option><option value="depressed">Depressed</option><option value="uniform">Uniform</option><option value="dropshadow">Dropshadow</option></select></div><div class="vjs-font-family vjs-tracksetting"><label class="vjs-label">Font Family</label><select><option value="">Default</option><option value="monospaceSerif">Monospace Serif</option><option value="proportionalSerif">Proportional Serif</option><option value="monospaceSansSerif">Monospace Sans-Serif</option><option value="proportionalSansSerif">Proportional Sans-Serif</option><option value="casual">Casual</option><option value="script">Script</option><option value="small-caps">Small Caps</option></select></div></div></div><div class="vjs-tracksettings-controls"><button class="vjs-default-button">Defaults</button><button class="vjs-done-button">Done</button></div>'})},s.Hc=function(){var a,b,c,d,e,f,g,h,i,j;a=this.m(),e=X(a.querySelector(".vjs-edge-style select")),f=X(a.querySelector(".vjs-font-family select")),g=X(a.querySelector(".vjs-fg-color > select")),c=X(a.querySelector(".vjs-text-opacity > select")),h=X(a.querySelector(".vjs-bg-color > select")),b=X(a.querySelector(".vjs-bg-opacity > select")),i=X(a.querySelector(".window-color > select")),d=X(a.querySelector(".vjs-window-opacity > select")),a=window.parseFloat(X(a.querySelector(".vjs-font-percent > select"))),b={backgroundOpacity:b,textOpacity:c,windowOpacity:d,edgeStyle:e,fontFamily:f,color:g,backgroundColor:h,windowColor:i,fontPercent:a};for(j in b)(""===b[j]||"none"===b[j]||"fontPercent"===j&&1===b[j])&&delete b[j];return b},s.Ne=function(a){var b=this.m();Y(b.querySelector(".vjs-edge-style select"),a.Ma),Y(b.querySelector(".vjs-font-family select"),a.fontFamily),Y(b.querySelector(".vjs-fg-color > select"),a.color),Y(b.querySelector(".vjs-text-opacity > select"),a.kd),Y(b.querySelector(".vjs-bg-color > select"),a.backgroundColor),Y(b.querySelector(".vjs-bg-opacity > select"),a.vc),Y(b.querySelector(".window-color > select"),a.cc),Y(b.querySelector(".vjs-window-opacity > select"),a.rd),(a=a.Ob)&&(a=a.toFixed(2)),Y(b.querySelector(".vjs-font-percent > select"),a)},s.Ee=function(){var a;try{a=JSON.parse(window.localStorage.getItem("vjs-text-track-settings"))}catch(a){}a&&this.Ne(a)},s.Fe=function(){var a;if(this.d.options().persistTextTrackSettings){a=this.Hc();try{t.hb(a)?window.localStorage.removeItem("vjs-text-track-settings"):window.localStorage.setItem("vjs-text-track-settings",JSON.stringify(a))}catch(a){}}},s.C=function(){var a=this.d.da("textTrackDisplay");a&&a.C()},"undefined"!=typeof window.JSON&&"function"==typeof window.JSON.parse)t.JSON=window.JSON;else{t.JSON={};var Z=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;t.JSON.parse=function(a,c){function d(a,e){var f,g,h=a[e];if(h&&"object"==typeof h)for(f in h)Object.prototype.hasOwnProperty.call(h,f)&&(g=d(h,f),g!==b?h[f]=g:delete h[f]);return c.call(a,e,h)}var e;if(a=String(a),Z.lastIndex=0,Z.test(a)&&(a=a.replace(Z,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return e=eval("("+a+")"),"function"==typeof c?d({"":e},""):e;throw new SyntaxError("JSON.parse(): invalid or malformed JSON data")}}t.uc=function(){var a,c,d,e;a=document.getElementsByTagName("video"),c=document.getElementsByTagName("audio");var f=[];if(a&&0<a.length)for(d=0,e=a.length;d<e;d++)f.push(a[d]);if(c&&0<c.length)for(d=0,e=c.length;d<e;d++)f.push(c[d]);if(f&&0<f.length)for(d=0,e=f.length;d<e;d++){if(!(c=f[d])||!c.getAttribute){t.Hb();break}c.player===b&&(a=c.getAttribute("data-setup"),a!==j&&videojs(c))}else t.qd||t.Hb()},t.Hb=function(){setTimeout(t.uc,1)},"complete"===document.readyState?t.qd=f:t.N(window,"load",function(){t.qd=f}),t.Hb(),t.Be=function(a,b){t.Player.prototype[a]=b};var Ba=this;$("videojs",t),$("_V_",t),$("videojs.options",t.options),$("videojs.players",t.Ca),$("videojs.TOUCH_ENABLED",t.Db),$("videojs.cache",t.ua),$("videojs.Component",t.a),t.a.prototype.player=t.a.prototype.k,t.a.prototype.options=t.a.prototype.options,t.a.prototype.init=t.a.prototype.l,t.a.prototype.dispose=t.a.prototype.dispose,t.a.prototype.createEl=t.a.prototype.e,t.a.prototype.contentEl=t.a.prototype.wa,t.a.prototype.el=t.a.prototype.m,t.a.prototype.addChild=t.a.prototype.aa,t.a.prototype.getChild=t.a.prototype.da,t.a.prototype.getChildById=t.a.prototype.Yd,t.a.prototype.children=t.a.prototype.children,t.a.prototype.initChildren=t.a.prototype.Kc,t.a.prototype.removeChild=t.a.prototype.removeChild,t.a.prototype.on=t.a.prototype.b,t.a.prototype.off=t.a.prototype.n,t.a.prototype.one=t.a.prototype.N,t.a.prototype.trigger=t.a.prototype.o,t.a.prototype.triggerReady=t.a.prototype.Va,t.a.prototype.show=t.a.prototype.show,t.a.prototype.hide=t.a.prototype.W,t.a.prototype.width=t.a.prototype.width,t.a.prototype.height=t.a.prototype.height,t.a.prototype.dimensions=t.a.prototype.Qd,t.a.prototype.ready=t.a.prototype.I,t.a.prototype.addClass=t.a.prototype.p,t.a.prototype.removeClass=t.a.prototype.r,t.a.prototype.hasClass=t.a.prototype.Pa,t.a.prototype.buildCSSClass=t.a.prototype.T,t.a.prototype.localize=t.a.prototype.v,t.a.prototype.setInterval=t.a.prototype.setInterval,t.a.prototype.setTimeout=t.a.prototype.setTimeout,$("videojs.EventEmitter",t.z),t.z.prototype.on=t.z.prototype.b,t.z.prototype.addEventListener=t.z.prototype.addEventListener,t.z.prototype.off=t.z.prototype.n,t.z.prototype.removeEventListener=t.z.prototype.removeEventListener,t.z.prototype.one=t.z.prototype.N,t.z.prototype.trigger=t.z.prototype.o,t.z.prototype.dispatchEvent=t.z.prototype.dispatchEvent,t.Player.prototype.ended=t.Player.prototype.ended,t.Player.prototype.enterFullWindow=t.Player.prototype.Fc,t.Player.prototype.exitFullWindow=t.Player.prototype.Lb,t.Player.prototype.preload=t.Player.prototype.Ra,t.Player.prototype.remainingTime=t.Player.prototype.remainingTime,t.Player.prototype.supportsFullScreen=t.Player.prototype.Sa,t.Player.prototype.currentType=t.Player.prototype.Nd,t.Player.prototype.requestFullScreen=t.Player.prototype.requestFullScreen,t.Player.prototype.requestFullscreen=t.Player.prototype.requestFullscreen,t.Player.prototype.cancelFullScreen=t.Player.prototype.cancelFullScreen,t.Player.prototype.exitFullscreen=t.Player.prototype.exitFullscreen,t.Player.prototype.isFullScreen=t.Player.prototype.isFullScreen,t.Player.prototype.isFullscreen=t.Player.prototype.isFullscreen,t.Player.prototype.textTracks=t.Player.prototype.textTracks,t.Player.prototype.remoteTextTracks=t.Player.prototype.X,t.Player.prototype.addTextTrack=t.Player.prototype.addTextTrack,t.Player.prototype.addRemoteTextTrack=t.Player.prototype.ha,t.Player.prototype.removeRemoteTextTrack=t.Player.prototype.Da,t.Player.prototype.seekable=t.Player.prototype.seekable,$("videojs.MediaLoader",t.Cd),$("videojs.TextTrackDisplay",t.sa),$("videojs.ControlBar",t.tb),$("videojs.Button",t.w),$("videojs.PlayToggle",t.kc),$("videojs.FullscreenToggle",t.Ya),$("videojs.BigPlayButton",t.rb),$("videojs.LoadingSpinner",t.ic),$("videojs.CurrentTimeDisplay",t.ub),$("videojs.DurationDisplay",t.vb),$("videojs.TimeDivider",t.qc),$("videojs.RemainingTimeDisplay",t.Cb),$("videojs.LiveDisplay",t.hc),$("videojs.ErrorDisplay",t.wb),$("videojs.Slider",t.S),$("videojs.ProgressControl",t.Bb),$("videojs.SeekBar",t.nc),$("videojs.LoadProgressBar",t.yb),$("videojs.PlayProgressBar",t.jc),$("videojs.SeekHandle",t.Za),$("videojs.VolumeControl",t.Fb),$("videojs.VolumeBar",t.Eb),$("videojs.VolumeLevel",t.rc),$("videojs.VolumeMenuButton",t.Ha),$("videojs.VolumeHandle",t.Gb),$("videojs.MuteToggle",t.ra),$("videojs.PosterImage",t.mc),$("videojs.Menu",t.qa),$("videojs.MenuItem",t.M),$("videojs.MenuButton",t.O),$("videojs.PlaybackRateMenuButton",t.lc),$("videojs.ChaptersTrackMenuItem",t.Xa),$("videojs.TextTrackButton",t.Q),$("videojs.TextTrackMenuItem",t.$),$("videojs.OffTextTrackMenuItem",t.zb),$("videojs.CaptionSettingsMenuItem",t.sb),t.O.prototype.createItems=t.O.prototype.Ka,t.Q.prototype.createItems=t.Q.prototype.Ka,t.Wa.prototype.createItems=t.Wa.prototype.Ka,$("videojs.SubtitlesButton",t.$a),$("videojs.CaptionsButton",t.oa),$("videojs.ChaptersButton",t.Wa),$("videojs.MediaTechController",t.j),t.j.withSourceHandlers=t.j.dc,t.j.prototype.featuresVolumeControl=t.j.prototype.qf,t.j.prototype.featuresFullscreenResize=t.j.prototype.mf,t.j.prototype.featuresPlaybackRate=t.j.prototype.nf,t.j.prototype.featuresProgressEvents=t.j.prototype.of,t.j.prototype.featuresTimeupdateEvents=t.j.prototype.pf,t.j.prototype.setPoster=t.j.prototype.bd,t.j.prototype.textTracks=t.j.prototype.textTracks,t.j.prototype.remoteTextTracks=t.j.prototype.X,t.j.prototype.addTextTrack=t.j.prototype.addTextTrack,t.j.prototype.addRemoteTextTrack=t.j.prototype.ha,t.j.prototype.removeRemoteTextTrack=t.j.prototype.Da,$("videojs.Html5",t.f),t.f.Events=t.f.xb,t.f.isSupported=t.f.isSupported,t.f.canPlaySource=t.f.wc,t.f.patchCanPlayType=t.f.Tc,t.f.unpatchCanPlayType=t.f.Ye,t.f.prototype.setCurrentTime=t.f.prototype.Zb,t.f.prototype.setVolume=t.f.prototype.Oe,t.f.prototype.setMuted=t.f.prototype.Ke,t.f.prototype.setPreload=t.f.prototype.Me,t.f.prototype.setAutoplay=t.f.prototype.He,t.f.prototype.setLoop=t.f.prototype.Je,t.f.prototype.enterFullScreen=t.f.prototype.Ec,t.f.prototype.exitFullScreen=t.f.prototype.Ud,t.f.prototype.playbackRate=t.f.prototype.playbackRate,t.f.prototype.setPlaybackRate=t.f.prototype.Le,t.f.selectSourceHandler=t.f.ob,t.f.prototype.setSource=t.f.prototype.ma,t.f.prototype.disposeSourceHandler=t.f.prototype.ia,t.f.prototype.textTracks=t.f.prototype.textTracks,t.f.prototype.remoteTextTracks=t.f.prototype.X,t.f.prototype.addTextTrack=t.f.prototype.addTextTrack,t.f.prototype.addRemoteTextTrack=t.f.prototype.ha,t.f.prototype.removeRemoteTextTrack=t.f.prototype.Da,$("videojs.Flash",t.g),t.g.isSupported=t.g.isSupported,t.g.canPlaySource=t.g.wc,t.g.onReady=t.g.onReady,t.g.embed=t.g.Dc,t.g.version=t.g.version,t.g.prototype.setSource=t.g.prototype.ma,t.g.selectSourceHandler=t.g.ob,t.g.prototype.setSource=t.g.prototype.ma,t.g.prototype.disposeSourceHandler=t.g.prototype.ia,$("videojs.TextTrack",t.t),$("videojs.TextTrackList",t.F),$("videojs.TextTrackCueList",t.U),$("videojs.TextTrackSettings",t.pc),t.t.prototype.id=t.t.prototype.id,t.t.prototype.label=t.t.prototype.label,t.t.prototype.kind=t.t.prototype.Tb,t.t.prototype.mode=t.t.prototype.mode,t.t.prototype.cues=t.t.prototype.Ac,t.t.prototype.activeCues=t.t.prototype.jf,t.t.prototype.addCue=t.t.prototype.sc,t.t.prototype.removeCue=t.t.prototype.Yc,t.F.prototype.getTrackById=t.F.prototype.ae,t.U.prototype.getCueById=t.F.prototype.Zd,$("videojs.CaptionsTrack",t.cf),$("videojs.SubtitlesTrack",t.hf),$("videojs.ChaptersTrack",t.df),$("videojs.autoSetup",t.uc),$("videojs.plugin",t.Be),$("videojs.createTimeRange",t.xa),$("videojs.util",t.Z),t.Z.mergeOptions=t.Z.Aa,t.addLanguage=t.Gd}(),!function(a){var b=a.vttjs={},c=b.VTTCue,d=b.VTTRegion,e=a.VTTCue,f=a.VTTRegion;b.shim=function(){b.VTTCue=c,b.VTTRegion=d},b.restore=function(){b.VTTCue=e,b.VTTRegion=f}}(this),function(a,b){function c(a){if("string"!=typeof a)return!1;var b=h[a.toLowerCase()];return!!b&&a.toLowerCase()}function d(a){if("string"!=typeof a)return!1;var b=i[a.toLowerCase()];return!!b&&a.toLowerCase()}function e(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)a[d]=c[d]}return a}function f(a,b,f){var h=this,i=/MSIE\s8\.0/.test(navigator.userAgent),j={};i?h=document.createElement("custom"):j.enumerable=!0,h.hasBeenReset=!1;var k="",l=!1,m=a,n=b,o=f,p=null,q="",r=!0,s="auto",t="start",u=50,v="middle",w=50,x="middle";return Object.defineProperty(h,"id",e({},j,{get:function(){return k},set:function(a){k=""+a}})),Object.defineProperty(h,"pauseOnExit",e({},j,{get:function(){return l},set:function(a){l=!!a}})),Object.defineProperty(h,"startTime",e({},j,{get:function(){return m},set:function(a){if("number"!=typeof a)throw new TypeError("Start time must be set to a number.");m=a,this.hasBeenReset=!0}})),Object.defineProperty(h,"endTime",e({},j,{get:function(){return n},set:function(a){if("number"!=typeof a)throw new TypeError("End time must be set to a number.");n=a,this.hasBeenReset=!0}})),Object.defineProperty(h,"text",e({},j,{get:function(){return o},set:function(a){o=""+a,this.hasBeenReset=!0}})),Object.defineProperty(h,"region",e({},j,{get:function(){return p},set:function(a){p=a,this.hasBeenReset=!0}})),Object.defineProperty(h,"vertical",e({},j,{get:function(){return q},set:function(a){var b=c(a);if(b===!1)throw new SyntaxError("An invalid or illegal string was specified.");q=b,this.hasBeenReset=!0}})),Object.defineProperty(h,"snapToLines",e({},j,{get:function(){return r},set:function(a){r=!!a,this.hasBeenReset=!0}})),Object.defineProperty(h,"line",e({},j,{get:function(){return s},set:function(a){if("number"!=typeof a&&a!==g)throw new SyntaxError("An invalid number or illegal string was specified.");s=a,this.hasBeenReset=!0}})),Object.defineProperty(h,"lineAlign",e({},j,{get:function(){return t},set:function(a){var b=d(a);if(!b)throw new SyntaxError("An invalid or illegal string was specified.");t=b,this.hasBeenReset=!0}})),Object.defineProperty(h,"position",e({},j,{get:function(){return u},set:function(a){if(0>a||a>100)throw new Error("Position must be between 0 and 100.");u=a,this.hasBeenReset=!0}})),Object.defineProperty(h,"positionAlign",e({},j,{get:function(){return v},set:function(a){var b=d(a);if(!b)throw new SyntaxError("An invalid or illegal string was specified.");v=b,this.hasBeenReset=!0}})),Object.defineProperty(h,"size",e({},j,{get:function(){return w},set:function(a){if(0>a||a>100)throw new Error("Size must be between 0 and 100.");w=a,this.hasBeenReset=!0}})),Object.defineProperty(h,"align",e({},j,{get:function(){return x},set:function(a){var b=d(a);if(!b)throw new SyntaxError("An invalid or illegal string was specified.");x=b,this.hasBeenReset=!0}})),h.displayState=void 0,i?h:void 0}var g="auto",h={"":!0,lr:!0,rl:!0},i={start:!0,middle:!0,end:!0,left:!0,right:!0};f.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)},a.VTTCue=a.VTTCue||f,b.VTTCue=f}(this,this.vttjs||{}),function(a,b){function c(a){if("string"!=typeof a)return!1;var b=f[a.toLowerCase()];return!!b&&a.toLowerCase()}function d(a){return"number"==typeof a&&a>=0&&100>=a}function e(){var a=100,b=3,e=0,f=100,g=0,h=100,i="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return a},set:function(b){if(!d(b))throw new Error("Width must be between 0 and 100.");a=b}},lines:{enumerable:!0,get:function(){return b},set:function(a){if("number"!=typeof a)throw new TypeError("Lines must be set to a number.");b=a}},regionAnchorY:{enumerable:!0,get:function(){return f},set:function(a){if(!d(a))throw new Error("RegionAnchorX must be between 0 and 100.");f=a}},regionAnchorX:{enumerable:!0,get:function(){return e},set:function(a){if(!d(a))throw new Error("RegionAnchorY must be between 0 and 100.");e=a}},viewportAnchorY:{enumerable:!0,get:function(){return h},set:function(a){if(!d(a))throw new Error("ViewportAnchorY must be between 0 and 100.");h=a}},viewportAnchorX:{enumerable:!0,get:function(){return g},set:function(a){if(!d(a))throw new Error("ViewportAnchorX must be between 0 and 100.");g=a}},scroll:{enumerable:!0,get:function(){return i},set:function(a){var b=c(a);if(b===!1)throw new SyntaxError("An invalid or illegal string was specified.");i=b}}})}var f={"":!0,up:!0};a.VTTRegion=a.VTTRegion||e,b.VTTRegion=e}(this,this.vttjs||{}),function(a){function b(a,b){this.name="ParsingError",this.code=a.code,this.message=b||a.message}function c(a){function b(a,b,c,d){return 3600*(0|a)+60*(0|b)+(0|c)+(0|d)/1e3}var c=a.match(/^(\d+):(\d{2})(:\d{2})?\.(\d{3})/);return c?c[3]?b(c[1],c[2],c[3].replace(":",""),c[4]):c[1]>59?b(c[1],c[2],0,c[4]):b(0,c[1],c[2],c[4]):null}function d(){this.values=o(null)}function e(a,b,c,d){var e=d?a.split(d):[a];for(var f in e)if("string"==typeof e[f]){var g=e[f].split(c);if(2===g.length){var h=g[0],i=g[1];b(h,i)}}}function f(a,f,g){function h(){var d=c(a);if(null===d)throw new b(b.Errors.BadTimeStamp,"Malformed timestamp: "+k);return a=a.replace(/^[^\sa-zA-Z-]+/,""),d}function i(a,b){var c=new d;e(a,function(a,b){switch(a){case"region":for(var d=g.length-1;d>=0;d--)if(g[d].id===b){c.set(a,g[d].region);break}break;case"vertical":c.alt(a,b,["rl","lr"]);break;case"line":var e=b.split(","),f=e[0];c.integer(a,f),c.percent(a,f)?c.set("snapToLines",!1):null,c.alt(a,f,["auto"]),2===e.length&&c.alt("lineAlign",e[1],["start","middle","end"]);break;case"position":e=b.split(","),c.percent(a,e[0]),2===e.length&&c.alt("positionAlign",e[1],["start","middle","end"]);break;case"size":c.percent(a,b);break;case"align":c.alt(a,b,["start","middle","end","left","right"])}},/:/,/\s/),b.region=c.get("region",null),b.vertical=c.get("vertical",""),b.line=c.get("line","auto"),b.lineAlign=c.get("lineAlign","start"),b.snapToLines=c.get("snapToLines",!0),b.size=c.get("size",100),b.align=c.get("align","middle"),b.position=c.get("position",{start:0,left:0,middle:50,end:100,right:100},b.align),b.positionAlign=c.get("positionAlign",{start:"start",left:"start",middle:"middle",end:"end",right:"end"},b.align)}function j(){a=a.replace(/^\s+/,"")}var k=a;if(j(),f.startTime=h(),j(),"-->"!==a.substr(0,3))throw new b(b.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '-->'): "+k);a=a.substr(3),j(),f.endTime=h(),j(),i(a,f)}function g(a,b){function d(){function a(a){return b=b.substr(a.length),a}if(!b)return null;var c=b.match(/^([^<]*)(<[^>]+>?)?/);return a(c[1]?c[1]:c[2])}function e(a){return p[a]}function f(a){for(;o=a.match(/&(amp|lt|gt|lrm|rlm|nbsp);/);)a=a.replace(o[0],e);return a}function g(a,b){return!s[b.localName]||s[b.localName]===a.localName}function h(b,c){var d=q[b];if(!d)return null;var e=a.document.createElement(d);e.localName=d;var f=r[b];return f&&c&&(e[f]=c.trim()),e}for(var i,j=a.document.createElement("div"),k=j,l=[];null!==(i=d());)if("<"!==i[0])k.appendChild(a.document.createTextNode(f(i)));else{if("/"===i[1]){l.length&&l[l.length-1]===i.substr(2).replace(">","")&&(l.pop(),k=k.parentNode);continue}var m,n=c(i.substr(1,i.length-2));if(n){m=a.document.createProcessingInstruction("timestamp",n),k.appendChild(m);continue}var o=i.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!o)continue;if(m=h(o[1],o[3]),!m)continue;if(!g(k,m))continue;o[2]&&(m.className=o[2].substr(1).replace("."," ")),l.push(o[1]),k.appendChild(m),k=m}return j}function h(a){function b(a,b){for(var c=b.childNodes.length-1;c>=0;c--)a.push(b.childNodes[c])}function c(a){if(!a||!a.length)return null;var d=a.pop(),e=d.textContent||d.innerText;if(e){var f=e.match(/^.*(\n|\r)/);return f?(a.length=0,f[0]):e}return"ruby"===d.tagName?c(a):d.childNodes?(b(a,d),c(a)):void 0}var d,e=[],f="";if(!a||!a.childNodes)return"ltr";for(b(e,a);f=c(e);)for(var g=0;g<f.length;g++){d=f.charCodeAt(g);for(var h=0;h<t.length;h++)if(t[h]===d)return"rtl"}return"ltr"}function i(a){if("number"==typeof a.line&&(a.snapToLines||a.line>=0&&a.line<=100))return a.line;if(!a.track||!a.track.textTrackList||!a.track.textTrackList.mediaElement)return-1;for(var b=a.track,c=b.textTrackList,d=0,e=0;e<c.length&&c[e]!==b;e++)"showing"===c[e].mode&&d++;return-1*++d}function j(){}function k(a,b,c){var d=/MSIE\s8\.0/.test(navigator.userAgent),e="rgba(255, 255, 255, 1)",f="rgba(0, 0, 0, 0.8)";d&&(e="rgb(255, 255, 255)",f="rgb(0, 0, 0)"),j.call(this),this.cue=b,this.cueDiv=g(a,b.text);var i={color:e,backgroundColor:f,position:"relative",left:0,right:0,top:0,bottom:0,display:"inline"};d||(i.writingMode=""===b.vertical?"horizontal-tb":"lr"===b.vertical?"vertical-lr":"vertical-rl",i.unicodeBidi="plaintext"),this.applyStyles(i,this.cueDiv),this.div=a.document.createElement("div"),i={textAlign:"middle"===b.align?"center":b.align,font:c.font,whiteSpace:"pre-line",position:"absolute"},d||(i.direction=h(this.cueDiv),i.writingMode=""===b.vertical?"horizontal-tb":"lr"===b.vertical?"vertical-lr":"vertical-rl".stylesunicodeBidi="plaintext"),this.applyStyles(i),this.div.appendChild(this.cueDiv);var k=0;switch(b.positionAlign){case"start":k=b.position;break;case"middle":k=b.position-b.size/2;break;case"end":k=b.position-b.size}this.applyStyles(""===b.vertical?{left:this.formatStyle(k,"%"),width:this.formatStyle(b.size,"%")}:{top:this.formatStyle(k,"%"),height:this.formatStyle(b.size,"%")}),this.move=function(a){this.applyStyles({top:this.formatStyle(a.top,"px"),bottom:this.formatStyle(a.bottom,"px"),left:this.formatStyle(a.left,"px"),right:this.formatStyle(a.right,"px"),height:this.formatStyle(a.height,"px"),width:this.formatStyle(a.width,"px")})}}function l(a){var b,c,d,e,f=/MSIE\s8\.0/.test(navigator.userAgent);if(a.div){c=a.div.offsetHeight,d=a.div.offsetWidth,e=a.div.offsetTop;var g=(g=a.div.childNodes)&&(g=g[0])&&g.getClientRects&&g.getClientRects();a=a.div.getBoundingClientRect(),b=g?Math.max(g[0]&&g[0].height||0,a.height/g.length):0}this.left=a.left,this.right=a.right,this.top=a.top||e,this.height=a.height||c,this.bottom=a.bottom||e+(a.height||c),this.width=a.width||d,this.lineHeight=void 0!==b?b:a.lineHeight,f&&!this.lineHeight&&(this.lineHeight=13)}function m(a,b,c,d){function e(a,b){for(var e,f=new l(a),g=1,h=0;h<b.length;h++){for(;a.overlapsOppositeAxis(c,b[h])||a.within(c)&&a.overlapsAny(d);)a.move(b[h]);if(a.within(c))return a;var i=a.intersectPercentage(c);g>i&&(e=new l(a),g=i),a=new l(f)}return e||f}var f=new l(b),g=b.cue,h=i(g),j=[];if(g.snapToLines){var k;switch(g.vertical){case"":j=["+y","-y"],k="height";break;case"rl":j=["+x","-x"],k="width";break;case"lr":j=["-x","+x"],k="width"}var m=f.lineHeight,n=m*Math.round(h),o=c[k]+m,p=j[0];Math.abs(n)>o&&(n=0>n?-1:1,n*=Math.ceil(o/m)*m),0>h&&(n+=""===g.vertical?c.height:c.width,j=j.reverse()),f.move(p,n)}else{var q=f.lineHeight/c.height*100;switch(g.lineAlign){case"middle":h-=q/2;break;case"end":h-=q}switch(g.vertical){case"":b.applyStyles({top:b.formatStyle(h,"%")});break;case"rl":b.applyStyles({left:b.formatStyle(h,"%")});break;case"lr":b.applyStyles({right:b.formatStyle(h,"%")})}j=["+y","-x","+x","-y"],f=new l(b)}var r=e(f,j);b.move(r.toCSSCompatValues(c))}function n(){}var o=Object.create||function(){function a(){}return function(b){if(1!==arguments.length)throw new Error("Object.create shim only accepts one parameter.");return a.prototype=b,new a}}();b.prototype=o(Error.prototype),b.prototype.constructor=b,b.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}},d.prototype={set:function(a,b){this.get(a)||""===b||(this.values[a]=b)},get:function(a,b,c){return c?this.has(a)?this.values[a]:b[c]:this.has(a)?this.values[a]:b},has:function(a){return a in this.values},alt:function(a,b,c){for(var d=0;d<c.length;++d)if(b===c[d]){this.set(a,b);break}},integer:function(a,b){/^-?\d+$/.test(b)&&this.set(a,parseInt(b,10))},percent:function(a,b){var c;return!!((c=b.match(/^([\d]{1,3})(\.[\d]*)?%$/))&&(b=parseFloat(b),b>=0&&100>=b))&&(this.set(a,b),!0)}};var p={"&amp;":"&","&lt;":"<","&gt;":">","&lrm;":"","&rlm;":"","&nbsp;":""},q={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},r={v:"title",lang:"lang"},s={rt:"ruby"},t=[1470,1472,1475,1478,1488,1489,1490,1491,1492,1493,1494,1495,1496,1497,1498,1499,1500,1501,1502,1503,1504,1505,1506,1507,1508,1509,1510,1511,1512,1513,1514,1520,1521,1522,1523,1524,1544,1547,1549,1563,1566,1567,1568,1569,1570,1571,1572,1573,1574,1575,1576,1577,1578,1579,1580,1581,1582,1583,1584,1585,1586,1587,1588,1589,1590,1591,1592,1593,1594,1595,1596,1597,1598,1599,1600,1601,1602,1603,1604,1605,1606,1607,1608,1609,1610,1645,1646,1647,1649,1650,1651,1652,1653,1654,1655,1656,1657,1658,1659,1660,1661,1662,1663,1664,1665,1666,1667,1668,1669,1670,1671,1672,1673,1674,1675,1676,1677,1678,1679,1680,1681,1682,1683,1684,1685,1686,1687,1688,1689,1690,1691,1692,1693,1694,1695,1696,1697,1698,1699,1700,1701,1702,1703,1704,1705,1706,1707,1708,1709,1710,1711,1712,1713,1714,1715,1716,1717,1718,1719,1720,1721,1722,1723,1724,1725,1726,1727,1728,1729,1730,1731,1732,1733,1734,1735,1736,1737,1738,1739,1740,1741,1742,1743,1744,1745,1746,1747,1748,1749,1765,1766,1774,1775,1786,1787,1788,1789,1790,1791,1792,1793,1794,1795,1796,1797,1798,1799,1800,1801,1802,1803,1804,1805,1807,1808,1810,1811,1812,1813,1814,1815,1816,1817,1818,1819,1820,1821,1822,1823,1824,1825,1826,1827,1828,1829,1830,1831,1832,1833,1834,1835,1836,1837,1838,1839,1869,1870,1871,1872,1873,1874,1875,1876,1877,1878,1879,1880,1881,1882,1883,1884,1885,1886,1887,1888,1889,1890,1891,1892,1893,1894,1895,1896,1897,1898,1899,1900,1901,1902,1903,1904,1905,1906,1907,1908,1909,1910,1911,1912,1913,1914,1915,1916,1917,1918,1919,1920,1921,1922,1923,1924,1925,1926,1927,1928,1929,1930,1931,1932,1933,1934,1935,1936,1937,1938,1939,1940,1941,1942,1943,1944,1945,1946,1947,1948,1949,1950,1951,1952,1953,1954,1955,1956,1957,1969,1984,1985,1986,1987,1988,1989,1990,1991,1992,1993,1994,1995,1996,1997,1998,1999,2e3,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022,2023,2024,2025,2026,2036,2037,2042,2048,2049,2050,2051,2052,2053,2054,2055,2056,2057,2058,2059,2060,2061,2062,2063,2064,2065,2066,2067,2068,2069,2074,2084,2088,2096,2097,2098,2099,2100,2101,2102,2103,2104,2105,2106,2107,2108,2109,2110,2112,2113,2114,2115,2116,2117,2118,2119,2120,2121,2122,2123,2124,2125,2126,2127,2128,2129,2130,2131,2132,2133,2134,2135,2136,2142,2208,2210,2211,2212,2213,2214,2215,2216,2217,2218,2219,2220,8207,64285,64287,64288,64289,64290,64291,64292,64293,64294,64295,64296,64298,64299,64300,64301,64302,64303,64304,64305,64306,64307,64308,64309,64310,64312,64313,64314,64315,64316,64318,64320,64321,64323,64324,64326,64327,64328,64329,64330,64331,64332,64333,64334,64335,64336,64337,64338,64339,64340,64341,64342,64343,64344,64345,64346,64347,64348,64349,64350,64351,64352,64353,64354,64355,64356,64357,64358,64359,64360,64361,64362,64363,64364,64365,64366,64367,64368,64369,64370,64371,64372,64373,64374,64375,64376,64377,64378,64379,64380,64381,64382,64383,64384,64385,64386,64387,64388,64389,64390,64391,64392,64393,64394,64395,64396,64397,64398,64399,64400,64401,64402,64403,64404,64405,64406,64407,64408,64409,64410,64411,64412,64413,64414,64415,64416,64417,64418,64419,64420,64421,64422,64423,64424,64425,64426,64427,64428,64429,64430,64431,64432,64433,64434,64435,64436,64437,64438,64439,64440,64441,64442,64443,64444,64445,64446,64447,64448,64449,64467,64468,64469,64470,64471,64472,64473,64474,64475,64476,64477,64478,64479,64480,64481,64482,64483,64484,64485,64486,64487,64488,64489,64490,64491,64492,64493,64494,64495,64496,64497,64498,64499,64500,64501,64502,64503,64504,64505,64506,64507,64508,64509,64510,64511,64512,64513,64514,64515,64516,64517,64518,64519,64520,64521,64522,64523,64524,64525,64526,64527,64528,64529,64530,64531,64532,64533,64534,64535,64536,64537,64538,64539,64540,64541,64542,64543,64544,64545,64546,64547,64548,64549,64550,64551,64552,64553,64554,64555,64556,64557,64558,64559,64560,64561,64562,64563,64564,64565,64566,64567,64568,64569,64570,64571,64572,64573,64574,64575,64576,64577,64578,64579,64580,64581,64582,64583,64584,64585,64586,64587,64588,64589,64590,64591,64592,64593,64594,64595,64596,64597,64598,64599,64600,64601,64602,64603,64604,64605,64606,64607,64608,64609,64610,64611,64612,64613,64614,64615,64616,64617,64618,64619,64620,64621,64622,64623,64624,64625,64626,64627,64628,64629,64630,64631,64632,64633,64634,64635,64636,64637,64638,64639,64640,64641,64642,64643,64644,64645,64646,64647,64648,64649,64650,64651,64652,64653,64654,64655,64656,64657,64658,64659,64660,64661,64662,64663,64664,64665,64666,64667,64668,64669,64670,64671,64672,64673,64674,64675,64676,64677,64678,64679,64680,64681,64682,64683,64684,64685,64686,64687,64688,64689,64690,64691,64692,64693,64694,64695,64696,64697,64698,64699,64700,64701,64702,64703,64704,64705,64706,64707,64708,64709,64710,64711,64712,64713,64714,64715,64716,64717,64718,64719,64720,64721,64722,64723,64724,64725,64726,64727,64728,64729,64730,64731,64732,64733,64734,64735,64736,64737,64738,64739,64740,64741,64742,64743,64744,64745,64746,64747,64748,64749,64750,64751,64752,64753,64754,64755,64756,64757,64758,64759,64760,64761,64762,64763,64764,64765,64766,64767,64768,64769,64770,64771,64772,64773,64774,64775,64776,64777,64778,64779,64780,64781,64782,64783,64784,64785,64786,64787,64788,64789,64790,64791,64792,64793,64794,64795,64796,64797,64798,64799,64800,64801,64802,64803,64804,64805,64806,64807,64808,64809,64810,64811,64812,64813,64814,64815,64816,64817,64818,64819,64820,64821,64822,64823,64824,64825,64826,64827,64828,64829,64848,64849,64850,64851,64852,64853,64854,64855,64856,64857,64858,64859,64860,64861,64862,64863,64864,64865,64866,64867,64868,64869,64870,64871,64872,64873,64874,64875,64876,64877,64878,64879,64880,64881,64882,64883,64884,64885,64886,64887,64888,64889,64890,64891,64892,64893,64894,64895,64896,64897,64898,64899,64900,64901,64902,64903,64904,64905,64906,64907,64908,64909,64910,64911,64914,64915,64916,64917,64918,64919,64920,64921,64922,64923,64924,64925,64926,64927,64928,64929,64930,64931,64932,64933,64934,64935,64936,64937,64938,64939,64940,64941,64942,64943,64944,64945,64946,64947,64948,64949,64950,64951,64952,64953,64954,64955,64956,64957,64958,64959,64960,64961,64962,64963,64964,64965,64966,64967,65008,65009,65010,65011,65012,65013,65014,65015,65016,65017,65018,65019,65020,65136,65137,65138,65139,65140,65142,65143,65144,65145,65146,65147,65148,65149,65150,65151,65152,65153,65154,65155,65156,65157,65158,65159,65160,65161,65162,65163,65164,65165,65166,65167,65168,65169,65170,65171,65172,65173,65174,65175,65176,65177,65178,65179,65180,65181,65182,65183,65184,65185,65186,65187,65188,65189,65190,65191,65192,65193,65194,65195,65196,65197,65198,65199,65200,65201,65202,65203,65204,65205,65206,65207,65208,65209,65210,65211,65212,65213,65214,65215,65216,65217,65218,65219,65220,65221,65222,65223,65224,65225,65226,65227,65228,65229,65230,65231,65232,65233,65234,65235,65236,65237,65238,65239,65240,65241,65242,65243,65244,65245,65246,65247,65248,65249,65250,65251,65252,65253,65254,65255,65256,65257,65258,65259,65260,65261,65262,65263,65264,65265,65266,65267,65268,65269,65270,65271,65272,65273,65274,65275,65276,67584,67585,67586,67587,67588,67589,67592,67594,67595,67596,67597,67598,67599,67600,67601,67602,67603,67604,67605,67606,67607,67608,67609,67610,67611,67612,67613,67614,67615,67616,67617,67618,67619,67620,67621,67622,67623,67624,67625,67626,67627,67628,67629,67630,67631,67632,67633,67634,67635,67636,67637,67639,67640,67644,67647,67648,67649,67650,67651,67652,67653,67654,67655,67656,67657,67658,67659,67660,67661,67662,67663,67664,67665,67666,67667,67668,67669,67671,67672,67673,67674,67675,67676,67677,67678,67679,67840,67841,67842,67843,67844,67845,67846,67847,67848,67849,67850,67851,67852,67853,67854,67855,67856,67857,67858,67859,67860,67861,67862,67863,67864,67865,67866,67867,67872,67873,67874,67875,67876,67877,67878,67879,67880,67881,67882,67883,67884,67885,67886,67887,67888,67889,67890,67891,67892,67893,67894,67895,67896,67897,67903,67968,67969,67970,67971,67972,67973,67974,67975,67976,67977,67978,67979,67980,67981,67982,67983,67984,67985,67986,67987,67988,67989,67990,67991,67992,67993,67994,67995,67996,67997,67998,67999,68e3,68001,68002,68003,68004,68005,68006,68007,68008,68009,68010,68011,68012,68013,68014,68015,68016,68017,68018,68019,68020,68021,68022,68023,68030,68031,68096,68112,68113,68114,68115,68117,68118,68119,68121,68122,68123,68124,68125,68126,68127,68128,68129,68130,68131,68132,68133,68134,68135,68136,68137,68138,68139,68140,68141,68142,68143,68144,68145,68146,68147,68160,68161,68162,68163,68164,68165,68166,68167,68176,68177,68178,68179,68180,68181,68182,68183,68184,68192,68193,68194,68195,68196,68197,68198,68199,68200,68201,68202,68203,68204,68205,68206,68207,68208,68209,68210,68211,68212,68213,68214,68215,68216,68217,68218,68219,68220,68221,68222,68223,68352,68353,68354,68355,68356,68357,68358,68359,68360,68361,68362,68363,68364,68365,68366,68367,68368,68369,68370,68371,68372,68373,68374,68375,68376,68377,68378,68379,68380,68381,68382,68383,68384,68385,68386,68387,68388,68389,68390,68391,68392,68393,68394,68395,68396,68397,68398,68399,68400,68401,68402,68403,68404,68405,68416,68417,68418,68419,68420,68421,68422,68423,68424,68425,68426,68427,68428,68429,68430,68431,68432,68433,68434,68435,68436,68437,68440,68441,68442,68443,68444,68445,68446,68447,68448,68449,68450,68451,68452,68453,68454,68455,68456,68457,68458,68459,68460,68461,68462,68463,68464,68465,68466,68472,68473,68474,68475,68476,68477,68478,68479,68608,68609,68610,68611,68612,68613,68614,68615,68616,68617,68618,68619,68620,68621,68622,68623,68624,68625,68626,68627,68628,68629,68630,68631,68632,68633,68634,68635,68636,68637,68638,68639,68640,68641,68642,68643,68644,68645,68646,68647,68648,68649,68650,68651,68652,68653,68654,68655,68656,68657,68658,68659,68660,68661,68662,68663,68664,68665,68666,68667,68668,68669,68670,68671,68672,68673,68674,68675,68676,68677,68678,68679,68680,126464,126465,126466,126467,126469,126470,126471,126472,126473,126474,126475,126476,126477,126478,126479,126480,126481,126482,126483,126484,126485,126486,126487,126488,126489,126490,126491,126492,126493,126494,126495,126497,126498,126500,126503,126505,126506,126507,126508,126509,126510,126511,126512,126513,126514,126516,126517,126518,126519,126521,126523,126530,126535,126537,126539,126541,126542,126543,126545,126546,126548,126551,126553,126555,126557,126559,126561,126562,126564,126567,126568,126569,126570,126572,126573,126574,126575,126576,126577,126578,126580,126581,126582,126583,126585,126586,126587,126588,126590,126592,126593,126594,126595,126596,126597,126598,126599,126600,126601,126603,126604,126605,126606,126607,126608,126609,126610,126611,126612,126613,126614,126615,126616,126617,126618,126619,126625,126626,126627,126629,126630,126631,126632,126633,126635,126636,126637,126638,126639,126640,126641,126642,126643,126644,126645,126646,126647,126648,126649,126650,126651,1114109];
j.prototype.applyStyles=function(a,b){b=b||this.div;for(var c in a)a.hasOwnProperty(c)&&(b.style[c]=a[c])},j.prototype.formatStyle=function(a,b){return 0===a?0:a+b},k.prototype=o(j.prototype),k.prototype.constructor=k,l.prototype.move=function(a,b){switch(b=void 0!==b?b:this.lineHeight,a){case"+x":this.left+=b,this.right+=b;break;case"-x":this.left-=b,this.right-=b;break;case"+y":this.top+=b,this.bottom+=b;break;case"-y":this.top-=b,this.bottom-=b}},l.prototype.overlaps=function(a){return this.left<a.right&&this.right>a.left&&this.top<a.bottom&&this.bottom>a.top},l.prototype.overlapsAny=function(a){for(var b=0;b<a.length;b++)if(this.overlaps(a[b]))return!0;return!1},l.prototype.within=function(a){return this.top>=a.top&&this.bottom<=a.bottom&&this.left>=a.left&&this.right<=a.right},l.prototype.overlapsOppositeAxis=function(a,b){switch(b){case"+x":return this.left<a.left;case"-x":return this.right>a.right;case"+y":return this.top<a.top;case"-y":return this.bottom>a.bottom}},l.prototype.intersectPercentage=function(a){var b=Math.max(0,Math.min(this.right,a.right)-Math.max(this.left,a.left)),c=Math.max(0,Math.min(this.bottom,a.bottom)-Math.max(this.top,a.top)),d=b*c;return d/(this.height*this.width)},l.prototype.toCSSCompatValues=function(a){return{top:this.top-a.top,bottom:a.bottom-this.bottom,left:this.left-a.left,right:a.right-this.right,height:this.height,width:this.width}},l.getSimpleBoxPosition=function(a){var b=a.div?a.div.offsetHeight:a.tagName?a.offsetHeight:0,c=a.div?a.div.offsetWidth:a.tagName?a.offsetWidth:0,d=a.div?a.div.offsetTop:a.tagName?a.offsetTop:0;a=a.div?a.div.getBoundingClientRect():a.tagName?a.getBoundingClientRect():a;var e={left:a.left,right:a.right,top:a.top||d,height:a.height||b,bottom:a.bottom||d+(a.height||b),width:a.width||c};return e},n.StringDecoder=function(){return{decode:function(a){if(!a)return"";if("string"!=typeof a)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(a))}}},n.convertCueToDOMTree=function(a,b){return a&&b?g(a,b):null};var u=.05,v="sans-serif",w="1.5%";n.processCues=function(a,b,c){function d(a){for(var b=0;b<a.length;b++)if(a[b].hasBeenReset||!a[b].displayState)return!0;return!1}if(!a||!b||!c)return null;for(;c.firstChild;)c.removeChild(c.firstChild);var e=a.document.createElement("div");if(e.style.position="absolute",e.style.left="0",e.style.right="0",e.style.top="0",e.style.bottom="0",e.style.margin=w,c.appendChild(e),d(b)){var f=[],g=l.getSimpleBoxPosition(e),h=Math.round(g.height*u*100)/100,i={font:h+"px "+v};!function(){for(var c,d,h=0;h<b.length;h++)d=b[h],c=new k(a,d,i),e.appendChild(c.div),m(a,c,g,f),d.displayState=c.div,f.push(l.getSimpleBoxPosition(c))}()}else for(var j=0;j<b.length;j++)e.appendChild(b[j].displayState)},n.Parser=function(a,b,c){c||(c=b,b={}),b||(b={}),this.window=a,this.vttjs=b,this.state="INITIAL",this.buffer="",this.decoder=c||new TextDecoder("utf8"),this.regionList=[]},n.Parser.prototype={reportOrThrowError:function(a){if(!(a instanceof b))throw a;this.onparsingerror&&this.onparsingerror(a)},parse:function(a){function c(){for(var a=i.buffer,b=0;b<a.length&&"\r"!==a[b]&&"\n"!==a[b];)++b;var c=a.substr(0,b);return"\r"===a[b]&&++b,"\n"===a[b]&&++b,i.buffer=a.substr(b),c}function g(a){var b=new d;if(e(a,function(a,c){switch(a){case"id":b.set(a,c);break;case"width":b.percent(a,c);break;case"lines":b.integer(a,c);break;case"regionanchor":case"viewportanchor":var e=c.split(",");if(2!==e.length)break;var f=new d;if(f.percent("x",e[0]),f.percent("y",e[1]),!f.has("x")||!f.has("y"))break;b.set(a+"X",f.get("x")),b.set(a+"Y",f.get("y"));break;case"scroll":b.alt(a,c,["up"])}},/=/,/\s/),b.has("id")){var c=new(i.vttjs.VTTRegion||i.window.VTTRegion);c.width=b.get("width",100),c.lines=b.get("lines",3),c.regionAnchorX=b.get("regionanchorX",0),c.regionAnchorY=b.get("regionanchorY",100),c.viewportAnchorX=b.get("viewportanchorX",0),c.viewportAnchorY=b.get("viewportanchorY",100),c.scroll=b.get("scroll",""),i.onregion&&i.onregion(c),i.regionList.push({id:b.get("id"),region:c})}}function h(a){e(a,function(a,b){switch(a){case"Region":g(b)}},/:/)}var i=this;a&&(i.buffer+=i.decoder.decode(a,{stream:!0}));try{var j;if("INITIAL"===i.state){if(!/\r\n|\n/.test(i.buffer))return this;j=c();var k=j.match(/^WEBVTT([ \t].*)?$/);if(!k||!k[0])throw new b(b.Errors.BadSignature);i.state="HEADER"}for(var l=!1;i.buffer;){if(!/\r\n|\n/.test(i.buffer))return this;switch(l?l=!1:j=c(),i.state){case"HEADER":/:/.test(j)?h(j):j||(i.state="ID");continue;case"NOTE":j||(i.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(j)){i.state="NOTE";break}if(!j)continue;if(i.cue=new(i.vttjs.VTTCue||i.window.VTTCue)(0,0,""),i.state="CUE",-1===j.indexOf("-->")){i.cue.id=j;continue}case"CUE":try{f(j,i.cue,i.regionList)}catch(a){i.reportOrThrowError(a),i.cue=null,i.state="BADCUE";continue}i.state="CUETEXT";continue;case"CUETEXT":var m=-1!==j.indexOf("-->");if(!j||m&&(l=!0)){i.oncue&&i.oncue(i.cue),i.cue=null,i.state="ID";continue}i.cue.text&&(i.cue.text+="\n"),i.cue.text+=j;continue;case"BADCUE":j||(i.state="ID");continue}}}catch(a){i.reportOrThrowError(a),"CUETEXT"===i.state&&i.cue&&i.oncue&&i.oncue(i.cue),i.cue=null,i.state="INITIAL"===i.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){var a=this;try{if(a.buffer+=a.decoder.decode(),(a.cue||"HEADER"===a.state)&&(a.buffer+="\n\n",a.parse()),"INITIAL"===a.state)throw new b(b.Errors.BadSignature)}catch(b){a.reportOrThrowError(b)}return a.onflush&&a.onflush(),this}},a.WebVTT=n}(this,this.vttjs||{}),!function(a,b,c,d,e){e=b.location,Math.random()>.01||(a.src="//www.google-analytics.com/__utm.gif?utmwv=5.4.2&utmac=UA-16505296-2&utmn=1&utmhn="+d(e.hostname)+"&utmsr="+b.screen.availWidth+"x"+b.screen.availHeight+"&utmul="+(c.language||c.userLanguage||"").toLowerCase()+"&utmr="+d(e.href)+"&utmp="+d(e.hostname+e.pathname)+"&utmcc=__utma%3D1."+Math.floor(1e10*Math.random())+".1.1.1.1%3B&utme=8(vjsv)9(v4.12.15)")}(new Image,window,navigator,encodeURIComponent),function(a){a.gritter={},a.gritter.options={position:"",class_name:"",fade_in_speed:"medium",fade_out_speed:1e3,time:6e3},a.gritter.add=function(a){try{return b.add(a||{})}catch(b){var c="Gritter Error: "+b;"undefined"!=typeof console&&console.error?console.error(c,a):alert(c)}},a.gritter.remove=function(a,c){b.removeSpecific(a,c||{})},a.gritter.removeAll=function(a){b.stop(a||{})};var b={position:"",fade_in_speed:"",fade_out_speed:"",time:"",_custom_timer:0,_item_count:0,_is_setup:0,_tpl_close:'<div class="gritter-close"></div>',_tpl_title:'<span class="gritter-title">[[title]]</span>',_tpl_item:'<div id="gritter-item-[[number]]" class="gritter-item-wrapper [[item_class]]" style="display:none"><div class="gritter-top"></div><div class="gritter-item">[[close]][[image]]<div class="[[class_name]]">[[title]]<p>[[text]]</p></div><div style="clear:both"></div></div><div class="gritter-bottom"></div></div>',_tpl_wrap:'<div id="gritter-notice-wrapper"></div>',add:function(c){if("string"==typeof c&&(c={text:c}),!c.text)throw'You must supply "text" parameter.';this._is_setup||this._runSetup();var d=c.title,e=c.text,f=c.image||"",g=c.sticky||!1,h=c.class_name||a.gritter.options.class_name,i=a.gritter.options.position,j=c.time||"";this._verifyWrapper(),this._item_count++;var k=this._item_count,l=this._tpl_item;a(["before_open","after_open","before_close","after_close"]).each(function(d,e){b["_"+e+"_"+k]=a.isFunction(c[e])?c[e]:function(){}}),this._custom_timer=0,j&&(this._custom_timer=j);var m=""!=f?'<img src="'+f+'" class="gritter-image" />':"",n=""!=f?"gritter-with-image":"gritter-without-image";if(d=d?this._str_replace("[[title]]",d,this._tpl_title):"",l=this._str_replace(["[[title]]","[[text]]","[[close]]","[[image]]","[[number]]","[[class_name]]","[[item_class]]"],[d,e,this._tpl_close,m,this._item_count,n,h],l),this["_before_open_"+k]()===!1)return!1;a("#gritter-notice-wrapper").addClass(i).append(l);var o=a("#gritter-item-"+this._item_count);return o.fadeIn(this.fade_in_speed,function(){b["_after_open_"+k](a(this))}),g||this._setFadeTimer(o,k),a(o).bind("mouseenter mouseleave",function(c){"mouseenter"==c.type?g||b._restoreItemIfFading(a(this),k):g||b._setFadeTimer(a(this),k),b._hoverState(a(this),c.type)}),a(o).find(".gritter-close").click(function(){b.removeSpecific(k,{},null,!0)}),k},_countRemoveWrapper:function(b,c,d){c.remove(),this["_after_close_"+b](c,d),0==a(".gritter-item-wrapper").length&&a("#gritter-notice-wrapper").remove()},_fade:function(a,c,d,e){var d=d||{},f="undefined"==typeof d.fade||d.fade,g=d.speed||this.fade_out_speed,h=e;this["_before_close_"+c](a,h),e&&a.unbind("mouseenter mouseleave"),f?a.animate({opacity:0},g,function(){a.animate({height:0},300,function(){b._countRemoveWrapper(c,a,h)})}):this._countRemoveWrapper(c,a)},_hoverState:function(a,b){"mouseenter"==b?(a.addClass("hover"),a.find(".gritter-close").show()):(a.removeClass("hover"),a.find(".gritter-close").hide())},removeSpecific:function(b,c,d,e){if(!d)var d=a("#gritter-item-"+b);this._fade(d,b,c||{},e)},_restoreItemIfFading:function(a,b){clearTimeout(this["_int_id_"+b]),a.stop().css({opacity:"",height:""})},_runSetup:function(){for(opt in a.gritter.options)this[opt]=a.gritter.options[opt];this._is_setup=1},_setFadeTimer:function(a,c){var d=this._custom_timer?this._custom_timer:this.time;this["_int_id_"+c]=setTimeout(function(){b._fade(a,c)},d)},stop:function(b){var c=a.isFunction(b.before_close)?b.before_close:function(){},d=a.isFunction(b.after_close)?b.after_close:function(){},e=a("#gritter-notice-wrapper");c(e),e.fadeOut(function(){a(this).remove(),d()})},_str_replace:function(a,b,c,d){var e=0,f=0,g="",h="",i=0,j=0,k=[].concat(a),l=[].concat(b),m=c,n=l instanceof Array,o=m instanceof Array;for(m=[].concat(m),d&&(this.window[d]=0),e=0,i=m.length;e<i;e++)if(""!==m[e])for(f=0,j=k.length;f<j;f++)g=m[e]+"",h=n?void 0!==l[f]?l[f]:"":l[0],m[e]=g.split(k[f]).join(h),d&&m[e]!==g&&(this.window[d]+=(g.length-m[e].length)/k[f].length);return o?m:m[0]},_verifyWrapper:function(){0==a("#gritter-notice-wrapper").length&&a("body").append(this._tpl_wrap)}}}(jQuery),function(a){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=a();else if("function"==typeof define&&define.amd)define([],a);else{var b;b="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,b.Chart=a()}}(function(){return function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){},{}],2:[function(a,b,c){function d(a){if(a){var b=/^#([a-fA-F0-9]{3})$/i,c=/^#([a-fA-F0-9]{6})$/i,d=/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/i,e=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/i,f=/(\w+)/,g=[0,0,0],h=1,i=a.match(b);if(i){i=i[1];for(var j=0;j<g.length;j++)g[j]=parseInt(i[j]+i[j],16)}else if(i=a.match(c)){i=i[1];for(var j=0;j<g.length;j++)g[j]=parseInt(i.slice(2*j,2*j+2),16)}else if(i=a.match(d)){for(var j=0;j<g.length;j++)g[j]=parseInt(i[j+1]);h=parseFloat(i[4])}else if(i=a.match(e)){for(var j=0;j<g.length;j++)g[j]=Math.round(2.55*parseFloat(i[j+1]));h=parseFloat(i[4])}else if(i=a.match(f)){if("transparent"==i[1])return[0,0,0,0];if(g=u[i[1]],!g)return}for(var j=0;j<g.length;j++)g[j]=s(g[j],0,255);return h=h||0==h?s(h,0,1):1,g[3]=h,g}}function e(a){if(a){var b=/^hsla?\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/,c=a.match(b);if(c){var d=parseFloat(c[4]),e=s(parseInt(c[1]),0,360),f=s(parseFloat(c[2]),0,100),g=s(parseFloat(c[3]),0,100),h=s(isNaN(d)?1:d,0,1);return[e,f,g,h]}}}function f(a){if(a){var b=/^hwb\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/,c=a.match(b);if(c){var d=parseFloat(c[4]),e=s(parseInt(c[1]),0,360),f=s(parseFloat(c[2]),0,100),g=s(parseFloat(c[3]),0,100),h=s(isNaN(d)?1:d,0,1);return[e,f,g,h]}}}function g(a){var b=d(a);return b&&b.slice(0,3)}function h(a){var b=e(a);return b&&b.slice(0,3)}function i(a){var b=d(a);return b?b[3]:(b=e(a))?b[3]:(b=f(a))?b[3]:void 0}function j(a){return"#"+t(a[0])+t(a[1])+t(a[2])}function k(a,b){return b<1||a[3]&&a[3]<1?l(a,b):"rgb("+a[0]+", "+a[1]+", "+a[2]+")"}function l(a,b){return void 0===b&&(b=void 0!==a[3]?a[3]:1),"rgba("+a[0]+", "+a[1]+", "+a[2]+", "+b+")"}function m(a,b){if(b<1||a[3]&&a[3]<1)return n(a,b);var c=Math.round(a[0]/255*100),d=Math.round(a[1]/255*100),e=Math.round(a[2]/255*100);return"rgb("+c+"%, "+d+"%, "+e+"%)"}function n(a,b){var c=Math.round(a[0]/255*100),d=Math.round(a[1]/255*100),e=Math.round(a[2]/255*100);return"rgba("+c+"%, "+d+"%, "+e+"%, "+(b||a[3]||1)+")"}function o(a,b){return b<1||a[3]&&a[3]<1?p(a,b):"hsl("+a[0]+", "+a[1]+"%, "+a[2]+"%)"}function p(a,b){return void 0===b&&(b=void 0!==a[3]?a[3]:1),"hsla("+a[0]+", "+a[1]+"%, "+a[2]+"%, "+b+")"}function q(a,b){return void 0===b&&(b=void 0!==a[3]?a[3]:1),"hwb("+a[0]+", "+a[1]+"%, "+a[2]+"%"+(void 0!==b&&1!==b?", "+b:"")+")"}function r(a){return v[a.slice(0,3)]}function s(a,b,c){return Math.min(Math.max(b,a),c)}function t(a){var b=a.toString(16).toUpperCase();return b.length<2?"0"+b:b}var u=a(6);b.exports={getRgba:d,getHsla:e,getRgb:g,getHsl:h,getHwb:f,getAlpha:i,hexString:j,rgbString:k,rgbaString:l,percentString:m,percentaString:n,hslString:o,hslaString:p,hwbString:q,keyword:r};var v={};for(var w in u)v[u[w]]=w},{6:6}],3:[function(a,b,c){var d=a(5),e=a(2),f=function(a){if(a instanceof f)return a;if(!(this instanceof f))return new f(a);this.valid=!1,this.values={rgb:[0,0,0],hsl:[0,0,0],hsv:[0,0,0],hwb:[0,0,0],cmyk:[0,0,0,0],alpha:1};var b;"string"==typeof a?(b=e.getRgba(a),b?this.setValues("rgb",b):(b=e.getHsla(a))?this.setValues("hsl",b):(b=e.getHwb(a))&&this.setValues("hwb",b)):"object"==typeof a&&(b=a,void 0!==b.r||void 0!==b.red?this.setValues("rgb",b):void 0!==b.l||void 0!==b.lightness?this.setValues("hsl",b):void 0!==b.v||void 0!==b.value?this.setValues("hsv",b):void 0!==b.w||void 0!==b.whiteness?this.setValues("hwb",b):void 0===b.c&&void 0===b.cyan||this.setValues("cmyk",b))};f.prototype={isValid:function(){return this.valid},rgb:function(){return this.setSpace("rgb",arguments)},hsl:function(){return this.setSpace("hsl",arguments)},hsv:function(){return this.setSpace("hsv",arguments)},hwb:function(){return this.setSpace("hwb",arguments)},cmyk:function(){return this.setSpace("cmyk",arguments)},rgbArray:function(){return this.values.rgb},hslArray:function(){return this.values.hsl},hsvArray:function(){return this.values.hsv},hwbArray:function(){var a=this.values;return 1!==a.alpha?a.hwb.concat([a.alpha]):a.hwb},cmykArray:function(){return this.values.cmyk},rgbaArray:function(){var a=this.values;return a.rgb.concat([a.alpha])},hslaArray:function(){var a=this.values;return a.hsl.concat([a.alpha])},alpha:function(a){return void 0===a?this.values.alpha:(this.setValues("alpha",a),this)},red:function(a){return this.setChannel("rgb",0,a)},green:function(a){return this.setChannel("rgb",1,a)},blue:function(a){return this.setChannel("rgb",2,a)},hue:function(a){return a&&(a%=360,a=a<0?360+a:a),this.setChannel("hsl",0,a)},saturation:function(a){return this.setChannel("hsl",1,a)},lightness:function(a){return this.setChannel("hsl",2,a)},saturationv:function(a){return this.setChannel("hsv",1,a)},whiteness:function(a){return this.setChannel("hwb",1,a)},blackness:function(a){return this.setChannel("hwb",2,a)},value:function(a){return this.setChannel("hsv",2,a)},cyan:function(a){return this.setChannel("cmyk",0,a)},magenta:function(a){return this.setChannel("cmyk",1,a)},yellow:function(a){return this.setChannel("cmyk",2,a)},black:function(a){return this.setChannel("cmyk",3,a)},hexString:function(){return e.hexString(this.values.rgb)},rgbString:function(){return e.rgbString(this.values.rgb,this.values.alpha)},rgbaString:function(){return e.rgbaString(this.values.rgb,this.values.alpha)},percentString:function(){return e.percentString(this.values.rgb,this.values.alpha)},hslString:function(){return e.hslString(this.values.hsl,this.values.alpha)},hslaString:function(){return e.hslaString(this.values.hsl,this.values.alpha)},hwbString:function(){return e.hwbString(this.values.hwb,this.values.alpha)},keyword:function(){return e.keyword(this.values.rgb,this.values.alpha)},rgbNumber:function(){var a=this.values.rgb;return a[0]<<16|a[1]<<8|a[2]},luminosity:function(){for(var a=this.values.rgb,b=[],c=0;c<a.length;c++){var d=a[c]/255;b[c]=d<=.03928?d/12.92:Math.pow((d+.055)/1.055,2.4)}return.2126*b[0]+.7152*b[1]+.0722*b[2]},contrast:function(a){var b=this.luminosity(),c=a.luminosity();return b>c?(b+.05)/(c+.05):(c+.05)/(b+.05)},level:function(a){var b=this.contrast(a);return b>=7.1?"AAA":b>=4.5?"AA":""},dark:function(){var a=this.values.rgb,b=(299*a[0]+587*a[1]+114*a[2])/1e3;return b<128},light:function(){return!this.dark()},negate:function(){for(var a=[],b=0;b<3;b++)a[b]=255-this.values.rgb[b];return this.setValues("rgb",a),this},lighten:function(a){var b=this.values.hsl;return b[2]+=b[2]*a,this.setValues("hsl",b),this},darken:function(a){var b=this.values.hsl;return b[2]-=b[2]*a,this.setValues("hsl",b),this},saturate:function(a){var b=this.values.hsl;return b[1]+=b[1]*a,this.setValues("hsl",b),this},desaturate:function(a){var b=this.values.hsl;return b[1]-=b[1]*a,this.setValues("hsl",b),this},whiten:function(a){var b=this.values.hwb;return b[1]+=b[1]*a,this.setValues("hwb",b),this},blacken:function(a){var b=this.values.hwb;return b[2]+=b[2]*a,this.setValues("hwb",b),this},greyscale:function(){var a=this.values.rgb,b=.3*a[0]+.59*a[1]+.11*a[2];return this.setValues("rgb",[b,b,b]),this},clearer:function(a){var b=this.values.alpha;return this.setValues("alpha",b-b*a),this},opaquer:function(a){var b=this.values.alpha;return this.setValues("alpha",b+b*a),this},rotate:function(a){var b=this.values.hsl,c=(b[0]+a)%360;return b[0]=c<0?360+c:c,this.setValues("hsl",b),this},mix:function(a,b){var c=this,d=a,e=void 0===b?.5:b,f=2*e-1,g=c.alpha()-d.alpha(),h=((f*g===-1?f:(f+g)/(1+f*g))+1)/2,i=1-h;return this.rgb(h*c.red()+i*d.red(),h*c.green()+i*d.green(),h*c.blue()+i*d.blue()).alpha(c.alpha()*e+d.alpha()*(1-e))},toJSON:function(){return this.rgb()},clone:function(){var a,b,c=new f,d=this.values,e=c.values;for(var g in d)d.hasOwnProperty(g)&&(a=d[g],b={}.toString.call(a),"[object Array]"===b?e[g]=a.slice(0):"[object Number]"===b?e[g]=a:console.error("unexpected color value:",a));return c}},f.prototype.spaces={rgb:["red","green","blue"],hsl:["hue","saturation","lightness"],hsv:["hue","saturation","value"],hwb:["hue","whiteness","blackness"],cmyk:["cyan","magenta","yellow","black"]},f.prototype.maxes={rgb:[255,255,255],hsl:[360,100,100],hsv:[360,100,100],hwb:[360,100,100],cmyk:[100,100,100,100]},f.prototype.getValues=function(a){for(var b=this.values,c={},d=0;d<a.length;d++)c[a.charAt(d)]=b[a][d];return 1!==b.alpha&&(c.a=b.alpha),c},f.prototype.setValues=function(a,b){var c,e=this.values,f=this.spaces,g=this.maxes,h=1;if(this.valid=!0,"alpha"===a)h=b;else if(b.length)e[a]=b.slice(0,a.length),h=b[a.length];else if(void 0!==b[a.charAt(0)]){for(c=0;c<a.length;c++)e[a][c]=b[a.charAt(c)];h=b.a}else if(void 0!==b[f[a][0]]){var i=f[a];for(c=0;c<a.length;c++)e[a][c]=b[i[c]];h=b.alpha}if(e.alpha=Math.max(0,Math.min(1,void 0===h?e.alpha:h)),"alpha"===a)return!1;var j;for(c=0;c<a.length;c++)j=Math.max(0,Math.min(g[a][c],e[a][c])),e[a][c]=Math.round(j);for(var k in f)k!==a&&(e[k]=d[a][k](e[a]));return!0},f.prototype.setSpace=function(a,b){var c=b[0];return void 0===c?this.getValues(a):("number"==typeof c&&(c=Array.prototype.slice.call(b)),this.setValues(a,c),this)},f.prototype.setChannel=function(a,b,c){var d=this.values[a];return void 0===c?d[b]:c===d[b]?this:(d[b]=c,this.setValues(a,d),this)},"undefined"!=typeof window&&(window.Color=f),b.exports=f},{2:2,5:5}],4:[function(a,c,d){function e(a){var b,c,d,e=a[0]/255,f=a[1]/255,g=a[2]/255,h=Math.min(e,f,g),i=Math.max(e,f,g),j=i-h;return i==h?b=0:e==i?b=(f-g)/j:f==i?b=2+(g-e)/j:g==i&&(b=4+(e-f)/j),b=Math.min(60*b,360),b<0&&(b+=360),d=(h+i)/2,c=i==h?0:d<=.5?j/(i+h):j/(2-i-h),[b,100*c,100*d]}function f(a){var b,c,d,e=a[0],f=a[1],g=a[2],h=Math.min(e,f,g),i=Math.max(e,f,g),j=i-h;return c=0==i?0:j/i*1e3/10,i==h?b=0:e==i?b=(f-g)/j:f==i?b=2+(g-e)/j:g==i&&(b=4+(e-f)/j),b=Math.min(60*b,360),b<0&&(b+=360),d=i/255*1e3/10,[b,c,d]}function h(a){var b=a[0],c=a[1],d=a[2],f=e(a)[0],g=1/255*Math.min(b,Math.min(c,d)),d=1-1/255*Math.max(b,Math.max(c,d));return[f,100*g,100*d]}function i(a){var b,c,d,e,f=a[0]/255,g=a[1]/255,h=a[2]/255;return e=Math.min(1-f,1-g,1-h),b=(1-f-e)/(1-e)||0,c=(1-g-e)/(1-e)||0,d=(1-h-e)/(1-e)||0,[100*b,100*c,100*d,100*e]}function j(a){return Z[JSON.stringify(a)]}function k(a){var b=a[0]/255,c=a[1]/255,d=a[2]/255;b=b>.04045?Math.pow((b+.055)/1.055,2.4):b/12.92,c=c>.04045?Math.pow((c+.055)/1.055,2.4):c/12.92,d=d>.04045?Math.pow((d+.055)/1.055,2.4):d/12.92;var e=.4124*b+.3576*c+.1805*d,f=.2126*b+.7152*c+.0722*d,g=.0193*b+.1192*c+.9505*d;return[100*e,100*f,100*g]}function l(a){var b,c,d,e=k(a),f=e[0],g=e[1],h=e[2];return f/=95.047,g/=100,h/=108.883,f=f>.008856?Math.pow(f,1/3):7.787*f+16/116,g=g>.008856?Math.pow(g,1/3):7.787*g+16/116,h=h>.008856?Math.pow(h,1/3):7.787*h+16/116,b=116*g-16,c=500*(f-g),d=200*(g-h),[b,c,d]}function m(a){return M(l(a))}function n(a){var b,c,d,e,f,g=a[0]/360,h=a[1]/100,i=a[2]/100;if(0==h)return f=255*i,[f,f,f];c=i<.5?i*(1+h):i+h-i*h,b=2*i-c,e=[0,0,0];for(var j=0;j<3;j++)d=g+1/3*-(j-1),d<0&&d++,d>1&&d--,f=6*d<1?b+6*(c-b)*d:2*d<1?c:3*d<2?b+(c-b)*(2/3-d)*6:b,e[j]=255*f;return e}function o(a){var b,c,d=a[0],e=a[1]/100,f=a[2]/100;return 0===f?[0,0,0]:(f*=2,e*=f<=1?f:2-f,c=(f+e)/2,b=2*e/(f+e),[d,100*b,100*c])}function p(a){return h(n(a))}function q(a){return i(n(a))}function s(a){return j(n(a))}function t(a){var b=a[0]/60,c=a[1]/100,d=a[2]/100,e=Math.floor(b)%6,f=b-Math.floor(b),g=255*d*(1-c),h=255*d*(1-c*f),i=255*d*(1-c*(1-f)),d=255*d;switch(e){case 0:return[d,i,g];case 1:return[h,d,g];case 2:return[g,d,i];case 3:return[g,h,d];case 4:return[i,g,d];case 5:return[d,g,h]}}function u(a){var b,c,d=a[0],e=a[1]/100,f=a[2]/100;return c=(2-e)*f,b=e*f,b/=c<=1?c:2-c,b=b||0,c/=2,[d,100*b,100*c]}function v(a){return h(t(a))}function w(a){return i(t(a))}function x(a){return j(t(a))}function y(a){var c,d,e,f,h=a[0]/360,i=a[1]/100,j=a[2]/100,k=i+j;switch(k>1&&(i/=k,j/=k),c=Math.floor(6*h),d=1-j,e=6*h-c,0!=(1&c)&&(e=1-e),f=i+e*(d-i),c){default:case 6:case 0:r=d,g=f,b=i;break;case 1:r=f,g=d,b=i;break;case 2:r=i,g=d,b=f;break;case 3:r=i,g=f,b=d;break;case 4:r=f,g=i,b=d;break;case 5:r=d,g=i,b=f}return[255*r,255*g,255*b]}function z(a){return e(y(a))}function A(a){return f(y(a))}function B(a){return i(y(a))}function C(a){return j(y(a))}function D(a){var b,c,d,e=a[0]/100,f=a[1]/100,g=a[2]/100,h=a[3]/100;return b=1-Math.min(1,e*(1-h)+h),c=1-Math.min(1,f*(1-h)+h),d=1-Math.min(1,g*(1-h)+h),[255*b,255*c,255*d]}function E(a){return e(D(a))}function F(a){return f(D(a))}function G(a){return h(D(a))}function H(a){return j(D(a))}function I(a){var b,c,d,e=a[0]/100,f=a[1]/100,g=a[2]/100;return b=3.2406*e+f*-1.5372+g*-.4986,c=e*-.9689+1.8758*f+.0415*g,d=.0557*e+f*-.204+1.057*g,b=b>.0031308?1.055*Math.pow(b,1/2.4)-.055:b*=12.92,c=c>.0031308?1.055*Math.pow(c,1/2.4)-.055:c*=12.92,d=d>.0031308?1.055*Math.pow(d,1/2.4)-.055:d*=12.92,b=Math.min(Math.max(0,b),1),c=Math.min(Math.max(0,c),1),d=Math.min(Math.max(0,d),1),[255*b,255*c,255*d]}function J(a){var b,c,d,e=a[0],f=a[1],g=a[2];return e/=95.047,f/=100,g/=108.883,e=e>.008856?Math.pow(e,1/3):7.787*e+16/116,f=f>.008856?Math.pow(f,1/3):7.787*f+16/116,g=g>.008856?Math.pow(g,1/3):7.787*g+16/116,b=116*f-16,c=500*(e-f),d=200*(f-g),[b,c,d]}function K(a){return M(J(a))}function L(a){var b,c,d,e,f=a[0],g=a[1],h=a[2];return f<=8?(c=100*f/903.3,e=7.787*(c/100)+16/116):(c=100*Math.pow((f+16)/116,3),e=Math.pow(c/100,1/3)),b=b/95.047<=.008856?b=95.047*(g/500+e-16/116)/7.787:95.047*Math.pow(g/500+e,3),d=d/108.883<=.008859?d=108.883*(e-h/200-16/116)/7.787:108.883*Math.pow(e-h/200,3),[b,c,d]}function M(a){var b,c,d,e=a[0],f=a[1],g=a[2];return b=Math.atan2(g,f),c=360*b/2/Math.PI,c<0&&(c+=360),d=Math.sqrt(f*f+g*g),[e,d,c]}function N(a){return I(L(a))}function O(a){var b,c,d,e=a[0],f=a[1],g=a[2];return d=g/360*2*Math.PI,b=f*Math.cos(d),c=f*Math.sin(d),[e,b,c]}function P(a){return L(O(a))}function Q(a){return N(O(a))}function R(a){return Y[a]}function S(a){return e(R(a))}function T(a){return f(R(a))}function U(a){return h(R(a))}function V(a){return i(R(a))}function W(a){return l(R(a))}function X(a){return k(R(a))}c.exports={rgb2hsl:e,rgb2hsv:f,rgb2hwb:h,rgb2cmyk:i,rgb2keyword:j,rgb2xyz:k,rgb2lab:l,rgb2lch:m,hsl2rgb:n,hsl2hsv:o,hsl2hwb:p,hsl2cmyk:q,hsl2keyword:s,hsv2rgb:t,hsv2hsl:u,hsv2hwb:v,hsv2cmyk:w,hsv2keyword:x,hwb2rgb:y,hwb2hsl:z,hwb2hsv:A,hwb2cmyk:B,hwb2keyword:C,cmyk2rgb:D,cmyk2hsl:E,cmyk2hsv:F,cmyk2hwb:G,cmyk2keyword:H,keyword2rgb:R,keyword2hsl:S,keyword2hsv:T,keyword2hwb:U,keyword2cmyk:V,keyword2lab:W,keyword2xyz:X,xyz2rgb:I,xyz2lab:J,xyz2lch:K,lab2xyz:L,lab2rgb:N,lab2lch:M,lch2lab:O,lch2xyz:P,lch2rgb:Q};var Y={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},Z={};for(var $ in Y)Z[JSON.stringify(Y[$])]=$},{}],5:[function(a,b,c){var d=a(4),e=function(){return new j};for(var f in d){e[f+"Raw"]=function(a){return function(b){return"number"==typeof b&&(b=Array.prototype.slice.call(arguments)),d[a](b)}}(f);var g=/(\w+)2(\w+)/.exec(f),h=g[1],i=g[2];e[h]=e[h]||{},e[h][i]=e[f]=function(a){return function(b){"number"==typeof b&&(b=Array.prototype.slice.call(arguments));var c=d[a](b);if("string"==typeof c||void 0===c)return c;for(var e=0;e<c.length;e++)c[e]=Math.round(c[e]);return c}}(f)}var j=function(){this.convs={}};j.prototype.routeSpace=function(a,b){var c=b[0];return void 0===c?this.getValues(a):("number"==typeof c&&(c=Array.prototype.slice.call(b)),this.setValues(a,c))},j.prototype.setValues=function(a,b){return this.space=a,this.convs={},this.convs[a]=b,this},j.prototype.getValues=function(a){var b=this.convs[a];if(!b){var c=this.space,d=this.convs[c];b=e[c][a](d),this.convs[a]=b}return b},["rgb","hsl","hsv","cmyk","keyword"].forEach(function(a){j.prototype[a]=function(b){return this.routeSpace(a,arguments)}}),b.exports=e},{4:4}],6:[function(a,b,c){"use strict";b.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],
mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},{}],7:[function(a,b,c){var d=a(29)();d.helpers=a(45),a(27)(d),d.defaults=a(25),d.Element=a(26),d.elements=a(40),d.Interaction=a(28),d.platform=a(48),a(31)(d),a(22)(d),a(23)(d),a(24)(d),a(30)(d),a(33)(d),a(32)(d),a(35)(d),a(54)(d),a(52)(d),a(53)(d),a(55)(d),a(56)(d),a(57)(d),a(15)(d),a(16)(d),a(17)(d),a(18)(d),a(19)(d),a(20)(d),a(21)(d),a(8)(d),a(9)(d),a(10)(d),a(11)(d),a(12)(d),a(13)(d),a(14)(d);var e=[];e.push(a(49)(d),a(50)(d),a(51)(d)),d.plugins.register(e),d.platform.initialize(),b.exports=d,"undefined"!=typeof window&&(window.Chart=d),d.canvasHelpers=d.helpers.canvas},{10:10,11:11,12:12,13:13,14:14,15:15,16:16,17:17,18:18,19:19,20:20,21:21,22:22,23:23,24:24,25:25,26:26,27:27,28:28,29:29,30:30,31:31,32:32,33:33,35:35,40:40,45:45,48:48,49:49,50:50,51:51,52:52,53:53,54:54,55:55,56:56,57:57,8:8,9:9}],8:[function(a,b,c){"use strict";b.exports=function(a){a.Bar=function(b,c){return c.type="bar",new a(b,c)}}},{}],9:[function(a,b,c){"use strict";b.exports=function(a){a.Bubble=function(b,c){return c.type="bubble",new a(b,c)}}},{}],10:[function(a,b,c){"use strict";b.exports=function(a){a.Doughnut=function(b,c){return c.type="doughnut",new a(b,c)}}},{}],11:[function(a,b,c){"use strict";b.exports=function(a){a.Line=function(b,c){return c.type="line",new a(b,c)}}},{}],12:[function(a,b,c){"use strict";b.exports=function(a){a.PolarArea=function(b,c){return c.type="polarArea",new a(b,c)}}},{}],13:[function(a,b,c){"use strict";b.exports=function(a){a.Radar=function(b,c){return c.type="radar",new a(b,c)}}},{}],14:[function(a,b,c){"use strict";b.exports=function(a){a.Scatter=function(b,c){return c.type="scatter",new a(b,c)}}},{}],15:[function(a,b,c){"use strict";var d=a(25),e=a(40),f=a(45);d._set("bar",{hover:{mode:"label"},scales:{xAxes:[{type:"category",categoryPercentage:.8,barPercentage:.9,offset:!0,gridLines:{offsetGridLines:!0}}],yAxes:[{type:"linear"}]}}),d._set("horizontalBar",{hover:{mode:"index",axis:"y"},scales:{xAxes:[{type:"linear",position:"bottom"}],yAxes:[{position:"left",type:"category",categoryPercentage:.8,barPercentage:.9,offset:!0,gridLines:{offsetGridLines:!0}}]},elements:{rectangle:{borderSkipped:"left"}},tooltips:{callbacks:{title:function(a,b){var c="";return a.length>0&&(a[0].yLabel?c=a[0].yLabel:b.labels.length>0&&a[0].index<b.labels.length&&(c=b.labels[a[0].index])),c},label:function(a,b){var c=b.datasets[a.datasetIndex].label||"";return c+": "+a.xLabel}},mode:"index",axis:"y"}}),b.exports=function(a){a.controllers.bar=a.DatasetController.extend({dataElementType:e.Rectangle,initialize:function(){var b,c=this;a.DatasetController.prototype.initialize.apply(c,arguments),b=c.getMeta(),b.stack=c.getDataset().stack,b.bar=!0},update:function(a){var b,c,d=this,e=d.getMeta().data;for(d._ruler=d.getRuler(),b=0,c=e.length;b<c;++b)d.updateElement(e[b],b,a)},updateElement:function(a,b,c){var d=this,e=d.chart,g=d.getMeta(),h=d.getDataset(),i=a.custom||{},j=e.options.elements.rectangle;a._xScale=d.getScaleForId(g.xAxisID),a._yScale=d.getScaleForId(g.yAxisID),a._datasetIndex=d.index,a._index=b,a._model={datasetLabel:h.label,label:e.data.labels[b],borderSkipped:i.borderSkipped?i.borderSkipped:j.borderSkipped,backgroundColor:i.backgroundColor?i.backgroundColor:f.valueAtIndexOrDefault(h.backgroundColor,b,j.backgroundColor),borderColor:i.borderColor?i.borderColor:f.valueAtIndexOrDefault(h.borderColor,b,j.borderColor),borderWidth:i.borderWidth?i.borderWidth:f.valueAtIndexOrDefault(h.borderWidth,b,j.borderWidth)},d.updateElementGeometry(a,b,c),a.pivot()},updateElementGeometry:function(a,b,c){var d=this,e=a._model,f=d.getValueScale(),g=f.getBasePixel(),h=f.isHorizontal(),i=d._ruler||d.getRuler(),j=d.calculateBarValuePixels(d.index,b),k=d.calculateBarIndexPixels(d.index,b,i);e.horizontal=h,e.base=c?g:j.base,e.x=h?c?g:j.head:k.center,e.y=h?k.center:c?g:j.head,e.height=h?k.size:void 0,e.width=h?void 0:k.size},getValueScaleId:function(){return this.getMeta().yAxisID},getIndexScaleId:function(){return this.getMeta().xAxisID},getValueScale:function(){return this.getScaleForId(this.getValueScaleId())},getIndexScale:function(){return this.getScaleForId(this.getIndexScaleId())},getStackCount:function(a){var b,c,d=this,e=d.chart,f=d.getIndexScale(),g=f.options.stacked,h=void 0===a?e.data.datasets.length:a+1,i=[];for(b=0;b<h;++b)c=e.getDatasetMeta(b),c.bar&&e.isDatasetVisible(b)&&(g===!1||g===!0&&i.indexOf(c.stack)===-1||void 0===g&&(void 0===c.stack||i.indexOf(c.stack)===-1))&&i.push(c.stack);return i.length},getStackIndex:function(a){return this.getStackCount(a)-1},getRuler:function(){var a,b,c=this,d=c.getIndexScale(),e=c.getStackCount(),f=c.index,g=[],h=d.isHorizontal(),i=h?d.left:d.top,j=i+(h?d.width:d.height);for(a=0,b=c.getMeta().data.length;a<b;++a)g.push(d.getPixelForValue(null,a,f));return{pixels:g,start:i,end:j,stackCount:e,scale:d}},calculateBarValuePixels:function(a,b){var c,d,e,f,g,h,i=this,j=i.chart,k=i.getMeta(),l=i.getValueScale(),m=j.data.datasets,n=l.getRightValue(m[a].data[b]),o=l.options.stacked,p=k.stack,q=0;if(o||void 0===o&&void 0!==p)for(c=0;c<a;++c)d=j.getDatasetMeta(c),d.bar&&d.stack===p&&d.controller.getValueScaleId()===l.id&&j.isDatasetVisible(c)&&(e=l.getRightValue(m[c].data[b]),(n<0&&e<0||n>=0&&e>0)&&(q+=e));return f=l.getPixelForValue(q),g=l.getPixelForValue(q+n),h=(g-f)/2,{size:h,base:f,head:g,center:g+h/2}},calculateBarIndexPixels:function(a,b,c){var d,e,g,h,i,j,k=this,l=c.scale.options,m=k.getStackIndex(a),n=c.pixels,o=n[b],p=n.length,q=c.start,r=c.end;return 1===p?(d=o>q?o-q:r-o,e=o<r?r-o:o-q):(b>0&&(d=(o-n[b-1])/2,b===p-1&&(e=d)),b<p-1&&(e=(n[b+1]-o)/2,0===b&&(d=e))),g=d*l.categoryPercentage,h=e*l.categoryPercentage,i=(g+h)/c.stackCount,j=i*l.barPercentage,j=Math.min(f.valueOrDefault(l.barThickness,j),f.valueOrDefault(l.maxBarThickness,1/0)),o-=g,o+=i*m,o+=(i-j)/2,{size:j,base:o,head:o+j,center:o+j/2}},draw:function(){var a=this,b=a.chart,c=a.getValueScale(),d=a.getMeta().data,e=a.getDataset(),g=d.length,h=0;for(f.canvas.clipArea(b.ctx,b.chartArea);h<g;++h)isNaN(c.getRightValue(e.data[h]))||d[h].draw();f.canvas.unclipArea(b.ctx)},setHoverStyle:function(a){var b=this.chart.data.datasets[a._datasetIndex],c=a._index,d=a.custom||{},e=a._model;e.backgroundColor=d.hoverBackgroundColor?d.hoverBackgroundColor:f.valueAtIndexOrDefault(b.hoverBackgroundColor,c,f.getHoverColor(e.backgroundColor)),e.borderColor=d.hoverBorderColor?d.hoverBorderColor:f.valueAtIndexOrDefault(b.hoverBorderColor,c,f.getHoverColor(e.borderColor)),e.borderWidth=d.hoverBorderWidth?d.hoverBorderWidth:f.valueAtIndexOrDefault(b.hoverBorderWidth,c,e.borderWidth)},removeHoverStyle:function(a){var b=this.chart.data.datasets[a._datasetIndex],c=a._index,d=a.custom||{},e=a._model,g=this.chart.options.elements.rectangle;e.backgroundColor=d.backgroundColor?d.backgroundColor:f.valueAtIndexOrDefault(b.backgroundColor,c,g.backgroundColor),e.borderColor=d.borderColor?d.borderColor:f.valueAtIndexOrDefault(b.borderColor,c,g.borderColor),e.borderWidth=d.borderWidth?d.borderWidth:f.valueAtIndexOrDefault(b.borderWidth,c,g.borderWidth)}}),a.controllers.horizontalBar=a.controllers.bar.extend({getValueScaleId:function(){return this.getMeta().xAxisID},getIndexScaleId:function(){return this.getMeta().yAxisID}})}},{25:25,40:40,45:45}],16:[function(a,b,c){"use strict";var d=a(25),e=a(40),f=a(45);d._set("bubble",{hover:{mode:"single"},scales:{xAxes:[{type:"linear",position:"bottom",id:"x-axis-0"}],yAxes:[{type:"linear",position:"left",id:"y-axis-0"}]},tooltips:{callbacks:{title:function(){return""},label:function(a,b){var c=b.datasets[a.datasetIndex].label||"",d=b.datasets[a.datasetIndex].data[a.index];return c+": ("+a.xLabel+", "+a.yLabel+", "+d.r+")"}}}}),b.exports=function(a){a.controllers.bubble=a.DatasetController.extend({dataElementType:e.Point,update:function(a){var b=this,c=b.getMeta(),d=c.data;f.each(d,function(c,d){b.updateElement(c,d,a)})},updateElement:function(a,b,c){var d=this,e=d.getMeta(),f=a.custom||{},g=d.getScaleForId(e.xAxisID),h=d.getScaleForId(e.yAxisID),i=d._resolveElementOptions(a,b),j=d.getDataset().data[b],k=d.index,l=c?g.getPixelForDecimal(.5):g.getPixelForValue("object"==typeof j?j:NaN,b,k),m=c?h.getBasePixel():h.getPixelForValue(j,b,k);a._xScale=g,a._yScale=h,a._options=i,a._datasetIndex=k,a._index=b,a._model={backgroundColor:i.backgroundColor,borderColor:i.borderColor,borderWidth:i.borderWidth,hitRadius:i.hitRadius,pointStyle:i.pointStyle,radius:c?0:i.radius,skip:f.skip||isNaN(l)||isNaN(m),x:l,y:m},a.pivot()},setHoverStyle:function(a){var b=a._model,c=a._options;b.backgroundColor=f.valueOrDefault(c.hoverBackgroundColor,f.getHoverColor(c.backgroundColor)),b.borderColor=f.valueOrDefault(c.hoverBorderColor,f.getHoverColor(c.borderColor)),b.borderWidth=f.valueOrDefault(c.hoverBorderWidth,c.borderWidth),b.radius=c.radius+c.hoverRadius},removeHoverStyle:function(a){var b=a._model,c=a._options;b.backgroundColor=c.backgroundColor,b.borderColor=c.borderColor,b.borderWidth=c.borderWidth,b.radius=c.radius},_resolveElementOptions:function(a,b){var c,d,e,g=this,h=g.chart,i=h.data.datasets,j=i[g.index],k=a.custom||{},l=h.options.elements.point,m=f.options.resolve,n=j.data[b],o={},p={chart:h,dataIndex:b,dataset:j,datasetIndex:g.index},q=["backgroundColor","borderColor","borderWidth","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth","hoverRadius","hitRadius","pointStyle"];for(c=0,d=q.length;c<d;++c)e=q[c],o[e]=m([k[e],j[e],l[e]],p,b);return o.radius=m([k.radius,n?n.r:void 0,j.radius,l.radius],p,b),o}})}},{25:25,40:40,45:45}],17:[function(a,b,c){"use strict";var d=a(25),e=a(40),f=a(45);d._set("doughnut",{animation:{animateRotate:!0,animateScale:!1},hover:{mode:"single"},legendCallback:function(a){var b=[];b.push('<ul class="'+a.id+'-legend">');var c=a.data,d=c.datasets,e=c.labels;if(d.length)for(var f=0;f<d[0].data.length;++f)b.push('<li><span style="background-color:'+d[0].backgroundColor[f]+'"></span>'),e[f]&&b.push(e[f]),b.push("</li>");return b.push("</ul>"),b.join("")},legend:{labels:{generateLabels:function(a){var b=a.data;return b.labels.length&&b.datasets.length?b.labels.map(function(c,d){var e=a.getDatasetMeta(0),g=b.datasets[0],h=e.data[d],i=h&&h.custom||{},j=f.valueAtIndexOrDefault,k=a.options.elements.arc,l=i.backgroundColor?i.backgroundColor:j(g.backgroundColor,d,k.backgroundColor),m=i.borderColor?i.borderColor:j(g.borderColor,d,k.borderColor),n=i.borderWidth?i.borderWidth:j(g.borderWidth,d,k.borderWidth);return{text:c,fillStyle:l,strokeStyle:m,lineWidth:n,hidden:isNaN(g.data[d])||e.data[d].hidden,index:d}}):[]}},onClick:function(a,b){var c,d,e,f=b.index,g=this.chart;for(c=0,d=(g.data.datasets||[]).length;c<d;++c)e=g.getDatasetMeta(c),e.data[f]&&(e.data[f].hidden=!e.data[f].hidden);g.update()}},cutoutPercentage:50,rotation:Math.PI*-.5,circumference:2*Math.PI,tooltips:{callbacks:{title:function(){return""},label:function(a,b){var c=b.labels[a.index],d=": "+b.datasets[a.datasetIndex].data[a.index];return f.isArray(c)?(c=c.slice(),c[0]+=d):c+=d,c}}}}),d._set("pie",f.clone(d.doughnut)),d._set("pie",{cutoutPercentage:0}),b.exports=function(a){a.controllers.doughnut=a.controllers.pie=a.DatasetController.extend({dataElementType:e.Arc,linkScales:f.noop,getRingIndex:function(a){for(var b=0,c=0;c<a;++c)this.chart.isDatasetVisible(c)&&++b;return b},update:function(a){var b=this,c=b.chart,d=c.chartArea,e=c.options,g=e.elements.arc,h=d.right-d.left-g.borderWidth,i=d.bottom-d.top-g.borderWidth,j=Math.min(h,i),k={x:0,y:0},l=b.getMeta(),m=e.cutoutPercentage,n=e.circumference;if(n<2*Math.PI){var o=e.rotation%(2*Math.PI);o+=2*Math.PI*(o>=Math.PI?-1:o<-Math.PI?1:0);var p=o+n,q={x:Math.cos(o),y:Math.sin(o)},r={x:Math.cos(p),y:Math.sin(p)},s=o<=0&&p>=0||o<=2*Math.PI&&2*Math.PI<=p,t=o<=.5*Math.PI&&.5*Math.PI<=p||o<=2.5*Math.PI&&2.5*Math.PI<=p,u=o<=-Math.PI&&-Math.PI<=p||o<=Math.PI&&Math.PI<=p,v=o<=.5*-Math.PI&&.5*-Math.PI<=p||o<=1.5*Math.PI&&1.5*Math.PI<=p,w=m/100,x={x:u?-1:Math.min(q.x*(q.x<0?1:w),r.x*(r.x<0?1:w)),y:v?-1:Math.min(q.y*(q.y<0?1:w),r.y*(r.y<0?1:w))},y={x:s?1:Math.max(q.x*(q.x>0?1:w),r.x*(r.x>0?1:w)),y:t?1:Math.max(q.y*(q.y>0?1:w),r.y*(r.y>0?1:w))},z={width:.5*(y.x-x.x),height:.5*(y.y-x.y)};j=Math.min(h/z.width,i/z.height),k={x:(y.x+x.x)*-.5,y:(y.y+x.y)*-.5}}c.borderWidth=b.getMaxBorderWidth(l.data),c.outerRadius=Math.max((j-c.borderWidth)/2,0),c.innerRadius=Math.max(m?c.outerRadius/100*m:0,0),c.radiusLength=(c.outerRadius-c.innerRadius)/c.getVisibleDatasetCount(),c.offsetX=k.x*c.outerRadius,c.offsetY=k.y*c.outerRadius,l.total=b.calculateTotal(),b.outerRadius=c.outerRadius-c.radiusLength*b.getRingIndex(b.index),b.innerRadius=Math.max(b.outerRadius-c.radiusLength,0),f.each(l.data,function(c,d){b.updateElement(c,d,a)})},updateElement:function(a,b,c){var d=this,e=d.chart,g=e.chartArea,h=e.options,i=h.animation,j=(g.left+g.right)/2,k=(g.top+g.bottom)/2,l=h.rotation,m=h.rotation,n=d.getDataset(),o=c&&i.animateRotate?0:a.hidden?0:d.calculateCircumference(n.data[b])*(h.circumference/(2*Math.PI)),p=c&&i.animateScale?0:d.innerRadius,q=c&&i.animateScale?0:d.outerRadius,r=f.valueAtIndexOrDefault;f.extend(a,{_datasetIndex:d.index,_index:b,_model:{x:j+e.offsetX,y:k+e.offsetY,startAngle:l,endAngle:m,circumference:o,outerRadius:q,innerRadius:p,label:r(n.label,b,e.data.labels[b])}});var s=a._model;this.removeHoverStyle(a),c&&i.animateRotate||(0===b?s.startAngle=h.rotation:s.startAngle=d.getMeta().data[b-1]._model.endAngle,s.endAngle=s.startAngle+s.circumference),a.pivot()},removeHoverStyle:function(b){a.DatasetController.prototype.removeHoverStyle.call(this,b,this.chart.options.elements.arc)},calculateTotal:function(){var a,b=this.getDataset(),c=this.getMeta(),d=0;return f.each(c.data,function(c,e){a=b.data[e],isNaN(a)||c.hidden||(d+=Math.abs(a))}),d},calculateCircumference:function(a){var b=this.getMeta().total;return b>0&&!isNaN(a)?2*Math.PI*(a/b):0},getMaxBorderWidth:function(a){for(var b,c,d=0,e=this.index,f=a.length,g=0;g<f;g++)b=a[g]._model?a[g]._model.borderWidth:0,c=a[g]._chart?a[g]._chart.config.data.datasets[e].hoverBorderWidth:0,d=b>d?b:d,d=c>d?c:d;return d}})}},{25:25,40:40,45:45}],18:[function(a,b,c){"use strict";var d=a(25),e=a(40),f=a(45);d._set("line",{showLines:!0,spanGaps:!1,hover:{mode:"label"},scales:{xAxes:[{type:"category",id:"x-axis-0"}],yAxes:[{type:"linear",id:"y-axis-0"}]}}),b.exports=function(a){function b(a,b){return f.valueOrDefault(a.showLine,b.showLines)}a.controllers.line=a.DatasetController.extend({datasetElementType:e.Line,dataElementType:e.Point,update:function(a){var c,d,e,g=this,h=g.getMeta(),i=h.dataset,j=h.data||[],k=g.chart.options,l=k.elements.line,m=g.getScaleForId(h.yAxisID),n=g.getDataset(),o=b(n,k);for(o&&(e=i.custom||{},void 0!==n.tension&&void 0===n.lineTension&&(n.lineTension=n.tension),i._scale=m,i._datasetIndex=g.index,i._children=j,i._model={spanGaps:n.spanGaps?n.spanGaps:k.spanGaps,tension:e.tension?e.tension:f.valueOrDefault(n.lineTension,l.tension),backgroundColor:e.backgroundColor?e.backgroundColor:n.backgroundColor||l.backgroundColor,borderWidth:e.borderWidth?e.borderWidth:n.borderWidth||l.borderWidth,borderColor:e.borderColor?e.borderColor:n.borderColor||l.borderColor,borderCapStyle:e.borderCapStyle?e.borderCapStyle:n.borderCapStyle||l.borderCapStyle,borderDash:e.borderDash?e.borderDash:n.borderDash||l.borderDash,borderDashOffset:e.borderDashOffset?e.borderDashOffset:n.borderDashOffset||l.borderDashOffset,borderJoinStyle:e.borderJoinStyle?e.borderJoinStyle:n.borderJoinStyle||l.borderJoinStyle,fill:e.fill?e.fill:void 0!==n.fill?n.fill:l.fill,steppedLine:e.steppedLine?e.steppedLine:f.valueOrDefault(n.steppedLine,l.stepped),cubicInterpolationMode:e.cubicInterpolationMode?e.cubicInterpolationMode:f.valueOrDefault(n.cubicInterpolationMode,l.cubicInterpolationMode)},i.pivot()),c=0,d=j.length;c<d;++c)g.updateElement(j[c],c,a);for(o&&0!==i._model.tension&&g.updateBezierControlPoints(),c=0,d=j.length;c<d;++c)j[c].pivot()},getPointBackgroundColor:function(a,b){var c=this.chart.options.elements.point.backgroundColor,d=this.getDataset(),e=a.custom||{};return e.backgroundColor?c=e.backgroundColor:d.pointBackgroundColor?c=f.valueAtIndexOrDefault(d.pointBackgroundColor,b,c):d.backgroundColor&&(c=d.backgroundColor),c},getPointBorderColor:function(a,b){var c=this.chart.options.elements.point.borderColor,d=this.getDataset(),e=a.custom||{};return e.borderColor?c=e.borderColor:d.pointBorderColor?c=f.valueAtIndexOrDefault(d.pointBorderColor,b,c):d.borderColor&&(c=d.borderColor),c},getPointBorderWidth:function(a,b){var c=this.chart.options.elements.point.borderWidth,d=this.getDataset(),e=a.custom||{};return isNaN(e.borderWidth)?!isNaN(d.pointBorderWidth)||f.isArray(d.pointBorderWidth)?c=f.valueAtIndexOrDefault(d.pointBorderWidth,b,c):isNaN(d.borderWidth)||(c=d.borderWidth):c=e.borderWidth,c},updateElement:function(a,b,c){var d,e,g=this,h=g.getMeta(),i=a.custom||{},j=g.getDataset(),k=g.index,l=j.data[b],m=g.getScaleForId(h.yAxisID),n=g.getScaleForId(h.xAxisID),o=g.chart.options.elements.point;void 0!==j.radius&&void 0===j.pointRadius&&(j.pointRadius=j.radius),void 0!==j.hitRadius&&void 0===j.pointHitRadius&&(j.pointHitRadius=j.hitRadius),d=n.getPixelForValue("object"==typeof l?l:NaN,b,k),e=c?m.getBasePixel():g.calculatePointY(l,b,k),a._xScale=n,a._yScale=m,a._datasetIndex=k,a._index=b,a._model={x:d,y:e,skip:i.skip||isNaN(d)||isNaN(e),radius:i.radius||f.valueAtIndexOrDefault(j.pointRadius,b,o.radius),pointStyle:i.pointStyle||f.valueAtIndexOrDefault(j.pointStyle,b,o.pointStyle),backgroundColor:g.getPointBackgroundColor(a,b),borderColor:g.getPointBorderColor(a,b),borderWidth:g.getPointBorderWidth(a,b),tension:h.dataset._model?h.dataset._model.tension:0,steppedLine:!!h.dataset._model&&h.dataset._model.steppedLine,hitRadius:i.hitRadius||f.valueAtIndexOrDefault(j.pointHitRadius,b,o.hitRadius)}},calculatePointY:function(a,b,c){var d,e,f,g=this,h=g.chart,i=g.getMeta(),j=g.getScaleForId(i.yAxisID),k=0,l=0;if(j.options.stacked){for(d=0;d<c;d++)if(e=h.data.datasets[d],f=h.getDatasetMeta(d),"line"===f.type&&f.yAxisID===j.id&&h.isDatasetVisible(d)){var m=Number(j.getRightValue(e.data[b]));m<0?l+=m||0:k+=m||0}var n=Number(j.getRightValue(a));return n<0?j.getPixelForValue(l+n):j.getPixelForValue(k+n)}return j.getPixelForValue(a)},updateBezierControlPoints:function(){function a(a,b,c){return Math.max(Math.min(a,c),b)}var b,c,d,e,g,h=this,i=h.getMeta(),j=h.chart.chartArea,k=i.data||[];if(i.dataset._model.spanGaps&&(k=k.filter(function(a){return!a._model.skip})),"monotone"===i.dataset._model.cubicInterpolationMode)f.splineCurveMonotone(k);else for(b=0,c=k.length;b<c;++b)d=k[b],e=d._model,g=f.splineCurve(f.previousItem(k,b)._model,e,f.nextItem(k,b)._model,i.dataset._model.tension),e.controlPointPreviousX=g.previous.x,e.controlPointPreviousY=g.previous.y,e.controlPointNextX=g.next.x,e.controlPointNextY=g.next.y;if(h.chart.options.elements.line.capBezierPoints)for(b=0,c=k.length;b<c;++b)e=k[b]._model,e.controlPointPreviousX=a(e.controlPointPreviousX,j.left,j.right),e.controlPointPreviousY=a(e.controlPointPreviousY,j.top,j.bottom),e.controlPointNextX=a(e.controlPointNextX,j.left,j.right),e.controlPointNextY=a(e.controlPointNextY,j.top,j.bottom)},draw:function(){var a=this,c=a.chart,d=a.getMeta(),e=d.data||[],g=c.chartArea,h=e.length,i=0;for(f.canvas.clipArea(c.ctx,g),b(a.getDataset(),c.options)&&d.dataset.draw(),f.canvas.unclipArea(c.ctx);i<h;++i)e[i].draw(g)},setHoverStyle:function(a){var b=this.chart.data.datasets[a._datasetIndex],c=a._index,d=a.custom||{},e=a._model;e.radius=d.hoverRadius||f.valueAtIndexOrDefault(b.pointHoverRadius,c,this.chart.options.elements.point.hoverRadius),e.backgroundColor=d.hoverBackgroundColor||f.valueAtIndexOrDefault(b.pointHoverBackgroundColor,c,f.getHoverColor(e.backgroundColor)),e.borderColor=d.hoverBorderColor||f.valueAtIndexOrDefault(b.pointHoverBorderColor,c,f.getHoverColor(e.borderColor)),e.borderWidth=d.hoverBorderWidth||f.valueAtIndexOrDefault(b.pointHoverBorderWidth,c,e.borderWidth)},removeHoverStyle:function(a){var b=this,c=b.chart.data.datasets[a._datasetIndex],d=a._index,e=a.custom||{},g=a._model;void 0!==c.radius&&void 0===c.pointRadius&&(c.pointRadius=c.radius),g.radius=e.radius||f.valueAtIndexOrDefault(c.pointRadius,d,b.chart.options.elements.point.radius),g.backgroundColor=b.getPointBackgroundColor(a,d),g.borderColor=b.getPointBorderColor(a,d),g.borderWidth=b.getPointBorderWidth(a,d)}})}},{25:25,40:40,45:45}],19:[function(a,b,c){"use strict";var d=a(25),e=a(40),f=a(45);d._set("polarArea",{scale:{type:"radialLinear",angleLines:{display:!1},gridLines:{circular:!0},pointLabels:{display:!1},ticks:{beginAtZero:!0}},animation:{animateRotate:!0,animateScale:!0},startAngle:-.5*Math.PI,legendCallback:function(a){var b=[];b.push('<ul class="'+a.id+'-legend">');var c=a.data,d=c.datasets,e=c.labels;if(d.length)for(var f=0;f<d[0].data.length;++f)b.push('<li><span style="background-color:'+d[0].backgroundColor[f]+'"></span>'),e[f]&&b.push(e[f]),b.push("</li>");return b.push("</ul>"),b.join("")},legend:{labels:{generateLabels:function(a){var b=a.data;return b.labels.length&&b.datasets.length?b.labels.map(function(c,d){var e=a.getDatasetMeta(0),g=b.datasets[0],h=e.data[d],i=h.custom||{},j=f.valueAtIndexOrDefault,k=a.options.elements.arc,l=i.backgroundColor?i.backgroundColor:j(g.backgroundColor,d,k.backgroundColor),m=i.borderColor?i.borderColor:j(g.borderColor,d,k.borderColor),n=i.borderWidth?i.borderWidth:j(g.borderWidth,d,k.borderWidth);return{text:c,fillStyle:l,strokeStyle:m,lineWidth:n,hidden:isNaN(g.data[d])||e.data[d].hidden,index:d}}):[]}},onClick:function(a,b){var c,d,e,f=b.index,g=this.chart;for(c=0,d=(g.data.datasets||[]).length;c<d;++c)e=g.getDatasetMeta(c),e.data[f].hidden=!e.data[f].hidden;g.update()}},tooltips:{callbacks:{title:function(){return""},label:function(a,b){return b.labels[a.index]+": "+a.yLabel}}}}),b.exports=function(a){a.controllers.polarArea=a.DatasetController.extend({dataElementType:e.Arc,linkScales:f.noop,update:function(a){var b=this,c=b.chart,d=c.chartArea,e=b.getMeta(),g=c.options,h=g.elements.arc,i=Math.min(d.right-d.left,d.bottom-d.top);c.outerRadius=Math.max((i-h.borderWidth/2)/2,0),c.innerRadius=Math.max(g.cutoutPercentage?c.outerRadius/100*g.cutoutPercentage:1,0),c.radiusLength=(c.outerRadius-c.innerRadius)/c.getVisibleDatasetCount(),b.outerRadius=c.outerRadius-c.radiusLength*b.index,b.innerRadius=b.outerRadius-c.radiusLength,e.count=b.countVisibleElements(),f.each(e.data,function(c,d){b.updateElement(c,d,a)})},updateElement:function(a,b,c){for(var d=this,e=d.chart,g=d.getDataset(),h=e.options,i=h.animation,j=e.scale,k=e.data.labels,l=d.calculateCircumference(g.data[b]),m=j.xCenter,n=j.yCenter,o=0,p=d.getMeta(),q=0;q<b;++q)isNaN(g.data[q])||p.data[q].hidden||++o;var r=h.startAngle,s=a.hidden?0:j.getDistanceFromCenterForValue(g.data[b]),t=r+l*o,u=t+(a.hidden?0:l),v=i.animateScale?0:j.getDistanceFromCenterForValue(g.data[b]);f.extend(a,{_datasetIndex:d.index,_index:b,_scale:j,_model:{x:m,y:n,innerRadius:0,outerRadius:c?v:s,startAngle:c&&i.animateRotate?r:t,endAngle:c&&i.animateRotate?r:u,label:f.valueAtIndexOrDefault(k,b,k[b])}}),d.removeHoverStyle(a),a.pivot()},removeHoverStyle:function(b){a.DatasetController.prototype.removeHoverStyle.call(this,b,this.chart.options.elements.arc)},countVisibleElements:function(){var a=this.getDataset(),b=this.getMeta(),c=0;return f.each(b.data,function(b,d){isNaN(a.data[d])||b.hidden||c++}),c},calculateCircumference:function(a){var b=this.getMeta().count;return b>0&&!isNaN(a)?2*Math.PI/b:0}})}},{25:25,40:40,45:45}],20:[function(a,b,c){"use strict";var d=a(25),e=a(40),f=a(45);d._set("radar",{scale:{type:"radialLinear"},elements:{line:{tension:0}}}),b.exports=function(a){a.controllers.radar=a.DatasetController.extend({datasetElementType:e.Line,dataElementType:e.Point,linkScales:f.noop,update:function(a){var b=this,c=b.getMeta(),d=c.dataset,e=c.data,g=d.custom||{},h=b.getDataset(),i=b.chart.options.elements.line,j=b.chart.scale;void 0!==h.tension&&void 0===h.lineTension&&(h.lineTension=h.tension),f.extend(c.dataset,{_datasetIndex:b.index,_scale:j,_children:e,_loop:!0,_model:{tension:g.tension?g.tension:f.valueOrDefault(h.lineTension,i.tension),backgroundColor:g.backgroundColor?g.backgroundColor:h.backgroundColor||i.backgroundColor,borderWidth:g.borderWidth?g.borderWidth:h.borderWidth||i.borderWidth,borderColor:g.borderColor?g.borderColor:h.borderColor||i.borderColor,fill:g.fill?g.fill:void 0!==h.fill?h.fill:i.fill,borderCapStyle:g.borderCapStyle?g.borderCapStyle:h.borderCapStyle||i.borderCapStyle,borderDash:g.borderDash?g.borderDash:h.borderDash||i.borderDash,borderDashOffset:g.borderDashOffset?g.borderDashOffset:h.borderDashOffset||i.borderDashOffset,borderJoinStyle:g.borderJoinStyle?g.borderJoinStyle:h.borderJoinStyle||i.borderJoinStyle}}),c.dataset.pivot(),f.each(e,function(c,d){b.updateElement(c,d,a)},b),b.updateBezierControlPoints()},updateElement:function(a,b,c){var d=this,e=a.custom||{},g=d.getDataset(),h=d.chart.scale,i=d.chart.options.elements.point,j=h.getPointPositionForValue(b,g.data[b]);void 0!==g.radius&&void 0===g.pointRadius&&(g.pointRadius=g.radius),void 0!==g.hitRadius&&void 0===g.pointHitRadius&&(g.pointHitRadius=g.hitRadius),f.extend(a,{_datasetIndex:d.index,_index:b,_scale:h,_model:{x:c?h.xCenter:j.x,y:c?h.yCenter:j.y,tension:e.tension?e.tension:f.valueOrDefault(g.lineTension,d.chart.options.elements.line.tension),radius:e.radius?e.radius:f.valueAtIndexOrDefault(g.pointRadius,b,i.radius),backgroundColor:e.backgroundColor?e.backgroundColor:f.valueAtIndexOrDefault(g.pointBackgroundColor,b,i.backgroundColor),borderColor:e.borderColor?e.borderColor:f.valueAtIndexOrDefault(g.pointBorderColor,b,i.borderColor),borderWidth:e.borderWidth?e.borderWidth:f.valueAtIndexOrDefault(g.pointBorderWidth,b,i.borderWidth),pointStyle:e.pointStyle?e.pointStyle:f.valueAtIndexOrDefault(g.pointStyle,b,i.pointStyle),hitRadius:e.hitRadius?e.hitRadius:f.valueAtIndexOrDefault(g.pointHitRadius,b,i.hitRadius)}}),a._model.skip=e.skip?e.skip:isNaN(a._model.x)||isNaN(a._model.y)},updateBezierControlPoints:function(){var a=this.chart.chartArea,b=this.getMeta();f.each(b.data,function(c,d){var e=c._model,g=f.splineCurve(f.previousItem(b.data,d,!0)._model,e,f.nextItem(b.data,d,!0)._model,e.tension);e.controlPointPreviousX=Math.max(Math.min(g.previous.x,a.right),a.left),e.controlPointPreviousY=Math.max(Math.min(g.previous.y,a.bottom),a.top),e.controlPointNextX=Math.max(Math.min(g.next.x,a.right),a.left),e.controlPointNextY=Math.max(Math.min(g.next.y,a.bottom),a.top),c.pivot()})},setHoverStyle:function(a){var b=this.chart.data.datasets[a._datasetIndex],c=a.custom||{},d=a._index,e=a._model;e.radius=c.hoverRadius?c.hoverRadius:f.valueAtIndexOrDefault(b.pointHoverRadius,d,this.chart.options.elements.point.hoverRadius),e.backgroundColor=c.hoverBackgroundColor?c.hoverBackgroundColor:f.valueAtIndexOrDefault(b.pointHoverBackgroundColor,d,f.getHoverColor(e.backgroundColor)),e.borderColor=c.hoverBorderColor?c.hoverBorderColor:f.valueAtIndexOrDefault(b.pointHoverBorderColor,d,f.getHoverColor(e.borderColor)),e.borderWidth=c.hoverBorderWidth?c.hoverBorderWidth:f.valueAtIndexOrDefault(b.pointHoverBorderWidth,d,e.borderWidth)},removeHoverStyle:function(a){var b=this.chart.data.datasets[a._datasetIndex],c=a.custom||{},d=a._index,e=a._model,g=this.chart.options.elements.point;e.radius=c.radius?c.radius:f.valueAtIndexOrDefault(b.pointRadius,d,g.radius),e.backgroundColor=c.backgroundColor?c.backgroundColor:f.valueAtIndexOrDefault(b.pointBackgroundColor,d,g.backgroundColor),e.borderColor=c.borderColor?c.borderColor:f.valueAtIndexOrDefault(b.pointBorderColor,d,g.borderColor),e.borderWidth=c.borderWidth?c.borderWidth:f.valueAtIndexOrDefault(b.pointBorderWidth,d,g.borderWidth)}})}},{25:25,40:40,45:45}],21:[function(a,b,c){"use strict";var d=a(25);d._set("scatter",{hover:{mode:"single"},scales:{xAxes:[{id:"x-axis-1",type:"linear",position:"bottom"}],yAxes:[{id:"y-axis-1",type:"linear",position:"left"}]},showLines:!1,tooltips:{callbacks:{title:function(){return""},label:function(a){return"("+a.xLabel+", "+a.yLabel+")"}}}}),b.exports=function(a){a.controllers.scatter=a.controllers.line}},{25:25}],22:[function(a,b,c){"use strict";var d=a(25),e=a(26),f=a(45);d._set("global",{animation:{duration:1e3,easing:"easeOutQuart",onProgress:f.noop,onComplete:f.noop}}),b.exports=function(a){a.Animation=e.extend({chart:null,currentStep:0,numSteps:60,easing:"",render:null,onAnimationProgress:null,onAnimationComplete:null}),a.animationService={frameDuration:17,animations:[],dropFrames:0,request:null,addAnimation:function(a,b,c,d){var e,f,g=this.animations;for(b.chart=a,d||(a.animating=!0),e=0,f=g.length;e<f;++e)if(g[e].chart===a)return void(g[e]=b);g.push(b),1===g.length&&this.requestAnimationFrame()},cancelAnimation:function(a){var b=f.findIndex(this.animations,function(b){return b.chart===a});b!==-1&&(this.animations.splice(b,1),a.animating=!1)},requestAnimationFrame:function(){var a=this;null===a.request&&(a.request=f.requestAnimFrame.call(window,function(){a.request=null,a.startDigest()}))},startDigest:function(){var a=this,b=Date.now(),c=0;a.dropFrames>1&&(c=Math.floor(a.dropFrames),a.dropFrames=a.dropFrames%1),a.advance(1+c);var d=Date.now();a.dropFrames+=(d-b)/a.frameDuration,a.animations.length>0&&a.requestAnimationFrame()},advance:function(a){for(var b,c,d=this.animations,e=0;e<d.length;)b=d[e],c=b.chart,b.currentStep=(b.currentStep||0)+a,b.currentStep=Math.min(b.currentStep,b.numSteps),f.callback(b.render,[c,b],c),f.callback(b.onAnimationProgress,[b],c),b.currentStep>=b.numSteps?(f.callback(b.onAnimationComplete,[b],c),c.animating=!1,d.splice(e,1)):++e}},Object.defineProperty(a.Animation.prototype,"animationObject",{get:function(){return this}}),Object.defineProperty(a.Animation.prototype,"chartInstance",{get:function(){return this.chart},set:function(a){this.chart=a}})}},{25:25,26:26,45:45}],23:[function(a,b,c){"use strict";var d=a(25),e=a(45),f=a(28),g=a(48);b.exports=function(a){function b(a){a=a||{};var b=a.data=a.data||{};return b.datasets=b.datasets||[],b.labels=b.labels||[],a.options=e.configMerge(d.global,d[a.type],a.options||{}),a}function c(a){var b=a.options;b.scale?a.scale.options=b.scale:b.scales&&b.scales.xAxes.concat(b.scales.yAxes).forEach(function(b){a.scales[b.id].options=b}),a.tooltip._options=b.tooltips}function h(a){return"top"===a||"bottom"===a}var i=a.plugins;a.types={},a.instances={},a.controllers={},e.extend(a.prototype,{construct:function(c,d){var f=this;d=b(d);var h=g.acquireContext(c,d),i=h&&h.canvas,j=i&&i.height,k=i&&i.width;return f.id=e.uid(),f.ctx=h,f.canvas=i,f.config=d,f.width=k,f.height=j,f.aspectRatio=j?k/j:null,f.options=d.options,f._bufferedRender=!1,f.chart=f,f.controller=f,a.instances[f.id]=f,Object.defineProperty(f,"data",{get:function(){return f.config.data;
},set:function(a){f.config.data=a}}),h&&i?(f.initialize(),void f.update()):void console.error("Failed to create chart: can't acquire context from the given item")},initialize:function(){var a=this;return i.notify(a,"beforeInit"),e.retinaScale(a,a.options.devicePixelRatio),a.bindEvents(),a.options.responsive&&a.resize(!0),a.ensureScalesHaveIDs(),a.buildScales(),a.initToolTip(),i.notify(a,"afterInit"),a},clear:function(){return e.canvas.clear(this),this},stop:function(){return a.animationService.cancelAnimation(this),this},resize:function(a){var b=this,c=b.options,d=b.canvas,f=c.maintainAspectRatio&&b.aspectRatio||null,g=Math.max(0,Math.floor(e.getMaximumWidth(d))),h=Math.max(0,Math.floor(f?g/f:e.getMaximumHeight(d)));if((b.width!==g||b.height!==h)&&(d.width=b.width=g,d.height=b.height=h,d.style.width=g+"px",d.style.height=h+"px",e.retinaScale(b,c.devicePixelRatio),!a)){var j={width:g,height:h};i.notify(b,"resize",[j]),b.options.onResize&&b.options.onResize(b,j),b.stop(),b.update(b.options.responsiveAnimationDuration)}},ensureScalesHaveIDs:function(){var a=this.options,b=a.scales||{},c=a.scale;e.each(b.xAxes,function(a,b){a.id=a.id||"x-axis-"+b}),e.each(b.yAxes,function(a,b){a.id=a.id||"y-axis-"+b}),c&&(c.id=c.id||"scale")},buildScales:function(){var b=this,c=b.options,d=b.scales={},f=[];c.scales&&(f=f.concat((c.scales.xAxes||[]).map(function(a){return{options:a,dtype:"category",dposition:"bottom"}}),(c.scales.yAxes||[]).map(function(a){return{options:a,dtype:"linear",dposition:"left"}}))),c.scale&&f.push({options:c.scale,dtype:"radialLinear",isDefault:!0,dposition:"chartArea"}),e.each(f,function(c){var f=c.options,g=e.valueOrDefault(f.type,c.dtype),i=a.scaleService.getScaleConstructor(g);if(i){h(f.position)!==h(c.dposition)&&(f.position=c.dposition);var j=new i({id:f.id,options:f,ctx:b.ctx,chart:b});d[j.id]=j,j.mergeTicksOptions(),c.isDefault&&(b.scale=j)}}),a.scaleService.addScalesToLayout(this)},buildOrUpdateControllers:function(){var b=this,c=[],d=[];return e.each(b.data.datasets,function(e,f){var g=b.getDatasetMeta(f),h=e.type||b.config.type;if(g.type&&g.type!==h&&(b.destroyDatasetMeta(f),g=b.getDatasetMeta(f)),g.type=h,c.push(g.type),g.controller)g.controller.updateIndex(f);else{var i=a.controllers[g.type];if(void 0===i)throw new Error('"'+g.type+'" is not a chart type.');g.controller=new i(b,f),d.push(g.controller)}},b),d},resetElements:function(){var a=this;e.each(a.data.datasets,function(b,c){a.getDatasetMeta(c).controller.reset()},a)},reset:function(){this.resetElements(),this.tooltip.initialize()},update:function(a){var b=this;if(a&&"object"==typeof a||(a={duration:a,lazy:arguments[1]}),c(b),i.notify(b,"beforeUpdate")!==!1){b.tooltip._data=b.data;var d=b.buildOrUpdateControllers();e.each(b.data.datasets,function(a,c){b.getDatasetMeta(c).controller.buildOrUpdateElements()},b),b.updateLayout(),e.each(d,function(a){a.reset()}),b.updateDatasets(),b.tooltip.initialize(),b.lastActive=[],i.notify(b,"afterUpdate"),b._bufferedRender?b._bufferedRequest={duration:a.duration,easing:a.easing,lazy:a.lazy}:b.render(a)}},updateLayout:function(){var b=this;i.notify(b,"beforeLayout")!==!1&&(a.layoutService.update(this,this.width,this.height),i.notify(b,"afterScaleUpdate"),i.notify(b,"afterLayout"))},updateDatasets:function(){var a=this;if(i.notify(a,"beforeDatasetsUpdate")!==!1){for(var b=0,c=a.data.datasets.length;b<c;++b)a.updateDataset(b);i.notify(a,"afterDatasetsUpdate")}},updateDataset:function(a){var b=this,c=b.getDatasetMeta(a),d={meta:c,index:a};i.notify(b,"beforeDatasetUpdate",[d])!==!1&&(c.controller.update(),i.notify(b,"afterDatasetUpdate",[d]))},render:function(b){var c=this;b&&"object"==typeof b||(b={duration:b,lazy:arguments[1]});var d=b.duration,f=b.lazy;if(i.notify(c,"beforeRender")!==!1){var g=c.options.animation,h=function(a){i.notify(c,"afterRender"),e.callback(g&&g.onComplete,[a],c)};if(g&&("undefined"!=typeof d&&0!==d||"undefined"==typeof d&&0!==g.duration)){var j=new a.Animation({numSteps:(d||g.duration)/16.66,easing:b.easing||g.easing,render:function(a,b){var c=e.easing.effects[b.easing],d=b.currentStep,f=d/b.numSteps;a.draw(c(f),f,d)},onAnimationProgress:g.onProgress,onAnimationComplete:h});a.animationService.addAnimation(c,j,d,f)}else c.draw(),h(new a.Animation({numSteps:0,chart:c}));return c}},draw:function(a){var b=this;b.clear(),e.isNullOrUndef(a)&&(a=1),b.transition(a),i.notify(b,"beforeDraw",[a])!==!1&&(e.each(b.boxes,function(a){a.draw(b.chartArea)},b),b.scale&&b.scale.draw(),b.drawDatasets(a),b._drawTooltip(a),i.notify(b,"afterDraw",[a]))},transition:function(a){for(var b=this,c=0,d=(b.data.datasets||[]).length;c<d;++c)b.isDatasetVisible(c)&&b.getDatasetMeta(c).controller.transition(a);b.tooltip.transition(a)},drawDatasets:function(a){var b=this;if(i.notify(b,"beforeDatasetsDraw",[a])!==!1){for(var c=(b.data.datasets||[]).length-1;c>=0;--c)b.isDatasetVisible(c)&&b.drawDataset(c,a);i.notify(b,"afterDatasetsDraw",[a])}},drawDataset:function(a,b){var c=this,d=c.getDatasetMeta(a),e={meta:d,index:a,easingValue:b};i.notify(c,"beforeDatasetDraw",[e])!==!1&&(d.controller.draw(b),i.notify(c,"afterDatasetDraw",[e]))},_drawTooltip:function(a){var b=this,c=b.tooltip,d={tooltip:c,easingValue:a};i.notify(b,"beforeTooltipDraw",[d])!==!1&&(c.draw(),i.notify(b,"afterTooltipDraw",[d]))},getElementAtEvent:function(a){return f.modes.single(this,a)},getElementsAtEvent:function(a){return f.modes.label(this,a,{intersect:!0})},getElementsAtXAxis:function(a){return f.modes["x-axis"](this,a,{intersect:!0})},getElementsAtEventForMode:function(a,b,c){var d=f.modes[b];return"function"==typeof d?d(this,a,c):[]},getDatasetAtEvent:function(a){return f.modes.dataset(this,a,{intersect:!0})},getDatasetMeta:function(a){var b=this,c=b.data.datasets[a];c._meta||(c._meta={});var d=c._meta[b.id];return d||(d=c._meta[b.id]={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null}),d},getVisibleDatasetCount:function(){for(var a=0,b=0,c=this.data.datasets.length;b<c;++b)this.isDatasetVisible(b)&&a++;return a},isDatasetVisible:function(a){var b=this.getDatasetMeta(a);return"boolean"==typeof b.hidden?!b.hidden:!this.data.datasets[a].hidden},generateLegend:function(){return this.options.legendCallback(this)},destroyDatasetMeta:function(a){var b=this.id,c=this.data.datasets[a],d=c._meta&&c._meta[b];d&&(d.controller.destroy(),delete c._meta[b])},destroy:function(){var b,c,d=this,f=d.canvas;for(d.stop(),b=0,c=d.data.datasets.length;b<c;++b)d.destroyDatasetMeta(b);f&&(d.unbindEvents(),e.canvas.clear(d),g.releaseContext(d.ctx),d.canvas=null,d.ctx=null),i.notify(d,"destroy"),delete a.instances[d.id]},toBase64Image:function(){return this.canvas.toDataURL.apply(this.canvas,arguments)},initToolTip:function(){var b=this;b.tooltip=new a.Tooltip({_chart:b,_chartInstance:b,_data:b.data,_options:b.options.tooltips},b)},bindEvents:function(){var a=this,b=a._listeners={},c=function(){a.eventHandler.apply(a,arguments)};e.each(a.options.events,function(d){g.addEventListener(a,d,c),b[d]=c}),a.options.responsive&&(c=function(){a.resize()},g.addEventListener(a,"resize",c),b.resize=c)},unbindEvents:function(){var a=this,b=a._listeners;b&&(delete a._listeners,e.each(b,function(b,c){g.removeEventListener(a,c,b)}))},updateHoverStyle:function(a,b,c){var d,e,f,g=c?"setHoverStyle":"removeHoverStyle";for(e=0,f=a.length;e<f;++e)d=a[e],d&&this.getDatasetMeta(d._datasetIndex).controller[g](d)},eventHandler:function(a){var b=this,c=b.tooltip;if(i.notify(b,"beforeEvent",[a])!==!1){b._bufferedRender=!0,b._bufferedRequest=null;var d=b.handleEvent(a);d|=c&&c.handleEvent(a),i.notify(b,"afterEvent",[a]);var e=b._bufferedRequest;return e?b.render(e):d&&!b.animating&&(b.stop(),b.render(b.options.hover.animationDuration,!0)),b._bufferedRender=!1,b._bufferedRequest=null,b}},handleEvent:function(a){var b=this,c=b.options||{},d=c.hover,f=!1;return b.lastActive=b.lastActive||[],"mouseout"===a.type?b.active=[]:b.active=b.getElementsAtEventForMode(a,d.mode,d),e.callback(c.onHover||c.hover.onHover,[a.native,b.active],b),"mouseup"!==a.type&&"click"!==a.type||c.onClick&&c.onClick.call(b,a.native,b.active),b.lastActive.length&&b.updateHoverStyle(b.lastActive,d.mode,!1),b.active.length&&d.mode&&b.updateHoverStyle(b.active,d.mode,!0),f=!e.arrayEquals(b.active,b.lastActive),b.lastActive=b.active,f}}),a.Controller=a}},{25:25,28:28,45:45,48:48}],24:[function(a,b,c){"use strict";var d=a(45);b.exports=function(a){function b(a,b){return a._chartjs?void a._chartjs.listeners.push(b):(Object.defineProperty(a,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[b]}}),void e.forEach(function(b){var c="onData"+b.charAt(0).toUpperCase()+b.slice(1),e=a[b];Object.defineProperty(a,b,{configurable:!0,enumerable:!1,value:function(){var b=Array.prototype.slice.call(arguments),f=e.apply(this,b);return d.each(a._chartjs.listeners,function(a){"function"==typeof a[c]&&a[c].apply(a,b)}),f}})}))}function c(a,b){var c=a._chartjs;if(c){var d=c.listeners,f=d.indexOf(b);f!==-1&&d.splice(f,1),d.length>0||(e.forEach(function(b){delete a[b]}),delete a._chartjs)}}var e=["push","pop","shift","splice","unshift"];a.DatasetController=function(a,b){this.initialize(a,b)},d.extend(a.DatasetController.prototype,{datasetElementType:null,dataElementType:null,initialize:function(a,b){var c=this;c.chart=a,c.index=b,c.linkScales(),c.addElements()},updateIndex:function(a){this.index=a},linkScales:function(){var a=this,b=a.getMeta(),c=a.getDataset();null===b.xAxisID&&(b.xAxisID=c.xAxisID||a.chart.options.scales.xAxes[0].id),null===b.yAxisID&&(b.yAxisID=c.yAxisID||a.chart.options.scales.yAxes[0].id)},getDataset:function(){return this.chart.data.datasets[this.index]},getMeta:function(){return this.chart.getDatasetMeta(this.index)},getScaleForId:function(a){return this.chart.scales[a]},reset:function(){this.update(!0)},destroy:function(){this._data&&c(this._data,this)},createMetaDataset:function(){var a=this,b=a.datasetElementType;return b&&new b({_chart:a.chart,_datasetIndex:a.index})},createMetaData:function(a){var b=this,c=b.dataElementType;return c&&new c({_chart:b.chart,_datasetIndex:b.index,_index:a})},addElements:function(){var a,b,c=this,d=c.getMeta(),e=c.getDataset().data||[],f=d.data;for(a=0,b=e.length;a<b;++a)f[a]=f[a]||c.createMetaData(a);d.dataset=d.dataset||c.createMetaDataset()},addElementAndReset:function(a){var b=this.createMetaData(a);this.getMeta().data.splice(a,0,b),this.updateElement(b,a,!0)},buildOrUpdateElements:function(){var a=this,d=a.getDataset(),e=d.data||(d.data=[]);a._data!==e&&(a._data&&c(a._data,a),b(e,a),a._data=e),a.resyncElements()},update:d.noop,transition:function(a){for(var b=this.getMeta(),c=b.data||[],d=c.length,e=0;e<d;++e)c[e].transition(a);b.dataset&&b.dataset.transition(a)},draw:function(){var a=this.getMeta(),b=a.data||[],c=b.length,d=0;for(a.dataset&&a.dataset.draw();d<c;++d)b[d].draw()},removeHoverStyle:function(a,b){var c=this.chart.data.datasets[a._datasetIndex],e=a._index,f=a.custom||{},g=d.valueAtIndexOrDefault,h=a._model;h.backgroundColor=f.backgroundColor?f.backgroundColor:g(c.backgroundColor,e,b.backgroundColor),h.borderColor=f.borderColor?f.borderColor:g(c.borderColor,e,b.borderColor),h.borderWidth=f.borderWidth?f.borderWidth:g(c.borderWidth,e,b.borderWidth)},setHoverStyle:function(a){var b=this.chart.data.datasets[a._datasetIndex],c=a._index,e=a.custom||{},f=d.valueAtIndexOrDefault,g=d.getHoverColor,h=a._model;h.backgroundColor=e.hoverBackgroundColor?e.hoverBackgroundColor:f(b.hoverBackgroundColor,c,g(h.backgroundColor)),h.borderColor=e.hoverBorderColor?e.hoverBorderColor:f(b.hoverBorderColor,c,g(h.borderColor)),h.borderWidth=e.hoverBorderWidth?e.hoverBorderWidth:f(b.hoverBorderWidth,c,h.borderWidth)},resyncElements:function(){var a=this,b=a.getMeta(),c=a.getDataset().data,d=b.data.length,e=c.length;e<d?b.data.splice(e,d-e):e>d&&a.insertElements(d,e-d)},insertElements:function(a,b){for(var c=0;c<b;++c)this.addElementAndReset(a+c)},onDataPush:function(){this.insertElements(this.getDataset().data.length-1,arguments.length)},onDataPop:function(){this.getMeta().data.pop()},onDataShift:function(){this.getMeta().data.shift()},onDataSplice:function(a,b){this.getMeta().data.splice(a,b),this.insertElements(a,arguments.length-2)},onDataUnshift:function(){this.insertElements(0,arguments.length)}}),a.DatasetController.extend=d.inherits}},{45:45}],25:[function(a,b,c){"use strict";var d=a(45);b.exports={_set:function(a,b){return d.merge(this[a]||(this[a]={}),b)}}},{45:45}],26:[function(a,b,c){"use strict";function d(a,b,c,d){var f,g,h,i,j,k,l,m,n,o=Object.keys(c);for(f=0,g=o.length;f<g;++f)if(h=o[f],k=c[h],b.hasOwnProperty(h)||(b[h]=k),i=b[h],i!==k&&"_"!==h[0]){if(a.hasOwnProperty(h)||(a[h]=i),j=a[h],l=typeof k,l===typeof j)if("string"===l){if(m=e(j),m.valid&&(n=e(k),n.valid)){b[h]=n.mix(m,d).rgbString();continue}}else if("number"===l&&isFinite(j)&&isFinite(k)){b[h]=j+(k-j)*d;continue}b[h]=k}}var e=a(3),f=a(45),g=function(a){f.extend(this,a),this.initialize.apply(this,arguments)};f.extend(g.prototype,{initialize:function(){this.hidden=!1},pivot:function(){var a=this;return a._view||(a._view=f.clone(a._model)),a._start={},a},transition:function(a){var b=this,c=b._model,e=b._start,f=b._view;return c&&1!==a?(f||(f=b._view={}),e||(e=b._start={}),d(e,f,c,a),b):(b._view=c,b._start=null,b)},tooltipPosition:function(){return{x:this._model.x,y:this._model.y}},hasValue:function(){return f.isNumber(this._model.x)&&f.isNumber(this._model.y)}}),g.extend=f.inherits,b.exports=g},{3:3,45:45}],27:[function(a,b,c){"use strict";var d=a(3),e=a(25),f=a(45);b.exports=function(a){function b(a,b,c){var d;return"string"==typeof a?(d=parseInt(a,10),a.indexOf("%")!==-1&&(d=d/100*b.parentNode[c])):d=a,d}function c(a){return void 0!==a&&null!==a&&"none"!==a}function g(a,d,e){var f=document.defaultView,g=a.parentNode,h=f.getComputedStyle(a)[d],i=f.getComputedStyle(g)[d],j=c(h),k=c(i),l=Number.POSITIVE_INFINITY;return j||k?Math.min(j?b(h,a,e):l,k?b(i,g,e):l):"none"}f.configMerge=function(){return f.merge(f.clone(arguments[0]),[].slice.call(arguments,1),{merger:function(b,c,d,e){var g=c[b]||{},h=d[b];"scales"===b?c[b]=f.scaleMerge(g,h):"scale"===b?c[b]=f.merge(g,[a.scaleService.getScaleDefaults(h.type),h]):f._merger(b,c,d,e)}})},f.scaleMerge=function(){return f.merge(f.clone(arguments[0]),[].slice.call(arguments,1),{merger:function(b,c,d,e){if("xAxes"===b||"yAxes"===b){var g,h,i,j=d[b].length;for(c[b]||(c[b]=[]),g=0;g<j;++g)i=d[b][g],h=f.valueOrDefault(i.type,"xAxes"===b?"category":"linear"),g>=c[b].length&&c[b].push({}),!c[b][g].type||i.type&&i.type!==c[b][g].type?f.merge(c[b][g],[a.scaleService.getScaleDefaults(h),i]):f.merge(c[b][g],i)}else f._merger(b,c,d,e)}})},f.where=function(a,b){if(f.isArray(a)&&Array.prototype.filter)return a.filter(b);var c=[];return f.each(a,function(a){b(a)&&c.push(a)}),c},f.findIndex=Array.prototype.findIndex?function(a,b,c){return a.findIndex(b,c)}:function(a,b,c){c=void 0===c?a:c;for(var d=0,e=a.length;d<e;++d)if(b.call(c,a[d],d,a))return d;return-1},f.findNextWhere=function(a,b,c){f.isNullOrUndef(c)&&(c=-1);for(var d=c+1;d<a.length;d++){var e=a[d];if(b(e))return e}},f.findPreviousWhere=function(a,b,c){f.isNullOrUndef(c)&&(c=a.length);for(var d=c-1;d>=0;d--){var e=a[d];if(b(e))return e}},f.isNumber=function(a){return!isNaN(parseFloat(a))&&isFinite(a)},f.almostEquals=function(a,b,c){return Math.abs(a-b)<c},f.almostWhole=function(a,b){var c=Math.round(a);return c-b<a&&c+b>a},f.max=function(a){return a.reduce(function(a,b){return isNaN(b)?a:Math.max(a,b)},Number.NEGATIVE_INFINITY)},f.min=function(a){return a.reduce(function(a,b){return isNaN(b)?a:Math.min(a,b)},Number.POSITIVE_INFINITY)},f.sign=Math.sign?function(a){return Math.sign(a)}:function(a){return a=+a,0===a||isNaN(a)?a:a>0?1:-1},f.log10=Math.log10?function(a){return Math.log10(a)}:function(a){return Math.log(a)/Math.LN10},f.toRadians=function(a){return a*(Math.PI/180)},f.toDegrees=function(a){return a*(180/Math.PI)},f.getAngleFromPoint=function(a,b){var c=b.x-a.x,d=b.y-a.y,e=Math.sqrt(c*c+d*d),f=Math.atan2(d,c);return f<-.5*Math.PI&&(f+=2*Math.PI),{angle:f,distance:e}},f.distanceBetweenPoints=function(a,b){return Math.sqrt(Math.pow(b.x-a.x,2)+Math.pow(b.y-a.y,2))},f.aliasPixel=function(a){return a%2===0?0:.5},f.splineCurve=function(a,b,c,d){var e=a.skip?b:a,f=b,g=c.skip?b:c,h=Math.sqrt(Math.pow(f.x-e.x,2)+Math.pow(f.y-e.y,2)),i=Math.sqrt(Math.pow(g.x-f.x,2)+Math.pow(g.y-f.y,2)),j=h/(h+i),k=i/(h+i);j=isNaN(j)?0:j,k=isNaN(k)?0:k;var l=d*j,m=d*k;return{previous:{x:f.x-l*(g.x-e.x),y:f.y-l*(g.y-e.y)},next:{x:f.x+m*(g.x-e.x),y:f.y+m*(g.y-e.y)}}},f.EPSILON=Number.EPSILON||1e-14,f.splineCurveMonotone=function(a){var b,c,d,e,g=(a||[]).map(function(a){return{model:a._model,deltaK:0,mK:0}}),h=g.length;for(b=0;b<h;++b)if(d=g[b],!d.model.skip){if(c=b>0?g[b-1]:null,e=b<h-1?g[b+1]:null,e&&!e.model.skip){var i=e.model.x-d.model.x;d.deltaK=0!==i?(e.model.y-d.model.y)/i:0}!c||c.model.skip?d.mK=d.deltaK:!e||e.model.skip?d.mK=c.deltaK:this.sign(c.deltaK)!==this.sign(d.deltaK)?d.mK=0:d.mK=(c.deltaK+d.deltaK)/2}var j,k,l,m;for(b=0;b<h-1;++b)d=g[b],e=g[b+1],d.model.skip||e.model.skip||(f.almostEquals(d.deltaK,0,this.EPSILON)?d.mK=e.mK=0:(j=d.mK/d.deltaK,k=e.mK/d.deltaK,m=Math.pow(j,2)+Math.pow(k,2),m<=9||(l=3/Math.sqrt(m),d.mK=j*l*d.deltaK,e.mK=k*l*d.deltaK)));var n;for(b=0;b<h;++b)d=g[b],d.model.skip||(c=b>0?g[b-1]:null,e=b<h-1?g[b+1]:null,c&&!c.model.skip&&(n=(d.model.x-c.model.x)/3,d.model.controlPointPreviousX=d.model.x-n,d.model.controlPointPreviousY=d.model.y-n*d.mK),e&&!e.model.skip&&(n=(e.model.x-d.model.x)/3,d.model.controlPointNextX=d.model.x+n,d.model.controlPointNextY=d.model.y+n*d.mK))},f.nextItem=function(a,b,c){return c?b>=a.length-1?a[0]:a[b+1]:b>=a.length-1?a[a.length-1]:a[b+1]},f.previousItem=function(a,b,c){return c?b<=0?a[a.length-1]:a[b-1]:b<=0?a[0]:a[b-1]},f.niceNum=function(a,b){var c,d=Math.floor(f.log10(a)),e=a/Math.pow(10,d);return c=b?e<1.5?1:e<3?2:e<7?5:10:e<=1?1:e<=2?2:e<=5?5:10,c*Math.pow(10,d)},f.requestAnimFrame=function(){return"undefined"==typeof window?function(a){a()}:window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a){return window.setTimeout(a,1e3/60)}}(),f.getRelativePosition=function(a,b){var c,d,e=a.originalEvent||a,g=a.currentTarget||a.srcElement,h=g.getBoundingClientRect(),i=e.touches;i&&i.length>0?(c=i[0].clientX,d=i[0].clientY):(c=e.clientX,d=e.clientY);var j=parseFloat(f.getStyle(g,"padding-left")),k=parseFloat(f.getStyle(g,"padding-top")),l=parseFloat(f.getStyle(g,"padding-right")),m=parseFloat(f.getStyle(g,"padding-bottom")),n=h.right-h.left-j-l,o=h.bottom-h.top-k-m;return c=Math.round((c-h.left-j)/n*g.width/b.currentDevicePixelRatio),d=Math.round((d-h.top-k)/o*g.height/b.currentDevicePixelRatio),{x:c,y:d}},f.getConstraintWidth=function(a){return g(a,"max-width","clientWidth")},f.getConstraintHeight=function(a){return g(a,"max-height","clientHeight")},f.getMaximumWidth=function(a){var b=a.parentNode;if(!b)return a.clientWidth;var c=parseInt(f.getStyle(b,"padding-left"),10),d=parseInt(f.getStyle(b,"padding-right"),10),e=b.clientWidth-c-d,g=f.getConstraintWidth(a);return isNaN(g)?e:Math.min(e,g)},f.getMaximumHeight=function(a){var b=a.parentNode;if(!b)return a.clientHeight;var c=parseInt(f.getStyle(b,"padding-top"),10),d=parseInt(f.getStyle(b,"padding-bottom"),10),e=b.clientHeight-c-d,g=f.getConstraintHeight(a);return isNaN(g)?e:Math.min(e,g)},f.getStyle=function(a,b){return a.currentStyle?a.currentStyle[b]:document.defaultView.getComputedStyle(a,null).getPropertyValue(b)},f.retinaScale=function(a,b){var c=a.currentDevicePixelRatio=b||window.devicePixelRatio||1;if(1!==c){var d=a.canvas,e=a.height,f=a.width;d.height=e*c,d.width=f*c,a.ctx.scale(c,c),d.style.height=e+"px",d.style.width=f+"px"}},f.fontString=function(a,b,c){return b+" "+a+"px "+c},f.longestText=function(a,b,c,d){d=d||{};var e=d.data=d.data||{},g=d.garbageCollect=d.garbageCollect||[];d.font!==b&&(e=d.data={},g=d.garbageCollect=[],d.font=b),a.font=b;var h=0;f.each(c,function(b){void 0!==b&&null!==b&&f.isArray(b)!==!0?h=f.measureText(a,e,g,h,b):f.isArray(b)&&f.each(b,function(b){void 0===b||null===b||f.isArray(b)||(h=f.measureText(a,e,g,h,b))})});var i=g.length/2;if(i>c.length){for(var j=0;j<i;j++)delete e[g[j]];g.splice(0,i)}return h},f.measureText=function(a,b,c,d,e){var f=b[e];return f||(f=b[e]=a.measureText(e).width,c.push(e)),f>d&&(d=f),d},f.numberOfLabelLines=function(a){var b=1;return f.each(a,function(a){f.isArray(a)&&a.length>b&&(b=a.length)}),b},f.color=d?function(a){return a instanceof CanvasGradient&&(a=e.global.defaultColor),d(a)}:function(a){return console.error("Color.js not found!"),a},f.getHoverColor=function(a){return a instanceof CanvasPattern?a:f.color(a).saturate(.5).darken(.1).rgbString()}}},{25:25,3:3,45:45}],28:[function(a,b,c){"use strict";function d(a,b){return a.native?{x:a.x,y:a.y}:j.getRelativePosition(a,b)}function e(a,b){var c,d,e,f,g,h=a.data.datasets;for(d=0,f=h.length;d<f;++d)if(a.isDatasetVisible(d))for(c=a.getDatasetMeta(d),e=0,g=c.data.length;e<g;++e){var i=c.data[e];i._view.skip||b(i)}}function f(a,b){var c=[];return e(a,function(a){a.inRange(b.x,b.y)&&c.push(a)}),c}function g(a,b,c,d){var f=Number.POSITIVE_INFINITY,g=[];return e(a,function(a){if(!c||a.inRange(b.x,b.y)){var e=a.getCenterPoint(),h=d(b,e);h<f?(g=[a],f=h):h===f&&g.push(a)}}),g}function h(a){var b=a.indexOf("x")!==-1,c=a.indexOf("y")!==-1;return function(a,d){var e=b?Math.abs(a.x-d.x):0,f=c?Math.abs(a.y-d.y):0;return Math.sqrt(Math.pow(e,2)+Math.pow(f,2))}}function i(a,b,c){var e=d(b,a);c.axis=c.axis||"x";var i=h(c.axis),j=c.intersect?f(a,e):g(a,e,!1,i),k=[];return j.length?(a.data.datasets.forEach(function(b,c){if(a.isDatasetVisible(c)){var d=a.getDatasetMeta(c),e=d.data[j[0]._index];e&&!e._view.skip&&k.push(e)}}),k):[]}var j=a(45);b.exports={modes:{single:function(a,b){var c=d(b,a),f=[];return e(a,function(a){if(a.inRange(c.x,c.y))return f.push(a),f}),f.slice(0,1)},label:i,index:i,dataset:function(a,b,c){var e=d(b,a);c.axis=c.axis||"xy";var i=h(c.axis),j=c.intersect?f(a,e):g(a,e,!1,i);return j.length>0&&(j=a.getDatasetMeta(j[0]._datasetIndex).data),j},"x-axis":function(a,b){return i(a,b,{intersect:!1})},point:function(a,b){var c=d(b,a);return f(a,c)},nearest:function(a,b,c){var e=d(b,a);c.axis=c.axis||"xy";var f=h(c.axis),i=g(a,e,c.intersect,f);return i.length>1&&i.sort(function(a,b){var c=a.getArea(),d=b.getArea(),e=c-d;return 0===e&&(e=a._datasetIndex-b._datasetIndex),e}),i.slice(0,1)},x:function(a,b,c){var f=d(b,a),g=[],h=!1;return e(a,function(a){a.inXRange(f.x)&&g.push(a),a.inRange(f.x,f.y)&&(h=!0)}),c.intersect&&!h&&(g=[]),g},y:function(a,b,c){var f=d(b,a),g=[],h=!1;return e(a,function(a){a.inYRange(f.y)&&g.push(a),a.inRange(f.x,f.y)&&(h=!0)}),c.intersect&&!h&&(g=[]),g}}}},{45:45}],29:[function(a,b,c){"use strict";var d=a(25);d._set("global",{responsive:!0,responsiveAnimationDuration:0,maintainAspectRatio:!0,events:["mousemove","mouseout","click","touchstart","touchmove"],hover:{onHover:null,mode:"nearest",intersect:!0,animationDuration:400},onClick:null,defaultColor:"rgba(0,0,0,0.1)",defaultFontColor:"#666",defaultFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",defaultFontSize:12,defaultFontStyle:"normal",showLines:!0,elements:{},layout:{padding:{top:0,right:0,bottom:0,left:0}}}),b.exports=function(){var a=function(a,b){return this.construct(a,b),this};return a.Chart=a,a}},{25:25}],30:[function(a,b,c){"use strict";var d=a(45);b.exports=function(a){function b(a,b){return d.where(a,function(a){return a.position===b})}function c(a,b){a.forEach(function(a,b){return a._tmpIndex_=b,a}),a.sort(function(a,c){var d=b?c:a,e=b?a:c;return d.weight===e.weight?d._tmpIndex_-e._tmpIndex_:d.weight-e.weight}),a.forEach(function(a){delete a._tmpIndex_})}a.layoutService={defaults:{},addBox:function(a,b){a.boxes||(a.boxes=[]),b.fullWidth=b.fullWidth||!1,b.position=b.position||"top",b.weight=b.weight||0,a.boxes.push(b)},removeBox:function(a,b){var c=a.boxes?a.boxes.indexOf(b):-1;c!==-1&&a.boxes.splice(c,1)},configure:function(a,b,c){for(var d,e=["fullWidth","position","weight"],f=e.length,g=0;g<f;++g)d=e[g],c.hasOwnProperty(d)&&(b[d]=c[d])},update:function(a,e,f){function g(a){var b,c=a.isHorizontal();c?(b=a.update(a.fullWidth?v:B,A),C-=b.height):(b=a.update(z,y),B-=b.width),D.push({horizontal:c,minSize:b,box:a})}function h(a){var b=d.findNextWhere(D,function(b){return b.box===a});if(b)if(a.isHorizontal()){var c={left:Math.max(I,E),right:Math.max(J,F),top:0,bottom:0};a.update(a.fullWidth?v:B,w/2,c)}else a.update(b.minSize.width,C)}function i(a){var b=d.findNextWhere(D,function(b){return b.box===a}),c={left:0,right:0,top:K,bottom:L};b&&a.update(b.minSize.width,C,c)}function j(a){a.isHorizontal()?(a.left=a.fullWidth?m:I,a.right=a.fullWidth?e-n:I+B,a.top=R,a.bottom=R+a.height,R=a.bottom):(a.left=Q,a.right=Q+a.width,a.top=K,a.bottom=K+C,Q=a.right)}if(a){var k=a.options.layout||{},l=d.options.toPadding(k.padding),m=l.left,n=l.right,o=l.top,p=l.bottom,q=b(a.boxes,"left"),r=b(a.boxes,"right"),s=b(a.boxes,"top"),t=b(a.boxes,"bottom"),u=b(a.boxes,"chartArea");c(q,!0),c(r,!1),c(s,!0),c(t,!1);var v=e-m-n,w=f-o-p,x=v/2,y=w/2,z=(e-x)/(q.length+r.length),A=(f-y)/(s.length+t.length),B=v,C=w,D=[];d.each(q.concat(r,s,t),g);var E=0,F=0,G=0,H=0;d.each(s.concat(t),function(a){if(a.getPadding){var b=a.getPadding();E=Math.max(E,b.left),F=Math.max(F,b.right)}}),d.each(q.concat(r),function(a){if(a.getPadding){var b=a.getPadding();G=Math.max(G,b.top),H=Math.max(H,b.bottom)}});var I=m,J=n,K=o,L=p;d.each(q.concat(r),h),d.each(q,function(a){I+=a.width}),d.each(r,function(a){J+=a.width}),d.each(s.concat(t),h),d.each(s,function(a){K+=a.height}),d.each(t,function(a){L+=a.height}),d.each(q.concat(r),i),I=m,J=n,K=o,L=p,d.each(q,function(a){I+=a.width}),d.each(r,function(a){J+=a.width}),d.each(s,function(a){K+=a.height}),d.each(t,function(a){L+=a.height});var M=Math.max(E-I,0);I+=M,J+=Math.max(F-J,0);var N=Math.max(G-K,0);K+=N,L+=Math.max(H-L,0);var O=f-K-L,P=e-I-J;P===B&&O===C||(d.each(q,function(a){a.height=O}),d.each(r,function(a){a.height=O}),d.each(s,function(a){a.fullWidth||(a.width=P)}),d.each(t,function(a){a.fullWidth||(a.width=P)}),C=O,B=P);var Q=m+M,R=o+N;d.each(q.concat(s),j),Q+=B,R+=C,d.each(r,j),d.each(t,j),a.chartArea={left:I,top:K,right:I+B,bottom:K+C},d.each(u,function(b){b.left=a.chartArea.left,b.top=a.chartArea.top,b.right=a.chartArea.right,b.bottom=a.chartArea.bottom,b.update(B,C)})}}}}},{45:45}],31:[function(a,b,c){"use strict";var d=a(25),e=a(26),f=a(45);d._set("global",{plugins:{}}),b.exports=function(a){a.plugins={_plugins:[],_cacheId:0,register:function(a){var b=this._plugins;[].concat(a).forEach(function(a){b.indexOf(a)===-1&&b.push(a)}),this._cacheId++},unregister:function(a){var b=this._plugins;[].concat(a).forEach(function(a){var c=b.indexOf(a);c!==-1&&b.splice(c,1)}),this._cacheId++},clear:function(){this._plugins=[],this._cacheId++},count:function(){return this._plugins.length},getAll:function(){return this._plugins},notify:function(a,b,c){var d,e,f,g,h,i=this.descriptors(a),j=i.length;for(d=0;d<j;++d)if(e=i[d],f=e.plugin,h=f[b],"function"==typeof h&&(g=[a].concat(c||[]),g.push(e.options),h.apply(f,g)===!1))return!1;return!0},descriptors:function(a){var b=a._plugins||(a._plugins={});if(b.id===this._cacheId)return b.descriptors;var c=[],e=[],g=a&&a.config||{},h=g.options&&g.options.plugins||{};return this._plugins.concat(g.plugins||[]).forEach(function(a){var b=c.indexOf(a);if(b===-1){var g=a.id,i=h[g];i!==!1&&(i===!0&&(i=f.clone(d.global.plugins[g])),c.push(a),e.push({plugin:a,options:i||{}}))}}),b.descriptors=e,b.id=this._cacheId,e}},a.pluginService=a.plugins,a.PluginBase=e.extend({})}},{25:25,26:26,45:45}],32:[function(a,b,c){"use strict";function d(a){var b,c,d=[];for(b=0,c=a.length;b<c;++b)d.push(a[b].label);return d}function e(a,b,c){var d=a.getPixelForTick(b);return c&&(d-=0===b?(a.getPixelForTick(1)-d)/2:(d-a.getPixelForTick(b-1))/2),d}var f=a(25),g=a(26),h=a(45),i=a(34);f._set("scale",{display:!0,position:"left",offset:!1,gridLines:{display:!0,color:"rgba(0, 0, 0, 0.1)",lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickMarkLength:10,zeroLineWidth:1,zeroLineColor:"rgba(0,0,0,0.25)",zeroLineBorderDash:[],zeroLineBorderDashOffset:0,offsetGridLines:!1,borderDash:[],borderDashOffset:0},scaleLabel:{display:!1,labelString:"",lineHeight:1.2,padding:{top:4,bottom:4}},ticks:{beginAtZero:!1,minRotation:0,maxRotation:50,mirror:!1,padding:0,reverse:!1,display:!0,autoSkip:!0,autoSkipPadding:0,labelOffset:0,callback:i.formatters.values,minor:{},major:{}}}),b.exports=function(a){function b(a,b,c){return h.isArray(b)?h.longestText(a,c,b):a.measureText(b).width}function c(a){var b=h.valueOrDefault,c=f.global,d=b(a.fontSize,c.defaultFontSize),e=b(a.fontStyle,c.defaultFontStyle),g=b(a.fontFamily,c.defaultFontFamily);return{size:d,style:e,family:g,font:h.fontString(d,e,g)}}function i(a){return h.options.toLineHeight(h.valueOrDefault(a.lineHeight,1.2),h.valueOrDefault(a.fontSize,f.global.defaultFontSize))}a.Scale=g.extend({getPadding:function(){var a=this;return{left:a.paddingLeft||0,top:a.paddingTop||0,right:a.paddingRight||0,bottom:a.paddingBottom||0}},getTicks:function(){return this._ticks},mergeTicksOptions:function(){var a=this.options.ticks;a.minor===!1&&(a.minor={display:!1}),a.major===!1&&(a.major={display:!1});for(var b in a)"major"!==b&&"minor"!==b&&("undefined"==typeof a.minor[b]&&(a.minor[b]=a[b]),"undefined"==typeof a.major[b]&&(a.major[b]=a[b]))},beforeUpdate:function(){h.callback(this.options.beforeUpdate,[this])},update:function(a,b,c){var d,e,f,g,i,j,k=this;for(k.beforeUpdate(),k.maxWidth=a,k.maxHeight=b,k.margins=h.extend({left:0,right:0,top:0,bottom:0},c),k.longestTextCache=k.longestTextCache||{},k.beforeSetDimensions(),k.setDimensions(),k.afterSetDimensions(),k.beforeDataLimits(),k.determineDataLimits(),k.afterDataLimits(),k.beforeBuildTicks(),i=k.buildTicks()||[],k.afterBuildTicks(),k.beforeTickToLabelConversion(),f=k.convertTicksToLabels(i)||k.ticks,k.afterTickToLabelConversion(),k.ticks=f,d=0,e=f.length;d<e;++d)g=f[d],j=i[d],j?j.label=g:i.push(j={label:g,major:!1});return k._ticks=i,k.beforeCalculateTickRotation(),k.calculateTickRotation(),k.afterCalculateTickRotation(),k.beforeFit(),k.fit(),k.afterFit(),k.afterUpdate(),k.minSize},afterUpdate:function(){h.callback(this.options.afterUpdate,[this])},beforeSetDimensions:function(){h.callback(this.options.beforeSetDimensions,[this])},setDimensions:function(){var a=this;a.isHorizontal()?(a.width=a.maxWidth,a.left=0,a.right=a.width):(a.height=a.maxHeight,a.top=0,a.bottom=a.height),a.paddingLeft=0,a.paddingTop=0,a.paddingRight=0,a.paddingBottom=0},afterSetDimensions:function(){h.callback(this.options.afterSetDimensions,[this])},beforeDataLimits:function(){h.callback(this.options.beforeDataLimits,[this])},determineDataLimits:h.noop,afterDataLimits:function(){h.callback(this.options.afterDataLimits,[this])},beforeBuildTicks:function(){h.callback(this.options.beforeBuildTicks,[this])},buildTicks:h.noop,afterBuildTicks:function(){h.callback(this.options.afterBuildTicks,[this])},beforeTickToLabelConversion:function(){h.callback(this.options.beforeTickToLabelConversion,[this])},convertTicksToLabels:function(){var a=this,b=a.options.ticks;a.ticks=a.ticks.map(b.userCallback||b.callback,this)},afterTickToLabelConversion:function(){h.callback(this.options.afterTickToLabelConversion,[this])},beforeCalculateTickRotation:function(){h.callback(this.options.beforeCalculateTickRotation,[this])},calculateTickRotation:function(){var a=this,b=a.ctx,e=a.options.ticks,f=d(a._ticks),g=c(e);b.font=g.font;var i=e.minRotation||0;if(f.length&&a.options.display&&a.isHorizontal())for(var j,k,l=h.longestText(b,g.font,f,a.longestTextCache),m=l,n=a.getPixelForTick(1)-a.getPixelForTick(0)-6;m>n&&i<e.maxRotation;){var o=h.toRadians(i);if(j=Math.cos(o),k=Math.sin(o),k*l>a.maxHeight){i--;break}i++,m=j*l}a.labelRotation=i},afterCalculateTickRotation:function(){
h.callback(this.options.afterCalculateTickRotation,[this])},beforeFit:function(){h.callback(this.options.beforeFit,[this])},fit:function(){var a=this,e=a.minSize={width:0,height:0},f=d(a._ticks),g=a.options,j=g.ticks,k=g.scaleLabel,l=g.gridLines,m=g.display,n=a.isHorizontal(),o=c(j),p=g.gridLines.tickMarkLength;if(n?e.width=a.isFullWidth()?a.maxWidth-a.margins.left-a.margins.right:a.maxWidth:e.width=m&&l.drawTicks?p:0,n?e.height=m&&l.drawTicks?p:0:e.height=a.maxHeight,k.display&&m){var q=i(k),r=h.options.toPadding(k.padding),s=q+r.height;n?e.height+=s:e.width+=s}if(j.display&&m){var t=h.longestText(a.ctx,o.font,f,a.longestTextCache),u=h.numberOfLabelLines(f),v=.5*o.size,w=a.options.ticks.padding;if(n){a.longestLabelWidth=t;var x=h.toRadians(a.labelRotation),y=Math.cos(x),z=Math.sin(x),A=z*t+o.size*u+v*(u-1)+v;e.height=Math.min(a.maxHeight,e.height+A+w),a.ctx.font=o.font;var B=b(a.ctx,f[0],o.font),C=b(a.ctx,f[f.length-1],o.font);0!==a.labelRotation?(a.paddingLeft="bottom"===g.position?y*B+3:y*v+3,a.paddingRight="bottom"===g.position?y*v+3:y*C+3):(a.paddingLeft=B/2+3,a.paddingRight=C/2+3)}else j.mirror?t=0:t+=w+v,e.width=Math.min(a.maxWidth,e.width+t),a.paddingTop=o.size/2,a.paddingBottom=o.size/2}a.handleMargins(),a.width=e.width,a.height=e.height},handleMargins:function(){var a=this;a.margins&&(a.paddingLeft=Math.max(a.paddingLeft-a.margins.left,0),a.paddingTop=Math.max(a.paddingTop-a.margins.top,0),a.paddingRight=Math.max(a.paddingRight-a.margins.right,0),a.paddingBottom=Math.max(a.paddingBottom-a.margins.bottom,0))},afterFit:function(){h.callback(this.options.afterFit,[this])},isHorizontal:function(){return"top"===this.options.position||"bottom"===this.options.position},isFullWidth:function(){return this.options.fullWidth},getRightValue:function(a){if(h.isNullOrUndef(a))return NaN;if("number"==typeof a&&!isFinite(a))return NaN;if(a)if(this.isHorizontal()){if(void 0!==a.x)return this.getRightValue(a.x)}else if(void 0!==a.y)return this.getRightValue(a.y);return a},getLabelForIndex:h.noop,getPixelForValue:h.noop,getValueForPixel:h.noop,getPixelForTick:function(a){var b=this,c=b.options.offset;if(b.isHorizontal()){var d=b.width-(b.paddingLeft+b.paddingRight),e=d/Math.max(b._ticks.length-(c?0:1),1),f=e*a+b.paddingLeft;c&&(f+=e/2);var g=b.left+Math.round(f);return g+=b.isFullWidth()?b.margins.left:0}var h=b.height-(b.paddingTop+b.paddingBottom);return b.top+a*(h/(b._ticks.length-1))},getPixelForDecimal:function(a){var b=this;if(b.isHorizontal()){var c=b.width-(b.paddingLeft+b.paddingRight),d=c*a+b.paddingLeft,e=b.left+Math.round(d);return e+=b.isFullWidth()?b.margins.left:0}return b.top+a*b.height},getBasePixel:function(){return this.getPixelForValue(this.getBaseValue())},getBaseValue:function(){var a=this,b=a.min,c=a.max;return a.beginAtZero?0:b<0&&c<0?c:b>0&&c>0?b:0},_autoSkip:function(a){var b,c,d,e,f,g=this,i=g.isHorizontal(),j=g.options.ticks.minor,k=a.length,l=h.toRadians(g.labelRotation),m=Math.cos(l),n=g.longestLabelWidth*m,o=[];for(j.maxTicksLimit&&(f=j.maxTicksLimit),i&&(b=!1,(n+j.autoSkipPadding)*k>g.width-(g.paddingLeft+g.paddingRight)&&(b=1+Math.floor((n+j.autoSkipPadding)*k/(g.width-(g.paddingLeft+g.paddingRight)))),f&&k>f&&(b=Math.max(b,Math.floor(k/f)))),c=0;c<k;c++)d=a[c],e=b>1&&c%b>0||c%b===0&&c+b>=k,e&&c!==k-1&&delete d.label,o.push(d);return o},draw:function(a){var b=this,d=b.options;if(d.display){var g=b.ctx,j=f.global,k=d.ticks.minor,l=d.ticks.major||k,m=d.gridLines,n=d.scaleLabel,o=0!==b.labelRotation,p=b.isHorizontal(),q=k.autoSkip?b._autoSkip(b.getTicks()):b.getTicks(),r=h.valueOrDefault(k.fontColor,j.defaultFontColor),s=c(k),t=h.valueOrDefault(l.fontColor,j.defaultFontColor),u=c(l),v=m.drawTicks?m.tickMarkLength:0,w=h.valueOrDefault(n.fontColor,j.defaultFontColor),x=c(n),y=h.options.toPadding(n.padding),z=h.toRadians(b.labelRotation),A=[],B="right"===d.position?b.left:b.right-v,C="right"===d.position?b.left+v:b.right,D="bottom"===d.position?b.top:b.bottom-v,E="bottom"===d.position?b.top+v:b.bottom;if(h.each(q,function(c,f){if(!h.isNullOrUndef(c.label)){var g,i,l,n,r=c.label;f===b.zeroLineIndex&&d.offset===m.offsetGridLines?(g=m.zeroLineWidth,i=m.zeroLineColor,l=m.zeroLineBorderDash,n=m.zeroLineBorderDashOffset):(g=h.valueAtIndexOrDefault(m.lineWidth,f),i=h.valueAtIndexOrDefault(m.color,f),l=h.valueOrDefault(m.borderDash,j.borderDash),n=h.valueOrDefault(m.borderDashOffset,j.borderDashOffset));var s,t,u,w,x,y,F,G,H,I,J="middle",K="middle",L=k.padding;if(p){var M=v+L;"bottom"===d.position?(K=o?"middle":"top",J=o?"right":"center",I=b.top+M):(K=o?"middle":"bottom",J=o?"left":"center",I=b.bottom-M);var N=e(b,f,m.offsetGridLines&&q.length>1);N<b.left&&(i="rgba(0,0,0,0)"),N+=h.aliasPixel(g),H=b.getPixelForTick(f)+k.labelOffset,s=u=x=F=N,t=D,w=E,y=a.top,G=a.bottom}else{var O,P="left"===d.position;k.mirror?(J=P?"left":"right",O=L):(J=P?"right":"left",O=v+L),H=P?b.right-O:b.left+O;var Q=e(b,f,m.offsetGridLines&&q.length>1);Q<b.top&&(i="rgba(0,0,0,0)"),Q+=h.aliasPixel(g),I=b.getPixelForTick(f)+k.labelOffset,s=B,u=C,x=a.left,F=a.right,t=w=y=G=Q}A.push({tx1:s,ty1:t,tx2:u,ty2:w,x1:x,y1:y,x2:F,y2:G,labelX:H,labelY:I,glWidth:g,glColor:i,glBorderDash:l,glBorderDashOffset:n,rotation:-1*z,label:r,major:c.major,textBaseline:K,textAlign:J})}}),h.each(A,function(a){if(m.display&&(g.save(),g.lineWidth=a.glWidth,g.strokeStyle=a.glColor,g.setLineDash&&(g.setLineDash(a.glBorderDash),g.lineDashOffset=a.glBorderDashOffset),g.beginPath(),m.drawTicks&&(g.moveTo(a.tx1,a.ty1),g.lineTo(a.tx2,a.ty2)),m.drawOnChartArea&&(g.moveTo(a.x1,a.y1),g.lineTo(a.x2,a.y2)),g.stroke(),g.restore()),k.display){g.save(),g.translate(a.labelX,a.labelY),g.rotate(a.rotation),g.font=a.major?u.font:s.font,g.fillStyle=a.major?t:r,g.textBaseline=a.textBaseline,g.textAlign=a.textAlign;var b=a.label;if(h.isArray(b))for(var c=0,d=0;c<b.length;++c)g.fillText(""+b[c],0,d),d+=1.5*s.size;else g.fillText(b,0,0);g.restore()}}),n.display){var F,G,H=0,I=i(n)/2;if(p)F=b.left+(b.right-b.left)/2,G="bottom"===d.position?b.bottom-I-y.bottom:b.top+I+y.top;else{var J="left"===d.position;F=J?b.left+I+y.top:b.right-I-y.top,G=b.top+(b.bottom-b.top)/2,H=J?-.5*Math.PI:.5*Math.PI}g.save(),g.translate(F,G),g.rotate(H),g.textAlign="center",g.textBaseline="middle",g.fillStyle=w,g.font=x.font,g.fillText(n.labelString,0,0),g.restore()}if(m.drawBorder){g.lineWidth=h.valueAtIndexOrDefault(m.lineWidth,0),g.strokeStyle=h.valueAtIndexOrDefault(m.color,0);var K=b.left,L=b.right,M=b.top,N=b.bottom,O=h.aliasPixel(g.lineWidth);p?(M=N="top"===d.position?b.bottom:b.top,M+=O,N+=O):(K=L="left"===d.position?b.right:b.left,K+=O,L+=O),g.beginPath(),g.moveTo(K,M),g.lineTo(L,N),g.stroke()}}}})}},{25:25,26:26,34:34,45:45}],33:[function(a,b,c){"use strict";var d=a(25),e=a(45);b.exports=function(a){a.scaleService={constructors:{},defaults:{},registerScaleType:function(a,b,c){this.constructors[a]=b,this.defaults[a]=e.clone(c)},getScaleConstructor:function(a){return this.constructors.hasOwnProperty(a)?this.constructors[a]:void 0},getScaleDefaults:function(a){return this.defaults.hasOwnProperty(a)?e.merge({},[d.scale,this.defaults[a]]):{}},updateScaleDefaults:function(a,b){var c=this;c.defaults.hasOwnProperty(a)&&(c.defaults[a]=e.extend(c.defaults[a],b))},addScalesToLayout:function(b){e.each(b.scales,function(c){c.fullWidth=c.options.fullWidth,c.position=c.options.position,c.weight=c.options.weight,a.layoutService.addBox(b,c)})}}}},{25:25,45:45}],34:[function(a,b,c){"use strict";var d=a(45);b.exports={generators:{linear:function(a,b){var c,e=[];if(a.stepSize&&a.stepSize>0)c=a.stepSize;else{var f=d.niceNum(b.max-b.min,!1);c=d.niceNum(f/(a.maxTicks-1),!0)}var g=Math.floor(b.min/c)*c,h=Math.ceil(b.max/c)*c;a.min&&a.max&&a.stepSize&&d.almostWhole((a.max-a.min)/a.stepSize,c/1e3)&&(g=a.min,h=a.max);var i=(h-g)/c;i=d.almostEquals(i,Math.round(i),c/1e3)?Math.round(i):Math.ceil(i),e.push(void 0!==a.min?a.min:g);for(var j=1;j<i;++j)e.push(g+j*c);return e.push(void 0!==a.max?a.max:h),e},logarithmic:function(a,b){var c,e,f=[],g=d.valueOrDefault,h=g(a.min,Math.pow(10,Math.floor(d.log10(b.min)))),i=Math.floor(d.log10(b.max)),j=Math.ceil(b.max/Math.pow(10,i));0===h?(c=Math.floor(d.log10(b.minNotZero)),e=Math.floor(b.minNotZero/Math.pow(10,c)),f.push(h),h=e*Math.pow(10,c)):(c=Math.floor(d.log10(h)),e=Math.floor(h/Math.pow(10,c)));do f.push(h),++e,10===e&&(e=1,++c),h=e*Math.pow(10,c);while(c<i||c===i&&e<j);var k=g(a.max,h);return f.push(k),f}},formatters:{values:function(a){return d.isArray(a)?a:""+a},linear:function(a,b,c){var e=c.length>3?c[2]-c[1]:c[1]-c[0];Math.abs(e)>1&&a!==Math.floor(a)&&(e=a-Math.floor(a));var f=d.log10(Math.abs(e)),g="";if(0!==a){var h=-1*Math.floor(f);h=Math.max(Math.min(h,20),0),g=a.toFixed(h)}else g="0";return g},logarithmic:function(a,b,c){var e=a/Math.pow(10,Math.floor(d.log10(a)));return 0===a?"0":1===e||2===e||5===e||0===b||b===c.length-1?a.toExponential():""}}}},{45:45}],35:[function(a,b,c){"use strict";var d=a(25),e=a(26),f=a(45);d._set("global",{tooltips:{enabled:!0,custom:null,mode:"nearest",position:"average",intersect:!0,backgroundColor:"rgba(0,0,0,0.8)",titleFontStyle:"bold",titleSpacing:2,titleMarginBottom:6,titleFontColor:"#fff",titleAlign:"left",bodySpacing:2,bodyFontColor:"#fff",bodyAlign:"left",footerFontStyle:"bold",footerSpacing:2,footerMarginTop:6,footerFontColor:"#fff",footerAlign:"left",yPadding:6,xPadding:6,caretPadding:2,caretSize:5,cornerRadius:6,multiKeyBackground:"#fff",displayColors:!0,borderColor:"rgba(0,0,0,0)",borderWidth:0,callbacks:{beforeTitle:f.noop,title:function(a,b){var c="",d=b.labels,e=d?d.length:0;if(a.length>0){var f=a[0];f.xLabel?c=f.xLabel:e>0&&f.index<e&&(c=d[f.index])}return c},afterTitle:f.noop,beforeBody:f.noop,beforeLabel:f.noop,label:function(a,b){var c=b.datasets[a.datasetIndex].label||"";return c&&(c+=": "),c+=a.yLabel},labelColor:function(a,b){var c=b.getDatasetMeta(a.datasetIndex),d=c.data[a.index],e=d._view;return{borderColor:e.borderColor,backgroundColor:e.backgroundColor}},labelTextColor:function(){return this._options.bodyFontColor},afterLabel:f.noop,afterBody:f.noop,beforeFooter:f.noop,footer:f.noop,afterFooter:f.noop}}}),b.exports=function(a){function b(a,b){var c=f.color(a);return c.alpha(b*c.alpha()).rgbaString()}function c(a,b){return b&&(f.isArray(b)?Array.prototype.push.apply(a,b):a.push(b)),a}function g(a){var b=a._xScale,c=a._yScale||a._scale,d=a._index,e=a._datasetIndex;return{xLabel:b?b.getLabelForIndex(d,e):"",yLabel:c?c.getLabelForIndex(d,e):"",index:d,datasetIndex:e,x:a._model.x,y:a._model.y}}function h(a){var b=d.global,c=f.valueOrDefault;return{xPadding:a.xPadding,yPadding:a.yPadding,xAlign:a.xAlign,yAlign:a.yAlign,bodyFontColor:a.bodyFontColor,_bodyFontFamily:c(a.bodyFontFamily,b.defaultFontFamily),_bodyFontStyle:c(a.bodyFontStyle,b.defaultFontStyle),_bodyAlign:a.bodyAlign,bodyFontSize:c(a.bodyFontSize,b.defaultFontSize),bodySpacing:a.bodySpacing,titleFontColor:a.titleFontColor,_titleFontFamily:c(a.titleFontFamily,b.defaultFontFamily),_titleFontStyle:c(a.titleFontStyle,b.defaultFontStyle),titleFontSize:c(a.titleFontSize,b.defaultFontSize),_titleAlign:a.titleAlign,titleSpacing:a.titleSpacing,titleMarginBottom:a.titleMarginBottom,footerFontColor:a.footerFontColor,_footerFontFamily:c(a.footerFontFamily,b.defaultFontFamily),_footerFontStyle:c(a.footerFontStyle,b.defaultFontStyle),footerFontSize:c(a.footerFontSize,b.defaultFontSize),_footerAlign:a.footerAlign,footerSpacing:a.footerSpacing,footerMarginTop:a.footerMarginTop,caretSize:a.caretSize,cornerRadius:a.cornerRadius,backgroundColor:a.backgroundColor,opacity:0,legendColorBackground:a.multiKeyBackground,displayColors:a.displayColors,borderColor:a.borderColor,borderWidth:a.borderWidth}}function i(a,b){var c=a._chart.ctx,d=2*b.yPadding,e=0,g=b.body,h=g.reduce(function(a,b){return a+b.before.length+b.lines.length+b.after.length},0);h+=b.beforeBody.length+b.afterBody.length;var i=b.title.length,j=b.footer.length,k=b.titleFontSize,l=b.bodyFontSize,m=b.footerFontSize;d+=i*k,d+=i?(i-1)*b.titleSpacing:0,d+=i?b.titleMarginBottom:0,d+=h*l,d+=h?(h-1)*b.bodySpacing:0,d+=j?b.footerMarginTop:0,d+=j*m,d+=j?(j-1)*b.footerSpacing:0;var n=0,o=function(a){e=Math.max(e,c.measureText(a).width+n)};return c.font=f.fontString(k,b._titleFontStyle,b._titleFontFamily),f.each(b.title,o),c.font=f.fontString(l,b._bodyFontStyle,b._bodyFontFamily),f.each(b.beforeBody.concat(b.afterBody),o),n=b.displayColors?l+2:0,f.each(g,function(a){f.each(a.before,o),f.each(a.lines,o),f.each(a.after,o)}),n=0,c.font=f.fontString(m,b._footerFontStyle,b._footerFontFamily),f.each(b.footer,o),e+=2*b.xPadding,{width:e,height:d}}function j(a,b){var c=a._model,d=a._chart,e=a._chart.chartArea,f="center",g="center";c.y<b.height?g="top":c.y>d.height-b.height&&(g="bottom");var h,i,j,k,l,m=(e.left+e.right)/2,n=(e.top+e.bottom)/2;"center"===g?(h=function(a){return a<=m},i=function(a){return a>m}):(h=function(a){return a<=b.width/2},i=function(a){return a>=d.width-b.width/2}),j=function(a){return a+b.width>d.width},k=function(a){return a-b.width<0},l=function(a){return a<=n?"top":"bottom"},h(c.x)?(f="left",j(c.x)&&(f="center",g=l(c.y))):i(c.x)&&(f="right",k(c.x)&&(f="center",g=l(c.y)));var o=a._options;return{xAlign:o.xAlign?o.xAlign:f,yAlign:o.yAlign?o.yAlign:g}}function k(a,b,c){var d=a.x,e=a.y,f=a.caretSize,g=a.caretPadding,h=a.cornerRadius,i=c.xAlign,j=c.yAlign,k=f+g,l=h+g;return"right"===i?d-=b.width:"center"===i&&(d-=b.width/2),"top"===j?e+=k:e-="bottom"===j?b.height+k:b.height/2,"center"===j?"left"===i?d+=k:"right"===i&&(d-=k):"left"===i?d-=l:"right"===i&&(d+=l),{x:d,y:e}}a.Tooltip=e.extend({initialize:function(){this._model=h(this._options),this._lastActive=[]},getTitle:function(){var a=this,b=a._options,d=b.callbacks,e=d.beforeTitle.apply(a,arguments),f=d.title.apply(a,arguments),g=d.afterTitle.apply(a,arguments),h=[];return h=c(h,e),h=c(h,f),h=c(h,g)},getBeforeBody:function(){var a=this._options.callbacks.beforeBody.apply(this,arguments);return f.isArray(a)?a:void 0!==a?[a]:[]},getBody:function(a,b){var d=this,e=d._options.callbacks,g=[];return f.each(a,function(a){var f={before:[],lines:[],after:[]};c(f.before,e.beforeLabel.call(d,a,b)),c(f.lines,e.label.call(d,a,b)),c(f.after,e.afterLabel.call(d,a,b)),g.push(f)}),g},getAfterBody:function(){var a=this._options.callbacks.afterBody.apply(this,arguments);return f.isArray(a)?a:void 0!==a?[a]:[]},getFooter:function(){var a=this,b=a._options.callbacks,d=b.beforeFooter.apply(a,arguments),e=b.footer.apply(a,arguments),f=b.afterFooter.apply(a,arguments),g=[];return g=c(g,d),g=c(g,e),g=c(g,f)},update:function(b){var c,d,e=this,l=e._options,m=e._model,n=e._model=h(l),o=e._active,p=e._data,q={xAlign:m.xAlign,yAlign:m.yAlign},r={x:m.x,y:m.y},s={width:m.width,height:m.height},t={x:m.caretX,y:m.caretY};if(o.length){n.opacity=1;var u=[],v=[];t=a.Tooltip.positioners[l.position].call(e,o,e._eventPosition);var w=[];for(c=0,d=o.length;c<d;++c)w.push(g(o[c]));l.filter&&(w=w.filter(function(a){return l.filter(a,p)})),l.itemSort&&(w=w.sort(function(a,b){return l.itemSort(a,b,p)})),f.each(w,function(a){u.push(l.callbacks.labelColor.call(e,a,e._chart)),v.push(l.callbacks.labelTextColor.call(e,a,e._chart))}),n.title=e.getTitle(w,p),n.beforeBody=e.getBeforeBody(w,p),n.body=e.getBody(w,p),n.afterBody=e.getAfterBody(w,p),n.footer=e.getFooter(w,p),n.x=Math.round(t.x),n.y=Math.round(t.y),n.caretPadding=l.caretPadding,n.labelColors=u,n.labelTextColors=v,n.dataPoints=w,s=i(this,n),q=j(this,s),r=k(n,s,q)}else n.opacity=0;return n.xAlign=q.xAlign,n.yAlign=q.yAlign,n.x=r.x,n.y=r.y,n.width=s.width,n.height=s.height,n.caretX=t.x,n.caretY=t.y,e._model=n,b&&l.custom&&l.custom.call(e,n),e},drawCaret:function(a,b){var c=this._chart.ctx,d=this._view,e=this.getCaretPosition(a,b,d);c.lineTo(e.x1,e.y1),c.lineTo(e.x2,e.y2),c.lineTo(e.x3,e.y3)},getCaretPosition:function(a,b,c){var d,e,f,g,h,i,j=c.caretSize,k=c.cornerRadius,l=c.xAlign,m=c.yAlign,n=a.x,o=a.y,p=b.width,q=b.height;if("center"===m)h=o+q/2,"left"===l?(d=n,e=d-j,f=d,g=h+j,i=h-j):(d=n+p,e=d+j,f=d,g=h-j,i=h+j);else if("left"===l?(e=n+k+j,d=e-j,f=e+j):"right"===l?(e=n+p-k-j,d=e-j,f=e+j):(e=n+p/2,d=e-j,f=e+j),"top"===m)g=o,h=g-j,i=g;else{g=o+q,h=g+j,i=g;var r=f;f=d,d=r}return{x1:d,x2:e,x3:f,y1:g,y2:h,y3:i}},drawTitle:function(a,c,d,e){var g=c.title;if(g.length){d.textAlign=c._titleAlign,d.textBaseline="top";var h=c.titleFontSize,i=c.titleSpacing;d.fillStyle=b(c.titleFontColor,e),d.font=f.fontString(h,c._titleFontStyle,c._titleFontFamily);var j,k;for(j=0,k=g.length;j<k;++j)d.fillText(g[j],a.x,a.y),a.y+=h+i,j+1===g.length&&(a.y+=c.titleMarginBottom-i)}},drawBody:function(a,c,d,e){var g=c.bodyFontSize,h=c.bodySpacing,i=c.body;d.textAlign=c._bodyAlign,d.textBaseline="top",d.font=f.fontString(g,c._bodyFontStyle,c._bodyFontFamily);var j=0,k=function(b){d.fillText(b,a.x+j,a.y),a.y+=g+h};d.fillStyle=b(c.bodyFontColor,e),f.each(c.beforeBody,k);var l=c.displayColors;j=l?g+2:0,f.each(i,function(h,i){var j=b(c.labelTextColors[i],e);d.fillStyle=j,f.each(h.before,k),f.each(h.lines,function(f){l&&(d.fillStyle=b(c.legendColorBackground,e),d.fillRect(a.x,a.y,g,g),d.lineWidth=1,d.strokeStyle=b(c.labelColors[i].borderColor,e),d.strokeRect(a.x,a.y,g,g),d.fillStyle=b(c.labelColors[i].backgroundColor,e),d.fillRect(a.x+1,a.y+1,g-2,g-2),d.fillStyle=j),k(f)}),f.each(h.after,k)}),j=0,f.each(c.afterBody,k),a.y-=h},drawFooter:function(a,c,d,e){var g=c.footer;g.length&&(a.y+=c.footerMarginTop,d.textAlign=c._footerAlign,d.textBaseline="top",d.fillStyle=b(c.footerFontColor,e),d.font=f.fontString(c.footerFontSize,c._footerFontStyle,c._footerFontFamily),f.each(g,function(b){d.fillText(b,a.x,a.y),a.y+=c.footerFontSize+c.footerSpacing}))},drawBackground:function(a,c,d,e,f){d.fillStyle=b(c.backgroundColor,f),d.strokeStyle=b(c.borderColor,f),d.lineWidth=c.borderWidth;var g=c.xAlign,h=c.yAlign,i=a.x,j=a.y,k=e.width,l=e.height,m=c.cornerRadius;d.beginPath(),d.moveTo(i+m,j),"top"===h&&this.drawCaret(a,e),d.lineTo(i+k-m,j),d.quadraticCurveTo(i+k,j,i+k,j+m),"center"===h&&"right"===g&&this.drawCaret(a,e),d.lineTo(i+k,j+l-m),d.quadraticCurveTo(i+k,j+l,i+k-m,j+l),"bottom"===h&&this.drawCaret(a,e),d.lineTo(i+m,j+l),d.quadraticCurveTo(i,j+l,i,j+l-m),"center"===h&&"left"===g&&this.drawCaret(a,e),d.lineTo(i,j+m),d.quadraticCurveTo(i,j,i+m,j),d.closePath(),d.fill(),c.borderWidth>0&&d.stroke()},draw:function(){var a=this._chart.ctx,b=this._view;if(0!==b.opacity){var c={width:b.width,height:b.height},d={x:b.x,y:b.y},e=Math.abs(b.opacity<.001)?0:b.opacity,f=b.title.length||b.beforeBody.length||b.body.length||b.afterBody.length||b.footer.length;this._options.enabled&&f&&(this.drawBackground(d,b,a,c,e),d.x+=b.xPadding,d.y+=b.yPadding,this.drawTitle(d,b,a,e),this.drawBody(d,b,a,e),this.drawFooter(d,b,a,e))}},handleEvent:function(a){var b=this,c=b._options,d=!1;if(b._lastActive=b._lastActive||[],"mouseout"===a.type?b._active=[]:b._active=b._chart.getElementsAtEventForMode(a,c.mode,c),d=!f.arrayEquals(b._active,b._lastActive),!d)return!1;if(b._lastActive=b._active,c.enabled||c.custom){b._eventPosition={x:a.x,y:a.y};var e=b._model;b.update(!0),b.pivot(),d|=e.x!==b._model.x||e.y!==b._model.y}return d}}),a.Tooltip.positioners={average:function(a){if(!a.length)return!1;var b,c,d=0,e=0,f=0;for(b=0,c=a.length;b<c;++b){var g=a[b];if(g&&g.hasValue()){var h=g.tooltipPosition();d+=h.x,e+=h.y,++f}}return{x:Math.round(d/f),y:Math.round(e/f)}},nearest:function(a,b){var c,d,e,g=b.x,h=b.y,i=Number.POSITIVE_INFINITY;for(c=0,d=a.length;c<d;++c){var j=a[c];if(j&&j.hasValue()){var k=j.getCenterPoint(),l=f.distanceBetweenPoints(b,k);l<i&&(i=l,e=j)}}if(e){var m=e.tooltipPosition();g=m.x,h=m.y}return{x:g,y:h}}}}},{25:25,26:26,45:45}],36:[function(a,b,c){"use strict";var d=a(25),e=a(26),f=a(45);d._set("global",{elements:{arc:{backgroundColor:d.global.defaultColor,borderColor:"#fff",borderWidth:2}}}),b.exports=e.extend({inLabelRange:function(a){var b=this._view;return!!b&&Math.pow(a-b.x,2)<Math.pow(b.radius+b.hoverRadius,2)},inRange:function(a,b){var c=this._view;if(c){for(var d=f.getAngleFromPoint(c,{x:a,y:b}),e=d.angle,g=d.distance,h=c.startAngle,i=c.endAngle;i<h;)i+=2*Math.PI;for(;e>i;)e-=2*Math.PI;for(;e<h;)e+=2*Math.PI;var j=e>=h&&e<=i,k=g>=c.innerRadius&&g<=c.outerRadius;return j&&k}return!1},getCenterPoint:function(){var a=this._view,b=(a.startAngle+a.endAngle)/2,c=(a.innerRadius+a.outerRadius)/2;return{x:a.x+Math.cos(b)*c,y:a.y+Math.sin(b)*c}},getArea:function(){var a=this._view;return Math.PI*((a.endAngle-a.startAngle)/(2*Math.PI))*(Math.pow(a.outerRadius,2)-Math.pow(a.innerRadius,2))},tooltipPosition:function(){var a=this._view,b=a.startAngle+(a.endAngle-a.startAngle)/2,c=(a.outerRadius-a.innerRadius)/2+a.innerRadius;return{x:a.x+Math.cos(b)*c,y:a.y+Math.sin(b)*c}},draw:function(){var a=this._chart.ctx,b=this._view,c=b.startAngle,d=b.endAngle;a.beginPath(),a.arc(b.x,b.y,b.outerRadius,c,d),a.arc(b.x,b.y,b.innerRadius,d,c,!0),a.closePath(),a.strokeStyle=b.borderColor,a.lineWidth=b.borderWidth,a.fillStyle=b.backgroundColor,a.fill(),a.lineJoin="bevel",b.borderWidth&&a.stroke()}})},{25:25,26:26,45:45}],37:[function(a,b,c){"use strict";var d=a(25),e=a(26),f=a(45),g=d.global;d._set("global",{elements:{line:{tension:.4,backgroundColor:g.defaultColor,borderWidth:3,borderColor:g.defaultColor,borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",capBezierPoints:!0,fill:!0}}}),b.exports=e.extend({draw:function(){var a,b,c,d,e=this,h=e._view,i=e._chart.ctx,j=h.spanGaps,k=e._children.slice(),l=g.elements.line,m=-1;for(e._loop&&k.length&&k.push(k[0]),i.save(),i.lineCap=h.borderCapStyle||l.borderCapStyle,i.setLineDash&&i.setLineDash(h.borderDash||l.borderDash),i.lineDashOffset=h.borderDashOffset||l.borderDashOffset,i.lineJoin=h.borderJoinStyle||l.borderJoinStyle,i.lineWidth=h.borderWidth||l.borderWidth,i.strokeStyle=h.borderColor||g.defaultColor,i.beginPath(),m=-1,a=0;a<k.length;++a)b=k[a],c=f.previousItem(k,a),d=b._view,0===a?d.skip||(i.moveTo(d.x,d.y),m=a):(c=m===-1?c:k[m],d.skip||(m!==a-1&&!j||m===-1?i.moveTo(d.x,d.y):f.canvas.lineTo(i,c._view,b._view),m=a));i.stroke(),i.restore()}})},{25:25,26:26,45:45}],38:[function(a,b,c){"use strict";function d(a){var b=this._view;return!!b&&Math.pow(a-b.x,2)<Math.pow(b.radius+b.hitRadius,2)}function e(a){var b=this._view;return!!b&&Math.pow(a-b.y,2)<Math.pow(b.radius+b.hitRadius,2)}var f=a(25),g=a(26),h=a(45),i=f.global.defaultColor;f._set("global",{elements:{point:{radius:3,pointStyle:"circle",backgroundColor:i,borderColor:i,borderWidth:1,hitRadius:1,hoverRadius:4,hoverBorderWidth:1}}}),b.exports=g.extend({inRange:function(a,b){var c=this._view;return!!c&&Math.pow(a-c.x,2)+Math.pow(b-c.y,2)<Math.pow(c.hitRadius+c.radius,2)},inLabelRange:d,inXRange:d,inYRange:e,getCenterPoint:function(){var a=this._view;return{x:a.x,y:a.y}},getArea:function(){return Math.PI*Math.pow(this._view.radius,2)},tooltipPosition:function(){var a=this._view;return{x:a.x,y:a.y,padding:a.radius+a.borderWidth}},draw:function(a){var b=this._view,c=this._model,d=this._chart.ctx,e=b.pointStyle,g=b.radius,j=b.x,k=b.y,l=h.color,m=1.01,n=0;b.skip||(d.strokeStyle=b.borderColor||i,d.lineWidth=h.valueOrDefault(b.borderWidth,f.global.elements.point.borderWidth),d.fillStyle=b.backgroundColor||i,void 0!==a&&(c.x<a.left||a.right*m<c.x||c.y<a.top||a.bottom*m<c.y)&&(c.x<a.left?n=(j-c.x)/(a.left-c.x):a.right*m<c.x?n=(c.x-j)/(c.x-a.right):c.y<a.top?n=(k-c.y)/(a.top-c.y):a.bottom*m<c.y&&(n=(c.y-k)/(c.y-a.bottom)),n=Math.round(100*n)/100,d.strokeStyle=l(d.strokeStyle).alpha(n).rgbString(),d.fillStyle=l(d.fillStyle).alpha(n).rgbString()),h.canvas.drawPoint(d,e,g,j,k))}})},{25:25,26:26,45:45}],39:[function(a,b,c){"use strict";function d(a){return void 0!==a._view.width}function e(a){var b,c,e,f,g=a._view;if(d(a)){var h=g.width/2;b=g.x-h,c=g.x+h,e=Math.min(g.y,g.base),f=Math.max(g.y,g.base)}else{var i=g.height/2;b=Math.min(g.x,g.base),c=Math.max(g.x,g.base),e=g.y-i,f=g.y+i}return{left:b,top:e,right:c,bottom:f}}var f=a(25),g=a(26);f._set("global",{elements:{rectangle:{backgroundColor:f.global.defaultColor,borderColor:f.global.defaultColor,borderSkipped:"bottom",borderWidth:0}}}),b.exports=g.extend({draw:function(){function a(a){return r[(t+a)%4]}var b,c,d,e,f,g,h,i=this._chart.ctx,j=this._view,k=j.borderWidth;if(j.horizontal?(b=j.base,c=j.x,d=j.y-j.height/2,e=j.y+j.height/2,f=c>b?1:-1,g=1,h=j.borderSkipped||"left"):(b=j.x-j.width/2,c=j.x+j.width/2,d=j.y,e=j.base,f=1,g=e>d?1:-1,h=j.borderSkipped||"bottom"),k){var l=Math.min(Math.abs(b-c),Math.abs(d-e));k=k>l?l:k;var m=k/2,n=b+("left"!==h?m*f:0),o=c+("right"!==h?-m*f:0),p=d+("top"!==h?m*g:0),q=e+("bottom"!==h?-m*g:0);n!==o&&(d=p,e=q),p!==q&&(b=n,c=o)}i.beginPath(),i.fillStyle=j.backgroundColor,i.strokeStyle=j.borderColor,i.lineWidth=k;var r=[[b,e],[b,d],[c,d],[c,e]],s=["bottom","left","top","right"],t=s.indexOf(h,0);t===-1&&(t=0);var u=a(0);i.moveTo(u[0],u[1]);for(var v=1;v<4;v++)u=a(v),i.lineTo(u[0],u[1]);i.fill(),k&&i.stroke()},height:function(){var a=this._view;return a.base-a.y},inRange:function(a,b){var c=!1;if(this._view){var d=e(this);c=a>=d.left&&a<=d.right&&b>=d.top&&b<=d.bottom}return c},inLabelRange:function(a,b){var c=this;if(!c._view)return!1;var f=!1,g=e(c);return f=d(c)?a>=g.left&&a<=g.right:b>=g.top&&b<=g.bottom},inXRange:function(a){var b=e(this);return a>=b.left&&a<=b.right},inYRange:function(a){var b=e(this);return a>=b.top&&a<=b.bottom},getCenterPoint:function(){var a,b,c=this._view;return d(this)?(a=c.x,b=(c.y+c.base)/2):(a=(c.x+c.base)/2,b=c.y),{x:a,y:b}},getArea:function(){var a=this._view;return a.width*Math.abs(a.y-a.base)},tooltipPosition:function(){var a=this._view;return{x:a.x,y:a.y}}})},{25:25,26:26}],40:[function(a,b,c){"use strict";b.exports={},b.exports.Arc=a(36),b.exports.Line=a(37),b.exports.Point=a(38),b.exports.Rectangle=a(39)},{36:36,37:37,38:38,39:39}],41:[function(a,b,c){"use strict";var d=a(42),c=b.exports={clear:function(a){a.ctx.clearRect(0,0,a.width,a.height)},roundedRect:function(a,b,c,d,e,f){if(f){var g=Math.min(f,d/2),h=Math.min(f,e/2);a.moveTo(b+g,c),a.lineTo(b+d-g,c),a.quadraticCurveTo(b+d,c,b+d,c+h),a.lineTo(b+d,c+e-h),a.quadraticCurveTo(b+d,c+e,b+d-g,c+e),a.lineTo(b+g,c+e),a.quadraticCurveTo(b,c+e,b,c+e-h),a.lineTo(b,c+h),a.quadraticCurveTo(b,c,b+g,c)}else a.rect(b,c,d,e)},drawPoint:function(a,b,c,d,e){var f,g,h,i,j,k;if(b&&"object"==typeof b&&(f=b.toString(),"[object HTMLImageElement]"===f||"[object HTMLCanvasElement]"===f))return void a.drawImage(b,d-b.width/2,e-b.height/2,b.width,b.height);if(!(isNaN(c)||c<=0)){switch(b){default:a.beginPath(),a.arc(d,e,c,0,2*Math.PI),a.closePath(),a.fill();break;case"triangle":a.beginPath(),g=3*c/Math.sqrt(3),j=g*Math.sqrt(3)/2,a.moveTo(d-g/2,e+j/3),a.lineTo(d+g/2,e+j/3),a.lineTo(d,e-2*j/3),a.closePath(),a.fill();break;case"rect":k=1/Math.SQRT2*c,a.beginPath(),a.fillRect(d-k,e-k,2*k,2*k),a.strokeRect(d-k,e-k,2*k,2*k);break;case"rectRounded":var l=c/Math.SQRT2,m=d-l,n=e-l,o=Math.SQRT2*c;a.beginPath(),this.roundedRect(a,m,n,o,o,c/2),a.closePath(),a.fill();break;case"rectRot":k=1/Math.SQRT2*c,a.beginPath(),a.moveTo(d-k,e),a.lineTo(d,e+k),a.lineTo(d+k,e),a.lineTo(d,e-k),a.closePath(),a.fill();break;case"cross":a.beginPath(),a.moveTo(d,e+c),a.lineTo(d,e-c),a.moveTo(d-c,e),a.lineTo(d+c,e),a.closePath();break;case"crossRot":a.beginPath(),h=Math.cos(Math.PI/4)*c,i=Math.sin(Math.PI/4)*c,a.moveTo(d-h,e-i),a.lineTo(d+h,e+i),a.moveTo(d-h,e+i),a.lineTo(d+h,e-i),a.closePath();break;case"star":a.beginPath(),a.moveTo(d,e+c),a.lineTo(d,e-c),a.moveTo(d-c,e),a.lineTo(d+c,e),h=Math.cos(Math.PI/4)*c,i=Math.sin(Math.PI/4)*c,a.moveTo(d-h,e-i),a.lineTo(d+h,e+i),a.moveTo(d-h,e+i),a.lineTo(d+h,e-i),a.closePath();break;case"line":a.beginPath(),a.moveTo(d-c,e),a.lineTo(d+c,e),a.closePath();break;case"dash":a.beginPath(),a.moveTo(d,e),a.lineTo(d+c,e),a.closePath()}a.stroke()}},clipArea:function(a,b){a.save(),a.beginPath(),a.rect(b.left,b.top,b.right-b.left,b.bottom-b.top),a.clip()},unclipArea:function(a){a.restore()},lineTo:function(a,b,c,d){return c.steppedLine?("after"===c.steppedLine&&!d||"after"!==c.steppedLine&&d?a.lineTo(b.x,c.y):a.lineTo(c.x,b.y),void a.lineTo(c.x,c.y)):c.tension?void a.bezierCurveTo(d?b.controlPointPreviousX:b.controlPointNextX,d?b.controlPointPreviousY:b.controlPointNextY,d?c.controlPointNextX:c.controlPointPreviousX,d?c.controlPointNextY:c.controlPointPreviousY,c.x,c.y):void a.lineTo(c.x,c.y)}};d.clear=c.clear,d.drawRoundedRectangle=function(a){a.beginPath(),c.roundedRect.apply(c,arguments),a.closePath()}},{42:42}],42:[function(a,b,c){"use strict";var d={noop:function(){},uid:function(){var a=0;return function(){return a++}}(),isNullOrUndef:function(a){return null===a||"undefined"==typeof a},isArray:Array.isArray?Array.isArray:function(a){return"[object Array]"===Object.prototype.toString.call(a)},isObject:function(a){return null!==a&&"[object Object]"===Object.prototype.toString.call(a)},valueOrDefault:function(a,b){return"undefined"==typeof a?b:a},valueAtIndexOrDefault:function(a,b,c){return d.valueOrDefault(d.isArray(a)?a[b]:a,c)},callback:function(a,b,c){if(a&&"function"==typeof a.call)return a.apply(c,b)},each:function(a,b,c,e){var f,g,h;if(d.isArray(a))if(g=a.length,e)for(f=g-1;f>=0;f--)b.call(c,a[f],f);else for(f=0;f<g;f++)b.call(c,a[f],f);else if(d.isObject(a))for(h=Object.keys(a),g=h.length,f=0;f<g;f++)b.call(c,a[h[f]],h[f])},arrayEquals:function(a,b){var c,e,f,g;if(!a||!b||a.length!==b.length)return!1;for(c=0,e=a.length;c<e;++c)if(f=a[c],g=b[c],f instanceof Array&&g instanceof Array){if(!d.arrayEquals(f,g))return!1}else if(f!==g)return!1;return!0},clone:function(a){if(d.isArray(a))return a.map(d.clone);if(d.isObject(a)){for(var b={},c=Object.keys(a),e=c.length,f=0;f<e;++f)b[c[f]]=d.clone(a[c[f]]);return b}return a},_merger:function(a,b,c,e){var f=b[a],g=c[a];d.isObject(f)&&d.isObject(g)?d.merge(f,g,e):b[a]=d.clone(g)},_mergerIf:function(a,b,c){var e=b[a],f=c[a];d.isObject(e)&&d.isObject(f)?d.mergeIf(e,f):b.hasOwnProperty(a)||(b[a]=d.clone(f))},merge:function(a,b,c){var e,f,g,h,i,j=d.isArray(b)?b:[b],k=j.length;if(!d.isObject(a))return a;for(c=c||{},e=c.merger||d._merger,f=0;f<k;++f)if(b=j[f],d.isObject(b))for(g=Object.keys(b),i=0,h=g.length;i<h;++i)e(g[i],a,b,c);return a},mergeIf:function(a,b){return d.merge(a,b,{merger:d._mergerIf})},extend:function(a){for(var b=function(b,c){a[c]=b},c=1,e=arguments.length;c<e;++c)d.each(arguments[c],b);return a},inherits:function(a){var b=this,c=a&&a.hasOwnProperty("constructor")?a.constructor:function(){return b.apply(this,arguments)},e=function(){this.constructor=c};return e.prototype=b.prototype,c.prototype=new e,c.extend=d.inherits,a&&d.extend(c.prototype,a),c.__super__=b.prototype,c}};b.exports=d,d.callCallback=d.callback,d.indexOf=function(a,b,c){return Array.prototype.indexOf.call(a,b,c)},d.getValueOrDefault=d.valueOrDefault,d.getValueAtIndexOrDefault=d.valueAtIndexOrDefault},{}],43:[function(a,b,c){"use strict";var d=a(42),e={linear:function(a){return a},easeInQuad:function(a){return a*a},easeOutQuad:function(a){return-a*(a-2)},easeInOutQuad:function(a){return(a/=.5)<1?.5*a*a:-.5*(--a*(a-2)-1)},easeInCubic:function(a){return a*a*a},easeOutCubic:function(a){return(a-=1)*a*a+1},easeInOutCubic:function(a){return(a/=.5)<1?.5*a*a*a:.5*((a-=2)*a*a+2)},easeInQuart:function(a){return a*a*a*a},easeOutQuart:function(a){return-((a-=1)*a*a*a-1)},easeInOutQuart:function(a){return(a/=.5)<1?.5*a*a*a*a:-.5*((a-=2)*a*a*a-2)},easeInQuint:function(a){return a*a*a*a*a},easeOutQuint:function(a){return(a-=1)*a*a*a*a+1},easeInOutQuint:function(a){return(a/=.5)<1?.5*a*a*a*a*a:.5*((a-=2)*a*a*a*a+2)},easeInSine:function(a){return-Math.cos(a*(Math.PI/2))+1},easeOutSine:function(a){return Math.sin(a*(Math.PI/2))},easeInOutSine:function(a){return-.5*(Math.cos(Math.PI*a)-1)},easeInExpo:function(a){return 0===a?0:Math.pow(2,10*(a-1))},easeOutExpo:function(a){return 1===a?1:-Math.pow(2,-10*a)+1},easeInOutExpo:function(a){return 0===a?0:1===a?1:(a/=.5)<1?.5*Math.pow(2,10*(a-1)):.5*(-Math.pow(2,-10*--a)+2)},easeInCirc:function(a){return a>=1?a:-(Math.sqrt(1-a*a)-1)},easeOutCirc:function(a){return Math.sqrt(1-(a-=1)*a)},easeInOutCirc:function(a){return(a/=.5)<1?-.5*(Math.sqrt(1-a*a)-1):.5*(Math.sqrt(1-(a-=2)*a)+1);
},easeInElastic:function(a){var b=1.70158,c=0,d=1;return 0===a?0:1===a?1:(c||(c=.3),d<1?(d=1,b=c/4):b=c/(2*Math.PI)*Math.asin(1/d),-(d*Math.pow(2,10*(a-=1))*Math.sin((a-b)*(2*Math.PI)/c)))},easeOutElastic:function(a){var b=1.70158,c=0,d=1;return 0===a?0:1===a?1:(c||(c=.3),d<1?(d=1,b=c/4):b=c/(2*Math.PI)*Math.asin(1/d),d*Math.pow(2,-10*a)*Math.sin((a-b)*(2*Math.PI)/c)+1)},easeInOutElastic:function(a){var b=1.70158,c=0,d=1;return 0===a?0:2===(a/=.5)?1:(c||(c=.45),d<1?(d=1,b=c/4):b=c/(2*Math.PI)*Math.asin(1/d),a<1?-.5*(d*Math.pow(2,10*(a-=1))*Math.sin((a-b)*(2*Math.PI)/c)):d*Math.pow(2,-10*(a-=1))*Math.sin((a-b)*(2*Math.PI)/c)*.5+1)},easeInBack:function(a){var b=1.70158;return a*a*((b+1)*a-b)},easeOutBack:function(a){var b=1.70158;return(a-=1)*a*((b+1)*a+b)+1},easeInOutBack:function(a){var b=1.70158;return(a/=.5)<1?.5*(a*a*(((b*=1.525)+1)*a-b)):.5*((a-=2)*a*(((b*=1.525)+1)*a+b)+2)},easeInBounce:function(a){return 1-e.easeOutBounce(1-a)},easeOutBounce:function(a){return a<1/2.75?7.5625*a*a:a<2/2.75?7.5625*(a-=1.5/2.75)*a+.75:a<2.5/2.75?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375},easeInOutBounce:function(a){return a<.5?.5*e.easeInBounce(2*a):.5*e.easeOutBounce(2*a-1)+.5}};b.exports={effects:e},d.easingEffects=e},{42:42}],44:[function(a,b,c){"use strict";var d=a(42);b.exports={toLineHeight:function(a,b){var c=(""+a).match(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/);if(!c||"normal"===c[1])return 1.2*b;switch(a=+c[2],c[3]){case"px":return a;case"%":a/=100}return b*a},toPadding:function(a){var b,c,e,f;return d.isObject(a)?(b=+a.top||0,c=+a.right||0,e=+a.bottom||0,f=+a.left||0):b=c=e=f=+a||0,{top:b,right:c,bottom:e,left:f,height:b+e,width:f+c}},resolve:function(a,b,c){var e,f,g;for(e=0,f=a.length;e<f;++e)if(g=a[e],void 0!==g&&(void 0!==b&&"function"==typeof g&&(g=g(b)),void 0!==c&&d.isArray(g)&&(g=g[c]),void 0!==g))return g}}},{42:42}],45:[function(a,b,c){"use strict";b.exports=a(42),b.exports.easing=a(43),b.exports.canvas=a(41),b.exports.options=a(44)},{41:41,42:42,43:43,44:44}],46:[function(a,b,c){b.exports={acquireContext:function(a){return a&&a.canvas&&(a=a.canvas),a&&a.getContext("2d")||null}}},{}],47:[function(a,b,c){"use strict";function d(a,b){var c=q.getStyle(a,b),d=c&&c.match(/^(\d+)(\.\d+)?px$/);return d?Number(d[1]):void 0}function e(a,b){var c=a.style,e=a.getAttribute("height"),f=a.getAttribute("width");if(a[r]={initial:{height:e,width:f,style:{display:c.display,height:c.height,width:c.width}}},c.display=c.display||"block",null===f||""===f){var g=d(a,"width");void 0!==g&&(a.width=g)}if(null===e||""===e)if(""===a.style.height)a.height=a.width/(b.options.aspectRatio||2);else{var h=d(a,"height");void 0!==g&&(a.height=h)}return a}function f(a,b,c){a.addEventListener(b,c,y)}function g(a,b,c){a.removeEventListener(b,c,y)}function h(a,b,c,d,e){return{type:a,chart:b,native:e||null,x:void 0!==c?c:null,y:void 0!==d?d:null}}function i(a,b){var c=w[a.type]||a.type,d=q.getRelativePosition(a,b);return h(c,b,d.x,d.y,a)}function j(a,b){var c=!1,d=[];return function(){d=Array.prototype.slice.call(arguments),b=b||this,c||(c=!0,q.requestAnimFrame.call(window,function(){c=!1,a.apply(b,d)}))}}function k(a){var b=document.createElement("div"),c=s+"size-monitor",d=1e6,e="position:absolute;left:0;top:0;right:0;bottom:0;overflow:hidden;pointer-events:none;visibility:hidden;z-index:-1;";b.style.cssText=e,b.className=c,b.innerHTML='<div class="'+c+'-expand" style="'+e+'"><div style="position:absolute;width:'+d+"px;height:"+d+'px;left:0;top:0"></div></div><div class="'+c+'-shrink" style="'+e+'"><div style="position:absolute;width:200%;height:200%;left:0; top:0"></div></div>';var g=b.childNodes[0],h=b.childNodes[1];b._reset=function(){g.scrollLeft=d,g.scrollTop=d,h.scrollLeft=d,h.scrollTop=d};var i=function(){b._reset(),a()};return f(g,"scroll",i.bind(g,"expand")),f(h,"scroll",i.bind(h,"shrink")),b}function l(a,b){var c=a[r]||(a[r]={}),d=c.renderProxy=function(a){a.animationName===u&&b()};q.each(v,function(b){f(a,b,d)}),c.reflow=!!a.offsetParent,a.classList.add(t)}function m(a){var b=a[r]||{},c=b.renderProxy;c&&(q.each(v,function(b){g(a,b,c)}),delete b.renderProxy),a.classList.remove(t)}function n(a,b,c){var d=a[r]||(a[r]={}),e=d.resizer=k(j(function(){if(d.resizer)return b(h("resize",c))}));l(a,function(){if(d.resizer){var b=a.parentNode;b&&b!==e.parentNode&&b.insertBefore(e,b.firstChild),e._reset()}})}function o(a){var b=a[r]||{},c=b.resizer;delete b.resizer,m(a),c&&c.parentNode&&c.parentNode.removeChild(c)}function p(a,b){var c=a._style||document.createElement("style");a._style||(a._style=c,b="/* Chart.js */\n"+b,c.setAttribute("type","text/css"),document.getElementsByTagName("head")[0].appendChild(c)),c.appendChild(document.createTextNode(b))}var q=a(45),r="$chartjs",s="chartjs-",t=s+"render-monitor",u=s+"render-animation",v=["animationstart","webkitAnimationStart"],w={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},x=function(){var a=!1;try{var b=Object.defineProperty({},"passive",{get:function(){a=!0}});window.addEventListener("e",null,b)}catch(a){}return a}(),y=!!x&&{passive:!0};b.exports={_enabled:"undefined"!=typeof window&&"undefined"!=typeof document,initialize:function(){var a="from{opacity:0.99}to{opacity:1}";p(this,"@-webkit-keyframes "+u+"{"+a+"}@keyframes "+u+"{"+a+"}."+t+"{-webkit-animation:"+u+" 0.001s;animation:"+u+" 0.001s;}")},acquireContext:function(a,b){"string"==typeof a?a=document.getElementById(a):a.length&&(a=a[0]),a&&a.canvas&&(a=a.canvas);var c=a&&a.getContext&&a.getContext("2d");return c&&c.canvas===a?(e(a,b),c):null},releaseContext:function(a){var b=a.canvas;if(b[r]){var c=b[r].initial;["height","width"].forEach(function(a){var d=c[a];q.isNullOrUndef(d)?b.removeAttribute(a):b.setAttribute(a,d)}),q.each(c.style||{},function(a,c){b.style[c]=a}),b.width=b.width,delete b[r]}},addEventListener:function(a,b,c){var d=a.canvas;if("resize"===b)return void n(d,c,a);var e=c[r]||(c[r]={}),g=e.proxies||(e.proxies={}),h=g[a.id+"_"+b]=function(b){c(i(b,a))};f(d,b,h)},removeEventListener:function(a,b,c){var d=a.canvas;if("resize"===b)return void o(d,c);var e=c[r]||{},f=e.proxies||{},h=f[a.id+"_"+b];h&&g(d,b,h)}},q.addEvent=f,q.removeEvent=g},{45:45}],48:[function(a,b,c){"use strict";var d=a(45),e=a(46),f=a(47),g=f._enabled?f:e;b.exports=d.extend({initialize:function(){},acquireContext:function(){},releaseContext:function(){},addEventListener:function(){},removeEventListener:function(){}},g)},{45:45,46:46,47:47}],49:[function(a,b,c){"use strict";var d=a(25),e=a(40),f=a(45);d._set("global",{plugins:{filler:{propagate:!0}}}),b.exports=function(){function a(a,b,c){var d,e=a._model||{},f=e.fill;if(void 0===f&&(f=!!e.backgroundColor),f===!1||null===f)return!1;if(f===!0)return"origin";if(d=parseFloat(f,10),isFinite(d)&&Math.floor(d)===d)return"-"!==f[0]&&"+"!==f[0]||(d=b+d),!(d===b||d<0||d>=c)&&d;switch(f){case"bottom":return"start";case"top":return"end";case"zero":return"origin";case"origin":case"start":case"end":return f;default:return!1}}function b(a){var b,c=a.el._model||{},d=a.el._scale||{},e=a.fill,f=null;if(isFinite(e))return null;if("start"===e?f=void 0===c.scaleBottom?d.bottom:c.scaleBottom:"end"===e?f=void 0===c.scaleTop?d.top:c.scaleTop:void 0!==c.scaleZero?f=c.scaleZero:d.getBasePosition?f=d.getBasePosition():d.getBasePixel&&(f=d.getBasePixel()),void 0!==f&&null!==f){if(void 0!==f.x&&void 0!==f.y)return f;if("number"==typeof f&&isFinite(f))return b=d.isHorizontal(),{x:b?f:null,y:b?null:f}}return null}function c(a,b,c){var d,e=a[b],f=e.fill,g=[b];if(!c)return f;for(;f!==!1&&g.indexOf(f)===-1;){if(!isFinite(f))return f;if(d=a[f],!d)return!1;if(d.visible)return f;g.push(f),f=d.fill}return!1}function g(a){var b=a.fill,c="dataset";return b===!1?null:(isFinite(b)||(c="boundary"),k[c](a))}function h(a){return a&&!a.skip}function i(a,b,c,d,e){var g;if(d&&e){for(a.moveTo(b[0].x,b[0].y),g=1;g<d;++g)f.canvas.lineTo(a,b[g-1],b[g]);for(a.lineTo(c[e-1].x,c[e-1].y),g=e-1;g>0;--g)f.canvas.lineTo(a,c[g],c[g-1],!0)}}function j(a,b,c,d,e,f){var g,j,k,l,m,n,o,p=b.length,q=d.spanGaps,r=[],s=[],t=0,u=0;for(a.beginPath(),g=0,j=p+!!f;g<j;++g)k=g%p,l=b[k]._view,m=c(l,k,d),n=h(l),o=h(m),n&&o?(t=r.push(l),u=s.push(m)):t&&u&&(q?(n&&r.push(l),o&&s.push(m)):(i(a,r,s,t,u),t=u=0,r=[],s=[]));i(a,r,s,t,u),a.closePath(),a.fillStyle=e,a.fill()}var k={dataset:function(a){var b=a.fill,c=a.chart,d=c.getDatasetMeta(b),e=d&&c.isDatasetVisible(b),f=e&&d.dataset._children||[],g=f.length||0;return g?function(a,b){return b<g&&f[b]._view||null}:null},boundary:function(a){var b=a.boundary,c=b?b.x:null,d=b?b.y:null;return function(a){return{x:null===c?a.x:c,y:null===d?a.y:d}}}};return{id:"filler",afterDatasetsUpdate:function(d,f){var h,i,j,k,l=(d.data.datasets||[]).length,m=f.propagate,n=[];for(i=0;i<l;++i)h=d.getDatasetMeta(i),j=h.dataset,k=null,j&&j._model&&j instanceof e.Line&&(k={visible:d.isDatasetVisible(i),fill:a(j,i,l),chart:d,el:j}),h.$filler=k,n.push(k);for(i=0;i<l;++i)k=n[i],k&&(k.fill=c(n,i,m),k.boundary=b(k),k.mapper=g(k))},beforeDatasetDraw:function(a,b){var c=b.meta.$filler;if(c){var e=a.ctx,g=c.el,h=g._view,i=g._children||[],k=c.mapper,l=h.backgroundColor||d.global.defaultColor;k&&l&&i.length&&(f.canvas.clipArea(e,a.chartArea),j(e,i,k,h,l,g._loop),f.canvas.unclipArea(e))}}}}},{25:25,40:40,45:45}],50:[function(a,b,c){"use strict";var d=a(25),e=a(26),f=a(45);d._set("global",{legend:{display:!0,position:"top",fullWidth:!0,reverse:!1,weight:1e3,onClick:function(a,b){var c=b.datasetIndex,d=this.chart,e=d.getDatasetMeta(c);e.hidden=null===e.hidden?!d.data.datasets[c].hidden:null,d.update()},onHover:null,labels:{boxWidth:40,padding:10,generateLabels:function(a){var b=a.data;return f.isArray(b.datasets)?b.datasets.map(function(b,c){return{text:b.label,fillStyle:f.isArray(b.backgroundColor)?b.backgroundColor[0]:b.backgroundColor,hidden:!a.isDatasetVisible(c),lineCap:b.borderCapStyle,lineDash:b.borderDash,lineDashOffset:b.borderDashOffset,lineJoin:b.borderJoinStyle,lineWidth:b.borderWidth,strokeStyle:b.borderColor,pointStyle:b.pointStyle,datasetIndex:c}},this):[]}}},legendCallback:function(a){var b=[];b.push('<ul class="'+a.id+'-legend">');for(var c=0;c<a.data.datasets.length;c++)b.push('<li><span style="background-color:'+a.data.datasets[c].backgroundColor+'"></span>'),a.data.datasets[c].label&&b.push(a.data.datasets[c].label),b.push("</li>");return b.push("</ul>"),b.join("")}}),b.exports=function(a){function b(a,b){return a.usePointStyle?b*Math.SQRT2:a.boxWidth}function c(b,c){var d=new a.Legend({ctx:b.ctx,options:c,chart:b});g.configure(b,d,c),g.addBox(b,d),b.legend=d}var g=a.layoutService,h=f.noop;return a.Legend=e.extend({initialize:function(a){f.extend(this,a),this.legendHitBoxes=[],this.doughnutMode=!1},beforeUpdate:h,update:function(a,b,c){var d=this;return d.beforeUpdate(),d.maxWidth=a,d.maxHeight=b,d.margins=c,d.beforeSetDimensions(),d.setDimensions(),d.afterSetDimensions(),d.beforeBuildLabels(),d.buildLabels(),d.afterBuildLabels(),d.beforeFit(),d.fit(),d.afterFit(),d.afterUpdate(),d.minSize},afterUpdate:h,beforeSetDimensions:h,setDimensions:function(){var a=this;a.isHorizontal()?(a.width=a.maxWidth,a.left=0,a.right=a.width):(a.height=a.maxHeight,a.top=0,a.bottom=a.height),a.paddingLeft=0,a.paddingTop=0,a.paddingRight=0,a.paddingBottom=0,a.minSize={width:0,height:0}},afterSetDimensions:h,beforeBuildLabels:h,buildLabels:function(){var a=this,b=a.options.labels||{},c=f.callback(b.generateLabels,[a.chart],a)||[];b.filter&&(c=c.filter(function(c){return b.filter(c,a.chart.data)})),a.options.reverse&&c.reverse(),a.legendItems=c},afterBuildLabels:h,beforeFit:h,fit:function(){var a=this,c=a.options,e=c.labels,g=c.display,h=a.ctx,i=d.global,j=f.valueOrDefault,k=j(e.fontSize,i.defaultFontSize),l=j(e.fontStyle,i.defaultFontStyle),m=j(e.fontFamily,i.defaultFontFamily),n=f.fontString(k,l,m),o=a.legendHitBoxes=[],p=a.minSize,q=a.isHorizontal();if(q?(p.width=a.maxWidth,p.height=g?10:0):(p.width=g?10:0,p.height=a.maxHeight),g)if(h.font=n,q){var r=a.lineWidths=[0],s=a.legendItems.length?k+e.padding:0;h.textAlign="left",h.textBaseline="top",f.each(a.legendItems,function(c,d){var f=b(e,k),g=f+k/2+h.measureText(c.text).width;r[r.length-1]+g+e.padding>=a.width&&(s+=k+e.padding,r[r.length]=a.left),o[d]={left:0,top:0,width:g,height:k},r[r.length-1]+=g+e.padding}),p.height+=s}else{var t=e.padding,u=a.columnWidths=[],v=e.padding,w=0,x=0,y=k+t;f.each(a.legendItems,function(a,c){var d=b(e,k),f=d+k/2+h.measureText(a.text).width;x+y>p.height&&(v+=w+e.padding,u.push(w),w=0,x=0),w=Math.max(w,f),x+=y,o[c]={left:0,top:0,width:f,height:k}}),v+=w,u.push(w),p.width+=v}a.width=p.width,a.height=p.height},afterFit:h,isHorizontal:function(){return"top"===this.options.position||"bottom"===this.options.position},draw:function(){var a=this,c=a.options,e=c.labels,g=d.global,h=g.elements.line,i=a.width,j=a.lineWidths;if(c.display){var k,l=a.ctx,m=f.valueOrDefault,n=m(e.fontColor,g.defaultFontColor),o=m(e.fontSize,g.defaultFontSize),p=m(e.fontStyle,g.defaultFontStyle),q=m(e.fontFamily,g.defaultFontFamily),r=f.fontString(o,p,q);l.textAlign="left",l.textBaseline="middle",l.lineWidth=.5,l.strokeStyle=n,l.fillStyle=n,l.font=r;var s=b(e,o),t=a.legendHitBoxes,u=function(a,b,d){if(!(isNaN(s)||s<=0)){l.save(),l.fillStyle=m(d.fillStyle,g.defaultColor),l.lineCap=m(d.lineCap,h.borderCapStyle),l.lineDashOffset=m(d.lineDashOffset,h.borderDashOffset),l.lineJoin=m(d.lineJoin,h.borderJoinStyle),l.lineWidth=m(d.lineWidth,h.borderWidth),l.strokeStyle=m(d.strokeStyle,g.defaultColor);var e=0===m(d.lineWidth,h.borderWidth);if(l.setLineDash&&l.setLineDash(m(d.lineDash,h.borderDash)),c.labels&&c.labels.usePointStyle){var i=o*Math.SQRT2/2,j=i/Math.SQRT2,k=a+j,n=b+j;f.canvas.drawPoint(l,d.pointStyle,i,k,n)}else e||l.strokeRect(a,b,s,o),l.fillRect(a,b,s,o);l.restore()}},v=function(a,b,c,d){var e=o/2,f=s+e+a,g=b+e;l.fillText(c.text,f,g),c.hidden&&(l.beginPath(),l.lineWidth=2,l.moveTo(f,g),l.lineTo(f+d,g),l.stroke())},w=a.isHorizontal();k=w?{x:a.left+(i-j[0])/2,y:a.top+e.padding,line:0}:{x:a.left+e.padding,y:a.top+e.padding,line:0};var x=o+e.padding;f.each(a.legendItems,function(b,c){var d=l.measureText(b.text).width,f=s+o/2+d,g=k.x,h=k.y;w?g+f>=i&&(h=k.y+=x,k.line++,g=k.x=a.left+(i-j[k.line])/2):h+x>a.bottom&&(g=k.x=g+a.columnWidths[k.line]+e.padding,h=k.y=a.top+e.padding,k.line++),u(g,h,b),t[c].left=g,t[c].top=h,v(g,h,b,d),w?k.x+=f+e.padding:k.y+=x})}},handleEvent:function(a){var b=this,c=b.options,d="mouseup"===a.type?"click":a.type,e=!1;if("mousemove"===d){if(!c.onHover)return}else{if("click"!==d)return;if(!c.onClick)return}var f=a.x,g=a.y;if(f>=b.left&&f<=b.right&&g>=b.top&&g<=b.bottom)for(var h=b.legendHitBoxes,i=0;i<h.length;++i){var j=h[i];if(f>=j.left&&f<=j.left+j.width&&g>=j.top&&g<=j.top+j.height){if("click"===d){c.onClick.call(b,a.native,b.legendItems[i]),e=!0;break}if("mousemove"===d){c.onHover.call(b,a.native,b.legendItems[i]),e=!0;break}}}return e}}),{id:"legend",beforeInit:function(a){var b=a.options.legend;b&&c(a,b)},beforeUpdate:function(a){var b=a.options.legend,e=a.legend;b?(f.mergeIf(b,d.global.legend),e?(g.configure(a,e,b),e.options=b):c(a,b)):e&&(g.removeBox(a,e),delete a.legend)},afterEvent:function(a,b){var c=a.legend;c&&c.handleEvent(b)}}}},{25:25,26:26,45:45}],51:[function(a,b,c){"use strict";var d=a(25),e=a(26),f=a(45);d._set("global",{title:{display:!1,fontStyle:"bold",fullWidth:!0,lineHeight:1.2,padding:10,position:"top",text:"",weight:2e3}}),b.exports=function(a){function b(b,d){var e=new a.Title({ctx:b.ctx,options:d,chart:b});c.configure(b,e,d),c.addBox(b,e),b.titleBlock=e}var c=a.layoutService,g=f.noop;return a.Title=e.extend({initialize:function(a){var b=this;f.extend(b,a),b.legendHitBoxes=[]},beforeUpdate:g,update:function(a,b,c){var d=this;return d.beforeUpdate(),d.maxWidth=a,d.maxHeight=b,d.margins=c,d.beforeSetDimensions(),d.setDimensions(),d.afterSetDimensions(),d.beforeBuildLabels(),d.buildLabels(),d.afterBuildLabels(),d.beforeFit(),d.fit(),d.afterFit(),d.afterUpdate(),d.minSize},afterUpdate:g,beforeSetDimensions:g,setDimensions:function(){var a=this;a.isHorizontal()?(a.width=a.maxWidth,a.left=0,a.right=a.width):(a.height=a.maxHeight,a.top=0,a.bottom=a.height),a.paddingLeft=0,a.paddingTop=0,a.paddingRight=0,a.paddingBottom=0,a.minSize={width:0,height:0}},afterSetDimensions:g,beforeBuildLabels:g,buildLabels:g,afterBuildLabels:g,beforeFit:g,fit:function(){var a=this,b=f.valueOrDefault,c=a.options,e=c.display,g=b(c.fontSize,d.global.defaultFontSize),h=a.minSize,i=f.isArray(c.text)?c.text.length:1,j=f.options.toLineHeight(c.lineHeight,g),k=e?i*j+2*c.padding:0;a.isHorizontal()?(h.width=a.maxWidth,h.height=k):(h.width=k,h.height=a.maxHeight),a.width=h.width,a.height=h.height},afterFit:g,isHorizontal:function(){var a=this.options.position;return"top"===a||"bottom"===a},draw:function(){var a=this,b=a.ctx,c=f.valueOrDefault,e=a.options,g=d.global;if(e.display){var h,i,j,k=c(e.fontSize,g.defaultFontSize),l=c(e.fontStyle,g.defaultFontStyle),m=c(e.fontFamily,g.defaultFontFamily),n=f.fontString(k,l,m),o=f.options.toLineHeight(e.lineHeight,k),p=o/2+e.padding,q=0,r=a.top,s=a.left,t=a.bottom,u=a.right;b.fillStyle=c(e.fontColor,g.defaultFontColor),b.font=n,a.isHorizontal()?(i=s+(u-s)/2,j=r+p,h=u-s):(i="left"===e.position?s+p:u-p,j=r+(t-r)/2,h=t-r,q=Math.PI*("left"===e.position?-.5:.5)),b.save(),b.translate(i,j),b.rotate(q),b.textAlign="center",b.textBaseline="middle";var v=e.text;if(f.isArray(v))for(var w=0,x=0;x<v.length;++x)b.fillText(v[x],0,w,h),w+=o;else b.fillText(v,0,0,h);b.restore()}}}),{id:"title",beforeInit:function(a){var c=a.options.title;c&&b(a,c)},beforeUpdate:function(e){var g=e.options.title,h=e.titleBlock;g?(f.mergeIf(g,d.global.title),h?(c.configure(e,h,g),h.options=g):b(e,g)):h&&(a.layoutService.removeBox(e,h),delete e.titleBlock)}}}},{25:25,26:26,45:45}],52:[function(a,b,c){"use strict";b.exports=function(a){var b={position:"bottom"},c=a.Scale.extend({getLabels:function(){var a=this.chart.data;return this.options.labels||(this.isHorizontal()?a.xLabels:a.yLabels)||a.labels},determineDataLimits:function(){var a=this,b=a.getLabels();a.minIndex=0,a.maxIndex=b.length-1;var c;void 0!==a.options.ticks.min&&(c=b.indexOf(a.options.ticks.min),a.minIndex=c!==-1?c:a.minIndex),void 0!==a.options.ticks.max&&(c=b.indexOf(a.options.ticks.max),a.maxIndex=c!==-1?c:a.maxIndex),a.min=b[a.minIndex],a.max=b[a.maxIndex]},buildTicks:function(){var a=this,b=a.getLabels();a.ticks=0===a.minIndex&&a.maxIndex===b.length-1?b:b.slice(a.minIndex,a.maxIndex+1)},getLabelForIndex:function(a,b){var c=this,d=c.chart.data,e=c.isHorizontal();return d.yLabels&&!e?c.getRightValue(d.datasets[b].data[a]):c.ticks[a-c.minIndex]},getPixelForValue:function(a,b){var c,d=this,e=d.options.offset,f=Math.max(d.maxIndex+1-d.minIndex-(e?0:1),1);if(void 0!==a&&null!==a&&(c=d.isHorizontal()?a.x:a.y),void 0!==c||void 0!==a&&isNaN(b)){var g=d.getLabels();a=c||a;var h=g.indexOf(a);b=h!==-1?h:b}if(d.isHorizontal()){var i=d.width/f,j=i*(b-d.minIndex);return e&&(j+=i/2),d.left+Math.round(j)}var k=d.height/f,l=k*(b-d.minIndex);return e&&(l+=k/2),d.top+Math.round(l)},getPixelForTick:function(a){return this.getPixelForValue(this.ticks[a],a+this.minIndex,null)},getValueForPixel:function(a){var b,c=this,d=c.options.offset,e=Math.max(c._ticks.length-(d?0:1),1),f=c.isHorizontal(),g=(f?c.width:c.height)/e;return a-=f?c.left:c.top,d&&(a-=g/2),b=a<=0?0:Math.round(a/g),b+c.minIndex},getBasePixel:function(){return this.bottom}});a.scaleService.registerScaleType("category",c,b)}},{}],53:[function(a,b,c){"use strict";var d=a(25),e=a(45),f=a(34);b.exports=function(a){var b={position:"left",ticks:{callback:f.formatters.linear}},c=a.LinearScaleBase.extend({determineDataLimits:function(){function a(a){return h?a.xAxisID===b.id:a.yAxisID===b.id}var b=this,c=b.options,d=b.chart,f=d.data,g=f.datasets,h=b.isHorizontal(),i=0,j=1;b.min=null,b.max=null;var k=c.stacked;if(void 0===k&&e.each(g,function(b,c){if(!k){var e=d.getDatasetMeta(c);d.isDatasetVisible(c)&&a(e)&&void 0!==e.stack&&(k=!0)}}),c.stacked||k){var l={};e.each(g,function(f,g){var h=d.getDatasetMeta(g),i=[h.type,void 0===c.stacked&&void 0===h.stack?g:"",h.stack].join(".");void 0===l[i]&&(l[i]={positiveValues:[],negativeValues:[]});var j=l[i].positiveValues,k=l[i].negativeValues;d.isDatasetVisible(g)&&a(h)&&e.each(f.data,function(a,d){var e=+b.getRightValue(a);isNaN(e)||h.data[d].hidden||(j[d]=j[d]||0,k[d]=k[d]||0,c.relativePoints?j[d]=100:e<0?k[d]+=e:j[d]+=e)})}),e.each(l,function(a){var c=a.positiveValues.concat(a.negativeValues),d=e.min(c),f=e.max(c);b.min=null===b.min?d:Math.min(b.min,d),b.max=null===b.max?f:Math.max(b.max,f)})}else e.each(g,function(c,f){var g=d.getDatasetMeta(f);d.isDatasetVisible(f)&&a(g)&&e.each(c.data,function(a,c){var d=+b.getRightValue(a);isNaN(d)||g.data[c].hidden||(null===b.min?b.min=d:d<b.min&&(b.min=d),null===b.max?b.max=d:d>b.max&&(b.max=d))})});b.min=isFinite(b.min)&&!isNaN(b.min)?b.min:i,b.max=isFinite(b.max)&&!isNaN(b.max)?b.max:j,this.handleTickRangeOptions()},getTickLimit:function(){var a,b=this,c=b.options.ticks;if(b.isHorizontal())a=Math.min(c.maxTicksLimit?c.maxTicksLimit:11,Math.ceil(b.width/50));else{var f=e.valueOrDefault(c.fontSize,d.global.defaultFontSize);a=Math.min(c.maxTicksLimit?c.maxTicksLimit:11,Math.ceil(b.height/(2*f)))}return a},handleDirectionalChanges:function(){this.isHorizontal()||this.ticks.reverse()},getLabelForIndex:function(a,b){return+this.getRightValue(this.chart.data.datasets[b].data[a])},getPixelForValue:function(a){var b,c=this,d=c.start,e=+c.getRightValue(a),f=c.end-d;return c.isHorizontal()?(b=c.left+c.width/f*(e-d),Math.round(b)):(b=c.bottom-c.height/f*(e-d),Math.round(b))},getValueForPixel:function(a){var b=this,c=b.isHorizontal(),d=c?b.width:b.height,e=(c?a-b.left:b.bottom-a)/d;return b.start+(b.end-b.start)*e},getPixelForTick:function(a){return this.getPixelForValue(this.ticksAsNumbers[a])}});a.scaleService.registerScaleType("linear",c,b)}},{25:25,34:34,45:45}],54:[function(a,b,c){"use strict";var d=a(45),e=a(34);b.exports=function(a){var b=d.noop;a.LinearScaleBase=a.Scale.extend({getRightValue:function(b){return"string"==typeof b?+b:a.Scale.prototype.getRightValue.call(this,b)},handleTickRangeOptions:function(){var a=this,b=a.options,c=b.ticks;if(c.beginAtZero){var e=d.sign(a.min),f=d.sign(a.max);e<0&&f<0?a.max=0:e>0&&f>0&&(a.min=0)}var g=void 0!==c.min||void 0!==c.suggestedMin,h=void 0!==c.max||void 0!==c.suggestedMax;void 0!==c.min?a.min=c.min:void 0!==c.suggestedMin&&(null===a.min?a.min=c.suggestedMin:a.min=Math.min(a.min,c.suggestedMin)),void 0!==c.max?a.max=c.max:void 0!==c.suggestedMax&&(null===a.max?a.max=c.suggestedMax:a.max=Math.max(a.max,c.suggestedMax)),g!==h&&a.min>=a.max&&(g?a.max=a.min+1:a.min=a.max-1),a.min===a.max&&(a.max++,c.beginAtZero||a.min--)},getTickLimit:b,handleDirectionalChanges:b,buildTicks:function(){var a=this,b=a.options,c=b.ticks,f=a.getTickLimit();f=Math.max(2,f);var g={maxTicks:f,min:c.min,max:c.max,stepSize:d.valueOrDefault(c.fixedStepSize,c.stepSize)},h=a.ticks=e.generators.linear(g,a);a.handleDirectionalChanges(),a.max=d.max(h),a.min=d.min(h),c.reverse?(h.reverse(),a.start=a.max,a.end=a.min):(a.start=a.min,a.end=a.max)},convertTicksToLabels:function(){var b=this;b.ticksAsNumbers=b.ticks.slice(),b.zeroLineIndex=b.ticks.indexOf(0),a.Scale.prototype.convertTicksToLabels.call(b)}})}},{34:34,45:45}],55:[function(a,b,c){"use strict";var d=a(45),e=a(34);b.exports=function(a){var b={position:"left",ticks:{callback:e.formatters.logarithmic}},c=a.Scale.extend({determineDataLimits:function(){function a(a){return j?a.xAxisID===b.id:a.yAxisID===b.id}var b=this,c=b.options,e=c.ticks,f=b.chart,g=f.data,h=g.datasets,i=d.valueOrDefault,j=b.isHorizontal();b.min=null,b.max=null,b.minNotZero=null;var k=c.stacked;if(void 0===k&&d.each(h,function(b,c){if(!k){var d=f.getDatasetMeta(c);f.isDatasetVisible(c)&&a(d)&&void 0!==d.stack&&(k=!0)}}),c.stacked||k){var l={};d.each(h,function(e,g){var h=f.getDatasetMeta(g),i=[h.type,void 0===c.stacked&&void 0===h.stack?g:"",h.stack].join(".");f.isDatasetVisible(g)&&a(h)&&(void 0===l[i]&&(l[i]=[]),d.each(e.data,function(a,d){var e=l[i],f=+b.getRightValue(a);isNaN(f)||h.data[d].hidden||(e[d]=e[d]||0,c.relativePoints?e[d]=100:e[d]+=f)}))}),d.each(l,function(a){var c=d.min(a),e=d.max(a);b.min=null===b.min?c:Math.min(b.min,c),b.max=null===b.max?e:Math.max(b.max,e)})}else d.each(h,function(c,e){var g=f.getDatasetMeta(e);f.isDatasetVisible(e)&&a(g)&&d.each(c.data,function(a,c){var d=+b.getRightValue(a);isNaN(d)||g.data[c].hidden||(null===b.min?b.min=d:d<b.min&&(b.min=d),null===b.max?b.max=d:d>b.max&&(b.max=d),0!==d&&(null===b.minNotZero||d<b.minNotZero)&&(b.minNotZero=d))})});b.min=i(e.min,b.min),b.max=i(e.max,b.max),b.min===b.max&&(0!==b.min&&null!==b.min?(b.min=Math.pow(10,Math.floor(d.log10(b.min))-1),b.max=Math.pow(10,Math.floor(d.log10(b.max))+1)):(b.min=1,b.max=10))},buildTicks:function(){var a=this,b=a.options,c=b.ticks,f={min:c.min,max:c.max},g=a.ticks=e.generators.logarithmic(f,a);a.isHorizontal()||g.reverse(),a.max=d.max(g),a.min=d.min(g),c.reverse?(g.reverse(),a.start=a.max,a.end=a.min):(a.start=a.min,a.end=a.max)},convertTicksToLabels:function(){this.tickValues=this.ticks.slice(),a.Scale.prototype.convertTicksToLabels.call(this)},getLabelForIndex:function(a,b){return+this.getRightValue(this.chart.data.datasets[b].data[a])},getPixelForTick:function(a){return this.getPixelForValue(this.tickValues[a])},getPixelForValue:function(a){var b,c,e,f=this,g=f.start,h=+f.getRightValue(a),i=f.options,j=i.ticks;return f.isHorizontal()?(e=d.log10(f.end)-d.log10(g),0===h?c=f.left:(b=f.width,c=f.left+b/e*(d.log10(h)-d.log10(g)))):(b=f.height,0!==g||j.reverse?0===f.end&&j.reverse?(e=d.log10(f.start)-d.log10(f.minNotZero),c=h===f.end?f.top:h===f.minNotZero?f.top+.02*b:f.top+.02*b+.98*b/e*(d.log10(h)-d.log10(f.minNotZero))):0===h?c=j.reverse?f.top:f.bottom:(e=d.log10(f.end)-d.log10(g),b=f.height,c=f.bottom-b/e*(d.log10(h)-d.log10(g))):(e=d.log10(f.end)-d.log10(f.minNotZero),c=h===g?f.bottom:h===f.minNotZero?f.bottom-.02*b:f.bottom-.02*b-.98*b/e*(d.log10(h)-d.log10(f.minNotZero)))),c},getValueForPixel:function(a){var b,c,e=this,f=d.log10(e.end)-d.log10(e.start);return e.isHorizontal()?(c=e.width,b=e.start*Math.pow(10,(a-e.left)*f/c)):(c=e.height,b=Math.pow(10,(e.bottom-a)*f/c)/e.start),b}});a.scaleService.registerScaleType("logarithmic",c,b)}},{34:34,45:45}],56:[function(a,b,c){"use strict";var d=a(25),e=a(45),f=a(34);b.exports=function(a){function b(a){var b=a.options;return b.angleLines.display||b.pointLabels.display?a.chart.data.labels.length:0}function c(a){var b=a.options.pointLabels,c=e.valueOrDefault(b.fontSize,q.defaultFontSize),d=e.valueOrDefault(b.fontStyle,q.defaultFontStyle),f=e.valueOrDefault(b.fontFamily,q.defaultFontFamily),g=e.fontString(c,d,f);return{size:c,style:d,family:f,font:g}}function g(a,b,c){return e.isArray(c)?{w:e.longestText(a,a.font,c),h:c.length*b+1.5*(c.length-1)*b}:{w:a.measureText(c).width,h:b}}function h(a,b,c,d,e){return a===d||a===e?{start:b-c/2,end:b+c/2}:a<d||a>e?{start:b-c-5,end:b}:{start:b,end:b+c+5}}function i(a){var d,f,i,j=c(a),k=Math.min(a.height/2,a.width/2),l={r:a.width,l:0,t:a.height,b:0},m={};a.ctx.font=j.font,a._pointLabelSizes=[];var n=b(a);for(d=0;d<n;d++){i=a.getPointPosition(d,k),f=g(a.ctx,j.size,a.pointLabels[d]||""),a._pointLabelSizes[d]=f;var o=a.getIndexAngle(d),p=e.toDegrees(o)%360,q=h(p,i.x,f.w,0,180),r=h(p,i.y,f.h,90,270);q.start<l.l&&(l.l=q.start,m.l=o),q.end>l.r&&(l.r=q.end,m.r=o),r.start<l.t&&(l.t=r.start,m.t=o),r.end>l.b&&(l.b=r.end,m.b=o)}a.setReductions(k,l,m)}function j(a){var b=Math.min(a.height/2,a.width/2);a.drawingArea=Math.round(b),a.setCenterPoint(0,0,0,0)}function k(a){return 0===a||180===a?"center":a<180?"left":"right"}function l(a,b,c,d){if(e.isArray(b))for(var f=c.y,g=1.5*d,h=0;h<b.length;++h)a.fillText(b[h],c.x,f),f+=g;else a.fillText(b,c.x,c.y)}function m(a,b,c){90===a||270===a?c.y-=b.h/2:(a>270||a<90)&&(c.y-=b.h)}function n(a){var d=a.ctx,f=e.valueOrDefault,g=a.options,h=g.angleLines,i=g.pointLabels;d.lineWidth=h.lineWidth,d.strokeStyle=h.color;var j=a.getDistanceFromCenterForValue(g.ticks.reverse?a.min:a.max),n=c(a);d.textBaseline="top";for(var o=b(a)-1;o>=0;o--){if(h.display){var p=a.getPointPosition(o,j);d.beginPath(),d.moveTo(a.xCenter,a.yCenter),d.lineTo(p.x,p.y),d.stroke(),d.closePath()}if(i.display){var r=a.getPointPosition(o,j+5),s=f(i.fontColor,q.defaultFontColor);d.font=n.font,d.fillStyle=s;var t=a.getIndexAngle(o),u=e.toDegrees(t);d.textAlign=k(u),m(u,a._pointLabelSizes[o],r),l(d,a.pointLabels[o]||"",r,n.size)}}}function o(a,c,d,f){var g=a.ctx;if(g.strokeStyle=e.valueAtIndexOrDefault(c.color,f-1),g.lineWidth=e.valueAtIndexOrDefault(c.lineWidth,f-1),a.options.gridLines.circular)g.beginPath(),g.arc(a.xCenter,a.yCenter,d,0,2*Math.PI),g.closePath(),g.stroke();else{var h=b(a);if(0===h)return;g.beginPath();var i=a.getPointPosition(0,d);g.moveTo(i.x,i.y);for(var j=1;j<h;j++)i=a.getPointPosition(j,d),g.lineTo(i.x,i.y);g.closePath(),g.stroke()}}function p(a){return e.isNumber(a)?a:0}var q=d.global,r={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,color:"rgba(0, 0, 0, 0.1)",lineWidth:1},gridLines:{circular:!1},ticks:{showLabelBackdrop:!0,backdropColor:"rgba(255,255,255,0.75)",backdropPaddingY:2,backdropPaddingX:2,callback:f.formatters.linear},pointLabels:{display:!0,fontSize:10,callback:function(a){return a}}},s=a.LinearScaleBase.extend({setDimensions:function(){var a=this,b=a.options,c=b.ticks;a.width=a.maxWidth,a.height=a.maxHeight,a.xCenter=Math.round(a.width/2),a.yCenter=Math.round(a.height/2);var d=e.min([a.height,a.width]),f=e.valueOrDefault(c.fontSize,q.defaultFontSize);a.drawingArea=b.display?d/2-(f/2+c.backdropPaddingY):d/2},determineDataLimits:function(){var a=this,b=a.chart,c=Number.POSITIVE_INFINITY,d=Number.NEGATIVE_INFINITY;e.each(b.data.datasets,function(f,g){if(b.isDatasetVisible(g)){var h=b.getDatasetMeta(g);e.each(f.data,function(b,e){var f=+a.getRightValue(b);isNaN(f)||h.data[e].hidden||(c=Math.min(f,c),d=Math.max(f,d))})}}),a.min=c===Number.POSITIVE_INFINITY?0:c,a.max=d===Number.NEGATIVE_INFINITY?0:d,a.handleTickRangeOptions()},getTickLimit:function(){var a=this.options.ticks,b=e.valueOrDefault(a.fontSize,q.defaultFontSize);return Math.min(a.maxTicksLimit?a.maxTicksLimit:11,Math.ceil(this.drawingArea/(1.5*b)))},convertTicksToLabels:function(){var b=this;a.LinearScaleBase.prototype.convertTicksToLabels.call(b),b.pointLabels=b.chart.data.labels.map(b.options.pointLabels.callback,b)},getLabelForIndex:function(a,b){return+this.getRightValue(this.chart.data.datasets[b].data[a])},fit:function(){this.options.pointLabels.display?i(this):j(this)},setReductions:function(a,b,c){var d=this,e=b.l/Math.sin(c.l),f=Math.max(b.r-d.width,0)/Math.sin(c.r),g=-b.t/Math.cos(c.t),h=-Math.max(b.b-d.height,0)/Math.cos(c.b);e=p(e),f=p(f),g=p(g),h=p(h),d.drawingArea=Math.min(Math.round(a-(e+f)/2),Math.round(a-(g+h)/2)),d.setCenterPoint(e,f,g,h)},setCenterPoint:function(a,b,c,d){var e=this,f=e.width-b-e.drawingArea,g=a+e.drawingArea,h=c+e.drawingArea,i=e.height-d-e.drawingArea;e.xCenter=Math.round((g+f)/2+e.left),e.yCenter=Math.round((h+i)/2+e.top)},getIndexAngle:function(a){var c=2*Math.PI/b(this),d=this.chart.options&&this.chart.options.startAngle?this.chart.options.startAngle:0,e=d*Math.PI*2/360;return a*c+e},getDistanceFromCenterForValue:function(a){var b=this;if(null===a)return 0;var c=b.drawingArea/(b.max-b.min);return b.options.ticks.reverse?(b.max-a)*c:(a-b.min)*c},getPointPosition:function(a,b){var c=this,d=c.getIndexAngle(a)-Math.PI/2;return{x:Math.round(Math.cos(d)*b)+c.xCenter,y:Math.round(Math.sin(d)*b)+c.yCenter}},getPointPositionForValue:function(a,b){return this.getPointPosition(a,this.getDistanceFromCenterForValue(b))},getBasePosition:function(){var a=this,b=a.min,c=a.max;return a.getPointPositionForValue(0,a.beginAtZero?0:b<0&&c<0?c:b>0&&c>0?b:0)},draw:function(){var a=this,b=a.options,c=b.gridLines,d=b.ticks,f=e.valueOrDefault;
if(b.display){var g=a.ctx,h=this.getIndexAngle(0),i=f(d.fontSize,q.defaultFontSize),j=f(d.fontStyle,q.defaultFontStyle),k=f(d.fontFamily,q.defaultFontFamily),l=e.fontString(i,j,k);e.each(a.ticks,function(b,e){if(e>0||d.reverse){var j=a.getDistanceFromCenterForValue(a.ticksAsNumbers[e]);if(c.display&&0!==e&&o(a,c,j,e),d.display){var k=f(d.fontColor,q.defaultFontColor);if(g.font=l,g.save(),g.translate(a.xCenter,a.yCenter),g.rotate(h),d.showLabelBackdrop){var m=g.measureText(b).width;g.fillStyle=d.backdropColor,g.fillRect(-m/2-d.backdropPaddingX,-j-i/2-d.backdropPaddingY,m+2*d.backdropPaddingX,i+2*d.backdropPaddingY)}g.textAlign="center",g.textBaseline="middle",g.fillStyle=k,g.fillText(b,0,-j),g.restore()}}}),(b.angleLines.display||b.pointLabels.display)&&n(a)}}});a.scaleService.registerScaleType("radialLinear",s,r)}},{25:25,34:34,45:45}],57:[function(a,b,c){"use strict";function d(a,b){return a-b}function e(a){var b,c,d,e={},f=[];for(b=0,c=a.length;b<c;++b)d=a[b],e[d]||(e[d]=!0,f.push(d));return f}function f(a,b,c,d){if("linear"===d||!a.length)return[{time:b,pos:0},{time:c,pos:1}];var e,f,g,h,i,j=[],k=[b];for(e=0,f=a.length;e<f;++e)h=a[e],h>b&&h<c&&k.push(h);for(k.push(c),e=0,f=k.length;e<f;++e)i=k[e+1],g=k[e-1],h=k[e],void 0!==g&&void 0!==i&&Math.round((i+g)/2)===h||j.push({time:h,pos:e/(f-1)});return j}function g(a,b,c){for(var d,e,f,g=0,h=a.length-1;g>=0&&g<=h;){if(d=g+h>>1,e=a[d-1]||null,f=a[d],!e)return{lo:null,hi:f};if(f[b]<c)g=d+1;else{if(!(e[b]>c))return{lo:e,hi:f};h=d-1}}return{lo:f,hi:null}}function h(a,b,c,d){var e=g(a,b,c),f=e.lo?e.hi?e.lo:a[a.length-2]:a[0],h=e.lo?e.hi?e.hi:a[a.length-1]:a[1],i=h[b]-f[b],j=i?(c-f[b])/i:0,k=(h[d]-f[d])*j;return f[d]+k}function i(a,b){var c=b.parser,d=b.parser||b.format;return"function"==typeof c?c(a):"string"==typeof a&&"string"==typeof d?r(a,d):(a instanceof r||(a=r(a)),a.isValid()?a:"function"==typeof d?d(a):a)}function j(a,b){if(t.isNullOrUndef(a))return null;var c=b.options.time,d=i(b.getRightValue(a),c);return d.isValid()?(c.round&&d.startOf(c.round),d.valueOf()):null}function k(a,b,c,d){var e,f,g,h=b-a,i=w[c],j=i.size,k=i.steps;if(!k)return Math.ceil(h/((d||1)*j));for(e=0,f=k.length;e<f&&(g=k[e],!(Math.ceil(h/(j*g))<=d));++e);return g}function l(a,b,c,d){var e,f,g,h=x.length;for(e=x.indexOf(a);e<h-1;++e)if(f=w[x[e]],g=f.steps?f.steps[f.steps.length-1]:v,f.common&&Math.ceil((c-b)/(g*f.size))<=d)return x[e];return x[h-1]}function m(a,b,c,d){var e,f,g=r.duration(r(d).diff(r(c))),h=x.length;for(e=h-1;e>=x.indexOf(b);e--)if(f=x[e],w[f].common&&g.as(f)>=a.length)return f;return x[b?x.indexOf(b):0]}function n(a){for(var b=x.indexOf(a)+1,c=x.length;b<c;++b)if(w[x[b]].common)return x[b]}function o(a,b,c,d){var e,f=d.time,g=f.unit||l(f.minUnit,a,b,c),h=n(g),i=t.valueOrDefault(f.stepSize,f.unitStepSize),j="week"===g&&f.isoWeekday,m=d.ticks.major.enabled,o=w[g],p=r(a),q=r(b),s=[];for(i||(i=k(a,b,g,c)),j&&(p=p.isoWeekday(j),q=q.isoWeekday(j)),p=p.startOf(j?"day":g),q=q.startOf(j?"day":g),q<b&&q.add(1,g),e=r(p),m&&h&&!j&&!f.round&&(e.startOf(h),e.add(~~((p-e)/(o.size*i))*i,g));e<q;e.add(i,g))s.push(+e);return s.push(+e),s}function p(a,b,c,d,e){var f,g,i=0,j=0;return e.offset&&b.length&&(e.time.min||(f=b.length>1?b[1]:d,g=b[0],i=(h(a,"time",f,"pos")-h(a,"time",g,"pos"))/2),e.time.max||(f=b[b.length-1],g=b.length>1?b[b.length-2]:c,j=(h(a,"time",f,"pos")-h(a,"time",g,"pos"))/2)),{left:i,right:j}}function q(a,b){var c,d,e,f,g=[];for(c=0,d=a.length;c<d;++c)e=a[c],f=!!b&&e===+r(e).startOf(b),g.push({value:e,major:f});return g}var r=a(1);r="function"==typeof r?r:window.moment;var s=a(25),t=a(45),u=Number.MIN_SAFE_INTEGER||-9007199254740991,v=Number.MAX_SAFE_INTEGER||9007199254740991,w={millisecond:{common:!0,size:1,steps:[1,2,5,10,20,50,100,250,500]},second:{common:!0,size:1e3,steps:[1,2,5,10,30]},minute:{common:!0,size:6e4,steps:[1,2,5,10,30]},hour:{common:!0,size:36e5,steps:[1,2,3,6,12]},day:{common:!0,size:864e5,steps:[1,2,5]},week:{common:!1,size:6048e5,steps:[1,2,3,4]},month:{common:!0,size:2628e6,steps:[1,2,3]},quarter:{common:!1,size:7884e6,steps:[1,2,3,4]},year:{common:!0,size:3154e7}},x=Object.keys(w);b.exports=function(a){var b={position:"bottom",distribution:"linear",bounds:"data",time:{parser:!1,format:!1,unit:!1,round:!1,displayFormat:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{millisecond:"h:mm:ss.SSS a",second:"h:mm:ss a",minute:"h:mm a",hour:"hA",day:"MMM D",week:"ll",month:"MMM YYYY",quarter:"[Q]Q - YYYY",year:"YYYY"}},ticks:{autoSkip:!1,source:"auto",major:{enabled:!1}}},c=a.Scale.extend({initialize:function(){if(!r)throw new Error("Chart.js - Moment.js could not be found! You must include it before Chart.js to use the time scale. Download at https://momentjs.com");this.mergeTicksOptions(),a.Scale.prototype.initialize.call(this)},update:function(){var b=this,c=b.options;return c.time&&c.time.format&&console.warn("options.time.format is deprecated and replaced by options.time.parser."),a.Scale.prototype.update.apply(b,arguments)},getRightValue:function(b){return b&&void 0!==b.t&&(b=b.t),a.Scale.prototype.getRightValue.call(this,b)},determineDataLimits:function(){var a,b,c,f,g,h,i=this,k=i.chart,l=i.options.time,m=v,n=u,o=[],p=[],q=[];for(a=0,c=k.data.labels.length;a<c;++a)q.push(j(k.data.labels[a],i));for(a=0,c=(k.data.datasets||[]).length;a<c;++a)if(k.isDatasetVisible(a))if(g=k.data.datasets[a].data,t.isObject(g[0]))for(p[a]=[],b=0,f=g.length;b<f;++b)h=j(g[b],i),o.push(h),p[a][b]=h;else o.push.apply(o,q),p[a]=q.slice(0);else p[a]=[];q.length&&(q=e(q).sort(d),m=Math.min(m,q[0]),n=Math.max(n,q[q.length-1])),o.length&&(o=e(o).sort(d),m=Math.min(m,o[0]),n=Math.max(n,o[o.length-1])),m=j(l.min,i)||m,n=j(l.max,i)||n,m=m===v?+r().startOf("day"):m,n=n===u?+r().endOf("day")+1:n,i.min=Math.min(m,n),i.max=Math.max(m+1,n),i._horizontal=i.isHorizontal(),i._table=[],i._timestamps={data:o,datasets:p,labels:q}},buildTicks:function(){var a,b,c,d=this,e=d.min,g=d.max,h=d.options,i=h.time,k=[],l=[];switch(h.ticks.source){case"data":k=d._timestamps.data;break;case"labels":k=d._timestamps.labels;break;case"auto":default:k=o(e,g,d.getLabelCapacity(e),h)}for("ticks"===h.bounds&&k.length&&(e=k[0],g=k[k.length-1]),e=j(i.min,d)||e,g=j(i.max,d)||g,a=0,b=k.length;a<b;++a)c=k[a],c>=e&&c<=g&&l.push(c);return d.min=e,d.max=g,d._unit=i.unit||m(l,i.minUnit,d.min,d.max),d._majorUnit=n(d._unit),d._table=f(d._timestamps.data,e,g,h.distribution),d._offsets=p(d._table,l,e,g,h),q(l,d._majorUnit)},getLabelForIndex:function(a,b){var c=this,d=c.chart.data,e=c.options.time,f=d.labels&&a<d.labels.length?d.labels[a]:"",g=d.datasets[b].data[a];return t.isObject(g)&&(f=c.getRightValue(g)),e.tooltipFormat&&(f=i(f,e).format(e.tooltipFormat)),f},tickFormatFunction:function(a,b,c,d){var e=this,f=e.options,g=a.valueOf(),h=f.time.displayFormats,i=h[e._unit],j=e._majorUnit,k=h[j],l=a.clone().startOf(j).valueOf(),m=f.ticks.major,n=m.enabled&&j&&k&&g===l,o=a.format(d?d:n?k:i),p=n?m:f.ticks.minor,q=t.valueOrDefault(p.callback,p.userCallback);return q?q(o,b,c):o},convertTicksToLabels:function(a){var b,c,d=[];for(b=0,c=a.length;b<c;++b)d.push(this.tickFormatFunction(r(a[b].value),b,a));return d},getPixelForOffset:function(a){var b=this,c=b._horizontal?b.width:b.height,d=b._horizontal?b.left:b.top,e=h(b._table,"time",a,"pos");return d+c*(b._offsets.left+e)/(b._offsets.left+1+b._offsets.right)},getPixelForValue:function(a,b,c){var d=this,e=null;if(void 0!==b&&void 0!==c&&(e=d._timestamps.datasets[c][b]),null===e&&(e=j(a,d)),null!==e)return d.getPixelForOffset(e)},getPixelForTick:function(a){var b=this.getTicks();return a>=0&&a<b.length?this.getPixelForOffset(b[a].value):null},getValueForPixel:function(a){var b=this,c=b._horizontal?b.width:b.height,d=b._horizontal?b.left:b.top,e=(c?(a-d)/c:0)*(b._offsets.left+1+b._offsets.left)-b._offsets.right,f=h(b._table,"pos",e,"time");return r(f)},getLabelWidth:function(a){var b=this,c=b.options.ticks,d=b.ctx.measureText(a).width,e=t.toRadians(c.maxRotation),f=Math.cos(e),g=Math.sin(e),h=t.valueOrDefault(c.fontSize,s.global.defaultFontSize);return d*f+h*g},getLabelCapacity:function(a){var b=this,c=b.options.time.displayFormats.millisecond,d=b.tickFormatFunction(r(a),0,[],c),e=b.getLabelWidth(d),f=b.isHorizontal()?b.width:b.height;return Math.floor(f/e)}});a.scaleService.registerScaleType("time",c,b)}},{1:1,25:25,45:45}]},{},[7])(7)}),function(a,b,c){"use strict";function d(a){return function(){var b,c=arguments[0];for(b="["+(a?a+":":"")+c+"] http://errors.angularjs.org/1.4.8/"+(a?a+"/":"")+c,c=1;c<arguments.length;c++){b=b+(1==c?"?":"&")+"p"+(c-1)+"=";var d,e=encodeURIComponent;d=arguments[c],d="function"==typeof d?d.toString().replace(/ \{[\s\S]*$/,""):"undefined"==typeof d?"undefined":"string"!=typeof d?JSON.stringify(d):d,b+=e(d)}return Error(b)}}function e(a){if(null==a||B(a))return!1;if(bd(a)||w(a)||Nc&&a instanceof Nc)return!0;var b="length"in Object(a)&&a.length;return x(b)&&(0<=b&&b-1 in a||"function"==typeof a.item)}function f(a,b,c){var d,g;if(a)if(z(a))for(d in a)"prototype"==d||"length"==d||"name"==d||a.hasOwnProperty&&!a.hasOwnProperty(d)||b.call(c,a[d],d,a);else if(bd(a)||e(a)){var h="object"!=typeof a;for(d=0,g=a.length;d<g;d++)(h||d in a)&&b.call(c,a[d],d,a)}else if(a.forEach&&a.forEach!==f)a.forEach(b,c,a);else if(v(a))for(d in a)b.call(c,a[d],d,a);else if("function"==typeof a.hasOwnProperty)for(d in a)a.hasOwnProperty(d)&&b.call(c,a[d],d,a);else for(d in a)Sc.call(a,d)&&b.call(c,a[d],d,a);return a}function g(a,b,c){for(var d=Object.keys(a).sort(),e=0;e<d.length;e++)b.call(c,a[d[e]],d[e]);return d}function h(a){return function(b,c){a(c,b)}}function i(){return++_c}function j(a,b,c){for(var d=a.$$hashKey,e=0,f=b.length;e<f;++e){var g=b[e];if(u(g)||z(g))for(var h=Object.keys(g),i=0,k=h.length;i<k;i++){var l=h[i],m=g[l];c&&u(m)?y(m)?a[l]=new Date(m.valueOf()):A(m)?a[l]=new RegExp(m):m.nodeName?a[l]=m.cloneNode(!0):F(m)?a[l]=m.clone():(u(a[l])||(a[l]=bd(m)?[]:{}),j(a[l],[m],!0)):a[l]=m}}return d?a.$$hashKey=d:delete a.$$hashKey,a}function k(a){return j(a,Uc.call(arguments,1),!1)}function l(a){return j(a,Uc.call(arguments,1),!0)}function m(a){return parseInt(a,10)}function n(a,b){return k(Object.create(a),b)}function o(){}function p(a){return a}function q(a){return function(){return a}}function r(a){return z(a.toString)&&a.toString!==Xc}function s(a){return"undefined"==typeof a}function t(a){return"undefined"!=typeof a}function u(a){return null!==a&&"object"==typeof a}function v(a){return null!==a&&"object"==typeof a&&!Yc(a)}function w(a){return"string"==typeof a}function x(a){return"number"==typeof a}function y(a){return"[object Date]"===Xc.call(a)}function z(a){return"function"==typeof a}function A(a){return"[object RegExp]"===Xc.call(a)}function B(a){return a&&a.window===a}function C(a){return a&&a.$evalAsync&&a.$watch}function D(a){return"boolean"==typeof a}function E(a){return a&&x(a.length)&&cd.test(Xc.call(a))}function F(a){return!(!a||!(a.nodeName||a.prop&&a.attr&&a.find))}function G(a){var b={};a=a.split(",");var c;for(c=0;c<a.length;c++)b[a[c]]=!0;return b}function H(a){return Rc(a.nodeName||a[0]&&a[0].nodeName)}function I(a,b){var c=a.indexOf(b);return 0<=c&&a.splice(c,1),c}function J(a,b){function c(a,b){var c,e=b.$$hashKey;if(bd(a)){c=0;for(var f=a.length;c<f;c++)b.push(d(a[c]))}else if(v(a))for(c in a)b[c]=d(a[c]);else if(a&&"function"==typeof a.hasOwnProperty)for(c in a)a.hasOwnProperty(c)&&(b[c]=d(a[c]));else for(c in a)Sc.call(a,c)&&(b[c]=d(a[c]));return e?b.$$hashKey=e:delete b.$$hashKey,b}function d(a){if(!u(a))return a;var b=e.indexOf(a);if(-1!==b)return g[b];if(B(a)||C(a))throw Zc("cpws");var d,b=!1;return bd(a)?(d=[],b=!0):E(a)?d=new a.constructor(a):y(a)?d=new Date(a.getTime()):A(a)?(d=new RegExp(a.source,a.toString().match(/[^\/]*$/)[0]),d.lastIndex=a.lastIndex):z(a.cloneNode)?d=a.cloneNode(!0):(d=Object.create(Yc(a)),b=!0),e.push(a),g.push(d),b?c(a,d):d}var e=[],g=[];if(b){if(E(b))throw Zc("cpta");if(a===b)throw Zc("cpi");return bd(b)?b.length=0:f(b,function(a,c){"$$hashKey"!==c&&delete b[c]}),e.push(a),g.push(b),c(a,b)}return d(a)}function K(a,b){if(bd(a)){b=b||[];for(var c=0,d=a.length;c<d;c++)b[c]=a[c]}else if(u(a))for(c in b=b||{},a)"$"===c.charAt(0)&&"$"===c.charAt(1)||(b[c]=a[c]);return b||a}function L(a,b){if(a===b)return!0;if(null===a||null===b)return!1;if(a!==a&&b!==b)return!0;var c,d=typeof a;if(d==typeof b&&"object"==d){if(!bd(a)){if(y(a))return!!y(b)&&L(a.getTime(),b.getTime());if(A(a))return!!A(b)&&a.toString()==b.toString();if(C(a)||C(b)||B(a)||B(b)||bd(b)||y(b)||A(b))return!1;d=ja();for(c in a)if("$"!==c.charAt(0)&&!z(a[c])){if(!L(a[c],b[c]))return!1;d[c]=!0}for(c in b)if(!(c in d)&&"$"!==c.charAt(0)&&t(b[c])&&!z(b[c]))return!1;return!0}if(!bd(b))return!1;if((d=a.length)==b.length){for(c=0;c<d;c++)if(!L(a[c],b[c]))return!1;return!0}}return!1}function M(a,b,c){return a.concat(Uc.call(b,c))}function N(a,b){var c=2<arguments.length?Uc.call(arguments,2):[];return!z(b)||b instanceof RegExp?b:c.length?function(){return arguments.length?b.apply(a,M(c,arguments,0)):b.apply(a,c)}:function(){return arguments.length?b.apply(a,arguments):b.call(a)}}function O(a,d){var e=d;return"string"==typeof a&&"$"===a.charAt(0)&&"$"===a.charAt(1)?e=c:B(d)?e="$WINDOW":d&&b===d?e="$DOCUMENT":C(d)&&(e="$SCOPE"),e}function P(a,b){return"undefined"==typeof a?c:(x(b)||(b=b?2:null),JSON.stringify(a,O,b))}function Q(a){return w(a)?JSON.parse(a):a}function R(a,b){var c=Date.parse("Jan 01, 1970 00:00:00 "+a)/6e4;return isNaN(c)?b:c}function S(a,b,c){c=c?-1:1;var d=R(b,a.getTimezoneOffset());return b=a,a=c*(d-a.getTimezoneOffset()),b=new Date(b.getTime()),b.setMinutes(b.getMinutes()+a),b}function T(a){a=Nc(a).clone();try{a.empty()}catch(a){}var b=Nc("<div>").append(a).html();try{return a[0].nodeType===kd?Rc(b):b.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(a,b){return"<"+Rc(b)})}catch(a){return Rc(b)}}function U(a){try{return decodeURIComponent(a)}catch(a){}}function V(a){var b={};return f((a||"").split("&"),function(a){var c,d,e;a&&(d=a=a.replace(/\+/g,"%20"),c=a.indexOf("="),-1!==c&&(d=a.substring(0,c),e=a.substring(c+1)),d=U(d),t(d)&&(e=!t(e)||U(e),Sc.call(b,d)?bd(b[d])?b[d].push(e):b[d]=[b[d],e]:b[d]=e))}),b}function W(a){var b=[];return f(a,function(a,c){bd(a)?f(a,function(a){b.push(Y(c,!0)+(!0===a?"":"="+Y(a,!0)))}):b.push(Y(c,!0)+(!0===a?"":"="+Y(a,!0)))}),b.length?b.join("&"):""}function X(a){return Y(a,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function Y(a,b){return encodeURIComponent(a).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,b?"%20":"+")}function Z(a,b){var c,d,e=hd.length;for(d=0;d<e;++d)if(c=hd[d]+b,w(c=a.getAttribute(c)))return c;return null}function $(a,b){var c,d,e={};f(hd,function(b){b+="app",!c&&a.hasAttribute&&a.hasAttribute(b)&&(c=a,d=a.getAttribute(b))}),f(hd,function(b){b+="app";var e;!c&&(e=a.querySelector("["+b.replace(":","\\:")+"]"))&&(c=e,d=e.getAttribute(b))}),c&&(e.strictDi=null!==Z(c,"strict-di"),b(c,d?[d]:[],e))}function _(c,d,e){u(e)||(e={}),e=k({strictDi:!1},e);var g=function(){if(c=Nc(c),c.injector()){var a=c[0]===b?"document":T(c);throw Zc("btstrpd",a.replace(/</,"&lt;").replace(/>/,"&gt;"))}return d=d||[],d.unshift(["$provide",function(a){a.value("$rootElement",c)}]),e.debugInfoEnabled&&d.push(["$compileProvider",function(a){a.debugInfoEnabled(!0)}]),d.unshift("ng"),a=Na(d,e.strictDi),a.invoke(["$rootScope","$rootElement","$compile","$injector",function(a,b,c,d){a.$apply(function(){b.data("$injector",d),c(b)(a)})}]),a},h=/^NG_ENABLE_DEBUG_INFO!/,i=/^NG_DEFER_BOOTSTRAP!/;return a&&h.test(a.name)&&(e.debugInfoEnabled=!0,a.name=a.name.replace(h,"")),a&&!i.test(a.name)?g():(a.name=a.name.replace(i,""),$c.resumeBootstrap=function(a){return f(a,function(a){d.push(a)}),g()},void(z($c.resumeDeferredBootstrap)&&$c.resumeDeferredBootstrap()))}function aa(){a.name="NG_ENABLE_DEBUG_INFO!"+a.name,a.location.reload()}function ba(a){if(a=$c.element(a).injector(),!a)throw Zc("test");return a.get("$$testability")}function ca(a,b){return b=b||"_",a.replace(id,function(a,c){return(c?b:"")+a.toLowerCase()})}function da(){var b;if(!jd){var d=gd();(Oc=s(d)?a.jQuery:d?a[d]:c)&&Oc.fn.on?(Nc=Oc,k(Oc.fn,{scope:yd.scope,isolateScope:yd.isolateScope,controller:yd.controller,injector:yd.injector,inheritedData:yd.inheritedData}),b=Oc.cleanData,Oc.cleanData=function(a){var c;if(ad)ad=!1;else for(var d,e=0;null!=(d=a[e]);e++)(c=Oc._data(d,"events"))&&c.$destroy&&Oc(d).triggerHandler("$destroy");b(a)}):Nc=pa,$c.element=Nc,jd=!0}}function ea(a,b,c){if(!a)throw Zc("areq",b||"?",c||"required");return a}function fa(a,b,c){return c&&bd(a)&&(a=a[a.length-1]),ea(z(a),b,"not a function, got "+(a&&"object"==typeof a?a.constructor.name||"Object":typeof a)),a}function ga(a,b){if("hasOwnProperty"===a)throw Zc("badname",b)}function ha(a,b,c){if(!b)return a;b=b.split(".");for(var d,e=a,f=b.length,g=0;g<f;g++)d=b[g],a&&(a=(e=a)[d]);return!c&&z(a)?N(e,a):a}function ia(a){for(var b,c=a[0],d=a[a.length-1],e=1;c!==d&&(c=c.nextSibling);e++)(b||a[e]!==c)&&(b||(b=Nc(Uc.call(a,0,e))),b.push(c));return b||a}function ja(){return Object.create(null)}function ka(a){function b(a,b,c){return a[b]||(a[b]=c())}var c=d("$injector"),e=d("ng");return a=b(a,"angular",Object),a.$$minErr=a.$$minErr||d,b(a,"module",function(){var a={};return function(d,f,g){if("hasOwnProperty"===d)throw e("badname","module");return f&&a.hasOwnProperty(d)&&(a[d]=null),b(a,d,function(){function a(a,b,c,d){return d||(d=e),function(){return d[c||"push"]([a,b,arguments]),k}}function b(a,b){return function(c,f){return f&&z(f)&&(f.$$moduleName=d),e.push([a,b,arguments]),k}}if(!f)throw c("nomod",d);var e=[],h=[],i=[],j=a("$injector","invoke","push",h),k={_invokeQueue:e,_configBlocks:h,_runBlocks:i,requires:f,name:d,provider:b("$provide","provider"),factory:b("$provide","factory"),service:b("$provide","service"),value:a("$provide","value"),constant:a("$provide","constant","unshift"),decorator:b("$provide","decorator"),animation:b("$animateProvider","register"),filter:b("$filterProvider","register"),controller:b("$controllerProvider","register"),directive:b("$compileProvider","directive"),config:j,run:function(a){return i.push(a),this}};return g&&j(g),k})}})}function la(b){k(b,{bootstrap:_,copy:J,extend:k,merge:l,equals:L,element:Nc,forEach:f,injector:Na,noop:o,bind:N,toJson:P,fromJson:Q,identity:p,isUndefined:s,isDefined:t,isString:w,isFunction:z,isObject:u,isNumber:x,isElement:F,isArray:bd,version:ld,isDate:y,lowercase:Rc,uppercase:Tc,callbacks:{counter:0},getTestability:ba,$$minErr:d,$$csp:fd,reloadWithDebugInfo:aa}),(Pc=ka(a))("ng",["ngLocale"],["$provide",function(a){a.provider({$$sanitizeUri:Xb}),a.provider("$compile",Wa).directive({a:we,input:Me,textarea:Me,form:Ae,script:Bf,select:Ef,style:Gf,option:Ff,ngBind:Pe,ngBindHtml:Re,ngBindTemplate:Qe,ngClass:Te,ngClassEven:Ve,ngClassOdd:Ue,ngCloak:We,ngController:Xe,ngForm:Be,ngHide:vf,ngIf:$e,ngInclude:_e,ngInit:bf,ngNonBindable:of,ngPluralize:sf,ngRepeat:tf,ngShow:uf,ngStyle:wf,ngSwitch:xf,ngSwitchWhen:yf,ngSwitchDefault:zf,ngOptions:rf,ngTransclude:Af,ngModel:lf,ngList:cf,ngChange:Se,pattern:If,ngPattern:If,required:Hf,ngRequired:Hf,minlength:Kf,ngMinlength:Kf,maxlength:Jf,ngMaxlength:Jf,ngValue:Oe,ngModelOptions:nf}).directive({ngInclude:af}).directive(xe).directive(Ye),a.provider({$anchorScroll:Oa,$animate:Ld,$animateCss:Md,$$animateQueue:Kd,$$AnimateRunner:Jd,$browser:Ta,$cacheFactory:Ua,$controller:$a,$document:_a,$exceptionHandler:ab,$filter:jc,$$forceReflow:Rd,$interpolate:mb,$interval:nb,$http:ib,$httpParamSerializer:cb,$httpParamSerializerJQLike:db,$httpBackend:kb,$xhrFactory:jb,$location:zb,$log:Ab,$parse:Rb,$rootScope:Wb,$q:Sb,$$q:Tb,$sce:_b,$sceDelegate:$b,$sniffer:ac,$templateCache:Va,$templateRequest:bc,$$testability:cc,$timeout:dc,$window:gc,$$rAF:Vb,$$jqLite:Ja,$$HashMap:Cd,$$cookieReader:ic})}])}function ma(a){return a.replace(od,function(a,b,c,d){return d?c.toUpperCase():c}).replace(pd,"Moz$1")}function na(a){return a=a.nodeType,1===a||!a||9===a}function oa(a,b){var c,d,e=b.createDocumentFragment(),g=[];if(td.test(a)){for(c=c||e.appendChild(b.createElement("div")),d=(ud.exec(a)||["",""])[1].toLowerCase(),d=wd[d]||wd._default,c.innerHTML=d[1]+a.replace(vd,"<$1></$2>")+d[2],d=d[0];d--;)c=c.lastChild;g=M(g,c.childNodes),c=e.firstChild,c.textContent=""}else g.push(b.createTextNode(a));return e.textContent="",e.innerHTML="",f(g,function(a){e.appendChild(a)}),e}function pa(a){if(a instanceof pa)return a;var c;if(w(a)&&(a=dd(a),c=!0),!(this instanceof pa)){if(c&&"<"!=a.charAt(0))throw rd("nosel");return new pa(a)}if(c){c=b;var d;a=(d=sd.exec(a))?[c.createElement(d[1])]:(d=oa(a,c))?d.childNodes:[]}za(this,a)}function qa(a){return a.cloneNode(!0)}function ra(a,b){if(b||ta(a),a.querySelectorAll)for(var c=a.querySelectorAll("*"),d=0,e=c.length;d<e;d++)ta(c[d])}function sa(a,b,c,d){if(t(d))throw rd("offargs");var e=(d=ua(a))&&d.events,g=d&&d.handle;if(g)if(b){var h=function(b){var d=e[b];t(c)&&I(d||[],c),t(c)&&d&&0<d.length||(a.removeEventListener(b,g,!1),delete e[b])};f(b.split(" "),function(a){h(a),qd[a]&&h(qd[a])})}else for(b in e)"$destroy"!==b&&a.removeEventListener(b,g,!1),delete e[b]}function ta(a,b){var d=a.ng339,e=d&&md[d];e&&(b?delete e.data[b]:(e.handle&&(e.events.$destroy&&e.handle({},"$destroy"),sa(a)),delete md[d],a.ng339=c))}function ua(a,b){var d=a.ng339,d=d&&md[d];return b&&!d&&(a.ng339=d=++nd,d=md[d]={events:{},data:{},handle:c}),d}function va(a,b,c){if(na(a)){var d=t(c),e=!d&&b&&!u(b),f=!b;if(a=(a=ua(a,!e))&&a.data,d)a[b]=c;else{if(f)return a;if(e)return a&&a[b];k(a,b)}}}function wa(a,b){return!!a.getAttribute&&-1<(" "+(a.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+b+" ")}function xa(a,b){b&&a.setAttribute&&f(b.split(" "),function(b){a.setAttribute("class",dd((" "+(a.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+dd(b)+" "," ")))})}function ya(a,b){if(b&&a.setAttribute){var c=(" "+(a.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");f(b.split(" "),function(a){a=dd(a),-1===c.indexOf(" "+a+" ")&&(c+=a+" ")}),a.setAttribute("class",dd(c))}}function za(a,b){if(b)if(b.nodeType)a[a.length++]=b;else{var c=b.length;if("number"==typeof c&&b.window!==b){if(c)for(var d=0;d<c;d++)a[a.length++]=b[d]}else a[a.length++]=b}}function Aa(a,b){return Ba(a,"$"+(b||"ngController")+"Controller")}function Ba(a,b,c){for(9==a.nodeType&&(a=a.documentElement),b=bd(b)?b:[b];a;){for(var d=0,e=b.length;d<e;d++)if(t(c=Nc.data(a,b[d])))return c;a=a.parentNode||11===a.nodeType&&a.host}}function Ca(a){for(ra(a,!0);a.firstChild;)a.removeChild(a.firstChild)}function Da(a,b){b||ra(a);var c=a.parentNode;c&&c.removeChild(a)}function Ea(b,c){c=c||a,"complete"===c.document.readyState?c.setTimeout(b):Nc(c).on("load",b)}function Fa(a,b){var c=zd[b.toLowerCase()];return c&&Ad[H(a)]&&c}function Ga(a,b){var c=function(c,d){c.isDefaultPrevented=function(){return c.defaultPrevented};var e=b[d||c.type],f=e?e.length:0;if(f){if(s(c.immediatePropagationStopped)){var g=c.stopImmediatePropagation;c.stopImmediatePropagation=function(){c.immediatePropagationStopped=!0,c.stopPropagation&&c.stopPropagation(),g&&g.call(c)}}c.isImmediatePropagationStopped=function(){return!0===c.immediatePropagationStopped};var h=e.specialHandlerWrapper||Ha;1<f&&(e=K(e));for(var i=0;i<f;i++)c.isImmediatePropagationStopped()||h(a,c,e[i])}};return c.elem=a,c}function Ha(a,b,c){c.call(a,b)}function Ia(a,b,c){var d=b.relatedTarget;d&&(d===a||xd.call(a,d))||c.call(a,b)}function Ja(){this.$get=function(){return k(pa,{hasClass:function(a,b){return a.attr&&(a=a[0]),wa(a,b)},addClass:function(a,b){return a.attr&&(a=a[0]),ya(a,b)},removeClass:function(a,b){return a.attr&&(a=a[0]),xa(a,b)}})}}function Ka(a,b){var c=a&&a.$$hashKey;return c?("function"==typeof c&&(c=a.$$hashKey()),c):(c=typeof a,c="function"==c||"object"==c&&null!==a?a.$$hashKey=c+":"+(b||i)():c+":"+a)}function La(a,b){if(b){var c=0;this.nextUid=function(){return++c}}f(a,this.put,this)}function Ma(a){return(a=a.toString().replace(Gd,"").match(Dd))?"function("+(a[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}function Na(a,b){function d(a){return function(b,c){return u(b)?void f(b,h(a)):a(b,c)}}function e(a,b){if(ga(a,"service"),(z(b)||bd(b))&&(b=p.instantiate(b)),!b.$get)throw Hd("pget",a);return o[a+"Provider"]=b}function g(a,b){return function(){var c=t.invoke(b,this);if(s(c))throw Hd("undef",a);return c}}function i(a,b,c){return e(a,{$get:!1!==c?g(a,b):b})}function j(a){ea(s(a)||bd(a),"modulesToLoad","not an array");var b,c=[];return f(a,function(a){function d(a){var b,c;for(b=0,c=a.length;b<c;b++){var d=a[b],e=p.get(d[0]);e[d[1]].apply(e,d[2])}}if(!n.get(a)){n.put(a,!0);try{w(a)?(b=Pc(a),c=c.concat(j(b.requires)).concat(b._runBlocks),d(b._invokeQueue),d(b._configBlocks)):z(a)?c.push(p.invoke(a)):bd(a)?c.push(p.invoke(a)):fa(a,"module")}catch(b){throw bd(a)&&(a=a[a.length-1]),b.message&&b.stack&&-1==b.stack.indexOf(b.message)&&(b=b.message+"\n"+b.stack),Hd("modulerr",a,b.stack||b.message||b)}}}),c}function k(a,c){function d(b,d){if(a.hasOwnProperty(b)){if(a[b]===l)throw Hd("cdep",b+" <- "+m.join(" <- "));return a[b]}try{return m.unshift(b),a[b]=l,a[b]=c(b,d)}catch(c){throw a[b]===l&&delete a[b],c}finally{m.shift()}}function e(a,c,e,f){"string"==typeof e&&(f=e,e=null);var g,h,i,j=[],k=Na.$$annotate(a,b,f);for(h=0,g=k.length;h<g;h++){if(i=k[h],"string"!=typeof i)throw Hd("itkn",i);j.push(e&&e.hasOwnProperty(i)?e[i]:d(i,f))}return bd(a)&&(a=a[g]),a.apply(c,j)}return{invoke:e,instantiate:function(a,b,c){var d=Object.create((bd(a)?a[a.length-1]:a).prototype||null);return a=e(a,d,b,c),u(a)||z(a)?a:d},get:d,annotate:Na.$$annotate,has:function(b){return o.hasOwnProperty(b+"Provider")||a.hasOwnProperty(b)}}}b=!0===b;var l={},m=[],n=new La([],!0),o={$provide:{provider:d(e),factory:d(i),service:d(function(a,b){return i(a,["$injector",function(a){return a.instantiate(b)}])}),value:d(function(a,b){return i(a,q(b),!1)}),constant:d(function(a,b){ga(a,"constant"),o[a]=b,r[a]=b}),decorator:function(a,b){var c=p.get(a+"Provider"),d=c.$get;c.$get=function(){var a=t.invoke(d,c);return t.invoke(b,null,{$delegate:a})}}}},p=o.$injector=k(o,function(a,b){throw $c.isString(b)&&m.push(b),Hd("unpr",m.join(" <- "))}),r={},t=r.$injector=k(r,function(a,b){var d=p.get(a+"Provider",b);return t.invoke(d.$get,d,c,a)});return f(j(a),function(a){a&&t.invoke(a)}),t}function Oa(){var a=!0;this.disableAutoScrolling=function(){a=!1},this.$get=["$window","$location","$rootScope",function(b,c,d){function e(a){var b=null;return Array.prototype.some.call(a,function(a){if("a"===H(a))return b=a,!0}),b}function f(a){if(a){a.scrollIntoView();var c;c=g.yOffset,z(c)?c=c():F(c)?(c=c[0],c="fixed"!==b.getComputedStyle(c).position?0:c.getBoundingClientRect().bottom):x(c)||(c=0),c&&(a=a.getBoundingClientRect().top,b.scrollBy(0,a-c))}else b.scrollTo(0,0)}function g(a){a=w(a)?a:c.hash();var b;a?(b=h.getElementById(a))?f(b):(b=e(h.getElementsByName(a)))?f(b):"top"===a&&f(null):f(null)}var h=b.document;return a&&d.$watch(function(){return c.hash()},function(a,b){a===b&&""===a||Ea(function(){d.$evalAsync(g)})}),g}]}function Pa(a,b){return a||b?a?b?(bd(a)&&(a=a.join(" ")),bd(b)&&(b=b.join(" ")),a+" "+b):a:b:""}function Qa(a){w(a)&&(a=a.split(" "));var b=ja();return f(a,function(a){a.length&&(b[a]=!0)}),b}function Ra(a){return u(a)?a:{}}function Sa(a,b,c,d){function e(a){try{a.apply(null,Uc.call(arguments,1))}finally{if(q--,0===q)for(;r.length;)try{r.pop()()}catch(a){c.error(a)}}}function g(){x=null,h(),i()}function h(){a:{try{t=l.state;break a}catch(a){}t=void 0}t=s(t)?null:t,L(t,A)&&(t=A),A=t}function i(){v===j.url()&&u===t||(v=j.url(),u=t,f(y,function(a){a(j.url(),t)}))}var j=this,k=a.location,l=a.history,m=a.setTimeout,n=a.clearTimeout,p={};j.isMock=!1;var q=0,r=[];j.$$completeOutstandingRequest=e,j.$$incOutstandingRequestCount=function(){q++},j.notifyWhenNoOutstandingRequests=function(a){0===q?a():r.push(a)};var t,u,v=k.href,w=b.find("base"),x=null;h(),u=t,j.url=function(b,c,e){if(s(e)&&(e=null),k!==a.location&&(k=a.location),l!==a.history&&(l=a.history),b){var f=u===e;if(v===b&&(!d.history||f))return j;var g=v&&sb(v)===sb(b);return v=b,u=e,!d.history||g&&f?(g&&!x||(x=b),c?k.replace(b):g?(c=k,e=b.indexOf("#"),e=-1===e?"":b.substr(e),c.hash=e):k.href=b,k.href!==b&&(x=b)):(l[c?"replaceState":"pushState"](e,"",b),h(),u=t),j}return x||k.href.replace(/%27/g,"'")},j.state=function(){return t};var y=[],z=!1,A=null;j.onUrlChange=function(b){return z||(d.history&&Nc(a).on("popstate",g),Nc(a).on("hashchange",g),z=!0),y.push(b),b},j.$$applicationDestroyed=function(){Nc(a).off("hashchange popstate",g)},j.$$checkUrlChange=i,j.baseHref=function(){var a=w.attr("href");return a?a.replace(/^(https?\:)?\/\/[^\/]*/,""):""},j.defer=function(a,b){var c;return q++,c=m(function(){delete p[c],e(a)},b||0),p[c]=!0,c},j.defer.cancel=function(a){return!!p[a]&&(delete p[a],n(a),e(o),!0)}}function Ta(){this.$get=["$window","$log","$sniffer","$document",function(a,b,c,d){return new Sa(a,d,b,c)}]}function Ua(){this.$get=function(){function a(a,c){function e(a){a!=m&&(n?n==a&&(n=a.n):n=a,f(a.n,a.p),f(a,m),m=a,m.n=null)}function f(a,b){a!=b&&(a&&(a.p=b),b&&(b.n=a))}if(a in b)throw d("$cacheFactory")("iid",a);var g=0,h=k({},c,{id:a}),i=ja(),j=c&&c.capacity||Number.MAX_VALUE,l=ja(),m=null,n=null;return b[a]={put:function(a,b){if(!s(b)){if(j<Number.MAX_VALUE){var c=l[a]||(l[a]={key:a});e(c)}return a in i||g++,i[a]=b,g>j&&this.remove(n.key),b}},get:function(a){if(j<Number.MAX_VALUE){var b=l[a];if(!b)return;e(b)}return i[a]},remove:function(a){if(j<Number.MAX_VALUE){var b=l[a];if(!b)return;b==m&&(m=b.p),b==n&&(n=b.n),f(b.n,b.p),delete l[a]}a in i&&(delete i[a],g--)},removeAll:function(){i=ja(),g=0,l=ja(),m=n=null},destroy:function(){l=h=i=null,delete b[a]},info:function(){return k({},h,{size:g})}}}var b={};return a.info=function(){var a={};return f(b,function(b,c){a[c]=b.info()}),a},a.get=function(a){return b[a]},a}}function Va(){this.$get=["$cacheFactory",function(a){return a("templates")}]}function Wa(a,d){function e(a,b,c){var d=/^\s*([@&]|=(\*?))(\??)\s*(\w*)\s*$/,e={};return f(a,function(a,f){var g=a.match(d);if(!g)throw Nd("iscp",b,f,a,c?"controller bindings definition":"isolate scope definition");e[f]={mode:g[1][0],collection:"*"===g[2],optional:"?"===g[3],attrName:g[4]||f}}),e}function g(a){var b=a.charAt(0);if(!b||b!==Rc(b))throw Nd("baddir",a);if(a!==a.trim())throw Nd("baddir",a)}var i={},j=/^\s*directive\:\s*([\w\-]+)\s+(.*)$/,l=/(([\w\-]+)(?:\:([^;]+))?;?)/,m=G("ngSrc,ngSrcset,src,srcset"),r=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,v=/^(on[a-z]+|formaction)$/;this.directive=function b(c,d){return ga(c,"directive"),w(c)?(g(c),ea(d,"directiveFactory"),i.hasOwnProperty(c)||(i[c]=[],a.factory(c+"Directive",["$injector","$exceptionHandler",function(a,b){var d=[];return f(i[c],function(f,g){try{var h=a.invoke(f);z(h)?h={compile:q(h)}:!h.compile&&h.link&&(h.compile=q(h.link)),h.priority=h.priority||0,h.index=g,h.name=h.name||c,h.require=h.require||h.controller&&h.name,h.restrict=h.restrict||"EA";var i=h,j=h,k=h.name,l={isolateScope:null,bindToController:null};if(u(j.scope)&&(!0===j.bindToController?(l.bindToController=e(j.scope,k,!0),l.isolateScope={}):l.isolateScope=e(j.scope,k,!1)),u(j.bindToController)&&(l.bindToController=e(j.bindToController,k,!0)),u(l.bindToController)){var m=j.controller,n=j.controllerAs;if(!m)throw Nd("noctrl",k);var o;a:if(n&&w(n))o=n;else{if(w(m)){var p=Qd.exec(m);if(p){o=p[3];break a}}o=void 0}if(!o)throw Nd("noident",k)}var r=i.$$bindings=l;u(r.isolateScope)&&(h.$$isolateBindings=r.isolateScope),h.$$moduleName=f.$$moduleName,d.push(h)}catch(a){b(a)}}),d}])),i[c].push(d)):f(c,h(b)),this},this.aHrefSanitizationWhitelist=function(a){return t(a)?(d.aHrefSanitizationWhitelist(a),this):d.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(a){return t(a)?(d.imgSrcSanitizationWhitelist(a),this):d.imgSrcSanitizationWhitelist()};var x=!0;this.debugInfoEnabled=function(a){return t(a)?(x=a,this):x},this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$document","$sce","$animate","$$sanitizeUri",function(a,d,e,g,h,q,t,y,A,B,D){
function E(a,b){try{a.addClass(b)}catch(a){}}function F(a,b,c,d,e){a instanceof Nc||(a=Nc(a)),f(a,function(b,c){b.nodeType==kd&&b.nodeValue.match(/\S+/)&&(a[c]=Nc(b).wrap("<span></span>").parent()[0])});var g=G(a,b,a,c,d,e);F.$$addScopeClass(a);var h=null;return function(b,c,d){ea(b,"scope"),e&&e.needsNewScope&&(b=b.$parent.$new()),d=d||{};var f=d.parentBoundTranscludeFn,i=d.transcludeControllers;if(d=d.futureParentElement,f&&f.$$boundTransclude&&(f=f.$$boundTransclude),h||(h=(d=d&&d[0])&&"foreignobject"!==H(d)&&d.toString().match(/SVG/)?"svg":"html"),d="html"!==h?Nc(Y(h,Nc("<div>").append(a).html())):c?yd.clone.call(a):a,i)for(var j in i)d.data("$"+j+"Controller",i[j].instance);return F.$$addScopeInfo(d,b),c&&c(d,b),g&&g(b,d,d,f),d}}function G(a,b,d,e,f,g){function h(a,d,e,f){var g,h,i,j,k,l,o;if(m)for(o=Array(d.length),j=0;j<n.length;j+=3)g=n[j],o[g]=d[g];else o=d;for(j=0,k=n.length;j<k;)h=o[n[j++]],d=n[j++],g=n[j++],d?(d.scope?(i=a.$new(),F.$$addScopeInfo(Nc(h),i)):i=a,l=d.transcludeOnThisElement?J(a,d.transclude,f):!d.templateOnThisElement&&f?f:!f&&b?J(a,b):null,d(g,i,h,e,l)):g&&g(a,h.childNodes,c,f)}for(var i,j,k,l,m,n=[],o=0;o<a.length;o++)i=new fa,j=K(a[o],[],i,0===o?e:c,f),(g=j.length?O(j,a[o],i,b,d,null,[],[],g):null)&&g.scope&&F.$$addScopeClass(i.$$element),i=g&&g.terminal||!(k=a[o].childNodes)||!k.length?null:G(k,g?(g.transcludeOnThisElement||!g.templateOnThisElement)&&g.transclude:b),(g||i)&&(n.push(o,g,i),l=!0,m=m||g),g=null;return l?h:null}function J(a,b,c){return function(d,e,f,g,h){return d||(d=a.$new(!1,h),d.$$transcluded=!0),b(d,e,{parentBoundTranscludeFn:c,transcludeControllers:f,futureParentElement:g})}}function K(a,b,c,d,e){var f,g=c.$attr;switch(a.nodeType){case 1:Q(b,Xa(H(a)),"E",d,e);for(var h,i,k,m=a.attributes,n=0,o=m&&m.length;n<o;n++){var p=!1,q=!1;h=m[n],f=h.name,i=dd(h.value),h=Xa(f),(k=ka.test(h))&&(f=f.replace(Od,"").substr(8).replace(/_(.)/g,function(a,b){return b.toUpperCase()})),(h=h.match(la))&&R(h[1])&&(p=f,q=f.substr(0,f.length-5)+"end",f=f.substr(0,f.length-6)),h=Xa(f.toLowerCase()),g[h]=f,!k&&c.hasOwnProperty(h)||(c[h]=i,Fa(a,h)&&(c[h]=!0)),$(a,b,i,h,k),Q(b,h,"A",d,e,p,q)}if(a=a.className,u(a)&&(a=a.animVal),w(a)&&""!==a)for(;f=l.exec(a);)h=Xa(f[2]),Q(b,h,"C",d,e)&&(c[h]=dd(f[3])),a=a.substr(f.index+f[0].length);break;case kd:if(11===Mc)for(;a.parentNode&&a.nextSibling&&a.nextSibling.nodeType===kd;)a.nodeValue+=a.nextSibling.nodeValue,a.parentNode.removeChild(a.nextSibling);X(b,a.nodeValue);break;case 8:try{(f=j.exec(a.nodeValue))&&(h=Xa(f[1]),Q(b,h,"M",d,e)&&(c[h]=dd(f[2])))}catch(a){}}return b.sort(V),b}function M(a,b,c){var d=[],e=0;if(b&&a.hasAttribute&&a.hasAttribute(b)){do{if(!a)throw Nd("uterdir",b,c);1==a.nodeType&&(a.hasAttribute(b)&&e++,a.hasAttribute(c)&&e--),d.push(a),a=a.nextSibling}while(0<e)}else d.push(a);return Nc(d)}function N(a,b,c){return function(d,e,f,g,h){return e=M(e[0],b,c),a(d,e,f,g,h)}}function O(a,d,f,g,h,i,j,k,l){function m(a,b,c,d){a&&(c&&(a=N(a,c,d)),a.require=s.require,a.directiveName=t,(D===s||s.$$isolateScope)&&(a=aa(a,{isolateScope:!0})),j.push(a)),b&&(c&&(b=N(b,c,d)),b.require=s.require,b.directiveName=t,(D===s||s.$$isolateScope)&&(b=aa(b,{isolateScope:!0})),k.push(b))}function n(a,b,c,d){var e;if(w(b)){var f=b.match(r);b=b.substring(f[0].length);var g=f[1]||f[3],f="?"===f[2];if("^^"===g?c=c.parent():e=(e=d&&d[b])&&e.instance,e||(d="$"+b+"Controller",e=g?c.inheritedData(d):c.data(d)),!e&&!f)throw Nd("ctreq",b,a)}else if(bd(b))for(e=[],g=0,f=b.length;g<f;g++)e[g]=n(a,b[g],c,d);return e||null}function o(a,b,c,d,e,f){var g,h=ja();for(g in d){var i=d[g],j={$scope:i===D||i.$$isolateScope?e:f,$element:a,$attrs:b,$transclude:c},k=i.controller;"@"==k&&(k=b[i.name]),j=q(k,j,!0,i.controllerAs),h[i.name]=j,J||a.data("$"+i.name+"Controller",j.instance)}return h}function p(a,b,e,g,h){function i(a,b,d){var e;return C(a)||(d=b,b=a,a=c),J&&(e=q),d||(d=J?s.parent():s),h(a,b,e,d,y)}var l,m,p,q,r,s,t;d===e?(g=f,s=f.$$element):(s=Nc(e),g=new fa(s,f)),p=b,D?m=b.$new(!0):A&&(p=b.$parent),h&&(r=i,r.$$boundTransclude=h),B&&(q=o(s,g,r,B,m,b)),D&&(F.$$addScopeInfo(s,m,!0,!(E&&(E===D||E===D.$$originalDirective))),F.$$addScopeClass(s,!0),m.$$isolateBindings=D.$$isolateBindings,(t=da(b,g,m,m.$$isolateBindings,D))&&m.$on("$destroy",t));for(var u in q){t=B[u];var v=q[u],w=t.$$bindings.bindToController;v.identifier&&w&&(l=da(p,g,v.instance,w,t));var x=v();x!==v.instance&&(v.instance=x,s.data("$"+t.name+"Controller",x),l&&l(),l=da(p,g,v.instance,w,t))}for(Q=0,R=j.length;Q<R;Q++)l=j[Q],ba(l,l.isolateScope?m:b,s,g,l.require&&n(l.directiveName,l.require,s,q),r);var y=b;for(D&&(D.template||null===D.templateUrl)&&(y=m),a&&a(y,e.childNodes,c,h),Q=k.length-1;0<=Q;Q--)l=k[Q],ba(l,l.isolateScope?m:b,s,g,l.require&&n(l.directiveName,l.require,s,q),r)}l=l||{};for(var s,t,v,x,y=-Number.MAX_VALUE,A=l.newScopeDirective,B=l.controllerDirectives,D=l.newIsolateScopeDirective,E=l.templateDirective,G=l.nonTlbTranscludeDirective,H=!1,I=!1,J=l.hasElementTranscludeDirective,L=f.$$element=Nc(d),O=g,Q=0,R=a.length;Q<R;Q++){s=a[Q];var V=s.$$start,X=s.$$end;if(V&&(L=M(d,V,X)),v=c,y>s.priority)break;if((v=s.scope)&&(s.templateUrl||(u(v)?(W("new/isolated scope",D||A,s,L),D=s):W("new/isolated scope",D,s,L)),A=A||s),t=s.name,!s.templateUrl&&s.controller&&(v=s.controller,B=B||ja(),W("'"+t+"' controller",B[t],s,L),B[t]=s),(v=s.transclude)&&(H=!0,s.$$tlb||(W("transclusion",G,s,L),G=s),"element"==v?(J=!0,y=s.priority,v=L,L=f.$$element=Nc(b.createComment(" "+t+": "+f[t]+" ")),d=L[0],_(h,Uc.call(v,0),d),O=F(v,g,y,i&&i.name,{nonTlbTranscludeDirective:G})):(v=Nc(qa(d)).contents(),L.empty(),O=F(v,g,c,c,{needsNewScope:s.$$isolateScope||s.$$newScope}))),s.template)if(I=!0,W("template",E,s,L),E=s,v=z(s.template)?s.template(L,f):s.template,v=ia(v),s.replace){if(i=s,v=td.test(v)?Za(Y(s.templateNamespace,dd(v))):[],d=v[0],1!=v.length||1!==d.nodeType)throw Nd("tplrt",t,"");_(h,L,d),v={$attr:{}};var Z=K(d,[],v),$=a.splice(Q+1,a.length-(Q+1));(D||A)&&P(Z,D,A),a=a.concat(Z).concat($),S(f,v),R=a.length}else L.html(v);if(s.templateUrl)I=!0,W("template",E,s,L),E=s,s.replace&&(i=s),p=U(a.splice(Q,a.length-Q),L,f,h,H&&O,j,k,{controllerDirectives:B,newScopeDirective:A!==s&&A,newIsolateScopeDirective:D,templateDirective:E,nonTlbTranscludeDirective:G}),R=a.length;else if(s.compile)try{x=s.compile(L,f,O),z(x)?m(null,x,V,X):x&&m(x.pre,x.post,V,X)}catch(a){e(a,T(L))}s.terminal&&(p.terminal=!0,y=Math.max(y,s.priority))}return p.scope=A&&!0===A.scope,p.transcludeOnThisElement=H,p.templateOnThisElement=I,p.transclude=O,l.hasElementTranscludeDirective=J,p}function P(a,b,c){for(var d=0,e=a.length;d<e;d++)a[d]=n(a[d],{$$isolateScope:b,$$newScope:c})}function Q(b,c,d,f,g,h,j){if(c===g)return null;if(g=null,i.hasOwnProperty(c)){var k;c=a.get(c+"Directive");for(var l=0,m=c.length;l<m;l++)try{k=c[l],(s(f)||f>k.priority)&&-1!=k.restrict.indexOf(d)&&(h&&(k=n(k,{$$start:h,$$end:j})),b.push(k),g=k)}catch(a){e(a)}}return g}function R(b){if(i.hasOwnProperty(b))for(var c=a.get(b+"Directive"),d=0,e=c.length;d<e;d++)if(b=c[d],b.multiElement)return!0;return!1}function S(a,b){var c=b.$attr,d=a.$attr,e=a.$$element;f(a,function(d,e){"$"!=e.charAt(0)&&(b[e]&&b[e]!==d&&(d+=("style"===e?";":" ")+b[e]),a.$set(e,d,!0,c[e]))}),f(b,function(b,f){"class"==f?(E(e,b),a.class=(a.class?a.class+" ":"")+b):"style"==f?(e.attr("style",e.attr("style")+";"+b),a.style=(a.style?a.style+";":"")+b):"$"==f.charAt(0)||a.hasOwnProperty(f)||(a[f]=b,d[f]=c[f])})}function U(a,b,c,d,e,h,i,j){var k,l,m=[],o=b[0],p=a.shift(),q=n(p,{templateUrl:null,transclude:null,replace:null,$$originalDirective:p}),r=z(p.templateUrl)?p.templateUrl(b,c):p.templateUrl,s=p.templateNamespace;return b.empty(),g(r).then(function(g){var n,t;if(g=ia(g),p.replace){if(g=td.test(g)?Za(Y(s,dd(g))):[],n=g[0],1!=g.length||1!==n.nodeType)throw Nd("tplrt",p.name,r);g={$attr:{}},_(d,b,n);var v=K(n,[],g);u(p.scope)&&P(v,!0),a=v.concat(a),S(c,g)}else n=o,b.html(g);for(a.unshift(q),k=O(a,n,c,e,b,p,h,i,j),f(d,function(a,c){a==n&&(d[c]=b[0])}),l=G(b[0].childNodes,e);m.length;){g=m.shift(),t=m.shift();var w=m.shift(),x=m.shift(),v=b[0];if(!g.$$destroyed){if(t!==o){var y=t.className;j.hasElementTranscludeDirective&&p.replace||(v=qa(n)),_(w,Nc(t),v),E(Nc(v),y)}t=k.transcludeOnThisElement?J(g,k.transclude,x):x,k(l,g,v,d,t)}}m=null}),function(a,b,c,d,e){a=e,b.$$destroyed||(m?m.push(b,c,d,a):(k.transcludeOnThisElement&&(a=J(b,k.transclude,e)),k(l,b,c,d,a)))}}function V(a,b){var c=b.priority-a.priority;return 0!==c?c:a.name!==b.name?a.name<b.name?-1:1:a.index-b.index}function W(a,b,c,d){function e(a){return a?" (module: "+a+")":""}if(b)throw Nd("multidir",b.name,e(b.$$moduleName),c.name,e(c.$$moduleName),a,T(d))}function X(a,b){var c=d(b,!0);c&&a.push({priority:0,compile:function(a){a=a.parent();var b=!!a.length;return b&&F.$$addBindingClass(a),function(a,d){var e=d.parent();b||F.$$addBindingClass(e),F.$$addBindingInfo(e,c.expressions),a.$watch(c,function(a){d[0].nodeValue=a})}}})}function Y(a,c){switch(a=Rc(a||"html")){case"svg":case"math":var d=b.createElement("div");return d.innerHTML="<"+a+">"+c+"</"+a+">",d.childNodes[0].childNodes;default:return c}}function Z(a,b){if("srcdoc"==b)return A.HTML;var c=H(a);return"xlinkHref"==b||"form"==c&&"action"==b||"img"!=c&&("src"==b||"ngSrc"==b)?A.RESOURCE_URL:void 0}function $(a,b,c,e,f){var g=Z(a,e);f=m[e]||f;var h=d(c,!0,g,f);if(h){if("multiple"===e&&"select"===H(a))throw Nd("selmulti",T(a));b.push({priority:100,compile:function(){return{pre:function(a,b,i){if(b=i.$$observers||(i.$$observers=ja()),v.test(e))throw Nd("nodomevents");var j=i[e];j!==c&&(h=j&&d(j,!0,g,f),c=j),h&&(i[e]=h(a),(b[e]||(b[e]=[])).$$inter=!0,(i.$$observers&&i.$$observers[e].$$scope||a).$watch(h,function(a,b){"class"===e&&a!=b?i.$updateClass(a,b):i.$set(e,a)}))}}}})}}function _(a,c,d){var e,f,g=c[0],h=c.length,i=g.parentNode;if(a)for(e=0,f=a.length;e<f;e++)if(a[e]==g){a[e++]=d,f=e+h-1;for(var j=a.length;e<j;e++,f++)f<j?a[e]=a[f]:delete a[e];a.length-=h-1,a.context===g&&(a.context=d);break}for(i&&i.replaceChild(d,g),a=b.createDocumentFragment(),a.appendChild(g),Nc.hasData(g)&&(Nc.data(d,Nc.data(g)),Oc?(ad=!0,Oc.cleanData([g])):delete Nc.cache[g[Nc.expando]]),g=1,h=c.length;g<h;g++)i=c[g],Nc(i).remove(),a.appendChild(i),delete c[g];c[0]=d,c.length=1}function aa(a,b){return k(function(){return a.apply(null,arguments)},a,b)}function ba(a,b,c,d,f,g){try{a(b,c,d,f,g)}catch(a){e(a,T(c))}}function da(a,b,c,e,g){var i=[];return f(e,function(e,f){var j,k,l,m,n=e.attrName,p=e.optional;switch(e.mode){case"@":p||Sc.call(b,n)||(c[f]=b[n]=void 0),b.$observe(n,function(a){w(a)&&(c[f]=a)}),b.$$observers[n].$$scope=a,w(b[n])&&(c[f]=d(b[n])(a));break;case"=":if(!Sc.call(b,n)){if(p)break;b[n]=void 0}if(p&&!b[n])break;k=h(b[n]),m=k.literal?L:function(a,b){return a===b||a!==a&&b!==b},l=k.assign||function(){throw j=c[f]=k(a),Nd("nonassign",b[n],g.name)},j=c[f]=k(a),p=function(b){return m(b,c[f])||(m(b,j)?l(a,b=c[f]):c[f]=b),j=b},p.$stateful=!0,p=e.collection?a.$watchCollection(b[n],p):a.$watch(h(b[n],p),null,k.literal),i.push(p);break;case"&":if(k=b.hasOwnProperty(n)?h(b[n]):o,k===o&&p)break;c[f]=function(b){return k(a,b)}}}),i.length&&function(){for(var a=0,b=i.length;a<b;++a)i[a]()}}var fa=function(a,b){if(b){var c,d,e,f=Object.keys(b);for(c=0,d=f.length;c<d;c++)e=f[c],this[e]=b[e]}else this.$attr={};this.$$element=a};fa.prototype={$normalize:Xa,$addClass:function(a){a&&0<a.length&&B.addClass(this.$$element,a)},$removeClass:function(a){a&&0<a.length&&B.removeClass(this.$$element,a)},$updateClass:function(a,b){var c=Ya(a,b);c&&c.length&&B.addClass(this.$$element,c),(c=Ya(b,a))&&c.length&&B.removeClass(this.$$element,c)},$set:function(a,b,c,d){var g=Fa(this.$$element[0],a),h=Bd[a],i=a;if(g?(this.$$element.prop(a,b),d=g):h&&(this[h]=b,i=h),this[a]=b,d?this.$attr[a]=d:(d=this.$attr[a])||(this.$attr[a]=d=ca(a,"-")),g=H(this.$$element),"a"===g&&"href"===a||"img"===g&&"src"===a)this[a]=b=D(b,"src"===a);else if("img"===g&&"srcset"===a){for(var g="",h=dd(b),j=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/,j=/\s/.test(h)?j:/(,)/,h=h.split(j),j=Math.floor(h.length/2),k=0;k<j;k++)var l=2*k,g=g+D(dd(h[l]),!0),g=g+(" "+dd(h[l+1]));h=dd(h[2*k]).split(/\s/),g+=D(dd(h[0]),!0),2===h.length&&(g+=" "+dd(h[1])),this[a]=b=g}!1!==c&&(null===b||s(b)?this.$$element.removeAttr(d):this.$$element.attr(d,b)),(a=this.$$observers)&&f(a[i],function(a){try{a(b)}catch(a){e(a)}})},$observe:function(a,b){var c=this,d=c.$$observers||(c.$$observers=ja()),e=d[a]||(d[a]=[]);return e.push(b),t.$evalAsync(function(){e.$$inter||!c.hasOwnProperty(a)||s(c[a])||b(c[a])}),function(){I(e,b)}}};var ga=d.startSymbol(),ha=d.endSymbol(),ia="{{"==ga||"}}"==ha?p:function(a){return a.replace(/\{\{/g,ga).replace(/}}/g,ha)},ka=/^ngAttr[A-Z]/,la=/^(.+)Start$/;return F.$$addBindingInfo=x?function(a,b){var c=a.data("$binding")||[];bd(b)?c=c.concat(b):c.push(b),a.data("$binding",c)}:o,F.$$addBindingClass=x?function(a){E(a,"ng-binding")}:o,F.$$addScopeInfo=x?function(a,b,c,d){a.data(c?d?"$isolateScopeNoTemplate":"$isolateScope":"$scope",b)}:o,F.$$addScopeClass=x?function(a,b){E(a,b?"ng-isolate-scope":"ng-scope")}:o,F}]}function Xa(a){return ma(a.replace(Od,""))}function Ya(a,b){var c="",d=a.split(/\s+/),e=b.split(/\s+/),f=0;a:for(;f<d.length;f++){for(var g=d[f],h=0;h<e.length;h++)if(g==e[h])continue a;c+=(0<c.length?" ":"")+g}return c}function Za(a){a=Nc(a);var b=a.length;if(1>=b)return a;for(;b--;)8===a[b].nodeType&&Vc.call(a,b,1);return a}function $a(){var a={},b=!1;this.register=function(b,c){ga(b,"controller"),u(b)?k(a,b):a[b]=c},this.allowGlobals=function(){b=!0},this.$get=["$injector","$window",function(e,f){function g(a,b,c,e){if(!a||!u(a.$scope))throw d("$controller")("noscp",e,b);a.$scope[b]=c}return function(d,h,i,j){var l,m,n;if(i=!0===i,j&&w(j)&&(n=j),w(d)){if(j=d.match(Qd),!j)throw Pd("ctrlfmt",d);m=j[1],n=n||j[3],d=a.hasOwnProperty(m)?a[m]:ha(h.$scope,m,!0)||(b?ha(f,m,!0):c),fa(d,m,!0)}return i?(i=(bd(d)?d[d.length-1]:d).prototype,l=Object.create(i||null),n&&g(h,n,l,m||d.name),k(function(){var a=e.invoke(d,l,h,m);return a!==l&&(u(a)||z(a))&&(l=a,n&&g(h,n,l,m||d.name)),l},{instance:l,identifier:n})):(l=e.instantiate(d,h,m),n&&g(h,n,l,m||d.name),l)}}]}function _a(){this.$get=["$window",function(a){return Nc(a.document)}]}function ab(){this.$get=["$log",function(a){return function(b,c){a.error.apply(a,arguments)}}]}function bb(a){return u(a)?y(a)?a.toISOString():P(a):a}function cb(){this.$get=function(){return function(a){if(!a)return"";var b=[];return g(a,function(a,c){null===a||s(a)||(bd(a)?f(a,function(a,d){b.push(Y(c)+"="+Y(bb(a)))}):b.push(Y(c)+"="+Y(bb(a))))}),b.join("&")}}}function db(){this.$get=function(){return function(a){function b(a,d,e){null===a||s(a)||(bd(a)?f(a,function(a,c){b(a,d+"["+(u(a)?c:"")+"]")}):u(a)&&!y(a)?g(a,function(a,c){b(a,d+(e?"":"[")+c+(e?"":"]"))}):c.push(Y(d)+"="+Y(bb(a))))}if(!a)return"";var c=[];return b(a,"",!0),c.join("&")}}}function eb(a,b){if(w(a)){var c=a.replace(Wd,"").trim();if(c){var d=b("Content-Type");(d=d&&0===d.indexOf(Sd))||(d=(d=c.match(Ud))&&Vd[d[0]].test(c)),d&&(a=Q(c))}}return a}function fb(a){var b,c=ja();return w(a)?f(a.split("\n"),function(a){b=a.indexOf(":");var d=Rc(dd(a.substr(0,b)));a=dd(a.substr(b+1)),d&&(c[d]=c[d]?c[d]+", "+a:a)}):u(a)&&f(a,function(a,b){var d=Rc(b),e=dd(a);d&&(c[d]=c[d]?c[d]+", "+e:e)}),c}function gb(a){var b;return function(c){return b||(b=fb(a)),c?(c=b[Rc(c)],void 0===c&&(c=null),c):b}}function hb(a,b,c,d){return z(d)?d(a,b,c):(f(d,function(d){a=d(a,b,c)}),a)}function ib(){var a=this.defaults={transformResponse:[eb],transformRequest:[function(a){return u(a)&&"[object File]"!==Xc.call(a)&&"[object Blob]"!==Xc.call(a)&&"[object FormData]"!==Xc.call(a)?P(a):a}],headers:{common:{Accept:"application/json, text/plain, */*"},post:K(Td),put:K(Td),patch:K(Td)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer"},b=!1;this.useApplyAsync=function(a){return t(a)?(b=!!a,this):b};var e=!0;this.useLegacyPromiseExtensions=function(a){return t(a)?(e=!!a,this):e};var g=this.interceptors=[];this.$get=["$httpBackend","$$cookieReader","$cacheFactory","$rootScope","$q","$injector",function(h,i,j,l,m,n){function o(b){function g(a){var b=k({},a);return b.data=hb(a.data,a.headers,a.status,i.transformResponse),a=a.status,200<=a&&300>a?b:m.reject(b)}function h(a,b){var c,d={};return f(a,function(a,e){z(a)?(c=a(b),null!=c&&(d[e]=c)):d[e]=a}),d}if(!$c.isObject(b))throw d("$http")("badreq",b);var i=k({method:"get",transformRequest:a.transformRequest,transformResponse:a.transformResponse,paramSerializer:a.paramSerializer},b);i.headers=function(b){var c,d,e,f=a.headers,g=k({},b.headers),f=k({},f.common,f[Rc(b.method)]);a:for(c in f){d=Rc(c);for(e in g)if(Rc(e)===d)continue a;g[c]=f[c]}return h(g,K(b))}(b),i.method=Tc(i.method),i.paramSerializer=w(i.paramSerializer)?n.get(i.paramSerializer):i.paramSerializer;var j=[function(b){var d=b.headers,e=hb(b.data,gb(d),c,b.transformRequest);return s(e)&&f(d,function(a,b){"content-type"===Rc(b)&&delete d[b]}),s(b.withCredentials)&&!s(a.withCredentials)&&(b.withCredentials=a.withCredentials),p(b,e).then(g,g)},c],l=m.when(i);for(f(v,function(a){(a.request||a.requestError)&&j.unshift(a.request,a.requestError),(a.response||a.responseError)&&j.push(a.response,a.responseError)});j.length;){b=j.shift();var o=j.shift(),l=l.then(b,o)}return e?(l.success=function(a){return fa(a,"fn"),l.then(function(b){a(b.data,b.status,b.headers,i)}),l},l.error=function(a){return fa(a,"fn"),l.then(null,function(b){a(b.data,b.status,b.headers,i)}),l}):(l.success=Yd("success"),l.error=Yd("error")),l}function p(d,e){function f(a,c,d,e){function f(){g(c,a,d,e)}n&&(200<=a&&300>a?n.put(y,[a,c,fb(d),e]):n.remove(y)),b?l.$applyAsync(f):(f(),l.$$phase||l.$apply())}function g(a,b,c,e){b=-1<=b?b:0,(200<=b&&300>b?v.resolve:v.reject)({data:a,status:b,headers:gb(c),config:d,statusText:e})}function j(a){g(a.data,a.status,K(a.headers()),a.statusText)}function k(){var a=o.pendingRequests.indexOf(d);-1!==a&&o.pendingRequests.splice(a,1)}var n,p,v=m.defer(),w=v.promise,x=d.headers,y=q(d.url,d.paramSerializer(d.params));return o.pendingRequests.push(d),w.then(k,k),!d.cache&&!a.cache||!1===d.cache||"GET"!==d.method&&"JSONP"!==d.method||(n=u(d.cache)?d.cache:u(a.cache)?a.cache:r),n&&(p=n.get(y),t(p)?p&&z(p.then)?p.then(j,j):bd(p)?g(p[1],p[0],K(p[2]),p[3]):g(p,200,{},"OK"):n.put(y,w)),s(p)&&((p=fc(d.url)?i()[d.xsrfCookieName||a.xsrfCookieName]:c)&&(x[d.xsrfHeaderName||a.xsrfHeaderName]=p),h(d.method,y,e,f,x,d.timeout,d.withCredentials,d.responseType)),w}function q(a,b){return 0<b.length&&(a+=(-1==a.indexOf("?")?"?":"&")+b),a}var r=j("$http");a.paramSerializer=w(a.paramSerializer)?n.get(a.paramSerializer):a.paramSerializer;var v=[];return f(g,function(a){v.unshift(w(a)?n.get(a):n.invoke(a))}),o.pendingRequests=[],function(a){f(arguments,function(a){o[a]=function(b,c){return o(k({},c||{},{method:a,url:b}))}})}("get","delete","head","jsonp"),function(a){f(arguments,function(a){o[a]=function(b,c,d){return o(k({},d||{},{method:a,url:b,data:c}))}})}("post","put","patch"),o.defaults=a,o}]}function jb(){this.$get=function(){return function(){return new a.XMLHttpRequest}}}function kb(){this.$get=["$browser","$window","$document","$xhrFactory",function(a,b,c,d){return lb(a,d,a.defer,b.angular.callbacks,c[0])}]}function lb(a,b,c,d,e){function g(a,b,c){var f=e.createElement("script"),g=null;return f.type="text/javascript",f.src=a,f.async=!0,g=function(a){f.removeEventListener("load",g,!1),f.removeEventListener("error",g,!1),e.body.removeChild(f),f=null;var h=-1,i="unknown";a&&("load"!==a.type||d[b].called||(a={type:"error"}),i=a.type,h="error"===a.type?404:200),c&&c(h,i)},f.addEventListener("load",g,!1),f.addEventListener("error",g,!1),e.body.appendChild(f),g}return function(e,h,i,j,k,l,m,n){function p(){u&&u(),v&&v.abort()}function q(b,d,e,f,g){t(w)&&c.cancel(w),u=v=null,b(d,e,f,g),a.$$completeOutstandingRequest(o)}if(a.$$incOutstandingRequestCount(),h=h||a.url(),"jsonp"==Rc(e)){var r="_"+(d.counter++).toString(36);d[r]=function(a){d[r].data=a,d[r].called=!0};var u=g(h.replace("JSON_CALLBACK","angular.callbacks."+r),r,function(a,b){q(j,a,d[r].data,"",b),d[r]=o})}else{var v=b(e,h);if(v.open(e,h,!0),f(k,function(a,b){t(a)&&v.setRequestHeader(b,a)}),v.onload=function(){var a=v.statusText||"",b="response"in v?v.response:v.responseText,c=1223===v.status?204:v.status;0===c&&(c=b?200:"file"==ec(h).protocol?404:0),q(j,c,b,v.getAllResponseHeaders(),a)},e=function(){q(j,-1,null,null,"")},v.onerror=e,v.onabort=e,m&&(v.withCredentials=!0),n)try{v.responseType=n}catch(a){if("json"!==n)throw a}v.send(s(i)?null:i)}if(0<l)var w=c(p,l);else l&&z(l.then)&&l.then(p)}}function mb(){var a="{{",b="}}";this.startSymbol=function(b){return b?(a=b,this):a},this.endSymbol=function(a){return a?(b=a,this):b},this.$get=["$parse","$exceptionHandler","$sce",function(c,d,e){function f(a){return"\\\\\\"+a}function g(c){return c.replace(l,a).replace(m,b)}function h(f,h,l,m){function n(a){try{var b=a;a=l?e.getTrusted(l,b):e.valueOf(b);var c;if(m&&!t(a))c=a;else if(null==a)c="";else{switch(typeof a){case"string":break;case"number":a=""+a;break;default:a=P(a)}c=a}return c}catch(a){d(Zd.interr(f,a))}}m=!!m;for(var o,p,q=0,r=[],u=[],v=f.length,w=[],x=[];q<v;){if(-1==(o=f.indexOf(a,q))||-1==(p=f.indexOf(b,o+i))){q!==v&&w.push(g(f.substring(q)));break}q!==o&&w.push(g(f.substring(q,o))),q=f.substring(o+i,p),r.push(q),u.push(c(q,n)),q=p+j,x.push(w.length),w.push("")}if(l&&1<w.length&&Zd.throwNoconcat(f),!h||r.length){var y=function(a){for(var b=0,c=r.length;b<c;b++){if(m&&s(a[b]))return;w[x[b]]=a[b]}return w.join("")};return k(function(a){var b=0,c=r.length,e=Array(c);try{for(;b<c;b++)e[b]=u[b](a);return y(e)}catch(a){d(Zd.interr(f,a))}},{exp:f,expressions:r,$$watchDelegate:function(a,b){var c;return a.$watchGroup(u,function(d,e){var f=y(d);z(b)&&b.call(this,f,d!==e?c:f,a),c=f})}})}}var i=a.length,j=b.length,l=new RegExp(a.replace(/./g,f),"g"),m=new RegExp(b.replace(/./g,f),"g");return h.startSymbol=function(){return a},h.endSymbol=function(){return b},h}]}function nb(){this.$get=["$rootScope","$window","$q","$$q",function(a,b,c,d){function e(e,g,h,i){var j=4<arguments.length,k=j?Uc.call(arguments,4):[],l=b.setInterval,m=b.clearInterval,n=0,o=t(i)&&!i,p=(o?d:c).defer(),q=p.promise;return h=t(h)?h:0,q.then(null,null,j?function(){e.apply(null,k)}:e),q.$$intervalId=l(function(){p.notify(n++),0<h&&n>=h&&(p.resolve(n),m(q.$$intervalId),delete f[q.$$intervalId]),o||a.$apply()},g),f[q.$$intervalId]=p,q}var f={};return e.cancel=function(a){return!!(a&&a.$$intervalId in f)&&(f[a.$$intervalId].reject("canceled"),b.clearInterval(a.$$intervalId),delete f[a.$$intervalId],!0)},e}]}function ob(a){a=a.split("/");for(var b=a.length;b--;)a[b]=X(a[b]);return a.join("/")}function pb(a,b){var c=ec(a);b.$$protocol=c.protocol,b.$$host=c.hostname,b.$$port=m(c.port)||_d[c.protocol]||null}function qb(a,b){var c="/"!==a.charAt(0);c&&(a="/"+a);var d=ec(a);b.$$path=decodeURIComponent(c&&"/"===d.pathname.charAt(0)?d.pathname.substring(1):d.pathname),b.$$search=V(d.search),b.$$hash=decodeURIComponent(d.hash),b.$$path&&"/"!=b.$$path.charAt(0)&&(b.$$path="/"+b.$$path)}function rb(a,b){if(0===b.indexOf(a))return b.substr(a.length)}function sb(a){var b=a.indexOf("#");return-1==b?a:a.substr(0,b)}function tb(a){return a.replace(/(#.+)|#$/,"$1")}function ub(a,b,c){this.$$html5=!0,c=c||"",pb(a,this),this.$$parse=function(a){var c=rb(b,a);if(!w(c))throw ae("ipthprfx",a,b);qb(c,this),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var a=W(this.$$search),c=this.$$hash?"#"+X(this.$$hash):"";this.$$url=ob(this.$$path)+(a?"?"+a:"")+c,this.$$absUrl=b+this.$$url.substr(1)},this.$$parseLinkUrl=function(d,e){if(e&&"#"===e[0])return this.hash(e.slice(1)),!0;var f,g;return t(f=rb(a,d))?(g=f,g=t(f=rb(c,f))?b+(rb("/",f)||f):a+g):t(f=rb(b,d))?g=b+f:b==d+"/"&&(g=b),g&&this.$$parse(g),!!g}}function vb(a,b,c){pb(a,this),this.$$parse=function(d){var e,f=rb(a,d)||rb(b,d);s(f)||"#"!==f.charAt(0)?this.$$html5?e=f:(e="",s(f)&&(a=d,this.replace())):(e=rb(c,f),s(e)&&(e=f)),qb(e,this),d=this.$$path;var f=a,g=/^\/[A-Z]:(\/.*)/;0===e.indexOf(f)&&(e=e.replace(f,"")),g.exec(e)||(d=(e=g.exec(d))?e[1]:d),this.$$path=d,this.$$compose()},this.$$compose=function(){var b=W(this.$$search),d=this.$$hash?"#"+X(this.$$hash):"";this.$$url=ob(this.$$path)+(b?"?"+b:"")+d,this.$$absUrl=a+(this.$$url?c+this.$$url:"")},this.$$parseLinkUrl=function(b,c){return sb(a)==sb(b)&&(this.$$parse(b),!0)}}function wb(a,b,c){this.$$html5=!0,vb.apply(this,arguments),this.$$parseLinkUrl=function(d,e){if(e&&"#"===e[0])return this.hash(e.slice(1)),!0;var f,g;return a==sb(d)?f=d:(g=rb(b,d))?f=a+c+g:b===d+"/"&&(f=b),f&&this.$$parse(f),!!f},this.$$compose=function(){var b=W(this.$$search),d=this.$$hash?"#"+X(this.$$hash):"";this.$$url=ob(this.$$path)+(b?"?"+b:"")+d,this.$$absUrl=a+c+this.$$url}}function xb(a){return function(){return this[a]}}function yb(a,b){return function(c){return s(c)?this[a]:(this[a]=b(c),this.$$compose(),this)}}function zb(){var a="",b={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(b){return t(b)?(a=b,this):a},this.html5Mode=function(a){return D(a)?(b.enabled=a,this):u(a)?(D(a.enabled)&&(b.enabled=a.enabled),D(a.requireBase)&&(b.requireBase=a.requireBase),D(a.rewriteLinks)&&(b.rewriteLinks=a.rewriteLinks),this):b},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(c,d,e,f,g){function h(a,b,c){var e=j.url(),f=j.$$state;try{d.url(a,b,c),j.$$state=d.state()}catch(a){throw j.url(e),j.$$state=f,a}}function i(a,b){c.$broadcast("$locationChangeSuccess",j.absUrl(),a,j.$$state,b)}var j,k;k=d.baseHref();var l,m=d.url();if(b.enabled){if(!k&&b.requireBase)throw ae("nobase");l=m.substring(0,m.indexOf("/",m.indexOf("//")+2))+(k||"/"),k=e.history?ub:wb}else l=sb(m),k=vb;var n=l.substr(0,sb(l).lastIndexOf("/")+1);j=new k(l,n,"#"+a),j.$$parseLinkUrl(m,m),j.$$state=d.state();var o=/^\s*(javascript|mailto):/i;f.on("click",function(a){if(b.rewriteLinks&&!a.ctrlKey&&!a.metaKey&&!a.shiftKey&&2!=a.which&&2!=a.button){for(var e=Nc(a.target);"a"!==H(e[0]);)if(e[0]===f[0]||!(e=e.parent())[0])return;var h=e.prop("href"),i=e.attr("href")||e.attr("xlink:href");u(h)&&"[object SVGAnimatedString]"===h.toString()&&(h=ec(h.animVal).href),o.test(h)||!h||e.attr("target")||a.isDefaultPrevented()||!j.$$parseLinkUrl(h,i)||(a.preventDefault(),j.absUrl()!=d.url()&&(c.$apply(),g.angular["ff-684208-preventDefault"]=!0))}}),tb(j.absUrl())!=tb(m)&&d.url(j.absUrl(),!0);var p=!0;return d.onUrlChange(function(a,b){s(rb(n,a))?g.location.href=a:(c.$evalAsync(function(){var d,e=j.absUrl(),f=j.$$state;a=tb(a),j.$$parse(a),j.$$state=b,d=c.$broadcast("$locationChangeStart",a,e,b,f).defaultPrevented,j.absUrl()===a&&(d?(j.$$parse(e),j.$$state=f,h(e,!1,f)):(p=!1,i(e,f)))}),c.$$phase||c.$digest())}),c.$watch(function(){var a=tb(d.url()),b=tb(j.absUrl()),f=d.state(),g=j.$$replace,k=a!==b||j.$$html5&&e.history&&f!==j.$$state;(p||k)&&(p=!1,c.$evalAsync(function(){var b=j.absUrl(),d=c.$broadcast("$locationChangeStart",b,a,j.$$state,f).defaultPrevented;j.absUrl()===b&&(d?(j.$$parse(a),j.$$state=f):(k&&h(b,g,f===j.$$state?null:j.$$state),i(a,f)))})),j.$$replace=!1}),j}]}function Ab(){var a=!0,b=this;this.debugEnabled=function(b){return t(b)?(a=b,this):a},this.$get=["$window",function(c){function d(a){return a instanceof Error&&(a.stack?a=a.message&&-1===a.stack.indexOf(a.message)?"Error: "+a.message+"\n"+a.stack:a.stack:a.sourceURL&&(a=a.message+"\n"+a.sourceURL+":"+a.line)),a}function e(a){var b=c.console||{},e=b[a]||b.log||o;a=!1;try{a=!!e.apply}catch(a){}return a?function(){var a=[];return f(arguments,function(b){a.push(d(b))}),e.apply(b,a)}:function(a,b){e(a,null==b?"":b)}}return{log:e("log"),info:e("info"),warn:e("warn"),error:e("error"),debug:function(){var c=e("debug");return function(){a&&c.apply(b,arguments)}}()}}]}function Bb(a,b){if("__defineGetter__"===a||"__defineSetter__"===a||"__lookupGetter__"===a||"__lookupSetter__"===a||"__proto__"===a)throw ce("isecfld",b);return a}function Cb(a,b){if(a+="",!w(a))throw ce("iseccst",b);return a}function Db(a,b){if(a){if(a.constructor===a)throw ce("isecfn",b);if(a.window===a)throw ce("isecwindow",b);if(a.children&&(a.nodeName||a.prop&&a.attr&&a.find))throw ce("isecdom",b);if(a===Object)throw ce("isecobj",b)}return a}function Eb(a,b){if(a){if(a.constructor===a)throw ce("isecfn",b);if(a===de||a===ee||a===fe)throw ce("isecff",b)}}function Fb(a,b){if(a&&(a===(0).constructor||a===(!1).constructor||a==="".constructor||a==={}.constructor||a===[].constructor||a===Function.constructor))throw ce("isecaf",b)}function Gb(a,b){return"undefined"!=typeof a?a:b}function Hb(a,b){return"undefined"==typeof a?b:"undefined"==typeof b?a:a+b}function Ib(a,b){var c,d;switch(a.type){case je.Program:c=!0,f(a.body,function(a){Ib(a.expression,b),c=c&&a.expression.constant}),a.constant=c;break;case je.Literal:a.constant=!0,a.toWatch=[];break;case je.UnaryExpression:Ib(a.argument,b),a.constant=a.argument.constant,a.toWatch=a.argument.toWatch;break;case je.BinaryExpression:Ib(a.left,b),Ib(a.right,b),a.constant=a.left.constant&&a.right.constant,a.toWatch=a.left.toWatch.concat(a.right.toWatch);break;case je.LogicalExpression:Ib(a.left,b),Ib(a.right,b),a.constant=a.left.constant&&a.right.constant,a.toWatch=a.constant?[]:[a];break;case je.ConditionalExpression:Ib(a.test,b),Ib(a.alternate,b),Ib(a.consequent,b),a.constant=a.test.constant&&a.alternate.constant&&a.consequent.constant,a.toWatch=a.constant?[]:[a];break;case je.Identifier:a.constant=!1,a.toWatch=[a];break;case je.MemberExpression:Ib(a.object,b),a.computed&&Ib(a.property,b),a.constant=a.object.constant&&(!a.computed||a.property.constant),a.toWatch=[a];break;case je.CallExpression:c=!!a.filter&&!b(a.callee.name).$stateful,d=[],f(a.arguments,function(a){Ib(a,b),c=c&&a.constant,a.constant||d.push.apply(d,a.toWatch)}),a.constant=c,a.toWatch=a.filter&&!b(a.callee.name).$stateful?d:[a];break;case je.AssignmentExpression:Ib(a.left,b),Ib(a.right,b),a.constant=a.left.constant&&a.right.constant,a.toWatch=[a];break;case je.ArrayExpression:c=!0,d=[],f(a.elements,function(a){Ib(a,b),c=c&&a.constant,a.constant||d.push.apply(d,a.toWatch)}),a.constant=c,a.toWatch=d;break;case je.ObjectExpression:c=!0,d=[],f(a.properties,function(a){Ib(a.value,b),c=c&&a.value.constant,a.value.constant||d.push.apply(d,a.value.toWatch)}),a.constant=c,a.toWatch=d;break;case je.ThisExpression:a.constant=!1,a.toWatch=[]}}function Jb(a){if(1==a.length){a=a[0].expression;var b=a.toWatch;return 1!==b.length?b:b[0]!==a?b:c}}function Kb(a){return a.type===je.Identifier||a.type===je.MemberExpression}function Lb(a){if(1===a.body.length&&Kb(a.body[0].expression))return{type:je.AssignmentExpression,left:a.body[0].expression,right:{type:je.NGValueParameter},operator:"="}}function Mb(a){return 0===a.body.length||1===a.body.length&&(a.body[0].expression.type===je.Literal||a.body[0].expression.type===je.ArrayExpression||a.body[0].expression.type===je.ObjectExpression)}function Nb(a,b){this.astBuilder=a,this.$filter=b}function Ob(a,b){this.astBuilder=a,this.$filter=b}function Pb(a){return"constructor"==a}function Qb(a){return z(a.valueOf)?a.valueOf():le.call(a)}function Rb(){var a=ja(),b=ja();this.$get=["$filter",function(d){function e(a,b){return null==a||null==b?a===b:("object"!=typeof a||(a=Qb(a),"object"!=typeof a))&&(a===b||a!==a&&b!==b)}function g(a,b,d,f,g){var h,i=f.inputs;if(1===i.length){var j=e,i=i[0];return a.$watch(function(a){var b=i(a);return e(b,j)||(h=f(a,c,c,[b]),j=b&&Qb(b)),h},b,d,g)}for(var k=[],l=[],m=0,n=i.length;m<n;m++)k[m]=e,l[m]=null;return a.$watch(function(a){for(var b=!1,d=0,g=i.length;d<g;d++){var j=i[d](a);(b||(b=!e(j,k[d])))&&(l[d]=j,k[d]=j&&Qb(j))}return b&&(h=f(a,c,c,l)),h},b,d,g)}function h(a,b,c,d){var e,f;return e=a.$watch(function(a){return d(a)},function(a,c,d){f=a,z(b)&&b.apply(this,arguments),t(a)&&d.$$postDigest(function(){t(f)&&e()})},c)}function i(a,b,c,d){function e(a){var b=!0;return f(a,function(a){t(a)||(b=!1)}),b}var g,h;
return g=a.$watch(function(a){return d(a)},function(a,c,d){h=a,z(b)&&b.call(this,a,c,d),e(a)&&d.$$postDigest(function(){e(h)&&g()})},c)}function j(a,b,c,d){var e;return e=a.$watch(function(a){return d(a)},function(a,c,d){z(b)&&b.apply(this,arguments),e()},c)}function k(a,b){if(!b)return a;var c=a.$$watchDelegate,d=!1,c=c!==i&&c!==h?function(c,e,f,g){return f=d&&g?g[0]:a(c,e,f,g),b(f,c,e)}:function(c,d,e,f){return e=a(c,d,e,f),c=b(e,c,d),t(e)?c:e};return a.$$watchDelegate&&a.$$watchDelegate!==g?c.$$watchDelegate=a.$$watchDelegate:b.$stateful||(c.$$watchDelegate=g,d=!a.inputs,c.inputs=a.inputs?a.inputs:[a]),c}var l=fd().noUnsafeEval,m={csp:l,expensiveChecks:!1},n={csp:l,expensiveChecks:!0};return function(c,e,f){var l,p,q;switch(typeof c){case"string":q=c=c.trim();var r=f?b:a;return l=r[q],l||(":"===c.charAt(0)&&":"===c.charAt(1)&&(p=!0,c=c.substring(2)),f=f?n:m,l=new ie(f),l=new ke(l,d,f).parse(c),l.constant?l.$$watchDelegate=j:p?l.$$watchDelegate=l.literal?i:h:l.inputs&&(l.$$watchDelegate=g),r[q]=l),k(l,e);case"function":return k(c,e);default:return o}}}]}function Sb(){this.$get=["$rootScope","$exceptionHandler",function(a,b){return Ub(function(b){a.$evalAsync(b)},b)}]}function Tb(){this.$get=["$browser","$exceptionHandler",function(a,b){return Ub(function(b){a.defer(b)},b)}]}function Ub(a,b){function e(a,b,c){function d(b){return function(c){e||(e=!0,b.call(a,c))}}var e=!1;return[d(b),d(c)]}function g(){this.$$state={status:0}}function h(a,b){return function(c){b.call(a,c)}}function i(d){!d.processScheduled&&d.pending&&(d.processScheduled=!0,a(function(){var a,e,f;f=d.pending,d.processScheduled=!1,d.pending=c;for(var g=0,h=f.length;g<h;++g){e=f[g][0],a=f[g][d.status];try{z(a)?e.resolve(a(d.value)):1===d.status?e.resolve(d.value):e.reject(d.value)}catch(a){e.reject(a),b(a)}}}))}function j(){this.promise=new g,this.resolve=h(this,this.resolve),this.reject=h(this,this.reject),this.notify=h(this,this.notify)}var l=d("$q",TypeError);k(g.prototype,{then:function(a,b,c){if(s(a)&&s(b)&&s(c))return this;var d=new j;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([d,a,b,c]),0<this.$$state.status&&i(this.$$state),d.promise},catch:function(a){return this.then(null,a)},finally:function(a,b){return this.then(function(b){return n(b,!0,a)},function(b){return n(b,!1,a)},b)}}),k(j.prototype,{resolve:function(a){this.promise.$$state.status||(a===this.promise?this.$$reject(l("qcycle",a)):this.$$resolve(a))},$$resolve:function(a){var c,d;d=e(this,this.$$resolve,this.$$reject);try{(u(a)||z(a))&&(c=a&&a.then),z(c)?(this.promise.$$state.status=-1,c.call(a,d[0],d[1],this.notify)):(this.promise.$$state.value=a,this.promise.$$state.status=1,i(this.promise.$$state))}catch(a){d[1](a),b(a)}},reject:function(a){this.promise.$$state.status||this.$$reject(a)},$$reject:function(a){this.promise.$$state.value=a,this.promise.$$state.status=2,i(this.promise.$$state)},notify:function(c){var d=this.promise.$$state.pending;0>=this.promise.$$state.status&&d&&d.length&&a(function(){for(var a,e,f=0,g=d.length;f<g;f++){e=d[f][0],a=d[f][3];try{e.notify(z(a)?a(c):c)}catch(a){b(a)}}})}});var m=function(a,b){var c=new j;return b?c.resolve(a):c.reject(a),c.promise},n=function(a,b,c){var d=null;try{z(c)&&(d=c())}catch(a){return m(a,!1)}return d&&z(d.then)?d.then(function(){return m(a,b)},function(a){return m(a,!1)}):m(a,b)},o=function(a,b,c,d){var e=new j;return e.resolve(a),e.promise.then(b,c,d)},p=function a(b){if(!z(b))throw l("norslvr",b);if(!(this instanceof a))return new a(b);var c=new j;return b(function(a){c.resolve(a)},function(a){c.reject(a)}),c.promise};return p.defer=function(){return new j},p.reject=function(a){var b=new j;return b.reject(a),b.promise},p.when=o,p.resolve=o,p.all=function(a){var b=new j,c=0,d=bd(a)?[]:{};return f(a,function(a,e){c++,o(a).then(function(a){d.hasOwnProperty(e)||(d[e]=a,--c||b.resolve(d))},function(a){d.hasOwnProperty(e)||b.reject(a)})}),0===c&&b.resolve(d),b.promise},p}function Vb(){this.$get=["$window","$timeout",function(a,b){var c=a.requestAnimationFrame||a.webkitRequestAnimationFrame,d=a.cancelAnimationFrame||a.webkitCancelAnimationFrame||a.webkitCancelRequestAnimationFrame,e=!!c,f=e?function(a){var b=c(a);return function(){d(b)}}:function(a){var c=b(a,16.66,!1);return function(){b.cancel(c)}};return f.supported=e,f}]}function Wb(){function a(a){function b(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$id=++_c,this.$$ChildScope=null}return b.prototype=a,b}var b=10,c=d("$rootScope"),g=null,h=null;this.digestTtl=function(a){return arguments.length&&(b=a),b},this.$get=["$injector","$exceptionHandler","$parse","$browser",function(d,i,j,k){function l(a){a.currentScope.$$destroyed=!0}function m(a){9===Mc&&(a.$$childHead&&m(a.$$childHead),a.$$nextSibling&&m(a.$$nextSibling)),a.$parent=a.$$nextSibling=a.$$prevSibling=a.$$childHead=a.$$childTail=a.$root=a.$$watchers=null}function n(){this.$id=++_c,this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this.$root=this,this.$$destroyed=!1,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$$isolateBindings=null}function p(a){if(x.$$phase)throw c("inprog",x.$$phase);x.$$phase=a}function q(a,b){do a.$$watchersCount+=b;while(a=a.$parent)}function r(a,b,c){do a.$$listenerCount[c]-=b,0===a.$$listenerCount[c]&&delete a.$$listenerCount[c];while(a=a.$parent)}function t(){}function v(){for(;B.length;)try{B.shift()()}catch(a){i(a)}h=null}function w(){null===h&&(h=k.defer(function(){x.$apply(v)}))}n.prototype={constructor:n,$new:function(b,c){var d;return c=c||this,b?(d=new n,d.$root=this.$root):(this.$$ChildScope||(this.$$ChildScope=a(this)),d=new this.$$ChildScope),d.$parent=c,d.$$prevSibling=c.$$childTail,c.$$childHead?(c.$$childTail.$$nextSibling=d,c.$$childTail=d):c.$$childHead=c.$$childTail=d,(b||c!=this)&&d.$on("$destroy",l),d},$watch:function(a,b,c,d){var e=j(a);if(e.$$watchDelegate)return e.$$watchDelegate(this,b,c,e,a);var f=this,h=f.$$watchers,i={fn:b,last:t,get:e,exp:d||a,eq:!!c};return g=null,z(b)||(i.fn=o),h||(h=f.$$watchers=[]),h.unshift(i),q(this,1),function(){0<=I(h,i)&&q(f,-1),g=null}},$watchGroup:function(a,b){function c(){i=!1,j?(j=!1,b(e,e,h)):b(e,d,h)}var d=Array(a.length),e=Array(a.length),g=[],h=this,i=!1,j=!0;if(!a.length){var k=!0;return h.$evalAsync(function(){k&&b(e,e,h)}),function(){k=!1}}return 1===a.length?this.$watch(a[0],function(a,c,f){e[0]=a,d[0]=c,b(e,a===c?e:d,f)}):(f(a,function(a,b){var f=h.$watch(a,function(a,f){e[b]=a,d[b]=f,i||(i=!0,h.$evalAsync(c))});g.push(f)}),function(){for(;g.length;)g.shift()()})},$watchCollection:function(a,b){function c(a){d=a;var b,c,g,h;if(!s(d)){if(u(d))if(e(d))for(f!==m&&(f=m,p=f.length=0,k++),a=d.length,p!==a&&(k++,f.length=p=a),b=0;b<a;b++)h=f[b],g=d[b],c=h!==h&&g!==g,c||h===g||(k++,f[b]=g);else{f!==n&&(f=n={},p=0,k++),a=0;for(b in d)Sc.call(d,b)&&(a++,g=d[b],h=f[b],b in f?(c=h!==h&&g!==g,c||h===g||(k++,f[b]=g)):(p++,f[b]=g,k++));if(p>a)for(b in k++,f)Sc.call(d,b)||(p--,delete f[b])}else f!==d&&(f=d,k++);return k}}c.$stateful=!0;var d,f,g,h=this,i=1<b.length,k=0,l=j(a,c),m=[],n={},o=!0,p=0;return this.$watch(l,function(){if(o?(o=!1,b(d,d,h)):b(d,g,h),i)if(u(d))if(e(d)){g=Array(d.length);for(var a=0;a<d.length;a++)g[a]=d[a]}else for(a in g={},d)Sc.call(d,a)&&(g[a]=d[a]);else g=d})},$digest:function(){var a,d,e,f,j,l,m,n,o,q=b,r=[];p("$digest"),k.$$checkUrlChange(),this===x&&null!==h&&(k.defer.cancel(h),v()),g=null;do{for(l=!1,m=this;y.length;){try{o=y.shift(),o.scope.$eval(o.expression,o.locals)}catch(a){i(a)}g=null}a:do{if(f=m.$$watchers)for(j=f.length;j--;)try{if(a=f[j])if((d=a.get(m))===(e=a.last)||(a.eq?L(d,e):"number"==typeof d&&"number"==typeof e&&isNaN(d)&&isNaN(e))){if(a===g){l=!1;break a}}else l=!0,g=a,a.last=a.eq?J(d,null):d,a.fn(d,e===t?d:e,m),5>q&&(n=4-q,r[n]||(r[n]=[]),r[n].push({msg:z(a.exp)?"fn: "+(a.exp.name||a.exp.toString()):a.exp,newVal:d,oldVal:e}))}catch(a){i(a)}if(!(f=m.$$watchersCount&&m.$$childHead||m!==this&&m.$$nextSibling))for(;m!==this&&!(f=m.$$nextSibling);)m=m.$parent}while(m=f);if((l||y.length)&&!q--)throw x.$$phase=null,c("infdig",b,r)}while(l||y.length);for(x.$$phase=null;A.length;)try{A.shift()()}catch(a){i(a)}},$destroy:function(){if(!this.$$destroyed){var a=this.$parent;this.$broadcast("$destroy"),this.$$destroyed=!0,this===x&&k.$$applicationDestroyed(),q(this,-this.$$watchersCount);for(var b in this.$$listenerCount)r(this,this.$$listenerCount[b],b);a&&a.$$childHead==this&&(a.$$childHead=this.$$nextSibling),a&&a.$$childTail==this&&(a.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=o,this.$on=this.$watch=this.$watchGroup=function(){return o},this.$$listeners={},this.$$nextSibling=null,m(this)}},$eval:function(a,b){return j(a)(this,b)},$evalAsync:function(a,b){x.$$phase||y.length||k.defer(function(){y.length&&x.$digest()}),y.push({scope:this,expression:a,locals:b})},$$postDigest:function(a){A.push(a)},$apply:function(a){try{p("$apply");try{return this.$eval(a)}finally{x.$$phase=null}}catch(a){i(a)}finally{try{x.$digest()}catch(a){throw i(a),a}}},$applyAsync:function(a){function b(){c.$eval(a)}var c=this;a&&B.push(b),w()},$on:function(a,b){var c=this.$$listeners[a];c||(this.$$listeners[a]=c=[]),c.push(b);var d=this;do d.$$listenerCount[a]||(d.$$listenerCount[a]=0),d.$$listenerCount[a]++;while(d=d.$parent);var e=this;return function(){var d=c.indexOf(b);-1!==d&&(c[d]=null,r(e,1,a))}},$emit:function(a,b){var c,d,e,f=[],g=this,h=!1,j={name:a,targetScope:g,stopPropagation:function(){h=!0},preventDefault:function(){j.defaultPrevented=!0},defaultPrevented:!1},k=M([j],arguments,1);do{for(c=g.$$listeners[a]||f,j.currentScope=g,d=0,e=c.length;d<e;d++)if(c[d])try{c[d].apply(null,k)}catch(a){i(a)}else c.splice(d,1),d--,e--;if(h)return j.currentScope=null,j;g=g.$parent}while(g);return j.currentScope=null,j},$broadcast:function(a,b){var c=this,d=this,e={name:a,targetScope:this,preventDefault:function(){e.defaultPrevented=!0},defaultPrevented:!1};if(!this.$$listenerCount[a])return e;for(var f,g,h=M([e],arguments,1);c=d;){for(e.currentScope=c,d=c.$$listeners[a]||[],f=0,g=d.length;f<g;f++)if(d[f])try{d[f].apply(null,h)}catch(a){i(a)}else d.splice(f,1),f--,g--;if(!(d=c.$$listenerCount[a]&&c.$$childHead||c!==this&&c.$$nextSibling))for(;c!==this&&!(d=c.$$nextSibling);)c=c.$parent}return e.currentScope=null,e}};var x=new n,y=x.$$asyncQueue=[],A=x.$$postDigestQueue=[],B=x.$$applyAsyncQueue=[];return x}]}function Xb(){var a=/^\s*(https?|ftp|mailto|tel|file):/,b=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(b){return t(b)?(a=b,this):a},this.imgSrcSanitizationWhitelist=function(a){return t(a)?(b=a,this):b},this.$get=function(){return function(c,d){var e,f=d?b:a;return e=ec(c).href,""===e||e.match(f)?c:"unsafe:"+e}}}function Yb(a){if("self"===a)return a;if(w(a)){if(-1<a.indexOf("***"))throw me("iwcard",a);return a=ed(a).replace("\\*\\*",".*").replace("\\*","[^:/.?&;]*"),new RegExp("^"+a+"$")}if(A(a))return new RegExp("^"+a.source+"$");throw me("imatcher")}function Zb(a){var b=[];return t(a)&&f(a,function(a){b.push(Yb(a))}),b}function $b(){this.SCE_CONTEXTS=ne;var a=["self"],b=[];this.resourceUrlWhitelist=function(b){return arguments.length&&(a=Zb(b)),a},this.resourceUrlBlacklist=function(a){return arguments.length&&(b=Zb(a)),b},this.$get=["$injector",function(c){function d(a,b){return"self"===a?fc(b):!!a.exec(b.href)}function e(a){var b=function(a){this.$$unwrapTrustedValue=function(){return a}};return a&&(b.prototype=new a),b.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},b.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},b}var f=function(a){throw me("unsafe")};c.has("$sanitize")&&(f=c.get("$sanitize"));var g=e(),h={};return h[ne.HTML]=e(g),h[ne.CSS]=e(g),h[ne.URL]=e(g),h[ne.JS]=e(g),h[ne.RESOURCE_URL]=e(h[ne.URL]),{trustAs:function(a,b){var c=h.hasOwnProperty(a)?h[a]:null;if(!c)throw me("icontext",a,b);if(null===b||s(b)||""===b)return b;if("string"!=typeof b)throw me("itype",a);return new c(b)},getTrusted:function(c,e){if(null===e||s(e)||""===e)return e;var g=h.hasOwnProperty(c)?h[c]:null;if(g&&e instanceof g)return e.$$unwrapTrustedValue();if(c===ne.RESOURCE_URL){var i,j,g=ec(e.toString()),k=!1;for(i=0,j=a.length;i<j;i++)if(d(a[i],g)){k=!0;break}if(k)for(i=0,j=b.length;i<j;i++)if(d(b[i],g)){k=!1;break}if(k)return e;throw me("insecurl",e.toString())}if(c===ne.HTML)return f(e);throw me("unsafe")},valueOf:function(a){return a instanceof g?a.$$unwrapTrustedValue():a}}}]}function _b(){var a=!0;this.enabled=function(b){return arguments.length&&(a=!!b),a},this.$get=["$parse","$sceDelegate",function(b,c){if(a&&8>Mc)throw me("iequirks");var d=K(ne);d.isEnabled=function(){return a},d.trustAs=c.trustAs,d.getTrusted=c.getTrusted,d.valueOf=c.valueOf,a||(d.trustAs=d.getTrusted=function(a,b){return b},d.valueOf=p),d.parseAs=function(a,c){var e=b(c);return e.literal&&e.constant?e:b(c,function(b){return d.getTrusted(a,b)})};var e=d.parseAs,g=d.getTrusted,h=d.trustAs;return f(ne,function(a,b){var c=Rc(b);d[ma("parse_as_"+c)]=function(b){return e(a,b)},d[ma("get_trusted_"+c)]=function(b){return g(a,b)},d[ma("trust_as_"+c)]=function(b){return h(a,b)}}),d}]}function ac(){this.$get=["$window","$document",function(a,b){var c,d={},e=m((/android (\d+)/.exec(Rc((a.navigator||{}).userAgent))||[])[1]),f=/Boxee/i.test((a.navigator||{}).userAgent),g=b[0]||{},h=/^(Moz|webkit|ms)(?=[A-Z])/,i=g.body&&g.body.style,j=!1,k=!1;if(i){for(var l in i)if(j=h.exec(l)){c=j[0],c=c.substr(0,1).toUpperCase()+c.substr(1);break}c||(c="WebkitOpacity"in i&&"webkit"),j=!!("transition"in i||c+"Transition"in i),k=!!("animation"in i||c+"Animation"in i),!e||j&&k||(j=w(i.webkitTransition),k=w(i.webkitAnimation))}return{history:!(!a.history||!a.history.pushState||4>e||f),hasEvent:function(a){if("input"===a&&11>=Mc)return!1;if(s(d[a])){var b=g.createElement("div");d[a]="on"+a in b}return d[a]},csp:fd(),vendorPrefix:c,transitions:j,animations:k,android:e}}]}function bc(){this.$get=["$templateCache","$http","$q","$sce",function(a,b,c,d){function e(f,g){e.totalPendingRequests++,w(f)&&a.get(f)||(f=d.getTrustedResourceUrl(f));var h=b.defaults&&b.defaults.transformResponse;return bd(h)?h=h.filter(function(a){return a!==eb}):h===eb&&(h=null),b.get(f,{cache:a,transformResponse:h}).finally(function(){e.totalPendingRequests--}).then(function(b){return a.put(f,b.data),b.data},function(a){if(!g)throw Nd("tpload",f,a.status,a.statusText);return c.reject(a)})}return e.totalPendingRequests=0,e}]}function cc(){this.$get=["$rootScope","$browser","$location",function(a,b,c){return{findBindings:function(a,b,c){a=a.getElementsByClassName("ng-binding");var d=[];return f(a,function(a){var e=$c.element(a).data("$binding");e&&f(e,function(e){c?new RegExp("(^|\\s)"+ed(b)+"(\\s|\\||$)").test(e)&&d.push(a):-1!=e.indexOf(b)&&d.push(a)})}),d},findModels:function(a,b,c){for(var d=["ng-","data-ng-","ng\\:"],e=0;e<d.length;++e){var f=a.querySelectorAll("["+d[e]+"model"+(c?"=":"*=")+'"'+b+'"]');if(f.length)return f}},getLocation:function(){return c.url()},setLocation:function(b){b!==c.url()&&(c.url(b),a.$digest())},whenStable:function(a){b.notifyWhenNoOutstandingRequests(a)}}}]}function dc(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(a,b,c,d,e){function f(f,h,i){z(f)||(i=h,h=f,f=o);var j,k=Uc.call(arguments,3),l=t(i)&&!i,m=(l?d:c).defer(),n=m.promise;return j=b.defer(function(){try{m.resolve(f.apply(null,k))}catch(a){m.reject(a),e(a)}finally{delete g[n.$$timeoutId]}l||a.$apply()},h),n.$$timeoutId=j,g[j]=m,n}var g={};return f.cancel=function(a){return!!(a&&a.$$timeoutId in g)&&(g[a.$$timeoutId].reject("canceled"),delete g[a.$$timeoutId],b.defer.cancel(a.$$timeoutId))},f}]}function ec(a){return Mc&&(oe.setAttribute("href",a),a=oe.href),oe.setAttribute("href",a),{href:oe.href,protocol:oe.protocol?oe.protocol.replace(/:$/,""):"",host:oe.host,search:oe.search?oe.search.replace(/^\?/,""):"",hash:oe.hash?oe.hash.replace(/^#/,""):"",hostname:oe.hostname,port:oe.port,pathname:"/"===oe.pathname.charAt(0)?oe.pathname:"/"+oe.pathname}}function fc(a){return a=w(a)?ec(a):a,a.protocol===pe.protocol&&a.host===pe.host}function gc(){this.$get=q(a)}function hc(a){function b(a){try{return decodeURIComponent(a)}catch(b){return a}}var c=a[0]||{},d={},e="";return function(){var a,f,g,h,i;if(a=c.cookie||"",a!==e)for(e=a,a=e.split("; "),d={},g=0;g<a.length;g++)f=a[g],h=f.indexOf("="),0<h&&(i=b(f.substring(0,h)),s(d[i])&&(d[i]=b(f.substring(h+1))));return d}}function ic(){this.$get=hc}function jc(a){function b(c,d){if(u(c)){var e={};return f(c,function(a,c){e[c]=b(c,a)}),e}return a.factory(c+"Filter",d)}this.register=b,this.$get=["$injector",function(a){return function(b){return a.get(b+"Filter")}}],b("currency",oc),b("date",xc),b("filter",kc),b("json",yc),b("limitTo",zc),b("lowercase",ue),b("number",pc),b("orderBy",Ac),b("uppercase",ve)}function kc(){return function(a,b,c){if(!e(a)){if(null==a)return a;throw d("filter")("notarray",a)}var f;switch(nc(b)){case"function":break;case"boolean":case"null":case"number":case"string":f=!0;case"object":b=lc(b,c,f);break;default:return a}return Array.prototype.filter.call(a,b)}}function lc(a,b,c){var d=u(a)&&"$"in a;return!0===b?b=L:z(b)||(b=function(a,b){return!s(a)&&(null===a||null===b?a===b:!(u(b)||u(a)&&!r(a))&&(a=Rc(""+a),b=Rc(""+b),-1!==a.indexOf(b)))}),function(e){return d&&!u(e)?mc(e,a.$,b,!1):mc(e,a,b,c)}}function mc(a,b,c,d,e){var f=nc(a),g=nc(b);if("string"===g&&"!"===b.charAt(0))return!mc(a,b.substring(1),c,d);if(bd(a))return a.some(function(a){return mc(a,b,c,d)});switch(f){case"object":var h;if(d){for(h in a)if("$"!==h.charAt(0)&&mc(a[h],b,c,!0))return!0;return!e&&mc(a,b,c,!1)}if("object"===g){for(h in b)if(e=b[h],!z(e)&&!s(e)&&(f="$"===h,!mc(f?a:a[h],e,c,f,f)))return!1;return!0}return c(a,b);case"function":return!1;default:return c(a,b)}}function nc(a){return null===a?"null":typeof a}function oc(a){var b=a.NUMBER_FORMATS;return function(a,c,d){return s(c)&&(c=b.CURRENCY_SYM),s(d)&&(d=b.PATTERNS[1].maxFrac),null==a?a:qc(a,b.PATTERNS[1],b.GROUP_SEP,b.DECIMAL_SEP,d).replace(/\u00A4/g,c)}}function pc(a){var b=a.NUMBER_FORMATS;return function(a,c){return null==a?a:qc(a,b.PATTERNS[0],b.GROUP_SEP,b.DECIMAL_SEP,c)}}function qc(a,b,c,d,e){if(u(a))return"";var f=0>a;a=Math.abs(a);var g=1/0===a;if(!g&&!isFinite(a))return"";var h=a+"",i="",j=!1,k=[];if(g&&(i=""),!g&&-1!==h.indexOf("e")){var l=h.match(/([\d\.]+)e(-?)(\d+)/);l&&"-"==l[2]&&l[3]>e+1?a=0:(i=h,j=!0)}if(g||j)0<e&&1>a&&(i=a.toFixed(e),a=parseFloat(i),i=i.replace(qe,d));else{g=(h.split(qe)[1]||"").length,s(e)&&(e=Math.min(Math.max(b.minFrac,g),b.maxFrac)),a=+(Math.round(+(a.toString()+"e"+e)).toString()+"e"+-e);var g=(""+a).split(qe),h=g[0],g=g[1]||"",l=0,m=b.lgSize,n=b.gSize;if(h.length>=m+n)for(l=h.length-m,j=0;j<l;j++)0===(l-j)%n&&0!==j&&(i+=c),i+=h.charAt(j);for(j=l;j<h.length;j++)0===(h.length-j)%m&&0!==j&&(i+=c),i+=h.charAt(j);for(;g.length<e;)g+="0";e&&"0"!==e&&(i+=d+g.substr(0,e))}return 0===a&&(f=!1),k.push(f?b.negPre:b.posPre,i,f?b.negSuf:b.posSuf),k.join("")}function rc(a,b,c){var d="";for(0>a&&(d="-",a=-a),a=""+a;a.length<b;)a="0"+a;return c&&(a=a.substr(a.length-b)),d+a}function sc(a,b,c,d){return c=c||0,function(e){return e=e["get"+a](),(0<c||e>-c)&&(e+=c),0===e&&-12==c&&(e=12),rc(e,b,d)}}function tc(a,b){return function(c,d){var e=c["get"+a](),f=Tc(b?"SHORT"+a:a);return d[f][e]}}function uc(a){var b=new Date(a,0,1).getDay();return new Date(a,0,(4>=b?5:12)-b)}function vc(a){return function(b){var c=uc(b.getFullYear());return b=+new Date(b.getFullYear(),b.getMonth(),b.getDate()+(4-b.getDay()))-+c,b=1+Math.round(b/6048e5),rc(b,a)}}function wc(a,b){return 0>=a.getFullYear()?b.ERAS[0]:b.ERAS[1]}function xc(a){function b(a){var b;if(b=a.match(c)){a=new Date(0);var d=0,e=0,f=b[8]?a.setUTCFullYear:a.setFullYear,g=b[8]?a.setUTCHours:a.setHours;b[9]&&(d=m(b[9]+b[10]),e=m(b[9]+b[11])),f.call(a,m(b[1]),m(b[2])-1,m(b[3])),d=m(b[4]||0)-d,e=m(b[5]||0)-e,f=m(b[6]||0),b=Math.round(1e3*parseFloat("0."+(b[7]||0))),g.call(a,d,e,f,b)}return a}var c=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(c,d,e){var g,h,i="",j=[];if(d=d||"mediumDate",d=a.DATETIME_FORMATS[d]||d,w(c)&&(c=te.test(c)?m(c):b(c)),x(c)&&(c=new Date(c)),!y(c)||!isFinite(c.getTime()))return c;for(;d;)(h=se.exec(d))?(j=M(j,h,1),d=j.pop()):(j.push(d),d=null);var k=c.getTimezoneOffset();return e&&(k=R(e,c.getTimezoneOffset()),c=S(c,e,!0)),f(j,function(b){g=re[b],i+=g?g(c,a.DATETIME_FORMATS,k):b.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),i}}function yc(){return function(a,b){return s(b)&&(b=2),P(a,b)}}function zc(){return function(a,b,c){return b=1/0===Math.abs(Number(b))?Number(b):m(b),isNaN(b)?a:(x(a)&&(a=a.toString()),bd(a)||w(a)?(c=!c||isNaN(c)?0:m(c),c=0>c?Math.max(0,a.length+c):c,0<=b?a.slice(c,c+b):0===c?a.slice(b,a.length):a.slice(Math.max(0,c+b),c)):a)}}function Ac(a){function b(b,c){return c=c?-1:1,b.map(function(b){var d=1,e=p;if(z(b))e=b;else if(w(b)&&("+"!=b.charAt(0)&&"-"!=b.charAt(0)||(d="-"==b.charAt(0)?-1:1,b=b.substring(1)),""!==b&&(e=a(b),e.constant)))var f=e(),e=function(a){return a[f]};return{get:e,descending:d*c}})}function c(a){switch(typeof a){case"number":case"boolean":case"string":return!0;default:return!1}}return function(a,d,f){if(!e(a))return a;bd(d)||(d=[d]),0===d.length&&(d=["+"]);var g=b(d,f);return g.push({get:function(){return{}},descending:f?-1:1}),a=Array.prototype.map.call(a,function(a,b){return{value:a,predicateValues:g.map(function(d){var e=d.get(a);return d=typeof e,null===e?(d="string",e="null"):"string"===d?e=e.toLowerCase():"object"===d&&("function"==typeof e.valueOf&&(e=e.valueOf(),c(e))||r(e)&&(e=e.toString(),c(e))||(e=b)),{value:e,type:d}})}}),a.sort(function(a,b){for(var c=0,d=0,e=g.length;d<e;++d){var c=a.predicateValues[d],f=b.predicateValues[d],h=0;if(c.type===f.type?c.value!==f.value&&(h=c.value<f.value?-1:1):h=c.type<f.type?-1:1,c=h*g[d].descending)break}return c}),a=a.map(function(a){return a.value})}}function Bc(a){return z(a)&&(a={link:a}),a.restrict=a.restrict||"AC",q(a)}function Cc(a,b,d,e,g){var h=this,i=[];h.$error={},h.$$success={},h.$pending=c,h.$name=g(b.name||b.ngForm||"")(d),h.$dirty=!1,h.$pristine=!0,h.$valid=!0,h.$invalid=!1,h.$submitted=!1,h.$$parentForm=ye,h.$rollbackViewValue=function(){f(i,function(a){a.$rollbackViewValue()})},h.$commitViewValue=function(){f(i,function(a){a.$commitViewValue()})},h.$addControl=function(a){ga(a.$name,"input"),i.push(a),a.$name&&(h[a.$name]=a),a.$$parentForm=h},h.$$renameControl=function(a,b){var c=a.$name;h[c]===a&&delete h[c],h[b]=a,a.$name=b},h.$removeControl=function(a){a.$name&&h[a.$name]===a&&delete h[a.$name],f(h.$pending,function(b,c){h.$setValidity(c,null,a)}),f(h.$error,function(b,c){h.$setValidity(c,null,a)}),f(h.$$success,function(b,c){h.$setValidity(c,null,a)}),I(i,a),a.$$parentForm=ye},Kc({ctrl:this,$element:a,set:function(a,b,c){var d=a[b];d?-1===d.indexOf(c)&&d.push(c):a[b]=[c]},unset:function(a,b,c){var d=a[b];d&&(I(d,c),0===d.length&&delete a[b])},$animate:e}),h.$setDirty=function(){e.removeClass(a,ff),e.addClass(a,gf),h.$dirty=!0,h.$pristine=!1,h.$$parentForm.$setDirty()},h.$setPristine=function(){e.setClass(a,ff,gf+" ng-submitted"),h.$dirty=!1,h.$pristine=!0,h.$submitted=!1,f(i,function(a){a.$setPristine()})},h.$setUntouched=function(){f(i,function(a){a.$setUntouched()})},h.$setSubmitted=function(){e.addClass(a,"ng-submitted"),h.$submitted=!0,h.$$parentForm.$setSubmitted()}}function Dc(a){a.$formatters.push(function(b){return a.$isEmpty(b)?b:b.toString()})}function Ec(a,b,c,d,e,f){var g=Rc(b[0].type);if(!e.android){var h=!1;b.on("compositionstart",function(a){h=!0}),b.on("compositionend",function(){h=!1,i()})}var i=function(a){if(j&&(f.defer.cancel(j),j=null),!h){var e=b.val();a=a&&a.type,"password"===g||c.ngTrim&&"false"===c.ngTrim||(e=dd(e)),(d.$viewValue!==e||""===e&&d.$$hasNativeValidators)&&d.$setViewValue(e,a)}};if(e.hasEvent("input"))b.on("input",i);else{var j,k=function(a,b,c){j||(j=f.defer(function(){j=null,b&&b.value===c||i(a)}))};b.on("keydown",function(a){var b=a.keyCode;91===b||15<b&&19>b||37<=b&&40>=b||k(a,this,this.value)}),e.hasEvent("paste")&&b.on("paste cut",k)}b.on("change",i),d.$render=function(){var a=d.$isEmpty(d.$viewValue)?"":d.$viewValue;b.val()!==a&&b.val(a)}}function Fc(a,b){return function(c,d){var e,g;if(y(c))return c;if(w(c)){if('"'==c.charAt(0)&&'"'==c.charAt(c.length-1)&&(c=c.substring(1,c.length-1)),Ce.test(c))return new Date(c);if(a.lastIndex=0,e=a.exec(c))return e.shift(),g=d?{yyyy:d.getFullYear(),MM:d.getMonth()+1,dd:d.getDate(),HH:d.getHours(),mm:d.getMinutes(),ss:d.getSeconds(),sss:d.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},f(e,function(a,c){c<b.length&&(g[b[c]]=+a)}),new Date(g.yyyy,g.MM-1,g.dd,g.HH,g.mm,g.ss||0,1e3*g.sss||0)}return NaN}}function Gc(a,b,d,e){return function(f,g,h,i,j,k,l){function m(a){return a&&!(a.getTime&&a.getTime()!==a.getTime())}function n(a){return t(a)&&!y(a)?d(a)||c:a}Hc(f,g,h,i),Ec(f,g,h,i,j,k);var o,p=i&&i.$options&&i.$options.timezone;if(i.$$parserName=a,i.$parsers.push(function(a){return i.$isEmpty(a)?null:b.test(a)?(a=d(a,o),p&&(a=S(a,p)),a):c}),i.$formatters.push(function(a){if(a&&!y(a))throw jf("datefmt",a);return m(a)?((o=a)&&p&&(o=S(o,p,!0)),l("date")(a,e,p)):(o=null,"")}),t(h.min)||h.ngMin){var q;i.$validators.min=function(a){return!m(a)||s(q)||d(a)>=q},h.$observe("min",function(a){q=n(a),i.$validate()})}if(t(h.max)||h.ngMax){var r;i.$validators.max=function(a){return!m(a)||s(r)||d(a)<=r},h.$observe("max",function(a){r=n(a),i.$validate()})}}}function Hc(a,b,d,e){(e.$$hasNativeValidators=u(b[0].validity))&&e.$parsers.push(function(a){var d=b.prop("validity")||{};return d.badInput&&!d.typeMismatch?c:a})}function Ic(a,b,c,d,e){if(t(d)){if(a=a(d),!a.constant)throw jf("constexpr",c,d);return a(b)}return e}function Jc(a,b){return a="ngClass"+a,["$animate",function(c){function d(a,b){var c=[],d=0;a:for(;d<a.length;d++){for(var e=a[d],f=0;f<b.length;f++)if(e==b[f])continue a;c.push(e)}return c}function e(a){var b=[];return bd(a)?(f(a,function(a){b=b.concat(e(a))}),b):w(a)?a.split(" "):u(a)?(f(a,function(a,c){a&&(b=b.concat(c.split(" ")))}),b):a}return{restrict:"AC",link:function(g,h,i){function j(a,b){var c=h.data("$classCounts")||ja(),d=[];return f(a,function(a){(0<b||c[a])&&(c[a]=(c[a]||0)+b,c[a]===+(0<b)&&d.push(a))}),h.data("$classCounts",c),d.join(" ")}function k(a){if(!0===b||g.$index%2===b){var f=e(a||[]);if(l){if(!L(a,l)){var k=e(l),m=d(f,k),f=d(k,f),m=j(m,1),f=j(f,-1);m&&m.length&&c.addClass(h,m),f&&f.length&&c.removeClass(h,f)}}else{var m=j(f,1);i.$addClass(m)}}l=K(a)}var l;g.$watch(i[a],k,!0),i.$observe("class",function(b){k(g.$eval(i[a]))}),"ngClass"!==a&&g.$watch("$index",function(c,d){var f=1&c;if(f!==(1&d)){var h=e(g.$eval(i[a]));f===b?(f=j(h,1),i.$addClass(f)):(f=j(h,-1),i.$removeClass(f))}})}}}]}function Kc(a){function b(a,b){b&&!g[a]?(j.addClass(f,a),g[a]=!0):!b&&g[a]&&(j.removeClass(f,a),g[a]=!1)}function d(a,c){a=a?"-"+ca(a,"-"):"",b(df+a,!0===c),b(ef+a,!1===c)}var e=a.ctrl,f=a.$element,g={},h=a.set,i=a.unset,j=a.$animate;g[ef]=!(g[df]=f.hasClass(df)),e.$setValidity=function(a,f,g){s(f)?(e.$pending||(e.$pending={}),h(e.$pending,a,g)):(e.$pending&&i(e.$pending,a,g),Lc(e.$pending)&&(e.$pending=c)),D(f)?f?(i(e.$error,a,g),h(e.$$success,a,g)):(h(e.$error,a,g),i(e.$$success,a,g)):(i(e.$error,a,g),i(e.$$success,a,g)),e.$pending?(b(hf,!0),e.$valid=e.$invalid=c,d("",null)):(b(hf,!1),e.$valid=Lc(e.$error),e.$invalid=!e.$valid,d("",e.$valid)),f=e.$pending&&e.$pending[a]?c:!e.$error[a]&&(!!e.$$success[a]||null),d(a,f),e.$$parentForm.$setValidity(a,f,e)}}function Lc(a){if(a)for(var b in a)if(a.hasOwnProperty(b))return!1;return!0}var Mc,Nc,Oc,Pc,Qc=/^\/(.+)\/([a-z]*)$/,Rc=function(a){return w(a)?a.toLowerCase():a},Sc=Object.prototype.hasOwnProperty,Tc=function(a){return w(a)?a.toUpperCase():a},Uc=[].slice,Vc=[].splice,Wc=[].push,Xc=Object.prototype.toString,Yc=Object.getPrototypeOf,Zc=d("ng"),$c=a.angular||(a.angular={}),_c=0;Mc=b.documentMode,o.$inject=[],p.$inject=[];var ad,bd=Array.isArray,cd=/^\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array\]$/,dd=function(a){return w(a)?a.trim():a},ed=function(a){return a.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},fd=function(){if(!t(fd.rules)){var a=b.querySelector("[ng-csp]")||b.querySelector("[data-ng-csp]");if(a){var c=a.getAttribute("ng-csp")||a.getAttribute("data-ng-csp");fd.rules={noUnsafeEval:!c||-1!==c.indexOf("no-unsafe-eval"),noInlineStyle:!c||-1!==c.indexOf("no-inline-style")}}else{a=fd;try{new Function(""),c=!1}catch(a){c=!0}a.rules={noUnsafeEval:c,noInlineStyle:!1}}}return fd.rules},gd=function(){if(t(gd.name_))return gd.name_;var a,c,d,e,f=hd.length;for(c=0;c<f;++c)if(d=hd[c],a=b.querySelector("["+d.replace(":","\\:")+"jq]")){e=a.getAttribute(d+"jq");break}return gd.name_=e},hd=["ng-","data-ng-","ng:","x-ng-"],id=/[A-Z]/g,jd=!1,kd=3,ld={full:"1.4.8",major:1,minor:4,dot:8,codeName:"ice-manipulation"};pa.expando="ng339";var md=pa.cache={},nd=1;pa._data=function(a){return this.cache[a[this.expando]]||{}};var od=/([\:\-\_]+(.))/g,pd=/^moz([A-Z])/,qd={mouseleave:"mouseout",mouseenter:"mouseover"},rd=d("jqLite"),sd=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,td=/<|&#?\w+;/,ud=/<([\w:-]+)/,vd=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,wd={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};wd.optgroup=wd.option,wd.tbody=wd.tfoot=wd.colgroup=wd.caption=wd.thead,wd.th=wd.td;var xd=Node.prototype.contains||function(a){return!!(16&this.compareDocumentPosition(a))},yd=pa.prototype={ready:function(c){function d(){e||(e=!0,c())}var e=!1;"complete"===b.readyState?setTimeout(d):(this.on("DOMContentLoaded",d),pa(a).on("load",d))},toString:function(){var a=[];return f(this,function(b){a.push(""+b)}),"["+a.join(", ")+"]"},eq:function(a){return Nc(0<=a?this[a]:this[this.length+a])},length:0,push:Wc,sort:[].sort,splice:[].splice},zd={};f("multiple selected checked disabled readOnly required open".split(" "),function(a){zd[Rc(a)]=a});var Ad={};f("input select option textarea button form details".split(" "),function(a){Ad[a]=!0});var Bd={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern"};f({data:va,removeData:ta,hasData:function(a){for(var b in md[a.ng339])return!0;return!1}},function(a,b){pa[b]=a}),f({data:va,inheritedData:Ba,scope:function(a){return Nc.data(a,"$scope")||Ba(a.parentNode||a,["$isolateScope","$scope"])},isolateScope:function(a){return Nc.data(a,"$isolateScope")||Nc.data(a,"$isolateScopeNoTemplate")},controller:Aa,injector:function(a){return Ba(a,"$injector")},removeAttr:function(a,b){a.removeAttribute(b)},hasClass:wa,css:function(a,b,c){return b=ma(b),t(c)?void(a.style[b]=c):a.style[b]},attr:function(a,b,d){var e=a.nodeType;if(e!==kd&&2!==e&&8!==e)if(e=Rc(b),zd[e]){if(!t(d))return a[b]||(a.attributes.getNamedItem(b)||o).specified?e:c;d?(a[b]=!0,a.setAttribute(b,e)):(a[b]=!1,a.removeAttribute(e))}else if(t(d))a.setAttribute(b,d);else if(a.getAttribute)return a=a.getAttribute(b,2),null===a?c:a},prop:function(a,b,c){return t(c)?void(a[b]=c):a[b]},text:function(){function a(a,b){if(s(b)){var c=a.nodeType;return 1===c||c===kd?a.textContent:""}a.textContent=b}return a.$dv="",a}(),val:function(a,b){if(s(b)){if(a.multiple&&"select"===H(a)){var c=[];return f(a.options,function(a){a.selected&&c.push(a.value||a.text)}),0===c.length?null:c}return a.value}a.value=b;
},html:function(a,b){return s(b)?a.innerHTML:(ra(a,!0),void(a.innerHTML=b))},empty:Ca},function(a,b){pa.prototype[b]=function(b,c){var d,e,f=this.length;if(a!==Ca&&s(2==a.length&&a!==wa&&a!==Aa?b:c)){if(u(b)){for(d=0;d<f;d++)if(a===va)a(this[d],b);else for(e in b)a(this[d],e,b[e]);return this}for(d=a.$dv,f=s(d)?Math.min(f,1):f,e=0;e<f;e++){var g=a(this[e],b,c);d=d?d+g:g}return d}for(d=0;d<f;d++)a(this[d],b,c);return this}}),f({removeData:ta,on:function(a,b,d,e){if(t(e))throw rd("onargs");if(na(a)){e=ua(a,!0);var f=e.events,g=e.handle;g||(g=e.handle=Ga(a,f)),e=0<=b.indexOf(" ")?b.split(" "):[b];for(var h=e.length,i=function(b,c,e){var h=f[b];h||(h=f[b]=[],h.specialHandlerWrapper=c,"$destroy"===b||e||a.addEventListener(b,g,!1)),h.push(d)};h--;)b=e[h],qd[b]?(i(qd[b],Ia),i(b,c,!0)):i(b)}},off:sa,one:function(a,b,c){a=Nc(a),a.on(b,function d(){a.off(b,c),a.off(b,d)}),a.on(b,c)},replaceWith:function(a,b){var c,d=a.parentNode;ra(a),f(new pa(b),function(b){c?d.insertBefore(b,c.nextSibling):d.replaceChild(b,a),c=b})},children:function(a){var b=[];return f(a.childNodes,function(a){1===a.nodeType&&b.push(a)}),b},contents:function(a){return a.contentDocument||a.childNodes||[]},append:function(a,b){var c=a.nodeType;if(1===c||11===c){b=new pa(b);for(var c=0,d=b.length;c<d;c++)a.appendChild(b[c])}},prepend:function(a,b){if(1===a.nodeType){var c=a.firstChild;f(new pa(b),function(b){a.insertBefore(b,c)})}},wrap:function(a,b){b=Nc(b).eq(0).clone()[0];var c=a.parentNode;c&&c.replaceChild(b,a),b.appendChild(a)},remove:Da,detach:function(a){Da(a,!0)},after:function(a,b){var c=a,d=a.parentNode;b=new pa(b);for(var e=0,f=b.length;e<f;e++){var g=b[e];d.insertBefore(g,c.nextSibling),c=g}},addClass:ya,removeClass:xa,toggleClass:function(a,b,c){b&&f(b.split(" "),function(b){var d=c;s(d)&&(d=!wa(a,b)),(d?ya:xa)(a,b)})},parent:function(a){return(a=a.parentNode)&&11!==a.nodeType?a:null},next:function(a){return a.nextElementSibling},find:function(a,b){return a.getElementsByTagName?a.getElementsByTagName(b):[]},clone:qa,triggerHandler:function(a,b,c){var d,e,g=b.type||b,h=ua(a);(h=(h=h&&h.events)&&h[g])&&(d={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return!0===this.defaultPrevented},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return!0===this.immediatePropagationStopped},stopPropagation:o,type:g,target:a},b.type&&(d=k(d,b)),b=K(h),e=c?[d].concat(c):[d],f(b,function(b){d.isImmediatePropagationStopped()||b.apply(a,e)}))}},function(a,b){pa.prototype[b]=function(b,c,d){for(var e,f=0,g=this.length;f<g;f++)s(e)?(e=a(this[f],b,c,d),t(e)&&(e=Nc(e))):za(e,a(this[f],b,c,d));return t(e)?e:this},pa.prototype.bind=pa.prototype.on,pa.prototype.unbind=pa.prototype.off}),La.prototype={put:function(a,b){this[Ka(a,this.nextUid)]=b},get:function(a){return this[Ka(a,this.nextUid)]},remove:function(a){var b=this[a=Ka(a,this.nextUid)];return delete this[a],b}};var Cd=[function(){this.$get=[function(){return La}]}],Dd=/^[^\(]*\(\s*([^\)]*)\)/m,Ed=/,/,Fd=/^\s*(_?)(\S+?)\1\s*$/,Gd=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,Hd=d("$injector");Na.$$annotate=function(a,b,c){var d;if("function"==typeof a){if(!(d=a.$inject)){if(d=[],a.length){if(b)throw w(c)&&c||(c=a.name||Ma(a)),Hd("strictdi",c);b=a.toString().replace(Gd,""),b=b.match(Dd),f(b[1].split(Ed),function(a){a.replace(Fd,function(a,b,c){d.push(c)})})}a.$inject=d}}else bd(a)?(b=a.length-1,fa(a[b],"fn"),d=a.slice(0,b)):fa(a,"fn",!0);return d};var Id=d("$animate"),Jd=function(){this.$get=["$q","$$rAF",function(a,b){function c(){}return c.all=o,c.chain=o,c.prototype={end:o,cancel:o,resume:o,pause:o,complete:o,then:function(c,d){return a(function(a){b(function(){a()})}).then(c,d)}},c}]},Kd=function(){var a=new La,b=[];this.$get=["$$AnimateRunner","$rootScope",function(c,d){function e(a,b,c){var d=!1;return b&&(b=w(b)?b.split(" "):bd(b)?b:[],f(b,function(b){b&&(d=!0,a[b]=c)})),d}function g(){f(b,function(b){var c=a.get(b);if(c){var d=Qa(b.attr("class")),e="",g="";f(c,function(a,b){a!==!!d[b]&&(a?e+=(e.length?" ":"")+b:g+=(g.length?" ":"")+b)}),f(b,function(a){e&&ya(a,e),g&&xa(a,g)}),a.remove(b)}}),b.length=0}return{enabled:o,on:o,off:o,pin:o,push:function(f,h,i,j){return j&&j(),i=i||{},i.from&&f.css(i.from),i.to&&f.css(i.to),(i.addClass||i.removeClass)&&(h=i.addClass,j=i.removeClass,i=a.get(f)||{},h=e(i,h,!0),j=e(i,j,!1),(h||j)&&(a.put(f,i),b.push(f),1===b.length&&d.$$postDigest(g))),new c}}}]},Ld=["$provide",function(a){var b=this;this.$$registeredAnimations=Object.create(null),this.register=function(c,d){if(c&&"."!==c.charAt(0))throw Id("notcsel",c);var e=c+"-animation";b.$$registeredAnimations[c.substr(1)]=e,a.factory(e,d)},this.classNameFilter=function(a){if(1===arguments.length&&(this.$$classNameFilter=a instanceof RegExp?a:null)&&/(\s+|\/)ng-animate(\s+|\/)/.test(this.$$classNameFilter.toString()))throw Id("nongcls","ng-animate");return this.$$classNameFilter},this.$get=["$$animateQueue",function(a){function b(a,b,c){if(c){var d;a:{for(d=0;d<c.length;d++){var e=c[d];if(1===e.nodeType){d=e;break a}}d=void 0}!d||d.parentNode||d.previousElementSibling||(c=null)}c?c.after(a):b.prepend(a)}return{on:a.on,off:a.off,pin:a.pin,enabled:a.enabled,cancel:function(a){a.end&&a.end()},enter:function(c,d,e,f){return d=d&&Nc(d),e=e&&Nc(e),d=d||e.parent(),b(c,d,e),a.push(c,"enter",Ra(f))},move:function(c,d,e,f){return d=d&&Nc(d),e=e&&Nc(e),d=d||e.parent(),b(c,d,e),a.push(c,"move",Ra(f))},leave:function(b,c){return a.push(b,"leave",Ra(c),function(){b.remove()})},addClass:function(b,c,d){return d=Ra(d),d.addClass=Pa(d.addclass,c),a.push(b,"addClass",d)},removeClass:function(b,c,d){return d=Ra(d),d.removeClass=Pa(d.removeClass,c),a.push(b,"removeClass",d)},setClass:function(b,c,d,e){return e=Ra(e),e.addClass=Pa(e.addClass,c),e.removeClass=Pa(e.removeClass,d),a.push(b,"setClass",e)},animate:function(b,c,d,e,f){return f=Ra(f),f.from=f.from?k(f.from,c):c,f.to=f.to?k(f.to,d):d,f.tempClasses=Pa(f.tempClasses,e||"ng-inline-animate"),a.push(b,"animate",f)}}}]}],Md=function(){this.$get=["$$rAF","$q",function(a,b){var c=function(){};return c.prototype={done:function(a){this.defer&&this.defer[!0===a?"reject":"resolve"]()},end:function(){this.done()},cancel:function(){this.done(!0)},getPromise:function(){return this.defer||(this.defer=b.defer()),this.defer.promise},then:function(a,b){return this.getPromise().then(a,b)},catch:function(a){return this.getPromise().catch(a)},finally:function(a){return this.getPromise().finally(a)}},function(b,d){function e(){return a(function(){d.addClass&&(b.addClass(d.addClass),d.addClass=null),d.removeClass&&(b.removeClass(d.removeClass),d.removeClass=null),d.to&&(b.css(d.to),d.to=null),f||g.done(),f=!0}),g}d.cleanupStyles&&(d.from=d.to=null),d.from&&(b.css(d.from),d.from=null);var f,g=new c;return{start:e,end:e}}}]},Nd=d("$compile");Wa.$inject=["$provide","$$sanitizeUriProvider"];var Od=/^((?:x|data)[\:\-_])/i,Pd=d("$controller"),Qd=/^(\S+)(\s+as\s+(\w+))?$/,Rd=function(){this.$get=["$document",function(a){return function(b){return b?!b.nodeType&&b instanceof Nc&&(b=b[0]):b=a[0].body,b.offsetWidth+1}}]},Sd="application/json",Td={"Content-Type":Sd+";charset=utf-8"},Ud=/^\[|^\{(?!\{)/,Vd={"[":/]$/,"{":/}$/},Wd=/^\)\]\}',?\n/,Xd=d("$http"),Yd=function(a){return function(){throw Xd("legacy",a)}},Zd=$c.$interpolateMinErr=d("$interpolate");Zd.throwNoconcat=function(a){throw Zd("noconcat",a)},Zd.interr=function(a,b){return Zd("interr",a,b.toString())};var $d=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,_d={http:80,https:443,ftp:21},ae=d("$location"),be={$$html5:!1,$$replace:!1,absUrl:xb("$$absUrl"),url:function(a){if(s(a))return this.$$url;var b=$d.exec(a);return(b[1]||""===a)&&this.path(decodeURIComponent(b[1])),(b[2]||b[1]||""===a)&&this.search(b[3]||""),this.hash(b[5]||""),this},protocol:xb("$$protocol"),host:xb("$$host"),port:xb("$$port"),path:yb("$$path",function(a){return a=null!==a?a.toString():"","/"==a.charAt(0)?a:"/"+a}),search:function(a,b){switch(arguments.length){case 0:return this.$$search;case 1:if(w(a)||x(a))a=a.toString(),this.$$search=V(a);else{if(!u(a))throw ae("isrcharg");a=J(a,{}),f(a,function(b,c){null==b&&delete a[c]}),this.$$search=a}break;default:s(b)||null===b?delete this.$$search[a]:this.$$search[a]=b}return this.$$compose(),this},hash:yb("$$hash",function(a){return null!==a?a.toString():""}),replace:function(){return this.$$replace=!0,this}};f([wb,vb,ub],function(a){a.prototype=Object.create(be),a.prototype.state=function(b){if(!arguments.length)return this.$$state;if(a!==ub||!this.$$html5)throw ae("nostate");return this.$$state=s(b)?null:b,this}});var ce=d("$parse"),de=Function.prototype.call,ee=Function.prototype.apply,fe=Function.prototype.bind,ge=ja();f("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),function(a){ge[a]=!0});var he={n:"\n",f:"\f",r:"\r",t:"\t",v:"\v","'":"'",'"':'"'},ie=function(a){this.options=a};ie.prototype={constructor:ie,lex:function(a){for(this.text=a,this.index=0,this.tokens=[];this.index<this.text.length;)if(a=this.text.charAt(this.index),'"'===a||"'"===a)this.readString(a);else if(this.isNumber(a)||"."===a&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdent(a))this.readIdent();else if(this.is(a,"(){}[].,;:?"))this.tokens.push({index:this.index,text:a}),this.index++;else if(this.isWhitespace(a))this.index++;else{var b=a+this.peek(),c=b+this.peek(2),d=ge[b],e=ge[c];ge[a]||d||e?(a=e?c:d?b:a,this.tokens.push({index:this.index,text:a,operator:!0}),this.index+=a.length):this.throwError("Unexpected next character ",this.index,this.index+1)}return this.tokens},is:function(a,b){return-1!==b.indexOf(a)},peek:function(a){return a=a||1,this.index+a<this.text.length&&this.text.charAt(this.index+a)},isNumber:function(a){return"0"<=a&&"9">=a&&"string"==typeof a},isWhitespace:function(a){return" "===a||"\r"===a||"\t"===a||"\n"===a||"\v"===a||""===a},isIdent:function(a){return"a"<=a&&"z">=a||"A"<=a&&"Z">=a||"_"===a||"$"===a},isExpOperator:function(a){return"-"===a||"+"===a||this.isNumber(a)},throwError:function(a,b,c){throw c=c||this.index,b=t(b)?"s "+b+"-"+this.index+" ["+this.text.substring(b,c)+"]":" "+c,ce("lexerr",a,b,this.text)},readNumber:function(){for(var a="",b=this.index;this.index<this.text.length;){var c=Rc(this.text.charAt(this.index));if("."==c||this.isNumber(c))a+=c;else{var d=this.peek();if("e"==c&&this.isExpOperator(d))a+=c;else if(this.isExpOperator(c)&&d&&this.isNumber(d)&&"e"==a.charAt(a.length-1))a+=c;else{if(!this.isExpOperator(c)||d&&this.isNumber(d)||"e"!=a.charAt(a.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:b,text:a,constant:!0,value:Number(a)})},readIdent:function(){for(var a=this.index;this.index<this.text.length;){var b=this.text.charAt(this.index);if(!this.isIdent(b)&&!this.isNumber(b))break;this.index++}this.tokens.push({index:a,text:this.text.slice(a,this.index),identifier:!0})},readString:function(a){var b=this.index;this.index++;for(var c="",d=a,e=!1;this.index<this.text.length;){var f=this.text.charAt(this.index),d=d+f;if(e)"u"===f?(e=this.text.substring(this.index+1,this.index+5),e.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+e+"]"),this.index+=4,c+=String.fromCharCode(parseInt(e,16))):c+=he[f]||f,e=!1;else if("\\"===f)e=!0;else{if(f===a)return this.index++,void this.tokens.push({index:b,text:d,constant:!0,value:c});c+=f}this.index++}this.throwError("Unterminated quote",b)}};var je=function(a,b){this.lexer=a,this.options=b};je.Program="Program",je.ExpressionStatement="ExpressionStatement",je.AssignmentExpression="AssignmentExpression",je.ConditionalExpression="ConditionalExpression",je.LogicalExpression="LogicalExpression",je.BinaryExpression="BinaryExpression",je.UnaryExpression="UnaryExpression",je.CallExpression="CallExpression",je.MemberExpression="MemberExpression",je.Identifier="Identifier",je.Literal="Literal",je.ArrayExpression="ArrayExpression",je.Property="Property",je.ObjectExpression="ObjectExpression",je.ThisExpression="ThisExpression",je.NGValueParameter="NGValueParameter",je.prototype={ast:function(a){return this.text=a,this.tokens=this.lexer.lex(a),a=this.program(),0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),a},program:function(){for(var a=[];;)if(0<this.tokens.length&&!this.peek("}",")",";","]")&&a.push(this.expressionStatement()),!this.expect(";"))return{type:je.Program,body:a}},expressionStatement:function(){return{type:je.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var a=this.expression();this.expect("|");)a=this.filter(a);return a},expression:function(){return this.assignment()},assignment:function(){var a=this.ternary();return this.expect("=")&&(a={type:je.AssignmentExpression,left:a,right:this.assignment(),operator:"="}),a},ternary:function(){var a,b,c=this.logicalOR();return this.expect("?")&&(a=this.expression(),this.consume(":"))?(b=this.expression(),{type:je.ConditionalExpression,test:c,alternate:a,consequent:b}):c},logicalOR:function(){for(var a=this.logicalAND();this.expect("||");)a={type:je.LogicalExpression,operator:"||",left:a,right:this.logicalAND()};return a},logicalAND:function(){for(var a=this.equality();this.expect("&&");)a={type:je.LogicalExpression,operator:"&&",left:a,right:this.equality()};return a},equality:function(){for(var a,b=this.relational();a=this.expect("==","!=","===","!==");)b={type:je.BinaryExpression,operator:a.text,left:b,right:this.relational()};return b},relational:function(){for(var a,b=this.additive();a=this.expect("<",">","<=",">=");)b={type:je.BinaryExpression,operator:a.text,left:b,right:this.additive()};return b},additive:function(){for(var a,b=this.multiplicative();a=this.expect("+","-");)b={type:je.BinaryExpression,operator:a.text,left:b,right:this.multiplicative()};return b},multiplicative:function(){for(var a,b=this.unary();a=this.expect("*","/","%");)b={type:je.BinaryExpression,operator:a.text,left:b,right:this.unary()};return b},unary:function(){var a;return(a=this.expect("+","-","!"))?{type:je.UnaryExpression,operator:a.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var a;this.expect("(")?(a=this.filterChain(),this.consume(")")):this.expect("[")?a=this.arrayDeclaration():this.expect("{")?a=this.object():this.constants.hasOwnProperty(this.peek().text)?a=J(this.constants[this.consume().text]):this.peek().identifier?a=this.identifier():this.peek().constant?a=this.constant():this.throwError("not a primary expression",this.peek());for(var b;b=this.expect("(","[",".");)"("===b.text?(a={type:je.CallExpression,callee:a,arguments:this.parseArguments()},this.consume(")")):"["===b.text?(a={type:je.MemberExpression,object:a,property:this.expression(),computed:!0},this.consume("]")):"."===b.text?a={type:je.MemberExpression,object:a,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return a},filter:function(a){a=[a];for(var b={type:je.CallExpression,callee:this.identifier(),arguments:a,filter:!0};this.expect(":");)a.push(this.expression());return b},parseArguments:function(){var a=[];if(")"!==this.peekToken().text)do a.push(this.expression());while(this.expect(","));return a},identifier:function(){var a=this.consume();return a.identifier||this.throwError("is not a valid identifier",a),{type:je.Identifier,name:a.text}},constant:function(){return{type:je.Literal,value:this.consume().value}},arrayDeclaration:function(){var a=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;a.push(this.expression())}while(this.expect(","));return this.consume("]"),{type:je.ArrayExpression,elements:a}},object:function(){var a,b=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;a={type:je.Property,kind:"init"},this.peek().constant?a.key=this.constant():this.peek().identifier?a.key=this.identifier():this.throwError("invalid key",this.peek()),this.consume(":"),a.value=this.expression(),b.push(a)}while(this.expect(","));return this.consume("}"),{type:je.ObjectExpression,properties:b}},throwError:function(a,b){throw ce("syntax",b.text,a,b.index+1,this.text,this.text.substring(b.index))},consume:function(a){if(0===this.tokens.length)throw ce("ueoe",this.text);var b=this.expect(a);return b||this.throwError("is unexpected, expecting ["+a+"]",this.peek()),b},peekToken:function(){if(0===this.tokens.length)throw ce("ueoe",this.text);return this.tokens[0]},peek:function(a,b,c,d){return this.peekAhead(0,a,b,c,d)},peekAhead:function(a,b,c,d,e){if(this.tokens.length>a){a=this.tokens[a];var f=a.text;if(f===b||f===c||f===d||f===e||!(b||c||d||e))return a}return!1},expect:function(a,b,c,d){return!!(a=this.peek(a,b,c,d))&&(this.tokens.shift(),a)},constants:{true:{type:je.Literal,value:!0},false:{type:je.Literal,value:!1},null:{type:je.Literal,value:null},undefined:{type:je.Literal,value:c},this:{type:je.ThisExpression}}},Nb.prototype={compile:function(a,b){var d=this,e=this.astBuilder.ast(a);this.state={nextId:0,filters:{},expensiveChecks:b,fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]},Ib(e,d.$filter);var g,h="";return this.stage="assign",(g=Lb(e))&&(this.state.computing="assign",h=this.nextId(),this.recurse(g,h),this.return_(h),h="fn.assign="+this.generateFunction("assign","s,v,l")),g=Jb(e.body),d.stage="inputs",f(g,function(a,b){var c="fn"+b;d.state[c]={vars:[],body:[],own:{}},d.state.computing=c;var e=d.nextId();d.recurse(a,e),d.return_(e),d.state.inputs.push(c),a.watchId=b}),this.state.computing="fn",this.stage="main",this.recurse(e),h='"'+this.USE+" "+this.STRICT+'";\n'+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+h+this.watchFns()+"return fn;",h=new Function("$filter","ensureSafeMemberName","ensureSafeObject","ensureSafeFunction","getStringValue","ensureSafeAssignContext","ifDefined","plus","text",h)(this.$filter,Bb,Db,Eb,Cb,Fb,Gb,Hb,a),this.state=this.stage=c,h.literal=Mb(e),h.constant=e.constant,h},USE:"use",STRICT:"strict",watchFns:function(){var a=[],b=this.state.inputs,c=this;return f(b,function(b){a.push("var "+b+"="+c.generateFunction(b,"s"))}),b.length&&a.push("fn.inputs=["+b.join(",")+"];"),a.join("")},generateFunction:function(a,b){return"function("+b+"){"+this.varsPrefix(a)+this.body(a)+"};"},filterPrefix:function(){var a=[],b=this;return f(this.state.filters,function(c,d){a.push(c+"=$filter("+b.escape(d)+")")}),a.length?"var "+a.join(",")+";":""},varsPrefix:function(a){return this.state[a].vars.length?"var "+this.state[a].vars.join(",")+";":""},body:function(a){return this.state[a].body.join("")},recurse:function(a,b,d,e,g,h){var i,j,k,l,m=this;if(e=e||o,!h&&t(a.watchId))b=b||this.nextId(),this.if_("i",this.lazyAssign(b,this.computedMember("i",a.watchId)),this.lazyRecurse(a,b,d,e,g,!0));else switch(a.type){case je.Program:f(a.body,function(b,d){m.recurse(b.expression,c,c,function(a){j=a}),d!==a.body.length-1?m.current().body.push(j,";"):m.return_(j)});break;case je.Literal:l=this.escape(a.value),this.assign(b,l),e(l);break;case je.UnaryExpression:this.recurse(a.argument,c,c,function(a){j=a}),l=a.operator+"("+this.ifDefined(j,0)+")",this.assign(b,l),e(l);break;case je.BinaryExpression:this.recurse(a.left,c,c,function(a){i=a}),this.recurse(a.right,c,c,function(a){j=a}),l="+"===a.operator?this.plus(i,j):"-"===a.operator?this.ifDefined(i,0)+a.operator+this.ifDefined(j,0):"("+i+")"+a.operator+"("+j+")",this.assign(b,l),e(l);break;case je.LogicalExpression:b=b||this.nextId(),m.recurse(a.left,b),m.if_("&&"===a.operator?b:m.not(b),m.lazyRecurse(a.right,b)),e(b);break;case je.ConditionalExpression:b=b||this.nextId(),m.recurse(a.test,b),m.if_(b,m.lazyRecurse(a.alternate,b),m.lazyRecurse(a.consequent,b)),e(b);break;case je.Identifier:b=b||this.nextId(),d&&(d.context="inputs"===m.stage?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",a.name)+"?l:s"),d.computed=!1,d.name=a.name),Bb(a.name),m.if_("inputs"===m.stage||m.not(m.getHasOwnProperty("l",a.name)),function(){m.if_("inputs"===m.stage||"s",function(){g&&1!==g&&m.if_(m.not(m.nonComputedMember("s",a.name)),m.lazyAssign(m.nonComputedMember("s",a.name),"{}")),m.assign(b,m.nonComputedMember("s",a.name))})},b&&m.lazyAssign(b,m.nonComputedMember("l",a.name))),(m.state.expensiveChecks||Pb(a.name))&&m.addEnsureSafeObject(b),e(b);break;case je.MemberExpression:i=d&&(d.context=this.nextId())||this.nextId(),b=b||this.nextId(),m.recurse(a.object,i,c,function(){m.if_(m.notNull(i),function(){a.computed?(j=m.nextId(),m.recurse(a.property,j),m.getStringValue(j),m.addEnsureSafeMemberName(j),g&&1!==g&&m.if_(m.not(m.computedMember(i,j)),m.lazyAssign(m.computedMember(i,j),"{}")),l=m.ensureSafeObject(m.computedMember(i,j)),m.assign(b,l),d&&(d.computed=!0,d.name=j)):(Bb(a.property.name),g&&1!==g&&m.if_(m.not(m.nonComputedMember(i,a.property.name)),m.lazyAssign(m.nonComputedMember(i,a.property.name),"{}")),l=m.nonComputedMember(i,a.property.name),(m.state.expensiveChecks||Pb(a.property.name))&&(l=m.ensureSafeObject(l)),m.assign(b,l),d&&(d.computed=!1,d.name=a.property.name))},function(){m.assign(b,"undefined")}),e(b)},!!g);break;case je.CallExpression:b=b||this.nextId(),a.filter?(j=m.filter(a.callee.name),k=[],f(a.arguments,function(a){var b=m.nextId();m.recurse(a,b),k.push(b)}),l=j+"("+k.join(",")+")",m.assign(b,l),e(b)):(j=m.nextId(),i={},k=[],m.recurse(a.callee,j,i,function(){m.if_(m.notNull(j),function(){m.addEnsureSafeFunction(j),f(a.arguments,function(a){m.recurse(a,m.nextId(),c,function(a){k.push(m.ensureSafeObject(a))})}),i.name?(m.state.expensiveChecks||m.addEnsureSafeObject(i.context),l=m.member(i.context,i.name,i.computed)+"("+k.join(",")+")"):l=j+"("+k.join(",")+")",l=m.ensureSafeObject(l),m.assign(b,l)},function(){m.assign(b,"undefined")}),e(b)}));break;case je.AssignmentExpression:if(j=this.nextId(),i={},!Kb(a.left))throw ce("lval");this.recurse(a.left,c,i,function(){m.if_(m.notNull(i.context),function(){m.recurse(a.right,j),m.addEnsureSafeObject(m.member(i.context,i.name,i.computed)),m.addEnsureSafeAssignContext(i.context),l=m.member(i.context,i.name,i.computed)+a.operator+j,m.assign(b,l),e(b||l)})},1);break;case je.ArrayExpression:k=[],f(a.elements,function(a){m.recurse(a,m.nextId(),c,function(a){k.push(a)})}),l="["+k.join(",")+"]",this.assign(b,l),e(l);break;case je.ObjectExpression:k=[],f(a.properties,function(a){m.recurse(a.value,m.nextId(),c,function(b){k.push(m.escape(a.key.type===je.Identifier?a.key.name:""+a.key.value)+":"+b)})}),l="{"+k.join(",")+"}",this.assign(b,l),e(l);break;case je.ThisExpression:this.assign(b,"s"),e("s");break;case je.NGValueParameter:this.assign(b,"v"),e("v")}},getHasOwnProperty:function(a,b){var c=a+"."+b,d=this.current().own;return d.hasOwnProperty(c)||(d[c]=this.nextId(!1,a+"&&("+this.escape(b)+" in "+a+")")),d[c]},assign:function(a,b){if(a)return this.current().body.push(a,"=",b,";"),a},filter:function(a){return this.state.filters.hasOwnProperty(a)||(this.state.filters[a]=this.nextId(!0)),this.state.filters[a]},ifDefined:function(a,b){return"ifDefined("+a+","+this.escape(b)+")"},plus:function(a,b){return"plus("+a+","+b+")"},return_:function(a){this.current().body.push("return ",a,";")},if_:function(a,b,c){if(!0===a)b();else{var d=this.current().body;d.push("if(",a,"){"),b(),d.push("}"),c&&(d.push("else{"),c(),d.push("}"))}},not:function(a){return"!("+a+")"},notNull:function(a){return a+"!=null"},nonComputedMember:function(a,b){return a+"."+b},computedMember:function(a,b){return a+"["+b+"]"},member:function(a,b,c){return c?this.computedMember(a,b):this.nonComputedMember(a,b)},addEnsureSafeObject:function(a){this.current().body.push(this.ensureSafeObject(a),";")},addEnsureSafeMemberName:function(a){this.current().body.push(this.ensureSafeMemberName(a),";")},addEnsureSafeFunction:function(a){this.current().body.push(this.ensureSafeFunction(a),";")},addEnsureSafeAssignContext:function(a){this.current().body.push(this.ensureSafeAssignContext(a),";")},ensureSafeObject:function(a){return"ensureSafeObject("+a+",text)"},ensureSafeMemberName:function(a){return"ensureSafeMemberName("+a+",text)"},ensureSafeFunction:function(a){return"ensureSafeFunction("+a+",text)"},getStringValue:function(a){this.assign(a,"getStringValue("+a+",text)")},ensureSafeAssignContext:function(a){return"ensureSafeAssignContext("+a+",text)"},lazyRecurse:function(a,b,c,d,e,f){var g=this;return function(){g.recurse(a,b,c,d,e,f)}},lazyAssign:function(a,b){var c=this;return function(){c.assign(a,b)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)},escape:function(a){if(w(a))return"'"+a.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(x(a))return a.toString();if(!0===a)return"true";if(!1===a)return"false";if(null===a)return"null";if("undefined"==typeof a)return"undefined";throw ce("esc")},nextId:function(a,b){var c="v"+this.state.nextId++;return a||this.current().vars.push(c+(b?"="+b:"")),c},current:function(){return this.state[this.state.computing]}},Ob.prototype={compile:function(a,b){var c=this,d=this.astBuilder.ast(a);this.expression=a,this.expensiveChecks=b,Ib(d,c.$filter);var e,g;(e=Lb(d))&&(g=this.recurse(e)),e=Jb(d.body);var h;e&&(h=[],f(e,function(a,b){var d=c.recurse(a);a.input=d,h.push(d),a.watchId=b}));var i=[];return f(d.body,function(a){i.push(c.recurse(a.expression))}),e=0===d.body.length?function(){}:1===d.body.length?i[0]:function(a,b){var c;return f(i,function(d){c=d(a,b)}),c},g&&(e.assign=function(a,b,c){return g(a,c,b)}),h&&(e.inputs=h),e.literal=Mb(d),e.constant=d.constant,e},recurse:function(a,b,d){var e,g,h,i=this;if(a.input)return this.inputs(a.input,a.watchId);switch(a.type){case je.Literal:return this.value(a.value,b);case je.UnaryExpression:return g=this.recurse(a.argument),this["unary"+a.operator](g,b);case je.BinaryExpression:return e=this.recurse(a.left),g=this.recurse(a.right),this["binary"+a.operator](e,g,b);case je.LogicalExpression:return e=this.recurse(a.left),g=this.recurse(a.right),this["binary"+a.operator](e,g,b);case je.ConditionalExpression:return this["ternary?:"](this.recurse(a.test),this.recurse(a.alternate),this.recurse(a.consequent),b);case je.Identifier:return Bb(a.name,i.expression),i.identifier(a.name,i.expensiveChecks||Pb(a.name),b,d,i.expression);case je.MemberExpression:return e=this.recurse(a.object,!1,!!d),a.computed||(Bb(a.property.name,i.expression),g=a.property.name),a.computed&&(g=this.recurse(a.property)),a.computed?this.computedMember(e,g,b,d,i.expression):this.nonComputedMember(e,g,i.expensiveChecks,b,d,i.expression);case je.CallExpression:return h=[],f(a.arguments,function(a){h.push(i.recurse(a))}),a.filter&&(g=this.$filter(a.callee.name)),a.filter||(g=this.recurse(a.callee,!0)),a.filter?function(a,d,e,f){for(var i=[],j=0;j<h.length;++j)i.push(h[j](a,d,e,f));return a=g.apply(c,i,f),b?{context:c,name:c,value:a}:a}:function(a,c,d,e){var f,j=g(a,c,d,e);if(null!=j.value){Db(j.context,i.expression),Eb(j.value,i.expression),f=[];for(var k=0;k<h.length;++k)f.push(Db(h[k](a,c,d,e),i.expression));f=Db(j.value.apply(j.context,f),i.expression)}return b?{value:f}:f};case je.AssignmentExpression:return e=this.recurse(a.left,!0,1),g=this.recurse(a.right),function(a,c,d,f){var h=e(a,c,d,f);return a=g(a,c,d,f),Db(h.value,i.expression),Fb(h.context),h.context[h.name]=a,b?{value:a}:a};case je.ArrayExpression:return h=[],f(a.elements,function(a){h.push(i.recurse(a))}),function(a,c,d,e){for(var f=[],g=0;g<h.length;++g)f.push(h[g](a,c,d,e));return b?{value:f}:f};case je.ObjectExpression:return h=[],f(a.properties,function(a){h.push({key:a.key.type===je.Identifier?a.key.name:""+a.key.value,value:i.recurse(a.value)})}),function(a,c,d,e){for(var f={},g=0;g<h.length;++g)f[h[g].key]=h[g].value(a,c,d,e);return b?{value:f}:f};case je.ThisExpression:return function(a){return b?{value:a}:a};case je.NGValueParameter:return function(a,c,d,e){return b?{value:d}:d}}},"unary+":function(a,b){return function(c,d,e,f){return c=a(c,d,e,f),c=t(c)?+c:0,b?{value:c}:c}},"unary-":function(a,b){return function(c,d,e,f){return c=a(c,d,e,f),c=t(c)?-c:0,b?{value:c}:c}},"unary!":function(a,b){return function(c,d,e,f){return c=!a(c,d,e,f),b?{value:c}:c}},"binary+":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g);return d=b(d,e,f,g),h=Hb(h,d),c?{value:h}:h}},"binary-":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g);return d=b(d,e,f,g),h=(t(h)?h:0)-(t(d)?d:0),c?{value:h}:h}},"binary*":function(a,b,c){return function(d,e,f,g){return d=a(d,e,f,g)*b(d,e,f,g),c?{value:d}:d}},"binary/":function(a,b,c){return function(d,e,f,g){return d=a(d,e,f,g)/b(d,e,f,g),c?{value:d}:d}},"binary%":function(a,b,c){return function(d,e,f,g){return d=a(d,e,f,g)%b(d,e,f,g),c?{value:d}:d}},"binary===":function(a,b,c){return function(d,e,f,g){return d=a(d,e,f,g)===b(d,e,f,g),c?{value:d}:d}},"binary!==":function(a,b,c){return function(d,e,f,g){return d=a(d,e,f,g)!==b(d,e,f,g),c?{value:d}:d}},"binary==":function(a,b,c){return function(d,e,f,g){return d=a(d,e,f,g)==b(d,e,f,g),c?{value:d}:d}},"binary!=":function(a,b,c){return function(d,e,f,g){return d=a(d,e,f,g)!=b(d,e,f,g),c?{value:d}:d}},"binary<":function(a,b,c){return function(d,e,f,g){return d=a(d,e,f,g)<b(d,e,f,g),c?{value:d}:d}},"binary>":function(a,b,c){return function(d,e,f,g){return d=a(d,e,f,g)>b(d,e,f,g),c?{value:d}:d}},"binary<=":function(a,b,c){return function(d,e,f,g){return d=a(d,e,f,g)<=b(d,e,f,g),c?{value:d}:d}},"binary>=":function(a,b,c){return function(d,e,f,g){return d=a(d,e,f,g)>=b(d,e,f,g),c?{value:d}:d}},"binary&&":function(a,b,c){return function(d,e,f,g){return d=a(d,e,f,g)&&b(d,e,f,g),c?{value:d}:d}},"binary||":function(a,b,c){return function(d,e,f,g){return d=a(d,e,f,g)||b(d,e,f,g),c?{value:d}:d}},"ternary?:":function(a,b,c,d){return function(e,f,g,h){return e=a(e,f,g,h)?b(e,f,g,h):c(e,f,g,h),d?{value:e}:e}},value:function(a,b){return function(){return b?{context:c,name:c,value:a}:a}},identifier:function(a,b,d,e,f){return function(g,h,i,j){return g=h&&a in h?h:g,e&&1!==e&&g&&!g[a]&&(g[a]={}),h=g?g[a]:c,b&&Db(h,f),d?{context:g,name:a,value:h}:h}},computedMember:function(a,b,c,d,e){return function(f,g,h,i){var j,k,l=a(f,g,h,i);return null!=l&&(j=b(f,g,h,i),j=Cb(j),Bb(j,e),d&&1!==d&&l&&!l[j]&&(l[j]={}),k=l[j],Db(k,e)),c?{context:l,name:j,value:k}:k}},nonComputedMember:function(a,b,d,e,f,g){return function(h,i,j,k){return h=a(h,i,j,k),f&&1!==f&&h&&!h[b]&&(h[b]={}),i=null!=h?h[b]:c,(d||Pb(b))&&Db(i,g),e?{context:h,name:b,value:i}:i}},inputs:function(a,b){return function(c,d,e,f){return f?f[b]:a(c,d,e)}}};var ke=function(a,b,c){this.lexer=a,this.$filter=b,this.options=c,this.ast=new je(this.lexer),this.astCompiler=c.csp?new Ob(this.ast,b):new Nb(this.ast,b)};ke.prototype={constructor:ke,parse:function(a){return this.astCompiler.compile(a,this.options.expensiveChecks)}},ja(),ja();var le=Object.prototype.valueOf,me=d("$sce"),ne={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},Nd=d("$compile"),oe=b.createElement("a"),pe=ec(a.location.href);hc.$inject=["$document"],jc.$inject=["$provide"],oc.$inject=["$locale"],pc.$inject=["$locale"];var qe=".",re={yyyy:sc("FullYear",4),yy:sc("FullYear",2,0,!0),y:sc("FullYear",1),MMMM:tc("Month"),MMM:tc("Month",!0),MM:sc("Month",2,1),M:sc("Month",1,1),dd:sc("Date",2),d:sc("Date",1),HH:sc("Hours",2),H:sc("Hours",1),hh:sc("Hours",2,-12),h:sc("Hours",1,-12),mm:sc("Minutes",2),m:sc("Minutes",1),ss:sc("Seconds",2),s:sc("Seconds",1),sss:sc("Milliseconds",3),EEEE:tc("Day"),EEE:tc("Day",!0),a:function(a,b){return 12>a.getHours()?b.AMPMS[0]:b.AMPMS[1]},Z:function(a,b,c){return a=-1*c,a=(0<=a?"+":"")+(rc(Math[0<a?"floor":"ceil"](a/60),2)+rc(Math.abs(a%60),2))},ww:vc(2),w:vc(1),G:wc,GG:wc,GGG:wc,GGGG:function(a,b){return 0>=a.getFullYear()?b.ERANAMES[0]:b.ERANAMES[1]}},se=/((?:[^yMdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|d+|H+|h+|m+|s+|a|Z|G+|w+))(.*)/,te=/^\-?\d+$/;xc.$inject=["$locale"];var ue=q(Rc),ve=q(Tc);Ac.$inject=["$parse"];var we=q({restrict:"E",compile:function(a,b){if(!b.href&&!b.xlinkHref)return function(a,b){if("a"===b[0].nodeName.toLowerCase()){var c="[object SVGAnimatedString]"===Xc.call(b.prop("href"))?"xlink:href":"href";
b.on("click",function(a){b.attr(c)||a.preventDefault()})}}}}),xe={};f(zd,function(a,b){function c(a,c,e){a.$watch(e[d],function(a){e.$set(b,!!a)})}if("multiple"!=a){var d=Xa("ng-"+b),e=c;"checked"===a&&(e=function(a,b,e){e.ngModel!==e[d]&&c(a,b,e)}),xe[d]=function(){return{restrict:"A",priority:100,link:e}}}}),f(Bd,function(a,b){xe[b]=function(){return{priority:100,link:function(a,c,d){return"ngPattern"===b&&"/"==d.ngPattern.charAt(0)&&(c=d.ngPattern.match(Qc))?void d.$set("ngPattern",new RegExp(c[1],c[2])):void a.$watch(d[b],function(a){d.$set(b,a)})}}}}),f(["src","srcset","href"],function(a){var b=Xa("ng-"+a);xe[b]=function(){return{priority:99,link:function(c,d,e){var f=a,g=a;"href"===a&&"[object SVGAnimatedString]"===Xc.call(d.prop("href"))&&(g="xlinkHref",e.$attr[g]="xlink:href",f=null),e.$observe(b,function(b){b?(e.$set(g,b),Mc&&f&&d.prop(f,e[g])):"href"===a&&e.$set(g,null)})}}}});var ye={$addControl:o,$$renameControl:function(a,b){a.$name=b},$removeControl:o,$setValidity:o,$setDirty:o,$setPristine:o,$setSubmitted:o};Cc.$inject=["$element","$attrs","$scope","$animate","$interpolate"];var ze=function(a){return["$timeout","$parse",function(b,d){function e(a){return""===a?d('this[""]').assign:d(a).assign||o}return{name:"form",restrict:a?"EAC":"E",require:["form","^^?form"],controller:Cc,compile:function(d,f){d.addClass(ff).addClass(df);var g=f.name?"name":!(!a||!f.ngForm)&&"ngForm";return{pre:function(a,d,f,h){var i=h[0];if(!("action"in f)){var j=function(b){a.$apply(function(){i.$commitViewValue(),i.$setSubmitted()}),b.preventDefault()};d[0].addEventListener("submit",j,!1),d.on("$destroy",function(){b(function(){d[0].removeEventListener("submit",j,!1)},0,!1)})}(h[1]||i.$$parentForm).$addControl(i);var l=g?e(i.$name):o;g&&(l(a,i),f.$observe(g,function(b){i.$name!==b&&(l(a,c),i.$$parentForm.$$renameControl(i,b),(l=e(i.$name))(a,i))})),d.on("$destroy",function(){i.$$parentForm.$removeControl(i),l(a,c),k(i,ye)})}}}}}]},Ae=ze(),Be=ze(!0),Ce=/\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z)/,De=/^[A-Za-z][A-Za-z\d.+-]*:\/*(?:\w+(?::\w+)?@)?[^\s/]+(?::\d+)?(?:\/[\w#!:.?+=&%@\-/]*)?$/,Ee=/^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i,Fe=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/,Ge=/^(\d{4})-(\d{2})-(\d{2})$/,He=/^(\d{4})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Ie=/^(\d{4})-W(\d\d)$/,Je=/^(\d{4})-(\d\d)$/,Ke=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Le={text:function(a,b,c,d,e,f){Ec(a,b,c,d,e,f),Dc(d)},date:Gc("date",Ge,Fc(Ge,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":Gc("datetimelocal",He,Fc(He,"yyyy MM dd HH mm ss sss".split(" ")),"yyyy-MM-ddTHH:mm:ss.sss"),time:Gc("time",Ke,Fc(Ke,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:Gc("week",Ie,function(a,b){if(y(a))return a;if(w(a)){Ie.lastIndex=0;var c=Ie.exec(a);if(c){var d=+c[1],e=+c[2],f=c=0,g=0,h=0,i=uc(d),e=7*(e-1);return b&&(c=b.getHours(),f=b.getMinutes(),g=b.getSeconds(),h=b.getMilliseconds()),new Date(d,0,i.getDate()+e,c,f,g,h)}}return NaN},"yyyy-Www"),month:Gc("month",Je,Fc(Je,["yyyy","MM"]),"yyyy-MM"),number:function(a,b,d,e,f,g){if(Hc(a,b,d,e),Ec(a,b,d,e,f,g),e.$$parserName="number",e.$parsers.push(function(a){return e.$isEmpty(a)?null:Fe.test(a)?parseFloat(a):c}),e.$formatters.push(function(a){if(!e.$isEmpty(a)){if(!x(a))throw jf("numfmt",a);a=a.toString()}return a}),t(d.min)||d.ngMin){var h;e.$validators.min=function(a){return e.$isEmpty(a)||s(h)||a>=h},d.$observe("min",function(a){t(a)&&!x(a)&&(a=parseFloat(a,10)),h=x(a)&&!isNaN(a)?a:c,e.$validate()})}if(t(d.max)||d.ngMax){var i;e.$validators.max=function(a){return e.$isEmpty(a)||s(i)||a<=i},d.$observe("max",function(a){t(a)&&!x(a)&&(a=parseFloat(a,10)),i=x(a)&&!isNaN(a)?a:c,e.$validate()})}},url:function(a,b,c,d,e,f){Ec(a,b,c,d,e,f),Dc(d),d.$$parserName="url",d.$validators.url=function(a,b){var c=a||b;return d.$isEmpty(c)||De.test(c)}},email:function(a,b,c,d,e,f){Ec(a,b,c,d,e,f),Dc(d),d.$$parserName="email",d.$validators.email=function(a,b){var c=a||b;return d.$isEmpty(c)||Ee.test(c)}},radio:function(a,b,c,d){s(c.name)&&b.attr("name",++_c),b.on("click",function(a){b[0].checked&&d.$setViewValue(c.value,a&&a.type)}),d.$render=function(){b[0].checked=c.value==d.$viewValue},c.$observe("value",d.$render)},checkbox:function(a,b,c,d,e,f,g,h){var i=Ic(h,a,"ngTrueValue",c.ngTrueValue,!0),j=Ic(h,a,"ngFalseValue",c.ngFalseValue,!1);b.on("click",function(a){d.$setViewValue(b[0].checked,a&&a.type)}),d.$render=function(){b[0].checked=d.$viewValue},d.$isEmpty=function(a){return!1===a},d.$formatters.push(function(a){return L(a,i)}),d.$parsers.push(function(a){return a?i:j})},hidden:o,button:o,submit:o,reset:o,file:o},Me=["$browser","$sniffer","$filter","$parse",function(a,b,c,d){return{restrict:"E",require:["?ngModel"],link:{pre:function(e,f,g,h){h[0]&&(Le[Rc(g.type)]||Le.text)(e,f,g,h[0],b,a,c,d)}}}}],Ne=/^(true|false|\d+)$/,Oe=function(){return{restrict:"A",priority:100,compile:function(a,b){return Ne.test(b.ngValue)?function(a,b,c){c.$set("value",a.$eval(c.ngValue))}:function(a,b,c){a.$watch(c.ngValue,function(a){c.$set("value",a)})}}}},Pe=["$compile",function(a){return{restrict:"AC",compile:function(b){return a.$$addBindingClass(b),function(b,c,d){a.$$addBindingInfo(c,d.ngBind),c=c[0],b.$watch(d.ngBind,function(a){c.textContent=s(a)?"":a})}}}}],Qe=["$interpolate","$compile",function(a,b){return{compile:function(c){return b.$$addBindingClass(c),function(c,d,e){c=a(d.attr(e.$attr.ngBindTemplate)),b.$$addBindingInfo(d,c.expressions),d=d[0],e.$observe("ngBindTemplate",function(a){d.textContent=s(a)?"":a})}}}}],Re=["$sce","$parse","$compile",function(a,b,c){return{restrict:"A",compile:function(d,e){var f=b(e.ngBindHtml),g=b(e.ngBindHtml,function(a){return(a||"").toString()});return c.$$addBindingClass(d),function(b,d,e){c.$$addBindingInfo(d,e.ngBindHtml),b.$watch(g,function(){d.html(a.getTrustedHtml(f(b))||"")})}}}}],Se=q({restrict:"A",require:"ngModel",link:function(a,b,c,d){d.$viewChangeListeners.push(function(){a.$eval(c.ngChange)})}}),Te=Jc("",!0),Ue=Jc("Odd",0),Ve=Jc("Even",1),We=Bc({compile:function(a,b){b.$set("ngCloak",c),a.removeClass("ng-cloak")}}),Xe=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],Ye={},Ze={blur:!0,focus:!0};f("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(a){var b=Xa("ng-"+a);Ye[b]=["$parse","$rootScope",function(c,d){return{restrict:"A",compile:function(e,f){var g=c(f[b],null,!0);return function(b,c){c.on(a,function(c){var e=function(){g(b,{$event:c})};Ze[a]&&d.$$phase?b.$evalAsync(e):b.$apply(e)})}}}}]});var $e=["$animate",function(a){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(c,d,e,f,g){var h,i,j;c.$watch(e.ngIf,function(c){c?i||g(function(c,f){i=f,c[c.length++]=b.createComment(" end ngIf: "+e.ngIf+" "),h={clone:c},a.enter(c,d.parent(),d)}):(j&&(j.remove(),j=null),i&&(i.$destroy(),i=null),h&&(j=ia(h.clone),a.leave(j).then(function(){j=null}),h=null))})}}}],_e=["$templateRequest","$anchorScroll","$animate",function(a,b,c){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:$c.noop,compile:function(d,e){var f=e.ngInclude||e.src,g=e.onload||"",h=e.autoscroll;return function(d,e,i,j,k){var l,m,n,o=0,p=function(){m&&(m.remove(),m=null),l&&(l.$destroy(),l=null),n&&(c.leave(n).then(function(){m=null}),m=n,n=null)};d.$watch(f,function(f){var i=function(){!t(h)||h&&!d.$eval(h)||b()},m=++o;f?(a(f,!0).then(function(a){if(m===o){var b=d.$new();j.template=a,a=k(b,function(a){p(),c.enter(a,null,e).then(i)}),l=b,n=a,l.$emit("$includeContentLoaded",f),d.$eval(g)}},function(){m===o&&(p(),d.$emit("$includeContentError",f))}),d.$emit("$includeContentRequested",f)):(p(),j.template=null)})}}}}],af=["$compile",function(a){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(c,d,e,f){/SVG/.test(d[0].toString())?(d.empty(),a(oa(f.template,b).childNodes)(c,function(a){d.append(a)},{futureParentElement:d})):(d.html(f.template),a(d.contents())(c))}}}],bf=Bc({priority:450,compile:function(){return{pre:function(a,b,c){a.$eval(c.ngInit)}}}}),cf=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(a,b,d,e){var g=b.attr(d.$attr.ngList)||", ",h="false"!==d.ngTrim,i=h?dd(g):g;e.$parsers.push(function(a){if(!s(a)){var b=[];return a&&f(a.split(i),function(a){a&&b.push(h?dd(a):a)}),b}}),e.$formatters.push(function(a){return bd(a)?a.join(g):c}),e.$isEmpty=function(a){return!a||!a.length}}}},df="ng-valid",ef="ng-invalid",ff="ng-pristine",gf="ng-dirty",hf="ng-pending",jf=d("ngModel"),kf=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$rootScope","$q","$interpolate",function(a,b,d,e,g,h,i,j,k,l){this.$modelValue=this.$viewValue=Number.NaN,this.$$rawModelValue=c,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=c,this.$name=l(d.name||"",!1)(a),this.$$parentForm=ye;var m,n=g(d.ngModel),p=n.assign,q=n,r=p,u=null,v=this;this.$$setOptions=function(a){if((v.$options=a)&&a.getterSetter){var b=g(d.ngModel+"()"),c=g(d.ngModel+"($$$p)");q=function(a){var c=n(a);return z(c)&&(c=b(a)),c},r=function(a,b){z(n(a))?c(a,{$$$p:v.$modelValue}):p(a,v.$modelValue)}}else if(!n.assign)throw jf("nonassign",d.ngModel,T(e))},this.$render=o,this.$isEmpty=function(a){return s(a)||""===a||null===a||a!==a};var w=0;Kc({ctrl:this,$element:e,set:function(a,b){a[b]=!0},unset:function(a,b){delete a[b]},$animate:h}),this.$setPristine=function(){v.$dirty=!1,v.$pristine=!0,h.removeClass(e,gf),h.addClass(e,ff)},this.$setDirty=function(){v.$dirty=!0,v.$pristine=!1,h.removeClass(e,ff),h.addClass(e,gf),v.$$parentForm.$setDirty()},this.$setUntouched=function(){v.$touched=!1,v.$untouched=!0,h.setClass(e,"ng-untouched","ng-touched")},this.$setTouched=function(){v.$touched=!0,v.$untouched=!1,h.setClass(e,"ng-touched","ng-untouched")},this.$rollbackViewValue=function(){i.cancel(u),v.$viewValue=v.$$lastCommittedViewValue,v.$render()},this.$validate=function(){if(!x(v.$modelValue)||!isNaN(v.$modelValue)){var a=v.$$rawModelValue,b=v.$valid,d=v.$modelValue,e=v.$options&&v.$options.allowInvalid;v.$$runValidators(a,v.$$lastCommittedViewValue,function(f){e||b===f||(v.$modelValue=f?a:c,v.$modelValue!==d&&v.$$writeModelToScope())})}},this.$$runValidators=function(a,b,d){function e(){var c=!0;return f(v.$validators,function(d,e){var f=d(a,b);c=c&&f,h(e,f)}),!!c||(f(v.$asyncValidators,function(a,b){h(b,null)}),!1)}function g(){var d=[],e=!0;f(v.$asyncValidators,function(f,g){var i=f(a,b);if(!i||!z(i.then))throw jf("$asyncValidators",i);h(g,c),d.push(i.then(function(){h(g,!0)},function(a){e=!1,h(g,!1)}))}),d.length?k.all(d).then(function(){i(e)},o):i(!0)}function h(a,b){j===w&&v.$setValidity(a,b)}function i(a){j===w&&d(a)}w++;var j=w;(function(){var a=v.$$parserName||"parse";return s(m)?(h(a,null),!0):(m||(f(v.$validators,function(a,b){h(b,null)}),f(v.$asyncValidators,function(a,b){h(b,null)})),h(a,m),m)})()&&e()?g():i(!1)},this.$commitViewValue=function(){var a=v.$viewValue;i.cancel(u),(v.$$lastCommittedViewValue!==a||""===a&&v.$$hasNativeValidators)&&(v.$$lastCommittedViewValue=a,v.$pristine&&this.$setDirty(),this.$$parseAndValidate())},this.$$parseAndValidate=function(){var b=v.$$lastCommittedViewValue;if(m=!s(b)||c)for(var d=0;d<v.$parsers.length;d++)if(b=v.$parsers[d](b),s(b)){m=!1;break}x(v.$modelValue)&&isNaN(v.$modelValue)&&(v.$modelValue=q(a));var e=v.$modelValue,f=v.$options&&v.$options.allowInvalid;v.$$rawModelValue=b,f&&(v.$modelValue=b,v.$modelValue!==e&&v.$$writeModelToScope()),v.$$runValidators(b,v.$$lastCommittedViewValue,function(a){f||(v.$modelValue=a?b:c,v.$modelValue!==e&&v.$$writeModelToScope())})},this.$$writeModelToScope=function(){r(a,v.$modelValue),f(v.$viewChangeListeners,function(a){try{a()}catch(a){b(a)}})},this.$setViewValue=function(a,b){v.$viewValue=a,v.$options&&!v.$options.updateOnDefault||v.$$debounceViewValueCommit(b)},this.$$debounceViewValueCommit=function(b){var c=0,d=v.$options;d&&t(d.debounce)&&(d=d.debounce,x(d)?c=d:x(d[b])?c=d[b]:x(d.default)&&(c=d.default)),i.cancel(u),c?u=i(function(){v.$commitViewValue()},c):j.$$phase?v.$commitViewValue():a.$apply(function(){v.$commitViewValue()})},a.$watch(function(){var b=q(a);if(b!==v.$modelValue&&(v.$modelValue===v.$modelValue||b===b)){v.$modelValue=v.$$rawModelValue=b,m=c;for(var d=v.$formatters,e=d.length,f=b;e--;)f=d[e](f);v.$viewValue!==f&&(v.$viewValue=v.$$lastCommittedViewValue=f,v.$render(),v.$$runValidators(b,f,o))}return b})}],lf=["$rootScope",function(a){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:kf,priority:1,compile:function(b){return b.addClass(ff).addClass("ng-untouched").addClass(df),{pre:function(a,b,c,d){var e=d[0];b=d[1]||e.$$parentForm,e.$$setOptions(d[2]&&d[2].$options),b.$addControl(e),c.$observe("name",function(a){e.$name!==a&&e.$$parentForm.$$renameControl(e,a)}),a.$on("$destroy",function(){e.$$parentForm.$removeControl(e)})},post:function(b,c,d,e){var f=e[0];f.$options&&f.$options.updateOn&&c.on(f.$options.updateOn,function(a){f.$$debounceViewValueCommit(a&&a.type)}),c.on("blur",function(c){f.$touched||(a.$$phase?b.$evalAsync(f.$setTouched):b.$apply(f.$setTouched))})}}}}}],mf=/(\s+|^)default(\s+|$)/,nf=function(){return{restrict:"A",controller:["$scope","$attrs",function(a,b){var c=this;this.$options=J(a.$eval(b.ngModelOptions)),t(this.$options.updateOn)?(this.$options.updateOnDefault=!1,this.$options.updateOn=dd(this.$options.updateOn.replace(mf,function(){return c.$options.updateOnDefault=!0," "}))):this.$options.updateOnDefault=!0}]}},of=Bc({terminal:!0,priority:1e3}),pf=d("ngOptions"),qf=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,rf=["$compile","$parse",function(a,c){function d(a,b,d){function f(a,b,c,d,e){this.selectValue=a,this.viewValue=b,this.label=c,this.group=d,this.disabled=e}function g(a){var b;if(!j&&e(a))b=a;else{b=[];for(var c in a)a.hasOwnProperty(c)&&"$"!==c.charAt(0)&&b.push(c)}return b}var h=a.match(qf);if(!h)throw pf("iexp",a,T(b));var i=h[5]||h[7],j=h[6];a=/ as /.test(h[0])&&h[1];var k=h[9];b=c(h[2]?h[1]:i);var l=a&&c(a)||b,m=k&&c(k),n=k?function(a,b){return m(d,b)}:function(a){return Ka(a)},o=function(a,b){return n(a,u(a,b))},p=c(h[2]||h[1]),q=c(h[3]||""),r=c(h[4]||""),s=c(h[8]),t={},u=j?function(a,b){return t[j]=b,t[i]=a,t}:function(a){return t[i]=a,t};return{trackBy:k,getTrackByValue:o,getWatchables:c(s,function(a){var b=[];a=a||[];for(var c=g(a),e=c.length,f=0;f<e;f++){var i=a===c?f:c[f],j=u(a[i],i),i=n(a[i],j);b.push(i),(h[2]||h[1])&&(i=p(d,j),b.push(i)),h[4]&&(j=r(d,j),b.push(j))}return b}),getOptions:function(){for(var a=[],b={},c=s(d)||[],e=g(c),h=e.length,i=0;i<h;i++){var j=c===e?i:e[i],m=u(c[j],j),t=l(d,m),j=n(t,m),v=p(d,m),w=q(d,m),m=r(d,m),t=new f(j,t,v,w,m);a.push(t),b[j]=t}return{items:a,selectValueMap:b,getOptionFromViewValue:function(a){return b[o(a)]},getViewValueFromOption:function(a){return k?$c.copy(a.viewValue):a.viewValue}}}}}var g=b.createElement("option"),h=b.createElement("optgroup");return{restrict:"A",terminal:!0,require:["select","?ngModel"],link:{pre:function(a,b,c,d){d[0].registerOption=o},post:function(b,c,e,i){function j(a,b){a.element=b,b.disabled=a.disabled,a.label!==b.label&&(b.label=a.label,b.textContent=a.label),a.value!==b.value&&(b.value=a.selectValue)}function k(a,b,c,d){return b&&Rc(b.nodeName)===c?c=b:(c=d.cloneNode(!1),b?a.insertBefore(c,b):a.appendChild(c)),c}function l(a){for(var b;a;)b=a.nextSibling,Da(a),a=b}function m(a){var b=q&&q[0],c=v&&v[0];if(b||c)for(;a&&(a===b||a===c||8===a.nodeType||""===a.value);)a=a.nextSibling;return a}function n(){var a=w&&p.readValue();w=x.getOptions();var b={},d=c[0].firstChild;if(u&&c.prepend(q),d=m(d),w.items.forEach(function(a){var e,f;a.group?(e=b[a.group],e||(e=k(c[0],d,"optgroup",h),d=e.nextSibling,e.label=a.group,e=b[a.group]={groupElement:e,currentOptionElement:e.firstChild}),f=k(e.groupElement,e.currentOptionElement,"option",g),j(a,f),e.currentOptionElement=f.nextSibling):(f=k(c[0],d,"option",g),j(a,f),d=f.nextSibling)}),Object.keys(b).forEach(function(a){l(b[a].currentOptionElement)}),l(d),o.$render(),!o.$isEmpty(a)){var e=p.readValue();(x.trackBy?L(a,e):a===e)||(o.$setViewValue(e),o.$render())}}var o=i[1];if(o){var p=i[0];i=e.multiple;for(var q,r=0,s=c.children(),t=s.length;r<t;r++)if(""===s[r].value){q=s.eq(r);break}var u=!!q,v=Nc(g.cloneNode(!1));v.val("?");var w,x=d(e.ngOptions,c,b);i?(o.$isEmpty=function(a){return!a||0===a.length},p.writeValue=function(a){w.items.forEach(function(a){a.element.selected=!1}),a&&a.forEach(function(a){(a=w.getOptionFromViewValue(a))&&!a.disabled&&(a.element.selected=!0)})},p.readValue=function(){var a=c.val()||[],b=[];return f(a,function(a){(a=w.selectValueMap[a])&&!a.disabled&&b.push(w.getViewValueFromOption(a))}),b},x.trackBy&&b.$watchCollection(function(){if(bd(o.$viewValue))return o.$viewValue.map(function(a){return x.getTrackByValue(a)})},function(){o.$render()})):(p.writeValue=function(a){var b=w.getOptionFromViewValue(a);b&&!b.disabled?c[0].value!==b.selectValue&&(v.remove(),u||q.remove(),c[0].value=b.selectValue,b.element.selected=!0,b.element.setAttribute("selected","selected")):null===a||u?(v.remove(),u||c.prepend(q),c.val(""),q.prop("selected",!0),q.attr("selected",!0)):(u||q.remove(),c.prepend(v),c.val("?"),v.prop("selected",!0),v.attr("selected",!0))},p.readValue=function(){var a=w.selectValueMap[c.val()];return a&&!a.disabled?(u||q.remove(),v.remove(),w.getViewValueFromOption(a)):null},x.trackBy&&b.$watch(function(){return x.getTrackByValue(o.$viewValue)},function(){o.$render()})),u?(q.remove(),a(q)(b),q.removeClass("ng-scope")):q=Nc(g.cloneNode(!1)),n(),b.$watchCollection(x.getWatchables,n)}}}}}],sf=["$locale","$interpolate","$log",function(a,b,c){var d=/{}/g,e=/^when(Minus)?(.+)$/;return{link:function(g,h,i){function j(a){h.text(a||"")}var k,l=i.count,m=i.$attr.when&&h.attr(i.$attr.when),n=i.offset||0,p=g.$eval(m)||{},q={},r=b.startSymbol(),t=b.endSymbol(),u=r+l+"-"+n+t,v=$c.noop;f(i,function(a,b){var c=e.exec(b);c&&(c=(c[1]?"-":"")+Rc(c[2]),p[c]=h.attr(i.$attr[b]))}),f(p,function(a,c){q[c]=b(a.replace(d,u))}),g.$watch(l,function(b){var d=parseFloat(b),e=isNaN(d);e||d in p||(d=a.pluralCat(d-n)),d===k||e&&x(k)&&isNaN(k)||(v(),e=q[d],s(e)?(null!=b&&c.debug("ngPluralize: no rule defined for '"+d+"' in "+m),v=o,j()):v=g.$watch(e,j),k=d)})}}}],tf=["$parse","$animate",function(a,g){var h=d("ngRepeat"),i=function(a,b,c,d,e,f,g){a[c]=d,e&&(a[e]=f),a.$index=b,a.$first=0===b,a.$last=b===g-1,a.$middle=!(a.$first||a.$last),a.$odd=!(a.$even=0===(1&b))};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(d,j){var k=j.ngRepeat,l=b.createComment(" end ngRepeat: "+k+" "),m=k.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!m)throw h("iexp",k);var n=m[1],o=m[2],p=m[3],q=m[4],m=n.match(/^(?:(\s*[\$\w]+)|\(\s*([\$\w]+)\s*,\s*([\$\w]+)\s*\))$/);if(!m)throw h("iidexp",n);var r=m[3]||m[1],s=m[2];if(p&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(p)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(p)))throw h("badident",p);var t,u,v,w,x={$id:Ka};return q?t=a(q):(v=function(a,b){return Ka(b)},w=function(a){return a}),function(a,b,d,j,m){t&&(u=function(b,c,d){return s&&(x[s]=b),x[r]=c,x.$index=d,t(a,x)});var n=ja();a.$watchCollection(o,function(d){var j,o,q,t,x,y,z,A,B,C,D=b[0],E=ja();if(p&&(a[p]=d),e(d))A=d,o=u||v;else for(C in o=u||w,A=[],d)Sc.call(d,C)&&"$"!==C.charAt(0)&&A.push(C);for(t=A.length,C=Array(t),j=0;j<t;j++)if(x=d===A?j:A[j],y=d[x],z=o(x,y,j),n[z])B=n[z],delete n[z],E[z]=B,C[j]=B;else{if(E[z])throw f(C,function(a){a&&a.scope&&(n[a.id]=a)}),h("dupes",k,z,y);C[j]={id:z,scope:c,clone:c},E[z]=!0}for(q in n){if(B=n[q],z=ia(B.clone),g.leave(z),z[0].parentNode)for(j=0,o=z.length;j<o;j++)z[j].$$NG_REMOVED=!0;B.scope.$destroy()}for(j=0;j<t;j++)if(x=d===A?j:A[j],y=d[x],B=C[j],B.scope){q=D;do q=q.nextSibling;while(q&&q.$$NG_REMOVED);B.clone[0]!=q&&g.move(ia(B.clone),null,Nc(D)),D=B.clone[B.clone.length-1],i(B.scope,j,r,y,s,x,t)}else m(function(a,b){B.scope=b;var c=l.cloneNode(!1);a[a.length++]=c,g.enter(a,null,Nc(D)),D=c,B.clone=a,E[B.id]=B,i(B.scope,j,r,y,s,x,t)});n=E})}}}}],uf=["$animate",function(a){return{restrict:"A",multiElement:!0,link:function(b,c,d){b.$watch(d.ngShow,function(b){a[b?"removeClass":"addClass"](c,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],vf=["$animate",function(a){return{restrict:"A",multiElement:!0,link:function(b,c,d){b.$watch(d.ngHide,function(b){a[b?"addClass":"removeClass"](c,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],wf=Bc(function(a,b,c){a.$watch(c.ngStyle,function(a,c){c&&a!==c&&f(c,function(a,c){b.css(c,"")}),a&&b.css(a)},!0)}),xf=["$animate",function(a){return{require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(c,d,e,g){var h=[],i=[],j=[],k=[],l=function(a,b){return function(){a.splice(b,1)}};c.$watch(e.ngSwitch||e.on,function(c){var d,e;for(d=0,e=j.length;d<e;++d)a.cancel(j[d]);for(d=j.length=0,e=k.length;d<e;++d){var m=ia(i[d].clone);k[d].$destroy(),(j[d]=a.leave(m)).then(l(j,d))}i.length=0,k.length=0,(h=g.cases["!"+c]||g.cases["?"])&&f(h,function(c){c.transclude(function(d,e){k.push(e);var f=c.element;d[d.length++]=b.createComment(" end ngSwitchWhen: "),i.push({clone:d}),a.enter(d,f.parent(),f)})})})}}}],yf=Bc({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(a,b,c,d,e){d.cases["!"+c.ngSwitchWhen]=d.cases["!"+c.ngSwitchWhen]||[],d.cases["!"+c.ngSwitchWhen].push({transclude:e,element:b})}}),zf=Bc({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(a,b,c,d,e){d.cases["?"]=d.cases["?"]||[],d.cases["?"].push({transclude:e,element:b})}}),Af=Bc({restrict:"EAC",link:function(a,b,c,e,f){if(!f)throw d("ngTransclude")("orphan",T(b));f(function(a){b.empty(),b.append(a)})}}),Bf=["$templateCache",function(a){return{restrict:"E",terminal:!0,compile:function(b,c){"text/ng-template"==c.type&&a.put(c.id,b[0].text)}}}],Cf={$setViewValue:o,$render:o},Df=["$element","$scope","$attrs",function(a,d,e){var f=this,g=new La;f.ngModelCtrl=Cf,f.unknownOption=Nc(b.createElement("option")),f.renderUnknownOption=function(b){b="? "+Ka(b)+" ?",f.unknownOption.val(b),a.prepend(f.unknownOption),a.val(b)},d.$on("$destroy",function(){f.renderUnknownOption=o}),f.removeUnknownOption=function(){f.unknownOption.parent()&&f.unknownOption.remove()},f.readValue=function(){return f.removeUnknownOption(),a.val()},f.writeValue=function(b){f.hasOption(b)?(f.removeUnknownOption(),a.val(b),""===b&&f.emptyOption.prop("selected",!0)):null==b&&f.emptyOption?(f.removeUnknownOption(),a.val("")):f.renderUnknownOption(b)},f.addOption=function(a,b){ga(a,'"option value"'),""===a&&(f.emptyOption=b);var c=g.get(a)||0;g.put(a,c+1),f.ngModelCtrl.$render(),b[0].hasAttribute("selected")&&(b[0].selected=!0)},f.removeOption=function(a){var b=g.get(a);b&&(1===b?(g.remove(a),""===a&&(f.emptyOption=c)):g.put(a,b-1))},f.hasOption=function(a){return!!g.get(a)},f.registerOption=function(a,b,c,d,e){if(d){var g;c.$observe("value",function(a){t(g)&&f.removeOption(g),g=a,f.addOption(a,b)})}else e?a.$watch(e,function(a,d){c.$set("value",a),d!==a&&f.removeOption(d),f.addOption(a,b)}):f.addOption(c.value,b);b.on("$destroy",function(){f.removeOption(c.value),f.ngModelCtrl.$render()})}}],Ef=function(){return{restrict:"E",require:["select","?ngModel"],controller:Df,priority:1,link:{pre:function(a,b,c,d){var e=d[1];if(e){var g=d[0];if(g.ngModelCtrl=e,e.$render=function(){g.writeValue(e.$viewValue)},b.on("change",function(){a.$apply(function(){e.$setViewValue(g.readValue())})}),c.multiple){g.readValue=function(){var a=[];return f(b.find("option"),function(b){b.selected&&a.push(b.value)}),a},g.writeValue=function(a){var c=new La(a);f(b.find("option"),function(a){a.selected=t(c.get(a.value))})};var h,i=NaN;a.$watch(function(){i!==e.$viewValue||L(h,e.$viewValue)||(h=K(e.$viewValue),e.$render()),i=e.$viewValue}),e.$isEmpty=function(a){return!a||0===a.length}}}}}}},Ff=["$interpolate",function(a){return{restrict:"E",priority:100,compile:function(b,c){if(t(c.value))var d=a(c.value,!0);else{var e=a(b.text(),!0);e||c.$set("value",b.text())}return function(a,b,c){var f=b.parent();(f=f.data("$selectController")||f.parent().data("$selectController"))&&f.registerOption(a,b,c,d,e)}}}}],Gf=q({restrict:"E",terminal:!1}),Hf=function(){return{restrict:"A",require:"?ngModel",link:function(a,b,c,d){d&&(c.required=!0,d.$validators.required=function(a,b){return!c.required||!d.$isEmpty(b)},c.$observe("required",function(){d.$validate()}))}}},If=function(){return{restrict:"A",require:"?ngModel",link:function(a,b,e,f){if(f){var g,h=e.ngPattern||e.pattern;e.$observe("pattern",function(a){if(w(a)&&0<a.length&&(a=new RegExp("^"+a+"$")),a&&!a.test)throw d("ngPattern")("noregexp",h,a,T(b));g=a||c,f.$validate()}),f.$validators.pattern=function(a,b){return f.$isEmpty(b)||s(g)||g.test(b)}}}}},Jf=function(){return{restrict:"A",require:"?ngModel",link:function(a,b,c,d){if(d){var e=-1;c.$observe("maxlength",function(a){a=m(a),e=isNaN(a)?-1:a,d.$validate()}),d.$validators.maxlength=function(a,b){return 0>e||d.$isEmpty(b)||b.length<=e}}}}},Kf=function(){return{restrict:"A",require:"?ngModel",link:function(a,b,c,d){if(d){var e=0;c.$observe("minlength",function(a){e=m(a)||0,d.$validate()}),d.$validators.minlength=function(a,b){return d.$isEmpty(b)||b.length>=e}}}}};a.angular.bootstrap?console.log("WARNING: Tried to load angular more than once."):(da(),la($c),$c.module("ngLocale",[],["$provide",function(a){function b(a){a+="";var b=a.indexOf(".");return-1==b?0:a.length-b-1}a.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"],FIRSTDAYOFWEEK:6,MONTH:"January February March April May June July August September October November December".split(" "),SHORTDAY:"Sun Mon Tue Wed Thu Fri Sat".split(" "),SHORTMONTH:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),WEEKENDRANGE:[5,6],fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",medium:"MMM d, y h:mm:ss a",mediumDate:"MMM d, y",mediumTime:"h:mm:ss a",short:"M/d/yy h:mm a",shortDate:"M/d/yy",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"$",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""}]},id:"en-us",pluralCat:function(a,d){var e=0|a,f=d;return c===f&&(f=Math.min(b(a),3)),Math.pow(10,f),1==e&&0==f?"one":"other"}})}]),Nc(b).ready(function(){$(b,_)}))}(window,document),!window.angular.$$csp().noInlineStyle&&window.angular.element(document.head).prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}</style>'),function(a,b,c){"use strict";function d(a,c,d){function e(a,d,e){var g,h;e=e||{},h=e.expires,g=b.isDefined(e.path)?e.path:f,b.isUndefined(d)&&(h="Thu, 01 Jan 1970 00:00:00 GMT",d=""),b.isString(h)&&(h=new Date(h));var i=encodeURIComponent(a)+"="+encodeURIComponent(d);i+=g?";path="+g:"",i+=e.domain?";domain="+e.domain:"",i+=h?";expires="+h.toUTCString():"",i+=e.secure?";secure":"";var j=i.length+1;return j>4096&&c.warn("Cookie '"+a+"' possibly not set or overflowed because it was too large ("+j+" > 4096 bytes)!"),i}var f=d.baseHref(),g=a[0];return function(a,b,c){g.cookie=e(a,b,c)}}b.module("ngCookies",["ng"]).provider("$cookies",[function(){function a(a){return a?b.extend({},d,a):d}var d=this.defaults={};this.$get=["$$cookieReader","$$cookieWriter",function(d,e){return{get:function(a){return d()[a]},getObject:function(a){var c=this.get(a);return c?b.fromJson(c):c},getAll:function(){return d()},put:function(b,c,d){e(b,c,a(d))},putObject:function(a,c,d){this.put(a,b.toJson(c),d)},remove:function(b,d){e(b,c,a(d))}}}]}]),b.module("ngCookies").factory("$cookieStore",["$cookies",function(a){return{get:function(b){return a.getObject(b)},put:function(b,c){a.putObject(b,c)},remove:function(b){a.remove(b)}}}]),d.$inject=["$document","$log","$browser"],b.module("ngCookies").provider("$$cookieWriter",function(){this.$get=d})}(window,window.angular),function(a,b){"use strict";var c=864e5,d=function(){if(b.userAgent&&(b.userAgent.match(/Android/i)||b.userAgent.match(/webOS/i)||b.userAgent.match(/iPhone/i)||b.userAgent.match(/iPad/i)||b.userAgent.match(/iPod/i)||b.userAgent.match(/BlackBerry/i)||b.userAgent.match(/Windows Phone/i)))return!0}(),e=function(a,b,c){return c&&(d=!1),d?['<div class="_720kb-datepicker-calendar-header">','<div class="_720kb-datepicker-calendar-header-middle _720kb-datepicker-mobile-item _720kb-datepicker-calendar-month">','<select ng-model="month" title="{{ dateMonthTitle }}" ng-change="selectedMonthHandle(month)">','<option ng-repeat="item in months" ng-selected="item === month" ng-disabled=\'!isSelectableMaxDate(item + " " + day + ", " + year) || !isSelectableMinDate(item + " " + day + ", " + year)\' ng-value="$index + 1" value="$index + 1">',"{{ item }}","</option>","</select>","</div>","</div>",'<div class="_720kb-datepicker-calendar-header">','<div class="_720kb-datepicker-calendar-header-middle _720kb-datepicker-mobile-item _720kb-datepicker-calendar-month">','<select ng-model="mobileYear" title="{{ dateYearTitle }}" ng-change="setNewYear(mobileYear)">','<option ng-repeat="item in paginationYears track by $index" ng-selected="year === item" ng-disabled="!isSelectableMinYear(item) || !isSelectableMaxYear(item)" ng-value="item" value="item">',"{{ item }}","</option>","</select>","</div>","</div>"]:['<div class="_720kb-datepicker-calendar-header">','<div class="_720kb-datepicker-calendar-header-left">','<a class="_720kb-datepicker-calendar-month-button" href="javascript:void(0)" ng-class="{\'_720kb-datepicker-item-hidden\': !willPrevMonthBeSelectable()}" ng-click="prevMonth()" title="{{ buttonPrevTitle }}">',a,"</a>","</div>",'<div class="_720kb-datepicker-calendar-header-middle _720kb-datepicker-calendar-month">',"{{month}}&nbsp;",'<a href="javascript:void(0)" ng-click="paginateYears(year); showYearsPagination = !showYearsPagination;">',"<span>","{{year}}","<i ng-class=\"{'_720kb-datepicker-calendar-header-closed-pagination': !showYearsPagination, '_720kb-datepicker-calendar-header-opened-pagination': showYearsPagination}\"></i>","</span>","</a>","</div>",'<div class="_720kb-datepicker-calendar-header-right">','<a class="_720kb-datepicker-calendar-month-button" ng-class="{\'_720kb-datepicker-item-hidden\': !willNextMonthBeSelectable()}" href="javascript:void(0)" ng-click="nextMonth()" title="{{ buttonNextTitle }}">',b,"</a>","</div>","</div>"]},f=function(a,b){return['<div class="_720kb-datepicker-calendar-header" ng-show="showYearsPagination">','<div class="_720kb-datepicker-calendar-years-pagination">','<a ng-class="{\'_720kb-datepicker-active\': y === year, \'_720kb-datepicker-disabled\': !isSelectableMaxYear(y) || !isSelectableMinYear(y)}" href="javascript:void(0)" ng-click="setNewYear(y)" ng-repeat="y in paginationYears track by $index">',"{{y}}","</a>","</div>",'<div class="_720kb-datepicker-calendar-years-pagination-pages">','<a href="javascript:void(0)" ng-click="paginateYears(paginationYears[0])" ng-class="{\'_720kb-datepicker-item-hidden\': paginationYearsPrevDisabled}">',a,"</a>",'<a href="javascript:void(0)" ng-click="paginateYears(paginationYears[paginationYears.length -1 ])" ng-class="{\'_720kb-datepicker-item-hidden\': paginationYearsNextDisabled}">',b,"</a>","</div>","</div>"];
},g=function(){return['<div class="_720kb-datepicker-calendar-days-header">','<div ng-repeat="d in daysInString">',"{{d}}","</div>","</div>"]},h=function(){return['<div class="_720kb-datepicker-calendar-body">','<a href="javascript:void(0)" ng-repeat="px in prevMonthDays" class="_720kb-datepicker-calendar-day _720kb-datepicker-disabled">',"{{px}}","</a>","<a href=\"javascript:void(0)\" ng-repeat=\"item in days\" ng-click=\"setDatepickerDay(item)\" ng-class=\"{'_720kb-datepicker-active': selectedDay === item && selectedMonth === monthNumber && selectedYear === year, '_720kb-datepicker-disabled': !isSelectableMinDate(year + '/' + monthNumber + '/' + item ) || !isSelectableMaxDate(year + '/' + monthNumber + '/' + item) || !isSelectableDate(monthNumber, year, item)}\" class=\"_720kb-datepicker-calendar-day\">","{{item}}","</a>",'<a href="javascript:void(0)" ng-repeat="nx in nextMonthDays" class="_720kb-datepicker-calendar-day _720kb-datepicker-disabled">',"{{nx}}","</a>","</div>"]},i=function(a,b,c){var d=['<div class="_720kb-datepicker-calendar {{datepickerClass}} {{datepickerID}}" ng-class="{\'_720kb-datepicker-forced-to-open\': checkVisibility()}" ng-blur="hideCalendar()">',"</div>"],i=e(a,b,c),j=f(a,b),k=g(),l=h(),m=function(a){d.splice(d.length-1,0,a)};return i.forEach(m),j.forEach(m),k.forEach(m),l.forEach(m),d.join("")},j=function(b,e,f,g,h,j){var k=function(k,l,m){var n,o,p,q,r=m.selector,s=a.element(r?l[0].querySelector("."+r):l[0].children[0]),t='<b class="_720kb-datepicker-default-button">&lang;</b>',u='<b class="_720kb-datepicker-default-button">&rang;</b>',v=m.buttonPrev||t,w=m.buttonNext||u,x=m.dateFormat,y=k.$eval(k.dateDisabledDates),z=new Date,A=!1,B=!1,C="undefined"!=typeof m.datepickerMobile&&"false"!==m.datepickerMobile,D=f.DATETIME_FORMATS,E=864e5,F=i(v,w,C),G=function(){A||B||!n||k.hideCalendar()},H=function(a,b){var c,d,e,f,g,h=new Date(b,a,0).getDate(),i=new Date(b+"/"+a+"/1").getDay(),j=new Date(b+"/"+a+"/"+h).getDay(),l=[],m=[];for(k.days=[],k.dateWeekStartDay=k.validateWeekDay(k.dateWeekStartDay),g=(k.dateWeekStartDay+6)%7,c=1;c<=h;c+=1)k.days.push(c);if(i===k.dateWeekStartDay)k.prevMonthDays=[];else{for(e=i-k.dateWeekStartDay,i<k.dateWeekStartDay&&(e+=7),f=1===Number(a)?12:a-1,c=1;c<=new Date(b,f,0).getDate();c+=1)l.push(c);k.prevMonthDays=l.slice(-e)}if(j===g)k.nextMonthDays=[];else{for(d=6-j+k.dateWeekStartDay,j<k.dateWeekStartDay&&(d-=7),c=1;c<=d;c+=1)m.push(c);k.nextMonthDays=m}},I=function(){k.month=g("date")(new Date(k.dateMinLimit),"MMMM"),k.monthNumber=Number(g("date")(new Date(k.dateMinLimit),"MM")),k.day=Number(g("date")(new Date(k.dateMinLimit),"dd")),k.year=Number(g("date")(new Date(k.dateMinLimit),"yyyy")),H(k.monthNumber,k.year)},J=function(){k.month=g("date")(new Date(k.dateMaxLimit),"MMMM"),k.monthNumber=Number(g("date")(new Date(k.dateMaxLimit),"MM")),k.day=Number(g("date")(new Date(k.dateMaxLimit),"dd")),k.year=Number(g("date")(new Date(k.dateMaxLimit),"yyyy")),H(k.monthNumber,k.year)},K=function(){k.year=Number(k.year)-1},L=function(){k.year=Number(k.year)+1},M=function(){if(!k.isSelectableMinDate(k.year+"/"+k.monthNumber+"/"+k.day)||!k.isSelectableMaxDate(k.year+"/"+k.monthNumber+"/"+k.day))return!1;var a=new Date(k.year+"/"+k.monthNumber+"/"+k.day);m.dateFormat?s.val(g("date")(a,x)):s.val(a),s.triggerHandler("input"),s.triggerHandler("change")},N={add:function(a,b){var c;a.className.indexOf(b)>-1||(c=a.className.split(" "),c.push(b),a.className=c.join(" "))},remove:function(a,b){var c,d;if(a.className.indexOf(b)!==-1){for(d=a.className.split(" "),c=0;c<d.length;c+=1)if(d[c]===b){d=d.slice(0,c).concat(d.slice(c+1));break}a.className=d.join(" ")}}},O=function(){p=b.document.getElementsByClassName("_720kb-datepicker-calendar"),a.forEach(p,function(a,b){p[b].classList?p[b].classList.remove("_720kb-datepicker-open"):N.remove(p[b],"_720kb-datepicker-open")}),n.classList?(n.classList.add("_720kb-datepicker-open"),o=a.element(a.element(n).parent()[0].querySelector("input")).val().replace(/\//g,"-"),z=new Date(o),k.selectedMonth=Number(g("date")(z,"MM")),k.selectedDay=Number(g("date")(z,"dd")),k.selectedYear=Number(g("date")(z,"yyyy"))):N.add(n,"_720kb-datepicker-open")},P=function(){return!k.datepickerToggle||k.$eval(k.datepickerToggle)},Q=function(){return!!k.datepickerShow&&k.$eval(k.datepickerShow)},R=k.$watch("dateSet",function(a){a&&!isNaN(Date.parse(a))&&(z=new Date(a),k.month=g("date")(z,"MMMM"),k.monthNumber=Number(g("date")(z,"MM")),k.day=Number(g("date")(z,"dd")),k.year=Number(g("date")(z,"yyyy")),H(k.monthNumber,k.year),"true"!==k.dateSetHidden&&M())}),S=k.$watch("dateMinLimit",function(a){a&&I()}),T=k.$watch("dateMaxLimit",function(a){a&&J()}),U=k.$watch("dateFormat",function(a){a&&M()});for(k.nextMonth=function(){12===k.monthNumber?(k.monthNumber=1,L()):k.monthNumber+=1,k.dateMaxLimit&&(k.isSelectableMaxDate(k.year+"/"+k.monthNumber+"/"+k.days[0])||J()),k.month=g("date")(new Date(k.year,k.monthNumber-1),"MMMM"),H(k.monthNumber,k.year),k.day=void 0},k.willPrevMonthBeSelectable=function(){var a=k.monthNumber,b=k.year,c=g("date")(new Date(new Date(b+"/"+a+"/01").getTime()-E),"dd");return 1===a?(a=12,b-=1):a-=1,!(k.dateMinLimit&&!k.isSelectableMinDate(b+"/"+a+"/"+c))},k.willNextMonthBeSelectable=function(){var a=k.monthNumber,b=k.year;return 12===a?(a=1,b+=1):a+=1,!(k.dateMaxLimit&&!k.isSelectableMaxDate(b+"/"+a+"/01"))},k.prevMonth=function(){1===k.monthNumber?(k.monthNumber=12,K()):k.monthNumber-=1,k.dateMinLimit&&(k.isSelectableMinDate(k.year+"/"+k.monthNumber+"/"+k.days[k.days.length-1])||I()),k.month=g("date")(new Date(k.year,k.monthNumber-1),"MMMM"),H(k.monthNumber,k.year),k.day=void 0},k.selectedMonthHandle=function(a){k.monthNumber=Number(g("date")(new Date(a+"/01/2000"),"MM")),H(k.monthNumber,k.year),M()},k.setNewYear=function(a){if(d||(k.day=void 0),k.dateMaxLimit&&k.year<Number(a)){if(!k.isSelectableMaxYear(a))return}else if(k.dateMinLimit&&k.year>Number(a)&&!k.isSelectableMinYear(a))return;k.paginateYears(a),k.showYearsPagination=!1,j(function(){k.year=Number(a),H(k.monthNumber,k.year)},0)},k.hideCalendar=function(){n.classList?n.classList.remove("_720kb-datepicker-open"):N.remove(n,"_720kb-datepicker-open")},k.setDatepickerDay=function(a){k.isSelectableDate(k.monthNumber,k.year,a)&&k.isSelectableMaxDate(k.year+"/"+k.monthNumber+"/"+a)&&k.isSelectableMinDate(k.year+"/"+k.monthNumber+"/"+a)&&(k.day=Number(a),k.selectedDay=k.day,k.selectedMonth=k.monthNumber,k.selectedYear=k.year,M(),m.hasOwnProperty("dateRefocus")&&s[0].focus(),k.hideCalendar())},k.paginateYears=function(a){var b,c=[],e=10,f=10;for(k.paginationYears=[],d&&(e=50,f=50,k.dateMinLimit&&k.dateMaxLimit&&(a=new Date(k.dateMaxLimit).getFullYear(),e=a-new Date(k.dateMinLimit).getFullYear(),f=1)),b=e;b>0;b-=1)c.push(Number(a)-b);for(b=0;b<f;b+=1)c.push(Number(a)+b);"true"===k.dateTyper&&s.on("keyup blur",function(){if(s[0].value&&s[0].value.length&&s[0].value.length>0)try{z=x?new Date(g("date")(s[0].value.toString(),x)):new Date(s[0].value.toString()),z.getFullYear()&&!isNaN(z.getDay())&&!isNaN(z.getMonth())&&k.isSelectableDate(z)&&k.isSelectableMaxDate(z)&&k.isSelectableMinDate(z)&&k.$apply(function(){k.month=g("date")(z,"MMMM"),k.monthNumber=Number(g("date")(z,"MM")),k.day=Number(g("date")(z,"dd")),4===z.getFullYear().toString().length&&(k.year=Number(g("date")(z,"yyyy"))),H(k.monthNumber,k.year)})}catch(a){return a}}),k.dateMaxLimit&&c&&c.length&&!k.isSelectableMaxYear(Number(c[c.length-1])+1)?k.paginationYearsNextDisabled=!0:k.paginationYearsNextDisabled=!1,k.dateMinLimit&&c&&c.length&&!k.isSelectableMinYear(Number(c[0])-1)?k.paginationYearsPrevDisabled=!0:k.paginationYearsPrevDisabled=!1,k.paginationYears=c},k.isSelectableDate=function(a,b,c){var d=0;if(y&&y.length>0)for(d;d<=y.length;d+=1)if(new Date(y[d]).getTime()===new Date(a+"/"+c+"/"+b).getTime())return!1;return!0},k.isSelectableMinDate=function(a){return!(k.dateMinLimit&&new Date(k.dateMinLimit)&&new Date(a).getTime()<new Date(k.dateMinLimit).getTime())},k.isSelectableMaxDate=function(a){return!(k.dateMaxLimit&&new Date(k.dateMaxLimit)&&new Date(a).getTime()>new Date(k.dateMaxLimit).getTime())},k.isSelectableMaxYear=function(a){return!(k.dateMaxLimit&&a>new Date(k.dateMaxLimit).getFullYear())},k.isSelectableMinYear=function(a){return!(k.dateMinLimit&&a<new Date(k.dateMinLimit).getFullYear())},k.validateWeekDay=function(a){var b=Number(a,10);return(!b||b<0||b>6)&&(b=0),b},F=F.replace(/{{/g,h.startSymbol()).replace(/}}/g,h.endSymbol()),k.dateMonthTitle=k.dateMonthTitle||"Select month",k.dateYearTitle=k.dateYearTitle||"Select year",k.buttonNextTitle=k.buttonNextTitle||"Next",k.buttonPrevTitle=k.buttonPrevTitle||"Prev",k.month=g("date")(z,"MMMM"),k.monthNumber=Number(g("date")(z,"MM")),k.day=Number(g("date")(z,"dd")),k.dateWeekStartDay=k.validateWeekDay(k.dateWeekStartDay),k.dateMaxLimit?k.year=Number(g("date")(new Date(k.dateMaxLimit),"yyyy")):k.year=Number(g("date")(z,"yyyy")),k.months=D.MONTH,k.daysInString=[],q=k.dateWeekStartDay;q<=k.dateWeekStartDay+6;q+=1)k.daysInString.push(q%7);k.daysInString=k.daysInString.map(function(a){return g("date")(new Date(new Date("06/08/2014").valueOf()+c*a),"EEE")}),k.datepickerAppendTo&&k.datepickerAppendTo.indexOf(".")!==-1?(k.datepickerID="datepicker-id-"+(new Date).getTime()+(Math.floor(6*Math.random())+8),a.element(document.getElementsByClassName(k.datepickerAppendTo.replace(".",""))[0]).append(e(a.element(F))(k,function(b){n=a.element(b)[0]}))):k.datepickerAppendTo&&k.datepickerAppendTo.indexOf("#")!==-1?(k.datepickerID="datepicker-id-"+(new Date).getTime()+(Math.floor(6*Math.random())+8),a.element(document.getElementById(k.datepickerAppendTo.replace("#",""))).append(e(a.element(F))(k,function(b){n=a.element(b)[0]}))):k.datepickerAppendTo&&"body"===k.datepickerAppendTo?(k.datepickerID="datepicker-id-"+((new Date).getTime()+(Math.floor(6*Math.random())+8)),a.element(document).find("body").append(e(a.element(F))(k,function(b){n=a.element(b)[0]}))):(s.after(e(a.element(F))(k)),n=l[0].querySelector("._720kb-datepicker-calendar")),P()&&s.on("focus click focusin",function(){B=!0,A||B||!n?O():k.hideCalendar()}),s.on("focusout blur",function(){B=!1}),a.element(n).on("mouseenter",function(){A=!0}),a.element(n).on("mouseleave",function(){A=!1}),a.element(n).on("focusin",function(){A=!0}),a.element(b).on("click focus focusin",G),(k.dateMinLimit&&!k.isSelectableMinYear(k.year)||!k.isSelectableMinDate(k.year+"/"+k.monthNumber+"/"+k.day))&&I(),(k.dateMaxLimit&&!k.isSelectableMaxYear(k.year)||!k.isSelectableMaxDate(k.year+"/"+k.monthNumber+"/"+k.day))&&J(),k.paginateYears(k.year),H(k.monthNumber,k.year),k.checkVisibility=Q,k.$on("$destroy",function(){R(),S(),T(),U(),s.off("focus click focusout blur"),a.element(n).off("mouseenter mouseleave focusin"),a.element(b).off("click focus focusin",G)})};return{restrict:"AEC",scope:{dateSet:"@",dateMinLimit:"@",dateMaxLimit:"@",dateMonthTitle:"@",dateYearTitle:"@",buttonNextTitle:"@",buttonPrevTitle:"@",dateDisabledDates:"@",dateSetHidden:"@",dateTyper:"@",dateWeekStartDay:"@",datepickerAppendTo:"@",datepickerToggle:"@",datepickerClass:"@",datepickerShow:"@"},link:k}};a.module("720kb.datepicker",[]).directive("datepicker",["$window","$compile","$locale","$filter","$interpolate","$timeout",j])}(angular,navigator),function(){"use strict";var a=[].slice;angular.module("indexedDB",[]).provider("$indexedDB",function(){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q;o=window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB||window.shimIndexedDB,b=window.IDBKeyRange||window.mozIDBKeyRange||window.webkitIDBKeyRange||window.msIDBKeyRange,i={readonly:"readonly",readwrite:"readwrite"},p={pending:"pending"},g={next:"next",nextunique:"nextunique",prev:"prev",prevunique:"prevunique"},d={ascending:g.next,descending:g.prev},j="",l=1,h=null,q={},k=null,c=[],m={useIndex:void 0,keyRange:null,direction:g.next},f=function(a,b,c,d,e){var f;for(f in q)!q.hasOwnProperty(f)||f<=a||(e.log("$indexedDB: Running upgrade : "+f+" from "+a),q[f](b,c,d))},n=function(a){return a.target.readyState===p.pending?"Error: Operation pending":a.target.webkitErrorMessage||a.target.error.message||a.target.errorCode},e=function(a,b){return void 0!==b?a.then(function(){return b}):a},this.connection=function(a){return j=a,this},this.upgradeDatabase=function(a,b){return q[a]=b,l=Math.max.apply(null,Object.keys(q)),this},this.$get=["$q","$rootScope","$log",function(p,q,r){var s,t,u,v,w,x,y,z,A,B,C,D;return C=function(a){return function(b){return q.$apply(function(){return a.reject(n(b))})}},y=function(){var a,b;return b=p.defer(),a=o.open(j,parseInt(l)||1),a.onsuccess=function(){h=a.result,q.$apply(function(){b.resolve(h)})},a.onblocked=a.onerror=C(b),a.onupgradeneeded=function(a){var b;h=a.target.result,b=a.target.transaction,r.log("$indexedDB: Upgrading database '"+h.name+"' from version "+a.oldVersion+" to version "+a.newVersion+" ..."),f(a.oldVersion,a,h,b,r)},b.promise},A=function(){return k||(k=y())},x=function(){return A().then(function(){return h.close(),h=null,k=null})},D=function(a){var b,c,d,e;for(b=!0,d=0,e=a.length;d<e;d++)c=a[d],b&=h.objectStoreNames.contains(c);return b},B=function(a,b){return null==b&&(b=i.readonly),A().then(function(){return D(a)?new v(a,b):p.reject("Object stores "+a+" do not exist.")})},z=function(a){if(a.beginKey&&a.endKey)return b.bound(a.beginKey,a.endKey)},w=function(a){return c.push(a.promise),a.promise.finally(function(){var b;if(b=c.indexOf(a.promise),b>-1)return c.splice(b,1)})},v=function(){function a(a,b){null==b&&(b=i.readonly),this.transaction=h.transaction(a,b),this.defer=p.defer(),this.promise=this.defer.promise,this.setupCallbacks()}return a.prototype.setupCallbacks=function(){return this.transaction.oncomplete=function(a){return function(){return q.$apply(function(){return a.defer.resolve("Transaction Completed")})}}(this),this.transaction.onabort=function(a){return function(b){return q.$apply(function(){return a.defer.reject("Transaction Aborted",b)})}}(this),this.transaction.onerror=function(a){return function(b){return q.$apply(function(){return a.defer.reject("Transaction Error",b)})}}(this),w(this)},a.prototype.objectStore=function(a){return this.transaction.objectStore(a)},a.prototype.abort=function(){return this.transaction.abort()},a}(),s=function(){function b(){this.q=p.defer(),this.promise=this.q.promise}return b.prototype.reject=function(){var b;return b=1<=arguments.length?a.call(arguments,0):[],q.$apply(function(a){return function(){var c;return(c=a.q).reject.apply(c,b)}}(this))},b.prototype.rejectWith=function(a){return a.onerror=a.onblocked=function(a){return function(b){return a.reject(n(b))}}(this)},b.prototype.resolve=function(){var b;return b=1<=arguments.length?a.call(arguments,0):[],q.$apply(function(a){return function(){var c;return(c=a.q).resolve.apply(c,b)}}(this))},b.prototype.notify=function(){var b;return b=1<=arguments.length?a.call(arguments,0):[],q.$apply(function(a){return function(){var c;return(c=a.q).notify.apply(c,b)}}(this))},b.prototype.dbErrorFunction=function(){return function(a){return function(b){return q.$apply(function(){return a.q.reject(n(b))})}}(this)},b.prototype.resolveWith=function(a){return this.rejectWith(a),a.onsuccess=function(a){return function(b){return a.resolve(b.target.result)}}(this)},b}(),t=function(){function a(a,b){this.storeName=a,this.store=b.objectStore(a),this.transaction=b}return a.prototype.defer=function(){return new s},a.prototype._mapCursor=function(a,b,c){var d;return null==c&&(c=this.store.openCursor()),d=[],a.rejectWith(c),c.onsuccess=function(c){var e;return(e=c.target.result)?(d.push(b(e)),a.notify(b(e)),e.continue()):a.resolve(d)}},a.prototype._arrayOperation=function(a,b){var c,d,e,f,g,h;for(c=this.defer(),angular.isArray(a)||(a=[a]),g=0,h=a.length;g<h;g++)d=a[g],e=b(d),f=[],c.rejectWith(e),e.onsuccess=function(b){if(f.push(b.target.result),c.notify(b.target.result),f.length>=a.length)return c.resolve(f)};return 0===a.length?p.when([]):c.promise},a.prototype.getAllKeys=function(){var a,b;return a=this.defer(),this.store.getAllKeys?(b=this.store.getAllKeys(),a.resolveWith(b)):this._mapCursor(a,function(a){return a.key}),a.promise},a.prototype.clear=function(){var a,b;return a=this.defer(),b=this.store.clear(),a.resolveWith(b),a.promise},a.prototype.delete=function(a){var b;return b=this.defer(),b.resolveWith(this.store.delete(a)),b.promise},a.prototype.upsert=function(a){return this._arrayOperation(a,function(a){return function(b){return a.store.put(b)}}(this))},a.prototype.insert=function(a){return this._arrayOperation(a,function(a){return function(b){return a.store.add(b)}}(this))},a.prototype.getAll=function(){var a;return a=this.defer(),this.store.getAll?a.resolveWith(this.store.getAll()):this._mapCursor(a,function(a){return a.value}),a.promise},a.prototype.eachWhere=function(a){var b,c,d,e,f;return b=this.defer(),d=a.indexName,e=a.keyRange,c=a.direction,f=d?this.store.index(d).openCursor(e,c):this.store.openCursor(e,c),this._mapCursor(b,function(a){return a.value},f),b.promise},a.prototype.findWhere=function(a){return this.eachWhere(a)},a.prototype.each=function(a){return null==a&&(a={}),this.eachBy(void 0,a)},a.prototype.eachBy=function(a,b){var c;return null==a&&(a=void 0),null==b&&(b={}),c=new u,c.indexName=a,c.keyRange=z(b),c.direction=b.direction||m.direction,this.eachWhere(c)},a.prototype.count=function(){var a;return a=this.defer(),a.resolveWith(this.store.count()),a.promise},a.prototype.find=function(a){var b,c;return b=this.defer(),c=this.store.get(a),b.rejectWith(c),c.onsuccess=function(c){return function(d){return d.target.result?b.resolve(d.target.result):b.reject(""+c.storeName+":"+a+" not found.")}}(this),b.promise},a.prototype.findBy=function(a,b){var c;return c=this.defer(),c.resolveWith(this.store.index(a).get(b)),c.promise},a.prototype.query=function(){return new u},a}(),u=function(){function a(){this.indexName=void 0,this.keyRange=void 0,this.direction=g.next}return a.prototype.$lt=function(a){return this.keyRange=b.upperBound(a,!0),this},a.prototype.$gt=function(a){return this.keyRange=b.lowerBound(a,!0),this},a.prototype.$lte=function(a){return this.keyRange=b.upperBound(a),this},a.prototype.$gte=function(a){return this.keyRange=b.lowerBound(a),this},a.prototype.$eq=function(a){return this.keyRange=b.only(a),this},a.prototype.$between=function(a,c,d,e){return null==d&&(d=!1),null==e&&(e=!1),this.keyRange=b.bound(a,c,d,e),this},a.prototype.$desc=function(a){return this.direction=a?g.prevunique:g.prev,this},a.prototype.$asc=function(a){return this.direction=a?g.nextunique:g.next,this},a.prototype.$index=function(a){return this.indexName=a,this},a}(),{openStore:function(a,b,c){return null==c&&(c=i.readwrite),B([a],c).then(function(c){var d;return d=b(new t(a,c)),e(c.promise,d)})},openStores:function(a,b,c){return null==c&&(c=i.readwrite),B(a,c).then(function(c){var d,f,g;return d=function(){var b,d,e;for(e=[],b=0,d=a.length;b<d;b++)g=a[b],e.push(new t(g,c));return e}(),f=b.apply(null,d),e(c.promise,f)})},openAllStores:function(a,b){return null==b&&(b=i.readwrite),A().then(function(c){return function(){var c,d,f,g,i;return g=Array.prototype.slice.apply(h.objectStoreNames),i=new v(g,b),c=function(){var a,b,c;for(c=[],a=0,b=g.length;a<b;a++)f=g[a],c.push(new t(f,i));return c}(),d=a.apply(null,c),e(i.promise,d)}}(this))},closeDatabase:function(){return x()},deleteDatabase:function(){return x().then(function(){var a;return a=new s,a.resolveWith(o.deleteDatabase(j)),a.promise}).finally(function(){return r.log("$indexedDB: "+j+" database deleted.")})},queryDirection:d,flush:function(){return c.length>0?p.all(c):p.when([])},databaseInfo:function(){return A().then(function(){var a,b;return b=null,a=Array.prototype.slice.apply(h.objectStoreNames),B(a,i.readonly).then(function(b){var c,d,e;return e=function(){var e,f,g;for(g=[],e=0,f=a.length;e<f;e++)d=a[e],c=b.objectStore(d),g.push({name:d,keyPath:c.keyPath,autoIncrement:c.autoIncrement,indices:Array.prototype.slice.apply(c.indexNames)});return g}(),b.promise.then(function(){return{name:h.name,version:h.version,objectStores:e}})})})}}}]})}.call(this),function(){angular.module("angular-jwt",["angular-jwt.interceptor","angular-jwt.jwt"]),angular.module("angular-jwt.interceptor",[]).provider("jwtInterceptor",function(){this.urlParam=null,this.authHeader="Authorization",this.authPrefix="Bearer ",this.tokenGetter=function(){return null};var a=this;this.$get=["$q","$injector","$rootScope",function(b,c,d){return{request:function(d){if(d.skipAuthorization)return d;if(a.urlParam){if(d.params=d.params||{},d.params[a.urlParam])return d}else if(d.headers=d.headers||{},d.headers[a.authHeader])return d;var e=b.when(c.invoke(a.tokenGetter,this,{config:d}));return e.then(function(b){return b&&(a.urlParam?d.params[a.urlParam]=b:d.headers[a.authHeader]=a.authPrefix+b),d})},responseError:function(a){return 401===a.status&&d.$broadcast("unauthenticated",a),b.reject(a)}}}]}),angular.module("angular-jwt.jwt",[]).service("jwtHelper",function(){this.urlBase64Decode=function(a){var b=a.replace(/-/g,"+").replace(/_/g,"/");switch(b.length%4){case 0:break;case 2:b+="==";break;case 3:b+="=";break;default:throw"Illegal base64url string!"}return decodeURIComponent(escape(window.atob(b)))},this.decodeToken=function(a){var b=a.split(".");if(3!==b.length)throw new Error("JWT must have 3 parts");var c=this.urlBase64Decode(b[1]);if(!c)throw new Error("Cannot decode the token");return JSON.parse(c)},this.getTokenExpirationDate=function(a){var b;if(b=this.decodeToken(a),"undefined"==typeof b.exp)return null;var c=new Date(0);return c.setUTCSeconds(b.exp),c},this.isTokenExpired=function(a,b){var c=this.getTokenExpirationDate(a);return b=b||0,null!==c&&!(c.valueOf()>(new Date).valueOf()+1e3*b)}})}(),function(a,b,c){"use strict";function d(a,c){c=c||{},b.forEach(c,function(a,b){delete c[b]});for(var d in a)!a.hasOwnProperty(d)||"$"===d.charAt(0)&&"$"===d.charAt(1)||(c[d]=a[d]);return c}var e=b.$$minErr("$resource"),f=/^(\.[a-zA-Z_$@][0-9a-zA-Z_$@]*)+$/;b.module("ngResource",["ng"]).provider("$resource",function(){var a=/^https?:\/\/[^\/]*/,g=this;this.defaults={stripTrailingSlashes:!0,actions:{get:{method:"GET"},save:{method:"POST"},query:{method:"GET",isArray:!0},remove:{method:"DELETE"},delete:{method:"DELETE"}}},this.$get=["$http","$q",function(h,i){function j(a,b){this.template=a,this.defaults=n({},g.defaults,b),this.urlParams={}}function k(a,q,r,s){function t(a,d){var g={};return d=n({},q,d),m(d,function(d,h){p(d)&&(d=d());var i;if(d&&d.charAt&&"@"==d.charAt(0)){i=a;var j=d.substr(1);if(null==j||""===j||"hasOwnProperty"===j||!f.test("."+j))throw e("badmember",j);for(var j=j.split("."),k=0,l=j.length;k<l&&b.isDefined(i);k++){var m=j[k];i=null!==i?i[m]:c}}else i=d;g[h]=i}),g}function u(a){return a.resource}function v(a){d(a||{},this)}var w=new j(a,s);return r=n({},g.defaults.actions,r),v.prototype.toJSON=function(){var a=n({},this);return delete a.$promise,delete a.$resolved,a},m(r,function(a,f){var g=/^(POST|PUT|PATCH)$/i.test(a.method);v[f]=function(j,k,q,r){var s,x,y,z={};switch(arguments.length){case 4:y=r,x=q;case 3:case 2:if(!p(k)){z=j,s=k,x=q;break}if(p(j)){x=j,y=k;break}x=k,y=q;case 1:p(j)?x=j:g?s=j:z=j;break;case 0:break;default:throw e("badargs",arguments.length)}var A=this instanceof v,B=A?s:a.isArray?[]:new v(s),C={},D=a.interceptor&&a.interceptor.response||u,E=a.interceptor&&a.interceptor.responseError||c;return m(a,function(a,b){switch(b){default:C[b]=o(a);break;case"params":case"isArray":case"interceptor":break;case"timeout":C[b]=a}}),g&&(C.data=s),w.setUrlParams(C,n({},t(s,a.params||{}),z),a.url),z=h(C).then(function(c){var g=c.data,h=B.$promise;if(g){if(b.isArray(g)!==!!a.isArray)throw e("badcfg",f,a.isArray?"array":"object",b.isArray(g)?"array":"object",C.method,C.url);a.isArray?(B.length=0,m(g,function(a){"object"==typeof a?B.push(new v(a)):B.push(a)})):(d(g,B),B.$promise=h)}return B.$resolved=!0,c.resource=B,c},function(a){return B.$resolved=!0,(y||l)(a),i.reject(a)}),z=z.then(function(a){var b=D(a);return(x||l)(b,a.headers),b},E),A?z:(B.$promise=z,B.$resolved=!1,B)},v.prototype["$"+f]=function(a,b,c){return p(a)&&(c=b,b=a,a={}),a=v[f].call(this,a,this,b,c),a.$promise||a}}),v.bind=function(b){return k(a,n({},q,b),r)},v}var l=b.noop,m=b.forEach,n=b.extend,o=b.copy,p=b.isFunction;return j.prototype={setUrlParams:function(c,d,f){var g,h,i=this,j=f||i.template,k="",l=i.urlParams={};m(j.split(/\W/),function(a){if("hasOwnProperty"===a)throw e("badname");!/^\d+$/.test(a)&&a&&new RegExp("(^|[^\\\\]):"+a+"(\\W|$)").test(j)&&(l[a]=!0)}),j=j.replace(/\\:/g,":"),j=j.replace(a,function(a){return k=a,""}),d=d||{},m(i.urlParams,function(a,c){g=d.hasOwnProperty(c)?d[c]:i.defaults[c],b.isDefined(g)&&null!==g?(h=encodeURIComponent(g).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"%20").replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+"),j=j.replace(new RegExp(":"+c+"(\\W|$)","g"),function(a,b){return h+b})):j=j.replace(new RegExp("(/?):"+c+"(\\W|$)","g"),function(a,b,c){return"/"==c.charAt(0)?c:b+c})}),i.defaults.stripTrailingSlashes&&(j=j.replace(/\/+$/,"")||"/"),j=j.replace(/\/\.(?=\w+($|\?))/,"."),c.url=k+j.replace(/\/\\\./,"/."),m(d,function(a,b){i.urlParams[b]||(c.params=c.params||{},c.params[b]=a)})}},k}]})}(window,window.angular),function(a,b,c){"use strict";function d(a,c,d){return{restrict:"ECA",terminal:!0,priority:400,transclude:"element",link:function(e,f,g,h,i){function j(){n&&(d.cancel(n),n=null),l&&(l.$destroy(),l=null),m&&(n=d.leave(m),n.then(function(){n=null}),m=null)}function k(){var g=a.current&&a.current.locals;if(b.isDefined(g&&g.$template)){var g=e.$new(),h=a.current;m=i(g,function(a){d.enter(a,null,m||f).then(function(){!b.isDefined(o)||o&&!e.$eval(o)||c()}),j()}),l=h.scope=g,l.$emit("$viewContentLoaded"),l.$eval(p)}else j()}var l,m,n,o=g.autoscroll,p=g.onload||"";e.$on("$routeChangeSuccess",k),k()}}}function e(a,b,c){return{restrict:"ECA",priority:-400,link:function(d,e){var f=c.current,g=f.locals;e.html(g.$template);var h=a(e.contents());f.controller&&(g.$scope=d,g=b(f.controller,g),f.controllerAs&&(d[f.controllerAs]=g),e.data("$ngControllerController",g),e.children().data("$ngControllerController",g)),h(d)}}}a=b.module("ngRoute",["ng"]).provider("$route",function(){function a(a,c){return b.extend(Object.create(a),c)}function c(a,b){var c=b.caseInsensitiveMatch,d={originalPath:a,regexp:a},e=d.keys=[];return a=a.replace(/([().])/g,"\\$1").replace(/(\/)?:(\w+)([\?\*])?/g,function(a,b,c,d){return a="?"===d?d:null,d="*"===d?d:null,e.push({name:c,optional:!!a}),b=b||"",""+(a?"":b)+"(?:"+(a?b:"")+(d&&"(.+?)"||"([^/]+)")+(a||"")+")"+(a||"")}).replace(/([\/$\*])/g,"\\$1"),d.regexp=new RegExp("^"+a+"$",c?"i":""),d}var d={};this.when=function(a,e){var f=b.copy(e);if(b.isUndefined(f.reloadOnSearch)&&(f.reloadOnSearch=!0),b.isUndefined(f.caseInsensitiveMatch)&&(f.caseInsensitiveMatch=this.caseInsensitiveMatch),d[a]=b.extend(f,a&&c(a,f)),a){var g="/"==a[a.length-1]?a.substr(0,a.length-1):a+"/";d[g]=b.extend({redirectTo:a},c(g,f))}return this},this.caseInsensitiveMatch=!1,this.otherwise=function(a){return"string"==typeof a&&(a={redirectTo:a}),this.when(null,a),this},this.$get=["$rootScope","$location","$routeParams","$q","$injector","$templateRequest","$sce",function(c,e,g,h,i,j,k){function l(a){var d=s.current;(q=(p=n())&&d&&p.$$route===d.$$route&&b.equals(p.pathParams,d.pathParams)&&!p.reloadOnSearch&&!r)||!d&&!p||c.$broadcast("$routeChangeStart",p,d).defaultPrevented&&a&&a.preventDefault()}function m(){var a=s.current,d=p;q?(a.params=d.params,b.copy(a.params,g),c.$broadcast("$routeUpdate",a)):(d||a)&&(r=!1,(s.current=d)&&d.redirectTo&&(b.isString(d.redirectTo)?e.path(o(d.redirectTo,d.params)).search(d.params).replace():e.url(d.redirectTo(d.pathParams,e.path(),e.search())).replace()),h.when(d).then(function(){if(d){var a,c,e=b.extend({},d.resolve);return b.forEach(e,function(a,c){e[c]=b.isString(a)?i.get(a):i.invoke(a,null,null,c)}),b.isDefined(a=d.template)?b.isFunction(a)&&(a=a(d.params)):b.isDefined(c=d.templateUrl)&&(b.isFunction(c)&&(c=c(d.params)),b.isDefined(c)&&(d.loadedTemplateUrl=k.valueOf(c),a=j(c))),b.isDefined(a)&&(e.$template=a),h.all(e)}}).then(function(e){d==s.current&&(d&&(d.locals=e,b.copy(d.params,g)),c.$broadcast("$routeChangeSuccess",d,a))},function(b){d==s.current&&c.$broadcast("$routeChangeError",d,a,b)}))}function n(){var c,f;return b.forEach(d,function(d,g){var h;if(h=!f){var i=e.path();h=d.keys;var j={};if(d.regexp)if(i=d.regexp.exec(i)){for(var k=1,l=i.length;k<l;++k){var m=h[k-1],n=i[k];m&&n&&(j[m.name]=n)}h=j}else h=null;else h=null;h=c=h}h&&(f=a(d,{params:b.extend({},e.search(),c),pathParams:c}),f.$$route=d)}),f||d[null]&&a(d[null],{params:{},pathParams:{}})}function o(a,c){var d=[];return b.forEach((a||"").split(":"),function(a,b){if(0===b)d.push(a);else{var e=a.match(/(\w+)(?:[?*])?(.*)/),f=e[1];d.push(c[f]),d.push(e[2]||""),delete c[f]}}),d.join("")}var p,q,r=!1,s={routes:d,reload:function(){r=!0,c.$evalAsync(function(){l(),m()})},updateParams:function(a){if(!this.current||!this.current.$$route)throw f("norout");a=b.extend({},this.current.params,a),e.path(o(this.current.$$route.originalPath,a)),e.search(a)}};return c.$on("$locationChangeStart",l),c.$on("$locationChangeSuccess",m),s}]});var f=b.$$minErr("ngRoute");a.provider("$routeParams",function(){this.$get=function(){return{}}}),a.directive("ngView",d),a.directive("ngView",e),d.$inject=["$route","$anchorScroll","$animate"],e.$inject=["$compile","$controller","$route"]}(window,window.angular),!function(a){"use strict";angular.module("firebase.utils",[]),angular.module("firebase.config",[]),angular.module("firebase.auth",["firebase.utils"]),angular.module("firebase.database",["firebase.utils"]),angular.module("firebase",["firebase.utils","firebase.config","firebase.auth","firebase.database"]).value("Firebase",a.firebase).value("firebase",a.firebase)}(window),function(){"use strict";var a;angular.module("firebase.auth").factory("$firebaseAuth",["$q","$firebaseUtils",function(b,c){return function(d){d=d||firebase.auth();var e=new a(b,c,d);return e.construct()}}]),a=function(a,b,c){if(this._q=a,this._utils=b,"string"==typeof c)throw new Error("The $firebaseAuth service accepts a Firebase auth instance (or nothing) instead of a URL.");if("undefined"!=typeof c.ref)throw new Error("The $firebaseAuth service accepts a Firebase auth instance (or nothing) instead of a Database reference.");this._auth=c,this._initialAuthResolver=this._initAuthResolver()},a.prototype={construct:function(){return this._object={$signInWithCustomToken:this.signInWithCustomToken.bind(this),$signInAnonymously:this.signInAnonymously.bind(this),$signInWithEmailAndPassword:this.signInWithEmailAndPassword.bind(this),$signInWithPopup:this.signInWithPopup.bind(this),$signInWithRedirect:this.signInWithRedirect.bind(this),$signInWithCredential:this.signInWithCredential.bind(this),$signOut:this.signOut.bind(this),$onAuthStateChanged:this.onAuthStateChanged.bind(this),$getAuth:this.getAuth.bind(this),$requireSignIn:this.requireSignIn.bind(this),$waitForSignIn:this.waitForSignIn.bind(this),$createUserWithEmailAndPassword:this.createUserWithEmailAndPassword.bind(this),$updatePassword:this.updatePassword.bind(this),$updateEmail:this.updateEmail.bind(this),$deleteUser:this.deleteUser.bind(this),$sendPasswordResetEmail:this.sendPasswordResetEmail.bind(this),_:this},this._object},signInWithCustomToken:function(a){return this._q.when(this._auth.signInWithCustomToken(a))},signInAnonymously:function(){return this._q.when(this._auth.signInAnonymously())},signInWithEmailAndPassword:function(a,b){return this._q.when(this._auth.signInWithEmailAndPassword(a,b))},signInWithPopup:function(a){return this._q.when(this._auth.signInWithPopup(this._getProvider(a)))},signInWithRedirect:function(a){return this._q.when(this._auth.signInWithRedirect(this._getProvider(a)))},signInWithCredential:function(a){return this._q.when(this._auth.signInWithCredential(a));
},signOut:function(){return null!==this.getAuth()?this._q.when(this._auth.signOut()):this._q.when()},onAuthStateChanged:function(a,b){var c=this._utils.debounce(a,b,0),d=this._auth.onAuthStateChanged(c);return d},getAuth:function(){return this._auth.currentUser},_routerMethodOnAuthPromise:function(a){var b=this;return this._initialAuthResolver.then(function(){var c=b.getAuth(),d=null;return d=a&&null===c?b._q.reject("AUTH_REQUIRED"):b._q.when(c)})},_getProvider:function(a){var b;if("string"==typeof a){var c=a.slice(0,1).toUpperCase()+a.slice(1);b=new firebase.auth[c+"AuthProvider"]}else b=a;return b},_initAuthResolver:function(){var a=this._auth;return this._q(function(b){function c(){d(),b()}var d;d=a.onAuthStateChanged(c)})},requireSignIn:function(){return this._routerMethodOnAuthPromise(!0)},waitForSignIn:function(){return this._routerMethodOnAuthPromise(!1)},createUserWithEmailAndPassword:function(a,b){return this._q.when(this._auth.createUserWithEmailAndPassword(a,b))},updatePassword:function(a){var b=this.getAuth();return b?this._q.when(b.updatePassword(a)):this._q.reject("Cannot update password since there is no logged in user.")},updateEmail:function(a){var b=this.getAuth();return b?this._q.when(b.updateEmail(a)):this._q.reject("Cannot update email since there is no logged in user.")},deleteUser:function(){var a=this.getAuth();return a?this._q.when(a.delete()):this._q.reject("Cannot delete user since there is no logged in user.")},sendPasswordResetEmail:function(a){return this._q.when(this._auth.sendPasswordResetEmail(a))}}}(),function(){"use strict";function a(a){return a()}a.$inject=["$firebaseAuth"],angular.module("firebase.auth").factory("$firebaseAuthService",a)}(),function(){"use strict";angular.module("firebase.database").factory("$firebaseArray",["$log","$firebaseUtils","$q",function(a,b,c){function d(a){if(!(this instanceof d))return new d(a);var c=this;return this._observers=[],this.$list=[],this._ref=a,this._sync=new e(this),b.assertValidRef(a,"Must pass a valid Firebase reference to $firebaseArray (not a string or URL)"),this._indexCache={},b.getPublicMethods(c,function(a,b){c.$list[b]=a.bind(c)}),this._sync.init(this.$list),this.$list}function e(d){function e(a){if(!r.isDestroyed){r.isDestroyed=!0;var b=d.$ref();b.off("child_added",j),b.off("child_moved",l),b.off("child_changed",k),b.off("child_removed",m),d=null,q(a||"destroyed")}}function f(b){var c=d.$ref();c.on("child_added",j,p),c.on("child_moved",l,p),c.on("child_changed",k,p),c.on("child_removed",m,p),c.once("value",function(c){angular.isArray(c.val())&&a.warn("Storing data using array indices in Firebase can result in unexpected behavior. See https://firebase.google.com/docs/database/web/structure-data for more information."),q(null,b)},q)}function g(a,b){o||(o=!0,a?i.reject(a):i.resolve(b))}function h(a,b){var d=c.when(a);d.then(function(a){a&&b(a)}),o||n.push(d)}var i=c.defer(),j=function(a,b){d&&h(d.$$added(a,b),function(a){d.$$process("child_added",a,b)})},k=function(a){if(d){var b=d.$getRecord(a.key);b&&h(d.$$updated(a),function(){d.$$process("child_changed",b)})}},l=function(a,b){if(d){var c=d.$getRecord(a.key);c&&h(d.$$moved(a,b),function(){d.$$process("child_moved",c,b)})}},m=function(a){if(d){var b=d.$getRecord(a.key);b&&h(d.$$removed(a),function(){d.$$process("child_removed",b)})}},n=[],o=!1,p=b.batch(function(a){g(a),d&&d.$$error(a)}),q=b.batch(g),r={destroy:e,isDestroyed:!1,init:f,ready:function(){return i.promise.then(function(a){return c.all(n).then(function(){return a})})}};return r}return d.prototype={$add:function(a){this._assertNotDestroyed("$add");var d,e=this,f=c.defer(),g=this.$ref().ref.push();try{d=b.toJSON(a)}catch(a){f.reject(a)}return"undefined"!=typeof d&&b.doSet(g,d).then(function(){e.$$notify("child_added",g.key),f.resolve(g)}).catch(f.reject),f.promise},$save:function(a){this._assertNotDestroyed("$save");var d=this,e=d._resolveItem(a),f=d.$keyAt(e),g=c.defer();if(null!==f){var h,i=d.$ref().ref.child(f);try{h=b.toJSON(e)}catch(a){g.reject(a)}"undefined"!=typeof h&&b.doSet(i,h).then(function(){d.$$notify("child_changed",f),g.resolve(i)}).catch(g.reject)}else g.reject("Invalid record; could not determine key for "+a);return g.promise},$remove:function(a){this._assertNotDestroyed("$remove");var d=this.$keyAt(a);if(null!==d){var e=this.$ref().ref.child(d);return b.doRemove(e).then(function(){return e})}return c.reject("Invalid record; could not determine key for "+a)},$keyAt:function(a){var b=this._resolveItem(a);return this.$$getKey(b)},$indexFor:function(a){var b=this,c=b._indexCache;if(!c.hasOwnProperty(a)||b.$keyAt(c[a])!==a){var d=b.$list.findIndex(function(c){return b.$$getKey(c)===a});d!==-1&&(c[a]=d)}return c.hasOwnProperty(a)?c[a]:-1},$loaded:function(a,b){var c=this._sync.ready();return arguments.length&&(c=c.then.call(c,a,b)),c},$ref:function(){return this._ref},$watch:function(a,b){var c=this._observers;return c.push([a,b]),function(){var d=c.findIndex(function(c){return c[0]===a&&c[1]===b});d>-1&&c.splice(d,1)}},$destroy:function(a){this._isDestroyed||(this._isDestroyed=!0,this._sync.destroy(a),this.$list.length=0)},$getRecord:function(a){var b=this.$indexFor(a);return b>-1?this.$list[b]:null},$$added:function(a){var c=this.$indexFor(a.key);if(c===-1){var d=a.val();return angular.isObject(d)||(d={$value:d}),d.$id=a.key,d.$priority=a.getPriority(),b.applyDefaults(d,this.$$defaults),d}return!1},$$removed:function(a){return this.$indexFor(a.key)>-1},$$updated:function(a){var c=!1,d=this.$getRecord(a.key);return angular.isObject(d)&&(c=b.updateRec(d,a),b.applyDefaults(d,this.$$defaults)),c},$$moved:function(a){var b=this.$getRecord(a.key);return!!angular.isObject(b)&&(b.$priority=a.getPriority(),!0)},$$error:function(b){a.error(b),this.$destroy(b)},$$getKey:function(a){return angular.isObject(a)?a.$id:null},$$process:function(a,b,c){var d,e=this.$$getKey(b),f=!1;switch(a){case"child_added":d=this.$indexFor(e);break;case"child_moved":d=this.$indexFor(e),this._spliceOut(e);break;case"child_removed":f=null!==this._spliceOut(e);break;case"child_changed":f=!0;break;default:throw new Error("Invalid event type: "+a)}return angular.isDefined(d)&&(f=this._addAfter(b,c)!==d),f&&this.$$notify(a,e,c),f},$$notify:function(a,b,c){var d={event:a,key:b};angular.isDefined(c)&&(d.prevChild=c),angular.forEach(this._observers,function(a){a[0].call(a[1],d)})},_addAfter:function(a,b){var c;return null===b?c=0:(c=this.$indexFor(b)+1,0===c&&(c=this.$list.length)),this.$list.splice(c,0,a),this._indexCache[this.$$getKey(a)]=c,c},_spliceOut:function(a){var b=this.$indexFor(a);return b>-1?(delete this._indexCache[a],this.$list.splice(b,1)[0]):null},_resolveItem:function(a){var b=this.$list;if(angular.isNumber(a)&&a>=0&&b.length>=a)return b[a];if(angular.isObject(a)){var c=this.$$getKey(a),d=this.$getRecord(c);return d===a?d:null}return null},_assertNotDestroyed:function(a){if(this._isDestroyed)throw new Error("Cannot call "+a+" method on a destroyed $firebaseArray object")}},d.$extend=function(a,c){return 1===arguments.length&&angular.isObject(a)&&(c=a,a=function(b){return this instanceof a?(d.apply(this,arguments),this.$list):new a(b)}),b.inherit(a,d,c)},d}]),angular.module("firebase").factory("$FirebaseArray",["$log","$firebaseArray",function(a,b){return function(){return a.warn("$FirebaseArray has been renamed. Use $firebaseArray instead."),b.apply(null,arguments)}}])}(),function(){"use strict";angular.module("firebase.database").factory("$firebaseObject",["$parse","$firebaseUtils","$log","$q",function(a,b,c,d){function e(a){return this instanceof e?(this.$$conf={sync:new g(this,a),ref:a,binding:new f(this),listeners:[]},Object.defineProperty(this,"$$conf",{value:this.$$conf}),this.$id=a.ref.key,this.$priority=null,b.applyDefaults(this,this.$$defaults),void this.$$conf.sync.init()):new e(a)}function f(a){this.subs=[],this.scope=null,this.key=null,this.rec=a}function g(a,e){function f(b){n.isDestroyed||(n.isDestroyed=!0,e.off("value",k),a=null,m(b||"destroyed"))}function g(){e.on("value",k,l),e.once("value",function(a){angular.isArray(a.val())&&c.warn("Storing data using array indices in Firebase can result in unexpected behavior. See https://firebase.google.com/docs/database/web/structure-data for more information. Also note that you probably wanted $firebaseArray and not $firebaseObject."),m(null)},m)}function h(b){i||(i=!0,b?j.reject(b):j.resolve(a))}var i=!1,j=d.defer(),k=b.batch(function(b){var c=a.$$updated(b);c&&a.$$notify()}),l=b.batch(function(b){h(b),a&&a.$$error(b)}),m=b.batch(h),n={isDestroyed:!1,destroy:f,init:g,ready:function(){return j.promise}};return n}return e.prototype={$save:function(){var a,c=this,e=c.$ref(),f=d.defer();try{a=b.toJSON(c)}catch(a){f.reject(a)}return"undefined"!=typeof a&&b.doSet(e,a).then(function(){c.$$notify(),f.resolve(c.$ref())}).catch(f.reject),f.promise},$remove:function(){var a=this;return b.trimKeys(a,{}),a.$value=null,b.doRemove(a.$ref()).then(function(){return a.$$notify(),a.$ref()})},$loaded:function(a,b){var c=this.$$conf.sync.ready();return arguments.length&&(c=c.then.call(c,a,b)),c},$ref:function(){return this.$$conf.ref},$bindTo:function(a,b){var c=this;return c.$loaded().then(function(){return c.$$conf.binding.bindTo(a,b)})},$watch:function(a,b){var c=this.$$conf.listeners;return c.push([a,b]),function(){var d=c.findIndex(function(c){return c[0]===a&&c[1]===b});d>-1&&c.splice(d,1)}},$destroy:function(a){var c=this;c.$isDestroyed||(c.$isDestroyed=!0,c.$$conf.sync.destroy(a),c.$$conf.binding.destroy(),b.each(c,function(a,b){delete c[b]}))},$$updated:function(a){var c=b.updateRec(this,a);return b.applyDefaults(this,this.$$defaults),c},$$error:function(a){c.error(a),this.$destroy(a)},$$scopeUpdated:function(a){var c=d.defer();return this.$ref().set(b.toJSON(a),b.makeNodeResolver(c)),c.promise},$$notify:function(){var a=this,b=this.$$conf.listeners.slice();angular.forEach(b,function(b){b[0].call(b[1],{event:"value",key:a.$id})})},forEach:function(a,c){return b.each(this,a,c)}},e.$extend=function(a,c){return 1===arguments.length&&angular.isObject(a)&&(c=a,a=function(b){return this instanceof a?void e.apply(this,arguments):new a(b)}),b.inherit(a,e,c)},f.prototype={assertNotBound:function(a){if(this.scope){var b="Cannot bind to "+a+" because this instance is already bound to "+this.key+"; one binding per instance (call unbind method or create another FirebaseObject instance)";return c.error(b),d.reject(b)}},bindTo:function(c,d){function e(e){function f(a){return angular.equals(a,k)&&a.$priority===k.$priority&&a.$value===k.$value}function g(a){j.assign(c,b.scopeData(a))}function h(){var a=j(c);return[a,a.$priority,a.$value]}var i=!1,j=a(d),k=e.rec;e.scope=c,e.varName=d;var l=b.debounce(function(a){var d=b.scopeData(a);k.$$scopeUpdated(d).finally(function(){i=!1,d.hasOwnProperty("$value")||(delete k.$value,delete j(c).$value),g(k)})},50,500),m=function(a){a=a[0],f(a)||(i=!0,l(a))},n=function(){i||f(j(c))||g(k)};return g(k),e.subs.push(c.$on("$destroy",e.unbind.bind(e))),e.subs.push(c.$watch(h,m,!0)),e.subs.push(k.$watch(n)),e.unbind.bind(e)}return this.assertNotBound(d)||e(this)},unbind:function(){this.scope&&(angular.forEach(this.subs,function(a){a()}),this.subs=[],this.scope=null,this.key=null)},destroy:function(){this.unbind(),this.rec=null}},e}]),angular.module("firebase").factory("$FirebaseObject",["$log","$firebaseObject",function(a,b){return function(){return a.warn("$FirebaseObject has been renamed. Use $firebaseObject instead."),b.apply(null,arguments)}}])}(),function(){"use strict";function a(){this.urls=null,this.registerUrl=function(a){"string"==typeof a&&(this.urls={},this.urls.default=a),angular.isObject(a)&&(this.urls=a)},this.$$checkUrls=function(a){return a?a.default?void 0:new Error('No default Firebase URL registered. Use firebaseRefProvider.registerUrl({ default: "https://<my-firebase-app>.firebaseio.com/"}).'):new Error("No Firebase URL registered. Use firebaseRefProvider.registerUrl() in the config phase. This is required if you are using $firebaseAuthService.")},this.$$createRefsFromUrlConfig=function(a){var b={},c=this.$$checkUrls(a);if(c)throw c;return angular.forEach(a,function(a,c){b[c]=firebase.database().refFromURL(a)}),b},this.$get=function(){return this.$$createRefsFromUrlConfig(this.urls)}}angular.module("firebase.database").provider("$firebaseRef",a)}(),function(){"use strict";angular.module("firebase").factory("$firebase",function(){return function(){throw new Error("$firebase has been removed. You may instantiate $firebaseArray and $firebaseObject directly now. For simple write operations, just use the Firebase ref directly. See the AngularFire 1.0.0 changelog for details: https://github.com/firebase/angularfire/releases/tag/v1.0.0")}})}(),Array.prototype.indexOf||(Array.prototype.indexOf=function(a,b){if(void 0===this||null===this)throw new TypeError("'this' is null or not defined");var c=this.length>>>0;for(b=+b||0,Math.abs(b)===1/0&&(b=0),b<0&&(b+=c,b<0&&(b=0));b<c;b++)if(this[b]===a)return b;return-1}),Function.prototype.bind||(Function.prototype.bind=function(a){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var b=Array.prototype.slice.call(arguments,1),c=this,d=function(){},e=function(){return c.apply(this instanceof d&&a?this:a,b.concat(Array.prototype.slice.call(arguments)))};return d.prototype=this.prototype,e.prototype=new d,e}),Array.prototype.findIndex||Object.defineProperty(Array.prototype,"findIndex",{enumerable:!1,configurable:!0,writable:!0,value:function(a){if(null==this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof a)throw new TypeError("predicate must be a function");for(var b,c=Object(this),d=c.length>>>0,e=arguments[1],f=0;f<d;f++)if(f in c&&(b=c[f],a.call(e,b,f,c)))return f;return-1}}),"function"!=typeof Object.create&&!function(){var a=function(){};Object.create=function(b){if(arguments.length>1)throw new Error("Second argument not supported");if(null===b)throw new Error("Cannot set a null [[Prototype]]");if("object"!=typeof b)throw new TypeError("Argument must be an object");return a.prototype=b,new a}}(),Object.keys||(Object.keys=function(){"use strict";var a=Object.prototype.hasOwnProperty,b=!{toString:null}.propertyIsEnumerable("toString"),c=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],d=c.length;return function(e){if("object"!=typeof e&&("function"!=typeof e||null===e))throw new TypeError("Object.keys called on non-object");var f,g,h=[];for(f in e)a.call(e,f)&&h.push(f);if(b)for(g=0;g<d;g++)a.call(e,c[g])&&h.push(c[g]);return h}}()),"function"!=typeof Object.getPrototypeOf&&("object"==typeof"test".__proto__?Object.getPrototypeOf=function(a){return a.__proto__}:Object.getPrototypeOf=function(a){return a.constructor.prototype}),function(){"use strict";function a(b){if(!angular.isObject(b))return b;var c=angular.isArray(b)?[]:{};return angular.forEach(b,function(b,d){"string"==typeof d&&"$"===d.charAt(0)||(c[d]=a(b))}),c}angular.module("firebase.utils").factory("$firebaseConfig",["$firebaseArray","$firebaseObject","$injector",function(a,b,c){return function(d){var e=angular.extend({},d);return"string"==typeof e.objectFactory&&(e.objectFactory=c.get(e.objectFactory)),"string"==typeof e.arrayFactory&&(e.arrayFactory=c.get(e.arrayFactory)),angular.extend({arrayFactory:a,objectFactory:b},e)}}]).factory("$firebaseUtils",["$q","$timeout","$rootScope",function(b,c,d){var e={batch:function(a,b){return function(){var c=Array.prototype.slice.call(arguments,0);e.compile(function(){a.apply(b,c)})}},debounce:function(a,b,c,d){function f(){j&&(j(),j=null),i&&Date.now()-i>d?l||(l=!0,e.compile(g)):(i||(i=Date.now()),j=e.wait(g,c))}function g(){j=null,i=null,l=!1,a.apply(b,k)}function h(){k=Array.prototype.slice.call(arguments,0),f()}var i,j,k,l;if("number"==typeof b&&(d=c,c=b,b=null),"number"!=typeof c)throw new Error("Must provide a valid integer for wait. Try 0 for a default");if("function"!=typeof a)throw new Error("Must provide a valid function to debounce");return d||(d=10*c||100),h.running=function(){return i>0},h},assertValidRef:function(a,b){if(!angular.isObject(a)||"object"!=typeof a.ref||"function"!=typeof a.ref.transaction)throw new Error(b||"Invalid Firebase reference")},inherit:function(a,b,c){var d=a.prototype;return a.prototype=Object.create(b.prototype),a.prototype.constructor=a,angular.forEach(Object.keys(d),function(b){a.prototype[b]=d[b]}),angular.isObject(c)&&angular.extend(a.prototype,c),a},getPrototypeMethods:function(a,b,c){for(var d={},e=Object.getPrototypeOf({}),f=angular.isFunction(a)&&angular.isObject(a.prototype)?a.prototype:Object.getPrototypeOf(a);f&&f!==e;){for(var g in f)f.hasOwnProperty(g)&&!d.hasOwnProperty(g)&&(d[g]=!0,b.call(c,f[g],g,f));f=Object.getPrototypeOf(f)}},getPublicMethods:function(a,b,c){e.getPrototypeMethods(a,function(a,d){"function"==typeof a&&"_"!==d.charAt(0)&&b.call(c,a,d)})},makeNodeResolver:function(a){return function(b,c){null===b?(arguments.length>2&&(c=Array.prototype.slice.call(arguments,1)),a.resolve(c)):a.reject(b)}},wait:function(a,b){var d=c(a,b||0);return function(){d&&(c.cancel(d),d=null)}},compile:function(a){return d.$evalAsync(a||function(){})},deepCopy:function(a){if(!angular.isObject(a))return a;var b=angular.isArray(a)?a.slice():angular.extend({},a);for(var c in b)b.hasOwnProperty(c)&&angular.isObject(b[c])&&(b[c]=e.deepCopy(b[c]));return b},trimKeys:function(a,b){e.each(a,function(c,d){b.hasOwnProperty(d)||delete a[d]})},scopeData:function(a){var b={$id:a.$id,$priority:a.$priority},c=!1;return e.each(a,function(a,d){c=!0,b[d]=e.deepCopy(a)}),!c&&a.hasOwnProperty("$value")&&(b.$value=a.$value),b},updateRec:function(a,b){var c=b.val(),d=angular.extend({},a);return angular.isObject(c)?delete a.$value:(a.$value=c,c={}),e.trimKeys(a,c),angular.extend(a,c),a.$priority=b.getPriority(),!angular.equals(d,a)||d.$value!==a.$value||d.$priority!==a.$priority},applyDefaults:function(a,b){return angular.isObject(b)&&angular.forEach(b,function(b,c){a.hasOwnProperty(c)||(a[c]=b)}),a},dataKeys:function(a){var b=[];return e.each(a,function(a,c){b.push(c)}),b},each:function(a,b,c){if(angular.isObject(a)){for(var d in a)if(a.hasOwnProperty(d)){var e=d.charAt(0);"_"!==e&&"$"!==e&&"."!==e&&b.call(c,a[d],d,a)}}else if(angular.isArray(a))for(var f=0,g=a.length;f<g;f++)b.call(c,a[f],f,a);return a},toJSON:function(b){var c;return angular.isObject(b)||(b={$value:b}),angular.isFunction(b.toJSON)?c=b.toJSON():(c={},e.each(b,function(b,d){c[d]=a(b)})),angular.isDefined(b.$value)&&0===Object.keys(c).length&&null!==b.$value&&(c[".value"]=b.$value),angular.isDefined(b.$priority)&&Object.keys(c).length>0&&null!==b.$priority&&(c[".priority"]=b.$priority),angular.forEach(c,function(a,b){if(b.match(/[.$\[\]#\/]/)&&".value"!==b&&".priority"!==b)throw new Error("Invalid key "+b+" (cannot contain .$[]#/)");if(angular.isUndefined(a))throw new Error("Key "+b+" was undefined. Cannot pass undefined in JSON. Use null instead.")}),c},doSet:function(a,c){var d=b.defer();if(angular.isFunction(a.set)||!angular.isObject(c))try{a.set(c,e.makeNodeResolver(d))}catch(a){d.reject(a)}else{var f=angular.extend({},c);a.once("value",function(b){b.forEach(function(a){f.hasOwnProperty(a.key)||(f[a.key]=null)}),a.ref.update(f,e.makeNodeResolver(d))},function(a){d.reject(a)})}return d.promise},doRemove:function(a){var c=b.defer();return angular.isFunction(a.remove)?a.remove(e.makeNodeResolver(c)):a.once("value",function(b){var d=[];b.forEach(function(a){d.push(a.ref.remove())}),e.allPromises(d).then(function(){c.resolve(a)},function(a){c.reject(a)})},function(a){c.reject(a)}),c.promise},VERSION:"2.0.2",allPromises:b.all.bind(b)};return e}])}(),function(){function a(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)}function b(a,b,c,d){var e,f=arguments.length,g=3>f?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d;if(e=B.Reflect,"object"==typeof e&&"function"==typeof e.decorate)g=e.decorate(a,b,c,d);else for(var h=a.length-1;0<=h;h--)(e=a[h])&&(g=(3>f?e(g):3<f?e(b,c,g):e(b,c))||g);return 3<f&&g&&Object.defineProperty(b,c,g),g}function c(a,b){var c=B.Reflect;if("object"==typeof c&&"function"==typeof c.metadata)return c.metadata(a,b)}function d(a,b){if(!(b instanceof Object))return b;switch(b.constructor){case Date:return new Date(b.getTime());case Object:void 0===a&&(a={});break;case Array:a=[];break;default:return b}for(var c in b)b.hasOwnProperty(c)&&(a[c]=d(a[c],b[c]));return a}function e(a,b){return a=new sa(a,b),a.subscribe.bind(a)}function f(a){if("object"!=typeof a||null===a)return!1;var b;b=["next","error","complete"],p();var c=b[Symbol.iterator];for(b=c?c.call(b):q(b),c=b.next();!c.done;c=b.next())if(c=c.value,c in a&&"function"==typeof a[c])return!0;return!1}function g(){}function h(){function a(a){a=a||"[DEFAULT]";var b=f[a];return void 0===b&&i("noApp",{name:a}),b}function b(a,b){Object.keys(g).forEach(function(d){d=c(a,d),null!==d&&j[d]&&j[d](b,a)})}function c(a,b){if("serverAuth"===b)return null;var c=b;return a=a.options,"auth"===b&&(a.serviceAccount||a.credential)&&(c="serverAuth"),c}var f={},g={},j={},k={__esModule:!0,initializeApp:function(a,c){return void 0===c?c="[DEFAULT]":"string"==typeof c&&""!==c||i("bad-app-name",{name:c+""}),void 0!==f[c]&&i("dupApp",{name:c}),a=new wa(a,c,k),f[c]=a,b(a,"create"),void 0!=a.INTERNAL&&void 0!=a.INTERNAL.getToken||d(a,{INTERNAL:{getToken:function(){return va.resolve(null)},addAuthTokenListener:function(){},removeAuthTokenListener:function(){}}}),a},app:a,apps:null,Promise:va,SDK_VERSION:"0.0.0",INTERNAL:{registerService:function(b,c,e,f){return g[b]&&i("dupService",{name:b}),g[b]=c,f&&(j[b]=f),c=function(c){return void 0===c&&(c=a()),c[b]()},void 0!==e&&d(c,e),k[b]=c},createFirebaseNamespace:h,extendNamespace:function(a){d(k,a)},createSubscribe:e,ErrorFactory:pa,removeApp:function(a){b(f[a],"delete"),delete f[a]},factories:g,useAsService:c,Promise:$,deepExtend:d}};return k.default=k,Object.defineProperty(k,"apps",{get:function(){return Object.keys(f).map(function(a){return f[a]})}}),a.App=wa,k}function i(a,b){throw Error(j(a,b))}function j(a,b){return b=b||{},b={noApp:"No Firebase App '"+b.name+"' has been created - call Firebase App.initializeApp().","bad-app-name":"Illegal App name: '"+b.name+"'.",dupApp:"Firebase App named '"+b.name+"' already exists.",deleted:"Firebase App named '"+b.name+"' already deleted.",dupService:"Firebase Service named '"+b.name+"' already registered."}[a],void 0===b?"Application Error: ("+a+")":b}var k="function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){if(c.get||c.set)throw new TypeError("ES3 does not support getters and setters.");a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)},l="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global?global:this,m=function(){m=function(){},l.Symbol||(l.Symbol=o)},n=0,o=function(a){return"jscomp_symbol_"+(a||"")+n++},p=function(){m();var a=l.Symbol.iterator;a||(a=l.Symbol.iterator=l.Symbol("iterator")),"function"!=typeof Array.prototype[a]&&k(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return q(this)}}),p=function(){}},q=function(a){var b=0;return r(function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}})},r=function(a){return p(),a={next:a},a[l.Symbol.iterator]=function(){return this},a},s=this,t=function(){},u=function(a){var b=typeof a;if("object"==b){if(!a)return"null";if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else if("function"==b&&"undefined"==typeof a.call)return"object";return b},v=function(a){return"function"==u(a)},w=function(a,b,c){return a.call.apply(a.bind,arguments)},x=function(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(c,d),a.apply(b,c)}}return function(){return a.apply(b,arguments)}},y=function(a,b,c){return y=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?w:x,y.apply(null,arguments)},z=function(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=c.slice();return b.push.apply(b,arguments),a.apply(this,b)}},A=function(a,b){function c(){}c.prototype=b.prototype,a.ga=b.prototype,a.prototype=new c,a.prototype.constructor=a,a.fa=function(a,c,d){for(var e=Array(arguments.length-2),f=2;f<arguments.length;f++)e[f-2]=arguments[f];return b.prototype[c].apply(a,e)}},B="undefined"!=typeof window?window:global,C=function(a,b){return function(c,d){b(c,d,a)}},D=function(a,b,c,d){return new(c||(c=Promise))(function(e,f){function g(a){try{i(d.next(a))}catch(a){f(a)}}function h(a){try{i(d.throw(a))}catch(a){f(a)}}function i(a){a.done?e(a.value):new c(function(b){b(a.value)}).then(g,h)}i((d=d.apply(a,b)).next())})};"undefined"!=typeof B.L&&B.L||"undefined"==typeof global||(global.ca=a,global.ba=b,global.da=c,global.ea=C,global.aa=D);var E=function(a){if(Error.captureStackTrace)Error.captureStackTrace(this,E);else{var b=Error().stack;b&&(this.stack=b)}a&&(this.message=String(a))};A(E,Error),E.prototype.name="CustomError";var F=function(a,b){for(var c=a.split("%s"),d="",e=Array.prototype.slice.call(arguments,1);e.length&&1<c.length;)d+=c.shift()+e.shift();return d+c.join("%s")},G=function(a,b){b.unshift(a),E.call(this,F.apply(null,b)),b.shift()};A(G,E),G.prototype.name="AssertionError";var H=function(a,b,c,d){var e="Assertion failed";if(c)var e=e+(": "+c),f=d;else a&&(e+=": "+a,f=b);throw new G(""+e,f||[])},I=function(a,b,c){a||H("",null,b,Array.prototype.slice.call(arguments,2))},J=function(a,b,c){v(a)||H("Expected function but got %s: %s.",[u(a),a],b,Array.prototype.slice.call(arguments,2))},K=function(a,b,c){this.S=c,this.M=a,this.U=b,this.s=0,this.o=null};K.prototype.get=function(){var a;return 0<this.s?(this.s--,a=this.o,this.o=a.next,a.next=null):a=this.M(),a},K.prototype.put=function(a){this.U(a),this.s<this.S&&(this.s++,a.next=this.o,this.o=a)};var L;a:{var M=s.navigator;if(M){var N=M.userAgent;if(N){L=N;break a}}L=""}var O,P=function(a){s.setTimeout(function(){throw a},0)},Q=function(){var a=s.MessageChannel;if("undefined"==typeof a&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&-1==L.indexOf("Presto")&&(a=function(){var a=document.createElement("IFRAME");a.style.display="none",a.src="",document.documentElement.appendChild(a);var b=a.contentWindow,a=b.document;a.open(),a.write(""),a.close();var c="callImmediate"+Math.random(),d="file:"==b.location.protocol?"*":b.location.protocol+"//"+b.location.host,a=y(function(a){"*"!=d&&a.origin!=d||a.data!=c||this.port1.onmessage()},this);b.addEventListener("message",a,!1),this.port1={},this.port2={postMessage:function(){b.postMessage(c,d)}}}),"undefined"!=typeof a&&-1==L.indexOf("Trident")&&-1==L.indexOf("MSIE")){var b=new a,c={},d=c;return b.port1.onmessage=function(){if(void 0!==c.next){c=c.next;var a=c.F;c.F=null,a()}},function(a){d.next={F:a},d=d.next,b.port2.postMessage(0)}}return"undefined"!=typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(a){var b=document.createElement("SCRIPT");b.onreadystatechange=function(){b.onreadystatechange=null,b.parentNode.removeChild(b),b=null,a(),a=null},document.documentElement.appendChild(b)}:function(a){s.setTimeout(a,0)}},R=function(){this.v=this.f=null},S=new K(function(){return new T},function(a){a.reset()},100);R.prototype.add=function(a,b){var c=S.get();c.set(a,b),this.v?this.v.next=c:(I(!this.f),this.f=c),this.v=c},R.prototype.remove=function(){var a=null;return this.f&&(a=this.f,this.f=this.f.next,this.f||(this.v=null),a.next=null),a};var T=function(){this.next=this.scope=this.B=null};T.prototype.set=function(a,b){this.B=a,this.scope=b,this.next=null},T.prototype.reset=function(){this.next=this.scope=this.B=null};var U,V=function(a,b){U||W(),X||(U(),X=!0),Y.add(a,b)},W=function(){if(s.Promise&&s.Promise.resolve){var a=s.Promise.resolve(void 0);U=function(){a.then(Z)}}else U=function(){var a=Z;!v(s.setImmediate)||s.Window&&s.Window.prototype&&-1==L.indexOf("Edge")&&s.Window.prototype.setImmediate==s.setImmediate?(O||(O=Q()),O(a)):s.setImmediate(a)}},X=!1,Y=new R,Z=function(){for(var a;a=Y.remove();){try{a.B.call(a.scope)}catch(a){P(a)}S.put(a)}X=!1},$=function(a,b){if(this.b=0,this.K=void 0,this.j=this.g=this.u=null,this.m=this.A=!1,a!=t)try{var c=this;a.call(b,function(a){fa(c,2,a)},function(a){try{if(a instanceof Error)throw a;throw Error("Promise rejected.")}catch(a){}fa(c,3,a)})}catch(a){fa(this,3,a)}},_=function(){this.next=this.context=this.h=this.c=this.child=null,this.w=!1};_.prototype.reset=function(){this.context=this.h=this.c=this.child=null,this.w=!1};var aa=new K(function(){return new _},function(a){a.reset()},100),ba=function(a,b,c){var d=aa.get();return d.c=a,d.h=b,d.context=c,d},ca=function(a,b,c){ga(a,b,c,null)||V(z(b,a))};$.prototype.then=function(a,b,c){return null!=a&&J(a,"opt_onFulfilled should be a function."),null!=b&&J(b,"opt_onRejected should be a function. Did you pass opt_context as the second argument instead of the third?"),ea(this,v(a)?a:null,v(b)?b:null,c)},$.prototype.then=$.prototype.then,$.prototype.$goog_Thenable=!0,$.prototype.X=function(a,b){return ea(this,null,a,b)};var da=function(a,b){a.g||2!=a.b&&3!=a.b||ia(a),I(null!=b.c),a.j?a.j.next=b:a.g=b,a.j=b},ea=function(a,b,c,d){var e=ba(null,null,null);return e.child=new $(function(a,f){e.c=b?function(c){try{var e=b.call(d,c);a(e)}catch(a){f(a)}}:a,e.h=c?function(b){try{var e=c.call(d,b);a(e)}catch(a){f(a)}}:f}),e.child.u=a,da(a,e),e.child};$.prototype.Y=function(a){I(1==this.b),this.b=0,fa(this,2,a)},$.prototype.Z=function(a){I(1==this.b),this.b=0,fa(this,3,a)};var fa=function(a,b,c){0==a.b&&(a===c&&(b=3,c=new TypeError("Promise cannot resolve to itself")),a.b=1,ga(c,a.Y,a.Z,a)||(a.K=c,a.b=b,a.u=null,ia(a),3!=b||la(a,c)))},ga=function(a,b,c,d){if(a instanceof $)return null!=b&&J(b,"opt_onFulfilled should be a function."),null!=c&&J(c,"opt_onRejected should be a function. Did you pass opt_context as the second argument instead of the third?"),da(a,ba(b||t,c||null,d)),!0;var e;if(a)try{e=!!a.$goog_Thenable}catch(a){e=!1}else e=!1;if(e)return a.then(b,c,d),!0;if(e=typeof a,"object"==e&&null!=a||"function"==e)try{var f=a.then;if(v(f))return ha(a,f,b,c,d),!0}catch(a){return c.call(d,a),!0}return!1},ha=function(a,b,c,d,e){var f=!1,g=function(a){f||(f=!0,c.call(e,a))},h=function(a){f||(f=!0,d.call(e,a))};try{b.call(a,g,h)}catch(a){h(a)}},ia=function(a){a.A||(a.A=!0,V(a.O,a))},ja=function(a){var b=null;return a.g&&(b=a.g,a.g=b.next,b.next=null),a.g||(a.j=null),null!=b&&I(null!=b.c),b};$.prototype.O=function(){for(var a;a=ja(this);){var b=this.b,c=this.K;if(3==b&&a.h&&!a.w){var d;for(d=this;d&&d.m;d=d.u)d.m=!1}if(a.child)a.child.u=null,ka(a,b,c);else try{a.w?a.c.call(a.context):ka(a,b,c)}catch(a){ma.call(null,a)}aa.put(a)}this.A=!1};var ka=function(a,b,c){2==b?a.c.call(a.context,c):a.h&&a.h.call(a.context,c)},la=function(a,b){a.m=!0,V(function(){a.m&&ma.call(null,b)})},ma=P,na=Error.captureStackTrace,oa=function(a,b){if(this.code=a,this.message=b,na)na(this,pa.prototype.create);else{var c=Error.apply(this,arguments);this.name="FirebaseError",Object.defineProperty(this,"stack",{get:function(){return c.stack}})}};oa.prototype=Object.create(Error.prototype),oa.prototype.constructor=oa,oa.prototype.name="FirebaseError";var pa=function(a,b,c){this.V=a,this.W=b,this.N=c,
this.pattern=/\{\$([^}]+)}/g};pa.prototype.create=function(a,b){void 0===b&&(b={});var c=this.N[a];a=this.V+"/"+a;var d,c=void 0===c?"Error":c.replace(this.pattern,function(a,c){return a=b[c],void 0!==a?a.toString():"<"+c+"?>"}),c=this.W+": "+c+" ("+a+").",c=new oa(a,c);for(d in b)b.hasOwnProperty(d)&&"_"!==d.slice(-1)&&(c[d]=b[d]);return c},$.all=function(a){return new $(function(b,c){var d=a.length,e=[];if(d)for(var f,g=function(a,c){d--,e[a]=c,0==d&&b(e)},h=function(a){c(a)},i=0;i<a.length;i++)f=a[i],ca(f,z(g,i),h);else b(e)})},$.resolve=function(a){if(a instanceof $)return a;var b=new $(t);return fa(b,2,a),b},$.reject=function(a){return new $(function(b,c){c(a)})},$.prototype.catch=$.prototype.X;var qa=$;"undefined"!=typeof Promise&&(qa=Promise);var ra=qa,sa=function(a,b){var c=this;this.a=[],this.J=0,this.task=ra.resolve(),this.l=!1,this.D=b,this.task.then(function(){a(c)}).catch(function(a){c.error(a)})};sa.prototype.next=function(a){ta(this,function(b){b.next(a)})},sa.prototype.error=function(a){ta(this,function(b){b.error(a)}),this.close(a)},sa.prototype.complete=function(){ta(this,function(a){a.complete()}),this.close()},sa.prototype.subscribe=function(a,b,c){var d,e=this;if(void 0===a&&void 0===b&&void 0===c)throw Error("Missing Observer.");return d=f(a)?a:{next:a,error:b,complete:c},void 0===d.next&&(d.next=g),void 0===d.error&&(d.error=g),void 0===d.complete&&(d.complete=g),a=this.$.bind(this,this.a.length),this.l&&this.task.then(function(){try{e.G?d.error(e.G):d.complete()}catch(a){}}),this.a.push(d),a},sa.prototype.$=function(a){void 0!==this.a&&void 0!==this.a[a]&&(delete this.a[a],--this.J,0===this.J&&void 0!==this.D&&this.D(this))};var ta=function(a,b){if(!a.l)for(var c=0;c<a.a.length;c++)ua(a,c,b)},ua=function(a,b,c){a.task.then(function(){if(void 0!==a.a&&void 0!==a.a[b])try{c(a.a[b])}catch(a){}})};sa.prototype.close=function(a){var b=this;this.l||(this.l=!0,void 0!==a&&(this.G=a),this.task.then(function(){b.a=void 0,b.D=void 0}))};var va=qa,wa=function(a,b,c){var e=this;this.H=c,this.I=!1,this.i={},this.C=b,this.T=d(void 0,a),Object.keys(c.INTERNAL.factories).forEach(function(a){var b=c.INTERNAL.useAsService(e,a);null!==b&&(e[a]=e.R.bind(e,b))})};wa.prototype.delete=function(){var a=this;return new va(function(b){xa(a),b()}).then(function(){return a.H.INTERNAL.removeApp(a.C),va.all(Object.keys(a.i).map(function(b){return a.i[b].INTERNAL.delete()}))}).then(function(){a.I=!0,a.i={}})},wa.prototype.R=function(a){return xa(this),void 0===this.i[a]&&(this.i[a]=this.H.INTERNAL.factories[a](this,this.P.bind(this))),this.i[a]},wa.prototype.P=function(a){d(this,a)};var xa=function(a){a.I&&i(j("deleted",{name:a.C}))};l.Object.defineProperties(wa.prototype,{name:{configurable:!0,enumerable:!0,get:function(){return xa(this),this.C}},options:{configurable:!0,enumerable:!0,get:function(){return xa(this),this.T}}}),wa.prototype.name&&wa.prototype.options||wa.prototype.delete||console.log("dc"),"undefined"!=typeof window&&(window.firebase=h())}(),firebase.SDK_VERSION="3.3.0",function(){var h,aa=aa||{},l=this,ba=function(){},m=function(a){var b=typeof a;if("object"==b){if(!a)return"null";if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else if("function"==b&&"undefined"==typeof a.call)return"object";return b},ca=function(a){return null===a},da=function(a){return"array"==m(a)},ea=function(a){var b=m(a);return"array"==b||"object"==b&&"number"==typeof a.length},n=function(a){return"string"==typeof a},fa=function(a){return"number"==typeof a},p=function(a){return"function"==m(a)},ga=function(a){var b=typeof a;return"object"==b&&null!=a||"function"==b},ha=function(a,b,c){return a.call.apply(a.bind,arguments)},ia=function(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(c,d),a.apply(b,c)}}return function(){return a.apply(b,arguments)}},r=function(a,b,c){return r=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ha:ia,r.apply(null,arguments)},ja=function(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=c.slice();return b.push.apply(b,arguments),a.apply(this,b)}},ka=Date.now||function(){return+new Date},t=function(a,b){function c(){}c.prototype=b.prototype,a.Pc=b.prototype,a.prototype=new c,a.prototype.constructor=a,a.Ne=function(a,c,d){for(var e=Array(arguments.length-2),f=2;f<arguments.length;f++)e[f-2]=arguments[f];return b.prototype[c].apply(a,e)}},u=function(a){if(Error.captureStackTrace)Error.captureStackTrace(this,u);else{var b=Error().stack;b&&(this.stack=b)}a&&(this.message=String(a))};t(u,Error),u.prototype.name="CustomError";var la=function(a,b){for(var c=a.split("%s"),d="",e=Array.prototype.slice.call(arguments,1);e.length&&1<c.length;)d+=c.shift()+e.shift();return d+c.join("%s")},ma=String.prototype.trim?function(a){return a.trim()}:function(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},na=/&/g,oa=/</g,pa=/>/g,qa=/"/g,sa=/'/g,ta=/\x00/g,ua=/[\x00&<>"']/,v=function(a,b){return-1!=a.indexOf(b)},va=function(a,b){return a<b?-1:a>b?1:0},wa=function(a,b){b.unshift(a),u.call(this,la.apply(null,b)),b.shift()};t(wa,u),wa.prototype.name="AssertionError";var xa=function(a,b,c,d){var e="Assertion failed";if(c)var e=e+(": "+c),f=d;else a&&(e+=": "+a,f=b);throw new wa(""+e,f||[])},w=function(a,b,c){a||xa("",null,b,Array.prototype.slice.call(arguments,2))},ya=function(a,b){throw new wa("Failure"+(a?": "+a:""),Array.prototype.slice.call(arguments,1))},za=function(a,b,c){return fa(a)||xa("Expected number but got %s: %s.",[m(a),a],b,Array.prototype.slice.call(arguments,2)),a},Aa=function(a,b,c){n(a)||xa("Expected string but got %s: %s.",[m(a),a],b,Array.prototype.slice.call(arguments,2))},Ba=function(a,b,c){p(a)||xa("Expected function but got %s: %s.",[m(a),a],b,Array.prototype.slice.call(arguments,2))},Ca=Array.prototype.indexOf?function(a,b,c){return w(null!=a.length),Array.prototype.indexOf.call(a,b,c)}:function(a,b,c){if(c=null==c?0:0>c?Math.max(0,a.length+c):c,n(a))return n(b)&&1==b.length?a.indexOf(b,c):-1;for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},x=Array.prototype.forEach?function(a,b,c){w(null!=a.length),Array.prototype.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=n(a)?a.split(""):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)},Da=function(a,b){for(var c=n(a)?a.split(""):a,d=a.length-1;0<=d;--d)d in c&&b.call(void 0,c[d],d,a)},Ea=Array.prototype.map?function(a,b,c){return w(null!=a.length),Array.prototype.map.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=Array(d),f=n(a)?a.split(""):a,g=0;g<d;g++)g in f&&(e[g]=b.call(c,f[g],g,a));return e},Fa=Array.prototype.some?function(a,b,c){return w(null!=a.length),Array.prototype.some.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=n(a)?a.split(""):a,f=0;f<d;f++)if(f in e&&b.call(c,e[f],f,a))return!0;return!1},Ha=function(a){var b;a:{b=Ga;for(var c=a.length,d=n(a)?a.split(""):a,e=0;e<c;e++)if(e in d&&b.call(void 0,d[e],e,a)){b=e;break a}b=-1}return 0>b?null:n(a)?a.charAt(b):a[b]},Ia=function(a,b){return 0<=Ca(a,b)},Ka=function(a,b){b=Ca(a,b);var c;return(c=0<=b)&&Ja(a,b),c},Ja=function(a,b){return w(null!=a.length),1==Array.prototype.splice.call(a,b,1).length},La=function(a,b){var c=0;Da(a,function(d,e){b.call(void 0,d,e,a)&&Ja(a,e)&&c++})},Ma=function(a){return Array.prototype.concat.apply(Array.prototype,arguments)},Na=function(a){return Array.prototype.concat.apply(Array.prototype,arguments)},Oa=function(a){var b=a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];return c}return[]},Pa=function(a,b){for(var c=1;c<arguments.length;c++){var d=arguments[c];if(ea(d)){var e=a.length||0,f=d.length||0;a.length=e+f;for(var g=0;g<f;g++)a[e+g]=d[g]}else a.push(d)}},Qa=function(a,b){for(var c in a)b.call(void 0,a[c],c,a)},Ra=function(a){var b,c=[],d=0;for(b in a)c[d++]=a[b];return c},Sa=function(a){var b,c=[],d=0;for(b in a)c[d++]=b;return c},Ta=function(a){for(var b in a)return!1;return!0},Ua=function(a,b){for(var c in a)if(!(c in b)||a[c]!==b[c])return!1;for(c in b)if(!(c in a))return!1;return!0},Va=function(a){var b,c={};for(b in a)c[b]=a[b];return c},Wa="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),Xa=function(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var f=0;f<Wa.length;f++)c=Wa[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}},Ya;a:{var Za=l.navigator;if(Za){var $a=Za.userAgent;if($a){Ya=$a;break a}}Ya=""}var y=function(a){return v(Ya,a)},ab=function(a){return ab[" "](a),a};ab[" "]=ba;var cb=function(a,b){var c=bb;return Object.prototype.hasOwnProperty.call(c,a)?c[a]:c[a]=b(a)},db=y("Opera"),z=y("Trident")||y("MSIE"),eb=y("Edge"),fb=eb||z,gb=y("Gecko")&&!(v(Ya.toLowerCase(),"webkit")&&!y("Edge"))&&!(y("Trident")||y("MSIE"))&&!y("Edge"),hb=v(Ya.toLowerCase(),"webkit")&&!y("Edge"),ib=function(){var a=l.document;return a?a.documentMode:void 0},jb;a:{var kb="",lb=function(){var a=Ya;return gb?/rv\:([^\);]+)(\)|;)/.exec(a):eb?/Edge\/([\d\.]+)/.exec(a):z?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a):hb?/WebKit\/(\S+)/.exec(a):db?/(?:Version)[ \/]?(\S+)/.exec(a):void 0}();if(lb&&(kb=lb?lb[1]:""),z){var mb=ib();if(null!=mb&&mb>parseFloat(kb)){jb=String(mb);break a}}jb=kb}var nb=jb,bb={},A=function(a){return cb(a,function(){for(var b=0,c=ma(String(nb)).split("."),d=ma(String(a)).split("."),e=Math.max(c.length,d.length),f=0;0==b&&f<e;f++){var g=c[f]||"",h=d[f]||"";do{if(g=/(\d*)(\D*)(.*)/.exec(g)||["","","",""],h=/(\d*)(\D*)(.*)/.exec(h)||["","","",""],0==g[0].length&&0==h[0].length)break;b=va(0==g[1].length?0:parseInt(g[1],10),0==h[1].length?0:parseInt(h[1],10))||va(0==g[2].length,0==h[2].length)||va(g[2],h[2]),g=g[3],h=h[3]}while(0==b)}return 0<=b})},ob=l.document,pb=ob&&z?ib()||("CSS1Compat"==ob.compatMode?parseInt(nb,10):5):void 0,qb=null,rb=null,tb=function(a){var b="";return sb(a,function(a){b+=String.fromCharCode(a)}),b},sb=function(a,b){function c(b){for(;d<a.length;){var c=a.charAt(d++),e=rb[c];if(null!=e)return e;if(!/^[\s\xa0]*$/.test(c))throw Error("Unknown base64 encoding at char: "+c)}return b}ub();for(var d=0;;){var e=c(-1),f=c(0),g=c(64),h=c(64);if(64===h&&-1===e)break;b(e<<2|f>>4),64!=g&&(b(f<<4&240|g>>2),64!=h&&b(g<<6&192|h))}},ub=function(){if(!qb){qb={},rb={};for(var a=0;65>a;a++)qb[a]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(a),rb[qb[a]]=a,62<=a&&(rb["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(a)]=a)}},wb=function(){this.ec="",this.Md=vb};wb.prototype.Nb=!0,wb.prototype.Ib=function(){return this.ec},wb.prototype.toString=function(){return"Const{"+this.ec+"}"};var xb=function(a){return a instanceof wb&&a.constructor===wb&&a.Md===vb?a.ec:(ya("expected object of type Const, got '"+a+"'"),"type_error:Const")},vb={},B=function(){this.ja="",this.Ld=yb};B.prototype.Nb=!0,B.prototype.Ib=function(){return this.ja},B.prototype.toString=function(){return"SafeUrl{"+this.ja+"}"};var zb=function(a){return a instanceof B&&a.constructor===B&&a.Ld===yb?a.ja:(ya("expected object of type SafeUrl, got '"+a+"' of type "+m(a)),"type_error:SafeUrl")},Ab=/^(?:(?:https?|mailto|ftp):|[^&:/?#]*(?:[/?#]|$))/i,Cb=function(a){return a instanceof B?a:(a=a.Nb?a.Ib():String(a),Ab.test(a)||(a="about:invalid#zClosurez"),Bb(a))},yb={},Bb=function(a){var b=new B;return b.ja=a,b};Bb("about:blank");var Eb=function(){this.Vb="",this.Nd=Db};Eb.prototype.Nb=!0,Eb.prototype.Ib=function(){return this.Vb},Eb.prototype.toString=function(){return"TrustedResourceUrl{"+this.Vb+"}"};var Db={},Gb=function(){this.ja="",this.Kd=Fb};Gb.prototype.Nb=!0,Gb.prototype.Ib=function(){return this.ja},Gb.prototype.toString=function(){return"SafeHtml{"+this.ja+"}"};var Hb=function(a){return a instanceof Gb&&a.constructor===Gb&&a.Kd===Fb?a.ja:(ya("expected object of type SafeHtml, got '"+a+"' of type "+m(a)),"type_error:SafeHtml")},Fb={};Gb.prototype.ne=function(a){return this.ja=a,this};var Ib=function(a,b){b=b instanceof B?b:Cb(b),a.href=zb(b)},Jb=!z||9<=Number(pb),Kb=z&&!A("9");!hb||A("528"),gb&&A("1.9b")||z&&A("8")||db&&A("9.5")||hb&&A("528"),gb&&!A("8")||z&&A("9");var Lb=function(){this.ya=this.ya,this.Sb=this.Sb};Lb.prototype.ya=!1,Lb.prototype.isDisposed=function(){return this.ya},Lb.prototype.Oa=function(){if(this.Sb)for(;this.Sb.length;)this.Sb.shift()()};var Mb=function(a,b){this.type=a,this.currentTarget=this.target=b,this.defaultPrevented=this.Va=!1,this.ud=!0};Mb.prototype.preventDefault=function(){this.defaultPrevented=!0,this.ud=!1};var Nb=function(a,b){Mb.call(this,a?a.type:""),this.relatedTarget=this.currentTarget=this.target=null,this.charCode=this.keyCode=this.button=this.screenY=this.screenX=this.clientY=this.clientX=this.offsetY=this.offsetX=0,this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.kb=this.state=null,a&&this.init(a,b)};t(Nb,Mb),Nb.prototype.init=function(a,b){var c=this.type=a.type,d=a.changedTouches?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.currentTarget=b,b=a.relatedTarget){if(gb){var e;a:{try{ab(b.nodeName),e=!0;break a}catch(a){}e=!1}e||(b=null)}}else"mouseover"==c?b=a.fromElement:"mouseout"==c&&(b=a.toElement);this.relatedTarget=b,null===d?(this.offsetX=hb||void 0!==a.offsetX?a.offsetX:a.layerX,this.offsetY=hb||void 0!==a.offsetY?a.offsetY:a.layerY,this.clientX=void 0!==a.clientX?a.clientX:a.pageX,this.clientY=void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0):(this.clientX=void 0!==d.clientX?d.clientX:d.pageX,this.clientY=void 0!==d.clientY?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=a.button,this.keyCode=a.keyCode||0,this.charCode=a.charCode||("keypress"==c?a.keyCode:0),this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.state=a.state,this.kb=a,a.defaultPrevented&&this.preventDefault()},Nb.prototype.preventDefault=function(){Nb.Pc.preventDefault.call(this);var a=this.kb;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,Kb)try{(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)&&(a.keyCode=-1)}catch(a){}},Nb.prototype.ce=function(){return this.kb};var Ob="closure_listenable_"+(1e6*Math.random()|0),Pb=0,Qb=function(a,b,c,d,e){this.listener=a,this.Wb=null,this.src=b,this.type=c,this.Bb=!!d,this.Kb=e,this.key=++Pb,this.$a=this.Ab=!1},Rb=function(a){a.$a=!0,a.listener=null,a.Wb=null,a.src=null,a.Kb=null},Sb=function(a){this.src=a,this.w={},this.xb=0};Sb.prototype.add=function(a,b,c,d,e){var f=a.toString();a=this.w[f],a||(a=this.w[f]=[],this.xb++);var g=Tb(a,b,d,e);return-1<g?(b=a[g],c||(b.Ab=!1)):(b=new Qb(b,this.src,f,!!d,e),b.Ab=c,a.push(b)),b},Sb.prototype.remove=function(a,b,c,d){if(a=a.toString(),!(a in this.w))return!1;var e=this.w[a];return b=Tb(e,b,c,d),-1<b&&(Rb(e[b]),Ja(e,b),0==e.length&&(delete this.w[a],this.xb--),!0)};var Ub=function(a,b){var c=b.type;c in a.w&&Ka(a.w[c],b)&&(Rb(b),0==a.w[c].length&&(delete a.w[c],a.xb--))};Sb.prototype.tc=function(a,b,c,d){a=this.w[a.toString()];var e=-1;return a&&(e=Tb(a,b,c,d)),-1<e?a[e]:null};var Tb=function(a,b,c,d){for(var e=0;e<a.length;++e){var f=a[e];if(!f.$a&&f.listener==b&&f.Bb==!!c&&f.Kb==d)return e}return-1},Vb="closure_lm_"+(1e6*Math.random()|0),Wb={},Xb=0,Yb=function(a,b,c,d,e){if(da(b))for(var f=0;f<b.length;f++)Yb(a,b[f],c,d,e);else c=Zb(c),a&&a[Ob]?a.listen(b,c,d,e):$b(a,b,c,!1,d,e)},$b=function(a,b,c,d,e,f){if(!b)throw Error("Invalid event type");var g=!!e,h=ac(a);if(h||(a[Vb]=h=new Sb(a)),c=h.add(b,c,d,e,f),!c.Wb){if(d=bc(),c.Wb=d,d.src=a,d.listener=c,a.addEventListener)a.addEventListener(b.toString(),d,g);else{if(!a.attachEvent)throw Error("addEventListener and attachEvent are unavailable.");a.attachEvent(cc(b.toString()),d)}Xb++}},bc=function(){var a=dc,b=Jb?function(c){return a.call(b.src,b.listener,c)}:function(c){if(c=a.call(b.src,b.listener,c),!c)return c};return b},ec=function(a,b,c,d,e){if(da(b))for(var f=0;f<b.length;f++)ec(a,b[f],c,d,e);else c=Zb(c),a&&a[Ob]?fc(a,b,c,d,e):$b(a,b,c,!0,d,e)},gc=function(a,b,c,d,e){if(da(b))for(var f=0;f<b.length;f++)gc(a,b[f],c,d,e);else c=Zb(c),a&&a[Ob]?a.Y.remove(String(b),c,d,e):a&&(a=ac(a))&&(b=a.tc(b,c,!!d,e))&&hc(b)},hc=function(a){if(!fa(a)&&a&&!a.$a){var b=a.src;if(b&&b[Ob])Ub(b.Y,a);else{var c=a.type,d=a.Wb;b.removeEventListener?b.removeEventListener(c,d,a.Bb):b.detachEvent&&b.detachEvent(cc(c),d),Xb--,(c=ac(b))?(Ub(c,a),0==c.xb&&(c.src=null,b[Vb]=null)):Rb(a)}}},cc=function(a){return a in Wb?Wb[a]:Wb[a]="on"+a},jc=function(a,b,c,d){var e=!0;if((a=ac(a))&&(b=a.w[b.toString()]))for(b=b.concat(),a=0;a<b.length;a++){var f=b[a];f&&f.Bb==c&&!f.$a&&(f=ic(f,d),e=e&&!1!==f)}return e},ic=function(a,b){var c=a.listener,d=a.Kb||a.src;return a.Ab&&hc(a),c.call(d,b)},dc=function(a,b){if(a.$a)return!0;if(!Jb){if(!b)a:{b=["window","event"];for(var c,d=l;c=b.shift();){if(null==d[c]){b=null;break a}d=d[c]}b=d}if(c=b,b=new Nb(c,this),d=!0,!(0>c.keyCode||void 0!=c.returnValue)){a:{var e=!1;if(0==c.keyCode)try{c.keyCode=-1;break a}catch(a){e=!0}(e||void 0==c.returnValue)&&(c.returnValue=!0)}for(c=[],e=b.currentTarget;e;e=e.parentNode)c.push(e);for(a=a.type,e=c.length-1;!b.Va&&0<=e;e--){b.currentTarget=c[e];var f=jc(c[e],a,!0,b),d=d&&f}for(e=0;!b.Va&&e<c.length;e++)b.currentTarget=c[e],f=jc(c[e],a,!1,b),d=d&&f}return d}return ic(a,new Nb(b,this))},ac=function(a){return a=a[Vb],a instanceof Sb?a:null},kc="__closure_events_fn_"+(1e9*Math.random()>>>0),Zb=function(a){return w(a,"Listener can not be null."),p(a)?a:(w(a.handleEvent,"An object listener must have handleEvent method."),a[kc]||(a[kc]=function(b){return a.handleEvent(b)}),a[kc])},lc=/^[+a-zA-Z0-9_.!#$%&'*\/=?^`{|}~-]+@([a-zA-Z0-9-]+\.)+[a-zA-Z0-9]{2,63}$/,mc=function(a){if(a=String(a),/^\s*$/.test(a)?0:/^[\],:{}\s\u2028\u2029]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,"@").replace(/(?:"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)[\s\u2028\u2029]*(?=:|,|]|}|$)/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,"")))try{return eval("("+a+")")}catch(a){}throw Error("Invalid JSON string: "+a)},pc=function(a){var b=[];return nc(new oc,a,b),b.join("")},oc=function(){this.$b=void 0},nc=function(a,b,c){if(null==b)c.push("null");else{if("object"==typeof b){if(da(b)){var d=b;b=d.length,c.push("[");for(var e="",f=0;f<b;f++)c.push(e),e=d[f],nc(a,a.$b?a.$b.call(d,String(f),e):e,c),e=",";return void c.push("]")}if(!(b instanceof String||b instanceof Number||b instanceof Boolean)){c.push("{"),f="";for(d in b)Object.prototype.hasOwnProperty.call(b,d)&&(e=b[d],"function"!=typeof e&&(c.push(f),qc(d,c),c.push(":"),nc(a,a.$b?a.$b.call(b,d,e):e,c),f=","));return void c.push("}")}b=b.valueOf()}switch(typeof b){case"string":qc(b,c);break;case"number":c.push(isFinite(b)&&!isNaN(b)?String(b):"null");break;case"boolean":c.push(String(b));break;case"function":c.push("null");break;default:throw Error("Unknown type: "+typeof b)}}},rc={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},sc=/\uffff/.test("")?/[\\\"\x00-\x1f\x7f-\uffff]/g:/[\\\"\x00-\x1f\x7f-\xff]/g,qc=function(a,b){b.push('"',a.replace(sc,function(a){var b=rc[a];return b||(b="\\u"+(65536|a.charCodeAt(0)).toString(16).substr(1),rc[a]=b),b}),'"')},tc=function(){};tc.prototype.Tc=null;var uc=function(a){return a.Tc||(a.Tc=a.xc())},vc,wc=function(){};t(wc,tc),wc.prototype.Cb=function(){var a=xc(this);return a?new ActiveXObject(a):new XMLHttpRequest},wc.prototype.xc=function(){var a={};return xc(this)&&(a[0]=!0,a[1]=!0),a};var xc=function(a){if(!a.gd&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var b=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],c=0;c<b.length;c++){var d=b[c];try{return new ActiveXObject(d),a.gd=d}catch(a){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return a.gd};vc=new wc;var yc=function(){};t(yc,tc),yc.prototype.Cb=function(){var a=new XMLHttpRequest;if("withCredentials"in a)return a;if("undefined"!=typeof XDomainRequest)return new zc;throw Error("Unsupported browser")},yc.prototype.xc=function(){return{}};var zc=function(){this.na=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseText="",this.status=-1,this.statusText=this.responseXML=null,this.na.onload=r(this.ee,this),this.na.onerror=r(this.ed,this),this.na.onprogress=r(this.fe,this),this.na.ontimeout=r(this.ge,this)};h=zc.prototype,h.open=function(a,b,c){if(null!=c&&!c)throw Error("Only async requests are supported.");this.na.open(a,b)},h.send=function(a){if(a){if("string"!=typeof a)throw Error("Only string data is supported");this.na.send(a)}else this.na.send()},h.abort=function(){this.na.abort()},h.setRequestHeader=function(){},h.ee=function(){this.status=200,this.responseText=this.na.responseText,Ac(this,4)},h.ed=function(){this.status=500,this.responseText="",Ac(this,4)},h.ge=function(){this.ed()},h.fe=function(){this.status=200,Ac(this,1)};var Ac=function(a,b){a.readyState=b,a.onreadystatechange&&a.onreadystatechange()},C=function(a,b){this.h=[],this.g=b;for(var c=!0,d=a.length-1;0<=d;d--){var e=0|a[d];c&&e==b||(this.h[d]=e,c=!1)}},Bc={},Cc=function(a){if(-128<=a&&128>a){var b=Bc[a];if(b)return b}return b=new C([0|a],0>a?-1:0),-128<=a&&128>a&&(Bc[a]=b),b},F=function(a){if(isNaN(a)||!isFinite(a))return D;if(0>a)return E(F(-a));for(var b=[],c=1,d=0;a>=c;d++)b[d]=a/c|0,c*=4294967296;return new C(b,0)},Dc=function(a,b){if(0==a.length)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if("-"==a.charAt(0))return E(Dc(a.substring(1),b));if(0<=a.indexOf("-"))throw Error('number format error: interior "-" character');for(var c=F(Math.pow(b,8)),d=D,e=0;e<a.length;e+=8){var f=Math.min(8,a.length-e),g=parseInt(a.substring(e,e+f),b);8>f?(f=F(Math.pow(b,f)),d=d.multiply(f).add(F(g))):(d=d.multiply(c),d=d.add(F(g)))}return d},D=Cc(0),Ec=Cc(1),Fc=Cc(16777216),Gc=function(a){if(-1==a.g)return-Gc(E(a));for(var b=0,c=1,d=0;d<a.h.length;d++)b+=Hc(a,d)*c,c*=4294967296;return b};C.prototype.toString=function(a){if(a=a||10,2>a||36<a)throw Error("radix out of range: "+a);if(G(this))return"0";if(-1==this.g)return"-"+E(this).toString(a);for(var b=F(Math.pow(a,6)),c=this,d="";;){var e=Ic(c,b),c=Jc(c,e.multiply(b)),f=((0<c.h.length?c.h[0]:c.g)>>>0).toString(a),c=e;if(G(c))return f+d;for(;6>f.length;)f="0"+f;d=""+f+d}};var H=function(a,b){return 0>b?0:b<a.h.length?a.h[b]:a.g},Hc=function(a,b){return a=H(a,b),0<=a?a:4294967296+a},G=function(a){if(0!=a.g)return!1;for(var b=0;b<a.h.length;b++)if(0!=a.h[b])return!1;return!0};C.prototype.Eb=function(a){if(this.g!=a.g)return!1;for(var b=Math.max(this.h.length,a.h.length),c=0;c<b;c++)if(H(this,c)!=H(a,c))return!1;return!0},C.prototype.compare=function(a){return a=Jc(this,a),-1==a.g?-1:G(a)?0:1};var E=function(a){for(var b=a.h.length,c=[],d=0;d<b;d++)c[d]=~a.h[d];return new C(c,~a.g).add(Ec)};C.prototype.add=function(a){for(var b=Math.max(this.h.length,a.h.length),c=[],d=0,e=0;e<=b;e++){var f=d+(65535&H(this,e))+(65535&H(a,e)),g=(f>>>16)+(H(this,e)>>>16)+(H(a,e)>>>16),d=g>>>16,f=65535&f,g=65535&g;c[e]=g<<16|f}return new C(c,c[c.length-1]&-2147483648?-1:0)};var Jc=function(a,b){return a.add(E(b))};C.prototype.multiply=function(a){if(G(this)||G(a))return D;if(-1==this.g)return-1==a.g?E(this).multiply(E(a)):E(E(this).multiply(a));if(-1==a.g)return E(this.multiply(E(a)));if(0>this.compare(Fc)&&0>a.compare(Fc))return F(Gc(this)*Gc(a));for(var b=this.h.length+a.h.length,c=[],d=0;d<2*b;d++)c[d]=0;for(d=0;d<this.h.length;d++)for(var e=0;e<a.h.length;e++){var f=H(this,d)>>>16,g=65535&H(this,d),h=H(a,e)>>>16,i=65535&H(a,e);c[2*d+2*e]+=g*i,Kc(c,2*d+2*e),c[2*d+2*e+1]+=f*i,Kc(c,2*d+2*e+1),c[2*d+2*e+1]+=g*h,Kc(c,2*d+2*e+1),c[2*d+2*e+2]+=f*h,Kc(c,2*d+2*e+2)}for(d=0;d<b;d++)c[d]=c[2*d+1]<<16|c[2*d];for(d=b;d<2*b;d++)c[d]=0;return new C(c,0)};var Kc=function(a,b){for(;(65535&a[b])!=a[b];)a[b+1]+=a[b]>>>16,a[b]&=65535},Ic=function(a,b){if(G(b))throw Error("division by zero");if(G(a))return D;if(-1==a.g)return-1==b.g?Ic(E(a),E(b)):E(Ic(E(a),b));if(-1==b.g)return E(Ic(a,E(b)));if(30<a.h.length){if(-1==a.g||-1==b.g)throw Error("slowDivide_ only works with positive integers.");for(var c=Ec;0>=b.compare(a);)c=c.shiftLeft(1),b=b.shiftLeft(1);var d,e=Lc(c,1),f=Lc(b,1);for(b=Lc(b,2),c=Lc(c,2);!G(b);)d=f.add(b),0>=d.compare(a)&&(e=e.add(c),f=d),b=Lc(b,1),c=Lc(c,1);return e}for(c=D;0<=a.compare(b);){e=Math.max(1,Math.floor(Gc(a)/Gc(b))),f=Math.ceil(Math.log(e)/Math.LN2),f=48>=f?1:Math.pow(2,f-48),d=F(e);for(var g=d.multiply(b);-1==g.g||0<g.compare(a);)e-=f,d=F(e),g=d.multiply(b);G(d)&&(d=Ec),c=c.add(d),a=Jc(a,g)}return c},Mc=function(a,b){for(var c=Math.max(a.h.length,b.h.length),d=[],e=0;e<c;e++)d[e]=H(a,e)|H(b,e);return new C(d,a.g|b.g)};C.prototype.shiftLeft=function(a){var b=a>>5;a%=32;for(var c=this.h.length+b+(0<a?1:0),d=[],e=0;e<c;e++)d[e]=0<a?H(this,e-b)<<a|H(this,e-b-1)>>>32-a:H(this,e-b);return new C(d,this.g)};var Lc=function(a,b){var c=b>>5;b%=32;for(var d=a.h.length-c,e=[],f=0;f<d;f++)e[f]=0<b?H(a,f+c)>>>b|H(a,f+c+1)<<32-b:H(a,f+c);return new C(e,a.g)},Nc=function(a,b){this.ob=a,this.ma=b};Nc.prototype.Eb=function(a){return this.ma==a.ma&&this.ob.Eb(Va(a.ob))};var Qc=function(a){try{var b;if(b=0==a.lastIndexOf("[",0)){var c=a.length-1;b=0<=c&&a.indexOf("]",c)==c}return b?new Oc(a.substring(1,a.length-1)):new Pc(a)}catch(a){return null}},Pc=function(a){var b=D;if(a instanceof C){if(0!=a.g||0>a.compare(D)||0<a.compare(Rc))throw Error("The address does not look like an IPv4.");b=Va(a)}else{if(!Sc.test(a))throw Error(a+" does not look like an IPv4 address.");var c=a.split(".");if(4!=c.length)throw Error(a+" does not look like an IPv4 address.");for(var d=0;d<c.length;d++){var e;e=c[d];var f=Number(e);if(e=0==f&&/^[\s\xa0]*$/.test(e)?NaN:f,isNaN(e)||0>e||255<e||1!=c[d].length&&0==c[d].lastIndexOf("0",0))throw Error("In "+a+", octet "+d+" is not valid");e=F(e),b=Mc(b.shiftLeft(8),e)}}Nc.call(this,b,4)};t(Pc,Nc);var Sc=/^[0-9.]*$/,Rc=Jc(Ec.shiftLeft(32),Ec);Pc.prototype.toString=function(){if(this.Ca)return this.Ca;for(var a=Hc(this.ob,0),b=[],c=3;0<=c;c--)b[c]=String(255&a),a>>>=8;return this.Ca=b.join(".")};var Oc=function(a){var b=D;if(a instanceof C){if(0!=a.g||0>a.compare(D)||0<a.compare(Tc))throw Error("The address does not look like a valid IPv6.");b=Va(a)}else{if(!Uc.test(a))throw Error(a+" is not a valid IPv6 address.");var c=a.split(":");if(-1!=c[c.length-1].indexOf(".")){a=Hc(Va(new Pc(c[c.length-1]).ob),0);var d=[];d.push((a>>>16&65535).toString(16)),d.push((65535&a).toString(16)),Ja(c,c.length-1),Pa(c,d),a=c.join(":")}if(d=a.split("::"),2<d.length||1==d.length&&8!=c.length)throw Error(a+" is not a valid IPv6 address.");if(1<d.length){c=d[0].split(":"),d=d[1].split(":"),1==c.length&&""==c[0]&&(c=[]),1==d.length&&""==d[0]&&(d=[]);var e=8-(c.length+d.length);if(1>e)c=[];else{for(var f=[],g=0;g<e;g++)f[g]="0";c=Na(c,f,d)}}if(8!=c.length)throw Error(a+" is not a valid IPv6 address");for(d=0;d<c.length;d++){if(e=Dc(c[d],16),0>e.compare(D)||0<e.compare(Vc))throw Error(c[d]+" in "+a+" is not a valid hextet.");b=Mc(b.shiftLeft(16),e)}}Nc.call(this,b,6)};t(Oc,Nc);var Uc=/^([a-fA-F0-9]*:){2}[a-fA-F0-9:.]*$/,Vc=Cc(65535),Tc=Jc(Ec.shiftLeft(128),Ec);Oc.prototype.toString=function(){if(this.Ca)return this.Ca;for(var a=[],b=3;0<=b;b--){var c=Hc(this.ob,b),d=65535&c;a.push((c>>>16).toString(16)),a.push(d.toString(16))}for(var c=b=-1,e=d=0,f=0;f<a.length;f++)"0"==a[f]?(e++,-1==c&&(c=f),e>d&&(d=e,b=c)):(c=-1,e=0);return 0<d&&(b+d==a.length&&a.push(""),a.splice(b,d,""),0==b&&(a=[""].concat(a))),this.Ca=a.join(":")},!gb&&!z||z&&9<=Number(pb)||gb&&A("1.9.1"),z&&A("9");var Xc=function(a,b){Qa(b,function(b,c){"style"==c?a.style.cssText=b:"class"==c?a.className=b:"for"==c?a.htmlFor=b:Wc.hasOwnProperty(c)?a.setAttribute(Wc[c],b):0==c.lastIndexOf("aria-",0)||0==c.lastIndexOf("data-",0)?a.setAttribute(c,b):a[c]=b})},Wc={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"},Yc=function(a,b,c){this.pe=c,this.Td=a,this.ye=b,this.Rb=0,this.Lb=null};Yc.prototype.get=function(){var a;return 0<this.Rb?(this.Rb--,a=this.Lb,this.Lb=a.next,a.next=null):a=this.Td(),a},Yc.prototype.put=function(a){this.ye(a),this.Rb<this.pe&&(this.Rb++,a.next=this.Lb,this.Lb=a)};var Zc=function(a){l.setTimeout(function(){throw a},0)},$c,ad=function(){var a=l.MessageChannel;if("undefined"==typeof a&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!y("Presto")&&(a=function(){var a=document.createElement("IFRAME");a.style.display="none",a.src="",document.documentElement.appendChild(a);var b=a.contentWindow,a=b.document;a.open(),a.write(""),a.close();var c="callImmediate"+Math.random(),d="file:"==b.location.protocol?"*":b.location.protocol+"//"+b.location.host,a=r(function(a){"*"!=d&&a.origin!=d||a.data!=c||this.port1.onmessage()},this);b.addEventListener("message",a,!1),this.port1={},this.port2={postMessage:function(){b.postMessage(c,d)}}}),"undefined"!=typeof a&&!y("Trident")&&!y("MSIE")){var b=new a,c={},d=c;return b.port1.onmessage=function(){if(void 0!==c.next){c=c.next;var a=c.Xc;c.Xc=null,a()}},function(a){d.next={Xc:a},d=d.next,b.port2.postMessage(0)}}return"undefined"!=typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(a){var b=document.createElement("SCRIPT");b.onreadystatechange=function(){b.onreadystatechange=null,b.parentNode.removeChild(b),b=null,a(),a=null},document.documentElement.appendChild(b)}:function(a){l.setTimeout(a,0)}},bd=function(){this.jc=this.Ja=null},dd=new Yc(function(){return new cd},function(a){a.reset()},100);bd.prototype.add=function(a,b){var c=dd.get();c.set(a,b),this.jc?this.jc.next=c:(w(!this.Ja),this.Ja=c),this.jc=c},bd.prototype.remove=function(){var a=null;return this.Ja&&(a=this.Ja,this.Ja=this.Ja.next,this.Ja||(this.jc=null),a.next=null),a};var cd=function(){this.next=this.scope=this.sc=null};cd.prototype.set=function(a,b){this.sc=a,this.scope=b,this.next=null},cd.prototype.reset=function(){this.next=this.scope=this.sc=null};var id=function(a,b){ed||fd(),gd||(ed(),gd=!0),hd.add(a,b)},ed,fd=function(){if(l.Promise&&l.Promise.resolve){var a=l.Promise.resolve(void 0);ed=function(){a.then(jd)}}else ed=function(){var a=jd;!p(l.setImmediate)||l.Window&&l.Window.prototype&&!y("Edge")&&l.Window.prototype.setImmediate==l.setImmediate?($c||($c=ad()),$c(a)):l.setImmediate(a)}},gd=!1,hd=new bd,jd=function(){for(var a;a=hd.remove();){try{a.sc.call(a.scope)}catch(a){Zc(a)}dd.put(a)}gd=!1},kd=function(a){a.prototype.then=a.prototype.then,a.prototype.$goog_Thenable=!0},ld=function(a){if(!a)return!1;try{return!!a.$goog_Thenable}catch(a){return!1}},I=function(a,b){if(this.F=0,this.ka=void 0,this.Ma=this.fa=this.o=null,this.Jb=this.rc=!1,a!=ba)try{var c=this;a.call(b,function(a){md(c,2,a)},function(a){if(!(a instanceof nd))try{if(a instanceof Error)throw a;throw Error("Promise rejected.")}catch(a){}md(c,3,a)})}catch(a){md(this,3,a)}},od=function(){this.next=this.context=this.Sa=this.Ea=this.child=null,this.ib=!1};od.prototype.reset=function(){this.context=this.Sa=this.Ea=this.child=null,this.ib=!1};var pd=new Yc(function(){return new od},function(a){a.reset()},100),qd=function(a,b,c){var d=pd.get();return d.Ea=a,d.Sa=b,d.context=c,d},J=function(a){if(a instanceof I)return a;var b=new I(ba);return md(b,2,a),
b},K=function(a){return new I(function(b,c){c(a)})},sd=function(a,b,c){rd(a,b,c,null)||id(ja(b,a))},td=function(a){return new I(function(b){var c=a.length,d=[];if(c)for(var e,f=function(a,e,f){c--,d[a]=e?{be:!0,value:f}:{be:!1,reason:f},0==c&&b(d)},g=0;g<a.length;g++)e=a[g],sd(e,ja(f,g,!0),ja(f,g,!1));else b(d)})};I.prototype.then=function(a,b,c){return null!=a&&Ba(a,"opt_onFulfilled should be a function."),null!=b&&Ba(b,"opt_onRejected should be a function. Did you pass opt_context as the second argument instead of the third?"),ud(this,p(a)?a:null,p(b)?b:null,c)},kd(I);var wd=function(a,b){return b=qd(b,b,void 0),b.ib=!0,vd(a,b),a};I.prototype.l=function(a,b){return ud(this,null,a,b)},I.prototype.cancel=function(a){0==this.F&&id(function(){var b=new nd(a);xd(this,b)},this)};var xd=function(a,b){if(0==a.F)if(a.o){var c=a.o;if(c.fa){for(var d=0,e=null,f=null,g=c.fa;g&&(g.ib||(d++,g.child==a&&(e=g),!(e&&1<d)));g=g.next)e||(f=g);e&&(0==c.F&&1==d?xd(c,b):(f?(d=f,w(c.fa),w(null!=d),d.next==c.Ma&&(c.Ma=d),d.next=d.next.next):yd(c),zd(c,e,3,b)))}a.o=null}else md(a,3,b)},vd=function(a,b){a.fa||2!=a.F&&3!=a.F||Ad(a),w(null!=b.Ea),a.Ma?a.Ma.next=b:a.fa=b,a.Ma=b},ud=function(a,b,c,d){var e=qd(null,null,null);return e.child=new I(function(a,f){e.Ea=b?function(c){try{var e=b.call(d,c);a(e)}catch(a){f(a)}}:a,e.Sa=c?function(b){try{var e=c.call(d,b);void 0===e&&b instanceof nd?f(b):a(e)}catch(a){f(a)}}:f}),e.child.o=a,vd(a,e),e.child};I.prototype.He=function(a){w(1==this.F),this.F=0,md(this,2,a)},I.prototype.Ie=function(a){w(1==this.F),this.F=0,md(this,3,a)};var md=function(a,b,c){0==a.F&&(a===c&&(b=3,c=new TypeError("Promise cannot resolve to itself")),a.F=1,rd(c,a.He,a.Ie,a)||(a.ka=c,a.F=b,a.o=null,Ad(a),3!=b||c instanceof nd||Bd(a,c)))},rd=function(a,b,c,d){if(a instanceof I)return null!=b&&Ba(b,"opt_onFulfilled should be a function."),null!=c&&Ba(c,"opt_onRejected should be a function. Did you pass opt_context as the second argument instead of the third?"),vd(a,qd(b||ba,c||null,d)),!0;if(ld(a))return a.then(b,c,d),!0;if(ga(a))try{var e=a.then;if(p(e))return Cd(a,e,b,c,d),!0}catch(a){return c.call(d,a),!0}return!1},Cd=function(a,b,c,d,e){var f=!1,g=function(a){f||(f=!0,c.call(e,a))},h=function(a){f||(f=!0,d.call(e,a))};try{b.call(a,g,h)}catch(a){h(a)}},Ad=function(a){a.rc||(a.rc=!0,id(a.Xd,a))},yd=function(a){var b=null;return a.fa&&(b=a.fa,a.fa=b.next,b.next=null),a.fa||(a.Ma=null),null!=b&&w(null!=b.Ea),b};I.prototype.Xd=function(){for(var a;a=yd(this);)zd(this,a,this.F,this.ka);this.rc=!1};var zd=function(a,b,c,d){if(3==c&&b.Sa&&!b.ib)for(;a&&a.Jb;a=a.o)a.Jb=!1;if(b.child)b.child.o=null,Dd(b,c,d);else try{b.ib?b.Ea.call(b.context):Dd(b,c,d)}catch(a){Ed.call(null,a)}pd.put(b)},Dd=function(a,b,c){2==b?a.Ea.call(a.context,c):a.Sa&&a.Sa.call(a.context,c)},Bd=function(a,b){a.Jb=!0,id(function(){a.Jb&&Ed.call(null,b)})},Ed=Zc,nd=function(a){u.call(this,a)};t(nd,u),nd.prototype.name="cancel";var Fd=function(a,b){this.ac=[],this.nd=a,this.Zc=b||null,this.mb=this.Qa=!1,this.ka=void 0,this.Nc=this.Sc=this.mc=!1,this.hc=0,this.o=null,this.nc=0};Fd.prototype.cancel=function(a){if(this.Qa)this.ka instanceof Fd&&this.ka.cancel();else{if(this.o){var b=this.o;delete this.o,a?b.cancel(a):(b.nc--,0>=b.nc&&b.cancel())}this.nd?this.nd.call(this.Zc,this):this.Nc=!0,this.Qa||Gd(this,new Hd)}},Fd.prototype.Yc=function(a,b){this.mc=!1,Id(this,a,b)};var Id=function(a,b,c){a.Qa=!0,a.ka=c,a.mb=!b,Jd(a)},Ld=function(a){if(a.Qa){if(!a.Nc)throw new Kd;a.Nc=!1}};Fd.prototype.callback=function(a){Ld(this),Md(a),Id(this,!0,a)};var Gd=function(a,b){Ld(a),Md(b),Id(a,!1,b)},Md=function(a){w(!(a instanceof Fd),"An execution sequence may not be initiated with a blocking Deferred.")},Qd=function(a){var b=Nd("https://apis.google.com/js/client.js?onload="+Od);Pd(b,null,a,void 0)},Pd=function(a,b,c,d){w(!a.Sc,"Blocking Deferreds can not be re-used"),a.ac.push([b,c,d]),a.Qa&&Jd(a)};Fd.prototype.then=function(a,b,c){var d,e,f=new I(function(a,b){d=a,e=b});return Pd(this,d,function(a){a instanceof Hd?f.cancel():e(a)}),f.then(a,b,c)},kd(Fd);var Rd=function(a){return Fa(a.ac,function(a){return p(a[1])})},Jd=function(a){if(a.hc&&a.Qa&&Rd(a)){var b=a.hc,c=Sd[b];c&&(l.clearTimeout(c.nb),delete Sd[b]),a.hc=0}a.o&&(a.o.nc--,delete a.o);for(var b=a.ka,d=c=!1;a.ac.length&&!a.mc;){var e=a.ac.shift(),f=e[0],g=e[1],e=e[2];if(f=a.mb?g:f)try{var h=f.call(e||a.Zc,b);void 0!==h&&(a.mb=a.mb&&(h==b||h instanceof Error),a.ka=b=h),(ld(b)||"function"==typeof l.Promise&&b instanceof l.Promise)&&(d=!0,a.mc=!0)}catch(d){b=d,a.mb=!0,Rd(a)||(c=!0)}}a.ka=b,d&&(h=r(a.Yc,a,!0),d=r(a.Yc,a,!1),b instanceof Fd?(Pd(b,h,d),b.Sc=!0):b.then(h,d)),c&&(b=new Td(b),Sd[b.nb]=b,a.hc=b.nb)},Kd=function(){u.call(this)};t(Kd,u),Kd.prototype.message="Deferred has already fired",Kd.prototype.name="AlreadyCalledError";var Hd=function(){u.call(this)};t(Hd,u),Hd.prototype.message="Deferred was canceled",Hd.prototype.name="CanceledError";var Td=function(a){this.nb=l.setTimeout(r(this.Ge,this),0),this.J=a};Td.prototype.Ge=function(){throw w(Sd[this.nb],"Cannot throw an error that is not scheduled."),delete Sd[this.nb],this.J};var Sd={},Nd=function(a){var b=new Eb;return b.Vb=a,Ud(b)},Ud=function(a){var b,c={},d=c.document||document;a instanceof Eb&&a.constructor===Eb&&a.Nd===Db?b=a.Vb:(ya("expected object of type TrustedResourceUrl, got '"+a+"' of type "+m(a)),b="type_error:TrustedResourceUrl");var e=document.createElement("SCRIPT");a={vd:e,wb:void 0};var f=new Fd(Vd,a),g=null,h=null!=c.timeout?c.timeout:5e3;return 0<h&&(g=window.setTimeout(function(){Wd(e,!0),Gd(f,new Xd(1,"Timeout reached for loading script "+b))},h),a.wb=g),e.onload=e.onreadystatechange=function(){e.readyState&&"loaded"!=e.readyState&&"complete"!=e.readyState||(Wd(e,c.Oe||!1,g),f.callback(null))},e.onerror=function(){Wd(e,!0,g),Gd(f,new Xd(0,"Error while loading script "+b))},a=c.attributes||{},Xa(a,{type:"text/javascript",charset:"UTF-8",src:b}),Xc(e,a),Yd(d).appendChild(e),f},Yd=function(a){var b;return(b=(a||document).getElementsByTagName("HEAD"))&&0!=b.length?b[0]:a.documentElement},Vd=function(){if(this&&this.vd){var a=this.vd;a&&"SCRIPT"==a.tagName&&Wd(a,!0,this.wb)}},Wd=function(a,b,c){null!=c&&l.clearTimeout(c),a.onload=ba,a.onerror=ba,a.onreadystatechange=ba,b&&window.setTimeout(function(){a&&a.parentNode&&a.parentNode.removeChild(a)},0)},Xd=function(a,b){var c="Jsloader error (code #"+a+")";b&&(c+=": "+b),u.call(this,c),this.code=a};t(Xd,u);var Zd=function(){Lb.call(this),this.Y=new Sb(this),this.Qd=this,this.Cc=null};t(Zd,Lb),Zd.prototype[Ob]=!0,h=Zd.prototype,h.addEventListener=function(a,b,c,d){Yb(this,a,b,c,d)},h.removeEventListener=function(a,b,c,d){gc(this,a,b,c,d)},h.dispatchEvent=function(a){$d(this);var b,c=this.Cc;if(c){b=[];for(var d=1;c;c=c.Cc)b.push(c),w(1e3>++d,"infinite loop")}if(c=this.Qd,d=a.type||a,n(a))a=new Mb(a,c);else if(a instanceof Mb)a.target=a.target||c;else{var e=a;a=new Mb(d,c),Xa(a,e)}var f,e=!0;if(b)for(var g=b.length-1;!a.Va&&0<=g;g--)f=a.currentTarget=b[g],e=ae(f,d,!0,a)&&e;if(a.Va||(f=a.currentTarget=c,e=ae(f,d,!0,a)&&e,a.Va||(e=ae(f,d,!1,a)&&e)),b)for(g=0;!a.Va&&g<b.length;g++)f=a.currentTarget=b[g],e=ae(f,d,!1,a)&&e;return e},h.Oa=function(){if(Zd.Pc.Oa.call(this),this.Y){var a,b=this.Y,c=0;for(a in b.w){for(var d=b.w[a],e=0;e<d.length;e++)++c,Rb(d[e]);delete b.w[a],b.xb--}}this.Cc=null},h.listen=function(a,b,c,d){return $d(this),this.Y.add(String(a),b,!1,c,d)};var fc=function(a,b,c,d,e){a.Y.add(String(b),c,!0,d,e)},ae=function(a,b,c,d){if(b=a.Y.w[String(b)],!b)return!0;b=b.concat();for(var e=!0,f=0;f<b.length;++f){var g=b[f];if(g&&!g.$a&&g.Bb==c){var h=g.listener,i=g.Kb||g.src;g.Ab&&Ub(a.Y,g),e=!1!==h.call(i,d)&&e}}return e&&0!=d.ud};Zd.prototype.tc=function(a,b,c,d){return this.Y.tc(String(a),b,c,d)};var $d=function(a){w(a.Y,"Event target is not initialized. Did you call the superclass (goog.events.EventTarget) constructor?")},be="StopIteration"in l?l.StopIteration:{message:"StopIteration",stack:""},ce=function(){};ce.prototype.next=function(){throw be},ce.prototype.Pd=function(){return this};var de=function(a,b){this.Z={},this.s=[],this.ma=this.i=0;var c=arguments.length;if(1<c){if(c%2)throw Error("Uneven number of arguments");for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else a&&this.addAll(a)};h=de.prototype,h.dd=function(){return this.i},h.T=function(){ee(this);for(var a=[],b=0;b<this.s.length;b++)a.push(this.Z[this.s[b]]);return a},h.ha=function(){return ee(this),this.s.concat()},h.jb=function(a){return fe(this.Z,a)},h.Eb=function(a,b){if(this===a)return!0;if(this.i!=a.dd())return!1;b=b||ge,ee(this);for(var c,d=0;c=this.s[d];d++)if(!b(this.get(c),a.get(c)))return!1;return!0};var ge=function(a,b){return a===b};de.prototype.remove=function(a){return!!fe(this.Z,a)&&(delete this.Z[a],this.i--,this.ma++,this.s.length>2*this.i&&ee(this),!0)};var ee=function(a){if(a.i!=a.s.length){for(var b=0,c=0;b<a.s.length;){var d=a.s[b];fe(a.Z,d)&&(a.s[c++]=d),b++}a.s.length=c}if(a.i!=a.s.length){for(var e={},c=b=0;b<a.s.length;)d=a.s[b],fe(e,d)||(a.s[c++]=d,e[d]=1),b++;a.s.length=c}};h=de.prototype,h.get=function(a,b){return fe(this.Z,a)?this.Z[a]:b},h.set=function(a,b){fe(this.Z,a)||(this.i++,this.s.push(a),this.ma++),this.Z[a]=b},h.addAll=function(a){var b;a instanceof de?(b=a.ha(),a=a.T()):(b=Sa(a),a=Ra(a));for(var c=0;c<b.length;c++)this.set(b[c],a[c])},h.forEach=function(a,b){for(var c=this.ha(),d=0;d<c.length;d++){var e=c[d],f=this.get(e);a.call(b,f,e,this)}},h.clone=function(){return new de(this)},h.Pd=function(a){ee(this);var b=0,c=this.ma,d=this,e=new ce;return e.next=function(){if(c!=d.ma)throw Error("The map has changed since the iterator was created");if(b>=d.s.length)throw be;var e=d.s[b++];return a?e:d.Z[e]},e};var fe=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)},he=function(a){if(a.T&&"function"==typeof a.T)return a.T();if(n(a))return a.split("");if(ea(a)){for(var b=[],c=a.length,d=0;d<c;d++)b.push(a[d]);return b}return Ra(a)},ie=function(a){if(a.ha&&"function"==typeof a.ha)return a.ha();if(!a.T||"function"!=typeof a.T){if(ea(a)||n(a)){var b=[];a=a.length;for(var c=0;c<a;c++)b.push(c);return b}return Sa(a)}},je=function(a,b){if(a.forEach&&"function"==typeof a.forEach)a.forEach(b,void 0);else if(ea(a)||n(a))x(a,b,void 0);else for(var c=ie(a),d=he(a),e=d.length,f=0;f<e;f++)b.call(void 0,d[f],c&&c[f],a)},ke=function(a,b,c,d,e){this.reset(a,b,c,d,e)};ke.prototype.ad=null;var le=0;ke.prototype.reset=function(a,b,c,d,e){"number"==typeof e||le++,d||ka(),this.qb=a,this.re=b,delete this.ad},ke.prototype.yd=function(a){this.qb=a};var me=function(a){this.se=a,this.fd=this.oc=this.qb=this.o=null},ne=function(a,b){this.name=a,this.value=b};ne.prototype.toString=function(){return this.name};var oe=new ne("SEVERE",1e3),pe=new ne("CONFIG",700),qe=new ne("FINE",500);me.prototype.getParent=function(){return this.o},me.prototype.yd=function(a){this.qb=a};var re=function(a){return a.qb?a.qb:a.o?re(a.o):(ya("Root logger has no level set."),null)};me.prototype.log=function(a,b,c){if(a.value>=re(this).value)for(p(b)&&(b=b()),a=new ke(a,String(b),this.se),c&&(a.ad=c),c="log:"+a.re,l.console&&(l.console.timeStamp?l.console.timeStamp(c):l.console.markTimeline&&l.console.markTimeline(c)),l.msWriteProfilerMark&&l.msWriteProfilerMark(c),c=this;c;){b=c;var d=a;if(b.fd)for(var e,f=0;e=b.fd[f];f++)e(d);c=c.getParent()}};var se={},te=null,ue=function(a){te||(te=new me(""),se[""]=te,te.yd(pe));var b;if(!(b=se[a])){b=new me(a);var c=a.lastIndexOf("."),d=a.substr(c+1),c=ue(a.substr(0,c));c.oc||(c.oc={}),c.oc[d]=b,b.o=c,se[a]=b}return b},L=function(a,b){a&&a.log(qe,b,void 0)},ve=function(a,b,c){if(p(a))c&&(a=r(a,c));else{if(!a||"function"!=typeof a.handleEvent)throw Error("Invalid listener argument");a=r(a.handleEvent,a)}return 2147483647<Number(b)?-1:l.setTimeout(a,b||0)},we=function(a){var b=null;return new I(function(c,d){b=ve(function(){c(void 0)},a),-1==b&&d(Error("Failed to schedule timer."))}).l(function(a){throw l.clearTimeout(b),a})},xe=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/,ye=function(a,b){if(a){a=a.split("&");for(var c=0;c<a.length;c++){var d,e=a[c].indexOf("="),f=null;0<=e?(d=a[c].substring(0,e),f=a[c].substring(e+1)):d=a[c],b(d,f?decodeURIComponent(f.replace(/\+/g," ")):"")}}},M=function(a){Zd.call(this),this.headers=new de,this.lc=a||null,this.oa=!1,this.kc=this.a=null,this.pb=this.ld=this.Qb="",this.Ba=this.wc=this.Ob=this.qc=!1,this.fb=0,this.gc=null,this.td="",this.ic=this.xe=this.Gd=!1};t(M,Zd);var ze=M.prototype,Ae=ue("goog.net.XhrIo");ze.P=Ae;var Be=/^https?$/i,Ce=["POST","PUT"];M.prototype.send=function(a,b,c,d){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.Qb+"; newUri="+a);b=b?b.toUpperCase():"GET",this.Qb=a,this.pb="",this.ld=b,this.qc=!1,this.oa=!0,this.a=this.lc?this.lc.Cb():vc.Cb(),this.kc=uc(this.lc?this.lc:vc),this.a.onreadystatechange=r(this.qd,this),this.xe&&"onprogress"in this.a&&(this.a.onprogress=r(function(a){this.pd(a,!0)},this),this.a.upload&&(this.a.upload.onprogress=r(this.pd,this)));try{L(this.P,De(this,"Opening Xhr")),this.wc=!0,this.a.open(b,String(a),!0),this.wc=!1}catch(a){return L(this.P,De(this,"Error opening Xhr: "+a.message)),void this.J(5,a)}a=c||"";var e=this.headers.clone();d&&je(d,function(a,b){e.set(b,a)}),d=Ha(e.ha()),c=l.FormData&&a instanceof l.FormData,!Ia(Ce,b)||d||c||e.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),e.forEach(function(a,b){this.a.setRequestHeader(b,a)},this),this.td&&(this.a.responseType=this.td),"withCredentials"in this.a&&this.a.withCredentials!==this.Gd&&(this.a.withCredentials=this.Gd);try{Ee(this),0<this.fb&&(this.ic=Fe(this.a),L(this.P,De(this,"Will abort after "+this.fb+"ms if incomplete, xhr2 "+this.ic)),this.ic?(this.a.timeout=this.fb,this.a.ontimeout=r(this.wb,this)):this.gc=ve(this.wb,this.fb,this)),L(this.P,De(this,"Sending request")),this.Ob=!0,this.a.send(a),this.Ob=!1}catch(a){L(this.P,De(this,"Send error: "+a.message)),this.J(5,a)}};var Fe=function(a){return z&&A(9)&&fa(a.timeout)&&void 0!==a.ontimeout},Ga=function(a){return"content-type"==a.toLowerCase()};M.prototype.wb=function(){"undefined"!=typeof aa&&this.a&&(this.pb="Timed out after "+this.fb+"ms, aborting",L(this.P,De(this,this.pb)),this.dispatchEvent("timeout"),this.abort(8))},M.prototype.J=function(a,b){this.oa=!1,this.a&&(this.Ba=!0,this.a.abort(),this.Ba=!1),this.pb=b,Ge(this),He(this)};var Ge=function(a){a.qc||(a.qc=!0,a.dispatchEvent("complete"),a.dispatchEvent("error"))};M.prototype.abort=function(){this.a&&this.oa&&(L(this.P,De(this,"Aborting")),this.oa=!1,this.Ba=!0,this.a.abort(),this.Ba=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),He(this))},M.prototype.Oa=function(){this.a&&(this.oa&&(this.oa=!1,this.Ba=!0,this.a.abort(),this.Ba=!1),He(this,!0)),M.Pc.Oa.call(this)},M.prototype.qd=function(){this.isDisposed()||(this.wc||this.Ob||this.Ba?Ie(this):this.ve())},M.prototype.ve=function(){Ie(this)};var Ie=function(a){if(a.oa&&"undefined"!=typeof aa)if(a.kc[1]&&4==Je(a)&&2==Ke(a))L(a.P,De(a,"Local request error detected and ignored"));else if(a.Ob&&4==Je(a))ve(a.qd,0,a);else if(a.dispatchEvent("readystatechange"),4==Je(a)){L(a.P,De(a,"Request complete")),a.oa=!1;try{var b,c=Ke(a);a:switch(c){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:b=!0;break a;default:b=!1}var d;if(!(d=b)){var e;if(e=0===c){var f=String(a.Qb).match(xe)[1]||null;if(!f&&l.self&&l.self.location)var g=l.self.location.protocol,f=g.substr(0,g.length-1);e=!Be.test(f?f.toLowerCase():"")}d=e}if(d)a.dispatchEvent("complete"),a.dispatchEvent("success");else{var h;try{h=2<Je(a)?a.a.statusText:""}catch(b){L(a.P,"Can not get status: "+b.message),h=""}a.pb=h+" ["+Ke(a)+"]",Ge(a)}}finally{He(a)}}};M.prototype.pd=function(a,b){w("progress"===a.type,"goog.net.EventType.PROGRESS is of the same type as raw XHR progress."),this.dispatchEvent(Le(a,"progress")),this.dispatchEvent(Le(a,b?"downloadprogress":"uploadprogress"))};var Le=function(a,b){return{type:b,lengthComputable:a.lengthComputable,loaded:a.loaded,total:a.total}},He=function(a,b){if(a.a){Ee(a);var c=a.a,d=a.kc[0]?ba:null;a.a=null,a.kc=null,b||a.dispatchEvent("ready");try{c.onreadystatechange=d}catch(b){(a=a.P)&&a.log(oe,"Problem encountered resetting onreadystatechange: "+b.message,void 0)}}},Ee=function(a){a.a&&a.ic&&(a.a.ontimeout=null),fa(a.gc)&&(l.clearTimeout(a.gc),a.gc=null)},Je=function(a){return a.a?a.a.readyState:0},Ke=function(a){try{return 2<Je(a)?a.a.status:-1}catch(a){return-1}},Me=function(a){try{return a.a?a.a.responseText:""}catch(b){return L(a.P,"Can not get responseText: "+b.message),""}},De=function(a,b){return b+" ["+a.ld+" "+a.Qb+" "+Ke(a)+"]"},Ne=function(a,b){this.ga=this.Ia=this.la="",this.Ua=null,this.Aa=this.qa="",this.M=this.oe=!1;var c;a instanceof Ne?(this.M=void 0!==b?b:a.M,Oe(this,a.la),c=a.Ia,N(this),this.Ia=c,Pe(this,a.ga),Qe(this,a.Ua),Re(this,a.qa),Se(this,a.aa.clone()),a=a.Aa,N(this),this.Aa=a):a&&(c=String(a).match(xe))?(this.M=!!b,Oe(this,c[1]||"",!0),a=c[2]||"",N(this),this.Ia=Te(a),Pe(this,c[3]||"",!0),Qe(this,c[4]),Re(this,c[5]||"",!0),Se(this,c[6]||"",!0),a=c[7]||"",N(this),this.Aa=Te(a)):(this.M=!!b,this.aa=new O(null,0,this.M))};Ne.prototype.toString=function(){var a=[],b=this.la;b&&a.push(Ue(b,Ve,!0),":");var c=this.ga;return(c||"file"==b)&&(a.push("//"),(b=this.Ia)&&a.push(Ue(b,Ve,!0),"@"),a.push(encodeURIComponent(String(c)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c=this.Ua,null!=c&&a.push(":",String(c))),(c=this.qa)&&(this.ga&&"/"!=c.charAt(0)&&a.push("/"),a.push(Ue(c,"/"==c.charAt(0)?We:Xe,!0))),(c=this.aa.toString())&&a.push("?",c),(c=this.Aa)&&a.push("#",Ue(c,Ye)),a.join("")},Ne.prototype.resolve=function(a){var b=this.clone(),c=!!a.la;if(c?Oe(b,a.la):c=!!a.Ia,c){var d=a.Ia;N(b),b.Ia=d}else c=!!a.ga;if(c?Pe(b,a.ga):c=null!=a.Ua,d=a.qa,c)Qe(b,a.Ua);else if(c=!!a.qa){if("/"!=d.charAt(0))if(this.ga&&!this.qa)d="/"+d;else{var e=b.qa.lastIndexOf("/");-1!=e&&(d=b.qa.substr(0,e+1)+d)}if(e=d,".."==e||"."==e)d="";else if(v(e,"./")||v(e,"/.")){for(var d=0==e.lastIndexOf("/",0),e=e.split("/"),f=[],g=0;g<e.length;){var h=e[g++];"."==h?d&&g==e.length&&f.push(""):".."==h?((1<f.length||1==f.length&&""!=f[0])&&f.pop(),d&&g==e.length&&f.push("")):(f.push(h),d=!0)}d=f.join("/")}else d=e}return c?Re(b,d):c=""!==a.aa.toString(),c?Se(b,Te(a.aa.toString())):c=!!a.Aa,c&&(a=a.Aa,N(b),b.Aa=a),b},Ne.prototype.clone=function(){return new Ne(this)};var Oe=function(a,b,c){N(a),a.la=c?Te(b,!0):b,a.la&&(a.la=a.la.replace(/:$/,""))},Pe=function(a,b,c){N(a),a.ga=c?Te(b,!0):b},Qe=function(a,b){if(N(a),b){if(b=Number(b),isNaN(b)||0>b)throw Error("Bad port number "+b);a.Ua=b}else a.Ua=null},Re=function(a,b,c){N(a),a.qa=c?Te(b,!0):b},Se=function(a,b,c){N(a),b instanceof O?(a.aa=b,a.aa.Mc(a.M)):(c||(b=Ue(b,Ze)),a.aa=new O(b,0,a.M))},P=function(a,b,c){N(a),a.aa.set(b,c)},N=function(a){if(a.oe)throw Error("Tried to modify a read-only Uri")};Ne.prototype.Mc=function(a){return this.M=a,this.aa&&this.aa.Mc(a),this};var $e=function(a){return a instanceof Ne?a.clone():new Ne(a,void 0)},af=function(a,b){var c=new Ne(null,void 0);return Oe(c,"https"),a&&Pe(c,a),b&&Re(c,b),c},Te=function(a,b){return a?b?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""},Ue=function(a,b,c){return n(a)?(a=encodeURI(a).replace(b,bf),c&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null},bf=function(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(15&a).toString(16)},Ve=/[#\/\?@]/g,Xe=/[\#\?:]/g,We=/[\#\?]/g,Ze=/[\#\?@]/g,Ye=/#/g,O=function(a,b,c){this.i=this.j=null,this.I=a||null,this.M=!!c},cf=function(a){a.j||(a.j=new de,a.i=0,a.I&&ye(a.I,function(b,c){a.add(decodeURIComponent(b.replace(/\+/g," ")),c)}))},ef=function(a){var b=ie(a);if("undefined"==typeof b)throw Error("Keys are undefined");var c=new O(null,0,void 0);a=he(a);for(var d=0;d<b.length;d++){var e=b[d],f=a[d];da(f)?df(c,e,f):c.add(e,f)}return c};h=O.prototype,h.dd=function(){return cf(this),this.i},h.add=function(a,b){cf(this),this.I=null,a=this.K(a);var c=this.j.get(a);return c||this.j.set(a,c=[]),c.push(b),this.i=za(this.i)+1,this},h.remove=function(a){return cf(this),a=this.K(a),!!this.j.jb(a)&&(this.I=null,this.i=za(this.i)-this.j.get(a).length,this.j.remove(a))},h.jb=function(a){return cf(this),a=this.K(a),this.j.jb(a)},h.ha=function(){cf(this);for(var a=this.j.T(),b=this.j.ha(),c=[],d=0;d<b.length;d++)for(var e=a[d],f=0;f<e.length;f++)c.push(b[d]);return c},h.T=function(a){cf(this);var b=[];if(n(a))this.jb(a)&&(b=Ma(b,this.j.get(this.K(a))));else{a=this.j.T();for(var c=0;c<a.length;c++)b=Ma(b,a[c])}return b},h.set=function(a,b){return cf(this),this.I=null,a=this.K(a),this.jb(a)&&(this.i=za(this.i)-this.j.get(a).length),this.j.set(a,[b]),this.i=za(this.i)+1,this},h.get=function(a,b){return a=a?this.T(a):[],0<a.length?String(a[0]):b};var df=function(a,b,c){a.remove(b),0<c.length&&(a.I=null,a.j.set(a.K(b),Oa(c)),a.i=za(a.i)+c.length)};O.prototype.toString=function(){if(this.I)return this.I;if(!this.j)return"";for(var a=[],b=this.j.ha(),c=0;c<b.length;c++)for(var d=b[c],e=encodeURIComponent(String(d)),d=this.T(d),f=0;f<d.length;f++){var g=e;""!==d[f]&&(g+="="+encodeURIComponent(String(d[f]))),a.push(g)}return this.I=a.join("&")},O.prototype.clone=function(){var a=new O;return a.I=this.I,this.j&&(a.j=this.j.clone(),a.i=this.i),a},O.prototype.K=function(a){return a=String(a),this.M&&(a=a.toLowerCase()),a},O.prototype.Mc=function(a){a&&!this.M&&(cf(this),this.I=null,this.j.forEach(function(a,b){var c=b.toLowerCase();b!=c&&(this.remove(b),df(this,c,a))},this)),this.M=a};var gf=function(){var a=ff();return z&&!!pb&&11==pb||/Edge\/\d+/.test(a)},hf=function(){return l.window&&l.window.location.href||""},jf=function(a,b){var c,d=[];for(c in a)c in b?typeof a[c]!=typeof b[c]?d.push(c):da(a[c])?Ua(a[c],b[c])||d.push(c):"object"==typeof a[c]&&null!=a[c]&&null!=b[c]?0<jf(a[c],b[c]).length&&d.push(c):a[c]!==b[c]&&d.push(c):d.push(c);for(c in b)c in a||d.push(c);return d},lf=function(){var a;return a=ff(),a="Chrome"!=kf(a)?null:(a=a.match(/\sChrome\/(\d+)/i))&&2==a.length?parseInt(a[1],10):null,!(a&&30>a)&&(!z||!pb||9<pb)},mf=function(a){(a||l.window).close()},nf=function(a,b,c){var d=Math.floor(1e9*Math.random()).toString();b=b||500,c=c||600;var e=(window.screen.availHeight-c)/2,f=(window.screen.availWidth-b)/2;b={width:b,height:c,top:0<e?e:0,left:0<f?f:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},d&&(b.target=d),"Firefox"==kf(ff())&&(a=a||"http://localhost",b.scrollbars=!0);var g;c=a||"about:blank",(d=b)||(d={}),a=window,b=c instanceof B?c:Cb("undefined"!=typeof c.href?c.href:String(c)),c=d.target||c.target,e=[];for(g in d)switch(g){case"width":case"height":case"top":case"left":e.push(g+"="+d[g]);break;case"target":case"noreferrer":break;default:e.push(g+"="+(d[g]?1:0))}if(g=e.join(","),(y("iPhone")&&!y("iPod")&&!y("iPad")||y("iPad")||y("iPod"))&&a.navigator&&a.navigator.standalone&&c&&"_self"!=c?(g=a.document.createElement("A"),b=b instanceof B?b:Cb(b),g.href=zb(b),g.setAttribute("target",c),d.noreferrer&&g.setAttribute("rel","noreferrer"),d=document.createEvent("MouseEvent"),d.initMouseEvent("click",!0,!0,a,1),g.dispatchEvent(d),g={}):d.noreferrer?(g=a.open("",c,g),d=zb(b),g&&(fb&&v(d,";")&&(d="'"+d.replace(/'/g,"%27")+"'"),g.opener=null,a=new wb,a.ec="b/12014412, meta tag with sanitized URL",ua.test(d)&&(-1!=d.indexOf("&")&&(d=d.replace(na,"&amp;")),-1!=d.indexOf("<")&&(d=d.replace(oa,"&lt;")),-1!=d.indexOf(">")&&(d=d.replace(pa,"&gt;")),-1!=d.indexOf('"')&&(d=d.replace(qa,"&quot;")),-1!=d.indexOf("'")&&(d=d.replace(sa,"&#39;")),-1!=d.indexOf("\0")&&(d=d.replace(ta,"&#0;"))),d='<META HTTP-EQUIV="refresh" content="0; url='+d+'">',Aa(xb(a),"must provide justification"),w(!/^[\s\xa0]*$/.test(xb(a)),"must provide non-empty justification"),g.document.write(Hb((new Gb).ne(d))),g.document.close())):g=a.open(zb(b),c,g),g)try{g.focus()}catch(a){}return g},of=function(a){return new I(function(b){var c=function(){we(2e3).then(function(){return a&&!a.closed?c():void b()})};return c()})},pf=function(){var a=null;return new I(function(b){"complete"==l.document.readyState?b():(a=function(){b()},ec(window,"load",a))}).l(function(b){throw gc(window,"load",a),b})},qf=function(a){switch(a||l.navigator&&l.navigator.product||""){case"ReactNative":return"ReactNative";default:return"undefined"!=typeof l.process?"Node":"Browser"}},rf=function(){var a=qf();return"ReactNative"===a||"Node"===a},kf=function(a){var b=a.toLowerCase();return v(b,"opera/")||v(b,"opr/")||v(b,"opios/")?"Opera":v(b,"iemobile")?"IEMobile":v(b,"msie")||v(b,"trident/")?"IE":v(b,"edge/")?"Edge":v(b,"firefox/")?"Firefox":v(b,"silk/")?"Silk":v(b,"blackberry")?"Blackberry":v(b,"webos")?"Webos":!v(b,"safari/")||v(b,"chrome/")||v(b,"crios/")||v(b,"android")?!v(b,"chrome/")&&!v(b,"crios/")||v(b,"edge/")?v(b,"android")?"Android":(a=a.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==a.length?a[1]:"Other":"Chrome":"Safari"},sf=function(a){var b=qf(void 0);return("Browser"===b?kf(ff()):b)+"/JsCore/"+a},ff=function(){return l.navigator&&l.navigator.userAgent||""},tf=function(a){a=a.split(".");for(var b=l,c=0;c<a.length&&"object"==typeof b&&null!=b;c++)b=b[a[c]];return c!=a.length&&(b=void 0),b},vf=function(){var a;if(!(a=!l.location||!l.location.protocol||"http:"!=l.location.protocol&&"https:"!=l.location.protocol||rf())){var b;a:{try{var c=l.localStorage,d=uf();if(c){c.setItem(d,"1"),c.removeItem(d),b=!gf()||!!l.indexedDB;break a}}catch(a){}b=!1}a=!b}return!a},wf=function(a){a=a||ff();var b=(a||ff()).toLowerCase();return!(b.match(/android/)||b.match(/webos/)||b.match(/iphone|ipad|ipod/)||b.match(/blackberry/)||b.match(/windows phone/)||b.match(/iemobile/)||"Firefox"==kf(a))},xf=function(a){return"undefined"==typeof a?null:pc(a)},yf=function(a){if(null!==a){var b;try{b=mc(a)}catch(c){try{b=JSON.parse(a)}catch(a){throw c}}return b}},uf=function(a){return a?a:""+Math.floor(1e9*Math.random()).toString()},zf=function(){var a=l.___jsl;if(a&&a.H)for(var b in a.H)if(a.H[b].r=a.H[b].r||[],a.H[b].L=a.H[b].L||[],a.H[b].r=a.H[b].L.concat(),a.CP)for(var c=0;c<a.CP.length;c++)a.CP[c]=null},Af;try{var Bf={};Object.defineProperty(Bf,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Bf,"abcd",{configurable:!0,enumerable:!0,value:2}),Af=2==Bf.abcd}catch(a){Af=!1}var Q=function(a,b,c){Af?Object.defineProperty(a,b,{configurable:!0,enumerable:!0,value:c}):a[b]=c},Cf=function(a,b){if(b)for(var c in b)b.hasOwnProperty(c)&&Q(a,c,b[c])},Df=function(a){var b,c={};for(b in a)a.hasOwnProperty(b)&&(c[b]=a[b]);return c},Ef=function(a,b){if(!b||!b.length)return!0;if(!a)return!1;for(var c=0;c<b.length;c++){var d=a[b[c]];if(void 0===d||null===d||""===d)return!1}return!0},Ff={Hd:{tb:985,sb:735,providerId:"facebook.com"},Id:{tb:500,sb:620,providerId:"github.com"},Jd:{tb:515,sb:680,providerId:"google.com"},Od:{tb:485,sb:705,providerId:"twitter.com"}},Gf=function(a){for(var b in Ff)if(Ff[b].providerId==a)return Ff[b];return null},R=function(a,b){this.code="auth/"+a,this.message=b||Hf[a]||""};t(R,Error),R.prototype.G=function(){return{name:this.code,code:this.code,message:this.message}};var Hf={"argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-user-token":"The user's credential is no longer valid. The user must sign in again.","invalid-auth-event":"An internal error has occurred.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","missing-iframe-start":"An internal error has occurred.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http or https and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported."},If=function(a,b,c,d,e){if(this.ua=a,this.za=b||null,this.hb=c||null,this.bc=d||null,this.J=e||null,!this.hb&&!this.J)throw new R("invalid-auth-event");if(this.hb&&this.J)throw new R("invalid-auth-event");if(this.hb&&!this.bc)throw new R("invalid-auth-event")};If.prototype.getError=function(){return this.J},If.prototype.G=function(){return{type:this.ua,eventId:this.za,urlResponse:this.hb,sessionId:this.bc,error:this.J&&this.J.G()}};var Jf=function(a){var b="unauthorized-domain",c=void 0,d=$e(a);a=d.ga,d=d.la,"http"!=d&&"https"!=d?b="operation-not-supported-in-this-environment":c=la("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",a),R.call(this,b,c)};t(Jf,R);var Kf=function(a){this.qe=a.sub,ka(),this.Db=a.email||null},Lf=function(a,b,c,d){var e={};if(ga(c)?e=c:b&&n(c)&&n(d)?e={oauthToken:c,oauthTokenSecret:d
}:!b&&n(c)&&(e={accessToken:c}),b||!e.idToken&&!e.accessToken){if(!(b&&e.oauthToken&&e.oauthTokenSecret)){if(b)throw new R("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");throw new R("argument-error","credential failed: expected 1 argument (the OAuth access token).")}Q(this,"accessToken",e.oauthToken),Q(this,"secret",e.oauthTokenSecret)}else e.idToken&&Q(this,"idToken",e.idToken),e.accessToken&&Q(this,"accessToken",e.accessToken);Q(this,"provider",a)};Lf.prototype.Gb=function(a){var b=Mf(this);return S(a,Nf,b)},Lf.prototype.md=function(a,b){var c=Mf(this);return c.idToken=b,S(a,Of,c)};var Mf=function(a){var b={};return a.idToken&&(b.id_token=a.idToken),a.accessToken&&(b.access_token=a.accessToken),a.secret&&(b.oauth_token_secret=a.secret),b.providerId=a.provider,{postBody:ef(b).toString(),requestUri:vf()?hf():"http://localhost"}};Lf.prototype.G=function(){var a={provider:this.provider};return this.idToken&&(a.oauthIdToken=this.idToken),this.accessToken&&(a.oauthAccessToken=this.accessToken),this.secret&&(a.oauthTokenSecret=this.secret),a};var Pf=function(a,b){var c=!!b;return b=function(){Cf(this,{providerId:a,isOAuthProvider:!0}),this.Lc=[],"google.com"==a&&this.addScope("profile")},c||(b.prototype.addScope=function(a){Ia(this.Lc,a)||this.Lc.push(a)}),b.prototype.Hb=function(){return Oa(this.Lc)},b.credential=function(b,d){return new Lf(a,c,b,d)},Cf(b,{PROVIDER_ID:a}),b},Qf=Pf("facebook.com");Qf.prototype.addScope=Qf.prototype.addScope||void 0;var Rf=Pf("github.com");Rf.prototype.addScope=Rf.prototype.addScope||void 0;var Sf=Pf("google.com");Sf.prototype.addScope=Sf.prototype.addScope||void 0,Sf.credential=function(a,b){if(!a&&!b)throw new R("argument-error","credential failed: must provide the ID token and/or the access token.");return new Lf("google.com",!1,ga(a)?a:{idToken:a||null,accessToken:b||null})};var Tf=Pf("twitter.com",!0),Uf=function(a,b){this.Db=a,this.Dc=b,Q(this,"provider","password")};Uf.prototype.Gb=function(a){return S(a,Vf,{email:this.Db,password:this.Dc})},Uf.prototype.md=function(a,b){return S(a,Wf,{idToken:b,email:this.Db,password:this.Dc})},Uf.prototype.G=function(){return{email:this.Db,password:this.Dc}};var Xf=function(){Cf(this,{providerId:"password",isOAuthProvider:!1})};Cf(Xf,{PROVIDER_ID:"password"});var Yf={Me:Xf,Hd:Qf,Jd:Sf,Id:Rf,Od:Tf},Zf=function(a){var b=a&&a.providerId;if(!b)return null;var c=a&&a.oauthAccessToken,d=a&&a.oauthTokenSecret;a=a&&a.oauthIdToken;for(var e in Yf)if(Yf[e].PROVIDER_ID==b)try{return Yf[e].credential({accessToken:c,idToken:a,oauthToken:c,oauthTokenSecret:d})}catch(a){break}return null},$f=function(a,b,c){R.call(this,"account-exists-with-different-credential",c),Q(this,"email",a),Q(this,"credential",b)};t($f,R),$f.prototype.G=function(){var a={code:this.code,message:this.message,email:this.email},b=this.credential&&this.credential.G();return b&&(Xa(a,b),a.providerId=b.provider,delete a.provider),a};var ag=function(a){this.Le=a};t(ag,tc),ag.prototype.Cb=function(){return new this.Le},ag.prototype.xc=function(){return{}};var T=function(a,b,c){var d;if(d="Node"==qf(),d=l.XMLHttpRequest||d&&firebase.INTERNAL.node&&firebase.INTERNAL.node.XMLHttpRequest,!d)throw new R("internal-error","The XMLHttpRequest compatibility library was not found.");this.v=a,a=b||{},this.Ae=a.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.Be=a.secureTokenTimeout||1e4,this.wd=Va(a.secureTokenHeaders||bg),this.$d=a.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.ae=a.firebaseTimeout||1e4,this.cd=Va(a.firebaseHeaders||cg),c&&(this.cd["X-Client-Version"]=c,this.wd["X-Client-Version"]=c),this.Sd=new yc,this.Ke=new ag(d)},dg,bg={"Content-Type":"application/x-www-form-urlencoded"},cg={"Content-Type":"application/json"},fg=function(a,b,c,d,e,f,g){lf()?a=r(a.De,a):(dg||(dg=new I(function(a,b){eg(a,b)})),a=r(a.Ce,a)),a(b,c,d,e,f,g)};T.prototype.De=function(a,b,c,d,e,f){var g,h="Node"==qf(),i=rf()?h?new M(this.Ke):new M:new M(this.Sd);f&&(i.fb=Math.max(0,f),g=setTimeout(function(){i.dispatchEvent("timeout")},f)),i.listen("complete",function(){g&&clearTimeout(g);var a=null;try{var c;c=this.a?mc(this.a.responseText):void 0,a=c||null}catch(b){try{a=JSON.parse(Me(this))||null}catch(b){a=null}}b&&b(a)}),fc(i,"ready",function(){g&&clearTimeout(g),this.ya||(this.ya=!0,this.Oa())}),fc(i,"timeout",function(){g&&clearTimeout(g),this.ya||(this.ya=!0,this.Oa()),b&&b(null)}),i.send(a,c,d,e)};var Od="__fcb"+Math.floor(1e6*Math.random()).toString(),eg=function(a,b){((window.gapi||{}).client||{}).request?a():(l[Od]=function(){((window.gapi||{}).client||{}).request?a():b(Error("CORS_UNSUPPORTED"))},Qd(function(){b(Error("CORS_UNSUPPORTED"))}))};T.prototype.Ce=function(a,b,c,d,e){var f=this;dg.then(function(){window.gapi.client.setApiKey(f.v);var g=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:a,method:c,body:d,headers:e,authType:"none",callback:function(a){window.gapi.auth.setToken(g),b&&b(a)}})}).l(function(a){b&&b({error:{message:a&&a.message||"CORS_UNSUPPORTED"}})})};var hg=function(a,b){return new I(function(c,d){"refresh_token"==b.grant_type&&b.refresh_token||"authorization_code"==b.grant_type&&b.code?fg(a,a.Ae+"?key="+encodeURIComponent(a.v),function(a){a?a.error?d(gg(a)):a.access_token&&a.refresh_token?c(a):d(new R("internal-error")):d(new R("network-request-failed"))},"POST",ef(b).toString(),a.wd,a.Be):d(new R("internal-error"))})},ig=function(a){var b,c={};for(b in a)null!==a[b]&&void 0!==a[b]&&(c[b]=a[b]);return pc(c)},jg=function(a,b,c,d,e){var f=a.$d+b+"?key="+encodeURIComponent(a.v);return e&&(f+="&cb="+ka().toString()),new I(function(b,e){fg(a,f,function(a){a?a.error?e(gg(a)):b(a):e(new R("network-request-failed"))},c,ig(d),a.cd,a.ae)})},kg=function(a){if(!lc.test(a.email))throw new R("invalid-email")},lg=function(a){"email"in a&&kg(a)},ng=function(a,b){var c=vf()?hf():"http://localhost";return S(a,mg,{identifier:b,continueUri:c}).then(function(a){return a.allProviders||[]})},pg=function(a){return S(a,og,{}).then(function(a){return a.authorizedDomains||[]})},qg=function(a){if(!a.idToken)throw new R("internal-error")};T.prototype.signInAnonymously=function(){return S(this,rg,{})},T.prototype.updateEmail=function(a,b){return S(this,sg,{idToken:a,email:b})},T.prototype.updatePassword=function(a,b){return S(this,Wf,{idToken:a,password:b})};var tg={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};T.prototype.updateProfile=function(a,b){var c={idToken:a},d=[];return Qa(tg,function(a,e){var f=b[e];null===f?d.push(a):e in b&&(c[e]=f)}),d.length&&(c.deleteAttribute=d),S(this,sg,c)},T.prototype.sendPasswordResetEmail=function(a){return S(this,ug,{requestType:"PASSWORD_RESET",email:a})},T.prototype.sendEmailVerification=function(a){return S(this,vg,{requestType:"VERIFY_EMAIL",idToken:a})};var xg=function(a,b,c){return S(a,wg,{idToken:b,deleteProvider:c})},yg=function(a){if(!a.requestUri||!a.sessionId&&!a.postBody)throw new R("internal-error")},zg=function(a){if(a.needConfirmation)throw(a&&a.email?new $f(a.email,Zf(a),a.message):null)||new R("account-exists-with-different-credential");if(!a.idToken)throw new R("internal-error")},Ag=function(a){if(!a.oobCode)throw new R("invalid-action-code")};T.prototype.confirmPasswordReset=function(a,b){return S(this,Bg,{oobCode:a,newPassword:b})},T.prototype.checkActionCode=function(a){return S(this,Cg,{oobCode:a})},T.prototype.applyActionCode=function(a){return S(this,Dg,{oobCode:a})};var Dg={endpoint:"setAccountInfo",D:Ag,cb:"email"},Cg={endpoint:"resetPassword",D:Ag,sa:function(a){if(!lc.test(a.email))throw new R("internal-error")}},Eg={endpoint:"signupNewUser",D:function(a){if(kg(a),!a.password)throw new R("weak-password")},sa:qg,ta:!0},mg={endpoint:"createAuthUri"},Fg={endpoint:"deleteAccount",ab:["idToken"]},wg={endpoint:"setAccountInfo",ab:["idToken","deleteProvider"],D:function(a){if(!da(a.deleteProvider))throw new R("internal-error")}},Gg={endpoint:"getAccountInfo"},vg={endpoint:"getOobConfirmationCode",ab:["idToken","requestType"],D:function(a){if("VERIFY_EMAIL"!=a.requestType)throw new R("internal-error")},cb:"email"},ug={endpoint:"getOobConfirmationCode",ab:["requestType"],D:function(a){if("PASSWORD_RESET"!=a.requestType)throw new R("internal-error");kg(a)},cb:"email"},og={Rd:!0,endpoint:"getProjectConfig",je:"GET"},Bg={endpoint:"resetPassword",D:Ag,cb:"email"},sg={endpoint:"setAccountInfo",ab:["idToken"],D:lg,ta:!0},Wf={endpoint:"setAccountInfo",ab:["idToken"],D:function(a){if(lg(a),!a.password)throw new R("weak-password")},sa:qg,ta:!0},rg={endpoint:"signupNewUser",sa:qg,ta:!0},Nf={endpoint:"verifyAssertion",D:yg,sa:zg,ta:!0},Of={endpoint:"verifyAssertion",D:function(a){if(yg(a),!a.idToken)throw new R("internal-error")},sa:zg,ta:!0},Hg={endpoint:"verifyCustomToken",D:function(a){if(!a.token)throw new R("invalid-custom-token")},sa:qg,ta:!0},Vf={endpoint:"verifyPassword",D:function(a){if(kg(a),!a.password)throw new R("wrong-password")},sa:qg,ta:!0},S=function(a,b,c){if(!Ef(c,b.ab))return K(new R("internal-error"));var d,e=b.je||"POST";return J(c).then(b.D).then(function(){return b.ta&&(c.returnSecureToken=!0),jg(a,b.endpoint,e,c,b.Rd||!1)}).then(function(a){return d=a}).then(b.sa).then(function(){if(!b.cb)return d;if(!(b.cb in d))throw new R("internal-error");return d[b.cb]})},gg=function(a){var b,c;c=(a.error&&a.error.errors&&a.error.errors[0]||{}).reason||"";var d={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(c=d[c]?new R(d[c]):null)return c;c=a.error&&a.error.message||"",d={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",EMAIL_NOT_FOUND:"user-not-found",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed"},b=(b=c.match(/:\s*(.*)$/))&&1<b.length?b[1]:void 0;for(var e in d)if(0===c.indexOf(e))return new R(d[e],b);return!b&&a&&(b=xf(a)),new R("internal-error",b)},Ig=function(a){this.R=a};Ig.prototype.value=function(){return this.R},Ig.prototype.zd=function(a){return this.R.style=a,this};var Jg=function(a){this.R=a||{}};Jg.prototype.value=function(){return this.R},Jg.prototype.zd=function(a){return this.R.style=a,this};var Lg=function(a){this.Je=a,this.vc=null,this.od=Kg(this)};Lg.prototype.Bc=function(){return this.od};var Mg=function(a){var b=new Jg;return b.R.where=document.body,b.R.url=a.Je,b.R.messageHandlersFilter=tf("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),b.R.attributes=b.R.attributes||{},new Ig(b.R.attributes).zd({position:"absolute",top:"-100px",width:"1px",height:"1px"}),b.R.dontclear=!0,b},Kg=function(a){return Ng().then(function(){return new I(function(b,c){tf("gapi.iframes.getContext")().open(Mg(a).value(),function(d){a.vc=d,a.vc.restyle({setHideOnLeave:!1});var e=setTimeout(function(){c(Error("Network Error"))},5e3),f=function(){clearTimeout(e),b()};d.ping(f).then(f,function(){c(Error("Network Error"))})})})})},Og=function(a,b){a.od.then(function(){a.vc.register("authEvent",b,tf("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})},Pg="__iframefcb"+Math.floor(1e6*Math.random()).toString(),Ng=function(){return new I(function(a,b){var c=function(){zf(),tf("gapi.load")("gapi.iframes",{callback:a,ontimeout:function(){zf(),b(Error("Network Error"))},timeout:3e3})};tf("gapi.iframes.Iframe")?a():tf("gapi.load")?c():(l[Pg]=function(){tf("gapi.load")?c():b(Error("Network Error"))},J(Nd("https://apis.google.com/js/api.js?onload="+Pg)).l(function(){b(Error("Network Error"))}))})},Rg=function(a,b,c,d){this.X=a,this.v=b,this.ea=c,d=this.xa=d||null,a=af(a,"/__/auth/iframe"),P(a,"apiKey",b),P(a,"appName",c),d&&P(a,"v",d),this.ke=a.toString(),this.hd=new Lg(this.ke),this.yb=[],Qg(this)};Rg.prototype.Bc=function(){return this.hd.Bc()};var Sg=function(a,b,c,d,e,f,g,h,i){return a=af(a,"/__/auth/handler"),P(a,"apiKey",b),P(a,"appName",c),P(a,"authType",d),P(a,"providerId",e),f&&f.length&&P(a,"scopes",f.join(",")),g&&P(a,"redirectUrl",g),h&&P(a,"eventId",h),i&&P(a,"v",i),a.toString()},Qg=function(a){Og(a.hd,function(b){var c={};if(b&&b.authEvent){var d=!1;if(b=b.authEvent||{},b.type){if(c=b.error)var e=(c=b.error)&&(c.name||c.code),c=e?new R(e.substring(5),c.message):null;b=new If(b.type,b.eventId,b.urlResponse,b.sessionId,c)}else b=null;for(c=0;c<a.yb.length;c++)d=a.yb[c](b)||d;return c={},c.status=d?"ACK":"ERROR",J(c)}return c.status="ERROR",J(c)})},Tg=function(a,b){La(a.yb,function(a){return a==b})},Ug=function(a){if(this.u=a||firebase.INTERNAL.reactNative&&firebase.INTERNAL.reactNative.AsyncStorage,!this.u)throw new R("internal-error","The React Native compatibility library was not found.")};h=Ug.prototype,h.get=function(a){return J(this.u.getItem(a)).then(function(a){return a&&yf(a)})},h.set=function(a,b){return J(this.u.setItem(a,xf(b)))},h.remove=function(a){return J(this.u.removeItem(a))},h.Ka=function(){},h.Za=function(){};var Vg=function(){this.u={}};h=Vg.prototype,h.get=function(a){return J(this.u[a])},h.set=function(a,b){return this.u[a]=b,J()},h.remove=function(a){return delete this.u[a],J()},h.Ka=function(){},h.Za=function(){};var Xg=function(){if(!Wg()){if("Node"==qf())throw new R("internal-error","The LocalStorage compatibility library was not found.");throw new R("web-storage-unsupported")}this.u=l.localStorage||firebase.INTERNAL.node.localStorage},Wg=function(){var a="Node"==qf(),a=l.localStorage||a&&firebase.INTERNAL.node&&firebase.INTERNAL.node.localStorage;if(!a)return!1;try{return a.setItem("__sak","1"),a.removeItem("__sak"),!0}catch(a){return!1}};h=Xg.prototype,h.get=function(a){var b=this;return J().then(function(){var c=b.u.getItem(a);return yf(c)})},h.set=function(a,b){var c=this;return J().then(function(){var d=xf(b);null===d?c.remove(a):c.u.setItem(a,d)})},h.remove=function(a){var b=this;return J().then(function(){b.u.removeItem(a)})},h.Ka=function(a){l.window&&Yb(l.window,"storage",a)},h.Za=function(a){l.window&&gc(l.window,"storage",a)};var Yg=function(){this.u={}};h=Yg.prototype,h.get=function(){return J(null)},h.set=function(){return J()},h.remove=function(){return J()},h.Ka=function(){},h.Za=function(){};var $g=function(){if(!Zg()){if("Node"==qf())throw new R("internal-error","The SessionStorage compatibility library was not found.");throw new R("web-storage-unsupported")}this.u=l.sessionStorage||firebase.INTERNAL.node.sessionStorage},Zg=function(){var a="Node"==qf(),a=l.sessionStorage||a&&firebase.INTERNAL.node&&firebase.INTERNAL.node.sessionStorage;if(!a)return!1;try{return a.setItem("__sak","1"),a.removeItem("__sak"),!0}catch(a){return!1}};h=$g.prototype,h.get=function(a){var b=this;return J().then(function(){var c=b.u.getItem(a);return yf(c)})},h.set=function(a,b){var c=this;return J().then(function(){var d=xf(b);null===d?c.remove(a):c.u.setItem(a,d)})},h.remove=function(a){var b=this;return J().then(function(){b.u.removeItem(a)})},h.Ka=function(){},h.Za=function(){};var ah=function(a,b,c,d,e,f){if(!window.indexedDB)throw new R("web-storage-unsupported");this.Ud=a,this.Ac=b,this.pc=c,this.Fd=d,this.ma=e,this.O={},this.ub=[],this.rb=0,this.le=f||l.indexedDB},bh,ch=function(a){return new I(function(b,c){var d=a.le.open(a.Ud,a.ma);d.onerror=function(a){c(Error(a.target.errorCode))},d.onupgradeneeded=function(b){b=b.target.result;try{b.createObjectStore(a.Ac,{keyPath:a.pc})}catch(a){c(a)}},d.onsuccess=function(a){b(a.target.result)}})},dh=function(a){return a.jd||(a.jd=ch(a)),a.jd},eh=function(a,b){return b.objectStore(a.Ac)},fh=function(a,b,c){return b.transaction([a.Ac],c?"readwrite":"readonly")},gh=function(a){return new I(function(b,c){a.onsuccess=function(a){a&&a.target?b(a.target.result):b()},a.onerror=function(a){c(Error(a.target.errorCode))}})};h=ah.prototype,h.set=function(a,b){var c,d=!1,e=this;return wd(dh(this).then(function(b){return c=b,b=eh(e,fh(e,c,!0)),gh(b.get(a))}).then(function(f){var g=eh(e,fh(e,c,!0));return f?(f.value=b,gh(g.put(f))):(e.rb++,d=!0,f={},f[e.pc]=a,f[e.Fd]=b,gh(g.add(f)))}).then(function(){e.O[a]=b}),function(){d&&e.rb--})},h.get=function(a){var b=this;return dh(this).then(function(c){return gh(eh(b,fh(b,c,!1)).get(a))}).then(function(a){return a&&a.value})},h.remove=function(a){var b=!1,c=this;return wd(dh(this).then(function(d){return b=!0,c.rb++,gh(eh(c,fh(c,d,!0)).delete(a))}).then(function(){delete c.O[a]}),function(){b&&c.rb--})},h.Fe=function(){var a=this;return dh(this).then(function(b){var c=eh(a,fh(a,b,!1));return c.getAll?gh(c.getAll()):new I(function(a,b){var d=[],e=c.openCursor();e.onsuccess=function(b){(b=b.target.result)?(d.push(b.value),b.continue()):a(d)},e.onerror=function(a){b(Error(a.target.errorCode))}})}).then(function(b){var c={},d=[];if(0==a.rb){for(d=0;d<b.length;d++)c[b[d][a.pc]]=b[d][a.Fd];d=jf(a.O,c),a.O=c}return d})},h.Ka=function(a){0==this.ub.length&&this.Oc(),this.ub.push(a)},h.Za=function(a){La(this.ub,function(b){return b==a}),0==this.ub.length&&this.dc()},h.Oc=function(){var a=this;this.dc();var b=function(){return a.Fc=we(800).then(r(a.Fe,a)).then(function(b){0<b.length&&x(a.ub,function(a){a(b)})}).then(b).l(function(a){"STOP_EVENT"!=a.message&&b()}),a.Fc};b()},h.dc=function(){this.Fc&&this.Fc.cancel("STOP_EVENT")};var kh=function(){this.$c={Browser:hh,Node:ih,ReactNative:jh}[qf()]},lh,hh={V:Xg,Qc:$g},ih={V:Xg,Qc:$g},jh={V:Ug,Qc:Yg},mh="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" "),U=function(a,b){return{name:a||"",ca:"a valid string",optional:!!b,da:n}},nh=function(a){return{name:a||"",ca:"a valid object",optional:!1,da:ga}},oh=function(a,b){return{name:a||"",ca:"a function",optional:!!b,da:p}},ph=function(){return{name:"",ca:"null",optional:!1,da:ca}},qh=function(){return{name:"credential",ca:"a valid credential",optional:!1,da:function(a){return!(!a||!a.Gb)}}},rh=function(){return{name:"authProvider",ca:"a valid Auth provider",optional:!1,da:function(a){return!!(a&&a.providerId&&a.hasOwnProperty&&a.hasOwnProperty("isOAuthProvider"))}}},sh=function(a,b,c,d){return{name:c||"",ca:a.ca+" or "+b.ca,optional:!!d,da:function(c){return a.da(c)||b.da(c)}}},uh=function(a,b){for(var c in b){var d=b[c].name;a[d]=th(d,a[c],b[c].b)}},V=function(a,b,c,d){a[b]=th(b,c,d)},th=function(a,b,c){if(!c)return b;var d=vh(a);a=function(){var a,e=Array.prototype.slice.call(arguments);a:{a=Array.prototype.slice.call(e);var f;f=0;for(var g=!1,h=0;h<c.length;h++)if(c[h].optional)g=!0;else{if(g)throw new R("internal-error","Argument validator encountered a required argument after an optional argument.");f++}if(g=c.length,a.length<f||g<a.length)a="Expected "+(f==g?1==f?"1 argument":f+" arguments":f+"-"+g+" arguments")+" but got "+a.length+".";else{for(f=0;f<a.length;f++)if(g=c[f].optional&&void 0===a[f],!c[f].da(a[f])&&!g){if(a=c[f],0>f||f>=mh.length)throw new R("internal-error","Argument validator received an unsupported number of arguments.");a=mh[f]+" argument "+(a.name?'"'+a.name+'" ':"")+"must be "+a.ca+".";break a}a=null}}if(a)throw new R("argument-error",d+" failed: "+a);return b.apply(this,e)};for(var e in b)a[e]=b[e];for(e in b.prototype)a.prototype[e]=b.prototype[e];return a},vh=function(a){return a=a.split("."),a[a.length-1]},wh=function(a,b,c,d){this.te=a,this.xd=b,this.ze=c,this.eb=d,this.N={},lh||(lh=new kh),a=lh;try{var e;gf()?(bh||(bh=new ah("firebaseLocalStorageDb","firebaseLocalStorage","fbase_key","value",1)),e=bh):e=new a.$c.V,this.Ta=e}catch(a){this.Ta=new Vg,this.eb=!0}try{this.fc=new a.$c.Qc}catch(a){this.fc=new Vg}this.Ad=r(this.Bd,this),this.O={}},xh,yh=function(){return xh||(xh=new wh("firebase",":",!("Safari"!=kf(ff())||!l.window||l.window==l.window.top),wf())),xh};h=wh.prototype,h.K=function(a,b){return this.te+this.xd+a.name+(b?this.xd+b:"")},h.get=function(a,b){return(a.V?this.Ta:this.fc).get(this.K(a,b))},h.remove=function(a,b){return b=this.K(a,b),a.V&&!this.eb&&(this.O[b]=null),(a.V?this.Ta:this.fc).remove(b)},h.set=function(a,b,c){var d=this.K(a,c),e=this,f=a.V?this.Ta:this.fc;return f.set(d,b).then(function(){return f.get(d)}).then(function(b){a.V&&!this.eb&&(e.O[d]=b)})},h.addListener=function(a,b,c){a=this.K(a,b),this.eb||(this.O[a]=l.localStorage.getItem(a)),Ta(this.N)&&this.Oc(),this.N[a]||(this.N[a]=[]),this.N[a].push(c)},h.removeListener=function(a,b,c){a=this.K(a,b),this.N[a]&&(La(this.N[a],function(a){return a==c}),0==this.N[a].length&&delete this.N[a]),Ta(this.N)&&this.dc()},h.Oc=function(){this.Ta.Ka(this.Ad),this.eb||zh(this)};var zh=function(a){Ah(a),a.zc=setInterval(function(){for(var b in a.N){var c=l.localStorage.getItem(b);c!=a.O[b]&&(a.O[b]=c,c=new Nb({type:"storage",key:b,target:window,oldValue:a.O[b],newValue:c}),a.Bd(c))}},1e3)},Ah=function(a){a.zc&&(clearInterval(a.zc),a.zc=null)};wh.prototype.dc=function(){this.Ta.Za(this.Ad),this.eb||Ah(this)},wh.prototype.Bd=function(a){if(a&&a.ce){var b=a.kb.key;if(this.ze){var c=l.localStorage.getItem(b);a=a.kb.newValue,a!=c&&(a?l.localStorage.setItem(b,a):a||l.localStorage.removeItem(b))}this.O[b]=l.localStorage.getItem(b),this.Vc(b)}else x(a,r(this.Vc,this))},wh.prototype.Vc=function(a){this.N[a]&&x(this.N[a],function(a){a()})};var Bh=function(a){this.B=a,this.A=yh()},Ch={name:"pendingRedirect",V:!1},Dh=function(a){return a.A.set(Ch,"pending",a.B)},Eh=function(a){return a.A.remove(Ch,a.B)},Fh=function(a){return a.A.get(Ch,a.B).then(function(a){return"pending"==a})},Ih=function(a,b,c){var d=this,e=(this.xa=firebase.SDK_VERSION||null)?sf(this.xa):null;this.f=new T(b,null,e),this.pa=null,this.X=a,this.v=b,this.ea=c,this.vb=[],this.Pb=!1,this.Rc=r(this.de,this),this.Wa=new Gh(this),this.rd=new Hh(this),this.Ec=new Bh(this.v+":"+this.ea),this.gb={},this.gb.unknown=this.Wa,this.gb.signInViaRedirect=this.Wa,this.gb.linkViaRedirect=this.Wa,this.gb.signInViaPopup=this.rd,this.gb.linkViaPopup=this.rd,this.Zb=this.bb=null,this.Tb=new I(function(a,b){d.bb=a,d.Zb=b})};Ih.prototype.reset=function(){var a=this;this.pa=null,this.Tb.cancel(),this.Pb=!1,this.Zb=this.bb=null,this.Mb&&Tg(this.Mb,this.Rc),this.Tb=new I(function(b,c){a.bb=b,a.Zb=c})};var Jh=function(a){var b=hf();return pg(a).then(function(a){a:{for(var c=$e(b).ga,d=0;d<a.length;d++){var e,f=a[d];e=c;var g=Qc(f);if(g?e=!!(e=Qc(e))&&g.Eb(e):(g=f.split(".").join("\\."),e=new RegExp("^(.+\\."+g+"|"+g+")$","i").test(e)),e){a=!0;break a}}a=!1}if(!a)throw new Jf(hf())})},Kh=function(a){return a.Pb||(a.Pb=!0,pf().then(function(){a.Mb=new Rg(a.X,a.v,a.ea,a.xa),a.Mb.Bc().l(function(){a.Zb(new R("network-request-failed")),a.reset()}),a.Mb.yb.push(a.Rc)})),a.Tb};Ih.prototype.subscribe=function(a){if(Ia(this.vb,a)||this.vb.push(a),!this.Pb){var b=this,c=function(){var a,c=ff();(a=wf(c))||(c=c||ff(),a="Safari"!=kf(c)&&!c.toLowerCase().match(/iphone|ipad|ipod/)),a?Lh(b.Wa):Kh(b)};Fh(this.Ec).then(function(a){a?Eh(b.Ec).then(function(){Kh(b)}):c()}).l(function(){c()})}},Ih.prototype.unsubscribe=function(a){La(this.vb,function(b){return b==a})},Ih.prototype.de=function(a){if(!a)throw new R("invalid-auth-event");this.bb&&(this.bb(),this.bb=null);for(var b=!1,c=0;c<this.vb.length;c++){var d=this.vb[c];if(d.Wc(a.ua,a.za)){(b=this.gb[a.ua])&&b.sd(a,d),b=!0;break}}return Lh(this.Wa),b},Ih.prototype.getRedirectResult=function(){return this.Wa.getRedirectResult()};var Nh=function(a,b,c,d,e,f){return b?f?(Kh(a),J()):(a.pa||(a.pa=Jh(a.f)),a.pa.then(function(){return Kh(a)}).then(function(){Mh(d);var f=Sg(a.X,a.v,a.ea,c,d.providerId,d.Hb(),null,e,a.xa);Ib((b||l.window).location,f)}).l(function(b){throw"auth/network-request-failed"==b.code&&(a.pa=null),b})):K(new R("popup-blocked"))},Oh=function(a,b,c,d){return a.pa||(a.pa=Jh(a.f)),a.pa.then(function(){Mh(c);var e=Sg(a.X,a.v,a.ea,b,c.providerId,c.Hb(),hf(),d,a.xa);Dh(a.Ec).then(function(){Ib(l.window.location,e)})})},Ph=function(a,b,c,d,e){var f=new R("popup-closed-by-user");return a.Tb.l(function(){}).then(function(){return of(d)}).then(function(){return we(2e3).then(function(){b.Ha(c,null,f,e)})})},Mh=function(a){if(!a.isOAuthProvider)throw new R("invalid-oauth-provider")},Qh={},Rh=function(a,b,c){var d=b+":"+c;return Qh[d]||(Qh[d]=new Ih(a,b,c)),Qh[d]},Gh=function(a){this.A=a,this.Jc=this.Yb=this.Xa=this.W=null,this.Ic=!1};Gh.prototype.sd=function(a,b){if(!a)return K(new R("invalid-auth-event"));this.Ic=!0;var c=a.ua,d=a.za;return"unknown"==c?(this.W||Sh(this,!1,null,null),a=J()):a=a.J?this.Gc(a,b):b.lb(c,d)?this.Hc(a,b):K(new R("invalid-auth-event")),a};var Lh=function(a){a.Ic||(a.Ic=!0,Sh(a,!1,null,null))};Gh.prototype.Gc=function(a){return this.W||Sh(this,!0,null,a.getError()),J()},Gh.prototype.Hc=function(a,b){var c=this,d=a.ua;b=b.lb(d,a.za);var e=a.hb;a=a.bc;var f="signInViaRedirect"==d||"linkViaRedirect"==d;return this.W?J():b(e,a).then(function(a){c.W||Sh(c,f,a,null)}).l(function(a){c.W||Sh(c,f,null,a)})};var Sh=function(a,b,c,d){b?d?(a.W=function(){return K(d)},a.Yb&&a.Yb(d)):(a.W=function(){return J(c)},a.Xa&&a.Xa(c)):(a.W=function(){return J({user:null})},a.Xa&&a.Xa({user:null})),a.Xa=null,a.Yb=null};Gh.prototype.getRedirectResult=function(){var a=this;return this.Uc||(this.Uc=new I(function(b,c){a.W?a.W().then(b,c):(a.Xa=b,a.Yb=c,Th(a))})),this.Uc};var Th=function(a){var b=new R("timeout");a.Jc&&a.Jc.cancel(),a.Jc=we(1e4).then(function(){a.W||Sh(a,!0,null,b)})},Hh=function(a){this.A=a};Hh.prototype.sd=function(a,b){if(!a)return K(new R("invalid-auth-event"));var c=a.ua,d=a.za;return a.J?this.Gc(a,b):b.lb(c,d)?this.Hc(a,b):K(new R("invalid-auth-event"))},Hh.prototype.Gc=function(a,b){return b.Ha(a.ua,null,a.getError(),a.za),J()},Hh.prototype.Hc=function(a,b){var c=a.za,d=a.ua;return b.lb(d,c)(a.hb,a.bc).then(function(a){b.Ha(d,a,null,c)}).l(function(a){b.Ha(d,null,a,c)})};var Uh=function(a){this.f=a,this.wa=this.S=null,this.Pa=0};Uh.prototype.G=function(){return{apiKey:this.f.v,refreshToken:this.S,accessToken:this.wa,expirationTime:this.Pa}};var Wh=function(a,b){var c=b.idToken,d=b.refreshToken;b=Vh(b.expiresIn),a.wa=c,a.Pa=b,a.S=d},Vh=function(a){return ka()+1e3*parseInt(a,10)},Xh=function(a,b){return hg(a.f,b).then(function(b){return a.wa=b.access_token,a.Pa=Vh(b.expires_in),a.S=b.refresh_token,{accessToken:a.wa,expirationTime:a.Pa,refreshToken:a.S}}).l(function(b){throw"auth/user-token-expired"==b.code&&(a.S=null),b})},Yh=function(a){return!(!a.wa||a.S)};Uh.prototype.getToken=function(a){return a=!!a,Yh(this)?K(new R("user-token-expired")):a||!this.wa||ka()>this.Pa-3e4?this.S?Xh(this,{grant_type:"refresh_token",refresh_token:this.S}):J(null):J({accessToken:this.wa,expirationTime:this.Pa,refreshToken:this.S})};var Zh=function(a,b,c,d,e){Cf(this,{uid:a,displayName:d||null,photoURL:e||null,email:c||null,providerId:b})},$h=function(a,b){Mb.call(this,a);for(var c in b)this[c]=b[c]};t($h,Mb);var W=function(a,b,c){this.U=[],this.v=a.apiKey,this.ea=a.appName,this.X=a.authDomain||null,a=firebase.SDK_VERSION?sf(firebase.SDK_VERSION):null,this.f=new T(this.v,null,a),this.ba=new Uh(this.f),ai(this,b.idToken),Wh(this.ba,b),Q(this,"refreshToken",this.ba.S),bi(this,c||{}),Zd.call(this),this.Ub=!1,this.X&&vf()&&(this.m=Rh(this.X,this.v,this.ea)),this.cc=[]};t(W,Zd);var ai=function(a,b){a.kd=b,Q(a,"_lat",b)},ci=function(a,b){La(a.cc,function(a){return a==b})},di=function(a){for(var b=[],c=0;c<a.cc.length;c++)b.push(a.cc[c](a));return td(b).then(function(){return a})},ei=function(a){a.m&&!a.Ub&&(a.Ub=!0,a.m.subscribe(a))},bi=function(a,b){Cf(a,{uid:b.uid,displayName:b.displayName||null,photoURL:b.photoURL||null,email:b.email||null,emailVerified:b.emailVerified||!1,isAnonymous:b.isAnonymous||!1,providerData:[]})};Q(W.prototype,"providerId","firebase");var fi=function(){},gi=function(a){return J().then(function(){if(a.Vd)throw new R("app-deleted")})},hi=function(a){return Ea(a.providerData,function(a){return a.providerId})},ji=function(a,b){b&&(ii(a,b.providerId),a.providerData.push(b))},ii=function(a,b){La(a.providerData,function(a){return a.providerId==b})},ki=function(a,b,c){("uid"!=b||c)&&a.hasOwnProperty(b)&&Q(a,b,c)};W.prototype.copy=function(a){var b=this;b!=a&&(Cf(this,{uid:a.uid,displayName:a.displayName,photoURL:a.photoURL,email:a.email,emailVerified:a.emailVerified,isAnonymous:a.isAnonymous,providerData:[]}),x(a.providerData,function(a){ji(b,a)}),this.ba=a.ba,Q(this,"refreshToken",this.ba.S))},W.prototype.reload=function(){var a=this;return gi(this).then(function(){return li(a).then(function(){return di(a)}).then(fi)})};var li=function(a){return a.getToken().then(function(b){var c=a.isAnonymous;return mi(a,b).then(function(){return c||ki(a,"isAnonymous",!1),b}).l(function(b){throw"auth/user-token-expired"==b.code&&(a.dispatchEvent(new $h("userDeleted")),ni(a)),b})})};W.prototype.getToken=function(a){var b=this,c=Yh(this.ba);return gi(this).then(function(){return b.ba.getToken(a)}).then(function(a){if(!a)throw new R("internal-error");return a.accessToken!=b.kd&&(ai(b,a.accessToken),b.Da()),ki(b,"refreshToken",a.refreshToken),a.accessToken}).l(function(a){if("auth/user-token-expired"==a.code&&!c)return di(b).then(function(){throw ki(b,"refreshToken",null),a});throw a})};var oi=function(a,b){b.idToken&&a.kd!=b.idToken&&(Wh(a.ba,b),a.Da(),ai(a,b.idToken),ki(a,"refreshToken",a.ba.S))};W.prototype.Da=function(){this.dispatchEvent(new $h("tokenChanged"))};var mi=function(a,b){return S(a.f,Gg,{idToken:b}).then(r(a.we,a))};W.prototype.we=function(a){if(a=a.users,!a||!a.length)throw new R("internal-error");a=a[0],bi(this,{uid:a.localId,displayName:a.displayName,photoURL:a.photoUrl,email:a.email,emailVerified:!!a.emailVerified});for(var b=pi(a),c=0;c<b.length;c++)ji(this,b[c]);ki(this,"isAnonymous",!(this.email&&a.passwordHash||this.providerData&&this.providerData.length))};var pi=function(a){return(a=a.providerUserInfo)&&a.length?Ea(a,function(a){return new Zh(a.rawId,a.providerId,a.email,a.displayName,a.photoUrl)}):[]};W.prototype.reauthenticate=function(a){var b=this;return this.c(a.Gb(this.f).then(function(a){var c;a:{var d=a.idToken.split(".");if(3==d.length){for(var d=d[1],e=(4-d.length%4)%4,f=0;f<e;f++)d+=".";try{var g=mc(tb(d));if(g.sub&&g.iss&&g.aud&&g.exp){c=new Kf(g);break a}}catch(a){}}c=null}if(!c||b.uid!=c.qe)throw new R("user-mismatch");return oi(b,a),b.reload()}))};var qi=function(a,b){return li(a).then(function(){if(Ia(hi(a),b))return di(a).then(function(){throw new R("provider-already-linked")})})};h=W.prototype,h.link=function(a){var b=this;return this.c(qi(this,a.provider).then(function(){return b.getToken()}).then(function(c){return a.md(b.f,c)}).then(r(this.bd,this)))},h.bd=function(a){oi(this,a);var b=this;return this.reload().then(function(){return b})},h.updateEmail=function(a){var b=this;return this.c(this.getToken().then(function(c){return b.f.updateEmail(c,a)}).then(function(a){return oi(b,a),b.reload()}))},h.updatePassword=function(a){var b=this;return this.c(this.getToken().then(function(c){return b.f.updatePassword(c,a)}).then(function(a){return oi(b,a),b.reload()}))},h.updateProfile=function(a){if(void 0===a.displayName&&void 0===a.photoURL)return gi(this);var b=this;return this.c(this.getToken().then(function(c){return b.f.updateProfile(c,{displayName:a.displayName,photoUrl:a.photoURL})}).then(function(a){return oi(b,a),ki(b,"displayName",a.displayName||null),ki(b,"photoURL",a.photoUrl||null),di(b)}).then(fi))},h.unlink=function(a){var b=this;return this.c(li(this).then(function(c){return Ia(hi(b),a)?xg(b.f,c,[a]).then(function(a){var c={};
return x(a.providerUserInfo||[],function(a){c[a.providerId]=!0}),x(hi(b),function(a){c[a]||ii(b,a)}),di(b)}):di(b).then(function(){throw new R("no-such-provider")})}))},h.delete=function(){var a=this;return this.c(this.getToken().then(function(b){return S(a.f,Fg,{idToken:b})}).then(function(){a.dispatchEvent(new $h("userDeleted"))})).then(function(){ni(a)})},h.Wc=function(a,b){return!!("linkViaPopup"==a&&(this.ia||null)==b&&this.$||"linkViaRedirect"==a&&(this.Xb||null)==b)},h.Ha=function(a,b,c,d){"linkViaPopup"==a&&d==(this.ia||null)&&(c&&this.Fa?this.Fa(c):b&&!c&&this.$&&this.$(b),this.C&&(this.C.cancel(),this.C=null),delete this.$,delete this.Fa)},h.lb=function(a,b){return"linkViaPopup"==a&&b==(this.ia||null)||"linkViaRedirect"==a&&(this.Xb||null)==b?r(this.Yd,this):null},h.Fb=function(){return uf(this.uid+":::")},h.linkWithPopup=function(a){if(!vf())return K(new R("operation-not-supported-in-this-environment"));var b=this,c=Gf(a.providerId),d=this.Fb(),e=null;!wf()&&this.X&&a.isOAuthProvider&&(e=Sg(this.X,this.v,this.ea,"linkViaPopup",a.providerId,a.Hb(),null,d,firebase.SDK_VERSION||null));var f=nf(e,c&&c.tb,c&&c.sb),c=qi(this,a.providerId).then(function(){return di(b)}).then(function(){return ri(b),b.getToken()}).then(function(){return Nh(b.m,f,"linkViaPopup",a,d,!!e)}).then(function(){return new I(function(a,c){b.Ha("linkViaPopup",null,new R("cancelled-popup-request"),b.ia||null),b.$=a,b.Fa=c,b.ia=d,b.C=Ph(b.m,b,"linkViaPopup",f,d)})}).then(function(a){return f&&mf(f),a}).l(function(a){throw f&&mf(f),a});return this.c(c)},h.linkWithRedirect=function(a){if(!vf())return K(new R("operation-not-supported-in-this-environment"));var b=this,c=null,d=this.Fb(),e=qi(this,a.providerId).then(function(){return ri(b),b.getToken()}).then(function(){return b.Xb=d,di(b)}).then(function(a){return b.Ga&&(a=b.Ga,a=a.A.set(si,b.G(),a.B)),a}).then(function(){return Oh(b.m,"linkViaRedirect",a,d)}).l(function(a){if(c=a,b.Ga)return ti(b.Ga);throw c}).then(function(){if(c)throw c});return this.c(e)};var ri=function(a){if(!a.m||!a.Ub){if(a.m&&!a.Ub)throw new R("internal-error");throw new R("auth-domain-config-required")}};W.prototype.Yd=function(a,b){var c=this;this.C&&(this.C.cancel(),this.C=null);var d=null,e=this.getToken().then(function(d){return S(c.f,Of,{requestUri:a,sessionId:b,idToken:d})}).then(function(a){return d=Zf(a),c.bd(a)}).then(function(a){return{user:a,credential:d}});return this.c(e)},W.prototype.sendEmailVerification=function(){var a=this;return this.c(this.getToken().then(function(b){return a.f.sendEmailVerification(b)}).then(function(b){if(a.email!=b)return a.reload()}).then(function(){}))};var ni=function(a){for(var b=0;b<a.U.length;b++)a.U[b].cancel("app-deleted");a.U=[],a.Vd=!0,Q(a,"refreshToken",null),a.m&&a.m.unsubscribe(a)};W.prototype.c=function(a){var b=this;return this.U.push(a),wd(a,function(){Ka(b.U,a)}),a},W.prototype.toJSON=function(){return this.G()},W.prototype.G=function(){var a={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,isAnonymous:this.isAnonymous,providerData:[],apiKey:this.v,appName:this.ea,authDomain:this.X,stsTokenManager:this.ba.G(),redirectEventId:this.Xb||null};return x(this.providerData,function(b){a.providerData.push(Df(b))}),a};var ui=function(a){if(!a.apiKey)return null;var b={apiKey:a.apiKey,authDomain:a.authDomain,appName:a.appName},c={};if(!(a.stsTokenManager&&a.stsTokenManager.accessToken&&a.stsTokenManager.expirationTime))return null;c.idToken=a.stsTokenManager.accessToken,c.refreshToken=a.stsTokenManager.refreshToken||null,c.expiresIn=(a.stsTokenManager.expirationTime-ka())/1e3;var d=new W(b,c,a);return a.providerData&&x(a.providerData,function(a){if(a){var b={};Cf(b,a),ji(d,b)}}),a.redirectEventId&&(d.Xb=a.redirectEventId),d},vi=function(a,b,c){var d=new W(a,b);return c&&(d.Ga=c),d.reload().then(function(){return d})},wi=function(a){this.B=a,this.A=yh()},si={name:"redirectUser",V:!1},ti=function(a){return a.A.remove(si,a.B)},xi=function(a,b){return a.A.get(si,a.B).then(function(a){return a&&b&&(a.authDomain=b),ui(a||{})})},yi=function(a){this.B=a,this.A=yh()},zi={name:"authUser",V:!0},Ai=function(a){return a.A.remove(zi,a.B)},Bi=function(a,b){return a.A.get(zi,a.B).then(function(a){return a&&b&&(a.authDomain=b),ui(a||{})})},Y=function(a){if(this.Na=!1,Q(this,"app",a),!X(this).options||!X(this).options.apiKey)throw new R("invalid-api-key");a=firebase.SDK_VERSION?sf(firebase.SDK_VERSION):null,this.f=new T(X(this).options&&X(this).options.apiKey,null,a),this.U=[],this.La=[],this.ue=firebase.INTERNAL.createSubscribe(r(this.me,this)),Ci(this,null),this.va=new yi(X(this).options.apiKey+":"+X(this).name),this.Ya=new wi(X(this).options.apiKey+":"+X(this).name),this.zb=this.c(Di(this)),this.ra=this.c(Ei(this)),this.yc=!1,this.uc=r(this.Ee,this),this.Dd=r(this.Ra,this),this.Ed=r(this.ie,this),this.Cd=r(this.he,this),Fi(this),this.INTERNAL={},this.INTERNAL.delete=r(this.delete,this)};Y.prototype.toJSON=function(){return{apiKey:X(this).options.apiKey,authDomain:X(this).options.authDomain,appName:X(this).name,currentUser:Z(this)&&Z(this).G()}};var Gi=function(a){return a.Wd||K(new R("auth-domain-config-required"))},Fi=function(a){var b=X(a).options.authDomain,c=X(a).options.apiKey;b&&vf()&&(a.Wd=a.zb.then(function(){if(!a.Na)return a.m=Rh(b,c,X(a).name),a.m.subscribe(a),Z(a)&&ei(Z(a)),a.Kc&&(ei(a.Kc),a.Kc=null),a.m}))};h=Y.prototype,h.Wc=function(a,b){switch(a){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.ia==b&&!!this.$;default:return!1}},h.Ha=function(a,b,c,d){"signInViaPopup"==a&&this.ia==d&&(c&&this.Fa?this.Fa(c):b&&!c&&this.$&&this.$(b),this.C&&(this.C.cancel(),this.C=null),delete this.$,delete this.Fa)},h.lb=function(a,b){return"signInViaRedirect"==a||"signInViaPopup"==a&&this.ia==b&&this.$?r(this.Zd,this):null},h.Zd=function(a,b){var c=this;a={requestUri:a,sessionId:b},this.C&&(this.C.cancel(),this.C=null);var d=null,e=S(c.f,Nf,a).then(function(a){return d=Zf(a),a});return a=c.zb.then(function(){return e}).then(function(a){return Hi(c,a)}).then(function(){return{user:Z(c),credential:d}}),this.c(a)},h.Fb=function(){return uf()},h.signInWithPopup=function(a){if(!vf())return K(new R("operation-not-supported-in-this-environment"));var b=this,c=Gf(a.providerId),d=this.Fb(),e=null;!wf()&&X(this).options.authDomain&&a.isOAuthProvider&&(e=Sg(X(this).options.authDomain,X(this).options.apiKey,X(this).name,"signInViaPopup",a.providerId,a.Hb(),null,d,firebase.SDK_VERSION||null));var f=nf(e,c&&c.tb,c&&c.sb),c=Gi(this).then(function(b){return Nh(b,f,"signInViaPopup",a,d,!!e)}).then(function(){return new I(function(a,c){b.Ha("signInViaPopup",null,new R("cancelled-popup-request"),b.ia),b.$=a,b.Fa=c,b.ia=d,b.C=Ph(b.m,b,"signInViaPopup",f,d)})}).then(function(a){return f&&mf(f),a}).l(function(a){throw f&&mf(f),a});return this.c(c)},h.signInWithRedirect=function(a){if(!vf())return K(new R("operation-not-supported-in-this-environment"));var b=this,c=Gi(this).then(function(){return Oh(b.m,"signInViaRedirect",a)});return this.c(c)},h.getRedirectResult=function(){if(!vf())return K(new R("operation-not-supported-in-this-environment"));var a=this,b=Gi(this).then(function(){return a.m.getRedirectResult()});return this.c(b)};var Hi=function(a,b){var c={};return c.apiKey=X(a).options.apiKey,c.authDomain=X(a).options.authDomain,c.appName=X(a).name,a.zb.then(function(){return vi(c,b,a.Ya)}).then(function(b){return Z(a)&&b.uid==Z(a).uid?(Z(a).copy(b),a.Ra(b)):(Ci(a,b),ei(b),a.Ra(b))}).then(function(){a.Da()})},Ci=function(a,b){Z(a)&&(ci(Z(a),a.Dd),gc(Z(a),"tokenChanged",a.Ed),gc(Z(a),"userDeleted",a.Cd)),b&&(b.cc.push(a.Dd),Yb(b,"tokenChanged",a.Ed),Yb(b,"userDeleted",a.Cd)),Q(a,"currentUser",b)};Y.prototype.signOut=function(){var a=this,b=this.ra.then(function(){return Z(a)?(Ci(a,null),Ai(a.va).then(function(){a.Da()})):J()});return this.c(b)};var Ii=function(a){var b=xi(a.Ya,X(a).options.authDomain).then(function(b){return(a.Kc=b)&&(b.Ga=a.Ya),ti(a.Ya)});return a.c(b)},Di=function(a){var b=X(a).options.authDomain,c=Ii(a).then(function(){return Bi(a.va,b)}).then(function(b){return b?(b.Ga=a.Ya,b.reload().then(function(){return b}).l(function(c){return"auth/network-request-failed"==c.code?b:Ai(a.va)})):null}).then(function(b){Ci(a,b||null)});return a.c(c)},Ei=function(a){return a.zb.then(function(){return a.getRedirectResult()}).l(function(){}).then(function(){if(!a.Na)return a.uc()}).l(function(){}).then(function(){if(!a.Na){a.yc=!0;var b=a.va;b.A.addListener(zi,b.B,a.uc)}})};Y.prototype.Ee=function(){var a=this;return Bi(this.va,X(this).options.authDomain).then(function(b){if(!a.Na){var c;if(c=Z(a)&&b){c=Z(a).uid;var d=b.uid;c=void 0!==c&&null!==c&&""!==c&&void 0!==d&&null!==d&&""!==d&&c==d}if(c)return Z(a).copy(b),Z(a).getToken();(Z(a)||b)&&(Ci(a,b),b&&(ei(b),b.Ga=a.Ya),a.m&&a.m.subscribe(a),a.Da())}})},Y.prototype.Ra=function(a){var b=this.va;return b.A.set(zi,a.G(),b.B)},Y.prototype.ie=function(){this.Da(),this.Ra(Z(this))},Y.prototype.he=function(){this.signOut()};var Ji=function(a,b){return a.c(b.then(function(b){return Hi(a,b)}).then(function(){return Z(a)}))};h=Y.prototype,h.me=function(a){var b=this;this.addAuthTokenListener(function(){a.next(Z(b))})},h.onAuthStateChanged=function(a,b,c){var d=this;return this.yc&&firebase.Promise.resolve().then(function(){p(a)?a(Z(d)):p(a.next)&&a.next(Z(d))}),this.ue(a,b,c)},h.getToken=function(a){var b=this,c=this.ra.then(function(){return Z(b)?Z(b).getToken(a).then(function(a){return{accessToken:a}}):null});return this.c(c)},h.signInWithCustomToken=function(a){var b=this;return this.ra.then(function(){return Ji(b,S(b.f,Hg,{token:a}))}).then(function(a){return ki(a,"isAnonymous",!1),b.Ra(a)}).then(function(){return Z(b)})},h.signInWithEmailAndPassword=function(a,b){var c=this;return this.ra.then(function(){return Ji(c,S(c.f,Vf,{email:a,password:b}))})},h.createUserWithEmailAndPassword=function(a,b){var c=this;return this.ra.then(function(){return Ji(c,S(c.f,Eg,{email:a,password:b}))})},h.signInWithCredential=function(a){var b=this;return this.ra.then(function(){return Ji(b,a.Gb(b.f))})},h.signInAnonymously=function(){var a=Z(this),b=this;return a&&a.isAnonymous?J(a):this.ra.then(function(){return Ji(b,b.f.signInAnonymously())}).then(function(a){return ki(a,"isAnonymous",!0),b.Ra(a)}).then(function(){return Z(b)})};var X=function(a){return a.app},Z=function(a){return a.currentUser};h=Y.prototype,h.Da=function(){if(this.yc)for(var a=0;a<this.La.length;a++)this.La[a]&&this.La[a](Z(this)&&Z(this)._lat||null)},h.addAuthTokenListener=function(a){var b=this;this.La.push(a),this.c(this.ra.then(function(){b.Na||Ia(b.La,a)&&a(Z(b)&&Z(b)._lat||null)}))},h.removeAuthTokenListener=function(a){La(this.La,function(b){return b==a})},h.delete=function(){this.Na=!0;for(var a=0;a<this.U.length;a++)this.U[a].cancel("app-deleted");return this.U=[],this.va&&(a=this.va,a.A.removeListener(zi,a.B,this.uc)),this.m&&this.m.unsubscribe(this),firebase.Promise.resolve()},h.c=function(a){var b=this;return this.U.push(a),wd(a,function(){Ka(b.U,a)}),a},h.fetchProvidersForEmail=function(a){return this.c(ng(this.f,a))},h.verifyPasswordResetCode=function(a){return this.checkActionCode(a).then(function(a){return a.data.email})},h.confirmPasswordReset=function(a,b){return this.c(this.f.confirmPasswordReset(a,b).then(function(){}))},h.checkActionCode=function(a){return this.c(this.f.checkActionCode(a).then(function(a){return{data:{email:a.email}}}))},h.applyActionCode=function(a){return this.c(this.f.applyActionCode(a).then(function(){}))},h.sendPasswordResetEmail=function(a){return this.c(this.f.sendPasswordResetEmail(a).then(function(){}))},uh(Y.prototype,{applyActionCode:{name:"applyActionCode",b:[U("code")]},checkActionCode:{name:"checkActionCode",b:[U("code")]},confirmPasswordReset:{name:"confirmPasswordReset",b:[U("code"),U("newPassword")]},createUserWithEmailAndPassword:{name:"createUserWithEmailAndPassword",b:[U("email"),U("password")]},fetchProvidersForEmail:{name:"fetchProvidersForEmail",b:[U("email")]},getRedirectResult:{name:"getRedirectResult",b:[]},onAuthStateChanged:{name:"onAuthStateChanged",b:[sh(nh(),oh(),"nextOrObserver"),oh("opt_error",!0),oh("opt_completed",!0)]},sendPasswordResetEmail:{name:"sendPasswordResetEmail",b:[U("email")]},signInAnonymously:{name:"signInAnonymously",b:[]},signInWithCredential:{name:"signInWithCredential",b:[qh()]},signInWithCustomToken:{name:"signInWithCustomToken",b:[U("token")]},signInWithEmailAndPassword:{name:"signInWithEmailAndPassword",b:[U("email"),U("password")]},signInWithPopup:{name:"signInWithPopup",b:[rh()]},signInWithRedirect:{name:"signInWithRedirect",b:[rh()]},signOut:{name:"signOut",b:[]},toJSON:{name:"toJSON",b:[U(null,!0)]},verifyPasswordResetCode:{name:"verifyPasswordResetCode",b:[U("code")]}}),uh(W.prototype,{delete:{name:"delete",b:[]},getToken:{name:"getToken",b:[{name:"opt_forceRefresh",ca:"a boolean",optional:!0,da:function(a){return"boolean"==typeof a}}]},link:{name:"link",b:[qh()]},linkWithPopup:{name:"linkWithPopup",b:[rh()]},linkWithRedirect:{name:"linkWithRedirect",b:[rh()]},reauthenticate:{name:"reauthenticate",b:[qh()]},reload:{name:"reload",b:[]},sendEmailVerification:{name:"sendEmailVerification",b:[]},toJSON:{name:"toJSON",b:[U(null,!0)]},unlink:{name:"unlink",b:[U("provider")]},updateEmail:{name:"updateEmail",b:[U("email")]},updatePassword:{name:"updatePassword",b:[U("password")]},updateProfile:{name:"updateProfile",b:[nh("profile")]}}),uh(I.prototype,{l:{name:"catch"},then:{name:"then"}}),V(Xf,"credential",function(a,b){return new Uf(a,b)},[U("email"),U("password")]),uh(Qf.prototype,{addScope:{name:"addScope",b:[U("scope")]}}),V(Qf,"credential",Qf.credential,[sh(U(),nh(),"token")]),uh(Rf.prototype,{addScope:{name:"addScope",b:[U("scope")]}}),V(Rf,"credential",Rf.credential,[sh(U(),nh(),"token")]),uh(Sf.prototype,{addScope:{name:"addScope",b:[U("scope")]}}),V(Sf,"credential",Sf.credential,[sh(U(),sh(nh(),ph()),"idToken"),sh(U(),ph(),"accessToken",!0)]),V(Tf,"credential",Tf.credential,[sh(U(),nh(),"token"),U("secret",!0)]),function(){if("undefined"==typeof firebase||!firebase.INTERNAL||!firebase.INTERNAL.registerService)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var a={Auth:Y,Error:R};V(a,"EmailAuthProvider",Xf,[]),V(a,"FacebookAuthProvider",Qf,[]),V(a,"GithubAuthProvider",Rf,[]),V(a,"GoogleAuthProvider",Sf,[]),V(a,"TwitterAuthProvider",Tf,[]),firebase.INTERNAL.registerService("auth",function(a,b){return a=new Y(a),b({INTERNAL:{getToken:r(a.getToken,a),addAuthTokenListener:r(a.addAuthTokenListener,a),removeAuthTokenListener:r(a.removeAuthTokenListener,a)}}),a},a,function(a,b){if("create"===a)try{b.auth()}catch(a){}}),firebase.INTERNAL.extendNamespace({User:W})}()}(),function(){function p(a){return void 0!==a}function aa(){}function ba(a){a.Wb=function(){return a.bf?a.bf:a.bf=new a}}function ca(a){var b=typeof a;if("object"==b){if(!a)return"null";if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function da(a){return"array"==ca(a)}function ea(a){var b=ca(a);return"array"==b||"object"==b&&"number"==typeof a.length}function q(a){return"string"==typeof a}function fa(a){return"number"==typeof a}function ga(a){return"function"==ca(a)}function ha(a){var b=typeof a;return"object"==b&&null!=a||"function"==b}function ia(a,b,c){return a.call.apply(a.bind,arguments)}function ja(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(c,d),a.apply(b,c)}}return function(){return a.apply(b,arguments)}}function r(a,b,c){return r=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ia:ja,r.apply(null,arguments)}function ka(a,b){function c(){}c.prototype=b.prototype,a.Ig=b.prototype,a.prototype=new c,a.prototype.constructor=a,a.Eg=function(a,c,d){for(var e=Array(arguments.length-2),f=2;f<arguments.length;f++)e[f-2]=arguments[f];return b.prototype[c].apply(a,e)}}function la(){this.Ya=-1}function ma(){this.Ya=-1,this.Ya=64,this.N=[],this.Wd=[],this.Jf=[],this.zd=[],this.zd[0]=128;for(var a=1;a<this.Ya;++a)this.zd[a]=0;this.Pd=this.ac=0,this.reset()}function na(a,b,c){c||(c=0);var d=a.Jf;if(q(b))for(var e=0;16>e;e++)d[e]=b.charCodeAt(c)<<24|b.charCodeAt(c+1)<<16|b.charCodeAt(c+2)<<8|b.charCodeAt(c+3),c+=4;else for(e=0;16>e;e++)d[e]=b[c]<<24|b[c+1]<<16|b[c+2]<<8|b[c+3],c+=4;for(e=16;80>e;e++){var f=d[e-3]^d[e-8]^d[e-14]^d[e-16];d[e]=4294967295&(f<<1|f>>>31)}b=a.N[0],c=a.N[1];for(var g,h=a.N[2],i=a.N[3],j=a.N[4],e=0;80>e;e++)40>e?20>e?(f=i^c&(h^i),g=1518500249):(f=c^h^i,g=1859775393):60>e?(f=c&h|i&(c|h),g=2400959708):(f=c^h^i,g=3395469782),f=(b<<5|b>>>27)+f+j+g+d[e]&4294967295,j=i,i=h,h=4294967295&(c<<30|c>>>2),c=b,b=f;a.N[0]=a.N[0]+b&4294967295,a.N[1]=a.N[1]+c&4294967295,a.N[2]=a.N[2]+h&4294967295,a.N[3]=a.N[3]+i&4294967295,a.N[4]=a.N[4]+j&4294967295}function t(a,b){for(var c in a)b.call(void 0,a[c],c,a)}function oa(a,b){var c,d={};for(c in a)d[c]=b.call(void 0,a[c],c,a);return d}function pa(a,b){for(var c in a)if(!b.call(void 0,a[c],c,a))return!1;return!0}function qa(a){var b,c=0;for(b in a)c++;return c}function ra(a){for(var b in a)return b}function sa(a){var b,c=[],d=0;for(b in a)c[d++]=a[b];return c}function ta(a){var b,c=[],d=0;for(b in a)c[d++]=b;return c}function ua(a,b){for(var c in a)if(a[c]==b)return!0;return!1}function va(a,b,c){for(var d in a)if(b.call(c,a[d],d,a))return d}function wa(a,b){var c=va(a,b,void 0);return c&&a[c]}function xa(a){for(var b in a)return!1;return!0}function ya(a){var b,c={};for(b in a)c[b]=a[b];return c}function za(a){if(a=String(a),/^\s*$/.test(a)?0:/^[\],:{}\s\u2028\u2029]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,"")))try{return eval("("+a+")")}catch(a){}throw Error("Invalid JSON string: "+a)}function Aa(){this.Fd=void 0}function Ba(a,b,c){switch(typeof b){case"string":Ca(b,c);break;case"number":c.push(isFinite(b)&&!isNaN(b)?b:"null");break;case"boolean":c.push(b);break;case"undefined":c.push("null");break;case"object":if(null==b){c.push("null");break}if(da(b)){var d=b.length;c.push("[");for(var e="",f=0;f<d;f++)c.push(e),e=b[f],Ba(a,a.Fd?a.Fd.call(b,String(f),e):e,c),e=",";c.push("]");break}c.push("{"),d="";for(f in b)Object.prototype.hasOwnProperty.call(b,f)&&(e=b[f],"function"!=typeof e&&(c.push(d),Ca(f,c),c.push(":"),Ba(a,a.Fd?a.Fd.call(b,f,e):e,c),d=","));c.push("}");break;case"function":break;default:throw Error("Unknown type: "+typeof b)}}function Ca(a,b){b.push('"',a.replace(Ea,function(a){if(a in Da)return Da[a];var b=a.charCodeAt(0),c="\\u";return 16>b?c+="000":256>b?c+="00":4096>b&&(c+="0"),Da[a]=c+b.toString(16)}),'"')}function Ha(a){if(Error.captureStackTrace)Error.captureStackTrace(this,Ha);else{var b=Error().stack;b&&(this.stack=b)}a&&(this.message=String(a))}function Oa(a,b){var c=Pa(a,b,void 0);return 0>c?null:q(a)?a.charAt(c):a[c]}function Pa(a,b,c){for(var d=a.length,e=q(a)?a.split(""):a,f=0;f<d;f++)if(f in e&&b.call(c,e[f],f,a))return f;return-1}function Qa(a,b){var c=Ia(a,b);0<=c&&w.splice.call(a,c,1)}function Ra(a,b,c){return 2>=arguments.length?w.slice.call(a,b):w.slice.call(a,b,c)}function Sa(a,b){a.sort(b||Ta)}function Ta(a,b){return a>b?1:a<b?-1:0}function ab(a,b){if(!ea(a))throw Error("encodeByteArray takes an array as a parameter");bb();for(var c=b?Za:Ya,d=[],e=0;e<a.length;e+=3){var f=a[e],g=e+1<a.length,h=g?a[e+1]:0,i=e+2<a.length,j=i?a[e+2]:0,k=f>>2,f=(3&f)<<4|h>>4,h=(15&h)<<2|j>>6,j=63&j;i||(j=64,g||(h=64)),d.push(c[k],c[f],c[h],c[j])}return d.join("")}function bb(){if(!Ya){Ya={},Za={},$a={};for(var a=0;65>a;a++)Ya[a]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(a),Za[a]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(a),$a[Za[a]]=a,62<=a&&($a["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(a)]=a)}}function cb(a){n.setTimeout(function(){throw a},0)}function eb(){var a=n.MessageChannel;if("undefined"==typeof a&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&-1==v.indexOf("Presto")&&(a=function(){var a=document.createElement("iframe");a.style.display="none",a.src="",document.documentElement.appendChild(a);var b=a.contentWindow,a=b.document;a.open(),a.write(""),a.close();var c="callImmediate"+Math.random(),d="file:"==b.location.protocol?"*":b.location.protocol+"//"+b.location.host,a=r(function(a){"*"!=d&&a.origin!=d||a.data!=c||this.port1.onmessage()},this);b.addEventListener("message",a,!1),this.port1={},this.port2={postMessage:function(){b.postMessage(c,d)}}}),"undefined"!=typeof a&&-1==v.indexOf("Trident")&&-1==v.indexOf("MSIE")){var b=new a,c={},d=c;return b.port1.onmessage=function(){if(p(c.next)){c=c.next;var a=c.Le;c.Le=null,a()}},function(a){d.next={Le:a},d=d.next,b.port2.postMessage(0)}}return"undefined"!=typeof document&&"onreadystatechange"in document.createElement("script")?function(a){var b=document.createElement("script");b.onreadystatechange=function(){b.onreadystatechange=null,b.parentNode.removeChild(b),b=null,a(),a=null},document.documentElement.appendChild(b)}:function(a){n.setTimeout(a,0)}}function fb(a,b){gb||hb(),ib||(gb(),ib=!0),jb.push(new kb(a,b))}function hb(){if(n.Promise&&n.Promise.resolve){var a=n.Promise.resolve();gb=function(){a.then(lb)}}else gb=function(){var a=lb;!ga(n.setImmediate)||n.Window&&n.Window.prototype&&n.Window.prototype.setImmediate==n.setImmediate?(db||(db=eb()),db(a)):n.setImmediate(a)}}function lb(){for(;jb.length;){var a=jb;jb=[];for(var b=0;b<a.length;b++){var c=a[b];try{c.Wf.call(c.scope)}catch(a){cb(a)}}}ib=!1}function kb(a,b){this.Wf=a,this.scope=b}function mb(a,b){if(this.L=nb,this.uf=void 0,this.Ca=this.Ha=null,this.jd=this.be=!1,a==ob)pb(this,qb,b);else try{var c=this;a.call(b,function(a){pb(c,qb,a)},function(a){if(!(a instanceof rb))try{if(a instanceof Error)throw a;throw Error("Promise rejected.")}catch(a){}pb(c,sb,a)})}catch(a){pb(this,sb,a)}}function ob(){}function ub(a,b){if(a.L==nb)if(a.Ha){var c=a.Ha;if(c.Ca){for(var d,e=0,f=-1,g=0;(d=c.Ca[g])&&!((d=d.m)&&(e++,d==a&&(f=g),0<=f&&1<e));g++);0<=f&&(c.L==nb&&1==e?ub(c,b):(e=c.Ca.splice(f,1)[0],vb(c,e,sb,b)))}a.Ha=null}else pb(a,sb,b)}function wb(a,b){a.Ca&&a.Ca.length||a.L!=qb&&a.L!=sb||xb(a),a.Ca||(a.Ca=[]),a.Ca.push(b)}function tb(a,b,c,d){var e={m:null,hf:null,kf:null};return e.m=new mb(function(a,f){e.hf=b?function(c){try{var e=b.call(d,c);a(e)}catch(a){f(a)}}:a,e.kf=c?function(b){try{var e=c.call(d,b);!p(e)&&b instanceof rb?f(b):a(e)}catch(a){f(a)}}:f}),e.m.Ha=a,wb(a,e),e.m}function pb(a,b,c){if(a.L==nb){if(a==c)b=sb,c=new TypeError("Promise cannot resolve to itself");else{var d;if(c)try{d=!!c.$goog_Thenable}catch(a){d=!1}else d=!1;if(d)return a.L=1,void c.then(a.Cf,a.Df,a);if(ha(c))try{var e=c.then;if(ga(e))return void yb(a,c,e)}catch(a){b=sb,c=a}}a.uf=c,a.L=b,a.Ha=null,xb(a),b!=sb||c instanceof rb||zb(a,c)}}function yb(a,b,c){function d(b){f||(f=!0,a.Df(b))}function e(b){f||(f=!0,a.Cf(b))}a.L=1;var f=!1;try{c.call(b,e,d)}catch(a){d(a)}}function xb(a){a.be||(a.be=!0,fb(a.Uf,a))}function vb(a,b,c,d){if(c==qb)b.hf(d);else{if(b.m)for(;a&&a.jd;a=a.Ha)a.jd=!1;b.kf(d)}}function zb(a,b){a.jd=!0,fb(function(){a.jd&&Ab.call(null,b)})}function rb(a){Ha.call(this,a)}function Bb(a,b){return Object.prototype.hasOwnProperty.call(a,b)}function x(a,b){if(Object.prototype.hasOwnProperty.call(a,b))return a[b]}function Cb(a,b){for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&b(c,a[c])}function y(a,b,c,d){var e;if(d<b?e="at least "+b:d>c&&(e=0===c?"none":"no more than "+c),e)throw Error(a+" failed: Was called with "+d+(1===d?" argument.":" arguments.")+" Expects "+e+".")}function Db(a,b,c){var d="";switch(b){case 1:d=c?"first":"First";break;case 2:d=c?"second":"Second";break;case 3:d=c?"third":"Third";break;case 4:d=c?"fourth":"Fourth";break;default:throw Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}return a=a+" failed: "+(d+" argument ")}function A(a,b,c,d){if((!d||p(c))&&!ga(c))throw Error(Db(a,b,d)+"must be a valid function.")}function Eb(a,b,c){if(p(c)&&(!ha(c)||null===c))throw Error(Db(a,b,!0)+"must be a valid context object.")}function Fb(a){var b=[];return Cb(a,function(a,c){da(c)?Ja(c,function(c){b.push(encodeURIComponent(a)+"="+encodeURIComponent(c))}):b.push(encodeURIComponent(a)+"="+encodeURIComponent(c))}),b.length?"&"+b.join("&"):""}function Hb(){var a=this;this.reject=this.resolve=null,this.ra=new Gb(function(b,c){a.resolve=b,a.reject=c})}function Ib(a,b){return function(c,d){c?a.reject(c):a.resolve(d),ga(b)&&(Jb(a.ra),1===b.length?b(c):b(c,d))}}function Jb(a){a.then(void 0,aa)}function Kb(a,b){if(!a)throw Lb(b)}function Lb(a){return Error("Firebase Database ("+firebase.SDK_VERSION+") INTERNAL ASSERT FAILED: "+a)}function Mb(a){for(var b=[],c=0,d=0;d<a.length;d++){var e=a.charCodeAt(d);55296<=e&&56319>=e&&(e-=55296,d++,Kb(d<a.length,"Surrogate pair missing trail surrogate."),e=65536+(e<<10)+(a.charCodeAt(d)-56320)),128>e?b[c++]=e:(2048>e?b[c++]=e>>6|192:(65536>e?b[c++]=e>>12|224:(b[c++]=e>>18|240,b[c++]=e>>12&63|128),b[c++]=e>>6&63|128),b[c++]=63&e|128)}return b}function Nb(a){for(var b=0,c=0;c<a.length;c++){var d=a.charCodeAt(c);128>d?b++:2048>d?b+=2:55296<=d&&56319>=d?(b+=4,c++):b+=3}return b}function Ob(a){return"undefined"!=typeof JSON&&p(JSON.parse)?JSON.parse(a):za(a)}function B(a){if("undefined"!=typeof JSON&&p(JSON.stringify))a=JSON.stringify(a);else{var b=[];Ba(new Aa,a,b),a=b.join("")}return a}function Pb(a,b){this.committed=a,this.snapshot=b}function Qb(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test("undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:"")}function Rb(a){this.te=a,this.Bd=[],this.Rb=0,this.Yd=-1,this.Gb=null}function Sb(a,b,c){a.Yd=b,a.Gb=c,a.Yd<a.Rb&&(a.Gb(),a.Gb=null)}function Tb(a,b,c){for(a.Bd[b]=c;a.Bd[a.Rb];){var d=a.Bd[a.Rb];delete a.Bd[a.Rb];for(var e=0;e<d.length;++e)if(d[e]){var f=a;Ub(function(){f.te(d[e])})}if(a.Rb===a.Yd){a.Gb&&(clearTimeout(a.Gb),a.Gb(),a.Gb=null);break}a.Rb++}}function Vb(){this.qc={}}function Wb(a){this.vc=a,this.Cd="firebase:"}function Xb(a){try{if("undefined"!=typeof window&&"undefined"!=typeof window[a]){var b=window[a];return b.setItem("firebase:sentinel","cache"),b.removeItem("firebase:sentinel"),new Wb(b)}}catch(a){}return new Vb}function $b(a,b,c){this.type=ac,this.source=a,this.path=b,this.Ja=c}function bc(a,b){this.type=cc,this.source=a,this.path=b}function dc(a){this.He=a}function ec(a,b){a.He.INTERNAL.addAuthTokenListener(b)}function fc(){this.Jd=F}function gc(a,b,c,d,e){this.host=a.toLowerCase(),this.domain=this.host.substr(this.host.indexOf(".")+1),this.Sc=b,this.pe=c,this.Cg=d,this.nf=e||"",this.bb=Yb.get("host:"+a)||this.host}function hc(a,b){b!==a.bb&&(a.bb=b,"s-"===a.bb.substr(0,2)&&Yb.set("host:"+a.host,a.bb))}function ic(a,b,c){if(H("string"==typeof b,"typeof type must == string"),H("object"==typeof c,"typeof params must == object"),"websocket"===b)b=(a.Sc?"wss://":"ws://")+a.bb+"/.ws?";else{if("long_polling"!==b)throw Error("Unknown connection type: "+b);b=(a.Sc?"https://":"http://")+a.bb+"/.lp?"}a.host!==a.bb&&(c.ns=a.pe);var d=[];return t(c,function(a,b){d.push(b+"="+a)}),b+d.join("&")}function jc(a,b){this.zf={},this.Vc=new kc(a),this.va=b;var c=1e4+2e4*Math.random();setTimeout(r(this.rf,this),Math.floor(c))}function lc(){this.uc={}}function mc(a,b,c){p(c)||(c=1),Bb(a.uc,b)||(a.uc[b]=0),a.uc[b]+=c}function kc(a){this.Nf=a,this.rd=null}function pc(a){return a=a.toString(),nc[a]||(nc[a]=new lc),nc[a]}function qc(a,b){var c=a.toString();return oc[c]||(oc[c]=b()),oc[c]}function rc(){this.wb=[]}function sc(a,b){for(var c=null,d=0;d<b.length;d++){var e=b[d],f=e.Zb();null===c||f.ca(c.Zb())||(a.wb.push(c),c=null),null===c&&(c=new tc(f)),c.add(e)}c&&a.wb.push(c)}function uc(a,b,c){sc(a,c),vc(a,function(a){return a.ca(b)})}function wc(a,b,c){sc(a,c),vc(a,function(a){return a.contains(b)||b.contains(a)})}function vc(a,b){for(var c=!0,d=0;d<a.wb.length;d++){var e=a.wb[d];if(e)if(e=e.Zb(),b(e)){for(var e=a.wb[d],f=0;f<e.hd.length;f++){var g=e.hd[f];if(null!==g){e.hd[f]=null;var h=g.Ub();xc&&E("event: "+g.toString()),Ub(h)}}a.wb[d]=null}else c=!1}c&&(a.wb=[])}function tc(a){this.qa=a,this.hd=[]}function yc(a,b,c,d){this.ae=b,this.Md=c,this.Dd=d,this.gd=a}function zc(a,b,c){this.ae=a,this.error=b,this.path=c}function Ac(){}function Cc(a,b,c){this.Gf=a,this.Na=b,this.yd=c}function I(a,b,c,d){this.type=a,this.Ma=b,this.Za=c,this.qe=d,this.Dd=void 0}function Gc(a){return new I(Hc,a)}function Ec(a,b,c){this.A=a,this.ea=b,this.Tb=c}function Ic(a){return a.ea}function Jc(a){return a.Tb}function Kc(a,b){return b.e()?a.ea&&!a.Tb:Dc(a,J(b))}function Dc(a,b){return a.ea&&!a.Tb||a.A.Fa(b)}function Lc(a,b){return Mc(a.name,b.name)}function Nc(a,b){return Mc(a,b)}function K(a,b){this.name=a,this.S=b}function Oc(a,b){return new K(a,b)}function Pc(a,b){return a&&"object"==typeof a?(H(".sv"in a,"Unexpected leaf node or priority contents"),b[a[".sv"]]):a}function Qc(a,b){var c=new Rc;return Sc(a,new L(""),function(a,d){Tc(c,a,Uc(d,b))}),c}function Uc(a,b){var c,d=a.C().H(),d=Pc(d,b);if(a.J()){var e=Pc(a.Ea(),b);return e!==a.Ea()||d!==a.C().H()?new Vc(e,M(d)):a}return c=a,d!==a.C().H()&&(c=c.ga(new Vc(d))),a.P(N,function(a,d){var e=Uc(d,b);e!==d&&(c=c.U(a,e))}),c}function Yc(a){try{var b;bb();for(var c=$a,d=[],e=0;e<a.length;){var f=c[a.charAt(e++)],g=e<a.length?c[a.charAt(e)]:0;++e;var h=e<a.length?c[a.charAt(e)]:64;++e;var i=e<a.length?c[a.charAt(e)]:64;if(++e,null==f||null==g||null==h||null==i)throw Error();d.push(f<<2|g>>4),64!=h&&(d.push(g<<4&240|h>>2),64!=i&&d.push(h<<6&192|i))}if(8192>d.length)b=String.fromCharCode.apply(null,d);else{for(a="",c=0;c<d.length;c+=8192)a+=String.fromCharCode.apply(null,Ra(d,c,c+8192));b=a}return b}catch(a){E("base64Decode failed: ",a)}return null}function Zc(a){var b=Mb(a);a=new ma,a.update(b);var b=[],c=8*a.Pd;56>a.ac?a.update(a.zd,56-a.ac):a.update(a.zd,a.Ya-(a.ac-56));for(var d=a.Ya-1;56<=d;d--)a.Wd[d]=255&c,c/=256;for(na(a,a.Wd),d=c=0;5>d;d++)for(var e=24;0<=e;e-=8)b[c]=a.N[d]>>e&255,++c;return ab(b)}function $c(a){for(var b="",c=0;c<arguments.length;c++)b=ea(arguments[c])?b+$c.apply(null,arguments[c]):"object"==typeof arguments[c]?b+B(arguments[c]):b+arguments[c],b+=" ";return b}function bd(a,b){Kb(!b||!0===a||!1===a,"Can't turn on custom loggers persistently."),!0===a?("undefined"!=typeof console&&("function"==typeof console.log?xc=r(console.log,console):"object"==typeof console.log&&(xc=function(a){console.log(a)})),b&&Zb.set("logging_enabled",!0)):ga(a)?xc=a:(xc=null,Zb.remove("logging_enabled"))}function E(a){if(!0===ad&&(ad=!1,null===xc&&!0===Zb.get("logging_enabled")&&bd(!0)),xc){var b=$c.apply(null,arguments);xc(b)}}function cd(a){return function(){E(a,arguments)}}function dd(a){if("undefined"!=typeof console){var b="FIREBASE INTERNAL ERROR: "+$c.apply(null,arguments);"undefined"!=typeof console.error?console.error(b):console.log(b)}}function ed(a){var b=$c.apply(null,arguments);throw Error("FIREBASE FATAL ERROR: "+b)}function O(a){if("undefined"!=typeof console){var b="FIREBASE WARNING: "+$c.apply(null,arguments);"undefined"!=typeof console.warn?console.warn(b):console.log(b)}}function fd(a){
var b,c,d,e,f,g=a;if(f=c=a=b="",d=!0,e="https",q(g)){var h=g.indexOf("//");for(0<=h&&(e=g.substring(0,h-1),g=g.substring(h+2)),h=g.indexOf("/"),-1===h&&(h=g.length),b=g.substring(0,h),f="",g=g.substring(h).split("/"),h=0;h<g.length;h++)if(0<g[h].length){var i=g[h];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(a){}f+="/"+i}g=b.split("."),3===g.length?(a=g[1],c=g[0].toLowerCase()):2===g.length&&(a=g[0]),h=b.indexOf(":"),0<=h&&(d="https"===e||"wss"===e)}return"firebase"===a&&ed(b+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),c&&"undefined"!=c||ed("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),d||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&O("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{kc:new gc(b,d,c,"ws"===e||"wss"===e),path:new L(f)}}function gd(a){return fa(a)&&(a!=a||a==Number.POSITIVE_INFINITY||a==Number.NEGATIVE_INFINITY)}function hd(a){if("complete"===document.readyState)a();else{var b=!1,c=function(){document.body?b||(b=!0,a()):setTimeout(c,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",c,!1),window.addEventListener("load",c,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&c()}),window.attachEvent("onload",c))}}function Mc(a,b){if(a===b)return 0;if("[MIN_NAME]"===a||"[MAX_NAME]"===b)return-1;if("[MIN_NAME]"===b||"[MAX_NAME]"===a)return 1;var c=id(a),d=id(b);return null!==c?null!==d?0==c-d?a.length-b.length:c-d:-1:null!==d?1:a<b?-1:1}function jd(a,b){if(b&&a in b)return b[a];throw Error("Missing required key ("+a+") in object: "+B(b))}function kd(a){if("object"!=typeof a||null===a)return B(a);var b,c=[];for(b in a)c.push(b);c.sort(),b="{";for(var d=0;d<c.length;d++)0!==d&&(b+=","),b+=B(c[d]),b+=":",b+=kd(a[c[d]]);return b+"}"}function ld(a,b){if(a.length<=b)return[a];for(var c=[],d=0;d<a.length;d+=b)d+b>a?c.push(a.substring(d,a.length)):c.push(a.substring(d,d+b));return c}function md(a,b){if(da(a))for(var c=0;c<a.length;++c)b(c,a[c]);else t(a,b)}function nd(a){H(!gd(a),"Invalid JSON number");var b,c,d,e;for(0===a?(d=c=0,b=-(1/0)===1/a?1:0):(b=0>a,a=Math.abs(a),a>=Math.pow(2,-1022)?(d=Math.min(Math.floor(Math.log(a)/Math.LN2),1023),c=d+1023,d=Math.round(a*Math.pow(2,52-d)-Math.pow(2,52))):(c=0,d=Math.round(a/Math.pow(2,-1074)))),e=[],a=52;a;--a)e.push(d%2?1:0),d=Math.floor(d/2);for(a=11;a;--a)e.push(c%2?1:0),c=Math.floor(c/2);for(e.push(b?1:0),e.reverse(),b=e.join(""),c="",a=0;64>a;a+=8)d=parseInt(b.substr(a,8),2).toString(16),1===d.length&&(d="0"+d),c+=d;return c.toLowerCase()}function id(a){return od.test(a)&&(a=Number(a),-2147483648<=a&&2147483647>=a)?a:null}function Ub(a){try{a()}catch(a){setTimeout(function(){throw O("Exception was thrown by user callback.",a.stack||""),a},Math.floor(0))}}function pd(a,b,c){Object.defineProperty(a,b,{get:c})}function qd(a){var b={},c={},d={},e="";try{var f=a.split("."),b=Ob(Yc(f[0])||""),c=Ob(Yc(f[1])||""),e=f[2],d=c.d||{};delete c.d}catch(a){}return{Fg:b,Me:c,data:d,xg:e}}function rd(a){a=qd(a);var b=a.Me;return!!a.xg&&!!b&&"object"==typeof b&&b.hasOwnProperty("iat")}function sd(a){return a=qd(a).Me,"object"==typeof a&&!0===x(a,"admin")}function vd(a,b,c,d){this.Zd=a,this.f=cd(this.Zd),this.frames=this.Ac=null,this.qb=this.rb=this.Fe=0,this.Xa=pc(b),a={v:"5"},"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(a.r="f"),c&&(a.s=c),d&&(a.ls=d),this.Ne=ic(b,"websocket",a)}function yd(a,b){if(a.frames.push(b),a.frames.length==a.Fe){var c=a.frames.join("");a.frames=null,c=Ob(c),a.hg(c)}}function xd(a){clearInterval(a.Ac),a.Ac=setInterval(function(){a.La&&zd(a,"0"),xd(a)},Math.floor(45e3))}function zd(a,b){try{a.La.send(b)}catch(b){a.f("Exception thrown from WebSocket.send():",b.message||b.data,"Closing connection."),setTimeout(r(a.fb,a),0)}}function Ad(a,b,c){this.f=cd("p:rest:"),this.M=a,this.Hb=b,this.Vd=c,this.$={}}function Bd(a,b){return p(b)?"tag$"+b:(H(Cd(a.n),"should have a tag if it's not a default query."),a.path.toString())}function Ed(a,b,c,d){c=c||{},c.format="export",a.Vd.getToken(!1).then(function(e){(e=e&&e.accessToken)&&(c.auth=e);var f=(a.M.Sc?"https://":"http://")+a.M.host+b+"?"+Fb(c);a.f("Sending REST request for "+f);var g=new XMLHttpRequest;g.onreadystatechange=function(){if(d&&4===g.readyState){a.f("REST Response for "+f+" received. status:",g.status,"response:",g.responseText);var b=null;if(200<=g.status&&300>g.status){try{b=Ob(g.responseText)}catch(a){O("Failed to parse JSON response for "+f+": "+g.responseText)}d(null,b)}else 401!==g.status&&404!==g.status&&O("Got unsuccessful REST response for "+f+" Status: "+g.status),d(g.status);d=null}},g.open("GET",f,!0),g.send()})}function Fd(a,b,c){this.type=Gd,this.source=a,this.path=b,this.children=c}function Hd(){this.hb={}}function Id(a,b){var c=b.type,d=b.Za;H("child_added"==c||"child_changed"==c||"child_removed"==c,"Only child changes supported for tracking"),H(".priority"!==d,"Only non-priority child changes can be tracked.");var e=x(a.hb,d);if(e){var f=e.type;if("child_added"==c&&"child_removed"==f)a.hb[d]=new I("child_changed",b.Ma,d,e.Ma);else if("child_removed"==c&&"child_added"==f)delete a.hb[d];else if("child_removed"==c&&"child_changed"==f)a.hb[d]=new I("child_removed",e.qe,d);else if("child_changed"==c&&"child_added"==f)a.hb[d]=new I("child_added",b.Ma,d);else{if("child_changed"!=c||"child_changed"!=f)throw Xc("Illegal combination of changes: "+b+" occurred after "+e);a.hb[d]=new I("child_changed",b.Ma,d,e.qe)}}else a.hb[d]=b}function Jd(a){this.W=a,this.g=a.n.g}function Kd(a,b,c,d){var e=[],f=[];return Ja(b,function(b){"child_changed"===b.type&&a.g.nd(b.qe,b.Ma)&&f.push(new I("child_moved",b.Ma,b.Za))}),Ld(a,e,"child_removed",b,d,c),Ld(a,e,"child_added",b,d,c),Ld(a,e,"child_moved",f,d,c),Ld(a,e,"child_changed",b,d,c),Ld(a,e,Hc,b,d,c),e}function Ld(a,b,c,d,e,f){d=Ka(d,function(a){return a.type===c}),Sa(d,r(a.Of,a)),Ja(d,function(c){var d=Md(a,c,f);Ja(e,function(e){e.tf(c.type)&&b.push(e.createEvent(d,a.W))})})}function Md(a,b,c){return"value"!==b.type&&"child_removed"!==b.type&&(b.Dd=c.Ze(b.Za,b.Ma,a.g)),b}function Nd(a,b){this.Sd=a,this.Mf=b}function Od(a){this.V=a}function Wd(a,b,c,d,e,f){var g=b.O;if(null!=d.mc(c))return b;var h;if(c.e())H(Ic(b.u()),"If change path is empty, we must have complete server data"),Jc(b.u())?(e=Fc(b),d=d.sc(e instanceof P?e:F)):d=d.Ba(Fc(b)),f=a.V.za(b.O.j(),d,f);else{var i=J(c);if(".priority"==i)H(1==Zd(c),"Can't have a priority with additional path components"),f=g.j(),h=b.u().j(),d=d.$c(c,f,h),f=null!=d?a.V.ga(f,d):g.j();else{var j=D(c);Dc(g,i)?(h=b.u().j(),d=d.$c(c,g.j(),h),d=null!=d?g.j().R(i).F(j,d):g.j().R(i)):d=d.rc(i,b.u()),f=null!=d?a.V.F(g.j(),i,d,j,e,f):g.j()}}return Ud(b,f,g.ea||c.e(),a.V.Qa())}function Qd(a,b,c,d,e,f,g,h){var i=b.u();if(g=g?a.V:a.V.Vb(),c.e())d=g.za(i.j(),d,null);else if(g.Qa()&&!i.Tb)d=i.j().F(c,d),d=g.za(i.j(),d,null);else{var j=J(c);if(!Kc(i,c)&&1<Zd(c))return b;var k=D(c);d=i.j().R(j).F(k,d),d=".priority"==j?g.ga(i.j(),d):g.F(i.j(),j,d,k,Bc,null)}return i=i.ea||c.e(),b=new Xd(b.O,new Ec(d,i,g.Qa())),Wd(a,b,c,e,new Cc(e,b,f),h)}function Pd(a,b,c,d,e,f,g){var h=b.O;if(e=new Cc(e,b,f),c.e())g=a.V.za(b.O.j(),d,g),a=Ud(b,g,!0,a.V.Qa());else if(f=J(c),".priority"===f)g=a.V.ga(b.O.j(),d),a=Ud(b,g,h.ea,h.Tb);else{c=D(c);var i=h.j().R(f);if(!c.e()){var j=e.Xe(f);d=null!=j?".priority"===$d(c)&&j.Q(c.parent()).e()?j:j.F(c,d):F}i.ca(d)?a=b:(g=a.V.F(h.j(),f,d,c,e,g),a=Ud(b,g,h.ea,a.V.Qa()))}return a}function Rd(a,b,c,d,e,f,g){var h=b;return ae(d,function(d,i){var j=c.m(d);Dc(b.O,J(j))&&(h=Pd(a,h,j,i,e,f,g))}),ae(d,function(d,i){var j=c.m(d);Dc(b.O,J(j))||(h=Pd(a,h,j,i,e,f,g))}),h}function be(a,b){return ae(b,function(b,c){a=a.F(b,c)}),a}function Sd(a,b,c,d,e,f,g,h){if(b.u().j().e()&&!Ic(b.u()))return b;var i=b;c=c.e()?d:ce(Q,c,d);var j=b.u().j();return c.children.ia(function(c,d){if(j.Fa(c)){var k=b.u().j().R(c),k=be(k,d);i=Qd(a,i,new L(c),k,e,f,g,h)}}),c.children.ia(function(c,d){var k=!Dc(b.u(),c)&&null==d.value;j.Fa(c)||k||(k=b.u().j().R(c),k=be(k,d),i=Qd(a,i,new L(c),k,e,f,g,h))}),i}function Vd(a,b,c,d,e,f,g){if(null!=e.mc(c))return b;var h=Jc(b.u()),i=b.u();if(null!=d.value){if(c.e()&&i.ea||Kc(i,c))return Qd(a,b,c,i.j().Q(c),e,f,h,g);if(c.e()){var j=Q;return i.j().P(de,function(a,b){j=j.set(new L(a),b)}),Sd(a,b,c,j,e,f,h,g)}return b}return j=Q,ae(d,function(a){var b=c.m(a);Kc(i,b)&&(j=j.set(a,i.j().Q(b)))}),Sd(a,b,c,j,e,f,h,g)}function ee(a){this.g=a}function fe(a){this.he=new ee(a.g),this.g=a.g;var b;a.ka?(b=ge(a),b=a.g.Fc(he(a),b)):b=a.g.Ic(),this.Uc=b,a.na?(b=ie(a),a=a.g.Fc(je(a),b)):a=a.g.Gc(),this.wc=a}function ke(a){this.sa=new fe(a),this.g=a.g,H(a.xa,"Only valid if limit has been set"),this.oa=a.oa,this.Jb=!le(a)}function me(a,b,c,d,e,f){var g;if(a.Jb){var h=ne(a.g);g=function(a,b){return h(b,a)}}else g=ne(a.g);H(b.Fb()==a.oa,"");var i=new K(c,d),j=a.Jb?oe(b,a.g):pe(b,a.g),k=a.sa.matches(i);if(b.Fa(c)){for(var l=b.R(c),j=e.fe(a.g,j,a.Jb);null!=j&&(j.name==c||b.Fa(j.name));)j=e.fe(a.g,j,a.Jb);return e=null==j?1:g(j,i),k&&!d.e()&&0<=e?(null!=f&&Id(f,new I("child_changed",d,c,l)),b.U(c,d)):(null!=f&&Id(f,new I("child_removed",l,c)),b=b.U(c,F),null!=j&&a.sa.matches(j)?(null!=f&&Id(f,new I("child_added",j.S,j.name)),b.U(j.name,j.S)):b)}return d.e()?b:k&&0<=g(j,i)?(null!=f&&(Id(f,new I("child_removed",j.S,j.name)),Id(f,new I("child_added",d,c))),b.U(c,d).U(j.name,F)):b}function Vc(a,b){this.B=a,H(p(this.B)&&null!==this.B,"LeafNode shouldn't be created with null/undefined value."),this.aa=b||F,qe(this.aa),this.Eb=null}function te(){}function ne(a){return r(a.compare,a)}function we(a){H(!a.e()&&".priority"!==J(a),"Can't create PathIndex with empty path or .priority key"),this.cc=a}function ye(){}function ze(){}function Ae(){}function De(){this.Sb=this.na=this.Lb=this.ka=this.xa=!1,this.oa=0,this.oc="",this.ec=null,this.Ab="",this.bc=null,this.yb="",this.g=N}function le(a){return""===a.oc?a.ka:"l"===a.oc}function he(a){return H(a.ka,"Only valid if start has been set"),a.ec}function ge(a){return H(a.ka,"Only valid if start has been set"),a.Lb?a.Ab:"[MIN_NAME]"}function je(a){return H(a.na,"Only valid if end has been set"),a.bc}function ie(a){return H(a.na,"Only valid if end has been set"),a.Sb?a.yb:"[MAX_NAME]"}function Fe(a){var b=new De;return b.xa=a.xa,b.oa=a.oa,b.ka=a.ka,b.ec=a.ec,b.Lb=a.Lb,b.Ab=a.Ab,b.na=a.na,b.bc=a.bc,b.Sb=a.Sb,b.yb=a.yb,b.g=a.g,b}function Ge(a,b){var c=Fe(a);return c.g=b,c}function He(a){var b={};if(a.ka&&(b.sp=a.ec,a.Lb&&(b.sn=a.Ab)),a.na&&(b.ep=a.bc,a.Sb&&(b.en=a.yb)),a.xa){b.l=a.oa;var c=a.oc;""===c&&(c=le(a)?"l":"r"),b.vf=c}return a.g!==N&&(b.i=a.g.toString()),b}function S(a){return!(a.ka||a.na||a.xa)}function Cd(a){return S(a)&&a.g==N}function Dd(a){var b={};if(Cd(a))return b;var c;return a.g===N?c="$priority":a.g===Ce?c="$value":a.g===de?c="$key":(H(a.g instanceof we,"Unrecognized index type!"),c=a.g.toString()),b.orderBy=B(c),a.ka&&(b.startAt=B(a.ec),a.Lb&&(b.startAt+=","+B(a.Ab))),a.na&&(b.endAt=B(a.bc),a.Sb&&(b.endAt+=","+B(a.yb))),a.xa&&(le(a)?b.limitToFirst=a.oa:b.limitToLast=a.oa),b}function Ie(a,b){this.od=a,this.dc=b}function Je(a,b,c){var d=oa(a.od,function(d,e){var f=x(a.dc,e);if(H(f,"Missing index implementation for "+e),d===ue){if(f.yc(b.S)){for(var g=[],h=c.Xb(Oc),i=R(h);i;)i.name!=b.name&&g.push(i),i=R(h);return g.push(b),Ke(g,ne(f))}return ue}return f=c.get(b.name),g=d,f&&(g=g.remove(new K(b.name,f))),g.Ra(b,b.S)});return new Ie(d,a.dc)}function Le(a,b,c){var d=oa(a.od,function(a){if(a===ue)return a;var d=c.get(b.name);return d?a.remove(new K(b.name,d)):a});return new Ie(d,a.dc)}function Ne(){this.set={}}function Oe(a,b){t(a.set,function(a,c){b(c,a)})}function Pe(a,b,c,d){this.Zd=a,this.f=cd(a),this.kc=b,this.qb=this.rb=0,this.Xa=pc(b),this.Bf=c,this.xc=!1,this.Db=d,this.Yc=function(a){return ic(b,"long_polling",a)}}function Te(a,b){var c=B(b).length;a.qb+=c,mc(a.Xa,"bytes_received",c)}function Se(a,b,c,d){if(this.Yc=d,this.kb=c,this.ve=new Ne,this.Qc=[],this.$d=Math.floor(1e8*Math.random()),this.Kd=!0,this.Qd=Wc(),window["pLPCommand"+this.Qd]=a,window["pRTLPCB"+this.Qd]=b,a=document.createElement("iframe"),a.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(a);try{a.contentWindow.document||E("No IE domain setting required")}catch(b){a.src="javascript:void((function(){document.open();document.domain='"+document.domain+"';document.close();})())"}a.contentDocument?a.ib=a.contentDocument:a.contentWindow?a.ib=a.contentWindow.document:a.document&&(a.ib=a.document),this.Ga=a,a="",this.Ga.src&&"javascript:"===this.Ga.src.substr(0,11)&&(a='<script>document.domain="'+document.domain+'";</script>'),a="<html><body>"+a+"</body></html>";try{this.Ga.ib.open(),this.Ga.ib.write(a),this.Ga.ib.close()}catch(a){E("frame writing exception"),a.stack&&E(a.stack),E(a)}}function Ve(a){if(a.Ud&&a.Kd&&a.ve.count()<(0<a.Qc.length?2:1)){a.$d++;var b={};b.id=a.fg,b.pw=a.gg,b.ser=a.$d;for(var b=a.Yc(b),c="",d=0;0<a.Qc.length&&1870>=a.Qc[0].Se.length+30+c.length;){var e=a.Qc.shift(),c=c+"&seg"+d+"="+e.ug+"&ts"+d+"="+e.Bg+"&d"+d+"="+e.Se;d++}return We(a,b+c,a.$d),!0}return!1}function We(a,b,c){function d(){a.ve.remove(c),Ve(a)}a.ve.add(c,1);var e=setTimeout(d,Math.floor(25e3));Ue(a,b,function(){clearTimeout(e),d()})}function Ue(a,b,c){setTimeout(function(){try{if(a.Kd){var d=a.Ga.ib.createElement("script");d.type="text/javascript",d.async=!0,d.src=b,d.onload=d.onreadystatechange=function(){var a=d.readyState;a&&"loaded"!==a&&"complete"!==a||(d.onload=d.onreadystatechange=null,d.parentNode&&d.parentNode.removeChild(d),c())},d.onerror=function(){E("Long-poll script failed to load: "+b),a.Kd=!1,a.close()},a.Ga.ib.body.appendChild(d)}}catch(a){}},Math.floor(1))}function Xe(a){Ye(this,a)}function Ye(a,b){var c=vd&&vd.isAvailable(),d=c&&!(Yb.cf||!0===Yb.get("previous_websocket_failure"));if(b.Cg&&(c||O("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),d=!0),d)a.Wc=[vd];else{var e=a.Wc=[];md(Ze,function(a,b){b&&b.isAvailable()&&e.push(b)})}}function $e(a){if(0<a.Wc.length)return a.Wc[0];throw Error("No transports available")}function af(a,b,c,d,e,f,g){this.id=a,this.f=cd("c:"+this.id+":"),this.te=c,this.Mc=d,this.ja=e,this.se=f,this.M=b,this.Ad=[],this.Oe=0,this.Af=new Xe(b),this.L=0,this.Db=g,this.f("Connection created"),bf(this)}function bf(a){var b=$e(a.Af);a.I=new b("c:"+a.id+":"+a.Oe++,a.M,void 0,a.Db),a.xe=b.responsesRequiredToBeHealthy||0;var c=cf(a,a.I),d=df(a,a.I);a.Xc=a.I,a.Rc=a.I,a.D=null,a.Cb=!1,setTimeout(function(){a.I&&a.I.open(c,d)},Math.floor(0)),b=b.healthyTimeout||0,0<b&&(a.md=setTimeout(function(){a.md=null,a.Cb||(a.I&&102400<a.I.qb?(a.f("Connection exceeded healthy timeout but has received "+a.I.qb+" bytes.  Marking connection healthy."),a.Cb=!0,a.I.sd()):a.I&&10240<a.I.rb?a.f("Connection exceeded healthy timeout but has sent "+a.I.rb+" bytes.  Leaving connection alive."):(a.f("Closing unhealthy connection after timeout."),a.close()))},Math.floor(b)))}function df(a,b){return function(c){b===a.I?(a.I=null,c||0!==a.L?1===a.L&&a.f("Realtime connection lost."):(a.f("Realtime connection failed."),"s-"===a.M.bb.substr(0,2)&&(Yb.remove("host:"+a.M.host),a.M.bb=a.M.host)),a.close()):b===a.D?(a.f("Secondary connection lost."),c=a.D,a.D=null,a.Xc!==c&&a.Rc!==c||a.close()):a.f("closing an old connection")}}function cf(a,b){return function(c){if(2!=a.L)if(b===a.Rc){var d=jd("t",c);if(c=jd("d",c),"c"==d){if(d=jd("t",c),"d"in c)if(c=c.d,"h"===d){var d=c.ts,e=c.v,f=c.h;a.yf=c.s,hc(a.M,f),0==a.L&&(a.I.start(),ef(a,a.I,d),"5"!==e&&O("Protocol version mismatch detected"),c=a.Af,(c=1<c.Wc.length?c.Wc[1]:null)&&ff(a,c))}else if("n"===d){for(a.f("recvd end transmission on primary"),a.Rc=a.D,c=0;c<a.Ad.length;++c)a.wd(a.Ad[c]);a.Ad=[],gf(a)}else"s"===d?(a.f("Connection shutdown command received. Shutting down..."),a.se&&(a.se(c),a.se=null),a.ja=null,a.close()):"r"===d?(a.f("Reset packet received.  New host: "+c),hc(a.M,c),1===a.L?a.close():(hf(a),bf(a))):"e"===d?dd("Server Error: "+c):"o"===d?(a.f("got pong on primary."),jf(a),kf(a)):dd("Unknown control packet command: "+d)}else"d"==d&&a.wd(c)}else if(b===a.D)if(d=jd("t",c),c=jd("d",c),"c"==d)"t"in c&&(c=c.t,"a"===c?lf(a):"r"===c?(a.f("Got a reset on secondary, closing it"),a.D.close(),a.Xc!==a.D&&a.Rc!==a.D||a.close()):"o"===c&&(a.f("got pong on secondary."),a.xf--,lf(a)));else{if("d"!=d)throw Error("Unknown protocol layer: "+d);a.Ad.push(c)}else a.f("message on old connection")}}function gf(a){a.Xc===a.D&&a.Rc===a.D&&(a.f("cleaning up and promoting a connection: "+a.D.Zd),a.I=a.D,a.D=null)}function lf(a){0>=a.xf?(a.f("Secondary connection is healthy."),a.Cb=!0,a.D.sd(),a.D.start(),a.f("sending client ack on secondary"),a.D.send({t:"c",d:{t:"a",d:{}}}),a.f("Ending transmission on primary"),a.I.send({t:"c",d:{t:"n",d:{}}}),a.Xc=a.D,gf(a)):(a.f("sending ping on secondary."),a.D.send({t:"c",d:{t:"p",d:{}}}))}function jf(a){a.Cb||(a.xe--,0>=a.xe&&(a.f("Primary connection is healthy."),a.Cb=!0,a.I.sd()))}function ff(a,b){a.D=new b("c:"+a.id+":"+a.Oe++,a.M,a.yf),a.xf=b.responsesRequiredToBeHealthy||0,a.D.open(cf(a,a.D),df(a,a.D)),setTimeout(function(){a.D&&(a.f("Timed out trying to upgrade."),a.D.close())},Math.floor(6e4))}function ef(a,b,c){a.f("Realtime connection established."),a.I=b,a.L=1,a.Mc&&(a.Mc(c,a.yf),a.Mc=null),0===a.xe?(a.f("Primary connection is healthy."),a.Cb=!0):setTimeout(function(){kf(a)},Math.floor(5e3))}function kf(a){a.Cb||1!==a.L||(a.f("sending ping on primary."),mf(a,{t:"c",d:{t:"p",d:{}}}))}function mf(a,b){if(1!==a.L)throw"Connection is not connected";a.Xc.send(b)}function hf(a){a.f("Shutting down all connections"),a.I&&(a.I.close(),a.I=null),a.D&&(a.D.close(),a.D=null),a.md&&(clearTimeout(a.md),a.md=null)}function L(a,b){if(1==arguments.length){this.o=a.split("/");for(var c=0,d=0;d<this.o.length;d++)0<this.o[d].length&&(this.o[c]=this.o[d],c++);this.o.length=c,this.Z=0}else this.o=a,this.Z=b}function T(a,b){var c=J(a);if(null===c)return b;if(c===J(b))return T(D(a),D(b));throw Error("INTERNAL ERROR: innerPath ("+b+") is not within outerPath ("+a+")")}function nf(a,b){for(var c=a.slice(),d=b.slice(),e=0;e<c.length&&e<d.length;e++){var f=Mc(c[e],d[e]);if(0!==f)return f}return c.length===d.length?0:c.length<d.length?-1:1}function J(a){return a.Z>=a.o.length?null:a.o[a.Z]}function Zd(a){return a.o.length-a.Z}function D(a){var b=a.Z;return b<a.o.length&&b++,new L(a.o,b)}function $d(a){return a.Z<a.o.length?a.o[a.o.length-1]:null}function of(a,b){this.Ta=a.slice(),this.Ka=Math.max(1,this.Ta.length),this.Te=b;for(var c=0;c<this.Ta.length;c++)this.Ka+=Nb(this.Ta[c]);pf(this)}function pf(a){if(768<a.Ka)throw Error(a.Te+"has a key path longer than 768 bytes ("+a.Ka+").");if(32<a.Ta.length)throw Error(a.Te+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+qf(a))}function qf(a){return 0==a.Ta.length?"":"in property '"+a.Ta.join(".")+"'"}function rf(a){a instanceof sf||ed("Don't call new Database() directly - please use firebase.database()."),this.ta=a,this.ba=new U(a,C),this.INTERNAL=new tf(this)}function vf(a,b){null===a.ta&&ed("Cannot call "+b+" on a deleted database.")}function tf(a){this.$a=a}function Rc(){this.k=this.B=null}function Tc(a,b,c){if(b.e())a.B=c,a.k=null;else if(null!==a.B)a.B=a.B.F(b,c);else{null==a.k&&(a.k=new Ne);var d=J(b);a.k.contains(d)||a.k.add(d,new Rc),a=a.k.get(d),b=D(b),Tc(a,b,c)}}function yf(a,b){if(b.e())return a.B=null,a.k=null,!0;if(null!==a.B){if(a.B.J())return!1;var c=a.B;return a.B=null,c.P(N,function(b,c){Tc(a,new L(b),c)}),yf(a,b)}return null===a.k||(c=J(b),b=D(b),a.k.contains(c)&&yf(a.k.get(c),b)&&a.k.remove(c),!!a.k.e()&&(a.k=null,!0))}function Sc(a,b,c){null!==a.B?c(b,a.B):a.P(function(a,d){var e=new L(b.toString()+"/"+a);Sc(d,e,c)})}function Bf(a){return q(a)&&0!==a.length&&!zf.test(a)}function Cf(a){return null===a||q(a)||fa(a)&&!gd(a)||ha(a)&&Bb(a,".sv")}function Df(a,b,c,d){d&&!p(b)||Ef(Db(a,1,d),b,c)}function Ef(a,b,c){if(c instanceof L&&(c=new of(c,a)),!p(b))throw Error(a+"contains undefined "+qf(c));if(ga(b))throw Error(a+"contains a function "+qf(c)+" with contents: "+b.toString());if(gd(b))throw Error(a+"contains "+b.toString()+" "+qf(c));if(q(b)&&b.length>10485760/3&&10485760<Nb(b))throw Error(a+"contains a string greater than 10485760 utf8 bytes "+qf(c)+" ('"+b.substring(0,50)+"...')");if(ha(b)){var d=!1,e=!1;if(Cb(b,function(b,f){if(".value"===b)d=!0;else if(".priority"!==b&&".sv"!==b&&(e=!0,!Bf(b)))throw Error(a+" contains an invalid key ("+b+") "+qf(c)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');c.push(b),Ef(a,f,c),c.pop()}),d&&e)throw Error(a+' contains ".value" child '+qf(c)+" in addition to actual children.")}}function Ff(a,b){var c,d;for(c=0;c<b.length;c++){d=b[c];for(var e=d.slice(),f=0;f<e.length;f++)if((".priority"!==e[f]||f!==e.length-1)&&!Bf(e[f]))throw Error(a+"contains an invalid key ("+e[f]+") in path "+d.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}for(b.sort(nf),e=null,c=0;c<b.length;c++){if(d=b[c],null!==e&&e.contains(d))throw Error(a+"contains a path "+e.toString()+" that is ancestor of another path "+d.toString());e=d}}function Gf(a,b,c){var d=Db(a,1,!1);if(!ha(b)||da(b))throw Error(d+" must be an object containing the children to replace.");var e=[];Cb(b,function(a,b){var f=new L(a);if(Ef(d,b,c.m(f)),".priority"===$d(f)&&!Cf(b))throw Error(d+"contains an invalid value for '"+f.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");e.push(f)}),Ff(d,e)}function Hf(a,b,c){if(gd(c))throw Error(Db(a,b,!1)+"is "+c.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Cf(c))throw Error(Db(a,b,!1)+"must be a valid Firebase priority (a string, finite number, server value, or null).")}function If(a,b,c){if(!c||p(b))switch(b){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw Error(Db(a,1,c)+'must be a valid event type: "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}function Jf(a,b){if(p(b)&&!Bf(b))throw Error(Db(a,2,!0)+'was an invalid key: "'+b+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')}function Kf(a,b){if(!q(b)||0===b.length||Af.test(b))throw Error(Db(a,1,!1)+'was an invalid path: "'+b+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')}function Lf(a,b){if(".info"===J(b))throw Error(a+" failed: Can't modify data under /.info/")}function wf(a,b){var c,d=b.path.toString();if(!(c=!q(b.kc.host)||0===b.kc.host.length||!Bf(b.kc.pe))&&(c=0!==d.length)&&(d&&(d=d.replace(/^\/*\.info(\/|$)/,"/")),c=!(q(d)&&0!==d.length&&!Af.test(d))),c)throw Error(Db(a,1,!1)+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')}function V(a,b){this.ta=a,this.qa=b}function Pf(a){H(da(a)&&0<a.length,"Requires a non-empty array"),this.Kf=a,this.Ec={}}function Qf(a,b){H(Oa(a.Kf,function(a){return a===b}),"Unknown event: "+b)}function Rf(){if(Pf.call(this,["online"]),this.ic=!0,"undefined"!=typeof window&&"undefined"!=typeof window.addEventListener&&!Qb()){var a=this;window.addEventListener("online",function(){a.ic||(a.ic=!0,a.Ge("online",!0))},!1),window.addEventListener("offline",function(){a.ic&&(a.ic=!1,a.Ge("online",!1))},!1)}}function Sf(){Pf.call(this,["visible"]);var a,b;if("undefined"!=typeof document&&"undefined"!=typeof document.addEventListener&&("undefined"!=typeof document.hidden?(b="visibilitychange",a="hidden"):"undefined"!=typeof document.mozHidden?(b="mozvisibilitychange",a="mozHidden"):"undefined"!=typeof document.msHidden?(b="msvisibilitychange",a="msHidden"):"undefined"!=typeof document.webkitHidden&&(b="webkitvisibilitychange",a="webkitHidden")),this.Nb=!0,b){var c=this;document.addEventListener(b,function(){var b=!document[a];b!==c.Nb&&(c.Nb=b,c.Ge("visible",b))},!1)}}function Uf(a,b){this.Oa=a,this.ba=b?b:Vf}function Wf(a,b){for(var c,d=a.ba,e=null;!d.e();){if(c=a.Oa(b,d.key),0===c){if(d.left.e())return e?e.key:null;for(d=d.left;!d.right.e();)d=d.right;return d.key}0>c?d=d.left:0<c&&(e=d,d=d.right)}throw Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}function Xf(a,b,c,d,e){for(this.Hd=e||null,this.le=d,this.Sa=[],e=1;!a.e();)if(e=b?c(a.key,b):1,d&&(e*=-1),0>e)a=this.le?a.left:a.right;else{if(0===e){this.Sa.push(a);break}this.Sa.push(a),a=this.le?a.right:a.left}}function R(a){if(0===a.Sa.length)return null;var b,c=a.Sa.pop();if(b=a.Hd?a.Hd(c.key,c.value):{key:c.key,value:c.value},a.le)for(c=c.left;!c.e();)a.Sa.push(c),c=c.right;else for(c=c.right;!c.e();)a.Sa.push(c),c=c.left;return b}function Yf(a){if(0===a.Sa.length)return null;var b;return b=a.Sa,b=b[b.length-1],a.Hd?a.Hd(b.key,b.value):{key:b.key,value:b.value}}function Zf(a,b,c,d,e){this.key=a,this.value=b,this.color=null==c||c,this.left=null!=d?d:Vf,this.right=null!=e?e:Vf}function $f(a){return a.left.e()?a:$f(a.left)}function bg(a){return a.left.e()?Vf:(a.left.fa()||a.left.left.fa()||(a=cg(a)),a=a.Y(null,null,null,bg(a.left),null),ag(a))}function ag(a){return a.right.fa()&&!a.left.fa()&&(a=fg(a)),a.left.fa()&&a.left.left.fa()&&(a=dg(a)),a.left.fa()&&a.right.fa()&&(a=eg(a)),a}function cg(a){return a=eg(a),a.right.left.fa()&&(a=a.Y(null,null,null,null,dg(a.right)),a=fg(a),a=eg(a)),a}function fg(a){return a.right.Y(null,null,a.color,a.Y(null,null,!0,null,a.right.left),null)}function dg(a){return a.left.Y(null,null,a.color,null,a.Y(null,null,!0,a.left.right,null))}function eg(a){return a.Y(null,null,!a.color,a.left.Y(null,null,!a.left.color,null,null),a.right.Y(null,null,!a.right.color,null,null))}function gg(){}function P(a,b,c){this.k=a,(this.aa=b)&&qe(this.aa),a.e()&&H(!this.aa||this.aa.e(),"An empty node cannot have a priority"),this.zb=c,this.Eb=null}function oe(a,b){var c;return c=(c=ig(a,b))?(c=c.Hc())&&c.name:a.k.Hc(),c?new K(c,a.k.get(c)):null}function pe(a,b){var c;return c=(c=ig(a,b))?(c=c.fc())&&c.name:a.k.fc(),c?new K(c,a.k.get(c)):null}function ig(a,b){return b===de?null:a.zb.get(b.toString())}function M(a,b){if(null===a)return F;var c=null;if("object"==typeof a&&".priority"in a?c=a[".priority"]:"undefined"!=typeof b&&(c=b),H(null===c||"string"==typeof c||"number"==typeof c||"object"==typeof c&&".sv"in c,"Invalid priority type found: "+typeof c),"object"==typeof a&&".value"in a&&null!==a[".value"]&&(a=a[".value"]),"object"!=typeof a||".sv"in a)return new Vc(a,M(c));if(a instanceof Array){var d=F,e=a;return t(e,function(a,b){if(Bb(e,b)&&"."!==b.substring(0,1)){var c=M(a);!c.J()&&c.e()||(d=d.U(b,c))}}),d.ga(M(c))}var f=[],g=!1,h=a;if(Cb(h,function(a){if("string"!=typeof a||"."!==a.substring(0,1)){var b=M(h[a]);b.e()||(g=g||!b.C().e(),f.push(new K(a,b)))}}),0==f.length)return F;var i=Ke(f,Lc,function(a){return a.name},Nc);if(g){var j=Ke(f,ne(N));return new P(i,M(c),new Ie({".priority":j},{".priority":N}))}return new P(i,M(c),Me)}function kg(a){this.count=parseInt(Math.log(a+1)/jg,10),this.Re=this.count-1,this.Lf=a+1&parseInt(Array(this.count+1).join("1"),2)}function lg(a){var b=!(a.Lf&1<<a.Re);return a.Re--,b}function Ke(a,b,c,d){function e(b,d){var f=d-b;if(0==f)return null;if(1==f){var g=a[b],h=c?c(g):g;return new Zf(h,g.S,!1,null,null)}var g=parseInt(f/2,10)+b,f=e(b,g),i=e(g+1,d),g=a[g],h=c?c(g):g;return new Zf(h,g.S,!1,f,i)}a.sort(b);var f=function(b){function d(b,d){var i=h-b,j=h;h-=b;var j=e(i+1,j),i=a[i],k=c?c(i):i,j=new Zf(k,i.S,d,null,j);f?f.left=j:g=j,f=j}for(var f=null,g=null,h=a.length,i=0;i<b.count;++i){var j=lg(b),k=Math.pow(2,b.count-(i+1));j?d(k,!1):(d(k,!1),d(k,!0))}return g}(new kg(a.length));return null!==f?new Uf(d||b,f):new Uf(d||b)}function se(a){return"number"==typeof a?"number:"+nd(a):"string:"+a}function qe(a){if(a.J()){var b=a.H();H("string"==typeof b||"number"==typeof b||"object"==typeof b&&Bb(b,".sv"),"Priority must be a string or number.")}else H(a===xe||a.e(),"priority of unexpected type.");H(a===xe||a.C().e(),"Priority nodes can't have a priority of their own.")}function mg(){P.call(this,new Uf(Nc),F,Me)}function W(a,b,c){this.A=a,this.W=b,this.g=c}function Xd(a,b){this.O=a,this.Ld=b}function Ud(a,b,c,d){return new Xd(new Ec(b,c,d),a.Ld)}function Yd(a){return a.O.ea?a.O.j():null}function Fc(a){return a.Ld.ea?a.Ld.j():null}function ng(a,b){this.W=a;var c=a.n,d=new ee(c.g),c=S(c)?new ee(c.g):c.xa?new ke(c):new fe(c);this.of=new Od(c);var e=b.u(),f=b.O,g=d.za(F,e.j(),null),h=c.za(F,f.j(),null);this.Na=new Xd(new Ec(h,f.ea,c.Qa()),new Ec(g,e.ea,d.Qa())),this.ab=[],this.Sf=new Jd(a)}function og(a){return a.W}function qg(a,b){var c=a.Na.O,d=[];return c.j().J()||c.j().P(N,function(a,b){d.push(new I("child_added",b,a))}),c.ea&&d.push(Gc(c.j())),pg(a,d,c.j(),b)}function pg(a,b,c,d){return Kd(a.Sf,b,c,d?[d]:a.ab)}function rg(a,b,c){this.Qb=a,this.sb=b,this.ub=c||null}function sg(a,b,c){this.ha=a,this.sb=b,this.ub=c}function X(a,b,c,d){this.w=a,this.path=b,this.n=c,this.Oc=d}function tg(a){var b=null,c=null;if(a.ka&&(b=he(a)),a.na&&(c=je(a)),a.g===de){if(a.ka){if("[MIN_NAME]"!=ge(a))throw Error("Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().");if("string"!=typeof b)throw Error("Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.")}if(a.na){if("[MAX_NAME]"!=ie(a))throw Error("Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().");if("string"!=typeof c)throw Error("Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.")}}else if(a.g===N){if(null!=b&&!Cf(b)||null!=c&&!Cf(c))throw Error("Query: When ordering by priority, the first argument passed to startAt(), endAt(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(H(a.g instanceof we||a.g===Ce,"unknown index type."),null!=b&&"object"==typeof b||null!=c&&"object"==typeof c)throw Error("Query: First argument passed to startAt(), endAt(), or equalTo() cannot be an object.")}function ug(a){if(a.ka&&a.na&&a.xa&&(!a.xa||""===a.oc))throw Error("Query: Can't combine startAt(), endAt(), and limit(). Use limitToFirst() or limitToLast() instead.")}function vg(a,b){if(!0===a.Oc)throw Error(b+": You can't combine multiple orderBy calls.")}function wg(a,b,c){var d={cancel:null,Pa:null};if(b&&c)d.cancel=b,A(a,3,d.cancel,!0),d.Pa=c,Eb(a,4,d.Pa);else if(b)if("object"==typeof b&&null!==b)d.Pa=b;else{if("function"!=typeof b)throw Error(Db(a,3,!0)+" must either be a cancel callback or a context object.");d.cancel=b}return d}function yg(a,b){this.value=a,this.children=b||zg}function Ag(a){var b=Q;return t(a,function(a,c){b=b.set(new L(c),a)}),b}function Bg(a,b,c){if(null!=a.value&&c(a.value))return{path:C,value:a.value};if(b.e())return null;var d=J(b);return a=a.children.get(d),null!==a?(b=Bg(a,D(b),c),null!=b?{path:new L(d).m(b.path),value:b.value}:null):null}function Cg(a,b){return Bg(a,b,function(){return!0})}function ce(a,b,c){if(b.e())return c;var d=J(b);return b=ce(a.children.get(d)||Q,D(b),c),d=b.e()?a.children.remove(d):a.children.Ra(d,b),new yg(a.value,d)}function Dg(a,b){return Eg(a,C,b)}function Eg(a,b,c){var d={};return a.children.ia(function(a,e){d[a]=Eg(e,b.m(a),c)}),c(b,a.value,d)}function Fg(a,b,c){return Gg(a,b,C,c)}function Gg(a,b,c,d){var e=!!a.value&&d(c,a.value);return e?e:b.e()?null:(e=J(b),(a=a.children.get(e))?Gg(a,D(b),c.m(e),d):null)}function Hg(a,b,c){Ig(a,b,C,c)}function Ig(a,b,c,d){if(b.e())return a;a.value&&d(c,a.value);var e=J(b);return(a=a.children.get(e))?Ig(a,D(b),c.m(e),d):Q}function ae(a,b){Jg(a,C,b)}function Jg(a,b,c){a.children.ia(function(a,d){Jg(d,b.m(a),c);
}),a.value&&c(b,a.value)}function Kg(a,b){a.children.ia(function(a,c){c.value&&b(a,c.value)})}function Lg(a,b,c){this.type=Td,this.source=Mg,this.path=a,this.Pb=b,this.Id=c}function Ng(a,b,c,d){this.ee=a,this.We=b,this.Ib=c,this.Ee=d,H(!d||b,"Tagged queries must be from server.")}function Pg(a){this.X=a}function Rg(a,b,c){if(b.e())return new Pg(new yg(c));var d=Cg(a.X,b);if(null!=d){var e=d.path,d=d.value;return b=T(e,b),d=d.F(b,c),new Pg(a.X.set(e,d))}return a=ce(a.X,b,new yg(c)),new Pg(a)}function Sg(a,b,c){var d=a;return Cb(c,function(a,c){d=Rg(d,b.m(a),c)}),d}function Tg(a,b){var c=Cg(a.X,b);return null!=c?a.X.get(c.path).Q(T(c.path,b)):null}function Ug(a){var b=[],c=a.X.value;return null!=c?c.J()||c.P(N,function(a,c){b.push(new K(a,c))}):a.X.children.ia(function(a,c){null!=c.value&&b.push(new K(a,c.value))}),b}function Vg(a,b){if(b.e())return a;var c=Tg(a,b);return new Pg(null!=c?new yg(c):a.X.subtree(b))}function Wg(a,b,c){if(null!=b.value)return c.F(a,b.value);var d=null;return b.children.ia(function(b,e){".priority"===b?(H(null!==e.value,"Priority writes must always be leaf nodes"),d=e.value):c=Wg(a.m(b),e,c)}),c.Q(a).e()||null===d||(c=c.F(a.m(".priority"),d)),c}function Xg(){this.Aa={}}function Zg(a){return Ka(sa(a.Aa),function(a){return!S(a.W.n)})}function $g(a,b){if(S(b.n))return Yg(a);var c=b.ya();return x(a.Aa,c)}function Yg(a){return wa(a.Aa,function(a){return S(a.W.n)})||null}function ah(){this.T=Qg,this.la=[],this.Cc=-1}function bh(a,b){for(var c=0;c<a.la.length;c++){var d=a.la[c];if(d.Zc===b)return d}return null}function ch(a,b){return a.Ja?a.path.contains(b):!!va(a.children,function(c,d){return a.path.m(d).contains(b)})}function eh(a){return a.visible}function dh(a,b,c){for(var d=Qg,e=0;e<a.length;++e){var f=a[e];if(b(f)){var g=f.path;if(f.Ja)c.contains(g)?(g=T(c,g),d=Rg(d,g,f.Ja)):g.contains(c)&&(g=T(g,c),d=Rg(d,C,f.Ja.Q(g)));else{if(!f.children)throw Xc("WriteRecord should have .snap or .children");c.contains(g)?(g=T(c,g),d=Sg(d,g,f.children)):g.contains(c)&&(g=T(g,c),g.e()?d=Sg(d,C,f.children):(f=x(f.children,J(g)))&&(f=f.Q(D(g)),d=Rg(d,C,f)))}}}return d}function fh(a,b){this.Mb=a,this.X=b}function gh(){this.children={},this.ad=0,this.value=null}function hh(a,b,c){this.ud=a?a:"",this.Ha=b?b:null,this.A=c?c:new gh}function ih(a,b){for(var c,d=b instanceof L?b:new L(b),e=a;null!==(c=J(d));)e=new hh(c,e,x(e.A.children,c)||new gh),d=D(d);return e}function jh(a,b){H("undefined"!=typeof b,"Cannot set value to undefined"),a.A.value=b,kh(a)}function lh(a,b,c,d){c&&!d&&b(a),a.P(function(a){lh(a,b,!0,d)}),c&&d&&b(a)}function mh(a,b){for(var c=a.parent();null!==c&&!b(c);)c=c.parent()}function kh(a){if(null!==a.Ha){var b=a.Ha,c=a.ud,d=a.e(),e=Bb(b.A.children,c);d&&e?(delete b.A.children[c],b.A.ad--,kh(b)):d||e||(b.A.children[c]=a.A,b.A.ad++,kh(b))}}function nh(a,b,c,d,e,f){if(this.id=oh++,this.f=cd("p:"+this.id+":"),this.qd={},this.$={},this.pa=[],this.Pc=0,this.Lc=[],this.ma=!1,this.Va=1e3,this.td=3e5,this.Hb=b,this.Kc=c,this.ue=d,this.M=a,this.pb=this.Ia=this.Db=this.ze=null,this.Vd=e,this.de=!1,this.ke=0,f)throw Error("Auth override specified in options, but not supported on non Node.js platforms");this.Je=f||null,this.vb=null,this.Nb=!1,this.Gd={},this.tg=0,this.Ve=!0,this.Bc=this.me=null,ph(this,0),Sf.Wb().hc("visible",this.jg,this),-1===a.host.indexOf("fblocal")&&Rf.Wb().hc("online",this.ig,this)}function rh(a,b){var c=b.pg,d=c.path.toString(),e=c.ya();a.f("Listen on "+d+" for "+e);var f={p:d};b.tag&&(f.q=He(c.n),f.t=b.tag),f.h=b.ld(),a.ua("q",f,function(f){var g=f.d,h=f.s;if(g&&"object"==typeof g&&Bb(g,"w")){var i=x(g,"w");da(i)&&0<=Ia(i,"no_index")&&O("Using an unspecified index. Consider adding "+('".indexOn": "'+c.n.g.toString()+'"')+" at "+c.path.toString()+" to your security rules for better performance")}(a.$[d]&&a.$[d][e])===b&&(a.f("listen response",f),"ok"!==h&&sh(a,d,e),b.G&&b.G(h,g))})}function th(a){if(a.ma&&a.pb){var b=a.pb,c=rd(b)?"auth":"gauth",d={cred:b};a.Je&&(d.authvar=a.Je),a.ua(c,d,function(c){var d=c.s;c=c.d||"error",a.pb===b&&("ok"===d?this.ke=0:uh(a,d,c))})}}function vh(a,b,c,d,e){c={p:c,d:d},a.f("onDisconnect "+b,c),a.ua(b,c,function(a){e&&setTimeout(function(){e(a.s,a.d)},Math.floor(0))})}function wh(a,b,c,d,e,f){d={p:c,d:d},p(f)&&(d.h=f),a.pa.push({action:b,sf:d,G:e}),a.Pc++,b=a.pa.length-1,a.ma?xh(a,b):a.f("Buffering put: "+c)}function xh(a,b){var c=a.pa[b].action,d=a.pa[b].sf,e=a.pa[b].G;a.pa[b].qg=a.ma,a.ua(c,d,function(d){a.f(c+" response",d),delete a.pa[b],a.Pc--,0===a.Pc&&(a.pa=[]),e&&e(d.s,d.d)})}function ph(a,b){H(!a.Ia,"Scheduling a connect when we're already connected/ing?"),a.vb&&clearTimeout(a.vb),a.vb=setTimeout(function(){a.vb=null,Ah(a)},Math.floor(b))}function Ah(a){if(Bh(a)){a.f("Making a connection attempt"),a.me=(new Date).getTime(),a.Bc=null;var b=r(a.wd,a),c=r(a.Mc,a),d=r(a.jf,a),e=a.id+":"+qh++,f=a.Db,g=!1,h=null,i=function(){h?h.close():(g=!0,d())};a.Ia={close:i,ua:function(a){H(h,"sendRequest call when we're not connected not allowed."),h.ua(a)}};var j=a.de;a.de=!1,a.Vd.getToken(j).then(function(i){g?E("getToken() completed but was canceled"):(E("getToken() completed. Creating connection."),a.pb=i&&i.accessToken,h=new af(e,a.M,b,c,d,function(b){O(b+" ("+a.M.toString()+")"),a.eb("server_kill")},f))}).then(null,function(b){a.f("Failed to get token: "+b),g||i()})}}function yh(a,b,c){c=c?La(c,function(a){return kd(a)}).join("$"):"default",(a=sh(a,b,c))&&a.G&&a.G("permission_denied")}function sh(a,b,c){b=new L(b).toString();var d;return p(a.$[b])?(d=a.$[b][c],delete a.$[b][c],0===qa(a.$[b])&&delete a.$[b]):d=void 0,d}function uh(a,b,c){E("Auth token revoked: "+b+"/"+c),a.pb=null,a.de=!0,a.Ia.close(),"invalid_token"===b&&(a.ke++,3<=a.ke&&(a.Va=3e4,O("Provided authentication credentials are invalid. This usually indicates your FirebaseApp instance was not initialized correctly. Make sure your apiKey and databaseURL match the values provided for your app at https://console.firebase.google.com/, or if you're using a service account, make sure it's authorized to access the specified databaseURL and is from the correct project.")))}function zh(a){th(a),t(a.$,function(b){t(b,function(b){rh(a,b)})});for(var b=0;b<a.pa.length;b++)a.pa[b]&&xh(a,b);for(;a.Lc.length;)b=a.Lc.shift(),vh(a,b.action,b.we,b.data,b.G)}function Bh(a){var b;return b=Rf.Wb().ic,xa(a.qd)&&b}function Ch(a){this.wa=Q,this.lb=new ah,this.De={},this.jc={},this.Dc=a}function Dh(a,b,c,d,e){var f=a.lb,g=e;return H(d>f.Cc,"Stacking an older write on top of newer ones"),p(g)||(g=!0),f.la.push({path:b,Ja:c,Zc:d,visible:g}),g&&(f.T=Rg(f.T,b,c)),f.Cc=d,e?Eh(a,new $b(Mg,b,c)):[]}function Fh(a,b,c,d){var e=a.lb;return H(d>e.Cc,"Stacking an older merge on top of newer ones"),e.la.push({path:b,children:c,Zc:d,visible:!0}),e.T=Sg(e.T,b,c),e.Cc=d,c=Ag(c),Eh(a,new Fd(Mg,b,c))}function Gh(a,b,c){c=c||!1;var d=bh(a.lb,b);if(a.lb.Ed(b)){var e=Q;return null!=d.Ja?e=e.set(C,!0):Cb(d.children,function(a,b){e=e.set(new L(a),b)}),Eh(a,new Lg(d.path,e,c))}return[]}function Hh(a,b,c){return c=Ag(c),Eh(a,new Fd(Og,b,c))}function Ih(a,b,c,d){if(d=Jh(a,d),null!=d){var e=Kh(d);return d=e.path,e=e.Ib,b=T(d,b),c=new $b(new Ng(!1,!0,e,!0),b,c),Lh(a,d,c)}return[]}function Mh(a,b,c,d){if(d=Jh(a,d)){var e=Kh(d);return d=e.path,e=e.Ib,b=T(d,b),c=Ag(c),c=new Fd(new Ng(!1,!0,e,!0),b,c),Lh(a,d,c)}return[]}function Qh(a){return Dg(a,function(a,b,c){if(b&&null!=Yg(b))return[Yg(b)];var d=[];return b&&(d=Zg(b)),t(c,function(a){d=d.concat(a)}),d})}function Uh(a,b){for(var c=0;c<b.length;++c){var d=b[c];if(!S(d.n)){var d=Nh(d),e=a.jc[d];delete a.jc[d],delete a.De["_"+e]}}}function Sh(a){return S(a.n)&&!Cd(a.n)?a.xb():a}function Ph(a,b,c){var d=b.path,e=Th(a,b);if(c=Rh(a,c),b=a.Dc.Ae(Sh(b),e,c.ld,c.G),d=a.wa.subtree(d),e)H(null==Yg(d.value),"If we're adding a query, it shouldn't be shadowed");else for(e=Dg(d,function(a,b,c){if(!a.e()&&b&&null!=Yg(b))return[og(Yg(b))];var d=[];return b&&(d=d.concat(La(Zg(b),function(a){return a.W}))),t(c,function(a){d=d.concat(a)}),d}),d=0;d<e.length;++d)c=e[d],a.Dc.Od(Sh(c),Th(a,c));return b}function Rh(a,b){var c=b.W,d=Th(a,c);return{ld:function(){return(b.u()||F).hash()},G:function(b){if("ok"===b){if(d){var e=c.path;if(b=Jh(a,d)){var f=Kh(b);b=f.path,f=f.Ib,e=T(b,e),e=new bc(new Ng(!1,!0,f,!0),e),b=Lh(a,b,e)}else b=[]}else b=Eh(a,new bc(Og,c.path));return b}return e="Unknown Error","too_big"===b?e="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"==b?e="Client doesn't have permission to access the desired data.":"unavailable"==b&&(e="The service is unavailable"),e=Error(b+" at "+c.path.toString()+": "+e),e.code=b.toUpperCase(),a.mb(c,null,e)}}}function Nh(a){return a.path.toString()+"$"+a.ya()}function Kh(a){var b=a.indexOf("$");return H(-1!==b&&b<a.length-1,"Bad queryKey."),{Ib:a.substr(b+1),path:new L(a.substr(0,b))}}function Jh(a,b){var c=a.De,d="_"+b;return d in c?c[d]:void 0}function Th(a,b){var c=Nh(b);return x(a.jc,c)}function Lh(a,b,c){var d=a.wa.get(b);return H(d,"Missing sync point for query tag that we're tracking"),d.gb(c,new fh(b,a.lb),null)}function Eh(a,b){return Vh(a,b,a.wa,null,new fh(C,a.lb))}function Vh(a,b,c,d,e){if(b.path.e())return Wh(a,b,c,d,e);var f=c.get(C);null==d&&null!=f&&(d=f.jb(C));var g=[],h=J(b.path),i=b.Nc(h);if((c=c.children.get(h))&&i)var j=d?d.R(h):null,h=e.m(h),g=g.concat(Vh(a,i,c,j,h));return f&&(g=g.concat(f.gb(b,e,d))),g}function Wh(a,b,c,d,e){var f=c.get(C);null==d&&null!=f&&(d=f.jb(C));var g=[];return c.children.ia(function(c,f){var h=d?d.R(c):null,i=e.m(c),j=b.Nc(c);j&&(g=g.concat(Wh(a,j,f,h,i)))}),f&&(g=g.concat(f.gb(b,e,d))),g}function sf(a,b,c){this.app=c;var d=new dc(c);if(this.M=a,this.Xa=pc(a),this.Vc=null,this.da=new rc,this.vd=1,this.Ua=null,b||0<=("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i))this.va=new Ad(this.M,r(this.Hb,this),d),setTimeout(r(this.Kc,this,!0),0);else{if(b=c.options.databaseAuthVariableOverride||null,null!==b){if("object"!==ca(b))throw Error("Only objects are supported for option databaseAuthVariableOverride");try{B(b)}catch(a){throw Error("Invalid authOverride provided: "+a)}}this.va=this.Ua=new nh(this.M,r(this.Hb,this),r(this.Kc,this),r(this.ue,this),d,b)}var e=this;ec(d,function(a){e.va.qf(a)}),this.zg=qc(a,r(function(){return new jc(this.Xa,this.va)},this)),this.nc=new hh,this.ie=new fc,this.pd=new Ch({Ae:function(a,b,c,d){return b=[],c=e.ie.j(a.path),c.e()||(b=Eh(e.pd,new $b(Og,a.path,c)),setTimeout(function(){d("ok")},0)),b},Od:aa}),Xh(this,"connected",!1),this.ja=new Rc,this.$a=new rf(this),this.ed=0,this.je=null,this.K=new Ch({Ae:function(a,b,c,d){return e.va.df(a,c,b,function(b,c){var f=d(b,c);wc(e.da,a.path,f)}),[]},Od:function(a,b){e.va.Ef(a,b)}})}function Yh(a){return a=a.ie.j(new L(".info/serverTimeOffset")).H()||0,(new Date).getTime()+a}function Zh(a){return a=a={timestamp:Yh(a)},a.timestamp=a.timestamp||(new Date).getTime(),a}function Xh(a,b,c){b=new L("/.info/"+b),c=M(c);var d=a.ie;d.Jd=d.Jd.F(b,c),c=Eh(a.pd,new $b(Og,b,c)),wc(a.da,b,c)}function ai(a){a.f("onDisconnectEvents");var b=Zh(a),c=[];Sc(Qc(a.ja,b),C,function(b,d){c=c.concat(Eh(a.K,new $b(Og,b,d)));var e=ci(a,b);$h(a,e)}),a.ja=new Rc,wc(a.da,C,c)}function Mf(a,b,c,d){var e=M(c);a.va.re(b.toString(),e.H(!0),function(c,f){"ok"===c&&Tc(a.ja,b,e),bi(d,c,f)})}function Nf(a,b,c,d,e){var f=M(c,d);a.va.re(b.toString(),f.H(!0),function(c,d){"ok"===c&&Tc(a.ja,b,f),bi(e,c,d)})}function Of(a,b,c,d){var e,f=!0;for(e in c)f=!1;f?(E("onDisconnect().update() called with empty data.  Don't do anything."),bi(d,"ok")):a.va.gf(b.toString(),c,function(e,f){if("ok"===e)for(var g in c){var h=M(c[g]);Tc(a.ja,b.m(g),h)}bi(d,e,f)})}function xg(a,b,c){c=".info"===J(b.path)?a.pd.Ob(b,c):a.K.Ob(b,c),uc(a.da,b.path,c)}function bi(a,b,c){a&&Ub(function(){if("ok"==b)a(null);else{var d=(b||"error").toUpperCase(),e=d;c&&(e+=": "+c),e=Error(e),e.code=d,a(e)}})}function di(a,b,c,d,e){function f(){}a.f("transaction on "+b);var g=new U(a,b);if(g.hc("value",f),c={path:b,update:c,G:d,status:null,lf:Wc(),Ie:e,wf:0,Rd:function(){g.Jc("value",f)},Td:null,Da:null,bd:null,cd:null,dd:null},d=a.K.Ba(b,void 0)||F,c.bd=d,d=c.update(d.H()),p(d)){Ef("transaction failed: Data returned ",d,c.path),c.status=1,e=ih(a.nc,b);var h=e.Ea()||[];h.push(c),jh(e,h),"object"==typeof d&&null!==d&&Bb(d,".priority")?(h=x(d,".priority"),H(Cf(h),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):h=(a.K.Ba(b)||F).C().H(),e=Zh(a),d=M(d,h),e=Uc(d,e),c.cd=d,c.dd=e,c.Da=a.vd++,c=Dh(a.K,b,e,c.Da,c.Ie),wc(a.da,b,c),ei(a)}else c.Rd(),c.cd=null,c.dd=null,c.G&&(a=new W(c.bd,new U(a,c.path),N),c.G(null,!1,a))}function ei(a,b){var c=b||a.nc;if(b||fi(a,c),null!==c.Ea()){var d=gi(a,c);H(0<d.length,"Sending zero length transaction queue"),Na(d,function(a){return 1===a.status})&&hi(a,c.path(),d)}else c.kd()&&c.P(function(b){ei(a,b)})}function hi(a,b,c){for(var d=La(c,function(a){return a.Da}),e=a.K.Ba(b,d)||F,d=e,e=e.hash(),f=0;f<c.length;f++){var g=c[f];H(1===g.status,"tryToSendTransactionQueue_: items in queue should all be run."),g.status=2,g.wf++;var h=T(b,g.path),d=d.F(h,g.cd)}d=d.H(!0),a.va.put(b.toString(),d,function(d){a.f("transaction put response",{path:b.toString(),status:d});var e=[];if("ok"===d){for(d=[],f=0;f<c.length;f++){if(c[f].status=3,e=e.concat(Gh(a.K,c[f].Da)),c[f].G){var g=c[f].dd,h=new U(a,c[f].path);d.push(r(c[f].G,null,null,!0,new W(g,h,N)))}c[f].Rd()}for(fi(a,ih(a.nc,b)),ei(a),wc(a.da,b,e),f=0;f<d.length;f++)Ub(d[f])}else{if("datastale"===d)for(f=0;f<c.length;f++)c[f].status=4===c[f].status?5:1;else for(O("transaction at "+b.toString()+" failed: "+d),f=0;f<c.length;f++)c[f].status=5,c[f].Td=d;$h(a,b)}},e)}function $h(a,b){var c=ii(a,b),d=c.path(),c=gi(a,c);return ji(a,c,d),d}function ji(a,b,c){if(0!==b.length){for(var d=[],e=[],f=Ka(b,function(a){return 1===a.status}),f=La(f,function(a){return a.Da}),g=0;g<b.length;g++){var h,i=b[g],j=T(c,i.path),k=!1;if(H(null!==j,"rerunTransactionsUnderNode_: relativePath should not be null."),5===i.status)k=!0,h=i.Td,e=e.concat(Gh(a.K,i.Da,!0));else if(1===i.status)if(25<=i.wf)k=!0,h="maxretry",e=e.concat(Gh(a.K,i.Da,!0));else{var l=a.K.Ba(i.path,f)||F;i.bd=l;var m=b[g].update(l.H());p(m)?(Ef("transaction failed: Data returned ",m,i.path),j=M(m),"object"==typeof m&&null!=m&&Bb(m,".priority")||(j=j.ga(l.C())),l=i.Da,m=Zh(a),m=Uc(j,m),i.cd=j,i.dd=m,i.Da=a.vd++,Qa(f,l),e=e.concat(Dh(a.K,i.path,m,i.Da,i.Ie)),e=e.concat(Gh(a.K,l,!0))):(k=!0,h="nodata",e=e.concat(Gh(a.K,i.Da,!0)))}wc(a.da,c,e),e=[],k&&(b[g].status=3,setTimeout(b[g].Rd,Math.floor(0)),b[g].G&&("nodata"===h?(i=new U(a,b[g].path),d.push(r(b[g].G,null,null,!1,new W(b[g].bd,i,N)))):d.push(r(b[g].G,null,Error(h),!1,null))))}for(fi(a,a.nc),g=0;g<d.length;g++)Ub(d[g]);ei(a)}}function ii(a,b){for(var c,d=a.nc;null!==(c=J(b))&&null===d.Ea();)d=ih(d,c),b=D(b);return d}function gi(a,b){var c=[];return ki(a,b,c),c.sort(function(a,b){return a.lf-b.lf}),c}function ki(a,b,c){var d=b.Ea();if(null!==d)for(var e=0;e<d.length;e++)c.push(d[e]);b.P(function(b){ki(a,b,c)})}function fi(a,b){var c=b.Ea();if(c){for(var d=0,e=0;e<c.length;e++)3!==c[e].status&&(c[d]=c[e],d++);c.length=d,jh(b,0<c.length?c:null)}b.P(function(b){fi(a,b)})}function ci(a,b){var c=ii(a,b).path(),d=ih(a.nc,b);return mh(d,function(b){li(a,b)}),li(a,d),lh(d,function(b){li(a,b)}),c}function li(a,b){var c=b.Ea();if(null!==c){for(var d=[],e=[],f=-1,g=0;g<c.length;g++)4!==c[g].status&&(2===c[g].status?(H(f===g-1,"All SENT items should be at beginning of queue."),f=g,c[g].status=4,c[g].Td="set"):(H(1===c[g].status,"Unexpected transaction status in abort"),c[g].Rd(),e=e.concat(Gh(a.K,c[g].Da,!0)),c[g].G&&d.push(r(c[g].G,null,Error("set"),!1,null))));for(-1===f?jh(b,null):c.length=f+1,wc(a.da,b.path(),e),g=0;g<d.length;g++)Ub(d[g])}}function xf(){this.nb={},this.Ff=!1}function U(a,b){if(!(a instanceof sf))throw Error("new Firebase() no longer supported - use app.database().");X.call(this,a,b,Ee,!1),this.then=void 0,this.catch=void 0}var h,n=this;ka(ma,la),ma.prototype.reset=function(){this.N[0]=1732584193,this.N[1]=4023233417,this.N[2]=2562383102,this.N[3]=271733878,this.N[4]=3285377520,this.Pd=this.ac=0},ma.prototype.update=function(a,b){if(null!=a){p(b)||(b=a.length);for(var c=b-this.Ya,d=0,e=this.Wd,f=this.ac;d<b;){if(0==f)for(;d<=c;)na(this,a,d),d+=this.Ya;if(q(a)){for(;d<b;)if(e[f]=a.charCodeAt(d),++f,++d,f==this.Ya){na(this,e),f=0;break}}else for(;d<b;)if(e[f]=a[d],++f,++d,f==this.Ya){na(this,e),f=0;break}}this.ac=f,this.Pd+=b}};var Da={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},Ea=/\uffff/.test("")?/[\\\"\x00-\x1f\x7f-\uffff]/g:/[\\\"\x00-\x1f\x7f-\xff]/g,v;a:{var Fa=n.navigator;if(Fa){var Ga=Fa.userAgent;if(Ga){v=Ga;break a}}v=""}ka(Ha,Error),Ha.prototype.name="CustomError";var w=Array.prototype,Ia=w.indexOf?function(a,b,c){return w.indexOf.call(a,b,c)}:function(a,b,c){if(c=null==c?0:0>c?Math.max(0,a.length+c):c,q(a))return q(b)&&1==b.length?a.indexOf(b,c):-1;for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},Ja=w.forEach?function(a,b,c){w.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=q(a)?a.split(""):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)},Ka=w.filter?function(a,b,c){return w.filter.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=[],f=0,g=q(a)?a.split(""):a,h=0;h<d;h++)if(h in g){var i=g[h];b.call(c,i,h,a)&&(e[f++]=i)}return e},La=w.map?function(a,b,c){return w.map.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=Array(d),f=q(a)?a.split(""):a,g=0;g<d;g++)g in f&&(e[g]=b.call(c,f[g],g,a));return e},Ma=w.reduce?function(a,b,c,d){for(var e=[],f=1,g=arguments.length;f<g;f++)e.push(arguments[f]);return d&&(e[0]=r(b,d)),w.reduce.apply(a,e)}:function(a,b,c,d){var e=c;return Ja(a,function(c,f){e=b.call(d,e,c,f,a)}),e},Na=w.every?function(a,b,c){return w.every.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=q(a)?a.split(""):a,f=0;f<d;f++)if(f in e&&!b.call(c,e[f],f,a))return!1;return!0},Ua=-1!=v.indexOf("Opera")||-1!=v.indexOf("OPR"),Va=-1!=v.indexOf("Trident")||-1!=v.indexOf("MSIE"),Wa=-1!=v.indexOf("Gecko")&&-1==v.toLowerCase().indexOf("webkit")&&!(-1!=v.indexOf("Trident")||-1!=v.indexOf("MSIE")),Xa=-1!=v.toLowerCase().indexOf("webkit");!function(){var a,b="";return Ua&&n.opera?(b=n.opera.version,ga(b)?b():b):(Wa?a=/rv\:([^\);]+)(\)|;)/:Va?a=/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/:Xa&&(a=/WebKit\/(\S+)/),a&&(b=(b=a.exec(v))?b[1]:""),Va&&(a=(a=n.document)?a.documentMode:void 0,a>parseFloat(b))?String(a):b)}();var Ya=null,Za=null,$a=null,db,gb,ib=!1,jb=[];[].push(function(){ib=!1,jb=[]});var nb=0,qb=2,sb=3;mb.prototype.then=function(a,b,c){return tb(this,ga(a)?a:null,ga(b)?b:null,c)},mb.prototype.then=mb.prototype.then,mb.prototype.$goog_Thenable=!0,h=mb.prototype,h.Ag=function(a,b){return tb(this,null,a,b)},h.cancel=function(a){this.L==nb&&fb(function(){var b=new rb(a);ub(this,b)},this)},h.Cf=function(a){this.L=nb,pb(this,qb,a)},h.Df=function(a){this.L=nb,pb(this,sb,a)},h.Uf=function(){for(;this.Ca&&this.Ca.length;){var a=this.Ca;this.Ca=null;for(var b=0;b<a.length;b++)vb(this,a[b],this.L,this.uf)}this.be=!1};var Ab=cb;ka(rb,Ha),rb.prototype.name="cancel";var Gb=n.Promise||mb;mb.prototype.catch=mb.prototype.Ag,Vb.prototype.set=function(a,b){null==b?delete this.qc[a]:this.qc[a]=b},Vb.prototype.get=function(a){return Bb(this.qc,a)?this.qc[a]:null},Vb.prototype.remove=function(a){delete this.qc[a]},Vb.prototype.cf=!0,h=Wb.prototype,h.set=function(a,b){null==b?this.vc.removeItem(this.Cd+a):this.vc.setItem(this.Cd+a,B(b))},h.get=function(a){return a=this.vc.getItem(this.Cd+a),null==a?null:Ob(a)},h.remove=function(a){this.vc.removeItem(this.Cd+a)},h.cf=!1,h.toString=function(){return this.vc.toString()};var Yb=Xb("localStorage"),Zb=Xb("sessionStorage");$b.prototype.Nc=function(a){return this.path.e()?new $b(this.source,C,this.Ja.R(a)):new $b(this.source,D(this.path),this.Ja)},$b.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" overwrite: "+this.Ja.toString()+")"},bc.prototype.Nc=function(){return this.path.e()?new bc(this.source,C):new bc(this.source,D(this.path))},bc.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" listen_complete)"},dc.prototype.getToken=function(a){return this.He.INTERNAL.getToken(a).then(null,function(a){return a&&"auth/token-not-initialized"===a.code?(E("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(a)})},fc.prototype.j=function(a){return this.Jd.Q(a)},fc.prototype.toString=function(){return this.Jd.toString()},gc.prototype.toString=function(){var a=(this.Sc?"https://":"http://")+this.host;return this.nf&&(a+="<"+this.nf+">"),a},jc.prototype.rf=function(){var a,b=this.Vc.get(),c={},d=!1;for(a in b)0<b[a]&&Bb(this.zf,a)&&(c[a]=b[a],d=!0);d&&this.va.ye(c),setTimeout(r(this.rf,this),Math.floor(6e5*Math.random()))},lc.prototype.get=function(){return ya(this.uc)},kc.prototype.get=function(){var a=this.Nf.get(),b=ya(a);if(this.rd)for(var c in this.rd)b[c]-=this.rd[c];return this.rd=a,b};var nc={},oc={};tc.prototype.add=function(a){this.hd.push(a)},tc.prototype.Zb=function(){return this.qa},yc.prototype.Zb=function(){var a=this.Md.xb();return"value"===this.gd?a.path:a.getParent().path},yc.prototype.ge=function(){return this.gd},yc.prototype.Ub=function(){return this.ae.Ub(this)},yc.prototype.toString=function(){return this.Zb().toString()+":"+this.gd+":"+B(this.Md.Ue())},zc.prototype.Zb=function(){return this.path},zc.prototype.ge=function(){return"cancel"},zc.prototype.Ub=function(){return this.ae.Ub(this)},zc.prototype.toString=function(){return this.path.toString()+":cancel"},Ac.prototype.Xe=function(){return null},Ac.prototype.fe=function(){return null};var Bc=new Ac;Cc.prototype.Xe=function(a){var b=this.Na.O;return Dc(b,a)?b.j().R(a):(b=null!=this.yd?new Ec(this.yd,!0,!1):this.Na.u(),this.Gf.rc(a,b))},Cc.prototype.fe=function(a,b,c){var d=null!=this.yd?this.yd:Fc(this.Na);return a=this.Gf.Xd(d,b,1,c,a),0===a.length?null:a[0]};var Hc="value";Ec.prototype.j=function(){return this.A};var Wc=function(){var a=1;return function(){return a++}}(),H=Kb,Xc=Lb,xc=null,ad=!0,od=/^-?\d{1,10}$/,ud=null;"undefined"!=typeof MozWebSocket?ud=MozWebSocket:"undefined"!=typeof WebSocket&&(ud=WebSocket);var wd;vd.prototype.open=function(a,b){this.kb=b,this.hg=a,this.f("Websocket connecting to "+this.Ne),this.xc=!1,Yb.set("previous_websocket_failure",!0);try{this.La=new ud(this.Ne)}catch(a){this.f("Error instantiating WebSocket.");var c=a.message||a.data;return c&&this.f(c),void this.fb()}var d=this;this.La.onopen=function(){d.f("Websocket connected."),d.xc=!0},this.La.onclose=function(){d.f("Websocket connection was disconnected."),d.La=null,d.fb()},this.La.onmessage=function(a){if(null!==d.La)if(a=a.data,d.qb+=a.length,mc(d.Xa,"bytes_received",a.length),xd(d),null!==d.frames)yd(d,a);else{a:{if(H(null===d.frames,"We already have a frame buffer"),6>=a.length){var b=Number(a);if(!isNaN(b)){d.Fe=b,d.frames=[],a=null;break a}}d.Fe=1,d.frames=[]}null!==a&&yd(d,a)}},this.La.onerror=function(a){d.f("WebSocket error.  Closing connection."),(a=a.message||a.data)&&d.f(a),d.fb()}},vd.prototype.start=function(){},vd.isAvailable=function(){var a=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var b=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);b&&1<b.length&&4.4>parseFloat(b[1])&&(a=!0)}return!a&&null!==ud&&!wd},vd.responsesRequiredToBeHealthy=2,vd.healthyTimeout=3e4,h=vd.prototype,h.sd=function(){Yb.remove("previous_websocket_failure")},h.send=function(a){xd(this),a=B(a),this.rb+=a.length,mc(this.Xa,"bytes_sent",a.length),a=ld(a,16384),1<a.length&&zd(this,String(a.length));for(var b=0;b<a.length;b++)zd(this,a[b])},h.Tc=function(){this.Bb=!0,this.Ac&&(clearInterval(this.Ac),this.Ac=null),this.La&&(this.La.close(),this.La=null)},h.fb=function(){this.Bb||(this.f("WebSocket is closing itself"),this.Tc(),this.kb&&(this.kb(this.xc),this.kb=null))},h.close=function(){this.Bb||(this.f("WebSocket is being closed"),this.Tc())},h=Ad.prototype,h.df=function(a,b,c,d){var e=a.path.toString();this.f("Listen called for "+e+" "+a.ya());var f=Bd(a,c),g={};this.$[f]=g,a=Dd(a.n);var h=this;Ed(this,e+".json",a,function(a,b){var i=b;404===a&&(a=i=null),null===a&&h.Hb(e,i,!1,c),x(h.$,f)===g&&d(a?401==a?"permission_denied":"rest_error:"+a:"ok",null)})},h.Ef=function(a,b){var c=Bd(a,b);delete this.$[c]},h.qf=function(){},h.re=function(){},h.gf=function(){},h.xd=function(){},h.put=function(){},h.ef=function(){},h.ye=function(){},Fd.prototype.Nc=function(a){return this.path.e()?(a=this.children.subtree(new L(a)),a.e()?null:a.value?new $b(this.source,C,a.value):new Fd(this.source,C,a)):(H(J(this.path)===a,"Can't get a merge for a child not on the path of the operation"),new Fd(this.source,D(this.path),this.children))},Fd.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},Jd.prototype.Of=function(a,b){if(null==a.Za||null==b.Za)throw Xc("Should only compare child_ events.");return this.g.compare(new K(a.Za,a.Ma),new K(b.Za,b.Ma))},Od.prototype.gb=function(a,b,c,d){var e,f=new Hd;if(b.type===ac)b.source.ee?c=Pd(this,a,b.path,b.Ja,c,d,f):(H(b.source.We,"Unknown source."),e=b.source.Ee||Jc(a.u())&&!b.path.e(),c=Qd(this,a,b.path,b.Ja,c,d,e,f));else if(b.type===Gd)b.source.ee?c=Rd(this,a,b.path,b.children,c,d,f):(H(b.source.We,"Unknown source."),e=b.source.Ee||Jc(a.u()),c=Sd(this,a,b.path,b.children,c,d,e,f));else if(b.type===Td)if(b.Id)if(b=b.path,null!=c.mc(b))c=a;else{if(e=new Cc(c,a,d),d=a.O.j(),b.e()||".priority"===J(b))Ic(a.u())?b=c.Ba(Fc(a)):(b=a.u().j(),H(b instanceof P,"serverChildren would be complete if leaf node"),b=c.sc(b)),b=this.V.za(d,b,f);else{var g=J(b),h=c.rc(g,a.u());null==h&&Dc(a.u(),g)&&(h=d.R(g)),b=null!=h?this.V.F(d,g,h,D(b),e,f):a.O.j().Fa(g)?this.V.F(d,g,F,D(b),e,f):d,b.e()&&Ic(a.u())&&(d=c.Ba(Fc(a)),d.J()&&(b=this.V.za(b,d,f)))}d=Ic(a.u())||null!=c.mc(C),c=Ud(a,b,d,this.V.Qa())}else c=Vd(this,a,b.path,b.Pb,c,d,f);else{if(b.type!==cc)throw Xc("Unknown operation type: "+b.type);d=b.path,b=a.u(),e=b.j(),g=b.ea||d.e(),c=Wd(this,new Xd(a.O,new Ec(e,g,b.Tb)),d,c,Bc,f)}return f=sa(f.hb),d=c,b=d.O,b.ea&&(e=b.j().J()||b.j().e(),g=Yd(a),(0<f.length||!a.O.ea||e&&!b.j().ca(g)||!b.j().C().ca(g.C()))&&f.push(Gc(Yd(d)))),new Nd(c,f)},h=ee.prototype,h.F=function(a,b,c,d,e,f){return H(a.zc(this.g),"A node must be indexed if only a child is updated"),e=a.R(b),e.Q(d).ca(c.Q(d))&&e.e()==c.e()?a:(null!=f&&(c.e()?a.Fa(b)?Id(f,new I("child_removed",e,b)):H(a.J(),"A child remove without an old child only makes sense on a leaf node"):e.e()?Id(f,new I("child_added",c,b)):Id(f,new I("child_changed",c,b,e))),a.J()&&c.e()?a:a.U(b,c).ob(this.g))},h.za=function(a,b,c){return null!=c&&(a.J()||a.P(N,function(a,d){b.Fa(a)||Id(c,new I("child_removed",d,a))}),b.J()||b.P(N,function(b,d){if(a.Fa(b)){var e=a.R(b);e.ca(d)||Id(c,new I("child_changed",d,b,e))}else Id(c,new I("child_added",d,b))})),b.ob(this.g)},h.ga=function(a,b){return a.e()?F:a.ga(b)},h.Qa=function(){return!1},h.Vb=function(){return this},h=fe.prototype,h.matches=function(a){return 0>=this.g.compare(this.Uc,a)&&0>=this.g.compare(a,this.wc)},h.F=function(a,b,c,d,e,f){return this.matches(new K(b,c))||(c=F),this.he.F(a,b,c,d,e,f)},h.za=function(a,b,c){b.J()&&(b=F);var d=b.ob(this.g),d=d.ga(F),e=this;return b.P(N,function(a,b){e.matches(new K(a,b))||(d=d.U(a,F))}),this.he.za(a,d,c)},h.ga=function(a){return a},h.Qa=function(){return!0},h.Vb=function(){return this.he},h=ke.prototype,h.F=function(a,b,c,d,e,f){return this.sa.matches(new K(b,c))||(c=F),a.R(b).ca(c)?a:a.Fb()<this.oa?this.sa.Vb().F(a,b,c,d,e,f):me(this,a,b,c,e,f)},h.za=function(a,b,c){var d;if(b.J()||b.e())d=F.ob(this.g);else if(2*this.oa<b.Fb()&&b.zc(this.g)){d=F.ob(this.g),b=this.Jb?b.$b(this.sa.wc,this.g):b.Yb(this.sa.Uc,this.g);for(var e=0;0<b.Sa.length&&e<this.oa;){var f,g=R(b);if(!(f=this.Jb?0>=this.g.compare(this.sa.Uc,g):0>=this.g.compare(g,this.sa.wc)))break;d=d.U(g.name,g.S),e++}}else{d=b.ob(this.g),d=d.ga(F);var h,i,j;if(this.Jb){b=d.$e(this.g),h=this.sa.wc,i=this.sa.Uc;var k=ne(this.g);j=function(a,b){return k(b,a)}}else b=d.Xb(this.g),h=this.sa.Uc,i=this.sa.wc,j=ne(this.g);for(var e=0,l=!1;0<b.Sa.length;)g=R(b),!l&&0>=j(h,g)&&(l=!0),(f=l&&e<this.oa&&0>=j(g,i))?e++:d=d.U(g.name,F)}return this.sa.Vb().za(a,d,c)},h.ga=function(a){return a},h.Qa=function(){return!0},h.Vb=function(){return this.sa.Vb()};var re=["object","boolean","number","string"];h=Vc.prototype,h.J=function(){return!0},h.C=function(){return this.aa},h.ga=function(a){return new Vc(this.B,a)},h.R=function(a){return".priority"===a?this.aa:F},h.Q=function(a){return a.e()?this:".priority"===J(a)?this.aa:F},h.Fa=function(){return!1},h.Ze=function(){return null},h.U=function(a,b){return".priority"===a?this.ga(b):b.e()&&".priority"!==a?this:F.U(a,b).ga(this.aa)},h.F=function(a,b){var c=J(a);return null===c?b:b.e()&&".priority"!==c?this:(H(".priority"!==c||1===Zd(a),".priority must be the last token in a path"),this.U(c,F.F(D(a),b)))},h.e=function(){return!1},h.Fb=function(){return 0},h.P=function(){return!1},h.H=function(a){return a&&!this.C().e()?{".value":this.Ea(),".priority":this.C().H()}:this.Ea()},h.hash=function(){if(null===this.Eb){var a="";this.aa.e()||(a+="priority:"+se(this.aa.H())+":");var b=typeof this.B,a=a+(b+":"),a="number"===b?a+nd(this.B):a+this.B;this.Eb=Zc(a)}return this.Eb},h.Ea=function(){return this.B},h.tc=function(a){if(a===F)return 1;if(a instanceof P)return-1;H(a.J(),"Unknown node type");var b=typeof a.B,c=typeof this.B,d=Ia(re,b),e=Ia(re,c);return H(0<=d,"Unknown leaf type: "+b),H(0<=e,"Unknown leaf type: "+c),d===e?"object"===c?0:this.B<a.B?-1:this.B===a.B?0:1:e-d},h.ob=function(){return this},h.zc=function(){return!0},h.ca=function(a){return a===this||!!a.J()&&(this.B===a.B&&this.aa.ca(a.aa))},h.toString=function(){return B(this.H(!0))};var ue={};te.prototype.nd=function(a,b){return 0!==this.compare(new K("[MIN_NAME]",a),new K("[MIN_NAME]",b))},te.prototype.Ic=function(){return ve},ka(we,te),h=we.prototype,h.yc=function(a){return!a.Q(this.cc).e()},h.compare=function(a,b){var c=a.S.Q(this.cc),d=b.S.Q(this.cc),c=c.tc(d);return 0===c?Mc(a.name,b.name):c},h.Fc=function(a,b){var c=M(a),c=F.F(this.cc,c);return new K(b,c)},h.Gc=function(){var a=F.F(this.cc,xe);return new K("[MAX_NAME]",a)},h.toString=function(){return this.cc.slice().join("/")},ka(ye,te),h=ye.prototype,h.compare=function(a,b){var c=a.S.C(),d=b.S.C(),c=c.tc(d);return 0===c?Mc(a.name,b.name):c},h.yc=function(a){return!a.C().e()},h.nd=function(a,b){return!a.C().ca(b.C())},h.Ic=function(){return ve},h.Gc=function(){return new K("[MAX_NAME]",new Vc("[PRIORITY-POST]",xe))},h.Fc=function(a,b){var c=M(a);return new K(b,new Vc("[PRIORITY-POST]",c))},h.toString=function(){return".priority"};var N=new ye;ka(ze,te),h=ze.prototype,h.compare=function(a,b){return Mc(a.name,b.name)},h.yc=function(){throw Xc("KeyIndex.isDefinedOn not expected to be called.")},h.nd=function(){return!1},h.Ic=function(){return ve},h.Gc=function(){return new K("[MAX_NAME]",F)},h.Fc=function(a){return H(q(a),"KeyIndex indexValue must always be a string."),new K(a,F)},h.toString=function(){return".key"};var de=new ze;ka(Ae,te),h=Ae.prototype,h.compare=function(a,b){var c=a.S.tc(b.S);return 0===c?Mc(a.name,b.name):c},h.yc=function(){return!0},h.nd=function(a,b){return!a.ca(b)},h.Ic=function(){return ve},h.Gc=function(){return Be},h.Fc=function(a,b){var c=M(a);return new K(b,c)},h.toString=function(){return".value"};var Ce=new Ae,Ee=new De;h=De.prototype,h.ne=function(a){var b=Fe(this);return b.xa=!0,b.oa=a,b.oc="l",b},h.oe=function(a){var b=Fe(this);return b.xa=!0,b.oa=a,b.oc="r",b},h.Nd=function(a,b){var c=Fe(this);return c.ka=!0,p(a)||(a=null),c.ec=a,null!=b?(c.Lb=!0,c.Ab=b):(c.Lb=!1,c.Ab=""),c},h.fd=function(a,b){var c=Fe(this);
return c.na=!0,p(a)||(a=null),c.bc=a,p(b)?(c.Sb=!0,c.yb=b):(c.Hg=!1,c.yb=""),c},h.toString=function(){return B(He(this))},Ie.prototype.get=function(a){var b=x(this.od,a);if(!b)throw Error("No index defined for "+a);return b===ue?null:b};var Me=new Ie({".priority":ue},{".priority":N});h=Ne.prototype,h.add=function(a,b){this.set[a]=null===b||b},h.contains=function(a){return Bb(this.set,a)},h.get=function(a){return this.contains(a)?this.set[a]:void 0},h.remove=function(a){delete this.set[a]},h.clear=function(){this.set={}},h.e=function(){return xa(this.set)},h.count=function(){return qa(this.set)},h.keys=function(){var a=[];return t(this.set,function(b,c){a.push(c)}),a};var Qe,Re;Pe.prototype.open=function(a,b){this.Qe=0,this.ja=b,this.ff=new Rb(a),this.Bb=!1;var c=this;this.tb=setTimeout(function(){c.f("Timed out trying to connect."),c.fb(),c.tb=null},Math.floor(3e4)),hd(function(){if(!c.Bb){c.Wa=new Se(function(a,b,d,e,f){if(Te(c,arguments),c.Wa)if(c.tb&&(clearTimeout(c.tb),c.tb=null),c.xc=!0,"start"==a)c.id=b,c.mf=d;else{if("close"!==a)throw Error("Unrecognized command received: "+a);b?(c.Wa.Kd=!1,Sb(c.ff,b,function(){c.fb()})):c.fb()}},function(a,b){Te(c,arguments),Tb(c.ff,a,b)},function(){c.fb()},c.Yc);var a={start:"t"};a.ser=Math.floor(1e8*Math.random()),c.Wa.Qd&&(a.cb=c.Wa.Qd),a.v="5",c.Bf&&(a.s=c.Bf),c.Db&&(a.ls=c.Db),"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(a.r="f"),a=c.Yc(a),c.f("Connecting via long-poll to "+a),Ue(c.Wa,a,function(){})}})},Pe.prototype.start=function(){var a=this.Wa,b=this.mf;for(a.fg=this.id,a.gg=b,a.Ud=!0;Ve(a););a=this.id,b=this.mf,this.gc=document.createElement("iframe");var c={dframe:"t"};c.id=a,c.pw=b,this.gc.src=this.Yc(c),this.gc.style.display="none",document.body.appendChild(this.gc)},Pe.isAvailable=function(){return Qe||!Re&&"undefined"!=typeof document&&null!=document.createElement&&!("object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"==typeof Windows&&"object"==typeof Windows.Dg)&&!0},h=Pe.prototype,h.sd=function(){},h.Tc=function(){this.Bb=!0,this.Wa&&(this.Wa.close(),this.Wa=null),this.gc&&(document.body.removeChild(this.gc),this.gc=null),this.tb&&(clearTimeout(this.tb),this.tb=null)},h.fb=function(){this.Bb||(this.f("Longpoll is closing itself"),this.Tc(),this.ja&&(this.ja(this.xc),this.ja=null))},h.close=function(){this.Bb||(this.f("Longpoll is being closed."),this.Tc())},h.send=function(a){a=B(a),this.rb+=a.length,mc(this.Xa,"bytes_sent",a.length),a=Mb(a),a=ab(a,!0),a=ld(a,1840);for(var b=0;b<a.length;b++){var c=this.Wa;c.Qc.push({ug:this.Qe,Bg:a.length,Se:a[b]}),c.Ud&&Ve(c),this.Qe++}},Se.prototype.close=function(){if(this.Ud=!1,this.Ga){this.Ga.ib.body.innerHTML="";var a=this;setTimeout(function(){null!==a.Ga&&(document.body.removeChild(a.Ga),a.Ga=null)},Math.floor(0))}var b=this.kb;b&&(this.kb=null,b())};var Ze=[Pe,vd];af.prototype.ua=function(a){mf(this,{t:"d",d:a})},af.prototype.wd=function(a){jf(this),this.te(a)},af.prototype.close=function(){2!==this.L&&(this.f("Closing realtime connection."),this.L=2,hf(this),this.ja&&(this.ja(),this.ja=null))},h=L.prototype,h.toString=function(){for(var a="",b=this.Z;b<this.o.length;b++)""!==this.o[b]&&(a+="/"+this.o[b]);return a||"/"},h.slice=function(a){return this.o.slice(this.Z+(a||0))},h.parent=function(){if(this.Z>=this.o.length)return null;for(var a=[],b=this.Z;b<this.o.length-1;b++)a.push(this.o[b]);return new L(a,0)},h.m=function(a){for(var b=[],c=this.Z;c<this.o.length;c++)b.push(this.o[c]);if(a instanceof L)for(c=a.Z;c<a.o.length;c++)b.push(a.o[c]);else for(a=a.split("/"),c=0;c<a.length;c++)0<a[c].length&&b.push(a[c]);return new L(b,0)},h.e=function(){return this.Z>=this.o.length},h.ca=function(a){if(Zd(this)!==Zd(a))return!1;for(var b=this.Z,c=a.Z;b<=this.o.length;b++,c++)if(this.o[b]!==a.o[c])return!1;return!0},h.contains=function(a){var b=this.Z,c=a.Z;if(Zd(this)>Zd(a))return!1;for(;b<this.o.length;){if(this.o[b]!==a.o[c])return!1;++b,++c}return!0};var C=new L("");of.prototype.push=function(a){0<this.Ta.length&&(this.Ka+=1),this.Ta.push(a),this.Ka+=Nb(a),pf(this)},of.prototype.pop=function(){var a=this.Ta.pop();this.Ka-=Nb(a),0<this.Ta.length&&--this.Ka};var uf={TIMESTAMP:{".sv":"timestamp"}};h=rf.prototype,h.app=null,h.pf=function(a){return vf(this,"ref"),y("database.ref",0,1,arguments.length),p(a)?this.ba.m(a):this.ba},h.rg=function(a){vf(this,"database.refFromURL"),y("database.refFromURL",1,1,arguments.length);var b=fd(a);wf("database.refFromURL",b);var c=b.kc;return c.host!==this.ta.M.host&&ed("database.refFromURL: Host name does not match the current database: (found "+c.host+" but expected "+this.ta.M.host+")"),this.pf(b.path.toString())},h.$f=function(){y("database.goOffline",0,0,arguments.length),vf(this,"goOffline"),this.ta.eb()},h.ag=function(){y("database.goOnline",0,0,arguments.length),vf(this,"goOnline"),this.ta.lc()},Object.defineProperty(rf.prototype,"app",{get:function(){return this.ta.app}}),tf.prototype.delete=function(){vf(this.$a,"delete");var a=xf.Wb(),b=this.$a.ta;return x(a.nb,b.app.name)!==b&&ed("Database "+b.app.name+" has already been deleted."),b.eb(),delete a.nb[b.app.name],this.$a.ta=null,this.$a.ba=null,this.$a=this.$a.INTERNAL=null,firebase.Promise.resolve()},rf.prototype.ref=rf.prototype.pf,rf.prototype.refFromURL=rf.prototype.rg,rf.prototype.goOnline=rf.prototype.ag,rf.prototype.goOffline=rf.prototype.$f,tf.prototype.delete=tf.prototype.delete,Rc.prototype.find=function(a){if(null!=this.B)return this.B.Q(a);if(a.e()||null==this.k)return null;var b=J(a);return a=D(a),this.k.contains(b)?this.k.get(b).find(a):null},Rc.prototype.P=function(a){null!==this.k&&Oe(this.k,function(b,c){a(b,c)})};var zf=/[\[\].#$\/\u0000-\u001F\u007F]/,Af=/[\[\].#$\u0000-\u001F\u007F]/;V.prototype.cancel=function(a){y("Firebase.onDisconnect().cancel",0,1,arguments.length),A("Firebase.onDisconnect().cancel",1,a,!0);var b=new Hb;return this.ta.xd(this.qa,Ib(b,a)),b.ra},V.prototype.cancel=V.prototype.cancel,V.prototype.remove=function(a){y("Firebase.onDisconnect().remove",0,1,arguments.length),Lf("Firebase.onDisconnect().remove",this.qa),A("Firebase.onDisconnect().remove",1,a,!0);var b=new Hb;return Mf(this.ta,this.qa,null,Ib(b,a)),b.ra},V.prototype.remove=V.prototype.remove,V.prototype.set=function(a,b){y("Firebase.onDisconnect().set",1,2,arguments.length),Lf("Firebase.onDisconnect().set",this.qa),Df("Firebase.onDisconnect().set",a,this.qa,!1),A("Firebase.onDisconnect().set",2,b,!0);var c=new Hb;return Mf(this.ta,this.qa,a,Ib(c,b)),c.ra},V.prototype.set=V.prototype.set,V.prototype.Kb=function(a,b,c){y("Firebase.onDisconnect().setWithPriority",2,3,arguments.length),Lf("Firebase.onDisconnect().setWithPriority",this.qa),Df("Firebase.onDisconnect().setWithPriority",a,this.qa,!1),Hf("Firebase.onDisconnect().setWithPriority",2,b),A("Firebase.onDisconnect().setWithPriority",3,c,!0);var d=new Hb;return Nf(this.ta,this.qa,a,b,Ib(d,c)),d.ra},V.prototype.setWithPriority=V.prototype.Kb,V.prototype.update=function(a,b){if(y("Firebase.onDisconnect().update",1,2,arguments.length),Lf("Firebase.onDisconnect().update",this.qa),da(a)){for(var c={},d=0;d<a.length;++d)c[""+d]=a[d];a=c,O("Passing an Array to Firebase.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}return Gf("Firebase.onDisconnect().update",a,this.qa),A("Firebase.onDisconnect().update",2,b,!0),c=new Hb,Of(this.ta,this.qa,a,Ib(c,b)),c.ra},V.prototype.update=V.prototype.update,Pf.prototype.Ge=function(a,b){var c;c=this.Ec[a]||[];var d=c.length;if(0<d){for(var e=Array(d),f=0;f<d;f++)e[f]=c[f];c=e}else c=[];for(d=0;d<c.length;d++)c[d].Ke.apply(c[d].Pa,Array.prototype.slice.call(arguments,1))},Pf.prototype.hc=function(a,b,c){Qf(this,a),this.Ec[a]=this.Ec[a]||[],this.Ec[a].push({Ke:b,Pa:c}),(a=this.Ye(a))&&b.apply(c,a)},Pf.prototype.Jc=function(a,b,c){Qf(this,a),a=this.Ec[a]||[];for(var d=0;d<a.length;d++)if(a[d].Ke===b&&(!c||c===a[d].Pa)){a.splice(d,1);break}},ka(Rf,Pf),Rf.prototype.Ye=function(a){return H("online"===a,"Unknown event type: "+a),[this.ic]},ba(Rf),ka(Sf,Pf),Sf.prototype.Ye=function(a){return H("visible"===a,"Unknown event type: "+a),[this.Nb]},ba(Sf);var Tf=function(){var a=0,b=[];return function(c){var d=c===a;a=c;for(var e=Array(8),f=7;0<=f;f--)e[f]="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz".charAt(c%64),c=Math.floor(c/64);if(H(0===c,"Cannot push at time == 0"),c=e.join(""),d){for(f=11;0<=f&&63===b[f];f--)b[f]=0;b[f]++}else for(f=0;12>f;f++)b[f]=Math.floor(64*Math.random());for(f=0;12>f;f++)c+="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz".charAt(b[f]);return H(20===c.length,"nextPushId: Length should be 20."),c}}();h=Uf.prototype,h.Ra=function(a,b){return new Uf(this.Oa,this.ba.Ra(a,b,this.Oa).Y(null,null,!1,null,null))},h.remove=function(a){return new Uf(this.Oa,this.ba.remove(a,this.Oa).Y(null,null,!1,null,null))},h.get=function(a){for(var b,c=this.ba;!c.e();){if(b=this.Oa(a,c.key),0===b)return c.value;0>b?c=c.left:0<b&&(c=c.right)}return null},h.e=function(){return this.ba.e()},h.count=function(){return this.ba.count()},h.Hc=function(){return this.ba.Hc()},h.fc=function(){return this.ba.fc()},h.ia=function(a){return this.ba.ia(a)},h.Xb=function(a){return new Xf(this.ba,null,this.Oa,!1,a)},h.Yb=function(a,b){return new Xf(this.ba,a,this.Oa,!1,b)},h.$b=function(a,b){return new Xf(this.ba,a,this.Oa,!0,b)},h.$e=function(a){return new Xf(this.ba,null,this.Oa,!0,a)},h=Zf.prototype,h.Y=function(a,b,c,d,e){return new Zf(null!=a?a:this.key,null!=b?b:this.value,null!=c?c:this.color,null!=d?d:this.left,null!=e?e:this.right)},h.count=function(){return this.left.count()+1+this.right.count()},h.e=function(){return!1},h.ia=function(a){return this.left.ia(a)||a(this.key,this.value)||this.right.ia(a)},h.Hc=function(){return $f(this).key},h.fc=function(){return this.right.e()?this.key:this.right.fc()},h.Ra=function(a,b,c){var d,e;return e=this,d=c(a,e.key),e=0>d?e.Y(null,null,null,e.left.Ra(a,b,c),null):0===d?e.Y(null,b,null,null,null):e.Y(null,null,null,null,e.right.Ra(a,b,c)),ag(e)},h.remove=function(a,b){var c,d;if(c=this,0>b(a,c.key))c.left.e()||c.left.fa()||c.left.left.fa()||(c=cg(c)),c=c.Y(null,null,null,c.left.remove(a,b),null);else{if(c.left.fa()&&(c=dg(c)),c.right.e()||c.right.fa()||c.right.left.fa()||(c=eg(c),c.left.left.fa()&&(c=dg(c),c=eg(c))),0===b(a,c.key)){if(c.right.e())return Vf;d=$f(c.right),c=c.Y(d.key,d.value,null,null,bg(c.right))}c=c.Y(null,null,null,null,c.right.remove(a,b))}return ag(c)},h.fa=function(){return this.color},h=gg.prototype,h.Y=function(){return this},h.Ra=function(a,b){return new Zf(a,b,null)},h.remove=function(){return this},h.count=function(){return 0},h.e=function(){return!0},h.ia=function(){return!1},h.Hc=function(){return null},h.fc=function(){return null},h.fa=function(){return!1};var Vf=new gg;h=P.prototype,h.J=function(){return!1},h.C=function(){return this.aa||F},h.ga=function(a){return this.k.e()?this:new P(this.k,a,this.zb)},h.R=function(a){return".priority"===a?this.C():(a=this.k.get(a),null===a?F:a)},h.Q=function(a){var b=J(a);return null===b?this:this.R(b).Q(D(a))},h.Fa=function(a){return null!==this.k.get(a)},h.U=function(a,b){if(H(b,"We should always be passing snapshot nodes"),".priority"===a)return this.ga(b);var c,d,e=new K(a,b);return b.e()?(c=this.k.remove(a),e=Le(this.zb,e,this.k)):(c=this.k.Ra(a,b),e=Je(this.zb,e,this.k)),d=c.e()?F:this.aa,new P(c,d,e)},h.F=function(a,b){var c=J(a);if(null===c)return b;H(".priority"!==J(a)||1===Zd(a),".priority must be the last token in a path");var d=this.R(c).F(D(a),b);return this.U(c,d)},h.e=function(){return this.k.e()},h.Fb=function(){return this.k.count()};var hg=/^(0|[1-9]\d*)$/;h=P.prototype,h.H=function(a){if(this.e())return null;var b={},c=0,d=0,e=!0;if(this.P(N,function(f,g){b[f]=g.H(a),c++,e&&hg.test(f)?d=Math.max(d,Number(f)):e=!1}),!a&&e&&d<2*c){var f,g=[];for(f in b)g[f]=b[f];return g}return a&&!this.C().e()&&(b[".priority"]=this.C().H()),b},h.hash=function(){if(null===this.Eb){var a="";this.C().e()||(a+="priority:"+se(this.C().H())+":"),this.P(N,function(b,c){var d=c.hash();""!==d&&(a+=":"+b+":"+d)}),this.Eb=""===a?"":Zc(a)}return this.Eb},h.Ze=function(a,b,c){return(c=ig(this,c))?(a=Wf(c,new K(a,b)))?a.name:null:Wf(this.k,a)},h.P=function(a,b){var c=ig(this,a);return c?c.ia(function(a){return b(a.name,a.S)}):this.k.ia(b)},h.Xb=function(a){return this.Yb(a.Ic(),a)},h.Yb=function(a,b){var c=ig(this,b);if(c)return c.Yb(a,function(a){return a});for(var c=this.k.Yb(a.name,Oc),d=Yf(c);null!=d&&0>b.compare(d,a);)R(c),d=Yf(c);return c},h.$e=function(a){return this.$b(a.Gc(),a)},h.$b=function(a,b){var c=ig(this,b);if(c)return c.$b(a,function(a){return a});for(var c=this.k.$b(a.name,Oc),d=Yf(c);null!=d&&0<b.compare(d,a);)R(c),d=Yf(c);return c},h.tc=function(a){return this.e()?a.e()?0:-1:a.J()||a.e()?1:a===xe?-1:0},h.ob=function(a){if(a===de||ua(this.zb.dc,a.toString()))return this;var b=this.zb,c=this.k;H(a!==de,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var d=[],e=!1,c=c.Xb(Oc),f=R(c);f;)e=e||a.yc(f.S),d.push(f),f=R(c);return d=e?Ke(d,ne(a)):ue,e=a.toString(),c=ya(b.dc),c[e]=a,a=ya(b.od),a[e]=d,new P(this.k,this.aa,new Ie(a,c))},h.zc=function(a){return a===de||ua(this.zb.dc,a.toString())},h.ca=function(a){if(a===this)return!0;if(a.J())return!1;if(this.C().ca(a.C())&&this.k.count()===a.k.count()){var b=this.Xb(N);a=a.Xb(N);for(var c=R(b),d=R(a);c&&d;){if(c.name!==d.name||!c.S.ca(d.S))return!1;c=R(b),d=R(a)}return null===c&&null===d}return!1},h.toString=function(){return B(this.H(!0))};var jg=Math.log(2),F=new P(new Uf(Nc),null,Me);ka(mg,P),h=mg.prototype,h.tc=function(a){return a===this?0:1},h.ca=function(a){return a===this},h.C=function(){return this},h.R=function(){return F},h.e=function(){return!1};var xe=new mg,ve=new K("[MIN_NAME]",F),Be=new K("[MAX_NAME]",xe);W.prototype.H=function(){return y("Firebase.DataSnapshot.val",0,0,arguments.length),this.A.H()},W.prototype.val=W.prototype.H,W.prototype.Ue=function(){return y("Firebase.DataSnapshot.exportVal",0,0,arguments.length),this.A.H(!0)},W.prototype.exportVal=W.prototype.Ue,W.prototype.Vf=function(){return y("Firebase.DataSnapshot.exists",0,0,arguments.length),!this.A.e()},W.prototype.exists=W.prototype.Vf,W.prototype.m=function(a){y("Firebase.DataSnapshot.child",0,1,arguments.length),fa(a)&&(a=String(a)),Kf("Firebase.DataSnapshot.child",a);var b=new L(a),c=this.W.m(b);return new W(this.A.Q(b),c,N)},W.prototype.child=W.prototype.m,W.prototype.Fa=function(a){y("Firebase.DataSnapshot.hasChild",1,1,arguments.length),Kf("Firebase.DataSnapshot.hasChild",a);var b=new L(a);return!this.A.Q(b).e()},W.prototype.hasChild=W.prototype.Fa,W.prototype.C=function(){return y("Firebase.DataSnapshot.getPriority",0,0,arguments.length),this.A.C().H()},W.prototype.getPriority=W.prototype.C,W.prototype.forEach=function(a){if(y("Firebase.DataSnapshot.forEach",1,1,arguments.length),A("Firebase.DataSnapshot.forEach",1,a,!1),this.A.J())return!1;var b=this;return!!this.A.P(this.g,function(c,d){return a(new W(d,b.W.m(c),N))})},W.prototype.forEach=W.prototype.forEach,W.prototype.kd=function(){return y("Firebase.DataSnapshot.hasChildren",0,0,arguments.length),!this.A.J()&&!this.A.e()},W.prototype.hasChildren=W.prototype.kd,W.prototype.getKey=function(){return y("Firebase.DataSnapshot.key",0,0,arguments.length),this.W.getKey()},pd(W.prototype,"key",W.prototype.getKey),W.prototype.Fb=function(){return y("Firebase.DataSnapshot.numChildren",0,0,arguments.length),this.A.Fb()},W.prototype.numChildren=W.prototype.Fb,W.prototype.xb=function(){return y("Firebase.DataSnapshot.ref",0,0,arguments.length),this.W},pd(W.prototype,"ref",W.prototype.xb),Xd.prototype.u=function(){return this.Ld},h=ng.prototype,h.u=function(){return this.Na.u().j()},h.jb=function(a){var b=Fc(this.Na);return b&&(S(this.W.n)||!a.e()&&!b.R(J(a)).e())?b.Q(a):null},h.e=function(){return 0===this.ab.length},h.Ob=function(a){this.ab.push(a)},h.mb=function(a,b){var c=[];if(b){H(null==a,"A cancel should cancel all event registrations.");var d=this.W.path;Ja(this.ab,function(a){(a=a.Pe(b,d))&&c.push(a)})}if(a){for(var e=[],f=0;f<this.ab.length;++f){var g=this.ab[f];if(g.matches(a)){if(a.af()){e=e.concat(this.ab.slice(f+1));break}}else e.push(g)}this.ab=e}else this.ab=[];return c},h.gb=function(a,b,c){a.type===Gd&&null!==a.source.Ib&&(H(Fc(this.Na),"We should always have a full cache before handling merges"),H(Yd(this.Na),"Missing event cache, even though we have a server cache"));var d=this.Na;return a=this.of.gb(d,a,b,c),b=this.of,c=a.Sd,H(c.O.j().zc(b.V.g),"Event snap not indexed"),H(c.u().j().zc(b.V.g),"Server snap not indexed"),H(Ic(a.Sd.u())||!Ic(d.u()),"Once a server snap is complete, it should never go back"),this.Na=a.Sd,pg(this,a.Mf,a.Sd.O.j(),null)},h=rg.prototype,h.tf=function(a){return"value"===a},h.createEvent=function(a,b){var c=b.n.g;return new yc("value",this,new W(a.Ma,b.xb(),c))},h.Ub=function(a){var b=this.ub;if("cancel"===a.ge()){H(this.sb,"Raising a cancel event on a listener with no cancel callback");var c=this.sb;return function(){c.call(b,a.error)}}var d=this.Qb;return function(){d.call(b,a.Md)}},h.Pe=function(a,b){return this.sb?new zc(this,a,b):null},h.matches=function(a){return a instanceof rg&&(!a.Qb||!this.Qb||a.Qb===this.Qb&&a.ub===this.ub)},h.af=function(){return null!==this.Qb},h=sg.prototype,h.tf=function(a){return a="children_added"===a?"child_added":a,("children_removed"===a?"child_removed":a)in this.ha},h.Pe=function(a,b){return this.sb?new zc(this,a,b):null},h.createEvent=function(a,b){H(null!=a.Za,"Child events should have a childName.");var c=b.xb().m(a.Za);return new yc(a.type,this,new W(a.Ma,c,b.n.g),a.Dd)},h.Ub=function(a){var b=this.ub;if("cancel"===a.ge()){H(this.sb,"Raising a cancel event on a listener with no cancel callback");var c=this.sb;return function(){c.call(b,a.error)}}var d=this.ha[a.gd];return function(){d.call(b,a.Md,a.Dd)}},h.matches=function(a){if(a instanceof sg){if(!this.ha||!a.ha)return!0;if(this.ub===a.ub){var b=qa(a.ha);if(b===qa(this.ha)){if(1===b){var b=ra(a.ha),c=ra(this.ha);return!(c!==b||a.ha[b]&&this.ha[c]&&a.ha[b]!==this.ha[c])}return pa(this.ha,function(b,c){return a.ha[c]===b})}}}return!1},h.af=function(){return null!==this.ha},h=X.prototype,h.xb=function(){return y("Query.ref",0,0,arguments.length),new U(this.w,this.path)},h.hc=function(a,b,c,d){y("Query.on",2,4,arguments.length),If("Query.on",a,!1),A("Query.on",2,b,!1);var e=wg("Query.on",c,d);if("value"===a)xg(this.w,this,new rg(b,e.cancel||null,e.Pa||null));else{var f={};f[a]=b,xg(this.w,this,new sg(f,e.cancel,e.Pa))}return b},h.Jc=function(a,b,c){y("Query.off",0,3,arguments.length),If("Query.off",a,!0),A("Query.off",2,b,!0),Eb("Query.off",3,c);var d=null,e=null;"value"===a?d=new rg(b||null,null,c||null):a&&(b&&(e={},e[a]=b),d=new sg(e,null,c||null)),e=this.w,d=".info"===J(this.path)?e.pd.mb(this,d):e.K.mb(this,d),uc(e.da,this.path,d)},h.kg=function(a,b){function c(h){f&&(f=!1,e.Jc(a,c),b&&b.call(d.Pa,h),g.resolve(h))}y("Query.once",1,4,arguments.length),If("Query.once",a,!1),A("Query.once",2,b,!0);var d=wg("Query.once",arguments[2],arguments[3]),e=this,f=!0,g=new Hb;return Jb(g.ra),this.hc(a,c,function(b){e.Jc(a,c),d.cancel&&d.cancel.call(d.Pa,b),g.reject(b)}),g.ra},h.ne=function(a){if(y("Query.limitToFirst",1,1,arguments.length),!fa(a)||Math.floor(a)!==a||0>=a)throw Error("Query.limitToFirst: First argument must be a positive integer.");if(this.n.xa)throw Error("Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new X(this.w,this.path,this.n.ne(a),this.Oc)},h.oe=function(a){if(y("Query.limitToLast",1,1,arguments.length),!fa(a)||Math.floor(a)!==a||0>=a)throw Error("Query.limitToLast: First argument must be a positive integer.");if(this.n.xa)throw Error("Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new X(this.w,this.path,this.n.oe(a),this.Oc)},h.lg=function(a){if(y("Query.orderByChild",1,1,arguments.length),"$key"===a)throw Error('Query.orderByChild: "$key" is invalid.  Use Query.orderByKey() instead.');if("$priority"===a)throw Error('Query.orderByChild: "$priority" is invalid.  Use Query.orderByPriority() instead.');if("$value"===a)throw Error('Query.orderByChild: "$value" is invalid.  Use Query.orderByValue() instead.');Kf("Query.orderByChild",a),vg(this,"Query.orderByChild");var b=new L(a);if(b.e())throw Error("Query.orderByChild: cannot pass in empty path.  Use Query.orderByValue() instead.");return b=new we(b),b=Ge(this.n,b),tg(b),new X(this.w,this.path,b,!0)},h.mg=function(){y("Query.orderByKey",0,0,arguments.length),vg(this,"Query.orderByKey");var a=Ge(this.n,de);return tg(a),new X(this.w,this.path,a,!0)},h.ng=function(){y("Query.orderByPriority",0,0,arguments.length),vg(this,"Query.orderByPriority");var a=Ge(this.n,N);return tg(a),new X(this.w,this.path,a,!0)},h.og=function(){y("Query.orderByValue",0,0,arguments.length),vg(this,"Query.orderByValue");var a=Ge(this.n,Ce);return tg(a),new X(this.w,this.path,a,!0)},h.Nd=function(a,b){y("Query.startAt",0,2,arguments.length),Df("Query.startAt",a,this.path,!0),Jf("Query.startAt",b);var c=this.n.Nd(a,b);if(ug(c),tg(c),this.n.ka)throw Error("Query.startAt: Starting point was already set (by another call to startAt or equalTo).");return p(a)||(b=a=null),new X(this.w,this.path,c,this.Oc)},h.fd=function(a,b){y("Query.endAt",0,2,arguments.length),Df("Query.endAt",a,this.path,!0),Jf("Query.endAt",b);var c=this.n.fd(a,b);if(ug(c),tg(c),this.n.na)throw Error("Query.endAt: Ending point was already set (by another call to endAt or equalTo).");return new X(this.w,this.path,c,this.Oc)},h.Rf=function(a,b){if(y("Query.equalTo",1,2,arguments.length),Df("Query.equalTo",a,this.path,!1),Jf("Query.equalTo",b),this.n.ka)throw Error("Query.equalTo: Starting point was already set (by another call to endAt or equalTo).");if(this.n.na)throw Error("Query.equalTo: Ending point was already set (by another call to endAt or equalTo).");return this.Nd(a,b).fd(a,b)},h.toString=function(){y("Query.toString",0,0,arguments.length);for(var a=this.path,b="",c=a.Z;c<a.o.length;c++)""!==a.o[c]&&(b+="/"+encodeURIComponent(String(a.o[c])));return this.w.toString()+(b||"/")},h.ya=function(){var a=kd(He(this.n));return"{}"===a?"default":a},X.prototype.on=X.prototype.hc,X.prototype.off=X.prototype.Jc,X.prototype.once=X.prototype.kg,X.prototype.limitToFirst=X.prototype.ne,X.prototype.limitToLast=X.prototype.oe,X.prototype.orderByChild=X.prototype.lg,X.prototype.orderByKey=X.prototype.mg,X.prototype.orderByPriority=X.prototype.ng,X.prototype.orderByValue=X.prototype.og,X.prototype.startAt=X.prototype.Nd,X.prototype.endAt=X.prototype.fd,X.prototype.equalTo=X.prototype.Rf,X.prototype.toString=X.prototype.toString,pd(X.prototype,"ref",X.prototype.xb);var zg=new Uf(function(a,b){return a===b?0:a<b?-1:1});h=yg.prototype,h.e=function(){return null===this.value&&this.children.e()},h.subtree=function(a){if(a.e())return this;var b=this.children.get(J(a));return null!==b?b.subtree(D(a)):Q},h.set=function(a,b){if(a.e())return new yg(b,this.children);var c=J(a),d=(this.children.get(c)||Q).set(D(a),b),c=this.children.Ra(c,d);return new yg(this.value,c)},h.remove=function(a){if(a.e())return this.children.e()?Q:new yg(null,this.children);var b=J(a),c=this.children.get(b);return c?(a=c.remove(D(a)),b=a.e()?this.children.remove(b):this.children.Ra(b,a),null===this.value&&b.e()?Q:new yg(this.value,b)):this},h.get=function(a){if(a.e())return this.value;var b=this.children.get(J(a));return b?b.get(D(a)):null};var Q=new yg(null);yg.prototype.toString=function(){var a={};return ae(this,function(b,c){a[b.toString()]=c.toString()}),B(a)},Lg.prototype.Nc=function(a){return this.path.e()?null!=this.Pb.value?(H(this.Pb.children.e(),"affectedTree should not have overlapping affected paths."),this):(a=this.Pb.subtree(new L(a)),new Lg(C,a,this.Id)):(H(J(this.path)===a,"operationForChild called for unrelated child."),new Lg(D(this.path),this.Pb,this.Id))},Lg.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" ack write revert="+this.Id+" affectedTree="+this.Pb+")"};var ac=0,Gd=1,Td=2,cc=3,Mg=new Ng(!0,!1,null,!1),Og=new Ng(!1,!0,null,!1);Ng.prototype.toString=function(){return this.ee?"user":this.Ee?"server(queryID="+this.Ib+")":"server"};var Qg=new Pg(new yg(null));Pg.prototype.Ed=function(a){return a.e()?Qg:(a=ce(this.X,a,Q),new Pg(a))},Pg.prototype.e=function(){return this.X.e()},Pg.prototype.apply=function(a){return Wg(C,this.X,a)},h=Xg.prototype,h.e=function(){return xa(this.Aa)},h.gb=function(a,b,c){var d=a.source.Ib;if(null!==d)return d=x(this.Aa,d),H(null!=d,"SyncTree gave us an op for an invalid query."),d.gb(a,b,c);var e=[];return t(this.Aa,function(d){e=e.concat(d.gb(a,b,c))}),e},h.Ob=function(a,b,c,d,e){var f=a.ya(),g=x(this.Aa,f);if(!g){var g=c.Ba(e?d:null),h=!1;g?h=!0:(g=d instanceof P?c.sc(d):F,h=!1),g=new ng(a,new Xd(new Ec(g,h,!1),new Ec(d,e,!1))),this.Aa[f]=g}return g.Ob(b),qg(g,b)},h.mb=function(a,b,c){var d=a.ya(),e=[],f=[],g=null!=Yg(this);if("default"===d){var h=this;t(this.Aa,function(a,d){f=f.concat(a.mb(b,c)),a.e()&&(delete h.Aa[d],S(a.W.n)||e.push(a.W))})}else{var i=x(this.Aa,d);i&&(f=f.concat(i.mb(b,c)),i.e()&&(delete this.Aa[d],S(i.W.n)||e.push(i.W)))}return g&&null==Yg(this)&&e.push(new U(a.w,a.path)),{sg:e,Tf:f}},h.jb=function(a){var b=null;return t(this.Aa,function(c){b=b||c.jb(a)}),b},h=ah.prototype,h.Ed=function(a){var b=Pa(this.la,function(b){return b.Zc===a});H(0<=b,"removeWrite called with nonexistent writeId.");var c=this.la[b];this.la.splice(b,1);for(var d=c.visible,e=!1,f=this.la.length-1;d&&0<=f;){var g=this.la[f];g.visible&&(f>=b&&ch(g,c.path)?d=!1:c.path.contains(g.path)&&(e=!0)),f--}if(d){if(e)this.T=dh(this.la,eh,C),this.Cc=0<this.la.length?this.la[this.la.length-1].Zc:-1;else if(c.Ja)this.T=this.T.Ed(c.path);else{var h=this;t(c.children,function(a,b){h.T=h.T.Ed(c.path.m(b))})}return!0}return!1},h.Ba=function(a,b,c,d){if(c||d){var e=Vg(this.T,a);return!d&&e.e()?b:d||null!=b||null!=Tg(e,C)?(e=dh(this.la,function(b){return(b.visible||d)&&(!c||!(0<=Ia(c,b.Zc)))&&(b.path.contains(a)||a.contains(b.path))},a),b=b||F,e.apply(b)):null}return e=Tg(this.T,a),null!=e?e:(e=Vg(this.T,a),e.e()?b:null!=b||null!=Tg(e,C)?(b=b||F,e.apply(b)):null)},h.sc=function(a,b){var c=F,d=Tg(this.T,a);if(d)d.J()||d.P(N,function(a,b){c=c.U(a,b)});else if(b){var e=Vg(this.T,a);b.P(N,function(a,b){var d=Vg(e,new L(a)).apply(b);c=c.U(a,d)}),Ja(Ug(e),function(a){c=c.U(a.name,a.S)})}else e=Vg(this.T,a),Ja(Ug(e),function(a){c=c.U(a.name,a.S)});return c},h.$c=function(a,b,c,d){return H(c||d,"Either existingEventSnap or existingServerSnap must exist"),a=a.m(b),null!=Tg(this.T,a)?null:(a=Vg(this.T,a),a.e()?d.Q(b):a.apply(d.Q(b)))},h.rc=function(a,b,c){a=a.m(b);var d=Tg(this.T,a);return null!=d?d:Dc(c,b)?Vg(this.T,a).apply(c.j().R(b)):null},h.mc=function(a){return Tg(this.T,a)},h.Xd=function(a,b,c,d,e,f){var g;if(a=Vg(this.T,a),g=Tg(a,C),null==g){if(null==b)return[];g=a.apply(b)}if(g=g.ob(f),g.e()||g.J())return[];for(b=[],a=ne(f),e=e?g.$b(c,f):g.Yb(c,f),f=R(e);f&&b.length<d;)0!==a(f,c)&&b.push(f),f=R(e);return b},h=fh.prototype,h.Ba=function(a,b,c){return this.X.Ba(this.Mb,a,b,c)},h.sc=function(a){return this.X.sc(this.Mb,a)},h.$c=function(a,b,c){return this.X.$c(this.Mb,a,b,c)},h.mc=function(a){return this.X.mc(this.Mb.m(a))},h.Xd=function(a,b,c,d,e){return this.X.Xd(this.Mb,a,b,c,d,e)},h.rc=function(a,b){return this.X.rc(this.Mb,a,b)},h.m=function(a){return new fh(this.Mb.m(a),this.X)},h=hh.prototype,h.Ea=function(){return this.A.value},h.clear=function(){this.A.value=null,this.A.children={},this.A.ad=0,kh(this)},h.kd=function(){return 0<this.A.ad},h.e=function(){return null===this.Ea()&&!this.kd()},h.P=function(a){var b=this;t(this.A.children,function(c,d){a(new hh(d,b,c))})},h.path=function(){return new L(null===this.Ha?this.ud:this.Ha.path()+"/"+this.ud)},h.name=function(){return this.ud},h.parent=function(){return this.Ha};var oh=0,qh=0;h=nh.prototype,h.ua=function(a,b,c){var d=++this.tg;a={r:d,a:a,b:b},this.f(B(a)),H(this.ma,"sendRequest call when we're not connected not allowed."),this.Ia.ua(a),c&&(this.Gd[d]=c)},h.df=function(a,b,c,d){var e=a.ya(),f=a.path.toString();this.f("Listen called for "+f+" "+e),this.$[f]=this.$[f]||{},H(Cd(a.n)||!S(a.n),"listen() called for non-default but complete query"),H(!this.$[f][e],"listen() called twice for same path/queryId."),a={G:d,ld:b,pg:a,tag:c},this.$[f][e]=a,this.ma&&rh(this,a)},h.qf=function(a){this.pb=a,this.f("Auth token refreshed"),this.pb?th(this):this.ma&&this.ua("unauth",{},function(){}),(a&&40===a.length||sd(a))&&(this.f("Admin auth credential detected.  Reducing max reconnect time."),this.td=3e4)},h.Ef=function(a,b){var c=a.path.toString(),d=a.ya();if(this.f("Unlisten called for "+c+" "+d),H(Cd(a.n)||!S(a.n),"unlisten() called for non-default but complete query"),sh(this,c,d)&&this.ma){var e=He(a.n);this.f("Unlisten on "+c+" for "+d),c={p:c},b&&(c.q=e,c.t=b),this.ua("n",c)}},h.re=function(a,b,c){this.ma?vh(this,"o",a,b,c):this.Lc.push({we:a,action:"o",data:b,G:c})},h.gf=function(a,b,c){this.ma?vh(this,"om",a,b,c):this.Lc.push({we:a,action:"om",data:b,G:c})},h.xd=function(a,b){this.ma?vh(this,"oc",a,null,b):this.Lc.push({we:a,action:"oc",data:null,G:b})},h.put=function(a,b,c,d){wh(this,"p",a,b,c,d)},h.ef=function(a,b,c,d){wh(this,"m",a,b,c,d)},h.ye=function(a){this.ma&&(a={c:a},this.f("reportStats",a),this.ua("s",a,function(a){"ok"!==a.s&&this.f("reportStats","Error sending stats: "+a.d)}))},h.wd=function(a){if("r"in a){this.f("from server: "+B(a));var b=a.r,c=this.Gd[b];c&&(delete this.Gd[b],c(a.b))}else{if("error"in a)throw"A server-side error has occurred: "+a.error;"a"in a&&(b=a.a,a=a.b,this.f("handleServerMessage",b,a),"d"===b?this.Hb(a.p,a.d,!1,a.t):"m"===b?this.Hb(a.p,a.d,!0,a.t):"c"===b?yh(this,a.p,a.q):"ac"===b?uh(this,a.s,a.d):"sd"===b?this.ze?this.ze(a):"msg"in a&&"undefined"!=typeof console&&console.log("FIREBASE: "+a.msg.replace("\n","\nFIREBASE: ")):dd("Unrecognized action received from server: "+B(b)+"\nAre you using the latest client?"))}},h.Mc=function(a,b){if(this.f("connection ready"),this.ma=!0,this.Bc=(new Date).getTime(),this.ue({serverTimeOffset:a-(new Date).getTime()}),this.Db=b,this.Ve){var c={};c["sdk.js."+firebase.SDK_VERSION.replace(/\./g,"-")]=1,Qb()?c["framework.cordova"]=1:"object"==typeof navigator&&"ReactNative"===navigator.product&&(c["framework.reactnative"]=1),this.ye(c)}zh(this),this.Ve=!1,this.Kc(!0)},h.jg=function(a){a&&!this.Nb&&this.Va===this.td&&(this.f("Window became visible.  Reducing delay."),this.Va=1e3,this.Ia||ph(this,0)),this.Nb=a},h.ig=function(a){a?(this.f("Browser went online."),this.Va=1e3,this.Ia||ph(this,0)):(this.f("Browser went offline.  Killing connection."),this.Ia&&this.Ia.close())},h.jf=function(){this.f("data client disconnected"),this.ma=!1,this.Ia=null;for(var a=0;a<this.pa.length;a++){var b=this.pa[a];b&&"h"in b.sf&&b.qg&&(b.G&&b.G("disconnect"),delete this.pa[a],this.Pc--)}0===this.Pc&&(this.pa=[]),this.Gd={},Bh(this)&&(this.Nb?this.Bc&&(3e4<(new Date).getTime()-this.Bc&&(this.Va=1e3),this.Bc=null):(this.f("Window isn't visible.  Delaying reconnect."),this.Va=this.td,this.me=(new Date).getTime()),a=Math.max(0,this.Va-((new Date).getTime()-this.me)),a*=Math.random(),this.f("Trying to reconnect in "+a+"ms"),ph(this,a),this.Va=Math.min(this.td,1.3*this.Va)),this.Kc(!1)},h.eb=function(a){E("Interrupting connection for reason: "+a),this.qd[a]=!0,this.Ia?this.Ia.close():(this.vb&&(clearTimeout(this.vb),this.vb=null),this.ma&&this.jf())},h.lc=function(a){E("Resuming connection for reason: "+a),delete this.qd[a],xa(this.qd)&&(this.Va=1e3,this.Ia||ph(this,0))};var Y={Xf:function(){Qe=wd=!0}};Y.forceLongPolling=Y.Xf,Y.Yf=function(){Re=!0},Y.forceWebSockets=Y.Yf,Y.dg=function(){
return vd.isAvailable()},Y.isWebSocketsAvailable=Y.dg,Y.wg=function(a,b){a.w.Ua.ze=b},Y.setSecurityDebugCallback=Y.wg,Y.Be=function(a,b){a.w.Be(b)},Y.stats=Y.Be,Y.Ce=function(a,b){a.w.Ce(b)},Y.statsIncrementCounter=Y.Ce,Y.ed=function(a){return a.w.ed},Y.dataUpdateCount=Y.ed,Y.cg=function(a,b){a.w.je=b},Y.interceptServerData=Y.cg,Ch.prototype.Ob=function(a,b){var c=a.path,d=null,e=!1;Hg(this.wa,c,function(a,b){var f=T(a,c);d=d||b.jb(f),e=e||null!=Yg(b)});var f=this.wa.get(c);f?(e=e||null!=Yg(f),d=d||f.jb(C)):(f=new Xg,this.wa=this.wa.set(c,f));var g;null!=d?g=!0:(g=!1,d=F,Kg(this.wa.subtree(c),function(a,b){var c=b.jb(C);c&&(d=d.U(a,c))}));var h=null!=$g(f,a);if(!h&&!S(a.n)){var i=Nh(a);H(!(i in this.jc),"View does not exist, but we have a tag");var j=Oh++;this.jc[i]=j,this.De["_"+j]=i}return g=f.Ob(a,b,new fh(c,this.lb),d,g),h||e||(f=$g(f,a),g=g.concat(Ph(this,a,f))),g},Ch.prototype.mb=function(a,b,c){var d=a.path,e=this.wa.get(d),f=[];if(e&&("default"===a.ya()||null!=$g(e,a))){f=e.mb(a,b,c),e.e()&&(this.wa=this.wa.remove(d)),e=f.sg,f=f.Tf,b=-1!==Pa(e,function(a){return S(a.n)});var g=Fg(this.wa,d,function(a,b){return null!=Yg(b)});if(b&&!g&&(d=this.wa.subtree(d),!d.e()))for(var d=Qh(d),h=0;h<d.length;++h){var i=d[h],j=i.W,i=Rh(this,i);this.Dc.Ae(Sh(j),Th(this,j),i.ld,i.G)}if(!g&&0<e.length&&!c)if(b)this.Dc.Od(Sh(a),null);else{var k=this;Ja(e,function(a){a.ya();var b=k.jc[Nh(a)];k.Dc.Od(Sh(a),b)})}Uh(this,e)}return f},Ch.prototype.Ba=function(a,b){var c=this.lb,d=Fg(this.wa,a,function(b,c){var d=T(b,a);if(d=c.jb(d))return d});return c.Ba(a,d,b,!0)};var Oh=1;h=sf.prototype,h.toString=function(){return(this.M.Sc?"https://":"http://")+this.M.host},h.name=function(){return this.M.pe},h.Hb=function(a,b,c,d){this.ed++;var e=new L(a);b=this.je?this.je(a,b):b,a=[],d?c?(b=oa(b,function(a){return M(a)}),a=Mh(this.K,e,b,d)):(b=M(b),a=Ih(this.K,e,b,d)):c?(d=oa(b,function(a){return M(a)}),a=Hh(this.K,e,d)):(d=M(b),a=Eh(this.K,new $b(Og,e,d))),d=e,0<a.length&&(d=$h(this,e)),wc(this.da,d,a)},h.Kc=function(a){Xh(this,"connected",a),!1===a&&ai(this)},h.ue=function(a){var b=this;md(a,function(a,c){Xh(b,c,a)})},h.Kb=function(a,b,c,d){this.f("set",{path:a.toString(),value:b,Gg:c});var e=Zh(this);b=M(b,c);var e=Uc(b,e),f=this.vd++,e=Dh(this.K,a,e,f,!0);sc(this.da,e);var g=this;this.va.put(a.toString(),b.H(!0),function(b,c){var e="ok"===b;e||O("set at "+a+" failed: "+b),e=Gh(g.K,f,!e),wc(g.da,a,e),bi(d,b,c)}),e=ci(this,a),$h(this,e),wc(this.da,e,[])},h.update=function(a,b,c){this.f("update",{path:a.toString(),value:b});var d=!0,e=Zh(this),f={};if(t(b,function(a,b){d=!1;var c=M(a);f[b]=Uc(c,e)}),d)E("update() called with empty data.  Don't do anything."),bi(c,"ok");else{var g=this.vd++,h=Fh(this.K,a,f,g);sc(this.da,h);var i=this;this.va.ef(a.toString(),b,function(b,d){var e="ok"===b;e||O("update at "+a+" failed: "+b);var e=Gh(i.K,g,!e),f=a;0<e.length&&(f=$h(i,a)),wc(i.da,f,e),bi(c,b,d)}),b=ci(this,a),$h(this,b),wc(this.da,a,[])}},h.xd=function(a,b){var c=this;this.va.xd(a.toString(),function(d,e){"ok"===d&&yf(c.ja,a),bi(b,d,e)})},h.eb=function(){this.Ua&&this.Ua.eb("repo_interrupt")},h.lc=function(){this.Ua&&this.Ua.lc("repo_interrupt")},h.Be=function(a){if("undefined"!=typeof console){a?(this.Vc||(this.Vc=new kc(this.Xa)),a=this.Vc.get()):a=this.Xa.get();var b,c=Ma(ta(a),function(a,b){return Math.max(b.length,a)},0);for(b in a){for(var d=a[b],e=b.length;e<c+2;e++)b+=" ";console.log(b+d)}}},h.Ce=function(a){mc(this.Xa,a),this.zg.zf[a]=!0},h.f=function(a){var b="";this.Ua&&(b=this.Ua.id+":"),E(b,arguments)},xf.prototype.eb=function(){for(var a in this.nb)this.nb[a].eb()},xf.prototype.lc=function(){for(var a in this.nb)this.nb[a].lc()},xf.prototype.ce=function(a){this.Ff=a},ba(xf),xf.prototype.interrupt=xf.prototype.eb,xf.prototype.resume=xf.prototype.lc;var Z={};if(Z.pc=nh,Z.DataConnection=Z.pc,nh.prototype.yg=function(a,b){this.ua("q",{p:a},b)},Z.pc.prototype.simpleListen=Z.pc.prototype.yg,nh.prototype.Qf=function(a,b){this.ua("echo",{d:a},b)},Z.pc.prototype.echo=Z.pc.prototype.Qf,nh.prototype.interrupt=nh.prototype.eb,Z.If=af,Z.RealTimeConnection=Z.If,af.prototype.sendRequest=af.prototype.ua,af.prototype.close=af.prototype.close,Z.bg=function(a){var b=nh.prototype.put;return nh.prototype.put=function(c,d,e,f){p(f)&&(f=a()),b.call(this,c,d,e,f)},function(){nh.prototype.put=b}},Z.hijackHash=Z.bg,Z.Hf=gc,Z.ConnectionTarget=Z.Hf,Z.ya=function(a){return a.ya()},Z.queryIdentifier=Z.ya,Z.eg=function(a){return a.w.Ua.$},Z.listens=Z.eg,Z.ce=function(a){xf.Wb().ce(a)},Z.forceRestClient=Z.ce,Z.Context=xf,ka(U,X),h=U.prototype,h.getKey=function(){return y("Firebase.key",0,0,arguments.length),this.path.e()?null:$d(this.path)},h.m=function(a){if(y("Firebase.child",1,1,arguments.length),fa(a))a=String(a);else if(!(a instanceof L))if(null===J(this.path)){var b=a;b&&(b=b.replace(/^\/*\.info(\/|$)/,"/")),Kf("Firebase.child",b)}else Kf("Firebase.child",a);return new U(this.w,this.path.m(a))},h.getParent=function(){y("Firebase.parent",0,0,arguments.length);var a=this.path.parent();return null===a?null:new U(this.w,a)},h.Zf=function(){y("Firebase.ref",0,0,arguments.length);for(var a=this;null!==a.getParent();)a=a.getParent();return a},h.Pf=function(){return this.w.$a},h.set=function(a,b){y("Firebase.set",1,2,arguments.length),Lf("Firebase.set",this.path),Df("Firebase.set",a,this.path,!1),A("Firebase.set",2,b,!0);var c=new Hb;return this.w.Kb(this.path,a,null,Ib(c,b)),c.ra},h.update=function(a,b){if(y("Firebase.update",1,2,arguments.length),Lf("Firebase.update",this.path),da(a)){for(var c={},d=0;d<a.length;++d)c[""+d]=a[d];a=c,O("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}return Gf("Firebase.update",a,this.path),A("Firebase.update",2,b,!0),c=new Hb,this.w.update(this.path,a,Ib(c,b)),c.ra},h.Kb=function(a,b,c){if(y("Firebase.setWithPriority",2,3,arguments.length),Lf("Firebase.setWithPriority",this.path),Df("Firebase.setWithPriority",a,this.path,!1),Hf("Firebase.setWithPriority",2,b),A("Firebase.setWithPriority",3,c,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Firebase.setWithPriority failed: "+this.getKey()+" is a read-only object.";var d=new Hb;return this.w.Kb(this.path,a,b,Ib(d,c)),d.ra},h.remove=function(a){return y("Firebase.remove",0,1,arguments.length),Lf("Firebase.remove",this.path),A("Firebase.remove",1,a,!0),this.set(null,a)},h.transaction=function(a,b,c){if(y("Firebase.transaction",1,3,arguments.length),Lf("Firebase.transaction",this.path),A("Firebase.transaction",1,a,!1),A("Firebase.transaction",2,b,!0),p(c)&&"boolean"!=typeof c)throw Error(Db("Firebase.transaction",3,!0)+"must be a boolean.");if(".length"===this.getKey()||".keys"===this.getKey())throw"Firebase.transaction failed: "+this.getKey()+" is a read-only object.";"undefined"==typeof c&&(c=!0);var d=new Hb;return ga(b)&&Jb(d.ra),di(this.w,this.path,a,function(a,c,e){a?d.reject(a):d.resolve(new Pb(c,e)),ga(b)&&b(a,c,e)},c),d.ra},h.vg=function(a,b){y("Firebase.setPriority",1,2,arguments.length),Lf("Firebase.setPriority",this.path),Hf("Firebase.setPriority",1,a),A("Firebase.setPriority",2,b,!0);var c=new Hb;return this.w.Kb(this.path.m(".priority"),a,null,Ib(c,b)),c.ra},h.push=function(a,b){y("Firebase.push",0,2,arguments.length),Lf("Firebase.push",this.path),Df("Firebase.push",a,this.path,!0),A("Firebase.push",2,b,!0);var c=Yh(this.w),d=Tf(c),c=this.m(d);if(null!=a){var e=this,f=c.set(a,b).then(function(){return e.m(d)});c.then=r(f.then,f),c.catch=r(f.then,f,void 0),ga(b)&&Jb(f)}return c},h.kb=function(){return Lf("Firebase.onDisconnect",this.path),new V(this.w,this.path)},U.prototype.child=U.prototype.m,U.prototype.set=U.prototype.set,U.prototype.update=U.prototype.update,U.prototype.setWithPriority=U.prototype.Kb,U.prototype.remove=U.prototype.remove,U.prototype.transaction=U.prototype.transaction,U.prototype.setPriority=U.prototype.vg,U.prototype.push=U.prototype.push,U.prototype.onDisconnect=U.prototype.kb,pd(U.prototype,"database",U.prototype.Pf),pd(U.prototype,"key",U.prototype.getKey),pd(U.prototype,"parent",U.prototype.getParent),pd(U.prototype,"root",U.prototype.Zf),"undefined"==typeof firebase)throw Error("Cannot install Firebase Database - be sure to load firebase-app.js first.");try{firebase.INTERNAL.registerService("database",function(a){var b=xf.Wb(),c=a.options.databaseURL;p(c)||ed("Can't determine Firebase Database URL.  Be sure to include databaseURL option when calling firebase.intializeApp().");var d=fd(c),c=d.kc;return wf("Invalid Firebase Database URL",d),d.path.e()||ed("Database URL must point to the root of a Firebase Database (not including a child path)."),(d=x(b.nb,a.name))&&ed("FIREBASE INTERNAL ERROR: Database initialized multiple times."),d=new sf(c,b.Ff,a),b.nb[a.name]=d,d.$a},{Reference:U,Query:X,Database:rf,enableLogging:bd,INTERNAL:Y,TEST_ACCESS:Z,ServerValue:uf})}catch(a){ed("Failed to register the Firebase Database Service ("+a+")")}}(),function(){var a,b=b||{},c=this,d=function(a){return void 0!==a},e=function(){},f=function(a){var b=typeof a;if("object"==b){if(!a)return"null";if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else if("function"==b&&"undefined"==typeof a.call)return"object";return b},g=function(a){var b=f(a);return"array"==b||"object"==b&&"number"==typeof a.length},h=function(a){return"string"==typeof a},i=function(a){return"function"==f(a)},j=function(a){var b=typeof a;return"object"==b&&null!=a||"function"==b},k="closure_uid_"+(1e9*Math.random()>>>0),l=0,m=function(a,b,c){return a.call.apply(a.bind,arguments)},n=function(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(c,d),a.apply(b,c)}}return function(){return a.apply(b,arguments)}},o=function(a,b,c){return o=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?m:n,o.apply(null,arguments)},p=Date.now||function(){return+new Date},q=function(a,b){function c(){}c.prototype=b.prototype,a.I=b.prototype,a.prototype=new c,a.La=function(a,c,d){for(var e=Array(arguments.length-2),f=2;f<arguments.length;f++)e[f-2]=arguments[f];return b.prototype[c].apply(a,e)}},r=function(a,b,c){function d(){l||(l=!0,b.apply(null,arguments))}function e(b){i=setTimeout(function(){i=null,a(f,2===k)},b)}function f(a,b){if(!l)if(a)d.apply(null,arguments);else if(2===k||j)d.apply(null,arguments);else{64>h&&(h*=2);var c;1===k?(k=2,c=0):c=1e3*(h+Math.random()),e(c)}}function g(a){m||(m=!0,l||(null!==i?(a||(k=2),clearTimeout(i),e(0)):a||(k=1)))}var h=1,i=null,j=!1,k=0,l=!1,m=!1;return e(0),setTimeout(function(){j=!0,g(!0)},c),g},s="https://firebasestorage.googleapis.com",t=function(a,b){this.code="storage/"+a,this.message="Firebase Storage: "+b,this.serverResponse=null,this.name="FirebaseError"};q(t,Error);var u=function(){return new t("unknown","An unknown error occurred, please check the error payload for server response.")},v=function(){return new t("canceled","User canceled the upload/download.")},w=function(){return new t("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")},x=function(a,b,c){return new t("invalid-argument","Invalid argument in `"+b+"` at index "+a+": "+c)},y=function(){return new t("app-deleted","The Firebase app was deleted.")},z=function(a,b){return new t("invalid-format","String does not match format '"+a+"': "+b)},A=function(a,b){for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&b(c,a[c])},B=function(a){var b={};return A(a,function(a,c){b[a]=c}),b},C=function(a,b,c,d){this.l=a,this.f={},this.i=b,this.b={},this.c="",this.M=c,this.g=this.a=null,this.h=[200],this.j=d},D={STATE_CHANGED:"state_changed"},E={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"},F=function(a){switch(a){case"running":case"pausing":case"canceling":return"running";case"paused":return"paused";case"success":return"success";case"canceled":return"canceled";case"error":return"error";default:return"error"}},G=function(a){return d(a)&&null!==a},H=function(a){return"string"==typeof a||a instanceof String},I=function(){return"undefined"!=typeof Blob},J=function(a,b,c){this.f=c,this.c=a,this.g=b,this.b=0,this.a=null};J.prototype.get=function(){var a;return 0<this.b?(this.b--,a=this.a,this.a=a.next,a.next=null):a=this.c(),a};var K=function(a,b){a.g(b),a.b<a.f&&(a.b++,b.next=a.a,a.a=b)},L=function(a){if(Error.captureStackTrace)Error.captureStackTrace(this,L);else{var b=Error().stack;b&&(this.stack=b)}a&&(this.message=String(a))};q(L,Error),L.prototype.name="CustomError";var M=function(a,b,c,d,e){this.reset(a,b,c,d,e)};M.prototype.a=null;var N=0;M.prototype.reset=function(a,b,c,d,e){"number"==typeof e||N++,d||p(),this.b=b,delete this.a};var O=function(a){var b,c=[],d=0;for(b in a)c[d++]=a[b];return c},P=function(a){var b,c=[],d=0;for(b in a)c[d++]=b;return c},Q="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),R=function(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var f=0;f<Q.length;f++)c=Q[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}},S=function(a){a.prototype.then=a.prototype.then,a.prototype.$goog_Thenable=!0},T=function(a){if(!a)return!1;try{return!!a.$goog_Thenable}catch(a){return!1}},U=function(a){return U[" "](a),a};U[" "]=e;var V=function(a,b){var c=wb;return Object.prototype.hasOwnProperty.call(c,a)?c[a]:c[a]=b(a)},W=function(a,b){for(var c=a.split("%s"),d="",e=Array.prototype.slice.call(arguments,1);e.length&&1<c.length;)d+=c.shift()+e.shift();return d+c.join("%s")},X=String.prototype.trim?function(a){return a.trim()}:function(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},Y=function(a,b){return a<b?-1:a>b?1:0},Z=function(a,b){this.a=a,this.b=b},$=function(a,b){this.bucket=a,this.path=b},_=function(a){var b=encodeURIComponent;return"/b/"+b(a.bucket)+"/o/"+b(a.path)},aa=function(a){for(var b=null,c=[{ia:/^gs:\/\/([A-Za-z0-9.\-]+)(\/(.*))?$/i,ba:{bucket:1,path:3},ha:function(a){"/"===a.path.charAt(a.path.length-1)&&(a.path=a.path.slice(0,-1))}},{ia:/^https?:\/\/firebasestorage\.googleapis\.com\/v[A-Za-z0-9_]+\/b\/([A-Za-z0-9.\-]+)\/o(\/([^?#]*).*)?$/i,ba:{bucket:1,path:3},ha:function(a){a.path=decodeURIComponent(a.path)}}],d=0;d<c.length;d++){var e=c[d],f=e.ia.exec(a);if(f){b=f[e.ba.bucket],(f=f[e.ba.path])||(f=""),b=new $(b,f),e.ha(b);break}}if(null==b)throw new t("invalid-url","Invalid URL '"+a+"'.");return b},ba=function(a,b,c){i(a)||G(b)||G(c)?(this.next=a,this.a=b||null,this.b=c||null):(this.next=a.next||null,this.a=a.error||null,this.b=a.complete||null)},ca={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},da=function(a){switch(a){case"raw":case"base64":case"base64url":case"data_url":break;default:throw"Expected one of the event types: [raw, base64, base64url, data_url]."}},ea=function(a,b){this.data=a,this.a=b||null},fa=function(a,b){switch(a){case"raw":return new ea(ga(b));case"base64":case"base64url":return new ea(ha(a,b));case"data_url":return a=new ia(b),a=a.a?ha("base64",a.c):ga(a.c),new ea(a,new ia(b).b)}throw u()},ga=function(a){for(var b=[],c=0;c<a.length;c++){var d=a.charCodeAt(c);if(127>=d)b.push(d);else if(2047>=d)b.push(192|d>>6,128|63&d);else if(55296==(64512&d))if(c<a.length-1&&56320==(64512&a.charCodeAt(c+1))){var e=a.charCodeAt(++c),d=65536|(1023&d)<<10|1023&e;b.push(240|d>>18,128|d>>12&63,128|d>>6&63,128|63&d)}else b.push(239,191,189);else 56320==(64512&d)?b.push(239,191,189):b.push(224|d>>12,128|d>>6&63,128|63&d)}return new Uint8Array(b)},ha=function(a,b){switch(a){case"base64":var c=-1!==b.indexOf("-"),d=-1!==b.indexOf("_");if(c||d)throw z(a,"Invalid character '"+(c?"-":"_")+"' found: is it base64url encoded?");break;case"base64url":if(c=-1!==b.indexOf("+"),d=-1!==b.indexOf("/"),c||d)throw z(a,"Invalid character '"+(c?"+":"/")+"' found: is it base64 encoded?");b=b.replace(/-/g,"+").replace(/_/g,"/")}var e;try{e=atob(b)}catch(b){throw z(a,"Invalid character found")}for(a=new Uint8Array(e.length),b=0;b<e.length;b++)a[b]=e.charCodeAt(b);return a},ia=function(a){var b=a.match(/^data:([^,]+)?,/);if(null===b)throw z("data_url","Must be formatted 'data:[<mediatype>][;base64],<data>");if(b=b[1]||null,this.a=!1,this.b=null,null!=b){var c=b.length-7;this.b=(this.a=0<=c&&b.indexOf(";base64",c)==c)?b.substring(0,b.length-7):b}this.c=a.substring(a.indexOf(",")+1)},ja=function(a){var b=encodeURIComponent,c="?";return A(a,function(a,d){a=b(a)+"="+b(d),c=c+a+"&"}),c=c.slice(0,-1)},ka=function(a,b,c,d,e,f){this.b=a,this.h=b,this.f=c,this.a=d,this.g=e,this.c=f};a=ka.prototype,a.oa=function(){return this.b},a.Ka=function(){return this.h},a.Ha=function(){return this.f},a.Ca=function(){return this.a},a.qa=function(){if(G(this.a)){var a=this.a.downloadURLs;return G(a)&&G(a[0])?a[0]:null}return null},a.Ja=function(){return this.g},a.Fa=function(){return this.c};var la=function(a,b){b.unshift(a),L.call(this,W.apply(null,b)),b.shift()};q(la,L),la.prototype.name="AssertionError";var ma=function(a,b,c,d){var e="Assertion failed";if(c)var e=e+(": "+c),f=d;else a&&(e+=": "+a,f=b);throw new la(""+e,f||[])},na=function(a,b,c){a||ma("",null,b,Array.prototype.slice.call(arguments,2))},oa=function(a,b){throw new la("Failure"+(a?": "+a:""),Array.prototype.slice.call(arguments,1))},pa=function(a,b,c){i(a)||ma("Expected function but got %s: %s.",[f(a),a],b,Array.prototype.slice.call(arguments,2))},qa=function(){this.g=this.g,this.o=this.o};qa.prototype.g=!1,qa.prototype.ea=function(){this.g||(this.g=!0,this.C())},qa.prototype.C=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var ra,sa="closure_listenable_"+(1e6*Math.random()|0),ta=0;a:{var ua=c.navigator;if(ua){var va=ua.userAgent;if(va){ra=va;break a}}ra=""}var wa=function(a){return-1!=ra.indexOf(a)},xa=function(){};xa.prototype.a=null;var ya=function(a){var b;return(b=a.a)||(b={},Ya(a)&&(b[0]=!0,b[1]=!0),b=a.a=b),b},za=Array.prototype.indexOf?function(a,b,c){return na(null!=a.length),Array.prototype.indexOf.call(a,b,c)}:function(a,b,c){if(c=null==c?0:0>c?Math.max(0,a.length+c):c,h(a))return h(b)&&1==b.length?a.indexOf(b,c):-1;for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},Aa=Array.prototype.forEach?function(a,b,c){na(null!=a.length),Array.prototype.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=h(a)?a.split(""):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)},Ba=Array.prototype.filter?function(a,b,c){return na(null!=a.length),Array.prototype.filter.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=[],f=0,g=h(a)?a.split(""):a,i=0;i<d;i++)if(i in g){var j=g[i];b.call(c,j,i,a)&&(e[f++]=j)}return e},Ca=Array.prototype.map?function(a,b,c){return na(null!=a.length),Array.prototype.map.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=Array(d),f=h(a)?a.split(""):a,g=0;g<d;g++)g in f&&(e[g]=b.call(c,f[g],g,a));return e},Da=Array.prototype.some?function(a,b,c){return na(null!=a.length),Array.prototype.some.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=h(a)?a.split(""):a,f=0;f<d;f++)if(f in e&&b.call(c,e[f],f,a))return!0;return!1},Ea=function(a){var b;a:{b=Wc;for(var c=a.length,d=h(a)?a.split(""):a,e=0;e<c;e++)if(e in d&&b.call(void 0,d[e],e,a)){b=e;break a}b=-1}return 0>b?null:h(a)?a.charAt(b):a[b]},Fa=function(a){if("array"!=f(a))for(var b=a.length-1;0<=b;b--)delete a[b];a.length=0},Ga=function(a,b){b=za(a,b);var c;return(c=0<=b)&&(na(null!=a.length),Array.prototype.splice.call(a,b,1)),c},Ha=function(a){var b=a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];return c}return[]},Ia=new J(function(){return new Ka},function(a){a.reset()},100),Ja=function(){var a=Db,b=null;return a.a&&(b=a.a,a.a=a.a.next,a.a||(a.b=null),b.next=null),b},Ka=function(){this.next=this.b=this.a=null};Ka.prototype.set=function(a,b){this.a=a,this.b=b,this.next=null},Ka.prototype.reset=function(){this.next=this.b=this.a=null};var La=function(a,b){this.type=a,this.a=this.target=b,this.ja=!0};La.prototype.b=function(){this.ja=!1};var Ma,Na=function(a,b,c,d,e){this.listener=a,this.a=null,this.src=b,this.type=c,this.V=!!d,this.M=e,++ta,this.N=this.U=!1},Oa=function(a){a.N=!0,a.listener=null,a.a=null,a.src=null,a.M=null},Pa=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/,Qa=function(a,b){return b=Ba(b.split("/"),function(a){return 0<a.length}).join("/"),0===a.length?b:a+"/"+b},Ra=function(a){var b=a.lastIndexOf("/",a.length-2);return-1===b?a:a.slice(b+1)},Sa=function(a){this.src=a,this.a={},this.b=0},Ta=function(a,b,c,d,e,f){var g=b.toString();b=a.a[g],b||(b=a.a[g]=[],a.b++);var h=Va(b,c,e,f);return-1<h?(a=b[h],d||(a.U=!1)):(a=new Na(c,a.src,g,!!e,f),a.U=d,b.push(a)),a},Ua=function(a,b){var c=b.type;c in a.a&&Ga(a.a[c],b)&&(Oa(b),0==a.a[c].length&&(delete a.a[c],a.b--))},Va=function(a,b,c,d){for(var e=0;e<a.length;++e){var f=a[e];if(!f.N&&f.listener==b&&f.V==!!c&&f.M==d)return e}return-1},Wa=function(){};q(Wa,xa);var Xa=function(a){return(a=Ya(a))?new ActiveXObject(a):new XMLHttpRequest},Ya=function(a){if(!a.b&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var b=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],c=0;c<b.length;c++){var d=b[c];try{return new ActiveXObject(d),a.b=d}catch(a){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return a.b};Ma=new Wa;var Za=function(a){if(this.a=[],a)a:{var b;if(a instanceof Za){if(b=a.H(),a=a.A(),0>=this.b()){for(var c=this.a,d=0;d<b.length;d++)c.push(new Z(b[d],a[d]));break a}}else b=P(a),a=O(a);for(d=0;d<b.length;d++)$a(this,b[d],a[d])}},$a=function(a,b,c){var d=a.a;for(d.push(new Z(b,c)),b=d.length-1,a=a.a,c=a[b];0<b&&(d=b-1>>1,a[d].a>c.a);)a[b]=a[d],b=d;a[b]=c};Za.prototype.A=function(){for(var a=this.a,b=[],c=a.length,d=0;d<c;d++)b.push(a[d].b);return b},Za.prototype.H=function(){for(var a=this.a,b=[],c=a.length,d=0;d<c;d++)b.push(a[d].a);return b},Za.prototype.b=function(){return this.a.length};var _a=function(){this.c=[],this.a=[]},ab=function(a){return 0==a.c.length&&(a.c=a.a,a.c.reverse(),a.a=[]),a.c.pop()};_a.prototype.b=function(){return this.c.length+this.a.length},_a.prototype.A=function(){for(var a=[],b=this.c.length-1;0<=b;--b)a.push(this.c[b]);for(var c=this.a.length,b=0;b<c;++b)a.push(this.a[b]);return a};var bb,cb=function(a){if(a.A&&"function"==typeof a.A)return a.A();if(h(a))return a.split("");if(g(a)){for(var b=[],c=a.length,d=0;d<c;d++)b.push(a[d]);return b}return O(a)},db=function(a,b){if(a.forEach&&"function"==typeof a.forEach)a.forEach(b,void 0);else if(g(a)||h(a))Aa(a,b,void 0);else{var c;if(a.H&&"function"==typeof a.H)c=a.H();else if(a.A&&"function"==typeof a.A)c=void 0;else if(g(a)||h(a)){c=[];for(var d=a.length,e=0;e<d;e++)c.push(e)}else c=P(a);for(var d=cb(a),e=d.length,f=0;f<e;f++)b.call(void 0,d[f],c&&c[f],a)}},eb=function(a){c.setTimeout(function(){throw a},0)},fb=function(){var a=c.MessageChannel;if("undefined"==typeof a&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!wa("Presto")&&(a=function(){var a=document.createElement("IFRAME");a.style.display="none",a.src="",document.documentElement.appendChild(a);var b=a.contentWindow,a=b.document;a.open(),a.write(""),a.close();var c="callImmediate"+Math.random(),d="file:"==b.location.protocol?"*":b.location.protocol+"//"+b.location.host,a=o(function(a){"*"!=d&&a.origin!=d||a.data!=c||this.port1.onmessage()},this);b.addEventListener("message",a,!1),this.port1={},this.port2={postMessage:function(){b.postMessage(c,d)}}}),"undefined"!=typeof a&&!wa("Trident")&&!wa("MSIE")){var b=new a,e={},f=e;return b.port1.onmessage=function(){if(d(e.next)){e=e.next;var a=e.da;e.da=null,a()}},function(a){f.next={da:a},f=f.next,b.port2.postMessage(0)}}return"undefined"!=typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(a){var b=document.createElement("SCRIPT");b.onreadystatechange=function(){b.onreadystatechange=null,b.parentNode.removeChild(b),b=null,a(),a=null},document.documentElement.appendChild(b)}:function(a){c.setTimeout(a,0)}},gb="StopIteration"in c?c.StopIteration:{message:"StopIteration",stack:""},hb=function(){};hb.prototype.next=function(){throw gb},hb.prototype.h=function(){return this};var ib=function(){Za.call(this)};q(ib,Za);var jb,kb=wa("Opera"),lb=wa("Trident")||wa("MSIE"),mb=wa("Edge"),nb=wa("Gecko")&&!(-1!=ra.toLowerCase().indexOf("webkit")&&!wa("Edge"))&&!(wa("Trident")||wa("MSIE"))&&!wa("Edge"),ob=-1!=ra.toLowerCase().indexOf("webkit")&&!wa("Edge"),pb=function(){var a=c.document;return a?a.documentMode:void 0};a:{var qb="",rb=function(){var a=ra;return nb?/rv\:([^\);]+)(\)|;)/.exec(a):mb?/Edge\/([\d\.]+)/.exec(a):lb?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a):ob?/WebKit\/(\S+)/.exec(a):kb?/(?:Version)[ \/]?(\S+)/.exec(a):void 0}();if(rb&&(qb=rb?rb[1]:""),lb){var sb=pb();if(null!=sb&&sb>parseFloat(qb)){jb=String(sb);break a}}jb=qb}var tb,ub,vb=jb,wb={},xb=function(a){return V(a,function(){for(var b=0,c=X(String(vb)).split("."),d=X(String(a)).split("."),e=Math.max(c.length,d.length),f=0;0==b&&f<e;f++){var g=c[f]||"",h=d[f]||"";do{if(g=/(\d*)(\D*)(.*)/.exec(g)||["","","",""],h=/(\d*)(\D*)(.*)/.exec(h)||["","","",""],0==g[0].length&&0==h[0].length)break;b=Y(0==g[1].length?0:parseInt(g[1],10),0==h[1].length?0:parseInt(h[1],10))||Y(0==g[2].length,0==h[2].length)||Y(g[2],h[2]),g=g[3],h=h[3]}while(0==b)}return 0<=b})},yb=c.document,zb=yb&&lb?pb()||("CSS1Compat"==yb.compatMode?parseInt(vb,10):5):void 0,Ab=function(a,b){tb||Bb(),Cb||(tb(),Cb=!0);var c=Db,d=Ia.get();d.set(a,b),c.b?c.b.next=d:(na(!c.a),c.a=d),c.b=d},Bb=function(){if(c.Promise&&c.Promise.resolve){var a=c.Promise.resolve(void 0);tb=function(){a.then(Eb)}}else tb=function(){var a=Eb;!i(c.setImmediate)||c.Window&&c.Window.prototype&&!wa("Edge")&&c.Window.prototype.setImmediate==c.setImmediate?(bb||(bb=fb()),bb(a)):c.setImmediate(a)}},Cb=!1,Db=new function(){this.b=this.a=null},Eb=function(){for(var a;a=Ja();){try{a.a.call(a.b)}catch(a){eb(a)}K(Ia,a)}Cb=!1};(ub=!lb)||(ub=9<=Number(zb));var Fb=ub,Gb=lb&&!xb("9");!ob||xb("528"),nb&&xb("1.9b")||lb&&xb("8")||kb&&xb("9.5")||ob&&xb("528"),nb&&!xb("8")||lb&&xb("9");var Hb=function(a,b){this.c={},this.a=[],this.g=this.f=0;var c=arguments.length;if(1<c){if(c%2)throw Error("Uneven number of arguments");for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else if(a){a instanceof Hb?(c=a.H(),d=a.A()):(c=P(a),d=O(a));for(var e=0;e<c.length;e++)this.set(c[e],d[e])}};Hb.prototype.b=function(){return this.f},Hb.prototype.A=function(){Jb(this);for(var a=[],b=0;b<this.a.length;b++)a.push(this.c[this.a[b]]);return a},Hb.prototype.H=function(){return Jb(this),this.a.concat()};var Ib=function(a,b){return!!Object.prototype.hasOwnProperty.call(a.c,b)&&(delete a.c[b],a.f--,a.g++,a.a.length>2*a.f&&Jb(a),!0)},Jb=function(a){if(a.f!=a.a.length){for(var b=0,c=0;b<a.a.length;){var d=a.a[b];Object.prototype.hasOwnProperty.call(a.c,d)&&(a.a[c++]=d),b++}a.a.length=c}if(a.f!=a.a.length){for(var e={},c=b=0;b<a.a.length;)d=a.a[b],Object.prototype.hasOwnProperty.call(e,d)||(a.a[c++]=d,e[d]=1),b++;a.a.length=c}};Hb.prototype.get=function(a,b){return Object.prototype.hasOwnProperty.call(this.c,a)?this.c[a]:b},Hb.prototype.set=function(a,b){Object.prototype.hasOwnProperty.call(this.c,a)||(this.f++,this.a.push(a),this.g++),this.c[a]=b},Hb.prototype.forEach=function(a,b){for(var c=this.H(),d=0;d<c.length;d++){var e=c[d],f=this.get(e);a.call(b,f,e,this)}},Hb.prototype.h=function(a){Jb(this);var b=0,c=this.g,d=this,e=new hb;return e.next=function(){if(c!=d.g)throw Error("The map has changed since the iterator was created");if(b>=d.a.length)throw gb;var e=d.a[b++];return a?e:d.c[e]},e};var Kb=function(a,b){if(La.call(this,a?a.type:""),this.c=this.a=this.target=null,a){if(this.type=a.type,this.target=a.target||a.srcElement,this.a=b,(b=a.relatedTarget)&&nb)try{U(b.nodeName)}catch(a){}this.c=a,a.defaultPrevented&&this.b()}};q(Kb,La),Kb.prototype.b=function(){Kb.I.b.call(this);var a=this.c;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,Gb)try{(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)&&(a.keyCode=-1)}catch(a){}};var Lb=function(a,b){if(this.a=0,this.i=void 0,this.c=this.b=this.f=null,this.g=this.h=!1,a!=e)try{var c=this;a.call(b,function(a){Tb(c,2,a)},function(a){try{if(a instanceof Error)throw a;throw Error("Promise rejected.")}catch(a){}Tb(c,3,a)})}catch(a){Tb(this,3,a)}},Mb=function(){this.next=this.f=this.c=this.a=this.b=null,this.g=!1};Mb.prototype.reset=function(){this.f=this.c=this.a=this.b=null,this.g=!1};var Nb=new J(function(){return new Mb},function(a){a.reset()},100),Ob=function(a,b,c){var d=Nb.get();return d.a=a,d.c=b,d.f=c,d},Pb=function(a){if(a instanceof Lb)return a;var b=new Lb(e);return Tb(b,2,a),b},Qb=function(a){return new Lb(function(b,c){c(a)})};Lb.prototype.then=function(a,b,c){return null!=a&&pa(a,"opt_onFulfilled should be a function."),null!=b&&pa(b,"opt_onRejected should be a function. Did you pass opt_context as the second argument instead of the third?"),Sb(this,i(a)?a:null,i(b)?b:null,c)},S(Lb),Lb.prototype.l=function(a,b){return Sb(this,null,a,b)};var Rb=function(a,b){a.b||2!=a.a&&3!=a.a||Vb(a),na(null!=b.a),a.c?a.c.next=b:a.b=b,a.c=b},Sb=function(a,b,c,d){var e=Ob(null,null,null);return e.b=new Lb(function(a,f){e.a=b?function(c){try{var e=b.call(d,c);a(e)}catch(a){f(a)}}:a,e.c=c?function(b){try{var e=c.call(d,b);a(e)}catch(a){f(a)}}:f}),e.b.f=a,Rb(a,e),e.b};Lb.prototype.o=function(a){na(1==this.a),this.a=0,Tb(this,2,a)},Lb.prototype.m=function(a){na(1==this.a),this.a=0,Tb(this,3,a)};var Tb=function(a,b,c){if(0==a.a){a===c&&(b=3,c=new TypeError("Promise cannot resolve to itself")),a.a=1;var d;a:{var f=c,g=a.o,h=a.m;if(f instanceof Lb)null!=g&&pa(g,"opt_onFulfilled should be a function."),null!=h&&pa(h,"opt_onRejected should be a function. Did you pass opt_context as the second argument instead of the third?"),Rb(f,Ob(g||e,h||null,a)),d=!0;else if(T(f))f.then(g,h,a),d=!0;else{if(j(f))try{var k=f.then;if(i(k)){Ub(f,k,g,h,a),d=!0;break a}}catch(b){h.call(a,b),d=!0;break a}d=!1}}d||(a.i=c,a.a=b,a.f=null,Vb(a),3!=b||Yb(a,c))}},Ub=function(a,b,c,d,e){var f=!1,g=function(a){f||(f=!0,c.call(e,a))},h=function(a){f||(f=!0,d.call(e,a))};try{b.call(a,g,h)}catch(a){h(a)}},Vb=function(a){a.h||(a.h=!0,Ab(a.j,a))},Wb=function(a){var b=null;return a.b&&(b=a.b,a.b=b.next,b.next=null),a.b||(a.c=null),null!=b&&na(null!=b.a),b};Lb.prototype.j=function(){for(var a;a=Wb(this);){var b=this.a,c=this.i;if(3==b&&a.c&&!a.g){var d;for(d=this;d&&d.g;d=d.f)d.g=!1}if(a.b)a.b.f=null,Xb(a,b,c);else try{a.g?a.a.call(a.f):Xb(a,b,c)}catch(a){Zb.call(null,a)}K(Nb,a)}this.h=!1};var Xb=function(a,b,c){2==b?a.a.call(a.f,c):a.c&&a.c.call(a.f,c)},Yb=function(a,b){a.g=!0,Ab(function(){a.g&&Zb.call(null,b)})},Zb=eb,$b=function(a){if(this.a=new Hb,a){a=cb(a);for(var b=a.length,c=0;c<b;c++){var d=a[c];this.a.set(_b(d),d)}}},_b=function(a){var b=typeof a;return"object"==b&&a||"function"==b?"o"+(a[k]||(a[k]=++l)):b.substr(0,1)+a};$b.prototype.b=function(){return this.a.b()},$b.prototype.A=function(){return this.a.A()},$b.prototype.h=function(){return this.a.h(!1)};var ac=function(a){return function(){var b=[];Array.prototype.push.apply(b,arguments),Pb(!0).then(function(){a.apply(null,b)})}},bc="closure_lm_"+(1e6*Math.random()|0),cc={},dc=0,ec=function(a,b,c,d,e){if("array"==f(b)){for(var g=0;g<b.length;g++)ec(a,b[g],c,d,e);return null}return c=qc(c),a&&a[sa]?(Mc(a),a=Ta(a.b,String(b),c,!1,d,e)):a=fc(a,b,c,!1,d,e),
a},fc=function(a,b,c,d,e,f){if(!b)throw Error("Invalid event type");var g=!!e,h=oc(a);if(h||(a[bc]=h=new Sa(a)),c=Ta(h,b,c,d,e,f),c.a)return c;if(d=gc(),c.a=d,d.src=a,d.listener=c,a.addEventListener)a.addEventListener(b.toString(),d,g);else{if(!a.attachEvent)throw Error("addEventListener and attachEvent are unavailable.");a.attachEvent(kc(b.toString()),d)}return dc++,c},gc=function(){var a=nc,b=Fb?function(c){return a.call(b.src,b.listener,c)}:function(c){if(c=a.call(b.src,b.listener,c),!c)return c};return b},hc=function(a,b,c,d,e){if("array"==f(b))for(var g=0;g<b.length;g++)hc(a,b[g],c,d,e);else c=qc(c),a&&a[sa]?Ta(a.b,String(b),c,!0,d,e):fc(a,b,c,!0,d,e)},ic=function(a,b,c,d,e){if("array"==f(b))for(var g=0;g<b.length;g++)ic(a,b[g],c,d,e);else c=qc(c),a&&a[sa]?(a=a.b,b=String(b).toString(),b in a.a&&(g=a.a[b],c=Va(g,c,d,e),-1<c&&(Oa(g[c]),na(null!=g.length),Array.prototype.splice.call(g,c,1),0==g.length&&(delete a.a[b],a.b--)))):a&&(a=oc(a))&&(b=a.a[b.toString()],a=-1,b&&(a=Va(b,c,!!d,e)),(c=-1<a?b[a]:null)&&jc(c))},jc=function(a){if("number"!=typeof a&&a&&!a.N){var b=a.src;if(b&&b[sa])Ua(b.b,a);else{var c=a.type,d=a.a;b.removeEventListener?b.removeEventListener(c,d,a.V):b.detachEvent&&b.detachEvent(kc(c),d),dc--,(c=oc(b))?(Ua(c,a),0==c.b&&(c.src=null,b[bc]=null)):Oa(a)}}},kc=function(a){return a in cc?cc[a]:cc[a]="on"+a},lc=function(a,b,c,d){var e=!0;if((a=oc(a))&&(b=a.a[b.toString()]))for(b=b.concat(),a=0;a<b.length;a++){var f=b[a];f&&f.V==c&&!f.N&&(f=mc(f,d),e=e&&!1!==f)}return e},mc=function(a,b){var c=a.listener,d=a.M||a.src;return a.U&&jc(a),c.call(d,b)},nc=function(a,b){if(a.N)return!0;if(!Fb){if(!b)a:{b=["window","event"];for(var d,e=c;d=b.shift();){if(null==e[d]){b=null;break a}e=e[d]}b=e}if(d=b,b=new Kb(d,this),e=!0,!(0>d.keyCode||void 0!=d.returnValue)){a:{var f=!1;if(0==d.keyCode)try{d.keyCode=-1;break a}catch(a){f=!0}(f||void 0==d.returnValue)&&(d.returnValue=!0)}for(d=[],f=b.a;f;f=f.parentNode)d.push(f);for(a=a.type,f=d.length-1;0<=f;f--){b.a=d[f];var g=lc(d[f],a,!0,b),e=e&&g}for(f=0;f<d.length;f++)b.a=d[f],g=lc(d[f],a,!1,b),e=e&&g}return e}return mc(a,new Kb(b,this))},oc=function(a){return a=a[bc],a instanceof Sa?a:null},pc="__closure_events_fn_"+(1e9*Math.random()>>>0),qc=function(a){return na(a,"Listener can not be null."),i(a)?a:(na(a.handleEvent,"An object listener must have handleEvent method."),a[pc]||(a[pc]=function(b){return a.handleEvent(b)}),a[pc])},rc=function(a,b){if(qa.call(this),this.m=a||0,this.f=b||10,this.m>this.f)throw Error("[goog.structs.Pool] Min can not be greater than max");this.a=new _a,this.c=new $b,this.j=null,this.T()};q(rc,qa),rc.prototype.X=function(){var a=p();if(!(null!=this.j&&0>a-this.j)){for(var b;0<this.a.b()&&(b=ab(this.a),!this.l(b));)this.T();return!b&&this.b()<this.f&&(b=this.i()),b&&(this.j=a,this.c.a.set(_b(b),b)),b}};var sc=function(a){var b=jd;Ib(b.c.a,_b(a))&&b.$(a)};rc.prototype.$=function(a){Ib(this.c.a,_b(a)),this.l(a)&&this.b()<this.f?this.a.a.push(a):tc(a)},rc.prototype.T=function(){for(var a=this.a;this.b()<this.m;){var b=this.i();a.a.push(b)}for(;this.b()>this.f&&0<this.a.b();)tc(ab(a))},rc.prototype.i=function(){return{}};var tc=function(a){if("function"==typeof a.ea)a.ea();else for(var b in a)a[b]=null};rc.prototype.l=function(a){return"function"!=typeof a.pa||a.pa()},rc.prototype.b=function(){return this.a.b()+this.c.b()},rc.prototype.C=function(){if(rc.I.C.call(this),0<this.c.b())throw Error("[goog.structs.Pool] Objects not released");delete this.c;for(var a=this.a;0!=a.c.length||0!=a.a.length;)tc(ab(a));delete this.a};var uc=function(a,b){this.c=[],this.m=b||null,this.a=this.h=!1,this.b=void 0,this.j=this.g=!1,this.f=0,this.i=null,this.o=0};uc.prototype.l=function(a,b){this.g=!1,this.h=!0,this.b=b,this.a=!a,xc(this)};var vc=function(a,b,c){na(!a.j,"Blocking Deferreds can not be re-used"),a.c.push([b,c,void 0]),a.h&&xc(a)};uc.prototype.then=function(a,b,c){var d,e,f=new Lb(function(a,b){d=a,e=b});return vc(this,d,function(a){e(a)}),f.then(a,b,c)},S(uc);var wc=function(a){return Da(a.c,function(a){return i(a[1])})},xc=function(a){if(a.f&&a.h&&wc(a)){var b=a.f,e=zc[b];e&&(c.clearTimeout(e.a),delete zc[b]),a.f=0}a.i&&(a.i.o--,delete a.i);for(var b=a.b,f=e=!1;a.c.length&&!a.g;){var g=a.c.shift(),h=g[0],i=g[1],g=g[2];if(h=a.a?i:h)try{var j=h.call(g||a.m,b);d(j)&&(a.a=a.a&&(j==b||j instanceof Error),a.b=b=j),(T(b)||"function"==typeof c.Promise&&b instanceof c.Promise)&&(f=!0,a.g=!0)}catch(c){b=c,a.a=!0,wc(a)||(e=!0)}}a.b=b,f&&(j=o(a.l,a,!0),f=o(a.l,a,!1),b instanceof uc?(vc(b,j,f),b.j=!0):b.then(j,f)),e&&(b=new yc(b),zc[b.a]=b,a.f=b.a)},yc=function(a){this.a=c.setTimeout(o(this.c,this),0),this.b=a};yc.prototype.c=function(){throw na(zc[this.a],"Cannot throw an error that is not scheduled."),delete zc[this.a],this.b};var zc={},Ac=function(a){this.f=a,this.b=this.c=this.a=null},Bc=function(a,b){this.name=a,this.value=b};Bc.prototype.toString=function(){return this.name};var Cc=new Bc("SEVERE",1e3),Dc=new Bc("CONFIG",700),Ec=new Bc("FINE",500),Fc=function(a){return a.c?a.c:a.a?Fc(a.a):(oa("Root logger has no level set."),null)};Ac.prototype.log=function(a,b,d){if(a.value>=Fc(this).value)for(i(b)&&(b=b()),a=new M(a,String(b),this.f),d&&(a.a=d),d="log:"+a.b,c.console&&(c.console.timeStamp?c.console.timeStamp(d):c.console.markTimeline&&c.console.markTimeline(d)),c.msWriteProfilerMark&&c.msWriteProfilerMark(d),d=this;d;)d=d.a};var Gc={},Hc=null,Ic=function(a){Hc||(Hc=new Ac(""),Gc[""]=Hc,Hc.c=Dc);var b;if(!(b=Gc[a])){b=new Ac(a);var c=a.lastIndexOf("."),d=a.substr(c+1),c=Ic(a.substr(0,c));c.b||(c.b={}),c.b[d]=b,b.a=c,Gc[a]=b}return b},Jc=function(){qa.call(this),this.b=new Sa(this),this.Z=this,this.G=null};q(Jc,qa),Jc.prototype[sa]=!0,Jc.prototype.removeEventListener=function(a,b,c,d){ic(this,a,b,c,d)};var Kc=function(a,b){Mc(a);var c,d=a.G;if(d){c=[];for(var e=1;d;d=d.G)c.push(d),na(1e3>++e,"infinite loop")}a=a.Z,d=b.type||b,h(b)?b=new La(b,a):b instanceof La?b.target=b.target||a:(e=b,b=new La(d,a),R(b,e));var f,e=!0;if(c)for(var g=c.length-1;0<=g;g--)f=b.a=c[g],e=Lc(f,d,!0,b)&&e;if(f=b.a=a,e=Lc(f,d,!0,b)&&e,e=Lc(f,d,!1,b)&&e,c)for(g=0;g<c.length;g++)f=b.a=c[g],e=Lc(f,d,!1,b)&&e};Jc.prototype.C=function(){if(Jc.I.C.call(this),this.b){var a,b=this.b,c=0;for(a in b.a){for(var d=b.a[a],e=0;e<d.length;e++)++c,Oa(d[e]);delete b.a[a],b.b--}}this.G=null};var Lc=function(a,b,c,d){if(b=a.b.a[String(b)],!b)return!0;b=b.concat();for(var e=!0,f=0;f<b.length;++f){var g=b[f];if(g&&!g.N&&g.V==c){var h=g.listener,i=g.M||g.src;g.U&&Ua(a.b,g),e=!1!==h.call(i,d)&&e}}return e&&0!=d.ja},Mc=function(a){na(a.b,"Event target is not initialized. Did you call the superclass (goog.events.EventTarget) constructor?")},Nc=function(a,b){this.h=new ib,rc.call(this,a,b)};q(Nc,rc),a=Nc.prototype,a.X=function(a,b){return a?($a(this.h,d(b)?b:100,a),void this.aa()):Nc.I.X.call(this)},a.aa=function(){for(var a=this.h;0<a.b();){var b=this.X();if(!b)break;var c,d=a,e=d.a,f=e.length;if(c=e[0],0>=f)c=void 0;else{if(1==f)Fa(e);else{e[0]=e.pop();for(var e=0,d=d.a,f=d.length,g=d[e];e<f>>1;){var h=2*e+1,i=2*e+2,h=i<f&&d[i].a<d[h].a?i:h;if(d[h].a>g.a)break;d[e]=d[h],e=h}d[e]=g}c=c.b}c.apply(this,[b])}},a.$=function(a){Nc.I.$.call(this,a),this.aa()},a.T=function(){Nc.I.T.call(this),this.aa()},a.C=function(){Nc.I.C.call(this),c.clearTimeout(void 0),Fa(this.h.a),this.h=null};var Oc=function(a,b){a&&a.log(Ec,b,void 0)},Pc=function(a,b,d){if(i(a))d&&(a=o(a,d));else{if(!a||"function"!=typeof a.handleEvent)throw Error("Invalid listener argument");a=o(a.handleEvent,a)}return 2147483647<Number(b)?-1:c.setTimeout(a,b||0)},Qc=function(a){Jc.call(this),this.K=new Hb,this.B=a||null,this.c=!1,this.w=this.a=null,this.O=this.l="",this.J=0,this.h="",this.f=this.F=this.j=this.D=!1,this.i=0,this.m=null,this.S="",this.u=this.ca=this.Y=!1};q(Qc,Jc);var Rc=Qc.prototype,Sc=Ic("goog.net.XhrIo");Rc.v=Sc;var Tc=/^https?$/i,Uc=["POST","PUT"];Qc.prototype.send=function(a,b,d,e){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.l+"; newUri="+a);b=b?b.toUpperCase():"GET",this.l=a,this.h="",this.J=0,this.O=b,this.D=!1,this.c=!0,this.a=Xa(this.B?this.B:Ma),this.w=ya(this.B?this.B:Ma),this.a.onreadystatechange=o(this.R,this),this.ca&&"onprogress"in this.a&&(this.a.onprogress=o(function(a){this.P(a,!0)},this),this.a.upload&&(this.a.upload.onprogress=o(this.P,this)));try{Oc(this.v,hd(this,"Opening Xhr")),this.F=!0,this.a.open(b,String(a),!0),this.F=!1}catch(a){return Oc(this.v,hd(this,"Error opening Xhr: "+a.message)),void Xc(this,a)}a=d||"";var f=new Hb(this.K);e&&db(e,function(a,b){f.set(b,a)}),e=Ea(f.H()),d=c.FormData&&a instanceof c.FormData,!(0<=za(Uc,b))||e||d||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),f.forEach(function(a,b){this.a.setRequestHeader(b,a)},this),this.S&&(this.a.responseType=this.S),"withCredentials"in this.a&&this.a.withCredentials!==this.Y&&(this.a.withCredentials=this.Y);try{bd(this),0<this.i&&(this.u=Vc(this.a),Oc(this.v,hd(this,"Will abort after "+this.i+"ms if incomplete, xhr2 "+this.u)),this.u?(this.a.timeout=this.i,this.a.ontimeout=o(this.L,this)):this.m=Pc(this.L,this.i,this)),Oc(this.v,hd(this,"Sending request")),this.j=!0,this.a.send(a),this.j=!1}catch(a){Oc(this.v,hd(this,"Send error: "+a.message)),Xc(this,a)}};var Vc=function(a){return lb&&xb(9)&&"number"==typeof a.timeout&&d(a.ontimeout)},Wc=function(a){return"content-type"==a.toLowerCase()};Qc.prototype.L=function(){"undefined"!=typeof b&&this.a&&(this.h="Timed out after "+this.i+"ms, aborting",this.J=8,Oc(this.v,hd(this,this.h)),Kc(this,"timeout"),Zc(this,8))};var Xc=function(a,b){a.c=!1,a.a&&(a.f=!0,a.a.abort(),a.f=!1),a.h=b,a.J=5,Yc(a),ad(a)},Yc=function(a){a.D||(a.D=!0,Kc(a,"complete"),Kc(a,"error"))},Zc=function(a,b){a.a&&a.c&&(Oc(a.v,hd(a,"Aborting")),a.c=!1,a.f=!0,a.a.abort(),a.f=!1,a.J=b||7,Kc(a,"complete"),Kc(a,"abort"),ad(a))};Qc.prototype.C=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),ad(this,!0)),Qc.I.C.call(this)},Qc.prototype.R=function(){this.g||(this.F||this.j||this.f?$c(this):this.la())},Qc.prototype.la=function(){$c(this)};var $c=function(a){if(a.c&&"undefined"!=typeof b)if(a.w[1]&&4==dd(a)&&2==ed(a))Oc(a.v,hd(a,"Local request error detected and ignored"));else if(a.j&&4==dd(a))Pc(a.R,0,a);else if(Kc(a,"readystatechange"),4==dd(a)){Oc(a.v,hd(a,"Request complete")),a.c=!1;try{if(cd(a))Kc(a,"complete"),Kc(a,"success");else{a.J=6;var c;try{c=2<dd(a)?a.a.statusText:""}catch(b){Oc(a.v,"Can not get status: "+b.message),c=""}a.h=c+" ["+ed(a)+"]",Yc(a)}}finally{ad(a)}}};Qc.prototype.P=function(a,b){na("progress"===a.type,"goog.net.EventType.PROGRESS is of the same type as raw XHR progress."),Kc(this,_c(a,"progress")),Kc(this,_c(a,b?"downloadprogress":"uploadprogress"))};var _c=function(a,b){return{type:b,lengthComputable:a.lengthComputable,loaded:a.loaded,total:a.total}},ad=function(a,b){if(a.a){bd(a);var c=a.a,d=a.w[0]?e:null;a.a=null,a.w=null,b||Kc(a,"ready");try{c.onreadystatechange=d}catch(b){(a=a.v)&&a.log(Cc,"Problem encountered resetting onreadystatechange: "+b.message,void 0)}}},bd=function(a){a.a&&a.u&&(a.a.ontimeout=null),"number"==typeof a.m&&(c.clearTimeout(a.m),a.m=null)},cd=function(a){var b,d=ed(a);a:switch(d){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:b=!0;break a;default:b=!1}return b||((d=0===d)&&(a=String(a.l).match(Pa)[1]||null,!a&&c.self&&c.self.location&&(a=c.self.location.protocol,a=a.substr(0,a.length-1)),d=!Tc.test(a?a.toLowerCase():"")),b=d),b},dd=function(a){return a.a?a.a.readyState:0},ed=function(a){try{return 2<dd(a)?a.a.status:-1}catch(a){return-1}},fd=function(a){try{return a.a?a.a.responseText:""}catch(b){return Oc(a.v,"Can not get responseText: "+b.message),""}},gd=function(a,b){return a.a&&4==dd(a)?a.a.getResponseHeader(b):void 0},hd=function(a,b){return b+" ["+a.O+" "+a.l+" "+ed(a)+"]"},id=function(a,b,c,d){this.u=a,this.w=!!d,Nc.call(this,b,c)};q(id,Nc),id.prototype.i=function(){var a=new Qc,b=this.u;return b&&b.forEach(function(b,c){a.K.set(c,b)}),this.w&&(a.Y=!0),a},id.prototype.l=function(a){return!a.g&&!a.a};var jd=new id,kd=function(a,b,c,d,e,f,g,h,i,j){this.K=a,this.F=b,this.w=c,this.m=d,this.G=e.slice(),this.l=this.o=this.f=this.c=null,this.h=this.i=!1,this.u=f,this.j=g,this.g=i,this.L=j,this.D=h;var k=this;this.B=new Lb(function(a,b){k.o=a,k.l=b,md(k)})},ld=function(a,b,c){this.b=a,this.c=b,this.a=!!c},md=function(a){function b(a,b){b?a(!1,new ld(!1,null,!0)):jd.X(function(b){b.Y=e.L,e.c=b;var c=null;null!==e.g&&(b.ca=!0,c=ec(b,"uploadprogress",function(a){e.g(a.loaded,a.lengthComputable?a.total:-1)}),b.ca=null!==e.g),b.send(e.K,e.F,e.m,e.w),hc(b,"complete",function(b){null!==c&&jc(c),e.c=null,b=b.target;var d=6===b.J&&100<=ed(b),d=cd(b)||d,f=ed(b);!d||500<=f&&600>f||429===f?(d=7===b.J,sc(b),a(!1,new ld(!1,null,d))):(d=0<=za(e.G,f),a(!0,new ld(d,b)))})})}function c(a,b){var c=e.o;a=e.l;var f=b.c;if(b.b)try{var g=e.u(f,fd(f));d(g)?c(g):c()}catch(b){a(b)}else null!==f?(b=u(),g=fd(f),b.serverResponse=g,a(e.j?e.j(f,b):b)):(b=b.a?e.h?y():v():new t("retry-limit-exceeded","Max retry time for operation exceeded, please try again."),a(b));sc(f)}var e=a;a.i?c(0,new ld(!1,null,!0)):a.f=r(b,c,a.D)};kd.prototype.a=function(){return this.B},kd.prototype.b=function(a){this.i=!0,this.h=a||!1,null!==this.f&&(0,this.f)(!1),null!==this.c&&Zc(this.c)};var nd=function(a,b,c){var d=ja(a.f),d=a.l+d,e=a.b?B(a.b):{};return null!==b&&0<b.length&&(e.Authorization="Firebase "+b),e["X-Firebase-Storage-Version"]="webjs/"+("undefined"!=typeof firebase?firebase.SDK_VERSION:"AppManager"),new kd(d,a.i,e,a.c,a.h,a.M,a.a,a.j,a.g,c)},od=function(a){var b=c.BlobBuilder||c.WebKitBlobBuilder;if(d(b)){for(var b=new b,e=0;e<arguments.length;e++)b.append(arguments[e]);return b.getBlob()}if(b=Ha(arguments),e=c.BlobBuilder||c.WebKitBlobBuilder,d(e)){for(var e=new e,f=0;f<b.length;f++)e.append(b[f],void 0);b=e.getBlob(void 0)}else{if(!d(c.Blob))throw Error("This browser doesn't seem to support creating Blobs");b=new Blob(b,{})}return b},pd=function(a,b,c){return d(c)||(c=a.size),a.webkitSlice?a.webkitSlice(b,c):a.mozSlice?a.mozSlice(b,c):a.slice?nb&&!xb("13.0")||ob&&!xb("537.1")?(0>b&&(b+=a.size),0>b&&(b=0),0>c&&(c+=a.size),c<b&&(c=b),a.slice(b,c-b)):a.slice(b,c):null},qd=function(a,b){I()&&a instanceof Blob?(this.s=a,b=a.size,a=a.type):(a instanceof ArrayBuffer?(b?this.s=new Uint8Array(a):(this.s=new Uint8Array(a.byteLength),this.s.set(new Uint8Array(a))),b=this.s.length):(b?this.s=a:(this.s=new Uint8Array(a.length),this.s.set(a)),b=a.length),a=""),this.a=b,this.b=a};qd.prototype.type=function(){return this.b},qd.prototype.slice=function(a,b){return I()&&this.s instanceof Blob?(a=pd(this.s,a,b),null===a?null:new qd(a)):(a=new Uint8Array(this.s.buffer,a,b-a),new qd(a,!0))};var rd=function(a){var b=[];if(Array.prototype.push.apply(b,arguments),I())return b=Ca(b,function(a){return a instanceof qd?a.s:a}),new qd(od.apply(null,b));var b=Ca(b,function(a){return H(a)?fa("raw",a).data.buffer:a.s.buffer}),c=0;Aa(b,function(a){c+=a.byteLength});var d=new Uint8Array(c),e=0;return Aa(b,function(a){a=new Uint8Array(a);for(var b=0;b<a.length;b++)d[e++]=a[b]}),new qd(d,!0)},sd=function(a){this.c=Qb(a)};sd.prototype.a=function(){return this.c},sd.prototype.b=function(){};var td=function(){this.a={},this.b=Number.MIN_SAFE_INTEGER},ud=function(a,b){function c(){delete e.a[d]}var d=a.b;a.b++,a.a[d]=b;var e=a;b.a().then(c,c)},vd=function(a){A(a.a,function(a,b){b&&b.b(!0)}),a.a={}},wd=function(a,b,c,d){if(this.a=a,this.g=null,null!==this.a&&(a=this.a.options,G(a))){if(a=a.storageBucket||null,null==a)a=null;else{var e=null;try{e=aa(a)}catch(a){}if(null!==e){if(""!==e.path)throw new t("invalid-default-bucket","Invalid default bucket '"+a+"'.");a=e.bucket}}this.g=a}this.l=b,this.j=c,this.i=d,this.c=12e4,this.b=6e4,this.h=new td,this.f=!1},xd=function(a){return null!==a.a&&G(a.a.INTERNAL)&&G(a.a.INTERNAL.getToken)?a.a.INTERNAL.getToken().then(function(a){return G(a)?a.accessToken:null},function(){return null}):Pb(null)};wd.prototype.bucket=function(){if(this.f)throw y();return this.g};var yd=function(a,b,c){return a.f?new sd(y()):(b=a.j(b,c,null===a.a),ud(a.h,b),b)},zd=function(a,b){return b},Ad=function(a,b,c,d){this.c=a,this.b=b||a,this.f=!!c,this.a=d||zd},Bd=null,Cd=function(){if(Bd)return Bd;var a=[];a.push(new Ad("bucket")),a.push(new Ad("generation")),a.push(new Ad("metageneration")),a.push(new Ad("name","fullPath",!0));var b=new Ad("name");return b.a=function(a,b){return!H(b)||2>b.length?b:Ra(b)},a.push(b),b=new Ad("size"),b.a=function(a,b){return G(b)?+b:b},a.push(b),a.push(new Ad("timeCreated")),a.push(new Ad("updated")),a.push(new Ad("md5Hash",null,!0)),a.push(new Ad("cacheControl",null,!0)),a.push(new Ad("contentDisposition",null,!0)),a.push(new Ad("contentEncoding",null,!0)),a.push(new Ad("contentLanguage",null,!0)),a.push(new Ad("contentType",null,!0)),a.push(new Ad("metadata","customMetadata",!0)),a.push(new Ad("downloadTokens","downloadURLs",!1,function(a,b){if(!(H(b)&&0<b.length))return[];var c=encodeURIComponent;return Ca(b.split(","),function(b){var d=a.fullPath,d="https://firebasestorage.googleapis.com/v0"+("/b/"+c(a.bucket)+"/o/"+c(d));return b=ja({alt:"media",token:b}),d+b})})),Bd=a},Dd=function(a,b){Object.defineProperty(a,"ref",{get:function(){return b.l(b,new $(a.bucket,a.fullPath))}})},Ed=function(a,b){for(var c={},d=b.length,e=0;e<d;e++){var f=b[e];f.f&&(c[f.c]=a[f.b])}return JSON.stringify(c)},Fd=function(a){if(!a||"object"!=typeof a)throw"Expected Metadata object.";for(var b in a){var c=a[b];if("customMetadata"===b&&"object"!=typeof c)throw"Expected object for 'customMetadata' mapping."}},Gd=function(a,b,c){for(var d=b.length,e=b.length,f=0;f<b.length;f++)if(b[f].b){d=f;break}if(!(d<=c.length&&c.length<=e))throw d===e?(b=d,d=1===d?"argument":"arguments"):(b="between "+d+" and "+e,d="arguments"),new t("invalid-argument-count","Invalid argument count in `"+a+"`: Expected "+b+" "+d+", received "+c.length+".");for(f=0;f<c.length;f++)try{b[f].a(c[f])}catch(b){if(b instanceof Error)throw x(f,a,b.message);throw x(f,a,b)}},Hd=function(a,b){var c=this;this.a=function(b){c.b&&!d(b)||a(b)},this.b=!!b},Id=function(a,b){return function(c){a(c),b(c)}},Jd=function(a,b){function c(a){if(!("string"==typeof a||a instanceof String))throw"Expected string."}var d;return d=a?Id(c,a):c,new Hd(d,b)},Kd=function(){return new Hd(function(a){if(!(a instanceof Uint8Array||a instanceof ArrayBuffer||I()&&a instanceof Blob))throw"Expected Blob or File."})},Ld=function(){return new Hd(function(a){if(!(("number"==typeof a||a instanceof Number)&&0<=a))throw"Expected a number 0 or greater."})},Md=function(a,b){return new Hd(function(b){if(!(null===b||G(b)&&b instanceof Object))throw"Expected an Object.";G(a)&&a(b)},b)},Nd=function(){return new Hd(function(a){if(null!==a&&!i(a))throw"Expected a Function."},!0)},Od=function(a){if(!a)throw u()},Pd=function(a,b){return function(c,d){a:{var e;try{e=JSON.parse(d)}catch(a){c=null;break a}c=j(e)?e:null}if(null===c)c=null;else{d={type:"file"},e=b.length;for(var f=0;f<e;f++){var g=b[f];d[g.b]=g.a(d,c[g.c])}Dd(d,a),c=d}return Od(null!==c),c}},Qd=function(a){return function(b,c){return b=401===ed(b)?new t("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===ed(b)?new t("quota-exceeded","Quota for bucket '"+a.bucket+"' exceeded, please view quota on https://firebase.google.com/pricing/."):403===ed(b)?new t("unauthorized","User does not have permission to access '"+a.path+"'."):c,b.serverResponse=c.serverResponse,b}},Rd=function(a){var b=Qd(a);return function(c,d){var e=b(c,d);return 404===ed(c)&&(e=new t("object-not-found","Object '"+a.path+"' does not exist.")),e.serverResponse=d.serverResponse,e}},Sd=function(a,b,c){var d=_(b);return a=new C(s+"/v0"+d,"GET",Pd(a,c),a.c),a.a=Rd(b),a},Td=function(a,b){var c=_(b);return a=new C(s+"/v0"+c,"DELETE",function(){},a.c),a.h=[200,204],a.a=Rd(b),a},Ud=function(a,b,c){return c=c?B(c):{},c.fullPath=a.path,c.size=b.a,c.contentType||(a=b&&b.type()||"application/octet-stream",c.contentType=a),c},Vd=function(a,b,c,d,e){var f,g="/b/"+encodeURIComponent(b.bucket)+"/o",h={"X-Goog-Upload-Protocol":"multipart"};f="";for(var i=0;2>i;i++)f+=Math.random().toString().slice(2);if(h["Content-Type"]="multipart/related; boundary="+f,e=Ud(b,d,e),i=Ed(e,c),d=rd("--"+f+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+i+"\r\n--"+f+"\r\nContent-Type: "+e.contentType+"\r\n\r\n",d,"\r\n--"+f+"--"),null===d)throw w();return a=new C(s+"/v0"+g,"POST",Pd(a,c),a.b),a.f={name:e.fullPath},a.b=h,a.c=d.s,a.a=Qd(b),a},Wd=function(a,b,c,d){this.a=a,this.total=b,this.b=!!c,this.c=d||null},Xd=function(a,b){var c;try{c=gd(a,"X-Goog-Upload-Status")}catch(a){Od(!1)}return a=0<=za(b||["active"],c),Od(a),c},Yd=function(a,b,c,d,e){var f="/b/"+encodeURIComponent(b.bucket)+"/o",g=Ud(b,d,e);return e={name:g.fullPath},f=s+"/v0"+f,d={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":d.a,"X-Goog-Upload-Header-Content-Type":g.contentType,"Content-Type":"application/json; charset=utf-8"},c=Ed(g,c),a=new C(f,"POST",function(a){Xd(a);var b;try{b=gd(a,"X-Goog-Upload-URL")}catch(a){Od(!1)}return Od(H(b)),b},a.b),a.f=e,a.b=d,a.c=c,a.a=Qd(b),a},Zd=function(a,b,c,d){return a=new C(c,"POST",function(a){var b,c=Xd(a,["active","final"]);try{b=gd(a,"X-Goog-Upload-Size-Received")}catch(a){Od(!1)}return a=b,isFinite(a)&&(a=String(a)),a=h(a)?/^\s*-?0x/i.test(a)?parseInt(a,16):parseInt(a,10):NaN,Od(!isNaN(a)),new Wd(a,d.a,"final"===c)},a.b),a.b={"X-Goog-Upload-Command":"query"},a.a=Qd(b),a},$d=function(a,b,c,d,e,f){var g=new Wd(0,0);if(f?(g.a=f.a,g.total=f.total):(g.a=0,g.total=d.a),d.a!==g.total)throw new t("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var h=f=g.total-g.a,h=Math.min(h,262144),i=g.a;if(f={"X-Goog-Upload-Command":h===f?"upload, finalize":"upload","X-Goog-Upload-Offset":g.a},i=d.slice(i,i+h),null===i)throw w();return c=new C(c,"POST",function(a,c){var f,i=Xd(a,["active","final"]),j=g.a+h,k=d.a;return f="final"===i?Pd(b,e)(a,c):null,new Wd(j,k,"final"===i,f)},b.b),c.b=f,c.c=i.s,c.g=null,c.a=Qd(a),c},_d=function(a,b,c,d,e,f){this.K=a,this.c=b,this.i=c,this.f=e,this.h=f||null,this.o=d,this.j=0,this.G=this.m=!1,this.B=[],this.Z=262144<this.f.a,this.b="running",this.a=this.u=this.g=null;var g=this;this.W=function(a){g.a=null,"storage/canceled"===a.code?(g.m=!0,je(g)):(g.g=a,ie(g,"error"))},this.S=function(a){g.a=null,"storage/canceled"===a.code?je(g):(g.g=a,ie(g,"error"))},this.w=this.l=null,this.F=new Lb(function(a,b){g.l=a,g.w=b,ae(g)}),this.F.then(null,function(){})},ae=function(a){"running"===a.b&&null===a.a&&(a.Z?null===a.u?ce(a):a.m?de(a):a.G?fe(a):ee(a):ge(a))},be=function(a,b){xd(a.c).then(function(c){switch(a.b){case"running":b(c);break;case"canceling":ie(a,"canceled");break;case"pausing":ie(a,"paused")}})},ce=function(a){be(a,function(b){var c=Yd(a.c,a.i,a.o,a.f,a.h);a.a=yd(a.c,c,b),a.a.a().then(function(b){a.a=null,a.u=b,a.m=!1,je(a)},this.W)})},de=function(a){var b=a.u;be(a,function(c){var d=Zd(a.c,a.i,b,a.f);a.a=yd(a.c,d,c),a.a.a().then(function(b){a.a=null,he(a,b.a),a.m=!1,b.b&&(a.G=!0),je(a)},a.W)})},ee=function(a){var b=new Wd(a.j,a.f.a),c=a.u;be(a,function(d){var e;try{e=$d(a.i,a.c,c,a.f,a.o,b)}catch(b){return a.g=b,void ie(a,"error")}a.a=yd(a.c,e,d),a.a.a().then(function(b){a.a=null,he(a,b.a),b.b?(a.h=b.c,ie(a,"success")):je(a)},a.W)})},fe=function(a){be(a,function(b){var c=Sd(a.c,a.i,a.o);a.a=yd(a.c,c,b),a.a.a().then(function(b){a.a=null,a.h=b,ie(a,"success")},a.S)})},ge=function(a){be(a,function(b){var c=Vd(a.c,a.i,a.o,a.f,a.h);a.a=yd(a.c,c,b),a.a.a().then(function(b){a.a=null,a.h=b,he(a,a.f.a),ie(a,"success")},a.W)})},he=function(a,b){var c=a.j;a.j=b,a.j>c&&le(a)},ie=function(a,b){if(a.b!==b)switch(b){case"canceling":a.b=b,null!==a.a&&a.a.b();break;case"pausing":a.b=b,null!==a.a&&a.a.b();break;case"running":var c="paused"===a.b;a.b=b,c&&(le(a),ae(a));break;case"paused":a.b=b,le(a);break;case"canceled":a.g=v(),a.b=b,le(a);break;case"error":a.b=b,le(a);break;case"success":a.b=b,le(a)}},je=function(a){switch(a.b){case"pausing":ie(a,"paused");break;case"canceling":ie(a,"canceled");break;case"running":ae(a)}};_d.prototype.D=function(){return new ka(this.j,this.f.a,F(this.b),this.h,this,this.K)},_d.prototype.O=function(a,b,c,e){function f(a){try{return void h(a)}catch(a){}try{if(i(a),!(d(a.next)||d(a.error)||d(a.complete)))throw""}catch(a){throw"Expected a function or an Object with one of `next`, `error`, `complete` properties."}}function g(a){return function(b,c,d){null!==a&&Gd("on",a,arguments);var e=new ba(b,c,d);return ke(j,e),function(){Ga(j.B,e)}}}var h=Nd().a,i=Md(null,!0).a;Gd("on",[Jd(function(){if("state_changed"!==a)throw"Expected one of the event types: [state_changed]."}),Md(f,!0),Nd(),Nd()],arguments);var j=this,k=[Md(function(a){if(null===a)throw"Expected a function or an Object with one of `next`, `error`, `complete` properties.";f(a)}),Nd(),Nd()];return d(b)||d(c)||d(e)?g(null)(b,c,e):g(k)},_d.prototype.then=function(a,b){return this.F.then(a,b)};var ke=function(a,b){a.B.push(b),ne(a,b)},le=function(a){me(a);var b=Ha(a.B);Aa(b,function(b){ne(a,b)})},me=function(a){if(null!==a.l){var b=!0;switch(F(a.b)){case"success":ac(a.l.bind(null,a.D()))();break;case"canceled":case"error":ac(a.w.bind(null,a.g))();break;default:b=!1}b&&(a.l=null,a.w=null)}},ne=function(a,b){switch(F(a.b)){case"running":case"paused":null!==b.next&&ac(b.next.bind(b,a.D()))();break;case"success":null!==b.b&&ac(b.b.bind(b))();break;case"canceled":case"error":null!==b.a&&ac(b.a.bind(b,a.g))();break;default:null!==b.a&&ac(b.a.bind(b,a.g))()}};_d.prototype.R=function(){Gd("resume",[],arguments);var a="paused"===this.b||"pausing"===this.b;return a&&ie(this,"running"),a},_d.prototype.P=function(){Gd("pause",[],arguments);var a="running"===this.b;return a&&ie(this,"pausing"),a},_d.prototype.L=function(){Gd("cancel",[],arguments);var a="running"===this.b||"pausing"===this.b;return a&&ie(this,"canceling"),a};var oe=function(a,b){if(this.b=a,b)this.a=b instanceof $?b:aa(b);else{if(a=a.bucket(),null===a)throw new t("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");this.a=new $(a,"")}};oe.prototype.toString=function(){return Gd("toString",[],arguments),"gs://"+this.a.bucket+"/"+this.a.path};var pe=function(a,b){return new oe(a,b)};a=oe.prototype,a.fa=function(a){Gd("child",[Jd()],arguments);var b=Qa(this.a.path,a);return pe(this.b,new $(this.a.bucket,b))},a.Ea=function(){var a;if(a=this.a.path,0==a.length)a=null;else{var b=a.lastIndexOf("/");a=-1===b?"":a.slice(0,b)}return null===a?null:pe(this.b,new $(this.a.bucket,a))},a.Ga=function(){return pe(this.b,new $(this.a.bucket,""))},a.na=function(){return this.a.bucket},a.za=function(){return this.a.path},a.Da=function(){return Ra(this.a.path)},a.Ia=function(){return this.b.i},a.sa=function(a,b){return Gd("put",[Kd(),new Hd(Fd,!0)],arguments),qe(this,"put"),new _d(this,this.b,this.a,Cd(),new qd(a),b)},a.ta=function(a,b,c){Gd("putString",[Jd(),Jd(da,!0),new Hd(Fd,!0)],arguments),qe(this,"putString");var d=fa(G(b)?b:"raw",a),e=c?B(c):{};return e.contentType=d.a,new _d(this,this.b,this.a,Cd(),new qd(d.data,!0),e)},a.delete=function(){Gd("delete",[],arguments),qe(this,"delete");var a=this;return xd(this.b).then(function(b){var c=Td(a.b,a.a);return yd(a.b,c,b).a()})},a.ga=function(){Gd("getMetadata",[],arguments),qe(this,"getMetadata");var a=this;return xd(this.b).then(function(b){var c=Sd(a.b,a.a,Cd());return yd(a.b,c,b).a()})},a.ua=function(a){Gd("updateMetadata",[new Hd(Fd,void 0)],arguments),qe(this,"updateMetadata");var b=this;return xd(this.b).then(function(c){var d=b.b,e=b.a,f=a,g=Cd(),h=_(e),h=s+"/v0"+h,f=Ed(f,g),d=new C(h,"PATCH",Pd(d,g),d.c);return d.b={"Content-Type":"application/json; charset=utf-8"},d.c=f,d.a=Rd(e),yd(b.b,d,c).a()})},a.ra=function(){return Gd("getDownloadURL",[],arguments),qe(this,"getDownloadURL"),this.ga().then(function(a){if(a=a.downloadURLs[0],G(a))return a;throw new t("no-download-url","The given file does not have any download URLs.")})};var qe=function(a,b){if(""===a.a.path)throw new t("invalid-root-operation","The operation '"+b+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")},re=function(a){this.a=new wd(a,function(a,b){return new oe(a,b)},nd,this),this.b=a,this.c=new se(this)};a=re.prototype,a.va=function(a){Gd("ref",[Jd(function(a){if(/^[A-Za-z]+:\/\//.test(a))throw"Expected child path but got a URL, use refFromURL instead."},!0)],arguments);var b=new oe(this.a);return d(a)?b.fa(a):b},a.wa=function(a){return Gd("refFromURL",[Jd(function(a){if(!/^[A-Za-z]+:\/\//.test(a))throw"Expected full URL but got a child path, use ref instead.";try{aa(a)}catch(a){throw"Expected valid full URL but got an invalid one."}},!1)],arguments),new oe(this.a,a)},a.Ba=function(){return this.a.b},a.ya=function(a){Gd("setMaxUploadRetryTime",[Ld()],arguments),this.a.b=a},a.Aa=function(){return this.a.c},a.xa=function(a){Gd("setMaxOperationRetryTime",[Ld()],arguments),this.a.c=a},a.ma=function(){return this.b},a.ka=function(){return this.c};var se=function(a){this.a=a};se.prototype.delete=function(){var a=this.a.a;a.f=!0,a.a=null,vd(a.h)};var te=function(a,b,c){Object.defineProperty(a,b,{get:c})};oe.prototype.toString=oe.prototype.toString,oe.prototype.child=oe.prototype.fa,oe.prototype.put=oe.prototype.sa,oe.prototype.putString=oe.prototype.ta,oe.prototype.delete=oe.prototype.delete,oe.prototype.getMetadata=oe.prototype.ga,oe.prototype.updateMetadata=oe.prototype.ua,oe.prototype.getDownloadURL=oe.prototype.ra,te(oe.prototype,"parent",oe.prototype.Ea),te(oe.prototype,"root",oe.prototype.Ga),te(oe.prototype,"bucket",oe.prototype.na),te(oe.prototype,"fullPath",oe.prototype.za),te(oe.prototype,"name",oe.prototype.Da),te(oe.prototype,"storage",oe.prototype.Ia),re.prototype.ref=re.prototype.va,re.prototype.refFromURL=re.prototype.wa,te(re.prototype,"maxOperationRetryTime",re.prototype.Aa),re.prototype.setMaxOperationRetryTime=re.prototype.xa,te(re.prototype,"maxUploadRetryTime",re.prototype.Ba),re.prototype.setMaxUploadRetryTime=re.prototype.ya,te(re.prototype,"app",re.prototype.ma),te(re.prototype,"INTERNAL",re.prototype.ka),se.prototype.delete=se.prototype.delete,re.prototype.capi_=function(a){s=a},_d.prototype.on=_d.prototype.O,_d.prototype.resume=_d.prototype.R,_d.prototype.pause=_d.prototype.P,_d.prototype.cancel=_d.prototype.L,te(_d.prototype,"snapshot",_d.prototype.D),te(ka.prototype,"bytesTransferred",ka.prototype.oa),te(ka.prototype,"totalBytes",ka.prototype.Ka),te(ka.prototype,"state",ka.prototype.Ha),te(ka.prototype,"metadata",ka.prototype.Ca),te(ka.prototype,"downloadURL",ka.prototype.qa),te(ka.prototype,"task",ka.prototype.Ja),te(ka.prototype,"ref",ka.prototype.Fa),D.STATE_CHANGED="state_changed",E.RUNNING="running",E.PAUSED="paused",E.SUCCESS="success",E.CANCELED="canceled",E.ERROR="error",ca.RAW="raw",ca.BASE64="base64",ca.BASE64URL="base64url",ca.DATA_URL="data_url",Lb.prototype.catch=Lb.prototype.l,Lb.prototype.then=Lb.prototype.then,function(){function a(a){return new re(a)}var b={TaskState:E,TaskEvent:D,StringFormat:ca,Storage:re,Reference:oe};if(!(window.firebase&&firebase.INTERNAL&&firebase.INTERNAL.registerService))throw Error("Cannot install Firebase Storage - be sure to load firebase-app.js first.");firebase.INTERNAL.registerService("storage",a,b)}()}(),!function(a,b){"use strict";"function"==typeof define&&define.amd?define(["angular"],b):a.hasOwnProperty("angular")?b(a.angular):"object"==typeof exports&&(module.exports=b(require("angular")))}(this,function(a){"use strict";function b(a,b){var c;try{c=a[b]}catch(a){c=!1}if(c&&"localStorage"===b){var d="__"+Math.round(1e7*Math.random());try{localStorage.setItem(d,d),localStorage.removeItem(d)}catch(a){c=!1}}return c}function c(c){var d=b(window,c);return function(){var e="ngStorage-";
this.setKeyPrefix=function(a){if("string"!=typeof a)throw new TypeError("[ngStorage] - "+c+"Provider.setKeyPrefix() expects a String.");e=a};var f=a.toJson,g=a.fromJson;this.setSerializer=function(a){if("function"!=typeof a)throw new TypeError("[ngStorage] - "+c+"Provider.setSerializer expects a function.");f=a},this.setDeserializer=function(a){if("function"!=typeof a)throw new TypeError("[ngStorage] - "+c+"Provider.setDeserializer expects a function.");g=a},this.supported=function(){return!!d},this.get=function(a){return d&&g(d.getItem(e+a))},this.set=function(a,b){return d&&d.setItem(e+a,f(b))},this.$get=["$rootScope","$window","$log","$timeout","$document",function(d,h,i,j,k){var l,m,n=e.length,o=b(h,c),p=o||(i.warn("This browser does not support Web Storage!"),{setItem:a.noop,getItem:a.noop,removeItem:a.noop}),q={$default:function(b){for(var c in b)a.isDefined(q[c])||(q[c]=a.copy(b[c]));return q.$sync(),q},$reset:function(a){for(var b in q)"$"===b[0]||delete q[b]&&p.removeItem(e+b);return q.$default(a)},$sync:function(){for(var a,b=0,c=p.length;c>b;b++)(a=p.key(b))&&e===a.slice(0,n)&&(q[a.slice(n)]=g(p.getItem(a)))},$apply:function(){var b;if(m=null,!a.equals(q,l)){b=a.copy(l),a.forEach(q,function(c,d){a.isDefined(c)&&"$"!==d[0]&&(p.setItem(e+d,f(c)),delete b[d])});for(var c in b)p.removeItem(e+c);l=a.copy(q)}},$supported:function(){return!!o}};return q.$sync(),l=a.copy(q),d.$watch(function(){m||(m=j(q.$apply,100,!1))}),h.addEventListener&&h.addEventListener("storage",function(b){if(b.key){var c=k[0];c.hasFocus&&c.hasFocus()||e!==b.key.slice(0,n)||(b.newValue?q[b.key.slice(n)]=g(b.newValue):delete q[b.key.slice(n)],l=a.copy(q),d.$apply())}}),h.addEventListener&&h.addEventListener("beforeunload",function(){q.$apply()}),q}]}}return a=a&&a.module?a:window.angular,a.module("ngStorage",[]).provider("$localStorage",c("localStorage")).provider("$sessionStorage",c("sessionStorage"))}),function(a){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=a();else if("function"==typeof define&&define.amd)define([],a);else{var b;b="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,b.io=a()}}(function(){var a;return function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){b.exports=a("./lib/")},{"./lib/":2}],2:[function(a,b,c){b.exports=a("./socket"),b.exports.parser=a("engine.io-parser")},{"./socket":3,"engine.io-parser":19}],3:[function(a,b,c){(function(c){function d(a,b){if(!(this instanceof d))return new d(a,b);b=b||{},a&&"object"==typeof a&&(b=a,a=null),a?(a=k(a),b.hostname=a.host,b.secure="https"==a.protocol||"wss"==a.protocol,b.port=a.port,a.query&&(b.query=a.query)):b.host&&(b.hostname=k(b.host).host),this.secure=null!=b.secure?b.secure:c.location&&"https:"==location.protocol,b.hostname&&!b.port&&(b.port=this.secure?"443":"80"),this.agent=b.agent||!1,this.hostname=b.hostname||(c.location?location.hostname:"localhost"),this.port=b.port||(c.location&&location.port?location.port:this.secure?443:80),this.query=b.query||{},"string"==typeof this.query&&(this.query=m.decode(this.query)),this.upgrade=!1!==b.upgrade,this.path=(b.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!b.forceJSONP,this.jsonp=!1!==b.jsonp,this.forceBase64=!!b.forceBase64,this.enablesXDR=!!b.enablesXDR,this.timestampParam=b.timestampParam||"t",this.timestampRequests=b.timestampRequests,this.transports=b.transports||["polling","websocket"],this.readyState="",this.writeBuffer=[],this.policyPort=b.policyPort||843,this.rememberUpgrade=b.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=b.onlyBinaryUpgrades,this.perMessageDeflate=!1!==b.perMessageDeflate&&(b.perMessageDeflate||{}),!0===this.perMessageDeflate&&(this.perMessageDeflate={}),this.perMessageDeflate&&null==this.perMessageDeflate.threshold&&(this.perMessageDeflate.threshold=1024),this.pfx=b.pfx||null,this.key=b.key||null,this.passphrase=b.passphrase||null,this.cert=b.cert||null,this.ca=b.ca||null,this.ciphers=b.ciphers||null,this.rejectUnauthorized=void 0===b.rejectUnauthorized?null:b.rejectUnauthorized;var e="object"==typeof c&&c;e.global===e&&b.extraHeaders&&Object.keys(b.extraHeaders).length>0&&(this.extraHeaders=b.extraHeaders),this.open()}function e(a){var b={};for(var c in a)a.hasOwnProperty(c)&&(b[c]=a[c]);return b}var f=a("./transports"),g=a("component-emitter"),h=a("debug")("engine.io-client:socket"),i=a("indexof"),j=a("engine.io-parser"),k=a("parseuri"),l=a("parsejson"),m=a("parseqs");b.exports=d,d.priorWebsocketSuccess=!1,g(d.prototype),d.protocol=j.protocol,d.Socket=d,d.Transport=a("./transport"),d.transports=a("./transports"),d.parser=a("engine.io-parser"),d.prototype.createTransport=function(a){h('creating transport "%s"',a);var b=e(this.query);b.EIO=j.protocol,b.transport=a,this.id&&(b.sid=this.id);var c=new f[a]({agent:this.agent,hostname:this.hostname,port:this.port,secure:this.secure,path:this.path,query:b,forceJSONP:this.forceJSONP,jsonp:this.jsonp,forceBase64:this.forceBase64,enablesXDR:this.enablesXDR,timestampRequests:this.timestampRequests,timestampParam:this.timestampParam,policyPort:this.policyPort,socket:this,pfx:this.pfx,key:this.key,passphrase:this.passphrase,cert:this.cert,ca:this.ca,ciphers:this.ciphers,rejectUnauthorized:this.rejectUnauthorized,perMessageDeflate:this.perMessageDeflate,extraHeaders:this.extraHeaders});return c},d.prototype.open=function(){var a;if(this.rememberUpgrade&&d.priorWebsocketSuccess&&this.transports.indexOf("websocket")!=-1)a="websocket";else{if(0===this.transports.length){var b=this;return void setTimeout(function(){b.emit("error","No transports available")},0)}a=this.transports[0]}this.readyState="opening";try{a=this.createTransport(a)}catch(a){return this.transports.shift(),void this.open()}a.open(),this.setTransport(a)},d.prototype.setTransport=function(a){h("setting transport %s",a.name);var b=this;this.transport&&(h("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=a,a.on("drain",function(){b.onDrain()}).on("packet",function(a){b.onPacket(a)}).on("error",function(a){b.onError(a)}).on("close",function(){b.onClose("transport close")})},d.prototype.probe=function(a){function b(){if(m.onlyBinaryUpgrades){var b=!this.supportsBinary&&m.transport.supportsBinary;l=l||b}l||(h('probe transport "%s" opened',a),k.send([{type:"ping",data:"probe"}]),k.once("packet",function(b){if(!l)if("pong"==b.type&&"probe"==b.data){if(h('probe transport "%s" pong',a),m.upgrading=!0,m.emit("upgrading",k),!k)return;d.priorWebsocketSuccess="websocket"==k.name,h('pausing current transport "%s"',m.transport.name),m.transport.pause(function(){l||"closed"!=m.readyState&&(h("changing transport and sending upgrade packet"),j(),m.setTransport(k),k.send([{type:"upgrade"}]),m.emit("upgrade",k),k=null,m.upgrading=!1,m.flush())})}else{h('probe transport "%s" failed',a);var c=new Error("probe error");c.transport=k.name,m.emit("upgradeError",c)}}))}function c(){l||(l=!0,j(),k.close(),k=null)}function e(b){var d=new Error("probe error: "+b);d.transport=k.name,c(),h('probe transport "%s" failed because of error: %s',a,b),m.emit("upgradeError",d)}function f(){e("transport closed")}function g(){e("socket closed")}function i(a){k&&a.name!=k.name&&(h('"%s" works - aborting "%s"',a.name,k.name),c())}function j(){k.removeListener("open",b),k.removeListener("error",e),k.removeListener("close",f),m.removeListener("close",g),m.removeListener("upgrading",i)}h('probing transport "%s"',a);var k=this.createTransport(a,{probe:1}),l=!1,m=this;d.priorWebsocketSuccess=!1,k.once("open",b),k.once("error",e),k.once("close",f),this.once("close",g),this.once("upgrading",i),k.open()},d.prototype.onOpen=function(){if(h("socket open"),this.readyState="open",d.priorWebsocketSuccess="websocket"==this.transport.name,this.emit("open"),this.flush(),"open"==this.readyState&&this.upgrade&&this.transport.pause){h("starting upgrade probes");for(var a=0,b=this.upgrades.length;a<b;a++)this.probe(this.upgrades[a])}},d.prototype.onPacket=function(a){if("opening"==this.readyState||"open"==this.readyState)switch(h('socket receive: type "%s", data "%s"',a.type,a.data),this.emit("packet",a),this.emit("heartbeat"),a.type){case"open":this.onHandshake(l(a.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var b=new Error("server error");b.code=a.data,this.onError(b);break;case"message":this.emit("data",a.data),this.emit("message",a.data)}else h('packet received with socket readyState "%s"',this.readyState)},d.prototype.onHandshake=function(a){this.emit("handshake",a),this.id=a.sid,this.transport.query.sid=a.sid,this.upgrades=this.filterUpgrades(a.upgrades),this.pingInterval=a.pingInterval,this.pingTimeout=a.pingTimeout,this.onOpen(),"closed"!=this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},d.prototype.onHeartbeat=function(a){clearTimeout(this.pingTimeoutTimer);var b=this;b.pingTimeoutTimer=setTimeout(function(){"closed"!=b.readyState&&b.onClose("ping timeout")},a||b.pingInterval+b.pingTimeout)},d.prototype.setPing=function(){var a=this;clearTimeout(a.pingIntervalTimer),a.pingIntervalTimer=setTimeout(function(){h("writing ping packet - expecting pong within %sms",a.pingTimeout),a.ping(),a.onHeartbeat(a.pingTimeout)},a.pingInterval)},d.prototype.ping=function(){var a=this;this.sendPacket("ping",function(){a.emit("ping")})},d.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emit("drain"):this.flush()},d.prototype.flush=function(){"closed"!=this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(h("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},d.prototype.write=d.prototype.send=function(a,b,c){return this.sendPacket("message",a,b,c),this},d.prototype.sendPacket=function(a,b,c,d){if("function"==typeof b&&(d=b,b=void 0),"function"==typeof c&&(d=c,c=null),"closing"!=this.readyState&&"closed"!=this.readyState){c=c||{},c.compress=!1!==c.compress;var e={type:a,data:b,options:c};this.emit("packetCreate",e),this.writeBuffer.push(e),d&&this.once("flush",d),this.flush()}},d.prototype.close=function(){function a(){d.onClose("forced close"),h("socket closing - telling transport to close"),d.transport.close()}function b(){d.removeListener("upgrade",b),d.removeListener("upgradeError",b),a()}function c(){d.once("upgrade",b),d.once("upgradeError",b)}if("opening"==this.readyState||"open"==this.readyState){this.readyState="closing";var d=this;this.writeBuffer.length?this.once("drain",function(){this.upgrading?c():a()}):this.upgrading?c():a()}return this},d.prototype.onError=function(a){h("socket error %j",a),d.priorWebsocketSuccess=!1,this.emit("error",a),this.onClose("transport error",a)},d.prototype.onClose=function(a,b){if("opening"==this.readyState||"open"==this.readyState||"closing"==this.readyState){h('socket close with reason: "%s"',a);var c=this;clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",a,b),c.writeBuffer=[],c.prevBufferLen=0}},d.prototype.filterUpgrades=function(a){for(var b=[],c=0,d=a.length;c<d;c++)~i(this.transports,a[c])&&b.push(a[c]);return b}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{"./transport":4,"./transports":5,"component-emitter":15,debug:17,"engine.io-parser":19,indexof:23,parsejson:26,parseqs:27,parseuri:28}],4:[function(a,b,c){function d(a){this.path=a.path,this.hostname=a.hostname,this.port=a.port,this.secure=a.secure,this.query=a.query,this.timestampParam=a.timestampParam,this.timestampRequests=a.timestampRequests,this.readyState="",this.agent=a.agent||!1,this.socket=a.socket,this.enablesXDR=a.enablesXDR,this.pfx=a.pfx,this.key=a.key,this.passphrase=a.passphrase,this.cert=a.cert,this.ca=a.ca,this.ciphers=a.ciphers,this.rejectUnauthorized=a.rejectUnauthorized,this.extraHeaders=a.extraHeaders}var e=a("engine.io-parser"),f=a("component-emitter");b.exports=d,f(d.prototype),d.prototype.onError=function(a,b){var c=new Error(a);return c.type="TransportError",c.description=b,this.emit("error",c),this},d.prototype.open=function(){return"closed"!=this.readyState&&""!=this.readyState||(this.readyState="opening",this.doOpen()),this},d.prototype.close=function(){return"opening"!=this.readyState&&"open"!=this.readyState||(this.doClose(),this.onClose()),this},d.prototype.send=function(a){if("open"!=this.readyState)throw new Error("Transport not open");this.write(a)},d.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},d.prototype.onData=function(a){var b=e.decodePacket(a,this.socket.binaryType);this.onPacket(b)},d.prototype.onPacket=function(a){this.emit("packet",a)},d.prototype.onClose=function(){this.readyState="closed",this.emit("close")}},{"component-emitter":15,"engine.io-parser":19}],5:[function(a,b,c){(function(b){function d(a){var c,d=!1,h=!1,i=!1!==a.jsonp;if(b.location){var j="https:"==location.protocol,k=location.port;k||(k=j?443:80),d=a.hostname!=location.hostname||k!=a.port,h=a.secure!=j}if(a.xdomain=d,a.xscheme=h,c=new e(a),"open"in c&&!a.forceJSONP)return new f(a);if(!i)throw new Error("JSONP disabled");return new g(a)}var e=a("xmlhttprequest-ssl"),f=a("./polling-xhr"),g=a("./polling-jsonp"),h=a("./websocket");c.polling=d,c.websocket=h}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{"./polling-jsonp":6,"./polling-xhr":7,"./websocket":9,"xmlhttprequest-ssl":10}],6:[function(a,b,c){(function(c){function d(){}function e(a){f.call(this,a),this.query=this.query||{},h||(c.___eio||(c.___eio=[]),h=c.___eio),this.index=h.length;var b=this;h.push(function(a){b.onData(a)}),this.query.j=this.index,c.document&&c.addEventListener&&c.addEventListener("beforeunload",function(){b.script&&(b.script.onerror=d)},!1)}var f=a("./polling"),g=a("component-inherit");b.exports=e;var h,i=/\n/g,j=/\\n/g;g(e,f),e.prototype.supportsBinary=!1,e.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),f.prototype.doClose.call(this)},e.prototype.doPoll=function(){var a=this,b=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),b.async=!0,b.src=this.uri(),b.onerror=function(b){a.onError("jsonp poll error",b)};var c=document.getElementsByTagName("script")[0];c?c.parentNode.insertBefore(b,c):(document.head||document.body).appendChild(b),this.script=b;var d="undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent);d&&setTimeout(function(){var a=document.createElement("iframe");document.body.appendChild(a),document.body.removeChild(a)},100)},e.prototype.doWrite=function(a,b){function c(){d(),b()}function d(){if(e.iframe)try{e.form.removeChild(e.iframe)}catch(a){e.onError("jsonp polling iframe removal error",a)}try{var a='<iframe src="javascript:0" name="'+e.iframeId+'">';f=document.createElement(a)}catch(a){f=document.createElement("iframe"),f.name=e.iframeId,f.src="javascript:0"}f.id=e.iframeId,e.form.appendChild(f),e.iframe=f}var e=this;if(!this.form){var f,g=document.createElement("form"),h=document.createElement("textarea"),k=this.iframeId="eio_iframe_"+this.index;g.className="socketio",g.style.position="absolute",g.style.top="-1000px",g.style.left="-1000px",g.target=k,g.method="POST",g.setAttribute("accept-charset","utf-8"),h.name="d",g.appendChild(h),document.body.appendChild(g),this.form=g,this.area=h}this.form.action=this.uri(),d(),a=a.replace(j,"\\\n"),this.area.value=a.replace(i,"\\n");try{this.form.submit()}catch(a){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"==e.iframe.readyState&&c()}:this.iframe.onload=c}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{"./polling":8,"component-inherit":16}],7:[function(a,b,c){(function(c){function d(){}function e(a){if(i.call(this,a),c.location){var b="https:"==location.protocol,d=location.port;d||(d=b?443:80),this.xd=a.hostname!=c.location.hostname||d!=a.port,this.xs=a.secure!=b}else this.extraHeaders=a.extraHeaders}function f(a){this.method=a.method||"GET",this.uri=a.uri,this.xd=!!a.xd,this.xs=!!a.xs,this.async=!1!==a.async,this.data=void 0!=a.data?a.data:null,this.agent=a.agent,this.isBinary=a.isBinary,this.supportsBinary=a.supportsBinary,this.enablesXDR=a.enablesXDR,this.pfx=a.pfx,this.key=a.key,this.passphrase=a.passphrase,this.cert=a.cert,this.ca=a.ca,this.ciphers=a.ciphers,this.rejectUnauthorized=a.rejectUnauthorized,this.extraHeaders=a.extraHeaders,this.create()}function g(){for(var a in f.requests)f.requests.hasOwnProperty(a)&&f.requests[a].abort()}var h=a("xmlhttprequest-ssl"),i=a("./polling"),j=a("component-emitter"),k=a("component-inherit"),l=a("debug")("engine.io-client:polling-xhr");b.exports=e,b.exports.Request=f,k(e,i),e.prototype.supportsBinary=!0,e.prototype.request=function(a){return a=a||{},a.uri=this.uri(),a.xd=this.xd,a.xs=this.xs,a.agent=this.agent||!1,a.supportsBinary=this.supportsBinary,a.enablesXDR=this.enablesXDR,a.pfx=this.pfx,a.key=this.key,a.passphrase=this.passphrase,a.cert=this.cert,a.ca=this.ca,a.ciphers=this.ciphers,a.rejectUnauthorized=this.rejectUnauthorized,a.extraHeaders=this.extraHeaders,new f(a)},e.prototype.doWrite=function(a,b){var c="string"!=typeof a&&void 0!==a,d=this.request({method:"POST",data:a,isBinary:c}),e=this;d.on("success",b),d.on("error",function(a){e.onError("xhr post error",a)}),this.sendXhr=d},e.prototype.doPoll=function(){l("xhr poll");var a=this.request(),b=this;a.on("data",function(a){b.onData(a)}),a.on("error",function(a){b.onError("xhr poll error",a)}),this.pollXhr=a},j(f.prototype),f.prototype.create=function(){var a={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};a.pfx=this.pfx,a.key=this.key,a.passphrase=this.passphrase,a.cert=this.cert,a.ca=this.ca,a.ciphers=this.ciphers,a.rejectUnauthorized=this.rejectUnauthorized;var b=this.xhr=new h(a),d=this;try{l("xhr open %s: %s",this.method,this.uri),b.open(this.method,this.uri,this.async);try{if(this.extraHeaders){b.setDisableHeaderCheck(!0);for(var e in this.extraHeaders)this.extraHeaders.hasOwnProperty(e)&&b.setRequestHeader(e,this.extraHeaders[e])}}catch(a){}if(this.supportsBinary&&(b.responseType="arraybuffer"),"POST"==this.method)try{this.isBinary?b.setRequestHeader("Content-type","application/octet-stream"):b.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(a){}"withCredentials"in b&&(b.withCredentials=!0),this.hasXDR()?(b.onload=function(){d.onLoad()},b.onerror=function(){d.onError(b.responseText)}):b.onreadystatechange=function(){4==b.readyState&&(200==b.status||1223==b.status?d.onLoad():setTimeout(function(){d.onError(b.status)},0))},l("xhr data %s",this.data),b.send(this.data)}catch(a){return void setTimeout(function(){d.onError(a)},0)}c.document&&(this.index=f.requestsCount++,f.requests[this.index]=this)},f.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},f.prototype.onData=function(a){this.emit("data",a),this.onSuccess()},f.prototype.onError=function(a){this.emit("error",a),this.cleanup(!0)},f.prototype.cleanup=function(a){if("undefined"!=typeof this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=d:this.xhr.onreadystatechange=d,a)try{this.xhr.abort()}catch(a){}c.document&&delete f.requests[this.index],this.xhr=null}},f.prototype.onLoad=function(){var a;try{var b;try{b=this.xhr.getResponseHeader("Content-Type").split(";")[0]}catch(a){}if("application/octet-stream"===b)a=this.xhr.response;else if(this.supportsBinary)try{a=String.fromCharCode.apply(null,new Uint8Array(this.xhr.response))}catch(b){for(var c=new Uint8Array(this.xhr.response),d=[],e=0,f=c.length;e<f;e++)d.push(c[e]);a=String.fromCharCode.apply(null,d)}else a=this.xhr.responseText}catch(a){this.onError(a)}null!=a&&this.onData(a)},f.prototype.hasXDR=function(){return"undefined"!=typeof c.XDomainRequest&&!this.xs&&this.enablesXDR},f.prototype.abort=function(){this.cleanup()},c.document&&(f.requestsCount=0,f.requests={},c.attachEvent?c.attachEvent("onunload",g):c.addEventListener&&c.addEventListener("beforeunload",g,!1))}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{"./polling":8,"component-emitter":15,"component-inherit":16,debug:17,"xmlhttprequest-ssl":10}],8:[function(a,b,c){function d(a){var b=a&&a.forceBase64;k&&!b||(this.supportsBinary=!1),e.call(this,a)}var e=a("../transport"),f=a("parseqs"),g=a("engine.io-parser"),h=a("component-inherit"),i=a("yeast"),j=a("debug")("engine.io-client:polling");b.exports=d;var k=function(){var b=a("xmlhttprequest-ssl"),c=new b({xdomain:!1});return null!=c.responseType}();h(d,e),d.prototype.name="polling",d.prototype.doOpen=function(){this.poll()},d.prototype.pause=function(a){function b(){j("paused"),c.readyState="paused",a()}var c=this;if(this.readyState="pausing",this.polling||!this.writable){var d=0;this.polling&&(j("we are currently polling - waiting to pause"),d++,this.once("pollComplete",function(){j("pre-pause polling complete"),--d||b()})),this.writable||(j("we are currently writing - waiting to pause"),d++,this.once("drain",function(){j("pre-pause writing complete"),--d||b()}))}else b()},d.prototype.poll=function(){j("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},d.prototype.onData=function(a){var b=this;j("polling got data %s",a);var c=function(a,c,d){return"opening"==b.readyState&&b.onOpen(),"close"==a.type?(b.onClose(),!1):void b.onPacket(a)};g.decodePayload(a,this.socket.binaryType,c),"closed"!=this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"==this.readyState?this.poll():j('ignoring poll - transport state "%s"',this.readyState))},d.prototype.doClose=function(){function a(){j("writing close packet"),b.write([{type:"close"}])}var b=this;"open"==this.readyState?(j("transport open - closing"),a()):(j("transport not open - deferring close"),this.once("open",a))},d.prototype.write=function(a){var b=this;this.writable=!1;var c=function(){b.writable=!0,b.emit("drain")},b=this;g.encodePayload(a,this.supportsBinary,function(a){b.doWrite(a,c)})},d.prototype.uri=function(){var a=this.query||{},b=this.secure?"https":"http",c="";!1!==this.timestampRequests&&(a[this.timestampParam]=i()),this.supportsBinary||a.sid||(a.b64=1),a=f.encode(a),this.port&&("https"==b&&443!=this.port||"http"==b&&80!=this.port)&&(c=":"+this.port),a.length&&(a="?"+a);var d=this.hostname.indexOf(":")!==-1;return b+"://"+(d?"["+this.hostname+"]":this.hostname)+c+this.path+a}},{"../transport":4,"component-inherit":16,debug:17,"engine.io-parser":19,parseqs:27,"xmlhttprequest-ssl":10,yeast:30}],9:[function(a,b,c){(function(c){function d(a){var b=a&&a.forceBase64;b&&(this.supportsBinary=!1),this.perMessageDeflate=a.perMessageDeflate,e.call(this,a)}var e=a("../transport"),f=a("engine.io-parser"),g=a("parseqs"),h=a("component-inherit"),i=a("yeast"),j=a("debug")("engine.io-client:websocket"),k=c.WebSocket||c.MozWebSocket,l=k;if(!l&&"undefined"==typeof window)try{l=a("ws")}catch(a){}b.exports=d,h(d,e),d.prototype.name="websocket",d.prototype.supportsBinary=!0,d.prototype.doOpen=function(){if(this.check()){var a=this.uri(),b=void 0,c={agent:this.agent,perMessageDeflate:this.perMessageDeflate};c.pfx=this.pfx,c.key=this.key,c.passphrase=this.passphrase,c.cert=this.cert,c.ca=this.ca,c.ciphers=this.ciphers,c.rejectUnauthorized=this.rejectUnauthorized,this.extraHeaders&&(c.headers=this.extraHeaders),this.ws=k?new l(a):new l(a,b,c),void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="buffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}},d.prototype.addEventListeners=function(){var a=this;this.ws.onopen=function(){a.onOpen()},this.ws.onclose=function(){a.onClose()},this.ws.onmessage=function(b){a.onData(b.data)},this.ws.onerror=function(b){a.onError("websocket error",b)}},"undefined"!=typeof navigator&&/iPad|iPhone|iPod/i.test(navigator.userAgent)&&(d.prototype.onData=function(a){var b=this;setTimeout(function(){e.prototype.onData.call(b,a)},0)}),d.prototype.write=function(a){function b(){d.emit("flush"),setTimeout(function(){d.writable=!0,d.emit("drain")},0)}var d=this;this.writable=!1;for(var e=a.length,g=0,h=e;g<h;g++)!function(a){f.encodePacket(a,d.supportsBinary,function(f){if(!k){var g={};if(a.options&&(g.compress=a.options.compress),d.perMessageDeflate){var h="string"==typeof f?c.Buffer.byteLength(f):f.length;h<d.perMessageDeflate.threshold&&(g.compress=!1)}}try{k?d.ws.send(f):d.ws.send(f,g)}catch(a){j("websocket closed before onclose event")}--e||b()})}(a[g])},d.prototype.onClose=function(){e.prototype.onClose.call(this)},d.prototype.doClose=function(){"undefined"!=typeof this.ws&&this.ws.close()},d.prototype.uri=function(){var a=this.query||{},b=this.secure?"wss":"ws",c="";this.port&&("wss"==b&&443!=this.port||"ws"==b&&80!=this.port)&&(c=":"+this.port),this.timestampRequests&&(a[this.timestampParam]=i()),this.supportsBinary||(a.b64=1),a=g.encode(a),a.length&&(a="?"+a);var d=this.hostname.indexOf(":")!==-1;return b+"://"+(d?"["+this.hostname+"]":this.hostname)+c+this.path+a},d.prototype.check=function(){return!(!l||"__initialize"in l&&this.name===d.prototype.name)}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{"../transport":4,"component-inherit":16,debug:17,"engine.io-parser":19,parseqs:27,ws:void 0,yeast:30}],10:[function(a,b,c){var d=a("has-cors");b.exports=function(a){var b=a.xdomain,c=a.xscheme,e=a.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!b||d))return new XMLHttpRequest}catch(a){}try{if("undefined"!=typeof XDomainRequest&&!c&&e)return new XDomainRequest}catch(a){}if(!b)try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(a){}}},{"has-cors":22}],11:[function(a,b,c){function d(a,b,c){function d(a,e){if(d.count<=0)throw new Error("after called too many times");--d.count,a?(f=!0,b(a),b=c):0!==d.count||f||b(null,e)}var f=!1;return c=c||e,d.count=a,0===a?b():d}function e(){}b.exports=d},{}],12:[function(a,b,c){b.exports=function(a,b,c){var d=a.byteLength;if(b=b||0,c=c||d,a.slice)return a.slice(b,c);if(b<0&&(b+=d),c<0&&(c+=d),c>d&&(c=d),b>=d||b>=c||0===d)return new ArrayBuffer(0);for(var e=new Uint8Array(a),f=new Uint8Array(c-b),g=b,h=0;g<c;g++,h++)f[h]=e[g];return f.buffer}},{}],13:[function(a,b,c){!function(a){"use strict";c.encode=function(b){var c,d=new Uint8Array(b),e=d.length,f="";for(c=0;c<e;c+=3)f+=a[d[c]>>2],f+=a[(3&d[c])<<4|d[c+1]>>4],f+=a[(15&d[c+1])<<2|d[c+2]>>6],f+=a[63&d[c+2]];return e%3===2?f=f.substring(0,f.length-1)+"=":e%3===1&&(f=f.substring(0,f.length-2)+"=="),f},c.decode=function(b){var c,d,e,f,g,h=.75*b.length,i=b.length,j=0;"="===b[b.length-1]&&(h--,"="===b[b.length-2]&&h--);var k=new ArrayBuffer(h),l=new Uint8Array(k);for(c=0;c<i;c+=4)d=a.indexOf(b[c]),e=a.indexOf(b[c+1]),f=a.indexOf(b[c+2]),g=a.indexOf(b[c+3]),l[j++]=d<<2|e>>4,l[j++]=(15&e)<<4|f>>2,l[j++]=(3&f)<<6|63&g;return k}}("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")},{}],14:[function(a,b,c){(function(a){function c(a){for(var b=0;b<a.length;b++){var c=a[b];if(c.buffer instanceof ArrayBuffer){var d=c.buffer;if(c.byteLength!==d.byteLength){var e=new Uint8Array(c.byteLength);e.set(new Uint8Array(d,c.byteOffset,c.byteLength)),d=e.buffer}a[b]=d}}}function d(a,b){b=b||{};var d=new f;c(a);for(var e=0;e<a.length;e++)d.append(a[e]);return b.type?d.getBlob(b.type):d.getBlob()}function e(a,b){return c(a),new Blob(a,b||{})}var f=a.BlobBuilder||a.WebKitBlobBuilder||a.MSBlobBuilder||a.MozBlobBuilder,g=function(){try{var a=new Blob(["hi"]);return 2===a.size}catch(a){return!1}}(),h=g&&function(){try{var a=new Blob([new Uint8Array([1,2])]);return 2===a.size}catch(a){return!1}}(),i=f&&f.prototype.append&&f.prototype.getBlob;b.exports=function(){return g?h?a.Blob:e:i?d:void 0}()}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{}],15:[function(a,b,c){function d(a){if(a)return e(a)}function e(a){for(var b in d.prototype)a[b]=d.prototype[b];return a}b.exports=d,d.prototype.on=d.prototype.addEventListener=function(a,b){return this._callbacks=this._callbacks||{},(this._callbacks[a]=this._callbacks[a]||[]).push(b),this},d.prototype.once=function(a,b){function c(){d.off(a,c),b.apply(this,arguments)}var d=this;return this._callbacks=this._callbacks||{},c.fn=b,this.on(a,c),this},d.prototype.off=d.prototype.removeListener=d.prototype.removeAllListeners=d.prototype.removeEventListener=function(a,b){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var c=this._callbacks[a];if(!c)return this;if(1==arguments.length)return delete this._callbacks[a],this;for(var d,e=0;e<c.length;e++)if(d=c[e],d===b||d.fn===b){c.splice(e,1);break}return this},d.prototype.emit=function(a){this._callbacks=this._callbacks||{};var b=[].slice.call(arguments,1),c=this._callbacks[a];if(c){c=c.slice(0);for(var d=0,e=c.length;d<e;++d)c[d].apply(this,b)}return this},d.prototype.listeners=function(a){return this._callbacks=this._callbacks||{},this._callbacks[a]||[]},d.prototype.hasListeners=function(a){return!!this.listeners(a).length}},{}],16:[function(a,b,c){b.exports=function(a,b){var c=function(){};c.prototype=b.prototype,a.prototype=new c,a.prototype.constructor=a}},{}],17:[function(a,b,c){function d(){return"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31}function e(){var a=arguments,b=this.useColors;if(a[0]=(b?"%c":"")+this.namespace+(b?" %c":" ")+a[0]+(b?"%c ":" ")+"+"+c.humanize(this.diff),!b)return a;var d="color: "+this.color;a=[a[0],d,"color: inherit"].concat(Array.prototype.slice.call(a,1));var e=0,f=0;return a[0].replace(/%[a-z%]/g,function(a){"%%"!==a&&(e++,"%c"===a&&(f=e))}),a.splice(f,0,d),a}function f(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function g(a){try{null==a?c.storage.removeItem("debug"):c.storage.debug=a}catch(a){}}function h(){var a;try{a=c.storage.debug}catch(a){}return a}function i(){try{return window.localStorage}catch(a){}}c=b.exports=a("./debug"),c.log=f,c.formatArgs=e,c.save=g,c.load=h,c.useColors=d,c.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:i(),c.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],c.formatters.j=function(a){return JSON.stringify(a)},c.enable(h())},{"./debug":18}],18:[function(a,b,c){function d(){return c.colors[k++%c.colors.length]}function e(a){function b(){}function e(){var a=e,b=+new Date,f=b-(j||b);a.diff=f,a.prev=j,a.curr=b,j=b,null==a.useColors&&(a.useColors=c.useColors()),null==a.color&&a.useColors&&(a.color=d());var g=Array.prototype.slice.call(arguments);g[0]=c.coerce(g[0]),"string"!=typeof g[0]&&(g=["%o"].concat(g));var h=0;g[0]=g[0].replace(/%([a-z%])/g,function(b,d){if("%%"===b)return b;h++;var e=c.formatters[d];
if("function"==typeof e){var f=g[h];b=e.call(a,f),g.splice(h,1),h--}return b}),"function"==typeof c.formatArgs&&(g=c.formatArgs.apply(a,g));var i=e.log||c.log||console.log.bind(console);i.apply(a,g)}b.enabled=!1,e.enabled=!0;var f=c.enabled(a)?e:b;return f.namespace=a,f}function f(a){c.save(a);for(var b=(a||"").split(/[\s,]+/),d=b.length,e=0;e<d;e++)b[e]&&(a=b[e].replace(/\*/g,".*?"),"-"===a[0]?c.skips.push(new RegExp("^"+a.substr(1)+"$")):c.names.push(new RegExp("^"+a+"$")))}function g(){c.enable("")}function h(a){var b,d;for(b=0,d=c.skips.length;b<d;b++)if(c.skips[b].test(a))return!1;for(b=0,d=c.names.length;b<d;b++)if(c.names[b].test(a))return!0;return!1}function i(a){return a instanceof Error?a.stack||a.message:a}c=b.exports=e,c.coerce=i,c.disable=g,c.enable=f,c.enabled=h,c.humanize=a("ms"),c.names=[],c.skips=[],c.formatters={};var j,k=0},{ms:25}],19:[function(a,b,c){(function(b){function d(a,b){var d="b"+c.packets[a.type]+a.data.data;return b(d)}function e(a,b,d){if(!b)return c.encodeBase64Packet(a,d);var e=a.data,f=new Uint8Array(e),g=new Uint8Array(1+e.byteLength);g[0]=r[a.type];for(var h=0;h<f.length;h++)g[h+1]=f[h];return d(g.buffer)}function f(a,b,d){if(!b)return c.encodeBase64Packet(a,d);var e=new FileReader;return e.onload=function(){a.data=e.result,c.encodePacket(a,b,!0,d)},e.readAsArrayBuffer(a.data)}function g(a,b,d){if(!b)return c.encodeBase64Packet(a,d);if(q)return f(a,b,d);var e=new Uint8Array(1);e[0]=r[a.type];var g=new u([e.buffer,a.data]);return d(g)}function h(a,b,c){for(var d=new Array(a.length),e=m(a.length,c),f=function(a,c,e){b(c,function(b,c){d[a]=c,e(b,d)})},g=0;g<a.length;g++)f(g,a[g],e)}var i=a("./keys"),j=a("has-binary"),k=a("arraybuffer.slice"),l=a("base64-arraybuffer"),m=a("after"),n=a("utf8"),o=navigator.userAgent.match(/Android/i),p=/PhantomJS/i.test(navigator.userAgent),q=o||p;c.protocol=3;var r=c.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},s=i(r),t={type:"error",data:"parser error"},u=a("blob");c.encodePacket=function(a,c,f,h){"function"==typeof c&&(h=c,c=!1),"function"==typeof f&&(h=f,f=null);var i=void 0===a.data?void 0:a.data.buffer||a.data;if(b.ArrayBuffer&&i instanceof ArrayBuffer)return e(a,c,h);if(u&&i instanceof b.Blob)return g(a,c,h);if(i&&i.base64)return d(a,h);var j=r[a.type];return void 0!==a.data&&(j+=f?n.encode(String(a.data)):String(a.data)),h(""+j)},c.encodeBase64Packet=function(a,d){var e="b"+c.packets[a.type];if(u&&a.data instanceof b.Blob){var f=new FileReader;return f.onload=function(){var a=f.result.split(",")[1];d(e+a)},f.readAsDataURL(a.data)}var g;try{g=String.fromCharCode.apply(null,new Uint8Array(a.data))}catch(b){for(var h=new Uint8Array(a.data),i=new Array(h.length),j=0;j<h.length;j++)i[j]=h[j];g=String.fromCharCode.apply(null,i)}return e+=b.btoa(g),d(e)},c.decodePacket=function(a,b,d){if("string"==typeof a||void 0===a){if("b"==a.charAt(0))return c.decodeBase64Packet(a.substr(1),b);if(d)try{a=n.decode(a)}catch(a){return t}var e=a.charAt(0);return Number(e)==e&&s[e]?a.length>1?{type:s[e],data:a.substring(1)}:{type:s[e]}:t}var f=new Uint8Array(a),e=f[0],g=k(a,1);return u&&"blob"===b&&(g=new u([g])),{type:s[e],data:g}},c.decodeBase64Packet=function(a,c){var d=s[a.charAt(0)];if(!b.ArrayBuffer)return{type:d,data:{base64:!0,data:a.substr(1)}};var e=l.decode(a.substr(1));return"blob"===c&&u&&(e=new u([e])),{type:d,data:e}},c.encodePayload=function(a,b,d){function e(a){return a.length+":"+a}function f(a,d){c.encodePacket(a,!!g&&b,!0,function(a){d(null,e(a))})}"function"==typeof b&&(d=b,b=null);var g=j(a);return b&&g?u&&!q?c.encodePayloadAsBlob(a,d):c.encodePayloadAsArrayBuffer(a,d):a.length?void h(a,f,function(a,b){return d(b.join(""))}):d("0:")},c.decodePayload=function(a,b,d){if("string"!=typeof a)return c.decodePayloadAsBinary(a,b,d);"function"==typeof b&&(d=b,b=null);var e;if(""==a)return d(t,0,1);for(var f,g,h="",i=0,j=a.length;i<j;i++){var k=a.charAt(i);if(":"!=k)h+=k;else{if(""==h||h!=(f=Number(h)))return d(t,0,1);if(g=a.substr(i+1,f),h!=g.length)return d(t,0,1);if(g.length){if(e=c.decodePacket(g,b,!0),t.type==e.type&&t.data==e.data)return d(t,0,1);var l=d(e,i+f,j);if(!1===l)return}i+=f,h=""}}return""!=h?d(t,0,1):void 0},c.encodePayloadAsArrayBuffer=function(a,b){function d(a,b){c.encodePacket(a,!0,!0,function(a){return b(null,a)})}return a.length?void h(a,d,function(a,c){var d=c.reduce(function(a,b){var c;return c="string"==typeof b?b.length:b.byteLength,a+c.toString().length+c+2},0),e=new Uint8Array(d),f=0;return c.forEach(function(a){var b="string"==typeof a,c=a;if(b){for(var d=new Uint8Array(a.length),g=0;g<a.length;g++)d[g]=a.charCodeAt(g);c=d.buffer}b?e[f++]=0:e[f++]=1;for(var h=c.byteLength.toString(),g=0;g<h.length;g++)e[f++]=parseInt(h[g]);e[f++]=255;for(var d=new Uint8Array(c),g=0;g<d.length;g++)e[f++]=d[g]}),b(e.buffer)}):b(new ArrayBuffer(0))},c.encodePayloadAsBlob=function(a,b){function d(a,b){c.encodePacket(a,!0,!0,function(a){var c=new Uint8Array(1);if(c[0]=1,"string"==typeof a){for(var d=new Uint8Array(a.length),e=0;e<a.length;e++)d[e]=a.charCodeAt(e);a=d.buffer,c[0]=0}for(var f=a instanceof ArrayBuffer?a.byteLength:a.size,g=f.toString(),h=new Uint8Array(g.length+1),e=0;e<g.length;e++)h[e]=parseInt(g[e]);if(h[g.length]=255,u){var i=new u([c.buffer,h.buffer,a]);b(null,i)}})}h(a,d,function(a,c){return b(new u(c))})},c.decodePayloadAsBinary=function(a,b,d){"function"==typeof b&&(d=b,b=null);for(var e=a,f=[],g=!1;e.byteLength>0;){for(var h=new Uint8Array(e),i=0===h[0],j="",l=1;255!=h[l];l++){if(j.length>310){g=!0;break}j+=h[l]}if(g)return d(t,0,1);e=k(e,2+j.length),j=parseInt(j);var m=k(e,0,j);if(i)try{m=String.fromCharCode.apply(null,new Uint8Array(m))}catch(a){var n=new Uint8Array(m);m="";for(var l=0;l<n.length;l++)m+=String.fromCharCode(n[l])}f.push(m),e=k(e,j)}var o=f.length;f.forEach(function(a,e){d(c.decodePacket(a,b,!0),e,o)})}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{"./keys":20,after:11,"arraybuffer.slice":12,"base64-arraybuffer":13,blob:14,"has-binary":21,utf8:29}],20:[function(a,b,c){b.exports=Object.keys||function(a){var b=[],c=Object.prototype.hasOwnProperty;for(var d in a)c.call(a,d)&&b.push(d);return b}},{}],21:[function(a,b,c){(function(c){function d(a){function b(a){if(!a)return!1;if(c.Buffer&&c.Buffer.isBuffer(a)||c.ArrayBuffer&&a instanceof ArrayBuffer||c.Blob&&a instanceof Blob||c.File&&a instanceof File)return!0;if(e(a)){for(var d=0;d<a.length;d++)if(b(a[d]))return!0}else if(a&&"object"==typeof a){a.toJSON&&(a=a.toJSON());for(var f in a)if(Object.prototype.hasOwnProperty.call(a,f)&&b(a[f]))return!0}return!1}return b(a)}var e=a("isarray");b.exports=d}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{isarray:24}],22:[function(a,b,c){try{b.exports="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(a){b.exports=!1}},{}],23:[function(a,b,c){var d=[].indexOf;b.exports=function(a,b){if(d)return a.indexOf(b);for(var c=0;c<a.length;++c)if(a[c]===b)return c;return-1}},{}],24:[function(a,b,c){b.exports=Array.isArray||function(a){return"[object Array]"==Object.prototype.toString.call(a)}},{}],25:[function(a,b,c){function d(a){if(a=""+a,!(a.length>1e4)){var b=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(a);if(b){var c=parseFloat(b[1]),d=(b[2]||"ms").toLowerCase();switch(d){case"years":case"year":case"yrs":case"yr":case"y":return c*l;case"days":case"day":case"d":return c*k;case"hours":case"hour":case"hrs":case"hr":case"h":return c*j;case"minutes":case"minute":case"mins":case"min":case"m":return c*i;case"seconds":case"second":case"secs":case"sec":case"s":return c*h;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return c}}}}function e(a){return a>=k?Math.round(a/k)+"d":a>=j?Math.round(a/j)+"h":a>=i?Math.round(a/i)+"m":a>=h?Math.round(a/h)+"s":a+"ms"}function f(a){return g(a,k,"day")||g(a,j,"hour")||g(a,i,"minute")||g(a,h,"second")||a+" ms"}function g(a,b,c){if(!(a<b))return a<1.5*b?Math.floor(a/b)+" "+c:Math.ceil(a/b)+" "+c+"s"}var h=1e3,i=60*h,j=60*i,k=24*j,l=365.25*k;b.exports=function(a,b){return b=b||{},"string"==typeof a?d(a):b.long?f(a):e(a)}},{}],26:[function(a,b,c){(function(a){var c=/^[\],:{}\s]*$/,d=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,e=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,f=/(?:^|:|,)(?:\s*\[)+/g,g=/^\s+/,h=/\s+$/;b.exports=function(b){return"string"==typeof b&&b?(b=b.replace(g,"").replace(h,""),a.JSON&&JSON.parse?JSON.parse(b):c.test(b.replace(d,"@").replace(e,"]").replace(f,""))?new Function("return "+b)():void 0):null}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{}],27:[function(a,b,c){c.encode=function(a){var b="";for(var c in a)a.hasOwnProperty(c)&&(b.length&&(b+="&"),b+=encodeURIComponent(c)+"="+encodeURIComponent(a[c]));return b},c.decode=function(a){for(var b={},c=a.split("&"),d=0,e=c.length;d<e;d++){var f=c[d].split("=");b[decodeURIComponent(f[0])]=decodeURIComponent(f[1])}return b}},{}],28:[function(a,b,c){var d=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,e=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];b.exports=function(a){var b=a,c=a.indexOf("["),f=a.indexOf("]");c!=-1&&f!=-1&&(a=a.substring(0,c)+a.substring(c,f).replace(/:/g,";")+a.substring(f,a.length));for(var g=d.exec(a||""),h={},i=14;i--;)h[e[i]]=g[i]||"";return c!=-1&&f!=-1&&(h.source=b,h.host=h.host.substring(1,h.host.length-1).replace(/;/g,":"),h.authority=h.authority.replace("[","").replace("]","").replace(/;/g,":"),h.ipv6uri=!0),h}},{}],29:[function(b,c,d){(function(b){!function(e){function f(a){for(var b,c,d=[],e=0,f=a.length;e<f;)b=a.charCodeAt(e++),b>=55296&&b<=56319&&e<f?(c=a.charCodeAt(e++),56320==(64512&c)?d.push(((1023&b)<<10)+(1023&c)+65536):(d.push(b),e--)):d.push(b);return d}function g(a){for(var b,c=a.length,d=-1,e="";++d<c;)b=a[d],b>65535&&(b-=65536,e+=u(b>>>10&1023|55296),b=56320|1023&b),e+=u(b);return e}function h(a){if(a>=55296&&a<=57343)throw Error("Lone surrogate U+"+a.toString(16).toUpperCase()+" is not a scalar value")}function i(a,b){return u(a>>b&63|128)}function j(a){if(0==(4294967168&a))return u(a);var b="";return 0==(4294965248&a)?b=u(a>>6&31|192):0==(4294901760&a)?(h(a),b=u(a>>12&15|224),b+=i(a,6)):0==(4292870144&a)&&(b=u(a>>18&7|240),b+=i(a,12),b+=i(a,6)),b+=u(63&a|128)}function k(a){for(var b,c=f(a),d=c.length,e=-1,g="";++e<d;)b=c[e],g+=j(b);return g}function l(){if(t>=s)throw Error("Invalid byte index");var a=255&r[t];if(t++,128==(192&a))return 63&a;throw Error("Invalid continuation byte")}function m(){var a,b,c,d,e;if(t>s)throw Error("Invalid byte index");if(t==s)return!1;if(a=255&r[t],t++,0==(128&a))return a;if(192==(224&a)){var b=l();if(e=(31&a)<<6|b,e>=128)return e;throw Error("Invalid continuation byte")}if(224==(240&a)){if(b=l(),c=l(),e=(15&a)<<12|b<<6|c,e>=2048)return h(e),e;throw Error("Invalid continuation byte")}if(240==(248&a)&&(b=l(),c=l(),d=l(),e=(15&a)<<18|b<<12|c<<6|d,e>=65536&&e<=1114111))return e;throw Error("Invalid UTF-8 detected")}function n(a){r=f(a),s=r.length,t=0;for(var b,c=[];(b=m())!==!1;)c.push(b);return g(c)}var o="object"==typeof d&&d,p="object"==typeof c&&c&&c.exports==o&&c,q="object"==typeof b&&b;q.global!==q&&q.window!==q||(e=q);var r,s,t,u=String.fromCharCode,v={version:"2.0.0",encode:k,decode:n};if("function"==typeof a&&"object"==typeof a.amd&&a.amd)a(function(){return v});else if(o&&!o.nodeType)if(p)p.exports=v;else{var w={},x=w.hasOwnProperty;for(var y in v)x.call(v,y)&&(o[y]=v[y])}else e.utf8=v}(this)}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{}],30:[function(a,b,c){"use strict";function d(a){var b="";do b=h[a%i]+b,a=Math.floor(a/i);while(a>0);return b}function e(a){var b=0;for(l=0;l<a.length;l++)b=b*i+j[a.charAt(l)];return b}function f(){var a=d(+new Date);return a!==g?(k=0,g=a):a+"."+d(k++)}for(var g,h="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),i=64,j={},k=0,l=0;l<i;l++)j[h[l]]=l;f.encode=d,f.decode=e,b.exports=f},{}],31:[function(a,b,c){function d(a,b){"object"==typeof a&&(b=a,a=void 0),b=b||{};var c,d=e(a),f=d.source,j=d.id,k=d.path,l=i[j]&&k in i[j].nsps,m=b.forceNew||b["force new connection"]||!1===b.multiplex||l;return m?(h("ignoring socket cache for %s",f),c=g(f,b)):(i[j]||(h("new io instance for %s",f),i[j]=g(f,b)),c=i[j]),c.socket(d.path)}var e=a("./url"),f=a("socket.io-parser"),g=a("./manager"),h=a("debug")("socket.io-client");b.exports=c=d;var i=c.managers={};c.protocol=f.protocol,c.connect=d,c.Manager=a("./manager"),c.Socket=a("./socket")},{"./manager":32,"./socket":34,"./url":35,debug:39,"socket.io-parser":47}],32:[function(a,b,c){function d(a,b){return this instanceof d?(a&&"object"==typeof a&&(b=a,a=void 0),b=b||{},b.path=b.path||"/socket.io",this.nsps={},this.subs=[],this.opts=b,this.reconnection(b.reconnection!==!1),this.reconnectionAttempts(b.reconnectionAttempts||1/0),this.reconnectionDelay(b.reconnectionDelay||1e3),this.reconnectionDelayMax(b.reconnectionDelayMax||5e3),this.randomizationFactor(b.randomizationFactor||.5),this.backoff=new m({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==b.timeout?2e4:b.timeout),this.readyState="closed",this.uri=a,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[],this.encoder=new h.Encoder,this.decoder=new h.Decoder,this.autoConnect=b.autoConnect!==!1,void(this.autoConnect&&this.open())):new d(a,b)}var e=a("engine.io-client"),f=a("./socket"),g=a("component-emitter"),h=a("socket.io-parser"),i=a("./on"),j=a("component-bind"),k=a("debug")("socket.io-client:manager"),l=a("indexof"),m=a("backo2"),n=Object.prototype.hasOwnProperty;b.exports=d,d.prototype.emitAll=function(){this.emit.apply(this,arguments);for(var a in this.nsps)n.call(this.nsps,a)&&this.nsps[a].emit.apply(this.nsps[a],arguments)},d.prototype.updateSocketIds=function(){for(var a in this.nsps)n.call(this.nsps,a)&&(this.nsps[a].id=this.engine.id)},g(d.prototype),d.prototype.reconnection=function(a){return arguments.length?(this._reconnection=!!a,this):this._reconnection},d.prototype.reconnectionAttempts=function(a){return arguments.length?(this._reconnectionAttempts=a,this):this._reconnectionAttempts},d.prototype.reconnectionDelay=function(a){return arguments.length?(this._reconnectionDelay=a,this.backoff&&this.backoff.setMin(a),this):this._reconnectionDelay},d.prototype.randomizationFactor=function(a){return arguments.length?(this._randomizationFactor=a,this.backoff&&this.backoff.setJitter(a),this):this._randomizationFactor},d.prototype.reconnectionDelayMax=function(a){return arguments.length?(this._reconnectionDelayMax=a,this.backoff&&this.backoff.setMax(a),this):this._reconnectionDelayMax},d.prototype.timeout=function(a){return arguments.length?(this._timeout=a,this):this._timeout},d.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()},d.prototype.open=d.prototype.connect=function(a){if(k("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;k("opening %s",this.uri),this.engine=e(this.uri,this.opts);var b=this.engine,c=this;this.readyState="opening",this.skipReconnect=!1;var d=i(b,"open",function(){c.onopen(),a&&a()}),f=i(b,"error",function(b){if(k("connect_error"),c.cleanup(),c.readyState="closed",c.emitAll("connect_error",b),a){var d=new Error("Connection error");d.data=b,a(d)}else c.maybeReconnectOnOpen()});if(!1!==this._timeout){var g=this._timeout;k("connect attempt will timeout after %d",g);var h=setTimeout(function(){k("connect attempt timed out after %d",g),d.destroy(),b.close(),b.emit("error","timeout"),c.emitAll("connect_timeout",g)},g);this.subs.push({destroy:function(){clearTimeout(h)}})}return this.subs.push(d),this.subs.push(f),this},d.prototype.onopen=function(){k("open"),this.cleanup(),this.readyState="open",this.emit("open");var a=this.engine;this.subs.push(i(a,"data",j(this,"ondata"))),this.subs.push(i(a,"ping",j(this,"onping"))),this.subs.push(i(a,"pong",j(this,"onpong"))),this.subs.push(i(a,"error",j(this,"onerror"))),this.subs.push(i(a,"close",j(this,"onclose"))),this.subs.push(i(this.decoder,"decoded",j(this,"ondecoded")))},d.prototype.onping=function(){this.lastPing=new Date,this.emitAll("ping")},d.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)},d.prototype.ondata=function(a){this.decoder.add(a)},d.prototype.ondecoded=function(a){this.emit("packet",a)},d.prototype.onerror=function(a){k("error",a),this.emitAll("error",a)},d.prototype.socket=function(a){function b(){~l(d.connecting,c)||d.connecting.push(c)}var c=this.nsps[a];if(!c){c=new f(this,a),this.nsps[a]=c;var d=this;c.on("connecting",b),c.on("connect",function(){c.id=d.engine.id}),this.autoConnect&&b()}return c},d.prototype.destroy=function(a){var b=l(this.connecting,a);~b&&this.connecting.splice(b,1),this.connecting.length||this.close()},d.prototype.packet=function(a){k("writing packet %j",a);var b=this;b.encoding?b.packetBuffer.push(a):(b.encoding=!0,this.encoder.encode(a,function(c){for(var d=0;d<c.length;d++)b.engine.write(c[d],a.options);b.encoding=!1,b.processPacketQueue()}))},d.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var a=this.packetBuffer.shift();this.packet(a)}},d.prototype.cleanup=function(){k("cleanup");for(var a;a=this.subs.shift();)a.destroy();this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()},d.prototype.close=d.prototype.disconnect=function(){k("disconnect"),this.skipReconnect=!0,this.reconnecting=!1,"opening"==this.readyState&&this.cleanup(),this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()},d.prototype.onclose=function(a){k("onclose"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",a),this._reconnection&&!this.skipReconnect&&this.reconnect()},d.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var a=this;if(this.backoff.attempts>=this._reconnectionAttempts)k("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var b=this.backoff.duration();k("will wait %dms before reconnect attempt",b),this.reconnecting=!0;var c=setTimeout(function(){a.skipReconnect||(k("attempting reconnect"),a.emitAll("reconnect_attempt",a.backoff.attempts),a.emitAll("reconnecting",a.backoff.attempts),a.skipReconnect||a.open(function(b){b?(k("reconnect attempt error"),a.reconnecting=!1,a.reconnect(),a.emitAll("reconnect_error",b.data)):(k("reconnect success"),a.onreconnect())}))},b);this.subs.push({destroy:function(){clearTimeout(c)}})}},d.prototype.onreconnect=function(){var a=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",a)}},{"./on":33,"./socket":34,backo2:36,"component-bind":37,"component-emitter":38,debug:39,"engine.io-client":1,indexof:42,"socket.io-parser":47}],33:[function(a,b,c){function d(a,b,c){return a.on(b,c),{destroy:function(){a.removeListener(b,c)}}}b.exports=d},{}],34:[function(a,b,c){function d(a,b){this.io=a,this.nsp=b,this.json=this,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,this.io.autoConnect&&this.open()}var e=a("socket.io-parser"),f=a("component-emitter"),g=a("to-array"),h=a("./on"),i=a("component-bind"),j=a("debug")("socket.io-client:socket"),k=a("has-binary");b.exports=c=d;var l={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},m=f.prototype.emit;f(d.prototype),d.prototype.subEvents=function(){if(!this.subs){var a=this.io;this.subs=[h(a,"open",i(this,"onopen")),h(a,"packet",i(this,"onpacket")),h(a,"close",i(this,"onclose"))]}},d.prototype.open=d.prototype.connect=function(){return this.connected?this:(this.subEvents(),this.io.open(),"open"==this.io.readyState&&this.onopen(),this.emit("connecting"),this)},d.prototype.send=function(){var a=g(arguments);return a.unshift("message"),this.emit.apply(this,a),this},d.prototype.emit=function(a){if(l.hasOwnProperty(a))return m.apply(this,arguments),this;var b=g(arguments),c=e.EVENT;k(b)&&(c=e.BINARY_EVENT);var d={type:c,data:b};return d.options={},d.options.compress=!this.flags||!1!==this.flags.compress,"function"==typeof b[b.length-1]&&(j("emitting packet with ack id %d",this.ids),this.acks[this.ids]=b.pop(),d.id=this.ids++),this.connected?this.packet(d):this.sendBuffer.push(d),delete this.flags,this},d.prototype.packet=function(a){a.nsp=this.nsp,this.io.packet(a)},d.prototype.onopen=function(){j("transport is open - connecting"),"/"!=this.nsp&&this.packet({type:e.CONNECT})},d.prototype.onclose=function(a){j("close (%s)",a),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",a)},d.prototype.onpacket=function(a){if(a.nsp==this.nsp)switch(a.type){case e.CONNECT:this.onconnect();break;case e.EVENT:this.onevent(a);break;case e.BINARY_EVENT:this.onevent(a);break;case e.ACK:this.onack(a);break;case e.BINARY_ACK:this.onack(a);break;case e.DISCONNECT:this.ondisconnect();break;case e.ERROR:this.emit("error",a.data)}},d.prototype.onevent=function(a){var b=a.data||[];j("emitting event %j",b),null!=a.id&&(j("attaching ack callback to event"),b.push(this.ack(a.id))),this.connected?m.apply(this,b):this.receiveBuffer.push(b)},d.prototype.ack=function(a){var b=this,c=!1;return function(){if(!c){c=!0;var d=g(arguments);j("sending ack %j",d);var f=k(d)?e.BINARY_ACK:e.ACK;b.packet({type:f,id:a,data:d})}}},d.prototype.onack=function(a){var b=this.acks[a.id];"function"==typeof b?(j("calling ack %s with %j",a.id,a.data),b.apply(this,a.data),delete this.acks[a.id]):j("bad ack %s",a.id)},d.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},d.prototype.emitBuffered=function(){var a;for(a=0;a<this.receiveBuffer.length;a++)m.apply(this,this.receiveBuffer[a]);for(this.receiveBuffer=[],a=0;a<this.sendBuffer.length;a++)this.packet(this.sendBuffer[a]);this.sendBuffer=[]},d.prototype.ondisconnect=function(){j("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},d.prototype.destroy=function(){if(this.subs){for(var a=0;a<this.subs.length;a++)this.subs[a].destroy();this.subs=null}this.io.destroy(this)},d.prototype.close=d.prototype.disconnect=function(){return this.connected&&(j("performing disconnect (%s)",this.nsp),this.packet({type:e.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this},d.prototype.compress=function(a){return this.flags=this.flags||{},this.flags.compress=a,this}},{"./on":33,"component-bind":37,"component-emitter":38,debug:39,"has-binary":41,"socket.io-parser":47,"to-array":51}],35:[function(a,b,c){(function(c){function d(a,b){var d=a,b=b||c.location;null==a&&(a=b.protocol+"//"+b.host),"string"==typeof a&&("/"==a.charAt(0)&&(a="/"==a.charAt(1)?b.protocol+a:b.host+a),/^(https?|wss?):\/\//.test(a)||(f("protocol-less url %s",a),a="undefined"!=typeof b?b.protocol+"//"+a:"https://"+a),f("parse %s",a),d=e(a)),d.port||(/^(http|ws)$/.test(d.protocol)?d.port="80":/^(http|ws)s$/.test(d.protocol)&&(d.port="443")),d.path=d.path||"/";var g=d.host.indexOf(":")!==-1,h=g?"["+d.host+"]":d.host;return d.id=d.protocol+"://"+h+":"+d.port,d.href=d.protocol+"://"+h+(b&&b.port==d.port?"":":"+d.port),d}var e=a("parseuri"),f=a("debug")("socket.io-client:url");b.exports=d}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{debug:39,parseuri:45}],36:[function(a,b,c){function d(a){a=a||{},this.ms=a.min||100,this.max=a.max||1e4,this.factor=a.factor||2,this.jitter=a.jitter>0&&a.jitter<=1?a.jitter:0,this.attempts=0}b.exports=d,d.prototype.duration=function(){var a=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var b=Math.random(),c=Math.floor(b*this.jitter*a);a=0==(1&Math.floor(10*b))?a-c:a+c}return 0|Math.min(a,this.max)},d.prototype.reset=function(){this.attempts=0},d.prototype.setMin=function(a){this.ms=a},d.prototype.setMax=function(a){this.max=a},d.prototype.setJitter=function(a){this.jitter=a}},{}],37:[function(a,b,c){var d=[].slice;b.exports=function(a,b){if("string"==typeof b&&(b=a[b]),"function"!=typeof b)throw new Error("bind() requires a function");var c=d.call(arguments,2);return function(){return b.apply(a,c.concat(d.call(arguments)))}}},{}],38:[function(a,b,c){function d(a){if(a)return e(a)}function e(a){for(var b in d.prototype)a[b]=d.prototype[b];return a}b.exports=d,d.prototype.on=d.prototype.addEventListener=function(a,b){return this._callbacks=this._callbacks||{},(this._callbacks["$"+a]=this._callbacks["$"+a]||[]).push(b),this},d.prototype.once=function(a,b){function c(){this.off(a,c),b.apply(this,arguments)}return c.fn=b,this.on(a,c),this},d.prototype.off=d.prototype.removeListener=d.prototype.removeAllListeners=d.prototype.removeEventListener=function(a,b){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var c=this._callbacks["$"+a];if(!c)return this;if(1==arguments.length)return delete this._callbacks["$"+a],this;for(var d,e=0;e<c.length;e++)if(d=c[e],d===b||d.fn===b){c.splice(e,1);break}return this},d.prototype.emit=function(a){this._callbacks=this._callbacks||{};var b=[].slice.call(arguments,1),c=this._callbacks["$"+a];if(c){c=c.slice(0);for(var d=0,e=c.length;d<e;++d)c[d].apply(this,b)}return this},d.prototype.listeners=function(a){return this._callbacks=this._callbacks||{},this._callbacks["$"+a]||[]},d.prototype.hasListeners=function(a){return!!this.listeners(a).length}},{}],39:[function(a,b,c){arguments[4][17][0].apply(c,arguments)},{"./debug":40,dup:17}],40:[function(a,b,c){arguments[4][18][0].apply(c,arguments)},{dup:18,ms:44}],41:[function(a,b,c){(function(c){function d(a){function b(a){if(!a)return!1;if(c.Buffer&&c.Buffer.isBuffer&&c.Buffer.isBuffer(a)||c.ArrayBuffer&&a instanceof ArrayBuffer||c.Blob&&a instanceof Blob||c.File&&a instanceof File)return!0;if(e(a)){for(var d=0;d<a.length;d++)if(b(a[d]))return!0}else if(a&&"object"==typeof a){a.toJSON&&"function"==typeof a.toJSON&&(a=a.toJSON());for(var f in a)if(Object.prototype.hasOwnProperty.call(a,f)&&b(a[f]))return!0}return!1}return b(a)}var e=a("isarray");b.exports=d}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{isarray:43}],42:[function(a,b,c){arguments[4][23][0].apply(c,arguments)},{dup:23}],43:[function(a,b,c){arguments[4][24][0].apply(c,arguments)},{dup:24}],44:[function(a,b,c){arguments[4][25][0].apply(c,arguments)},{dup:25}],45:[function(a,b,c){arguments[4][28][0].apply(c,arguments)},{dup:28}],46:[function(a,b,c){(function(b){var d=a("isarray"),e=a("./is-buffer");c.deconstructPacket=function(a){function b(a){if(!a)return a;if(e(a)){var f={_placeholder:!0,num:c.length};return c.push(a),f}if(d(a)){for(var g=new Array(a.length),h=0;h<a.length;h++)g[h]=b(a[h]);return g}if("object"==typeof a&&!(a instanceof Date)){var g={};for(var i in a)g[i]=b(a[i]);return g}return a}var c=[],f=a.data,g=a;return g.data=b(f),g.attachments=c.length,{packet:g,buffers:c}},c.reconstructPacket=function(a,b){function c(a){if(a&&a._placeholder){var e=b[a.num];return e}if(d(a)){for(var f=0;f<a.length;f++)a[f]=c(a[f]);return a}if(a&&"object"==typeof a){for(var g in a)a[g]=c(a[g]);return a}return a}return a.data=c(a.data),a.attachments=void 0,a},c.removeBlobs=function(a,c){function f(a,i,j){if(!a)return a;if(b.Blob&&a instanceof Blob||b.File&&a instanceof File){g++;var k=new FileReader;k.onload=function(){j?j[i]=this.result:h=this.result,--g||c(h)},k.readAsArrayBuffer(a)}else if(d(a))for(var l=0;l<a.length;l++)f(a[l],l,a);else if(a&&"object"==typeof a&&!e(a))for(var m in a)f(a[m],m,a)}var g=0,h=a;f(h),g||c(h)}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{"./is-buffer":48,isarray:43}],47:[function(a,b,c){function d(){}function e(a){var b="",d=!1;return b+=a.type,c.BINARY_EVENT!=a.type&&c.BINARY_ACK!=a.type||(b+=a.attachments,b+="-"),a.nsp&&"/"!=a.nsp&&(d=!0,b+=a.nsp),null!=a.id&&(d&&(b+=",",d=!1),b+=a.id),null!=a.data&&(d&&(b+=","),b+=l.stringify(a.data)),k("encoded %j as %s",a,b),b}function f(a,b){function c(a){var c=n.deconstructPacket(a),d=e(c.packet),f=c.buffers;f.unshift(d),b(f)}n.removeBlobs(a,c)}function g(){this.reconstructor=null}function h(a){var b={},d=0;if(b.type=Number(a.charAt(0)),null==c.types[b.type])return j();if(c.BINARY_EVENT==b.type||c.BINARY_ACK==b.type){for(var e="";"-"!=a.charAt(++d)&&(e+=a.charAt(d),d!=a.length););if(e!=Number(e)||"-"!=a.charAt(d))throw new Error("Illegal attachments");b.attachments=Number(e)}if("/"==a.charAt(d+1))for(b.nsp="";++d;){var f=a.charAt(d);if(","==f)break;if(b.nsp+=f,d==a.length)break}else b.nsp="/";var g=a.charAt(d+1);if(""!==g&&Number(g)==g){for(b.id="";++d;){var f=a.charAt(d);if(null==f||Number(f)!=f){--d;break}if(b.id+=a.charAt(d),d==a.length)break}b.id=Number(b.id)}if(a.charAt(++d))try{b.data=l.parse(a.substr(d))}catch(a){return j()}return k("decoded %s as %j",a,b),b}function i(a){this.reconPack=a,this.buffers=[]}function j(a){return{type:c.ERROR,data:"parser error"}}var k=a("debug")("socket.io-parser"),l=a("json3"),m=(a("isarray"),a("component-emitter")),n=a("./binary"),o=a("./is-buffer");c.protocol=4,c.types=["CONNECT","DISCONNECT","EVENT","BINARY_EVENT","ACK","BINARY_ACK","ERROR"],c.CONNECT=0,c.DISCONNECT=1,c.EVENT=2,c.ACK=3,c.ERROR=4,c.BINARY_EVENT=5,c.BINARY_ACK=6,c.Encoder=d,c.Decoder=g,d.prototype.encode=function(a,b){if(k("encoding packet %j",a),c.BINARY_EVENT==a.type||c.BINARY_ACK==a.type)f(a,b);else{var d=e(a);b([d])}},m(g.prototype),g.prototype.add=function(a){var b;if("string"==typeof a)b=h(a),c.BINARY_EVENT==b.type||c.BINARY_ACK==b.type?(this.reconstructor=new i(b),0===this.reconstructor.reconPack.attachments&&this.emit("decoded",b)):this.emit("decoded",b);else{if(!o(a)&&!a.base64)throw new Error("Unknown type: "+a);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");b=this.reconstructor.takeBinaryData(a),b&&(this.reconstructor=null,this.emit("decoded",b))}},g.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},i.prototype.takeBinaryData=function(a){if(this.buffers.push(a),this.buffers.length==this.reconPack.attachments){var b=n.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),b}return null},i.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}},{"./binary":46,"./is-buffer":48,"component-emitter":49,debug:39,isarray:43,json3:50}],48:[function(a,b,c){(function(a){function c(b){return a.Buffer&&a.Buffer.isBuffer(b)||a.ArrayBuffer&&b instanceof ArrayBuffer}b.exports=c}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{}],49:[function(a,b,c){arguments[4][15][0].apply(c,arguments)},{dup:15}],50:[function(b,c,d){(function(b){(function(){function e(a,b){function c(a){if(c[a]!==q)return c[a];var e;if("bug-string-char-index"==a)e="a"!="a"[0];else if("json"==a)e=c("json-stringify")&&c("json-parse");else{var g,h='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';if("json-stringify"==a){var i=b.stringify,k="function"==typeof i&&t;if(k){(g=function(){return 1}).toJSON=g;try{k="0"===i(0)&&"0"===i(new d)&&'""'==i(new f)&&i(s)===q&&i(q)===q&&i()===q&&"1"===i(g)&&"[1]"==i([g])&&"[null]"==i([q])&&"null"==i(null)&&"[null,null,null]"==i([q,s,null])&&i({
a:[g,!0,!1,null,"\0\b\n\f\r\t"]})==h&&"1"===i(null,g)&&"[\n 1,\n 2\n]"==i([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==i(new j(-864e13))&&'"+275760-09-13T00:00:00.000Z"'==i(new j(864e13))&&'"-000001-01-01T00:00:00.000Z"'==i(new j(-621987552e5))&&'"1969-12-31T23:59:59.999Z"'==i(new j(-1))}catch(a){k=!1}}e=k}if("json-parse"==a){var l=b.parse;if("function"==typeof l)try{if(0===l("0")&&!l(!1)){g=l(h);var m=5==g.a.length&&1===g.a[0];if(m){try{m=!l('"\t"')}catch(a){}if(m)try{m=1!==l("01")}catch(a){}if(m)try{m=1!==l("1.")}catch(a){}}}}catch(a){m=!1}e=m}}return c[a]=!!e}a||(a=i.Object()),b||(b=i.Object());var d=a.Number||i.Number,f=a.String||i.String,h=a.Object||i.Object,j=a.Date||i.Date,k=a.SyntaxError||i.SyntaxError,l=a.TypeError||i.TypeError,m=a.Math||i.Math,n=a.JSON||i.JSON;"object"==typeof n&&n&&(b.stringify=n.stringify,b.parse=n.parse);var o,p,q,r=h.prototype,s=r.toString,t=new j(-0xc782b5b800cec);try{t=t.getUTCFullYear()==-109252&&0===t.getUTCMonth()&&1===t.getUTCDate()&&10==t.getUTCHours()&&37==t.getUTCMinutes()&&6==t.getUTCSeconds()&&708==t.getUTCMilliseconds()}catch(a){}if(!c("json")){var u="[object Function]",v="[object Date]",w="[object Number]",x="[object String]",y="[object Array]",z="[object Boolean]",A=c("bug-string-char-index");if(!t)var B=m.floor,C=[0,31,59,90,120,151,181,212,243,273,304,334],D=function(a,b){return C[b]+365*(a-1970)+B((a-1969+(b=+(b>1)))/4)-B((a-1901+b)/100)+B((a-1601+b)/400)};if((o=r.hasOwnProperty)||(o=function(a){var b,c={};return(c.__proto__=null,c.__proto__={toString:1},c).toString!=s?o=function(a){var b=this.__proto__,c=a in(this.__proto__=null,this);return this.__proto__=b,c}:(b=c.constructor,o=function(a){var c=(this.constructor||b).prototype;return a in this&&!(a in c&&this[a]===c[a])}),c=null,o.call(this,a)}),p=function(a,b){var c,d,e,f=0;(c=function(){this.valueOf=0}).prototype.valueOf=0,d=new c;for(e in d)o.call(d,e)&&f++;return c=d=null,f?p=2==f?function(a,b){var c,d={},e=s.call(a)==u;for(c in a)e&&"prototype"==c||o.call(d,c)||!(d[c]=1)||!o.call(a,c)||b(c)}:function(a,b){var c,d,e=s.call(a)==u;for(c in a)e&&"prototype"==c||!o.call(a,c)||(d="constructor"===c)||b(c);(d||o.call(a,c="constructor"))&&b(c)}:(d=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],p=function(a,b){var c,e,f=s.call(a)==u,h=!f&&"function"!=typeof a.constructor&&g[typeof a.hasOwnProperty]&&a.hasOwnProperty||o;for(c in a)f&&"prototype"==c||!h.call(a,c)||b(c);for(e=d.length;c=d[--e];h.call(a,c)&&b(c));}),p(a,b)},!c("json-stringify")){var E={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},F="000000",G=function(a,b){return(F+(b||0)).slice(-a)},H="\\u00",I=function(a){for(var b='"',c=0,d=a.length,e=!A||d>10,f=e&&(A?a.split(""):a);c<d;c++){var g=a.charCodeAt(c);switch(g){case 8:case 9:case 10:case 12:case 13:case 34:case 92:b+=E[g];break;default:if(g<32){b+=H+G(2,g.toString(16));break}b+=e?f[c]:a.charAt(c)}}return b+'"'},J=function(a,b,c,d,e,f,g){var h,i,j,k,m,n,r,t,u,A,C,E,F,H,K,L;try{h=b[a]}catch(a){}if("object"==typeof h&&h)if(i=s.call(h),i!=v||o.call(h,"toJSON"))"function"==typeof h.toJSON&&(i!=w&&i!=x&&i!=y||o.call(h,"toJSON"))&&(h=h.toJSON(a));else if(h>-1/0&&h<1/0){if(D){for(m=B(h/864e5),j=B(m/365.2425)+1970-1;D(j+1,0)<=m;j++);for(k=B((m-D(j,0))/30.42);D(j,k+1)<=m;k++);m=1+m-D(j,k),n=(h%864e5+864e5)%864e5,r=B(n/36e5)%24,t=B(n/6e4)%60,u=B(n/1e3)%60,A=n%1e3}else j=h.getUTCFullYear(),k=h.getUTCMonth(),m=h.getUTCDate(),r=h.getUTCHours(),t=h.getUTCMinutes(),u=h.getUTCSeconds(),A=h.getUTCMilliseconds();h=(j<=0||j>=1e4?(j<0?"-":"+")+G(6,j<0?-j:j):G(4,j))+"-"+G(2,k+1)+"-"+G(2,m)+"T"+G(2,r)+":"+G(2,t)+":"+G(2,u)+"."+G(3,A)+"Z"}else h=null;if(c&&(h=c.call(b,a,h)),null===h)return"null";if(i=s.call(h),i==z)return""+h;if(i==w)return h>-1/0&&h<1/0?""+h:"null";if(i==x)return I(""+h);if("object"==typeof h){for(H=g.length;H--;)if(g[H]===h)throw l();if(g.push(h),C=[],K=f,f+=e,i==y){for(F=0,H=h.length;F<H;F++)E=J(F,h,c,d,e,f,g),C.push(E===q?"null":E);L=C.length?e?"[\n"+f+C.join(",\n"+f)+"\n"+K+"]":"["+C.join(",")+"]":"[]"}else p(d||h,function(a){var b=J(a,h,c,d,e,f,g);b!==q&&C.push(I(a)+":"+(e?" ":"")+b)}),L=C.length?e?"{\n"+f+C.join(",\n"+f)+"\n"+K+"}":"{"+C.join(",")+"}":"{}";return g.pop(),L}};b.stringify=function(a,b,c){var d,e,f,h;if(g[typeof b]&&b)if((h=s.call(b))==u)e=b;else if(h==y){f={};for(var i,j=0,k=b.length;j<k;i=b[j++],h=s.call(i),(h==x||h==w)&&(f[i]=1));}if(c)if((h=s.call(c))==w){if((c-=c%1)>0)for(d="",c>10&&(c=10);d.length<c;d+=" ");}else h==x&&(d=c.length<=10?c:c.slice(0,10));return J("",(i={},i[""]=a,i),e,f,d,"",[])}}if(!c("json-parse")){var K,L,M=f.fromCharCode,N={92:"\\",34:'"',47:"/",98:"\b",116:"\t",110:"\n",102:"\f",114:"\r"},O=function(){throw K=L=null,k()},P=function(){for(var a,b,c,d,e,f=L,g=f.length;K<g;)switch(e=f.charCodeAt(K)){case 9:case 10:case 13:case 32:K++;break;case 123:case 125:case 91:case 93:case 58:case 44:return a=A?f.charAt(K):f[K],K++,a;case 34:for(a="@",K++;K<g;)if(e=f.charCodeAt(K),e<32)O();else if(92==e)switch(e=f.charCodeAt(++K)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:a+=N[e],K++;break;case 117:for(b=++K,c=K+4;K<c;K++)e=f.charCodeAt(K),e>=48&&e<=57||e>=97&&e<=102||e>=65&&e<=70||O();a+=M("0x"+f.slice(b,K));break;default:O()}else{if(34==e)break;for(e=f.charCodeAt(K),b=K;e>=32&&92!=e&&34!=e;)e=f.charCodeAt(++K);a+=f.slice(b,K)}if(34==f.charCodeAt(K))return K++,a;O();default:if(b=K,45==e&&(d=!0,e=f.charCodeAt(++K)),e>=48&&e<=57){for(48==e&&(e=f.charCodeAt(K+1),e>=48&&e<=57)&&O(),d=!1;K<g&&(e=f.charCodeAt(K),e>=48&&e<=57);K++);if(46==f.charCodeAt(K)){for(c=++K;c<g&&(e=f.charCodeAt(c),e>=48&&e<=57);c++);c==K&&O(),K=c}if(e=f.charCodeAt(K),101==e||69==e){for(e=f.charCodeAt(++K),43!=e&&45!=e||K++,c=K;c<g&&(e=f.charCodeAt(c),e>=48&&e<=57);c++);c==K&&O(),K=c}return+f.slice(b,K)}if(d&&O(),"true"==f.slice(K,K+4))return K+=4,!0;if("false"==f.slice(K,K+5))return K+=5,!1;if("null"==f.slice(K,K+4))return K+=4,null;O()}return"$"},Q=function(a){var b,c;if("$"==a&&O(),"string"==typeof a){if("@"==(A?a.charAt(0):a[0]))return a.slice(1);if("["==a){for(b=[];a=P(),"]"!=a;c||(c=!0))c&&(","==a?(a=P(),"]"==a&&O()):O()),","==a&&O(),b.push(Q(a));return b}if("{"==a){for(b={};a=P(),"}"!=a;c||(c=!0))c&&(","==a?(a=P(),"}"==a&&O()):O()),","!=a&&"string"==typeof a&&"@"==(A?a.charAt(0):a[0])&&":"==P()||O(),b[a.slice(1)]=Q(P());return b}O()}return a},R=function(a,b,c){var d=S(a,b,c);d===q?delete a[b]:a[b]=d},S=function(a,b,c){var d,e=a[b];if("object"==typeof e&&e)if(s.call(e)==y)for(d=e.length;d--;)R(e,d,c);else p(e,function(a){R(e,a,c)});return c.call(a,b,e)};b.parse=function(a,b){var c,d;return K=0,L=""+a,c=Q(P()),"$"!=P()&&O(),K=L=null,b&&s.call(b)==u?S((d={},d[""]=c,d),"",b):c}}}return b.runInContext=e,b}var f="function"==typeof a&&a.amd,g={function:!0,object:!0},h=g[typeof d]&&d&&!d.nodeType&&d,i=g[typeof window]&&window||this,j=h&&g[typeof c]&&c&&!c.nodeType&&"object"==typeof b&&b;if(!j||j.global!==j&&j.window!==j&&j.self!==j||(i=j),h&&!f)e(i,h);else{var k=i.JSON,l=i.JSON3,m=!1,n=e(i,i.JSON3={noConflict:function(){return m||(m=!0,i.JSON=k,i.JSON3=l,k=l=null),n}});i.JSON={parse:n.parse,stringify:n.stringify}}f&&a(function(){return n})}).call(this)}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{}],51:[function(a,b,c){function d(a,b){var c=[];b=b||0;for(var d=b||0;d<a.length;d++)c[d-b]=a[d];return c}b.exports=d},{}]},{},[31])(31)});var browserAnimation=function(){var a=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||function(a){window.setTimeout(a,1e3/60)},b=[],c=!1,d=function(){c=!0;var d=function(){if(c){a(d);for(var e=+Date.now(),f=0;f<b.length;f++){var g=b[f],h=g.interval,i=e-g.last_frame_ms;i>h&&(g.last_frame_ms=e-i%h,g.cb(g.arg))}}};d()},e=function(){c=!1},f=function(a,e){h(a),b.push({cb:a,interval:1e3/e,last_frame_ms:0}),c||d()},g=function(a,e,f){h(a),b.push({cb:a,arg:e,interval:1e3/f,last_frame_ms:0}),c||d()},h=function(a){for(var d=0;d<b.length;d++)if(b[d].cb===a){b.splice(d,1);break}0===b.length&&c&&e()};return{addRenderer:f,removeRenderer:h,addRendererDash:g}}();window.requestInterval=function(a,b){function c(){var f=(new Date).getTime(),g=f-d;g>=b&&(a.call(),d=(new Date).getTime()),e.value=requestAnimFrame(c)}if(!(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame&&window.mozCancelRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame))return window.setInterval(a,b);var d=(new Date).getTime(),e=new Object;return e.value=requestAnimFrame(c),e},window.clearRequestInterval=function(a){window.cancelAnimationFrame?window.cancelAnimationFrame(a.value):window.webkitCancelAnimationFrame?window.webkitCancelAnimationFrame(a.value):window.webkitCancelRequestAnimationFrame?window.webkitCancelRequestAnimationFrame(a.value):window.mozCancelRequestAnimationFrame?window.mozCancelRequestAnimationFrame(a.value):window.oCancelRequestAnimationFrame?window.oCancelRequestAnimationFrame(a.value):window.msCancelRequestAnimationFrame?window.msCancelRequestAnimationFrame(a.value):clearInterval(a)},function(a,b){"object"==typeof exports?module.exports=b():"function"==typeof define&&define.amd?define([],b):a.ol=b()}(this,function(){function a(a,b,c){a=a.split("."),c=c||nq,a[0]in c||!c.execScript||c.execScript("var "+a[0]);for(var d;a.length&&(d=a.shift());)a.length||void 0===b?c=c[d]?c[d]:c[d]={}:c[d]=b}function b(a){a.Ub=function(){return a.Og?a.Og:a.Og=new a}}function c(a){var b=typeof a;if("object"==b){if(!a)return"null";if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function d(a){var b=c(a);return"array"==b||"object"==b&&"number"==typeof a.length}function e(a){return"string"==typeof a}function f(a){return"number"==typeof a}function g(a){return"function"==c(a)}function h(a){var b=typeof a;return"object"==b&&null!=a||"function"==b}function i(a){return a[oq]||(a[oq]=++pq)}function j(a,b,c){return a.call.apply(a.bind,arguments)}function k(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(c,d),a.apply(b,c)}}return function(){return a.apply(b,arguments)}}function l(a,b,c){return l=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?j:k,l.apply(null,arguments)}function m(a,b){function c(){}c.prototype=b.prototype,a.ia=b.prototype,a.prototype=new c,a.prototype.constructor=a,a.Lp=function(a,c,d){for(var e=Array(arguments.length-2),f=2;f<arguments.length;f++)e[f-2]=arguments[f];return b.prototype[c].apply(a,e)}}function n(){}function o(a){return yq.test(a)?(-1!=a.indexOf("&")&&(a=a.replace(sq,"&amp;")),-1!=a.indexOf("<")&&(a=a.replace(tq,"&lt;")),-1!=a.indexOf(">")&&(a=a.replace(uq,"&gt;")),-1!=a.indexOf('"')&&(a=a.replace(vq,"&quot;")),-1!=a.indexOf("'")&&(a=a.replace(wq,"&#39;")),-1!=a.indexOf("\0")&&(a=a.replace(xq,"&#0;")),a):a}function p(a,b){return a<b?-1:a>b?1:0}function q(a,b,c){return Math.min(Math.max(a,b),c)}function r(a,b,c,d,e,f){var g=e-c,h=f-d;if(0!==g||0!==h){var i=((a-c)*g+(b-d)*h)/(g*g+h*h);1<i?(c=e,d=f):0<i&&(c+=g*i,d+=h*i)}return s(a,b,c,d)}function s(a,b,c,d){return a=c-a,b=d-b,a*a+b*b}function t(a){return a*Math.PI/180}function u(a,b){var c=a%b;return 0>c*b?c+b:c}function v(a,b,c){return a+c*(b-a)}function w(a){return function(b){if(b)return[q(b[0],a[0],a[2]),q(b[1],a[1],a[3])]}}function x(a){return a}function y(a,b,c){this.center=a,this.resolution=b,this.rotation=c}function z(a){for(var b in a)delete a[b]}function A(a){var b,c=[];for(b in a)c.push(a[b]);return c}function B(a){for(var b in a)return!1;return!b}function C(a){function b(b){var c=a.listener,d=a.jg||a.target;return a.lg&&K(a),c.call(d,b)}return a.kg=b}function D(a,b,c,d){for(var e,f=0,g=a.length;f<g;++f)if(e=a[f],e.listener===b&&e.jg===c)return d&&(e.deleteIndex=f),e}function E(a,b){var c=a[Bq];return c?c[b]:void 0}function F(a){var b=a[Bq];return b||(b=a[Bq]={}),b}function G(a,b){var c=E(a,b);if(c){for(var d=0,e=c.length;d<e;++d)a.removeEventListener(b,c[d].kg),z(c[d]);c.length=0,(c=a[Bq])&&(delete c[b],0===Object.keys(c).length&&delete a[Bq])}}function H(a,b,c,d,e){var f=F(a),g=f[b];return g||(g=f[b]=[]),(f=D(g,c,d,!1))?e||(f.lg=!1):(f={jg:d,lg:!!e,listener:c,target:a,type:b},a.addEventListener(b,C(f)),g.push(f)),f}function I(a,b,c,d){return H(a,b,c,d,!0)}function J(a,b,c,d){(a=E(a,b))&&(c=D(a,c,d,!0))&&K(c)}function K(a){if(a&&a.target){a.target.removeEventListener(a.type,a.kg);var b=E(a.target,a.type);if(b){var c="deleteIndex"in a?a.deleteIndex:b.indexOf(a);-1!==c&&b.splice(c,1),0===b.length&&G(a.target,a.type)}z(a)}}function L(a){var b,c=F(a);for(b in c)G(a,b)}function M(){}function N(a){a.Cb||(a.Cb=!0,a.fa())}function O(a,b){this.type=a,this.target=b||null}function P(a){a.stopPropagation()}function Q(a){a.preventDefault()}function R(){this.Qa={},this.ya={},this.va={}}function S(a,b){return b?b in a.va:0<Object.keys(a.va).length}function T(){R.call(this),this.g=0}function U(a){if(Array.isArray(a))for(var b=0,c=a.length;b<c;++b)K(a[b]);else K(a)}function V(a,b,c){O.call(this,a),this.key=b,this.oldValue=c}function W(a){T.call(this),i(this),this.U={},void 0!==a&&this.C(a)}function X(a){return Cq.hasOwnProperty(a)?Cq[a]:Cq[a]="change:"+a}function Y(a,b,c){var d;d=X(b),a.b(new V(d,b,c)),a.b(new V("propertychange",b,c))}function Z(a,b){return a>b?1:a<b?-1:0}function $(a,b){return 0<=a.indexOf(b)}function _(a,b,c){var d=a.length;if(a[0]<=b)return 0;if(!(b<=a[d-1]))if(0<c){for(c=1;c<d;++c)if(a[c]<b)return c-1}else if(0>c){for(c=1;c<d;++c)if(a[c]<=b)return c}else for(c=1;c<d;++c){if(a[c]==b)return c;if(a[c]<b)return a[c-1]-b<b-a[c]?c-1:c}return d-1}function aa(a){return a.reduce(function(a,b){return Array.isArray(b)?a.concat(aa(b)):a.concat(b)},[])}function ba(a,b){var c,e=d(b)?b:[b],f=e.length;for(c=0;c<f;c++)a[a.length]=e[c]}function ca(a,b){var c=a.indexOf(b),d=-1<c;return d&&a.splice(c,1),d}function da(a,b){for(var c,d=a.length>>>0,e=0;e<d;e++)if(c=a[e],b(c,e,a))return c;return null}function ea(a,b){var c=a.length;if(c!==b.length)return!1;for(var d=0;d<c;d++)if(a[d]!==b[d])return!1;return!0}function fa(a){var b,c=Ff,d=a.length,e=Array(a.length);for(b=0;b<d;b++)e[b]={index:b,value:a[b]};for(e.sort(function(a,b){return c(a.value,b.value)||a.index-b.index}),b=0;b<a.length;b++)a[b]=e[b].value}function ga(a,b){var c;return a.every(function(d,e){return c=e,!b(d,e,a)})?-1:c}function ha(a){return function(b,c,d){if(void 0!==b)return b=_(a,b,d),b=q(b+c,0,a.length-1),a[b]}}function ia(a,b,c){return function(d,e,f){if(void 0!==d)return d=Math.max(Math.floor(Math.log(b/d)/Math.log(a)+(0<f?0:0>f?1:.5))+e,0),void 0!==c&&(d=Math.min(d,c)),b/Math.pow(a,d)}}function ja(a){if(void 0!==a)return 0}function ka(a,b){if(void 0!==a)return a+b}function la(a){var b=2*Math.PI/a;return function(a,c){if(void 0!==a)return a=Math.floor((a+c)/b+.5)*b}}function ma(){var a=t(5);return function(b,c){if(void 0!==b)return Math.abs(b+c)<=a?0:b+c}}function na(a,b){var c=void 0!==b?a.toFixed(b):""+a,d=c.indexOf("."),d=-1===d?c.length:d;return 2<d?c:Array(3-d).join("0")+c}function oa(a){a=(""+a).split(".");for(var b=["1","3"],c=0;c<Math.max(a.length,b.length);c++){var d=parseInt(a[c]||"0",10),e=parseInt(b[c]||"0",10);if(d>e)return 1;if(e>d)return-1}return 0}function pa(a,b){return a[0]+=b[0],a[1]+=b[1],a}function qa(a,b){var c=a[0],d=a[1],e=b[0],f=b[1],g=e[0],e=e[1],h=f[0],f=f[1],i=h-g,j=f-e,c=0===i&&0===j?0:(i*(c-g)+j*(d-e))/(i*i+j*j||0);return 0>=c||(1<=c?(g=h,e=f):(g+=c*i,e+=c*j)),[g,e]}function ra(a,b,c){a=u(a+180,360)-180;var d=Math.abs(3600*a);return Math.floor(d/3600)+" "+na(Math.floor(d/60%60))+" "+na(d%60,c||0)+" "+b.charAt(0>a?1:0)}function sa(a,b,c){return a?b.replace("{x}",a[0].toFixed(c)).replace("{y}",a[1].toFixed(c)):""}function ta(a,b){for(var c=!0,d=a.length-1;0<=d;--d)if(a[d]!=b[d]){c=!1;break}return c}function ua(a,b){var c=Math.cos(b),d=Math.sin(b),e=a[1]*c+a[0]*d;return a[0]=a[0]*c-a[1]*d,a[1]=e,a}function va(a,b){var c=a[0]-b[0],d=a[1]-b[1];return c*c+d*d}function wa(a,b){return va(a,qa(a,b))}function xa(a,b){return sa(a,"{x}, {y}",b)}function ya(a){for(var b=Ga(),c=0,d=a.length;c<d;++c)Ma(b,a[c]);return b}function za(a,b,c){return c?(c[0]=a[0]-b,c[1]=a[1]-b,c[2]=a[2]+b,c[3]=a[3]+b,c):[a[0]-b,a[1]-b,a[2]+b,a[3]+b]}function Aa(a,b){return b?(b[0]=a[0],b[1]=a[1],b[2]=a[2],b[3]=a[3],b):a.slice()}function Ba(a,b,c){return b=b<a[0]?a[0]-b:a[2]<b?b-a[2]:0,a=c<a[1]?a[1]-c:a[3]<c?c-a[3]:0,b*b+a*a}function Ca(a,b){return Ea(a,b[0],b[1])}function Da(a,b){return a[0]<=b[0]&&b[2]<=a[2]&&a[1]<=b[1]&&b[3]<=a[3]}function Ea(a,b,c){return a[0]<=b&&b<=a[2]&&a[1]<=c&&c<=a[3]}function Fa(a,b){var c=a[1],d=a[2],e=a[3],f=b[0],g=b[1],h=0;return f<a[0]?h|=16:f>d&&(h|=4),g<c?h|=8:g>e&&(h|=2),0===h&&(h=1),h}function Ga(){return[1/0,1/0,-(1/0),-(1/0)]}function Ha(a,b,c,d,e){return e?(e[0]=a,e[1]=b,e[2]=c,e[3]=d,e):[a,b,c,d]}function Ia(a,b){var c=a[0],d=a[1];return Ha(c,d,c,d,b)}function Ja(a,b,c,d,e){return e=Ha(1/0,1/0,-(1/0),-(1/0),e),Na(e,a,b,c,d)}function Ka(a,b){return a[0]==b[0]&&a[2]==b[2]&&a[1]==b[1]&&a[3]==b[3]}function La(a,b){return b[0]<a[0]&&(a[0]=b[0]),b[2]>a[2]&&(a[2]=b[2]),b[1]<a[1]&&(a[1]=b[1]),b[3]>a[3]&&(a[3]=b[3]),a}function Ma(a,b){b[0]<a[0]&&(a[0]=b[0]),b[0]>a[2]&&(a[2]=b[0]),b[1]<a[1]&&(a[1]=b[1]),b[1]>a[3]&&(a[3]=b[1])}function Na(a,b,c,d,e){for(;c<d;c+=e){var f=a,g=b[c],h=b[c+1];f[0]=Math.min(f[0],g),f[1]=Math.min(f[1],h),f[2]=Math.max(f[2],g),f[3]=Math.max(f[3],h)}return a}function Oa(a,b,c){var d;return(d=b.call(c,Qa(a)))||(d=b.call(c,Ra(a)))||(d=b.call(c,Xa(a)))?d:!!(d=b.call(c,Wa(a)))&&d}function Pa(a){var b=0;return $a(a)||(b=Ya(a)*Ua(a)),b}function Qa(a){return[a[0],a[1]]}function Ra(a){return[a[2],a[1]]}function Sa(a){return[(a[0]+a[2])/2,(a[1]+a[3])/2]}function Ta(a,b,c,d,e){var f=b*d[0]/2;d=b*d[1]/2,b=Math.cos(c);var g=Math.sin(c);c=f*b,f*=g,b*=d;var h=d*g,i=a[0],j=a[1];a=i-c+h,d=i-c-h,g=i+c-h,c=i+c+h;var h=j-f-b,i=j-f+b,k=j+f+b,f=j+f-b;return Ha(Math.min(a,d,g,c),Math.min(h,i,k,f),Math.max(a,d,g,c),Math.max(h,i,k,f),e)}function Ua(a){return a[3]-a[1]}function Va(a,b,c){return c=c?c:Ga(),Za(a,b)&&(c[0]=a[0]>b[0]?a[0]:b[0],c[1]=a[1]>b[1]?a[1]:b[1],c[2]=a[2]<b[2]?a[2]:b[2],c[3]=a[3]<b[3]?a[3]:b[3]),c}function Wa(a){return[a[0],a[3]]}function Xa(a){return[a[2],a[3]]}function Ya(a){return a[2]-a[0]}function Za(a,b){return a[0]<=b[2]&&a[2]>=b[0]&&a[1]<=b[3]&&a[3]>=b[1]}function $a(a){return a[2]<a[0]||a[3]<a[1]}function _a(a,b){var c=(a[2]-a[0])/2*(b-1),d=(a[3]-a[1])/2*(b-1);a[0]-=c,a[2]+=c,a[1]-=d,a[3]+=d}function ab(a,b,c){a=[a[0],a[1],a[0],a[3],a[2],a[1],a[2],a[3]],b(a,a,2);var d=[a[0],a[2],a[4],a[6]],e=[a[1],a[3],a[5],a[7]];return b=Math.min.apply(null,d),a=Math.min.apply(null,e),d=Math.max.apply(null,d),e=Math.max.apply(null,e),Ha(b,a,d,e,c)}function bb(){return!0}function cb(){return!1}function db(a){this.radius=a}function eb(a){this.eb=a.code,this.c=a.units,this.f=void 0!==a.extent?a.extent:null,this.i=void 0!==a.worldExtent?a.worldExtent:null,this.b=void 0!==a.axisOrientation?a.axisOrientation:"enu",this.g=void 0!==a.global&&a.global,this.a=!(!this.g||!this.f),this.o=void 0!==a.getPointResolution?a.getPointResolution:this.nk,this.l=null,this.j=a.metersPerUnit;var b=Fq,c=a.code,d=Hq||qq.proj4;if("function"==typeof d&&void 0===b[c]){var e=d.defs(c);if(void 0!==e){void 0!==e.axis&&void 0===a.axisOrientation&&(this.b=e.axis),void 0===a.metersPerUnit&&(this.j=e.to_meter),void 0===a.units&&(this.c=e.units);for(var f in b)b=d.defs(f),void 0!==b&&(a=nb(f),b===e?fb([a,this]):(b=d(f,c),lb(a,this,b.forward,b.inverse)))}}}function fb(a){ib(a),a.forEach(function(b){a.forEach(function(a){b!==a&&kb(b,a,sb)})})}function gb(){var a=Xr,b=Og,c=Pg;_r.forEach(function(d){a.forEach(function(a){kb(d,a,b),kb(a,d,c)})})}function hb(a){Fq[a.eb]=a,kb(a,a,sb)}function ib(a){var b=[];a.forEach(function(a){b.push(hb(a))})}function jb(a){return a?"string"==typeof a?nb(a):a:nb("EPSG:3857")}function kb(a,b,c){a=a.eb,b=b.eb,a in Gq||(Gq[a]={}),Gq[a][b]=c}function lb(a,b,c,d){a=nb(a),b=nb(b),kb(a,b,mb(c)),kb(b,a,mb(d))}function mb(a){return function(b,c,d){var e=b.length;d=void 0!==d?d:2,c=void 0!==c?c:Array(e);var f,g;for(g=0;g<e;g+=d)for(f=a([b[g],b[g+1]]),c[g]=f[0],c[g+1]=f[1],f=d-1;2<=f;--f)c[g+f]=b[g+f];return c}}function nb(a){var b;if(a instanceof eb)b=a;else if("string"==typeof a){b=Fq[a];var c=Hq||qq.proj4;void 0===b&&"function"==typeof c&&void 0!==c.defs(a)&&(b=new eb({code:a}),hb(b))}else b=null;return b}function ob(a,b){if(a===b)return!0;var c=a.vb()===b.vb();return a.eb===b.eb?c:qb(a,b)===sb&&c}function pb(a,b){var c=nb(a),d=nb(b);return qb(c,d)}function qb(a,b){var c,d=a.eb,e=b.eb;return d in Gq&&e in Gq[d]&&(c=Gq[d][e]),void 0===c&&(c=rb),c}function rb(a,b){if(void 0!==b&&a!==b){for(var c=0,d=a.length;c<d;++c)b[c]=a[c];a=b}return a}function sb(a,b){var c;if(void 0!==b){c=0;for(var d=a.length;c<d;++c)b[c]=a[c];c=b}else c=a.slice();return c}function tb(a,b,c){return pb(b,c)(a,void 0,a.length)}function ub(a,b,c){return b=pb(b,c),ab(a,b)}function vb(){W.call(this),this.v=Ga(),this.B=-1,this.l={},this.s=this.o=0}function wb(a){this.length=a.length||a;for(var b=0;b<this.length;b++)this[b]=a[b]||0}function xb(a){this.length=a.length||a;for(var b=0;b<this.length;b++)this[b]=a[b]||0}function yb(a,b,c,d,e){a[0]=b,a[1]=c,a[2]=d,a[3]=e}function zb(){var a=Array(16);return Bb(a,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0),a}function Ab(){var a=Array(16);return Bb(a,1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),a}function Bb(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){a[0]=b,a[1]=c,a[2]=d,a[3]=e,a[4]=f,a[5]=g,a[6]=h,a[7]=i,a[8]=j,a[9]=k,a[10]=l,a[11]=m,a[12]=n,a[13]=o,a[14]=p,a[15]=q}function Cb(a,b){a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3],a[4]=b[4],a[5]=b[5],a[6]=b[6],a[7]=b[7],a[8]=b[8],a[9]=b[9],a[10]=b[10],a[11]=b[11],a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15]}function Db(a){a[0]=1,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=1,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=1,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1}function Eb(a,b,c){var d=a[0],e=a[1],f=a[2],g=a[3],h=a[4],i=a[5],j=a[6],k=a[7],l=a[8],m=a[9],n=a[10],o=a[11],p=a[12],q=a[13],r=a[14];a=a[15];var s=b[0],t=b[1],u=b[2],v=b[3],w=b[4],x=b[5],y=b[6],z=b[7],A=b[8],B=b[9],C=b[10],D=b[11],E=b[12],F=b[13],G=b[14];b=b[15],c[0]=d*s+h*t+l*u+p*v,c[1]=e*s+i*t+m*u+q*v,c[2]=f*s+j*t+n*u+r*v,c[3]=g*s+k*t+o*u+a*v,c[4]=d*w+h*x+l*y+p*z,c[5]=e*w+i*x+m*y+q*z,c[6]=f*w+j*x+n*y+r*z,c[7]=g*w+k*x+o*y+a*z,c[8]=d*A+h*B+l*C+p*D,c[9]=e*A+i*B+m*C+q*D,c[10]=f*A+j*B+n*C+r*D,c[11]=g*A+k*B+o*C+a*D,c[12]=d*E+h*F+l*G+p*b,c[13]=e*E+i*F+m*G+q*b,c[14]=f*E+j*F+n*G+r*b,c[15]=g*E+k*F+o*G+a*b}function Fb(a,b){var c=a[0],d=a[1],e=a[2],f=a[3],g=a[4],h=a[5],i=a[6],j=a[7],k=a[8],l=a[9],m=a[10],n=a[11],o=a[12],p=a[13],q=a[14],r=a[15],s=c*h-d*g,t=c*i-e*g,u=c*j-f*g,v=d*i-e*h,w=d*j-f*h,x=e*j-f*i,y=k*p-l*o,z=k*q-m*o,A=k*r-n*o,B=l*q-m*p,C=l*r-n*p,D=m*r-n*q,E=s*D-t*C+u*B+v*A-w*z+x*y;0!=E&&(E=1/E,b[0]=(h*D-i*C+j*B)*E,b[1]=(-d*D+e*C-f*B)*E,b[2]=(p*x-q*w+r*v)*E,b[3]=(-l*x+m*w-n*v)*E,b[4]=(-g*D+i*A-j*z)*E,b[5]=(c*D-e*A+f*z)*E,b[6]=(-o*x+q*u-r*t)*E,b[7]=(k*x-m*u+n*t)*E,b[8]=(g*C-h*A+j*y)*E,b[9]=(-c*C+d*A-f*y)*E,b[10]=(o*w-p*u+r*s)*E,b[11]=(-k*w+l*u-n*s)*E,b[12]=(-g*B+h*z-i*y)*E,b[13]=(c*B-d*z+e*y)*E,b[14]=(-o*v+p*t-q*s)*E,b[15]=(k*v-l*t+m*s)*E)}function Gb(a,b,c){var d=a[1]*b+a[5]*c+0*a[9]+a[13],e=a[2]*b+a[6]*c+0*a[10]+a[14],f=a[3]*b+a[7]*c+0*a[11]+a[15];a[12]=a[0]*b+a[4]*c+0*a[8]+a[12],a[13]=d,a[14]=e,a[15]=f}function Hb(a,b,c){Bb(a,a[0]*b,a[1]*b,a[2]*b,a[3]*b,a[4]*c,a[5]*c,a[6]*c,a[7]*c,1*a[8],1*a[9],1*a[10],1*a[11],a[12],a[13],a[14],a[15])}function Ib(a,b){var c=a[0],d=a[1],e=a[2],f=a[3],g=a[4],h=a[5],i=a[6],j=a[7],k=Math.cos(b),l=Math.sin(b);a[0]=c*k+g*l,a[1]=d*k+h*l,a[2]=e*k+i*l,a[3]=f*k+j*l,a[4]=c*-l+g*k,a[5]=d*-l+h*k,a[6]=e*-l+i*k,a[7]=f*-l+j*k}function Jb(a,b,c,d,e,f){var g=e[0],h=e[1],i=e[4],j=e[5],k=e[12];e=e[13];for(var l=f?f:[],m=0;b<c;b+=d){var n=a[b],o=a[b+1];l[m++]=g*n+i*o+k,l[m++]=h*n+j*o+e}return f&&l.length!=m&&(l.length=m),l}function Kb(){vb.call(this),this.f="XY",this.a=2,this.A=null}function Lb(a){return"XY"==a?2:"XYZ"==a||"XYM"==a?3:"XYZM"==a?4:void 0}function Mb(a,b,c){a.a=Lb(b),a.f=b,a.A=c}function Nb(a,b,c,d){if(b)c=Lb(b);else{for(b=0;b<d;++b){if(0===c.length)return a.f="XY",void(a.a=2);c=c[0]}c=c.length,b=2==c?"XY":3==c?"XYZ":4==c?"XYZM":void 0}a.f=b,a.a=c}function Ob(a,b,c,d){for(var e=0,f=a[c-d],g=a[c-d+1];b<c;b+=d)var h=a[b],i=a[b+1],e=e+(g*h-f*i),f=h,g=i;return e/2}function Pb(a,b,c,d){var e,f,g=0;for(e=0,f=c.length;e<f;++e){var h=c[e],g=g+Ob(a,b,h,d);b=h}return g}function Qb(a,b,c,d,e,f,g){var h=a[b],i=a[b+1],j=a[c]-h,k=a[c+1]-i;if(0!==j||0!==k)if(f=((e-h)*j+(f-i)*k)/(j*j+k*k),1<f)b=c;else if(0<f){for(e=0;e<d;++e)g[e]=v(a[b+e],a[c+e],f);return void(g.length=d)}for(e=0;e<d;++e)g[e]=a[b+e];g.length=d}function Rb(a,b,c,d,e){var f=a[b],g=a[b+1];for(b+=d;b<c;b+=d){var h=a[b],i=a[b+1],f=s(f,g,h,i);f>e&&(e=f),f=h,g=i}return e}function Sb(a,b,c,d,e){var f,g;for(f=0,g=c.length;f<g;++f){var h=c[f];e=Rb(a,b,h,d,e),b=h}return e}function Tb(a,b,c,d,e,f,g,h,i,j,k){if(b==c)return j;var l;if(0===e){if(l=s(g,h,a[b],a[b+1]),l<j){for(k=0;k<d;++k)i[k]=a[b+k];return i.length=d,l}return j}for(var m=k?k:[NaN,NaN],n=b+d;n<c;)if(Qb(a,n-d,n,d,g,h,m),l=s(g,h,m[0],m[1]),l<j){for(j=l,k=0;k<d;++k)i[k]=m[k];i.length=d,n+=d}else n+=d*Math.max((Math.sqrt(l)-Math.sqrt(j))/e|0,1);if(f&&(Qb(a,c-d,b,d,g,h,m),l=s(g,h,m[0],m[1]),l<j)){for(j=l,k=0;k<d;++k)i[k]=m[k];i.length=d}return j}function Ub(a,b,c,d,e,f,g,h,i,j,k){k=k?k:[NaN,NaN];var l,m;for(l=0,m=c.length;l<m;++l){var n=c[l];j=Tb(a,b,n,d,e,f,g,h,i,j,k),b=n}return j}function Vb(a,b){var c,d,e=0;for(c=0,d=b.length;c<d;++c)a[e++]=b[c];return e}function Wb(a,b,c,d){var e,f;for(e=0,f=c.length;e<f;++e){var g,h=c[e];for(g=0;g<d;++g)a[b++]=h[g]}return b}function Xb(a,b,c,d,e){e=e?e:[];var f,g,h=0;for(f=0,g=c.length;f<g;++f)b=Wb(a,b,c[f],d),e[h++]=b;return e.length=h,e}function Yb(a,b,c,d,e){e=void 0!==e?e:[];for(var f=0;b<c;b+=d)e[f++]=a.slice(b,b+d);return e.length=f,e}function Zb(a,b,c,d,e){e=void 0!==e?e:[];var f,g,h=0;for(f=0,g=c.length;f<g;++f){var i=c[f];e[h++]=Yb(a,b,i,d,e[h]),b=i}return e.length=h,e}function $b(a,b,c,d,e,f,g){var h=(c-b)/d;if(3>h){for(;b<c;b+=d)f[g++]=a[b],f[g++]=a[b+1];return g}var i=Array(h);i[0]=1,i[h-1]=1,c=[b,c-d];for(var j,k=0;0<c.length;){var l=c.pop(),m=c.pop(),n=0,o=a[m],p=a[m+1],q=a[l],s=a[l+1];for(j=m+d;j<l;j+=d){var t=r(a[j],a[j+1],o,p,q,s);t>n&&(k=j,n=t)}n>e&&(i[(k-b)/d]=1,m+d<k&&c.push(m,k),k+d<l&&c.push(k,l))}for(j=0;j<h;++j)i[j]&&(f[g++]=a[b+j*d],f[g++]=a[b+j*d+1]);return g}function _b(a,b,c,d,e,f,g,h){var i,j;for(i=0,j=c.length;i<j;++i){var k=c[i];a:{var l=a,m=k,n=d,o=e,p=f;if(b!=m){var q=o*Math.round(l[b]/o),r=o*Math.round(l[b+1]/o);b+=n,p[g++]=q,p[g++]=r;var s=void 0,t=void 0;do if(s=o*Math.round(l[b]/o),t=o*Math.round(l[b+1]/o),b+=n,b==m){p[g++]=s,p[g++]=t;break a}while(s==q&&t==r);for(;b<m;){var u,v;if(u=o*Math.round(l[b]/o),v=o*Math.round(l[b+1]/o),b+=n,u!=s||v!=t){var w=s-q,x=t-r,y=u-q,z=v-r;w*z==x*y&&(0>w&&y<w||w==y||0<w&&y>w)&&(0>x&&z<x||x==z||0<x&&z>x)||(p[g++]=s,p[g++]=t,q=s,r=t),s=u,t=v}}p[g++]=s,p[g++]=t}}h.push(g),b=k}return g}function ac(a,b){Kb.call(this),this.i=this.j=-1,this.ma(a,b)}function bc(a,b,c){Mb(a,b,c),a.u()}function cc(a,b){Kb.call(this),this.ma(a,b)}function dc(a,b,c,d,e){return!Oa(e,function(e){return!ec(a,b,c,d,e[0],e[1])})}function ec(a,b,c,d,e,f){for(var g=!1,h=a[c-d],i=a[c-d+1];b<c;b+=d){var j=a[b],k=a[b+1];i>f!=k>f&&e<(j-h)*(f-i)/(k-i)+h&&(g=!g),h=j,i=k}return g}function fc(a,b,c,d,e,f){if(0===c.length||!ec(a,b,c[0],d,e,f))return!1;var g;for(b=1,g=c.length;b<g;++b)if(ec(a,c[b-1],c[b],d,e,f))return!1;return!0}function gc(a,b,c,d,e,f,g){var h,i,j,k,l,m=e[f+1],n=[],o=c[0];for(j=a[o-d],l=a[o-d+1],h=b;h<o;h+=d)k=a[h],i=a[h+1],(m<=l&&i<=m||l<=m&&m<=i)&&(j=(m-l)/(i-l)*(k-j)+j,n.push(j)),j=k,l=i;for(o=NaN,l=-(1/0),n.sort(Z),j=n[0],h=1,i=n.length;h<i;++h){k=n[h];var p=Math.abs(k-j);p>l&&(j=(j+k)/2,fc(a,b,c,d,j,m)&&(o=j,l=p)),j=k}return isNaN(o)&&(o=e[f]),g?(g.push(o,m),g):[o,m]}function hc(a,b,c,d,e,f){for(var g,h=[a[b],a[b+1]],i=[];b+d<c;b+=d){if(i[0]=a[b+d],i[1]=a[b+d+1],g=e.call(f,h,i))return g;h[0]=i[0],h[1]=i[1]}return!1}function ic(a,b,c,d,e){var f=Na(Ga(),a,b,c,d);return!!Za(e,f)&&(!!(Da(e,f)||f[0]>=e[0]&&f[2]<=e[2]||f[1]>=e[1]&&f[3]<=e[3])||hc(a,b,c,d,function(a,b){var c=!1,d=Fa(e,a),f=Fa(e,b);if(1===d||1===f)c=!0;else{var g=e[0],h=e[1],i=e[2],j=e[3],k=b[0],l=b[1],m=(l-a[1])/(k-a[0]);2&f&&!(2&d)&&(c=k-(l-j)/m,c=c>=g&&c<=i),c||!(4&f)||4&d||(c=l-(k-i)*m,c=c>=h&&c<=j),c||!(8&f)||8&d||(c=k-(l-h)/m,c=c>=g&&c<=i),c||!(16&f)||16&d||(c=l-(k-g)*m,c=c>=h&&c<=j)}return c}))}function jc(a,b,c,d,e){var f=c[0];if(!(ic(a,b,f,d,e)||ec(a,b,f,d,e[0],e[1])||ec(a,b,f,d,e[0],e[3])||ec(a,b,f,d,e[2],e[1])||ec(a,b,f,d,e[2],e[3])))return!1;if(1===c.length)return!0;for(b=1,f=c.length;b<f;++b)if(dc(a,c[b-1],c[b],d,e))return!1;return!0}function kc(a,b,c,d){for(var e=0,f=a[c-d],g=a[c-d+1];b<c;b+=d)var h=a[b],i=a[b+1],e=e+(h-f)*(i+g),f=h,g=i;return 0<e}function lc(a,b,c,d){var e=0;d=void 0!==d&&d;var f,g;for(f=0,g=b.length;f<g;++f){var h=b[f],e=kc(a,e,h,c);if(0===f){if(d&&e||!d&&!e)return!1}else if(d&&!e||!d&&e)return!1;e=h}return!0}function mc(a,b,c,d,e){e=void 0!==e&&e;var f,g;for(f=0,g=c.length;f<g;++f){var h=c[f],i=kc(a,b,h,d);if(0===f?e&&i||!e&&!i:e&&!i||!e&&i)for(var i=a,j=h,k=d;b<j-k;){var l;for(l=0;l<k;++l){var m=i[b+l];i[b+l]=i[j-k+l],i[j-k+l]=m}b+=k,j-=k}b=h}return b}function nc(a,b,c,d){var e,f,g=0;for(e=0,f=b.length;e<f;++e)g=mc(a,g,b[e],c,d);return g}function oc(a,b){Kb.call(this),this.i=[],this.M=-1,this.N=null,this.T=this.R=this.S=-1,this.j=null,this.ma(a,b)}function pc(a){if(a.M!=a.g){var b=Sa(a.O());a.N=gc(a.Kb(),0,a.i,a.a,b,0),a.M=a.g}return a.N}function qc(a,b,c,d){var e=d?d:32;d=[];var f;for(f=0;f<e;++f)ba(d,a.offset(b,c,2*Math.PI*f/e));return d.push(d[0],d[1]),a=new oc(null),a.ba("XY",d,[d.length]),a}function rc(a){var b=a[0],c=a[1],d=a[2];return a=a[3],b=[b,c,b,a,d,a,d,c,b,c],c=new oc(null),c.ba("XY",b,[b.length]),c}function sc(a,b,c){var d=b?b:32,e=a.ua();b=a.f;for(var f=new oc(null,b),d=e*(d+1),e=Array(d),g=0;g<d;g++)e[g]=0;return f.ba(b,e,[e.length]),tc(f,a.ld(),a.sf(),c),f}function tc(a,b,c,d){var e=a.ga(),f=a.f,g=a.ua(),h=a.zb(),i=e.length/g-1;d=d?d:0;for(var j,k,l=0;l<=i;++l)k=l*g,j=d+2*u(l,i)*Math.PI/i,e[k]=b[0]+c*Math.cos(j),e[k+1]=b[1]+c*Math.sin(j);a.ba(f,e,h)}function uc(a){W.call(this),a=a||{},this.f=[0,0];var b={};b.center=void 0!==a.center?a.center:null,this.i=jb(a.projection);var c,d,e,g=void 0!==a.minZoom?a.minZoom:0;c=void 0!==a.maxZoom?a.maxZoom:28;var h=void 0!==a.zoomFactor?a.zoomFactor:2;if(void 0!==a.resolutions)c=a.resolutions,d=c[0],e=c[c.length-1],c=ha(c);else{d=jb(a.projection),e=d.O();var i=(e?Math.max(Ya(e),Ua(e)):360*Eq.degrees/d.Vb())/256/Math.pow(2,0),j=i/Math.pow(2,28);d=a.maxResolution,void 0!==d?g=0:d=i/Math.pow(h,g),e=a.minResolution,void 0===e&&(e=void 0!==a.maxZoom?void 0!==a.maxResolution?d/Math.pow(h,c):i/Math.pow(h,c):j),c=g+Math.floor(Math.log(d/e)/Math.log(h)),e=d/Math.pow(h,c-g),c=ia(h,d,c-g)}this.a=d,this.o=e,this.j=a.resolutions,this.c=g,g=void 0!==a.extent?w(a.extent):x,(void 0!==a.enableRotation?a.enableRotation:1)?(d=a.constrainRotation,d=void 0===d||!0===d?ma():!1===d?ka:f(d)?la(d):ka):d=ja,this.l=new y(g,c,d),void 0!==a.resolution?b.resolution=a.resolution:void 0!==a.zoom&&(b.resolution=this.constrainResolution(this.a,a.zoom-this.c)),b.rotation=void 0!==a.rotation?a.rotation:0,this.C(b)}function vc(a,b){return void 0!==b?(b[0]=a.f[0],
b[1]=a.f[1],b):a.f.slice()}function wc(a,b){return Math.max(Ya(a)/b[0],Ua(a)/b[1])}function xc(a){var b=a.a,c=Math.log(b/a.o)/Math.log(2);return function(a){return b/Math.pow(2,a*c)}}function yc(a){var b=a.a,c=Math.log(b/a.o)/Math.log(2);return function(a){return Math.log(b/a)/Math.log(2)/c}}function zc(a){return!!a.bb()&&void 0!==a.$()}function Ac(a,b){a.f[1]+=b}function Bc(a){return Math.pow(a,3)}function Cc(a){return 1-Bc(1-a)}function Dc(a){return 3*a*a-2*a*a*a}function Ec(a){return a}function Fc(a){return.5>a?Dc(2*a):1-Dc(2*(a-.5))}function Gc(a){var b=a.source,c=a.start?a.start:Date.now(),d=b[0],e=b[1],f=void 0!==a.duration?a.duration:1e3,g=a.easing?a.easing:Dc;return function(a,b){if(b.time<c)return b.animate=!0,b.viewHints[0]+=1,!0;if(b.time<c+f){var h=1-g((b.time-c)/f),i=d-b.viewState.center[0],j=e-b.viewState.center[1];return b.animate=!0,b.viewState.center[0]+=h*i,b.viewState.center[1]+=h*j,b.viewHints[0]+=1,!0}return!1}}function Hc(a){var b=a.rotation?a.rotation:0,c=a.start?a.start:Date.now(),d=void 0!==a.duration?a.duration:1e3,e=a.easing?a.easing:Dc,f=a.anchor?a.anchor:null;return function(a,g){if(g.time<c)return g.animate=!0,g.viewHints[0]+=1,!0;if(g.time<c+d){var h=1-e((g.time-c)/d),h=(b-g.viewState.rotation)*h;if(g.animate=!0,g.viewState.rotation+=h,f){var i=g.viewState.center;i[0]-=f[0],i[1]-=f[1],ua(i,h),pa(i,f)}return g.viewHints[0]+=1,!0}return!1}}function Ic(a){var b=a.resolution,c=a.start?a.start:Date.now(),d=void 0!==a.duration?a.duration:1e3,e=a.easing?a.easing:Dc;return function(a,f){if(f.time<c)return f.animate=!0,f.viewHints[0]+=1,!0;if(f.time<c+d){var g=1-e((f.time-c)/d),h=b-f.viewState.resolution;return f.animate=!0,f.viewState.resolution+=g*h,f.viewHints[0]+=1,!0}return!1}}function Jc(a,b,c,d){this.b=a,this.a=b,this.g=c,this.f=d}function Kc(a,b,c){return a.b<=b&&b<=a.a&&a.g<=c&&c<=a.f}function Lc(a,b){return a.b==b.b&&a.g==b.g&&a.a==b.a&&a.f==b.f}function Mc(a,b){return a.b<=b.a&&a.a>=b.b&&a.g<=b.f&&a.f>=b.g}function Nc(a){this.a=a.html,this.b=a.tileRanges?a.tileRanges:null}function Oc(a,b,c){O.call(this,a,c),this.element=b}function Pc(a){W.call(this),this.a=a?a:[],Qc(this)}function Qc(a){a.set("length",a.a.length)}function Rc(a){return Array.prototype.concat.apply(Array.prototype,arguments)}function Sc(a){var b=a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];return c}return[]}function Tc(a,b,c){return 2>=arguments.length?Array.prototype.slice.call(a,b):Array.prototype.slice.call(a,b,c)}function Uc(a){return Array.isArray(a)?a:Nq(a)}function Vc(a){if("string"!=typeof a){var b=a[0];b!=(0|b)&&(b=b+.5|0);var c=a[1];c!=(0|c)&&(c=c+.5|0);var d=a[2];d!=(0|d)&&(d=d+.5|0),a="rgba("+b+","+c+","+d+","+(void 0===a[3]?1:a[3])+")"}return a}function Wc(a,b){var c=b||[];return c[0]=q(a[0]+.5|0,0,255),c[1]=q(a[1]+.5|0,0,255),c[2]=q(a[2]+.5|0,0,255),c[3]=q(a[3],0,1),c}function Xc(a){return"string"==typeof a||a instanceof CanvasPattern||a instanceof CanvasGradient?a:Vc(a)}function Yc(a){return-1!=Iq.indexOf(a)}function Zc(a,b){for(var c in a)b.call(void 0,a[c],c,a)}function $c(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var f=0;f<Rq.length;f++)c=Rq[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}}function _c(){var a=nq.document;return a?a.documentMode:void 0}function ad(a){var b;if(!(b=$q[a])){b=0;for(var c=rq(String(Qq)).split("."),d=rq(String(a)).split("."),e=Math.max(c.length,d.length),f=0;0==b&&f<e;f++){var g=c[f]||"",h=d[f]||"",i=RegExp("(\\d*)(\\D*)","g"),j=RegExp("(\\d*)(\\D*)","g");do{var k=i.exec(g)||["","",""],l=j.exec(h)||["","",""];if(0==k[0].length&&0==l[0].length)break;b=p(0==k[1].length?0:parseInt(k[1],10),0==l[1].length?0:parseInt(l[1],10))||p(0==k[2].length,0==l[2].length)||p(k[2],l[2])}while(0==b)}b=$q[a]=0<=b}return b}function bd(a,b){this.x=void 0!==a?a:0,this.y=void 0!==b?b:0}function cd(a,b){this.width=a,this.height=b}function dd(a){return a?new pd(nd(a)):lq||(lq=new pd)}function ed(a){var b=document;return e(a)?b.getElementById(a):a}function fd(a,b){Zc(b,function(b,c){"style"==c?a.style.cssText=b:"class"==c?a.className=b:"for"==c?a.htmlFor=b:cr.hasOwnProperty(c)?a.setAttribute(cr[c],b):0==c.lastIndexOf("aria-",0)||0==c.lastIndexOf("data-",0)?a.setAttribute(c,b):a[c]=b})}function gd(a,b,d){var f=arguments,g=document,h=f[0],i=f[1];if(!br&&i&&(i.name||i.type)){if(h=["<",h],i.name&&h.push(' name="',o(i.name),'"'),i.type){h.push(' type="',o(i.type),'"');var j={};$c(j,i),delete j.type,i=j}h.push(">"),h=h.join("")}return h=g.createElement(h),i&&(e(i)?h.className=i:"array"==c(i)?h.className=i.join(" "):fd(h,i)),2<f.length&&hd(g,h,f),h}function hd(a,b,c){function f(c){c&&b.appendChild(e(c)?a.createTextNode(c):c)}for(var g=2;g<c.length;g++){var i=c[g];!d(i)||h(i)&&0<i.nodeType?f(i):Jq(od(i)?Sc(i):i,f)}}function id(a){for(var b;b=a.firstChild;)a.removeChild(b)}function jd(a,b,c){a.insertBefore(b,a.childNodes[c]||null)}function kd(a){a&&a.parentNode&&a.parentNode.removeChild(a)}function ld(a,b){var c=b.parentNode;c&&c.replaceChild(a,b)}function md(a,b){if(!a||!b)return!1;if(a.contains&&1==b.nodeType)return a==b||a.contains(b);if("undefined"!=typeof a.compareDocumentPosition)return a==b||!!(16&a.compareDocumentPosition(b));for(;b&&a!=b;)b=b.parentNode;return b==a}function nd(a){return 9==a.nodeType?a:a.ownerDocument||a.document}function od(a){if(a&&"number"==typeof a.length){if(h(a))return"function"==typeof a.item||"string"==typeof a.item;if(g(a))return"function"==typeof a.item}return!1}function pd(a){this.b=a||nq.document||document}function qd(a,b,c,d){this.top=a,this.right=b,this.bottom=c,this.left=d}function rd(a,b){var c=nd(a);return c.defaultView&&c.defaultView.getComputedStyle&&(c=c.defaultView.getComputedStyle(a,null))?c[b]||c.getPropertyValue(b)||"":""}function sd(a){var b;try{b=a.getBoundingClientRect()}catch(a){return{left:0,top:0,right:0,bottom:0}}return Tq&&a.ownerDocument.body&&(a=a.ownerDocument,b.left-=a.documentElement.clientLeft+a.body.clientLeft,b.top-=a.documentElement.clientTop+a.body.clientTop),b}function td(a){var b=ud;if("none"!=(rd(a,"display")||(a.currentStyle?a.currentStyle.display:null)||a.style&&a.style.display))return b(a);var c=a.style,d=c.display,e=c.visibility,f=c.position;return c.visibility="hidden",c.position="absolute",c.display="inline",a=b(a),c.display=d,c.position=f,c.visibility=e,a}function ud(a){var b=a.offsetWidth,c=a.offsetHeight,d=Wq&&!b&&!c;return(void 0===b||d)&&a.getBoundingClientRect?(a=sd(a),new cd(a.right-a.left,a.bottom-a.top)):new cd(b,c)}function vd(a,b){a.style.display=b?"":"none"}function wd(a,b,c,d){if(/^\d+px?$/.test(b))return parseInt(b,10);var e=a.style[c],f=a.runtimeStyle[c];return a.runtimeStyle[c]=a.currentStyle[c],a.style[c]=b,b=a.style[d],a.style[c]=e,a.runtimeStyle[c]=f,b}function xd(a,b){var c=a.currentStyle?a.currentStyle[b]:null;return c?wd(a,c,"left","pixelLeft"):0}function yd(a,b){if(Tq){var c=xd(a,b+"Left"),d=xd(a,b+"Right"),e=xd(a,b+"Top"),f=xd(a,b+"Bottom");return new qd(e,d,f,c)}return c=rd(a,b+"Left"),d=rd(a,b+"Right"),e=rd(a,b+"Top"),f=rd(a,b+"Bottom"),new qd(parseFloat(e),parseFloat(d),parseFloat(f),parseFloat(c))}function zd(a,b){if("none"==(a.currentStyle?a.currentStyle[b+"Style"]:null))return 0;var c=a.currentStyle?a.currentStyle[b+"Width"]:null;return c in dr?dr[c]:wd(a,c,"left","pixelLeft")}function Ad(a,b,c){O.call(this,a),this.map=b,this.frameState=void 0!==c?c:null}function Bd(a){W.call(this),this.element=a.element?a.element:null,this.a=this.S=null,this.s=[],this.render=a.render?a.render:n,a.target&&this.c(a.target)}function Cd(){this.g=0,this.f={},this.a=this.b=null}function Dd(a,b){return a.f.hasOwnProperty(b)}function Ed(a,b,c,d){return void 0!==d?(d[0]=a,d[1]=b,d[2]=c,d):[a,b,c]}function Fd(a){var b,c,d=a[0],e=Array(d),f=1<<d-1;for(b=0;b<d;++b)c=48,a[1]&f&&(c+=1),a[2]&f&&(c+=2),e[b]=String.fromCharCode(c),f>>=1;return e.join("")}function Gd(a){Cd.call(this),this.c=void 0!==a?a:2048}function Hd(a){return a.rc()>a.c}function Id(a,b){R.call(this),this.ja=a,this.state=b,this.a=null,this.key=""}function Jd(a){a.b("change")}function Kd(a,b,c){return void 0===c&&(c=[0,0]),c[0]=a[0]+2*b,c[1]=a[1]+2*b,c}function Ld(a,b,c){return void 0===c&&(c=[0,0]),c[0]=a[0]*b+.5|0,c[1]=a[1]*b+.5|0,c}function Md(a,b){return Array.isArray(a)?a:(void 0===b?b=[a,a]:(b[0]=a,b[1]=a),b)}function Nd(a){W.call(this),this.f=nb(a.projection),this.l=Od(a.attributions),this.R=a.logo,this.wa=void 0!==a.state?a.state:"ready",this.N=void 0!==a.wrapX&&a.wrapX}function Od(a){if("string"==typeof a)return[new Nc({html:a})];if(a instanceof Nc)return[a];if(Array.isArray(a)){for(var b=a.length,c=Array(b),d=0;d<b;d++){var e=a[d];c[d]="string"==typeof e?new Nc({html:e}):e}return c}return null}function Pd(a,b){a.wa=b,a.u()}function Qd(a){this.minZoom=void 0!==a.minZoom?a.minZoom:0,this.b=a.resolutions,this.maxZoom=this.b.length-1,this.g=void 0!==a.origin?a.origin:null,this.c=null,void 0!==a.origins&&(this.c=a.origins);var b=a.extent;void 0===b||this.g||this.c||(this.g=Wa(b)),this.i=null,void 0!==a.tileSizes&&(this.i=a.tileSizes),this.o=void 0!==a.tileSize?a.tileSize:this.i?null:256,this.s=void 0!==b?b:null,this.a=null,this.f=[0,0],void 0!==a.sizes?this.a=a.sizes.map(function(a){return new Jc(Math.min(0,a[0]),Math.max(a[0]-1,-1),Math.min(0,a[1]),Math.max(a[1]-1,-1))},this):b&&Yd(this,b)}function Rd(a,b,c,d,e){for(e=a.Ba(b,e),b=b[0]-1;b>=a.minZoom;){if(c.call(null,b,Ud(a,e,b,d)))return!0;--b}return!1}function Sd(a,b,c,d){return b[0]<a.maxZoom?(d=a.Ba(b,d),Ud(a,d,b[0]+1,c)):null}function Td(a,b,c,d){Wd(a,b[0],b[1],c,!1,er);var e=er[1],f=er[2];return Wd(a,b[2],b[3],c,!0,er),a=er[1],b=er[2],void 0!==d?(d.b=e,d.a=a,d.g=f,d.f=b):d=new Jc(e,a,f,b),d}function Ud(a,b,c,d){return c=a.$(c),Td(a,b,c,d)}function Vd(a,b){var c=a.Fa(b[0]),d=a.$(b[0]),e=Md(a.Ha(b[0]),a.f);return[c[0]+(b[1]+.5)*e[0]*d,c[1]+(b[2]+.5)*e[1]*d]}function Wd(a,b,c,d,e,f){var g=Xd(a,d),h=d/a.$(g),i=a.Fa(g);return a=Md(a.Ha(g),a.f),b=h*Math.floor((b-i[0])/d+(e?.5:0))/a[0],c=h*Math.floor((c-i[1])/d+(e?0:.5))/a[1],e?(b=Math.ceil(b)-1,c=Math.ceil(c)-1):(b=Math.floor(b),c=Math.floor(c)),Ed(g,b,c,f)}function Xd(a,b,c){return b=_(a.b,b,c||0),q(b,a.minZoom,a.maxZoom)}function Yd(a,b){for(var c=a.b.length,d=Array(c),e=a.minZoom;e<c;++e)d[e]=Ud(a,b,e);a.a=d}function Zd(a){var b=a.l;if(!b){var b=ae(a),c=_d(b,void 0,void 0),b=new Qd({extent:b,origin:Wa(b),resolutions:c,tileSize:void 0});a.l=b}return b}function $d(a){var b={};return Aq(b,void 0!==a?a:{}),void 0===b.extent&&(b.extent=nb("EPSG:3857").O()),b.resolutions=_d(b.extent,b.maxZoom,b.tileSize),delete b.maxZoom,new Qd(b)}function _d(a,b,c){b=void 0!==b?b:42;var d=Ua(a);for(a=Ya(a),c=Md(void 0!==c?c:256),c=Math.max(a/c[0],d/c[1]),b+=1,d=Array(b),a=0;a<b;++a)d[a]=c/Math.pow(2,a);return d}function ae(a){a=nb(a);var b=a.O();return b||(a=180*Eq.degrees/a.Vb(),b=Ha(-a,-a,a,a)),b}function be(a){Nd.call(this,{attributions:a.attributions,extent:a.extent,logo:a.logo,projection:a.projection,state:a.state,wrapX:a.wrapX}),this.ea=void 0!==a.opaque&&a.opaque,this.ta=void 0!==a.tilePixelRatio?a.tilePixelRatio:1,this.tileGrid=void 0!==a.tileGrid?a.tileGrid:null,this.a=new Gd(a.cacheSize),this.o=[0,0],this.Yb=""}function ce(a,b,c,d,e){if(b=a.jd(b),!b)return!1;for(var f,g,h=!0,i=d.b;i<=d.a;++i)for(var j=d.g;j<=d.f;++j)f=a.Ab(c,i,j),g=!1,Dd(b,f)&&(f=b.get(f),(g=2===f.V())&&(g=!1!==e(f))),g||(h=!1);return h}function de(a,b){a.Yb!==b&&(a.Yb=b,a.u())}function ee(a,b,c){var d=void 0!==c?c:a.f;if(c=a.fb(d),a.N&&d.g){var e=b;b=e[0],a=Vd(c,e),d=ae(d),Ca(d,a)?b=e:(e=Ya(d),a[0]+=e*Math.ceil((d[0]-a[0])/e),b=c.kd(a,b))}if(e=b[0],d=b[1],a=b[2],c.minZoom>e||e>c.maxZoom)c=!1;else{var f=c.O();c=!(c=f?Ud(c,f,e):c.a?c.a[e]:null)||Kc(c,d,a)}return c?b:null}function fe(a,b){O.call(this,a),this.tile=b}function ge(a){a=a?a:{},this.M=document.createElement("UL"),this.v=document.createElement("LI"),this.M.appendChild(this.v),vd(this.v,!1),this.f=void 0===a.collapsed||a.collapsed,this.o=void 0===a.collapsible||a.collapsible,this.o||(this.f=!1);var b=void 0!==a.className?a.className:"ol-attribution",c=void 0!==a.tipLabel?a.tipLabel:"Attributions",d=void 0!==a.collapseLabel?a.collapseLabel:"";this.N="string"==typeof d?gd("SPAN",{},d):d,d=void 0!==a.label?a.label:"i",this.R="string"==typeof d?gd("SPAN",{},d):d,c=gd("BUTTON",{type:"button",title:c},this.o&&!this.f?this.N:this.R),H(c,"click",this.Vl,this),b=gd("DIV",b+" ol-unselectable ol-control"+(this.f&&this.o?" ol-collapsed":"")+(this.o?"":" ol-uncollapsible"),this.M,c),Bd.call(this,{element:b,render:a.render?a.render:he,target:a.target}),this.B=!0,this.j={},this.l={},this.T={}}function he(a){if(a=a.frameState){var b,c,d,e,f,g,h,j,k,l,m,n=a.layerStatesArray,o=Aq({},a.attributions),p={},q=a.viewState.projection;for(c=0,b=n.length;c<b;c++)if((g=n[c].layer.da())&&(l=i(g).toString(),k=g.l))for(d=0,e=k.length;d<e;d++)if(h=k[d],j=i(h).toString(),!(j in o)){if(f=a.usedTiles[l]){var r=g.fb(q);a:{m=h;var s=q;if(m.b){var t=void 0,v=void 0,w=void 0,x=void 0;for(x in f)if(x in m.b)for(var y,w=f[x],t=0,v=m.b[x].length;t<v;++t){if(y=m.b[x][t],Mc(y,w)){m=!0;break a}var z=Ud(r,ae(s),parseInt(x,10)),A=z.a-z.b+1;if((w.b<z.b||w.a>z.a)&&(Mc(y,new Jc(u(w.b,A),u(w.a,A),w.g,w.f))||w.a-w.b+1>A&&Mc(y,z))){m=!0;break a}}m=!1}else m=!0}}else m=!1;m?(j in p&&delete p[j],o[j]=h):p[j]=h}b=[o,p],c=b[0],b=b[1];for(var C in this.j)C in c?(this.l[C]||(vd(this.j[C],!0),this.l[C]=!0),delete c[C]):C in b?(this.l[C]&&(vd(this.j[C],!1),delete this.l[C]),delete b[C]):(kd(this.j[C]),delete this.j[C],delete this.l[C]);for(C in c)d=document.createElement("LI"),d.innerHTML=c[C].a,this.M.appendChild(d),this.j[C]=d,this.l[C]=!0;for(C in b)d=document.createElement("LI"),d.innerHTML=b[C].a,vd(d,!1),this.M.appendChild(d),this.j[C]=d;C=!B(this.l)||!B(a.logos),this.B!=C&&(vd(this.element,C),this.B=C),C&&B(this.l)?this.element.classList.add("ol-logo-only"):this.element.classList.remove("ol-logo-only");var D;a=a.logos,C=this.T;for(D in C)D in a||(kd(C[D]),delete C[D]);for(var E in a)c=a[E],c instanceof HTMLElement&&(this.v.appendChild(c),C[E]=c),E in C||(D=new Image,D.src=E,""===c?c=D:(c=gd("A",{href:c}),c.appendChild(D)),this.v.appendChild(c),C[E]=c);vd(this.v,!B(a))}else this.B&&(vd(this.element,!1),this.B=!1)}function ie(a){a.element.classList.toggle("ol-collapsed"),a.f?ld(a.N,a.R):ld(a.R,a.N),a.f=!a.f}function je(a){a=a?a:{};var b=void 0!==a.className?a.className:"ol-rotate",c=void 0!==a.label?a.label:"";this.f=null,"string"==typeof c?this.f=gd("SPAN","ol-compass",c):(this.f=c,this.f.classList.add("ol-compass")),c=gd("BUTTON",{class:b+"-reset",type:"button",title:a.tipLabel?a.tipLabel:"Reset rotation"},this.f),H(c,"click",je.prototype.B,this),b=gd("DIV",b+" ol-unselectable ol-control",c),c=a.render?a.render:ke,this.o=a.resetNorth?a.resetNorth:void 0,Bd.call(this,{element:b,render:c,target:a.target}),this.j=void 0!==a.duration?a.duration:250,this.l=void 0===a.autoHide||a.autoHide,this.v=void 0,this.l&&this.element.classList.add("ol-hidden")}function ke(a){if(a=a.frameState){if(a=a.viewState.rotation,a!=this.v){var b="rotate("+a+"rad)";if(this.l){var c=this.element.classList.contains("ol-hidden");c||0!==a?c&&0!==a&&this.element.classList.remove("ol-hidden"):this.element.classList.add("ol-hidden")}this.f.style.msTransform=b,this.f.style.webkitTransform=b,this.f.style.transform=b}this.v=a}}function le(a){a=a?a:{};var b=void 0!==a.className?a.className:"ol-zoom",c=void 0!==a.delta?a.delta:1,d=void 0!==a.zoomOutLabel?a.zoomOutLabel:"",e=void 0!==a.zoomOutTipLabel?a.zoomOutTipLabel:"Zoom out",f=gd("BUTTON",{class:b+"-in",type:"button",title:void 0!==a.zoomInTipLabel?a.zoomInTipLabel:"Zoom in"},void 0!==a.zoomInLabel?a.zoomInLabel:"+");H(f,"click",le.prototype.l.bind(this,c)),d=gd("BUTTON",{class:b+"-out",type:"button",title:e},d),H(d,"click",le.prototype.l.bind(this,-c)),b=gd("DIV",b+" ol-unselectable ol-control",f,d),Bd.call(this,{element:b,target:a.target}),this.f=void 0!==a.duration?a.duration:250}function me(a){a=a?a:{};var b=new Pc;return(void 0!==a.zoom?a.zoom:1)&&b.push(new le(a.zoomOptions)),(void 0!==a.rotate?a.rotate:1)&&b.push(new je(a.rotateOptions)),(void 0!==a.attribution?a.attribution:1)&&b.push(new ge(a.attributionOptions)),b}function ne(){var a=dd().b,b=a.body;return!!(b.webkitRequestFullscreen||b.mozRequestFullScreen&&a.mozFullScreenEnabled||b.msRequestFullscreen&&a.msFullscreenEnabled||b.requestFullscreen&&a.fullscreenEnabled)}function oe(a){a.webkitRequestFullscreen?a.webkitRequestFullscreen():a.mozRequestFullScreen?a.mozRequestFullScreen():a.msRequestFullscreen?a.msRequestFullscreen():a.requestFullscreen&&a.requestFullscreen()}function pe(){var a=dd().b;return!!(a.webkitIsFullScreen||a.mozFullScreen||a.msFullscreenElement||a.fullscreenElement)}function qe(a){a=a?a:{},this.f=void 0!==a.className?a.className:"ol-full-screen";var b=void 0!==a.label?a.label:"";this.l="string"==typeof b?document.createTextNode(b):b,b=void 0!==a.labelActive?a.labelActive:"",this.o="string"==typeof b?document.createTextNode(b):b,b=a.tipLabel?a.tipLabel:"Toggle full-screen",b=gd("BUTTON",{class:this.f+"-"+pe(),type:"button",title:b},this.l),H(b,"click",this.M,this);var c=this.f+" ol-unselectable ol-control "+(ne()?"":"ol-unsupported"),b=gd("DIV",c,b);Bd.call(this,{element:b,target:a.target}),this.B=void 0!==a.keys&&a.keys,this.j=a.source}function re(a){a=a?a:{};var b=document.createElement("DIV");b.className=void 0!==a.className?a.className:"ol-mouse-position",Bd.call(this,{element:b,render:a.render?a.render:se,target:a.target}),H(this,X("projection"),this.Yl,this),a.coordinateFormat&&this.$h(a.coordinateFormat),a.projection&&this.dh(nb(a.projection)),this.v=void 0!==a.undefinedHTML?a.undefinedHTML:"",this.j=b.innerHTML,this.o=this.l=this.f=null}function se(a){a=a.frameState,a?this.f!=a.viewState.projection&&(this.f=a.viewState.projection,this.l=null):this.f=null,te(this,this.o)}function te(a,b){var c=a.v;if(b&&a.f){if(!a.l){var d=a.bh();a.l=d?qb(a.f,d):rb}(d=a.a.Ma(b))&&(a.l(d,d),c=(c=a.xg())?c(d):d.toString())}a.j&&c==a.j||(a.element.innerHTML=c,a.j=c)}function ue(a,b){var c=a;b&&(c=l(a,b)),!g(nq.setImmediate)||nq.Window&&nq.Window.prototype&&!Yc("Edge")&&nq.Window.prototype.setImmediate==nq.setImmediate?(gr||(gr=ve()),gr(c)):nq.setImmediate(c)}function ve(){var a=nq.MessageChannel;if("undefined"==typeof a&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!Yc("Presto")&&(a=function(){var a=document.createElement("IFRAME");a.style.display="none",a.src="",document.documentElement.appendChild(a);var b=a.contentWindow,a=b.document;a.open(),a.write(""),a.close();var c="callImmediate"+Math.random(),d="file:"==b.location.protocol?"*":b.location.protocol+"//"+b.location.host,a=l(function(a){"*"!=d&&a.origin!=d||a.data!=c||this.port1.onmessage()},this);b.addEventListener("message",a,!1),this.port1={},this.port2={postMessage:function(){b.postMessage(c,d)}}}),"undefined"!=typeof a&&!Yc("Trident")&&!Yc("MSIE")){var b=new a,c={},d=c;return b.port1.onmessage=function(){if(void 0!==c.next){c=c.next;var a=c.ng;c.ng=null,a()}},function(a){d.next={ng:a},d=d.next,b.port2.postMessage(0)}}return"undefined"!=typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(a){var b=document.createElement("SCRIPT");b.onreadystatechange=function(){b.onreadystatechange=null,b.parentNode.removeChild(b),b=null,a(),a=null},document.documentElement.appendChild(b)}:function(a){nq.setTimeout(a,0)}}function we(a,b,c){O.call(this,a),this.b=b,a=c?c:{},this.buttons=xe(a),this.pressure=ye(a,this.buttons),this.bubbles="bubbles"in a&&a.bubbles,this.cancelable="cancelable"in a&&a.cancelable,this.view="view"in a?a.view:null,this.detail="detail"in a?a.detail:null,this.screenX="screenX"in a?a.screenX:0,this.screenY="screenY"in a?a.screenY:0,this.clientX="clientX"in a?a.clientX:0,this.clientY="clientY"in a?a.clientY:0,this.button="button"in a?a.button:0,this.relatedTarget="relatedTarget"in a?a.relatedTarget:null,this.pointerId="pointerId"in a?a.pointerId:0,this.width="width"in a?a.width:0,this.height="height"in a?a.height:0,this.pointerType="pointerType"in a?a.pointerType:"",this.isPrimary="isPrimary"in a&&a.isPrimary,b.preventDefault&&(this.preventDefault=function(){b.preventDefault()})}function xe(a){if(a.buttons||hr)a=a.buttons;else switch(a.which){case 1:a=1;break;case 2:a=4;break;case 3:a=2;break;default:a=0}return a}function ye(a,b){var c=0;return c=a.pressure?a.pressure:b?.5:0}function ze(a,b){var c=document.createElement("CANVAS");return a&&(c.width=a),b&&(c.height=b),c.getContext("2d")}function Ae(a,b){var c=a.style;c.WebkitTransform=b,c.MozTransform=b,c.b=b,c.msTransform=b,c.transform=b,Tq&&ad("9.0")&&(a.style.transformOrigin="0 0")}function Be(a,b){var c;if(lr()){var d=Array(16);for(c=0;16>c;++c)d[c]=b[c].toFixed(6);Ae(a,"matrix3d("+d.join(",")+")")}else if(kr()){var d=[b[0],b[1],b[4],b[5],b[12],b[13]],e=Array(6);for(c=0;6>c;++c)e[c]=d[c].toFixed(6);Ae(a,"matrix("+e.join(",")+")")}else a.style.left=Math.round(b[12])+"px",a.style.top=Math.round(b[13])+"px"}function Ce(a,b){var c,d,e=mr.length;for(d=0;d<e;++d)try{if(c=a.getContext(mr[d],b))return c}catch(a){}return null}function De(a,b){this.b=a,this.c=b}function Ee(a){De.call(this,a,{mousedown:this.nl,mousemove:this.ol,mouseup:this.rl,mouseover:this.ql,mouseout:this.pl}),this.a=a.g,this.g=[]}function Fe(a,b){for(var c,d=a.g,e=b.clientX,f=b.clientY,g=0,h=d.length;g<h&&(c=d[g]);g++){var i=Math.abs(f-c[1]);if(25>=Math.abs(e-c[0])&&25>=i)return!0}return!1}function Ge(a){var b=Se(a,a),c=b.preventDefault;return b.preventDefault=function(){a.preventDefault(),c()},b.pointerId=1,b.isPrimary=!0,b.pointerType="mouse",b}function He(a){De.call(this,a,{MSPointerDown:this.wl,MSPointerMove:this.xl,MSPointerUp:this.Al,MSPointerOut:this.yl,MSPointerOver:this.zl,MSPointerCancel:this.vl,MSGotPointerCapture:this.tl,MSLostPointerCapture:this.ul}),this.a=a.g,this.g=["","unavailable","touch","pen","mouse"]}function Ie(a,b){var c=b;return f(b.pointerType)&&(c=Se(b,b),c.pointerType=a.g[b.pointerType]),c}function Je(a){De.call(this,a,{pointerdown:this.eo,pointermove:this.fo,pointerup:this.jo,pointerout:this.ho,pointerover:this.io,pointercancel:this.co,gotpointercapture:this.Ck,lostpointercapture:this.ml})}function Ke(a,b){De.call(this,a,{touchstart:this.mp,touchmove:this.lp,touchend:this.kp,touchcancel:this.jp}),this.a=a.g,this.l=b,this.g=void 0,this.i=0,this.f=void 0}function Le(a,b,c){return b=Se(b,c),b.pointerId=c.identifier+2,b.bubbles=!0,b.cancelable=!0,b.detail=a.i,b.button=0,b.buttons=1,b.width=c.webkitRadiusX||c.radiusX||0,b.height=c.webkitRadiusY||c.radiusY||0,b.pressure=c.webkitForce||c.force||.5,b.isPrimary=a.g===c.identifier,b.pointerType="touch",b.clientX=c.clientX,b.clientY=c.clientY,b.screenX=c.screenX,b.screenY=c.screenY,b}function Me(a,b,c){function d(){b.preventDefault()}var e,f,g=Array.prototype.slice.call(b.changedTouches),h=g.length;for(e=0;e<h;++e)f=Le(a,b,g[e]),f.preventDefault=d,c.call(a,b,f)}function Ne(a,b){var c=a.l.g,d=b.changedTouches[0];if(a.g===d.identifier){var e=[d.clientX,d.clientY];c.push(e),qq.setTimeout(function(){ca(c,e)},2500)}}function Oe(a){R.call(this),this.i=a,this.g={},this.c={},this.a=[],xr?Pe(this,new Je(this)):yr?Pe(this,new He(this)):(a=new Ee(this),Pe(this,a),wr&&Pe(this,new Ke(this,a))),a=this.a.length;for(var b,c=0;c<a;c++)b=this.a[c],Qe(this,Object.keys(b.c))}function Pe(a,b){var c=Object.keys(b.c);c&&(c.forEach(function(a){var c=b.c[a];c&&(this.c[a]=c.bind(b))},a),a.a.push(b))}function Qe(a,b){b.forEach(function(a){H(this.i,a,this.f,this)},a)}function Re(a,b){b.forEach(function(a){J(this.i,a,this.f,this)},a)}function Se(a,b){for(var c,d={},e=0,f=Kr.length;e<f;e++)c=Kr[e][0],d[c]=a[c]||b[c]||Kr[e][1];return d}function Te(a,b,c){a.out(b,c);var d=b.relatedTarget;d&&md(b.target,d)||(b.bubbles=!1,Ve(a,Ir,b,c))}function Ue(a,b,c){b.bubbles=!0,Ve(a,Fr,b,c);var d=b.relatedTarget;d&&md(b.target,d)||(b.bubbles=!1,Ve(a,Hr,b,c))}function Ve(a,b,c,d){a.b(new we(b,d,c))}function We(a,b){a.b(new we(b.type,b,b))}function Xe(a,b,c,d,e){Ad.call(this,a,b,e),this.originalEvent=c,this.pixel=b.Nd(c),this.coordinate=b.Ma(this.pixel),this.dragging=void 0!==d&&d}function Ye(a,b,c,d,e){Xe.call(this,a,b,c.b,d,e),this.b=c}function Ze(a){R.call(this),this.f=a,this.l=0,this.o=!1,this.c=[],this.g=null,a=this.f.a,this.U=0,this.v={},this.i=new Oe(a),this.a=null,this.j=H(this.i,Dr,this.Wk,this),this.s=H(this.i,Cr,this.Ho,this)}function $e(a,b){var c;c=new Ye(Mr,a.f,b),a.b(c),0!==a.l?(qq.clearTimeout(a.l),a.l=0,c=new Ye(Nr,a.f,b),a.b(c)):a.l=qq.setTimeout(function(){this.l=0;var a=new Ye(Lr,this.f,b);this.b(a)}.bind(a),250)}function _e(a,b){b.type==Rr||b.type==Sr?delete a.v[b.pointerId]:b.type==Qr&&(a.v[b.pointerId]=!0),a.U=Object.keys(a.v).length}function af(a){W.call(this);var b=Aq({},a);b.opacity=void 0!==a.opacity?a.opacity:1,b.visible=void 0===a.visible||a.visible,b.zIndex=void 0!==a.zIndex?a.zIndex:0,b.maxResolution=void 0!==a.maxResolution?a.maxResolution:1/0,b.minResolution=void 0!==a.minResolution?a.minResolution:0,this.C(b)}function bf(a){var b=a.Lb(),c=a.ff(),d=a.wb(),e=a.O(),f=a.Mb(),g=a.Ib(),h=a.Jb();return{layer:a,opacity:q(b,0,1),R:c,visible:d,Lc:!0,extent:e,zIndex:f,maxResolution:g,minResolution:Math.max(h,0)}}function cf(){}function df(a,b,c,d,e,f){O.call(this,a,b),this.vectorContext=c,this.frameState=d,this.context=e,this.glContext=f}function ef(a){var b=Aq({},a);delete b.source,af.call(this,b),this.v=this.j=this.o=null,a.map&&this.setMap(a.map),H(this,X("source"),this.bl,this),this.Ac(a.source?a.source:null)}function ff(a,b){return a.visible&&b>=a.minResolution&&b<a.maxResolution}function gf(a,b,c,d,e){R.call(this),this.l=e,this.extent=a,this.f=c,this.resolution=b,this.state=d}function hf(a){a.b("change")}function jf(a,b,c,d,e,f,g,h){return Db(a),0===b&&0===c||Gb(a,b,c),1==d&&1==e||Hb(a,d,e),0!==f&&Ib(a,f),0===g&&0===h||Gb(a,g,h),a}function kf(a,b){return a[0]==b[0]&&a[1]==b[1]&&a[4]==b[4]&&a[5]==b[5]&&a[12]==b[12]&&a[13]==b[13]}function lf(a,b,c){var d=a[1],e=a[5],f=a[13],g=b[0];return b=b[1],c[0]=a[0]*g+a[4]*b+a[12],c[1]=d*g+e*b+f,c}function mf(a){T.call(this),this.a=a}function nf(a,b){var c=b.V();return 2!=c&&3!=c&&H(b,"change",a.Im,a),0==c&&(b.load(),c=b.V()),2==c}function of(a){var b=a.a;b.wb()&&"ready"==b.ff()&&a.u()}function pf(a,b){b.vh()&&a.postRenderFunctions.push(function(a,b,c){b=i(a).toString(),a.Gc(c.viewState.projection,c.usedTiles[b])}.bind(null,b))}function qf(a,b){if(b){var c,d,e;for(d=0,e=b.length;d<e;++d)c=b[d],a[i(c).toString()]=c}}function rf(a,b){var c=b.R;void 0!==c&&("string"==typeof c?a.logos[c]="":h(c)&&(a.logos[c.src]=c.href))}function sf(a,b,c,d){b=i(b).toString(),c=c.toString(),b in a?c in a[b]?(a=a[b][c],d.b<a.b&&(a.b=d.b),d.a>a.a&&(a.a=d.a),d.g<a.g&&(a.g=d.g),d.f>a.f&&(a.f=d.f)):a[b][c]=d:(a[b]={},a[b][c]=d)}function tf(a,b,c){return[b*(Math.round(a[0]/b)+c[0]%2/2),b*(Math.round(a[1]/b)+c[1]%2/2)]}function uf(a,b,c,d,e,f,g,h,j,k){var l=i(b).toString();l in a.wantedTiles||(a.wantedTiles[l]={});var m=a.wantedTiles[l];a=a.tileQueue;var n,o,p,q,r,s,t=c.minZoom;for(s=g;s>=t;--s)for(o=Ud(c,f,s,o),p=c.$(s),q=o.b;q<=o.a;++q)for(r=o.g;r<=o.f;++r)g-s<=h?(n=b.Wb(s,q,r,d,e),0==n.V()&&(m[n.ja.toString()]=!0,n.gb()in a.g||a.f([n,l,Vd(c,n.ja),p])),void 0!==j&&j.call(k,n)):b.Uf(s,q,r,e)}function vf(a){this.v=a.opacity,this.U=a.rotateWithView,this.j=a.rotation,this.i=a.scale,this.M=a.snapToPixel}function wf(a){a=a||{},this.c=void 0!==a.anchor?a.anchor:[.5,.5],this.f=null,this.a=void 0!==a.anchorOrigin?a.anchorOrigin:"top-left",this.o=void 0!==a.anchorXUnits?a.anchorXUnits:"fraction",this.s=void 0!==a.anchorYUnits?a.anchorYUnits:"fraction";var b=void 0!==a.crossOrigin?a.crossOrigin:null,c=void 0!==a.img?a.img:null,d=void 0!==a.imgSize?a.imgSize:null,e=a.src;void 0!==e&&0!==e.length||!c||(e=c.src||i(c).toString());var f=void 0!==a.src?0:2,g=void 0!==a.color?Uc(a.color):null,h=zf.Ub(),j=h.get(e,b,g);j||(j=new xf(c,e,d,b,f,g),h.set(e,b,g,j)),this.b=j,this.N=void 0!==a.offset?a.offset:[0,0],this.g=void 0!==a.offsetOrigin?a.offsetOrigin:"top-left",this.l=null,this.B=void 0!==a.size?a.size:null,vf.call(this,{opacity:void 0!==a.opacity?a.opacity:1,rotation:void 0!==a.rotation?a.rotation:0,scale:void 0!==a.scale?a.scale:1,snapToPixel:void 0===a.snapToPixel||a.snapToPixel,rotateWithView:void 0!==a.rotateWithView&&a.rotateWithView})}function xf(a,b,c,d,e,f){R.call(this),this.o=null,this.a=a?a:new Image,null!==d&&(this.a.crossOrigin=d),this.c=f?document.createElement("CANVAS"):null,this.l=f,this.i=null,this.f=e,this.g=c,this.j=b,this.s=!1,2==this.f&&yf(this)}function yf(a){var b=ze(1,1);try{b.drawImage(a.a,0,0),b.getImageData(0,0,1,1)}catch(b){a.s=!0}}function zf(){this.b={},this.a=0}function Af(a,b){this.i=b,this.g={},this.s={}}function Bf(a){var b=a.viewState,c=a.coordinateToPixelMatrix;jf(c,a.size[0]/2,a.size[1]/2,1/b.resolution,-1/b.resolution,-b.rotation,-b.center[0],-b.center[1]),Fb(c,a.pixelToCoordinateMatrix)}function Cf(){var a=zf.Ub();if(32<a.a){var b,c,d=0;for(b in a.b)c=a.b[b],0!==(3&d++)||S(c)||(delete a.b[b],--a.a)}}function Df(a,b){var c=i(b).toString();if(c in a.g)return a.g[c];var d=a.Te(b);return a.g[c]=d,a.s[c]=H(d,"change",a.Nk,a),d}function Ef(a,b){for(var c in a.g)if(!(c in b.layerStates)){b.postRenderFunctions.push(a.No.bind(a));break}}function Ff(a,b){return a.zIndex-b.zIndex}function Gf(a,b){this.j=a,this.l=b,this.b=[],this.a=[],this.g={}}function Hf(a){var b=a.b,c=a.a,d=b[0];return 1==b.length?(b.length=0,c.length=0):(b[0]=b.pop(),c[0]=c.pop(),If(a,0)),b=a.l(d),delete a.g[b],d}function If(a,b){for(var c=a.b,d=a.a,e=c.length,f=c[b],g=d[b],h=b;b<e>>1;){var i=2*b+1,j=2*b+2,i=j<e&&d[j]<d[i]?j:i;c[b]=c[i],d[b]=d[i],b=i}c[b]=f,d[b]=g,Jf(a,h,b)}function Jf(a,b,c){var d=a.b;a=a.a;for(var e=d[c],f=a[c];c>b;){var g=c-1>>1;if(!(a[g]>f))break;d[c]=d[g],a[c]=a[g],c=g}d[c]=e,a[c]=f}function Kf(a){var b,c,d,e=a.j,f=a.b,g=a.a,h=0,i=f.length;for(c=0;c<i;++c)b=f[c],d=e(b),1/0==d?delete a.g[a.l(b)]:(g[h]=d,f[h++]=b);for(f.length=h,g.length=h,e=(a.b.length>>1)-1;0<=e;e--)If(a,e)}function Lf(a,b){Gf.call(this,function(b){return a.apply(null,b)},function(a){return a[0].gb()}),this.s=b,this.i=0,this.c={}}function Mf(a,b,c){for(var d,e,f=0;a.i<b&&f<c&&0<a.rc();)d=Hf(a)[0],e=d.gb(),0!==d.V()||e in a.c||(a.c[e]=!0,++a.i,++f,d.load())}function Nf(a,b,c){this.f=a,this.g=b,this.i=c,this.b=[],this.a=this.c=0}function Of(a,b){var c=a.f,d=a.a,e=a.g-d,f=Math.log(a.g/a.a)/a.f;return Gc({source:b,duration:f,easing:function(a){return d*(Math.exp(c*a*f)-1)/e}})}function Pf(a){W.call(this),this.v=null,this.i(!0),this.handleEvent=a.handleEvent}function Qf(a,b,c,d,e){if(void 0!==c){var f=b.Ka(),g=b.bb();void 0!==f&&g&&e&&0<e&&(a.Va(Hc({rotation:f,duration:e,easing:Cc})),d&&a.Va(Gc({source:g,duration:e,easing:Cc}))),b.rotate(c,d)}}function Rf(a,b,c,d,e){var f=b.$();c=b.constrainResolution(f,c,0),Sf(a,b,c,d,e)}function Sf(a,b,c,d,e){if(c){var f=b.$(),g=b.bb();if(void 0!==f&&g&&c!==f&&e&&0<e&&(a.Va(Ic({resolution:f,duration:e,easing:Cc})),d&&a.Va(Gc({source:g,duration:e,easing:Cc}))),d){var h;a=b.bb(),e=b.$(),void 0!==a&&void 0!==e&&(h=[d[0]-c*(d[0]-a[0])/e,d[1]-c*(d[1]-a[1])/e]),b.jb(h)}b.Qb(c)}}function Tf(a){a=a?a:{},this.a=a.delta?a.delta:1,Pf.call(this,{handleEvent:Uf}),this.c=void 0!==a.duration?a.duration:250}function Uf(a){var b=!1,c=a.originalEvent;if(a.type==Nr){var b=a.map,d=a.coordinate,c=c.shiftKey?-this.a:this.a,e=b.aa();Rf(b,e,c,d,this.c),a.preventDefault(),b=!0}return!b}function Vf(a){return a=a.originalEvent,a.altKey&&!(a.metaKey||a.ctrlKey)&&a.shiftKey}function Wf(a){return a=a.originalEvent,0==a.button&&!(Wq&&qr&&a.ctrlKey)}function Xf(a){return"pointermove"==a.type}function Yf(a){return a.type==Lr}function Zf(a){return a=a.originalEvent,!a.altKey&&!(a.metaKey||a.ctrlKey)&&!a.shiftKey}function $f(a){return a=a.originalEvent,!a.altKey&&!(a.metaKey||a.ctrlKey)&&a.shiftKey}function _f(a){return a=a.originalEvent.target.tagName,"INPUT"!==a&&"SELECT"!==a&&"TEXTAREA"!==a}function ag(a){return"mouse"==a.b.pointerType}function bg(a){return a=a.b,a.isPrimary&&0===a.button}function cg(a){a=a?a:{},Pf.call(this,{handleEvent:a.handleEvent?a.handleEvent:eg
}),this.Ke=a.handleDownEvent?a.handleDownEvent:cb,this.Le=a.handleDragEvent?a.handleDragEvent:n,this.Hi=a.handleMoveEvent?a.handleMoveEvent:n,this.oj=a.handleUpEvent?a.handleUpEvent:cb,this.M=!1,this.ea={},this.o=[]}function dg(a){for(var b=a.length,c=0,d=0,e=0;e<b;e++)c+=a[e].clientX,d+=a[e].clientY;return[c/b,d/b]}function eg(a){if(!(a instanceof Ye))return!0;var b=!1,c=a.type;return c!==Qr&&c!==Or&&c!==Rr||(c=a.b,a.type==Rr?delete this.ea[c.pointerId]:a.type==Qr?this.ea[c.pointerId]=c:c.pointerId in this.ea&&(this.ea[c.pointerId]=c),this.o=A(this.ea)),this.M&&(a.type==Or?this.Le(a):a.type==Rr&&(this.M=this.oj(a))),a.type==Qr?(this.M=a=this.Ke(a),b=this.Bc(a)):a.type==Pr&&this.Hi(a),!b}function fg(a){cg.call(this,{handleDownEvent:ig,handleDragEvent:gg,handleUpEvent:hg}),a=a?a:{},this.a=a.kinetic,this.c=this.j=null,this.B=a.condition?a.condition:Zf,this.s=!1}function gg(a){var b=dg(this.o);if(this.a&&this.a.b.push(b[0],b[1],Date.now()),this.c){var c=this.c[0]-b[0],d=b[1]-this.c[1];a=a.map;var e=a.aa(),f=e.V(),d=c=[c,d],g=f.resolution;d[0]*=g,d[1]*=g,ua(c,f.rotation),pa(c,f.center),c=e.Kd(c),a.render(),e.jb(c)}this.c=b}function hg(a){a=a.map;var b=a.aa();if(0===this.o.length){var c;if(c=!this.s&&this.a)if(c=this.a,6>c.b.length)c=!1;else{var d=Date.now()-c.i,e=c.b.length-3;if(c.b[e+2]<d)c=!1;else{for(var f=e-3;0<f&&c.b[f+2]>d;)f-=3;var d=c.b[e+2]-c.b[f+2],g=c.b[e]-c.b[f],e=c.b[e+1]-c.b[f+1];c.c=Math.atan2(e,g),c.a=Math.sqrt(g*g+e*e)/d,c=c.a>c.g}}return c&&(c=this.a,c=(c.g-c.a)/c.f,e=this.a.c,f=b.bb(),this.j=Of(this.a,f),a.Va(this.j),f=a.Da(f),c=a.Ma([f[0]-c*Math.cos(e),f[1]-c*Math.sin(e)]),c=b.Kd(c),b.jb(c)),Ac(b,-1),a.render(),!1}return this.c=null,!0}function ig(a){if(0<this.o.length&&this.B(a)){var b=a.map,c=b.aa();return this.c=null,this.M||Ac(c,1),b.render(),this.j&&ca(b.R,this.j)&&(c.jb(a.frameState.viewState.center),this.j=null),this.a&&(a=this.a,a.b.length=0,a.c=0,a.a=0),this.s=1<this.o.length,!0}return!1}function jg(a){a=a?a:{},cg.call(this,{handleDownEvent:mg,handleDragEvent:kg,handleUpEvent:lg}),this.c=a.condition?a.condition:Vf,this.a=void 0,this.j=void 0!==a.duration?a.duration:250}function kg(a){if(ag(a)){var b=a.map,c=b.$a();if(a=a.pixel,c=Math.atan2(c[1]/2-a[1],a[0]-c[0]/2),void 0!==this.a){a=c-this.a;var d=b.aa(),e=d.Ka();b.render(),Qf(b,d,e-a)}this.a=c}}function lg(a){if(!ag(a))return!0;a=a.map;var b=a.aa();Ac(b,-1);var c=b.Ka(),d=this.j,c=b.constrainRotation(c,0);return Qf(a,b,c,void 0,d),!1}function mg(a){return!!(ag(a)&&Wf(a)&&this.c(a))&&(a=a.map,Ac(a.aa(),1),a.render(),this.a=void 0,!0)}function ng(a){this.f=null,this.a=document.createElement("div"),this.a.style.position="absolute",this.a.className="ol-box "+a,this.g=this.c=this.b=null}function og(a){var b=a.c,c=a.g;a=a.a.style,a.left=Math.min(b[0],c[0])+"px",a.top=Math.min(b[1],c[1])+"px",a.width=Math.abs(c[0]-b[0])+"px",a.height=Math.abs(c[1]-b[1])+"px"}function pg(a){var b=a.c,c=a.g,b=[b,[b[0],c[1]],c,[c[0],b[1]]].map(a.b.Ma,a.b);b[4]=b[0].slice(),a.f?a.f.ma([b]):a.f=new oc([b])}function qg(a,b,c){O.call(this,a),this.coordinate=b,this.mapBrowserEvent=c}function rg(a){cg.call(this,{handleDownEvent:vg,handleDragEvent:tg,handleUpEvent:ug}),a=a?a:{},this.a=new ng(a.className||"ol-dragbox"),this.c=null,this.N=a.condition?a.condition:bb,this.B=a.boxEndCondition?a.boxEndCondition:sg}function sg(a,b,c){return a=c[0]-b[0],b=c[1]-b[1],64<=a*a+b*b}function tg(a){if(ag(a)){var b=this.a,c=a.pixel;b.c=this.c,b.g=c,pg(b),og(b),this.b(new qg("boxdrag",a.coordinate,a))}}function ug(a){return!ag(a)||(this.a.setMap(null),this.B(a,this.c,a.pixel)&&(this.s(a),this.b(new qg("boxend",a.coordinate,a))),!1)}function vg(a){if(ag(a)&&Wf(a)&&this.N(a)){this.c=a.pixel,this.a.setMap(a.map);var b=this.a,c=this.c;return b.c=this.c,b.g=c,pg(b),og(b),this.b(new qg("boxstart",a.coordinate,a)),!0}return!1}function wg(a){a=a?a:{};var b=a.condition?a.condition:$f;this.j=void 0!==a.duration?a.duration:200,this.R=void 0!==a.out&&a.out,rg.call(this,{condition:b,className:a.className||"ol-dragzoom"})}function xg(a){Pf.call(this,{handleEvent:yg}),a=a||{},this.a=function(a){return Zf(a)&&_f(a)},this.c=void 0!==a.condition?a.condition:this.a,this.o=void 0!==a.duration?a.duration:100,this.j=void 0!==a.pixelDelta?a.pixelDelta:128}function yg(a){var b=!1;if("keydown"==a.type){var c=a.originalEvent.keyCode;if(this.c(a)&&(40==c||37==c||39==c||38==c)){var d=a.map,b=d.aa(),e=b.$()*this.j,f=0,g=0;40==c?g=-e:37==c?f=-e:39==c?f=e:g=e,c=[f,g],ua(c,b.Ka()),e=this.o,(f=b.bb())&&(e&&0<e&&d.Va(Gc({source:f,duration:e,easing:Ec})),d=b.Kd([f[0]+c[0],f[1]+c[1]]),b.jb(d)),a.preventDefault(),b=!0}}return!b}function zg(a){Pf.call(this,{handleEvent:Ag}),a=a?a:{},this.c=a.condition?a.condition:_f,this.a=a.delta?a.delta:1,this.o=void 0!==a.duration?a.duration:100}function Ag(a){var b=!1;if("keydown"==a.type||"keypress"==a.type){var c=a.originalEvent.charCode;if(this.c(a)&&(43==c||45==c)){b=a.map,c=43==c?this.a:-this.a,b.render();var d=b.aa();Rf(b,d,c,void 0,this.o),a.preventDefault(),b=!0}}return!b}function Bg(a){Pf.call(this,{handleEvent:Cg}),a=a||{},this.c=0,this.M=void 0!==a.duration?a.duration:250,this.s=void 0===a.useAnchor||a.useAnchor,this.a=null,this.j=this.o=void 0}function Cg(a){var b=!1;if("wheel"==a.type||"mousewheel"==a.type){var b=a.map,c=a.originalEvent;this.s&&(this.a=a.coordinate);var d;"wheel"==a.type?(d=c.deltaY,or&&c.deltaMode===qq.WheelEvent.DOM_DELTA_PIXEL&&(d/=rr),c.deltaMode===qq.WheelEvent.DOM_DELTA_LINE&&(d*=40)):"mousewheel"==a.type&&(d=-c.wheelDeltaY,pr&&(d/=3)),this.c+=d,void 0===this.o&&(this.o=Date.now()),d=Math.max(80-(Date.now()-this.o),0),qq.clearTimeout(this.j),this.j=qq.setTimeout(this.B.bind(this,b),d),a.preventDefault(),b=!0}return!b}function Dg(a){cg.call(this,{handleDownEvent:Gg,handleDragEvent:Eg,handleUpEvent:Fg}),a=a||{},this.c=null,this.j=void 0,this.a=!1,this.s=0,this.N=void 0!==a.threshold?a.threshold:.3,this.B=void 0!==a.duration?a.duration:250}function Eg(a){var b=0,c=this.o[0],d=this.o[1],c=Math.atan2(d.clientY-c.clientY,d.clientX-c.clientX);void 0!==this.j&&(b=c-this.j,this.s+=b,!this.a&&Math.abs(this.s)>this.N&&(this.a=!0)),this.j=c,a=a.map,c=a.a.getBoundingClientRect(),d=dg(this.o),d[0]-=c.left,d[1]-=c.top,this.c=a.Ma(d),this.a&&(c=a.aa(),d=c.Ka(),a.render(),Qf(a,c,d+b,this.c))}function Fg(a){if(2>this.o.length){a=a.map;var b=a.aa();if(Ac(b,-1),this.a){var c=b.Ka(),d=this.c,e=this.B,c=b.constrainRotation(c,0);Qf(a,b,c,d,e)}return!1}return!0}function Gg(a){return 2<=this.o.length&&(a=a.map,this.c=null,this.j=void 0,this.a=!1,this.s=0,this.M||Ac(a.aa(),1),a.render(),!0)}function Hg(a){cg.call(this,{handleDownEvent:Kg,handleDragEvent:Ig,handleUpEvent:Jg}),a=a?a:{},this.c=null,this.s=void 0!==a.duration?a.duration:400,this.a=void 0,this.j=1}function Ig(a){var b=1,c=this.o[0],d=this.o[1],e=c.clientX-d.clientX,c=c.clientY-d.clientY,e=Math.sqrt(e*e+c*c);void 0!==this.a&&(b=this.a/e),this.a=e,1!=b&&(this.j=b),a=a.map;var e=a.aa(),c=e.$(),d=a.a.getBoundingClientRect(),f=dg(this.o);f[0]-=d.left,f[1]-=d.top,this.c=a.Ma(f),a.render(),Sf(a,e,c*b,this.c)}function Jg(a){if(2>this.o.length){a=a.map;var b=a.aa();Ac(b,-1);var c=b.$(),d=this.c,e=this.s,c=b.constrainResolution(c,0,this.j-1);return Sf(a,b,c,d,e),!1}return!0}function Kg(a){return 2<=this.o.length&&(a=a.map,this.c=null,this.a=void 0,this.j=1,this.M||Ac(a.aa(),1),a.render(),!0)}function Lg(a){a=a?a:{};var b=new Pc,c=new Nf(-.005,.05,100);return(void 0!==a.altShiftDragRotate?a.altShiftDragRotate:1)&&b.push(new jg),(void 0!==a.doubleClickZoom?a.doubleClickZoom:1)&&b.push(new Tf({delta:a.zoomDelta,duration:a.zoomDuration})),(void 0!==a.dragPan?a.dragPan:1)&&b.push(new fg({kinetic:c})),(void 0!==a.pinchRotate?a.pinchRotate:1)&&b.push(new Dg),(void 0!==a.pinchZoom?a.pinchZoom:1)&&b.push(new Hg({duration:a.zoomDuration})),(void 0!==a.keyboard?a.keyboard:1)&&(b.push(new xg),b.push(new zg({delta:a.zoomDelta,duration:a.zoomDuration}))),(void 0!==a.mouseWheelZoom?a.mouseWheelZoom:1)&&b.push(new Bg({duration:a.zoomDuration})),(void 0!==a.shiftDragZoom?a.shiftDragZoom:1)&&b.push(new wg({duration:a.zoomDuration})),b}function Mg(a){var b=a||{};a=Aq({},b),delete a.layers,b=b.layers,af.call(this,a),this.f=[],this.a={},H(this,X("layers"),this.Pk,this),b?Array.isArray(b)&&(b=new Pc(b.slice())):b=new Pc,this.jh(b)}function Ng(a){eb.call(this,{code:a,units:"m",extent:Vr,global:!0,worldExtent:Wr})}function Og(a,b,c){var d=a.length;c=1<c?c:2,void 0===b&&(b=2<c?a.slice():Array(d));for(var e=0;e<d;e+=c)b[e]=6378137*Math.PI*a[e]/180,b[e+1]=6378137*Math.log(Math.tan(Math.PI*(a[e+1]+90)/360));return b}function Pg(a,b,c){var d=a.length;c=1<c?c:2,void 0===b&&(b=2<c?a.slice():Array(d));for(var e=0;e<d;e+=c)b[e]=180*a[e]/(6378137*Math.PI),b[e+1]=360*Math.atan(Math.exp(a[e+1]/6378137))/Math.PI-90;return b}function Qg(a,b){eb.call(this,{code:a,units:"degrees",extent:Zr,axisOrientation:b,global:!0,metersPerUnit:$r,worldExtent:Zr})}function Rg(){fb(Xr),fb(_r),gb()}function Sg(a){ef.call(this,a?a:{})}function Tg(a){a=a?a:{};var b=Aq({},a);delete b.preload,delete b.useInterimTilesOnError,ef.call(this,b),this.l(void 0!==a.preload?a.preload:0),this.B(void 0===a.useInterimTilesOnError||a.useInterimTilesOnError)}function Ug(a,b,c,d){0!==b&&(a.translate(c,d),a.rotate(b),a.translate(-c,-d))}function Vg(a){a=a||{},this.b=void 0!==a.color?a.color:null,this.a=void 0}function Wg(a){return void 0===a.a&&(a.a=a.b instanceof CanvasPattern||a.b instanceof CanvasGradient?i(a.b).toString():"f"+(a.b?Vc(a.b):"-")),a.a}function Xg(){this.a=-1}function Yg(){this.a=-1,this.a=64,this.b=Array(4),this.c=Array(this.a),this.f=this.g=0,this.b[0]=1732584193,this.b[1]=4023233417,this.b[2]=2562383102,this.b[3]=271733878,this.f=this.g=0}function Zg(a,b,c){c||(c=0);var d=Array(16);if(e(b))for(var f=0;16>f;++f)d[f]=b.charCodeAt(c++)|b.charCodeAt(c++)<<8|b.charCodeAt(c++)<<16|b.charCodeAt(c++)<<24;else for(f=0;16>f;++f)d[f]=b[c++]|b[c++]<<8|b[c++]<<16|b[c++]<<24;b=a.b[0],c=a.b[1];var f=a.b[2],g=a.b[3],h=0,h=b+(g^c&(f^g))+d[0]+3614090360&4294967295;b=c+(h<<7&4294967295|h>>>25),h=g+(f^b&(c^f))+d[1]+3905402710&4294967295,g=b+(h<<12&4294967295|h>>>20),h=f+(c^g&(b^c))+d[2]+606105819&4294967295,f=g+(h<<17&4294967295|h>>>15),h=c+(b^f&(g^b))+d[3]+3250441966&4294967295,c=f+(h<<22&4294967295|h>>>10),h=b+(g^c&(f^g))+d[4]+4118548399&4294967295,b=c+(h<<7&4294967295|h>>>25),h=g+(f^b&(c^f))+d[5]+1200080426&4294967295,g=b+(h<<12&4294967295|h>>>20),h=f+(c^g&(b^c))+d[6]+2821735955&4294967295,f=g+(h<<17&4294967295|h>>>15),h=c+(b^f&(g^b))+d[7]+4249261313&4294967295,c=f+(h<<22&4294967295|h>>>10),h=b+(g^c&(f^g))+d[8]+1770035416&4294967295,b=c+(h<<7&4294967295|h>>>25),h=g+(f^b&(c^f))+d[9]+2336552879&4294967295,g=b+(h<<12&4294967295|h>>>20),h=f+(c^g&(b^c))+d[10]+4294925233&4294967295,f=g+(h<<17&4294967295|h>>>15),h=c+(b^f&(g^b))+d[11]+2304563134&4294967295,c=f+(h<<22&4294967295|h>>>10),h=b+(g^c&(f^g))+d[12]+1804603682&4294967295,b=c+(h<<7&4294967295|h>>>25),h=g+(f^b&(c^f))+d[13]+4254626195&4294967295,g=b+(h<<12&4294967295|h>>>20),h=f+(c^g&(b^c))+d[14]+2792965006&4294967295,f=g+(h<<17&4294967295|h>>>15),h=c+(b^f&(g^b))+d[15]+1236535329&4294967295,c=f+(h<<22&4294967295|h>>>10),h=b+(f^g&(c^f))+d[1]+4129170786&4294967295,b=c+(h<<5&4294967295|h>>>27),h=g+(c^f&(b^c))+d[6]+3225465664&4294967295,g=b+(h<<9&4294967295|h>>>23),h=f+(b^c&(g^b))+d[11]+643717713&4294967295,f=g+(h<<14&4294967295|h>>>18),h=c+(g^b&(f^g))+d[0]+3921069994&4294967295,c=f+(h<<20&4294967295|h>>>12),h=b+(f^g&(c^f))+d[5]+3593408605&4294967295,b=c+(h<<5&4294967295|h>>>27),h=g+(c^f&(b^c))+d[10]+38016083&4294967295,g=b+(h<<9&4294967295|h>>>23),h=f+(b^c&(g^b))+d[15]+3634488961&4294967295,f=g+(h<<14&4294967295|h>>>18),h=c+(g^b&(f^g))+d[4]+3889429448&4294967295,c=f+(h<<20&4294967295|h>>>12),h=b+(f^g&(c^f))+d[9]+568446438&4294967295,b=c+(h<<5&4294967295|h>>>27),h=g+(c^f&(b^c))+d[14]+3275163606&4294967295,g=b+(h<<9&4294967295|h>>>23),h=f+(b^c&(g^b))+d[3]+4107603335&4294967295,f=g+(h<<14&4294967295|h>>>18),h=c+(g^b&(f^g))+d[8]+1163531501&4294967295,c=f+(h<<20&4294967295|h>>>12),h=b+(f^g&(c^f))+d[13]+2850285829&4294967295,b=c+(h<<5&4294967295|h>>>27),h=g+(c^f&(b^c))+d[2]+4243563512&4294967295,g=b+(h<<9&4294967295|h>>>23),h=f+(b^c&(g^b))+d[7]+1735328473&4294967295,f=g+(h<<14&4294967295|h>>>18),h=c+(g^b&(f^g))+d[12]+2368359562&4294967295,c=f+(h<<20&4294967295|h>>>12),h=b+(c^f^g)+d[5]+4294588738&4294967295,b=c+(h<<4&4294967295|h>>>28),h=g+(b^c^f)+d[8]+2272392833&4294967295,g=b+(h<<11&4294967295|h>>>21),h=f+(g^b^c)+d[11]+1839030562&4294967295,f=g+(h<<16&4294967295|h>>>16),h=c+(f^g^b)+d[14]+4259657740&4294967295,c=f+(h<<23&4294967295|h>>>9),h=b+(c^f^g)+d[1]+2763975236&4294967295,b=c+(h<<4&4294967295|h>>>28),h=g+(b^c^f)+d[4]+1272893353&4294967295,g=b+(h<<11&4294967295|h>>>21),h=f+(g^b^c)+d[7]+4139469664&4294967295,f=g+(h<<16&4294967295|h>>>16),h=c+(f^g^b)+d[10]+3200236656&4294967295,c=f+(h<<23&4294967295|h>>>9),h=b+(c^f^g)+d[13]+681279174&4294967295,b=c+(h<<4&4294967295|h>>>28),h=g+(b^c^f)+d[0]+3936430074&4294967295,g=b+(h<<11&4294967295|h>>>21),h=f+(g^b^c)+d[3]+3572445317&4294967295,f=g+(h<<16&4294967295|h>>>16),h=c+(f^g^b)+d[6]+76029189&4294967295,c=f+(h<<23&4294967295|h>>>9),h=b+(c^f^g)+d[9]+3654602809&4294967295,b=c+(h<<4&4294967295|h>>>28),h=g+(b^c^f)+d[12]+3873151461&4294967295,g=b+(h<<11&4294967295|h>>>21),h=f+(g^b^c)+d[15]+530742520&4294967295,f=g+(h<<16&4294967295|h>>>16),h=c+(f^g^b)+d[2]+3299628645&4294967295,c=f+(h<<23&4294967295|h>>>9),h=b+(f^(c|~g))+d[0]+4096336452&4294967295,b=c+(h<<6&4294967295|h>>>26),h=g+(c^(b|~f))+d[7]+1126891415&4294967295,g=b+(h<<10&4294967295|h>>>22),h=f+(b^(g|~c))+d[14]+2878612391&4294967295,f=g+(h<<15&4294967295|h>>>17),h=c+(g^(f|~b))+d[5]+4237533241&4294967295,c=f+(h<<21&4294967295|h>>>11),h=b+(f^(c|~g))+d[12]+1700485571&4294967295,b=c+(h<<6&4294967295|h>>>26),h=g+(c^(b|~f))+d[3]+2399980690&4294967295,g=b+(h<<10&4294967295|h>>>22),h=f+(b^(g|~c))+d[10]+4293915773&4294967295,f=g+(h<<15&4294967295|h>>>17),h=c+(g^(f|~b))+d[1]+2240044497&4294967295,c=f+(h<<21&4294967295|h>>>11),h=b+(f^(c|~g))+d[8]+1873313359&4294967295,b=c+(h<<6&4294967295|h>>>26),h=g+(c^(b|~f))+d[15]+4264355552&4294967295,g=b+(h<<10&4294967295|h>>>22),h=f+(b^(g|~c))+d[6]+2734768916&4294967295,f=g+(h<<15&4294967295|h>>>17),h=c+(g^(f|~b))+d[13]+1309151649&4294967295,c=f+(h<<21&4294967295|h>>>11),h=b+(f^(c|~g))+d[4]+4149444226&4294967295,b=c+(h<<6&4294967295|h>>>26),h=g+(c^(b|~f))+d[11]+3174756917&4294967295,g=b+(h<<10&4294967295|h>>>22),h=f+(b^(g|~c))+d[2]+718787259&4294967295,f=g+(h<<15&4294967295|h>>>17),h=c+(g^(f|~b))+d[9]+3951481745&4294967295,a.b[0]=a.b[0]+b&4294967295,a.b[1]=a.b[1]+(f+(h<<21&4294967295|h>>>11))&4294967295,a.b[2]=a.b[2]+f&4294967295,a.b[3]=a.b[3]+g&4294967295}function $g(a,b){var c;void 0===c&&(c=b.length);for(var d=c-a.a,f=a.c,g=a.g,h=0;h<c;){if(0==g)for(;h<=d;)Zg(a,b,h),h+=a.a;if(e(b)){for(;h<c;)if(f[g++]=b.charCodeAt(h++),g==a.a){Zg(a,f),g=0;break}}else for(;h<c;)if(f[g++]=b[h++],g==a.a){Zg(a,f),g=0;break}}a.g=g,a.f+=c}function _g(a){a=a||{},this.b=void 0!==a.color?a.color:null,this.f=a.lineCap,this.g=void 0!==a.lineDash?a.lineDash:null,this.c=a.lineJoin,this.i=a.miterLimit,this.a=a.width,this.l=void 0}function ah(a){if(void 0===a.l){var b="s"+(a.b?Vc(a.b):"-")+","+(void 0!==a.f?a.f.toString():"-")+","+(a.g?a.g.toString():"-")+","+(void 0!==a.c?a.c:"-")+","+(void 0!==a.i?a.i.toString():"-")+","+(void 0!==a.a?a.a.toString():"-"),c=new Yg;$g(c,b),b=Array((56>c.g?c.a:2*c.a)-c.g),b[0]=128;for(var d=1;d<b.length-8;++d)b[d]=0;for(var e=8*c.f,d=b.length-8;d<b.length;++d)b[d]=255&e,e/=256;for($g(c,b),b=Array(16),d=e=0;4>d;++d)for(var f=0;32>f;f+=8)b[e++]=c.b[d]>>>f&255;if(8192>=b.length)c=String.fromCharCode.apply(null,b);else for(c="",d=0;d<b.length;d+=8192)e=Tc(b,d,d+8192),c+=String.fromCharCode.apply(null,e);a.l=c}return a.l}function bh(a){a=a||{},this.l=this.f=this.c=null,this.g=void 0!==a.fill?a.fill:null,this.b=void 0!==a.stroke?a.stroke:null,this.a=a.radius,this.B=[0,0],this.s=this.N=this.o=null;var b,c,d=a.atlasManager,e=null,f=0;this.b&&(c=Vc(this.b.b),f=this.b.a,void 0===f&&(f=1),e=this.b.g,sr||(e=null));var g=2*(this.a+f)+1;if(c={strokeStyle:c,wd:f,size:g,lineDash:e},void 0===d)d=ze(g,g),this.f=d.canvas,b=g=this.f.width,this.Bh(c,d,0,0),this.g?this.l=this.f:(d=ze(c.size,c.size),this.l=d.canvas,this.Ah(c,d,0,0));else{g=Math.round(g),(e=!this.g)&&(b=this.Ah.bind(this,c));var f=this.b?ah(this.b):"-",h=this.g?Wg(this.g):"-";this.c&&f==this.c[1]&&h==this.c[2]&&this.a==this.c[3]||(this.c=["c"+f+h+(void 0!==this.a?this.a.toString():"-"),f,h,this.a]),d=d.add(this.c[0],g,g,this.Bh.bind(this,c),b),this.f=d.image,this.B=[d.offsetX,d.offsetY],b=d.image.width,this.l=e?d.Ng:this.f}this.o=[g/2,g/2],this.N=[g,g],this.s=[b,b],vf.call(this,{opacity:1,rotateWithView:!1,rotation:0,scale:1,snapToPixel:void 0===a.snapToPixel||a.snapToPixel})}function ch(a){a=a||{},this.i=null,this.g=gh,void 0!==a.geometry&&this.Eh(a.geometry),this.c=void 0!==a.fill?a.fill:null,this.a=void 0!==a.image?a.image:null,this.f=void 0!==a.stroke?a.stroke:null,this.l=void 0!==a.text?a.text:null,this.b=a.zIndex}function dh(a){if(!g(a)){var b;b=Array.isArray(a)?a:[a],a=function(){return b}}return a}function eh(){if(!ds){var a=new Vg({color:"rgba(255,255,255,0.4)"}),b=new _g({color:"#3399CC",width:1.25});ds=[new ch({image:new bh({fill:a,stroke:b,radius:5}),fill:a,stroke:b})]}return ds}function fh(){var a={},b=[255,255,255,1],c=[0,153,255,1];return a.Polygon=[new ch({fill:new Vg({color:[255,255,255,.5]})})],a.MultiPolygon=a.Polygon,a.LineString=[new ch({stroke:new _g({color:b,width:5})}),new ch({stroke:new _g({color:c,width:3})})],a.MultiLineString=a.LineString,a.Circle=a.Polygon.concat(a.LineString),a.Point=[new ch({image:new bh({radius:6,fill:new Vg({color:c}),stroke:new _g({color:b,width:1.5})}),zIndex:1/0})],a.MultiPoint=a.Point,a.GeometryCollection=a.Polygon.concat(a.LineString,a.Point),a}function gh(a){return a.W()}function hh(a){a=a?a:{};var b=Aq({},a);delete b.style,delete b.renderBuffer,delete b.updateWhileAnimating,delete b.updateWhileInteracting,ef.call(this,b),this.a=void 0!==a.renderBuffer?a.renderBuffer:100,this.B=null,this.i=void 0,this.l(a.style),this.S=void 0!==a.updateWhileAnimating&&a.updateWhileAnimating,this.T=void 0!==a.updateWhileInteracting&&a.updateWhileInteracting}function ih(a){return a.get("renderOrder")}function jh(a){a=a?a:{};var b=Aq({},a);delete b.preload,delete b.useInterimTilesOnError,hh.call(this,b),this.Y(a.preload?a.preload:0),this.ea(!a.useInterimTilesOnError||a.useInterimTilesOnError),this.s=a.renderMode||"hybrid"}function kh(a,b,c,d,e){this.f=a,this.B=b,this.c=c,this.N=d,this.Cc=e,this.i=this.b=this.a=this.ea=this.Qa=this.Y=null,this.na=this.wa=this.v=this.ya=this.va=this.R=0,this.Cb=!1,this.l=this.ta=0,this.xa=!1,this.S=0,this.g="",this.j=this.M=this.pb=this.Ra=0,this.T=this.s=this.o=null,this.U=[],this.Db=zb()}function lh(a,b,c){if(a.i){b=Jb(b,0,c,2,a.N,a.U),c=a.f;var d=a.Db,e=c.globalAlpha;1!=a.v&&(c.globalAlpha=e*a.v);var f=a.ta;a.Cb&&(f+=a.Cc);var g,h;for(g=0,h=b.length;g<h;g+=2){var i=b[g]-a.R,j=b[g+1]-a.va;if(a.xa&&(i=Math.round(i),j=Math.round(j)),0!==f||1!=a.l){var k=i+a.R,l=j+a.va;jf(d,k,l,a.l,a.l,f,-k,-l),c.setTransform(d[0],d[1],d[4],d[5],d[12],d[13])}c.drawImage(a.i,a.wa,a.na,a.S,a.ya,i,j,a.S,a.ya)}0===f&&1==a.l||c.setTransform(1,0,0,1,0,0),1!=a.v&&(c.globalAlpha=e)}}function mh(a,b,c,d){var e=0;if(a.T&&""!==a.g){a.o&&ph(a,a.o),a.s&&qh(a,a.s);var f=a.T,g=a.f,h=a.ea;for(h?(h.font!=f.font&&(h.font=g.font=f.font),h.textAlign!=f.textAlign&&(h.textAlign=g.textAlign=f.textAlign),h.textBaseline!=f.textBaseline&&(h.textBaseline=g.textBaseline=f.textBaseline)):(g.font=f.font,g.textAlign=f.textAlign,g.textBaseline=f.textBaseline,a.ea={font:f.font,textAlign:f.textAlign,textBaseline:f.textBaseline}),b=Jb(b,e,c,d,a.N,a.U),f=a.f;e<c;e+=d){if(g=b[e]+a.Ra,h=b[e+1]+a.pb,0!==a.M||1!=a.j){var i=jf(a.Db,g,h,a.j,a.j,a.M,-g,-h);f.setTransform(i[0],i[1],i[4],i[5],i[12],i[13])}a.s&&f.strokeText(a.g,g,h),a.o&&f.fillText(a.g,g,h)}0===a.M&&1==a.j||f.setTransform(1,0,0,1,0,0)}}function nh(a,b,c,d,e,f){var g=a.f;for(a=Jb(b,c,d,e,a.N,a.U),g.moveTo(a[0],a[1]),b=a.length,f&&(b-=2),c=2;c<b;c+=2)g.lineTo(a[c],a[c+1]);return f&&g.closePath(),d}function oh(a,b,c,d,e){var f,g;for(f=0,g=d.length;f<g;++f)c=nh(a,b,c,d[f],e,!0);return c}function ph(a,b){var c=a.f,d=a.Y;d?d.fillStyle!=b.fillStyle&&(d.fillStyle=c.fillStyle=b.fillStyle):(c.fillStyle=b.fillStyle,a.Y={fillStyle:b.fillStyle})}function qh(a,b){var c=a.f,d=a.Qa;d?(d.lineCap!=b.lineCap&&(d.lineCap=c.lineCap=b.lineCap),sr&&!ea(d.lineDash,b.lineDash)&&c.setLineDash(d.lineDash=b.lineDash),d.lineJoin!=b.lineJoin&&(d.lineJoin=c.lineJoin=b.lineJoin),d.lineWidth!=b.lineWidth&&(d.lineWidth=c.lineWidth=b.lineWidth),d.miterLimit!=b.miterLimit&&(d.miterLimit=c.miterLimit=b.miterLimit),d.strokeStyle!=b.strokeStyle&&(d.strokeStyle=c.strokeStyle=b.strokeStyle)):(c.lineCap=b.lineCap,sr&&c.setLineDash(b.lineDash),c.lineJoin=b.lineJoin,c.lineWidth=b.lineWidth,c.miterLimit=b.miterLimit,c.strokeStyle=b.strokeStyle,a.Qa={lineCap:b.lineCap,lineDash:b.lineDash,lineJoin:b.lineJoin,lineWidth:b.lineWidth,miterLimit:b.miterLimit,strokeStyle:b.strokeStyle})}function rh(a){mf.call(this,a),this.R=zb()}function sh(a,b,c,d,e){var f=a.a;if(S(f,b)){var g=d.size[0]*d.pixelRatio,h=d.size[1]*d.pixelRatio,i=d.viewState.rotation;Ug(c,-i,g/2,h/2),a=void 0!==e?e:uh(a,d,0),a=new kh(c,d.pixelRatio,d.extent,a,d.viewState.rotation),f.b(new df(b,f,a,d,c,null)),Ug(c,i,g/2,h/2)}}function th(a,b,c,d){sh(a,"postcompose",b,c,d)}function uh(a,b,c){var d=b.viewState,e=b.pixelRatio;return jf(a.R,e*b.size[0]/2,e*b.size[1]/2,e/d.resolution,-e/d.resolution,-d.rotation,-d.center[0]+c,-d.center[1])}function vh(a,b,c){this.na=a,this.T=b,this.f=null,this.c=0,this.resolution=c,this.ya=this.va=null,this.a=[],this.coordinates=[],this.Qa=zb(),this.b=[],this.Y=[],this.ea=zb(),this.wa=zb()}function wh(a,b,c,d,e,f){var g,h,i,j=a.coordinates.length,k=a.$e(),l=[b[c],b[c+1]],m=[NaN,NaN],n=!0;for(g=c+e;g<d;g+=e)m[0]=b[g],m[1]=b[g+1],i=Fa(k,m),i!==h?(n&&(a.coordinates[j++]=l[0],a.coordinates[j++]=l[1]),a.coordinates[j++]=m[0],a.coordinates[j++]=m[1],n=!1):1===i?(a.coordinates[j++]=m[0],a.coordinates[j++]=m[1],n=!1):n=!0,l[0]=m[0],l[1]=m[1],h=i;return g===c+e&&(a.coordinates[j++]=l[0],a.coordinates[j++]=l[1]),f&&(a.coordinates[j++]=b[c],a.coordinates[j++]=b[c+1]),j}function xh(a,b){a.va=[0,b,0],a.a.push(a.va),a.ya=[0,b,0],a.b.push(a.ya)}function yh(a,b,c,d,e,f,g,h,j){var k;kf(d,a.Qa)?k=a.Y:(k=Jb(a.coordinates,0,a.coordinates.length,2,d,a.Y),Cb(a.Qa,d)),d=!B(f);var l,m=0,n=g.length,o=0,p=a.ea;a=a.wa;for(var q,r,s,t;m<n;){var u,v,w,x,y=g[m];switch(y[0]){case 0:o=y[1],d&&f[i(o).toString()]||!o.W()?m=y[2]:void 0===j||Za(j,o.W().O())?++m:m=y[2];break;case 1:b.beginPath(),++m;break;case 2:o=y[1],l=k[o],y=k[o+1],s=k[o+2]-l,o=k[o+3]-y,b.arc(l,y,Math.sqrt(s*s+o*o),0,2*Math.PI,!0),++m;break;case 3:b.closePath(),++m;break;case 4:o=y[1],l=y[2],u=y[3],w=y[4]*c;var z=y[5]*c,A=y[6];v=y[7];var C=y[8],D=y[9];s=y[11],t=y[12];var E=y[13],F=y[14];for(y[10]&&(s+=e);o<l;o+=2){if(y=k[o]-w,x=k[o+1]-z,E&&(y=Math.round(y),x=Math.round(x)),1!=t||0!==s){var G=y+w,H=x+z;jf(p,G,H,t,t,s,-G,-H),b.transform(p[0],p[1],p[4],p[5],p[12],p[13])}G=b.globalAlpha,1!=v&&(b.globalAlpha=G*v);var H=F+C>u.width?u.width-C:F,I=A+D>u.height?u.height-D:A;b.drawImage(u,C,D,H,I,y,x,H*c,I*c),1!=v&&(b.globalAlpha=G),1==t&&0===s||(Fb(p,a),b.transform(a[0],a[1],a[4],a[5],a[12],a[13]))}++m;break;case 5:for(o=y[1],l=y[2],w=y[3],z=y[4]*c,A=y[5]*c,s=y[6],t=y[7]*c,u=y[8],v=y[9];o<l;o+=2){for(y=k[o]+z,x=k[o+1]+A,1==t&&0===s||(jf(p,y,x,t,t,s,-y,-x),b.transform(p[0],p[1],p[4],p[5],p[12],p[13])),C=w.split("\n"),D=C.length,1<D?(E=Math.round(1.5*b.measureText("M").width),x-=(D-1)/2*E):E=0,F=0;F<D;F++)G=C[F],v&&b.strokeText(G,y,x),u&&b.fillText(G,y,x),x+=E;1==t&&0===s||(Fb(p,a),b.transform(a[0],a[1],a[4],a[5],a[12],a[13]))}++m;break;case 6:if(void 0!==h&&(o=y[1],o=h(o)))return o;++m;break;case 7:b.fill(),++m;break;case 8:for(o=y[1],l=y[2],y=k[o],x=k[o+1],s=y+.5|0,t=x+.5|0,s===q&&t===r||(b.moveTo(y,x),q=s,r=t),o+=2;o<l;o+=2)y=k[o],x=k[o+1],s=y+.5|0,t=x+.5|0,(s!==q||t!==r)&&(b.lineTo(y,x),q=s,r=t);++m;break;case 9:b.fillStyle=y[1],++m;break;case 10:q=void 0===y[7]||y[7],r=y[2],b.strokeStyle=y[1],b.lineWidth=q?r*c:r,b.lineCap=y[3],b.lineJoin=y[4],b.miterLimit=y[5],sr&&b.setLineDash(y[6]),r=q=NaN,++m;break;case 11:b.font=y[1],b.textAlign=y[2],b.textBaseline=y[3],++m;break;case 12:b.stroke(),++m;break;default:++m}}}function zh(a){var b=a.b;b.reverse();var c,d,e,f=b.length,g=-1;for(c=0;c<f;++c)if(d=b[c],e=d[0],6==e)g=c;else if(0==e){for(d[2]=c,d=a.b,e=c;g<e;){var h=d[g];d[g]=d[e],d[e]=h,++g,--e}g=-1}}function Ah(a,b){a.va[2]=a.a.length,a.va=null,a.ya[2]=a.b.length,a.ya=null;var c=[6,b];a.a.push(c),a.b.push(c)}function Bh(a,b,c){vh.call(this,a,b,c),this.o=this.S=null,this.R=this.N=this.M=this.B=this.U=this.v=this.s=this.j=this.l=this.i=this.g=void 0}function Ch(a,b,c){vh.call(this,a,b,c),this.g={ad:void 0,Wc:void 0,Xc:null,Yc:void 0,Zc:void 0,$c:void 0,jf:0,strokeStyle:void 0,lineCap:void 0,lineDash:null,lineJoin:void 0,lineWidth:void 0,miterLimit:void 0}}function Dh(a,b,c,d,e){var f=a.coordinates.length;return b=wh(a,b,c,d,e,!1),f=[8,f,b],a.a.push(f),a.b.push(f),d}function Eh(a){var b=a.g,c=b.strokeStyle,d=b.lineCap,e=b.lineDash,f=b.lineJoin,g=b.lineWidth,h=b.miterLimit;b.ad==c&&b.Wc==d&&ea(b.Xc,e)&&b.Yc==f&&b.Zc==g&&b.$c==h||(b.jf!=a.coordinates.length&&(a.a.push([12]),b.jf=a.coordinates.length),a.a.push([10,c,g,d,f,h,e],[1]),b.ad=c,b.Wc=d,b.Xc=e,b.Yc=f,b.Zc=g,b.$c=h)}function Fh(a,b,c){vh.call(this,a,b,c),this.g={qg:void 0,ad:void 0,Wc:void 0,Xc:null,Yc:void 0,Zc:void 0,$c:void 0,fillStyle:void 0,strokeStyle:void 0,lineCap:void 0,lineDash:null,lineJoin:void 0,lineWidth:void 0,miterLimit:void 0}}function Gh(a,b,c,d,e){var f=a.g,g=[1];a.a.push(g),a.b.push(g);var h,g=0;for(h=d.length;g<h;++g){var i=d[g],j=a.coordinates.length;c=wh(a,b,c,i,e,!0),c=[8,j,c],j=[3],a.a.push(c,j),a.b.push(c,j),c=i}return b=[7],a.b.push(b),void 0!==f.fillStyle&&a.a.push(b),void 0!==f.strokeStyle&&(f=[12],a.a.push(f),a.b.push(f)),c}function Hh(a){var b=a.g,c=b.fillStyle,d=b.strokeStyle,e=b.lineCap,f=b.lineDash,g=b.lineJoin,h=b.lineWidth,i=b.miterLimit;void 0!==c&&b.qg!=c&&(a.a.push([9,c]),b.qg=b.fillStyle),void 0===d||b.ad==d&&b.Wc==e&&b.Xc==f&&b.Yc==g&&b.Zc==h&&b.$c==i||(a.a.push([10,d,h,e,g,i,f]),b.ad=d,b.Wc=e,b.Xc=f,b.Yc=g,b.Zc=h,b.$c=i)}function Ih(a,b,c){vh.call(this,a,b,c),this.N=this.M=this.B=null,this.o="",this.U=this.v=this.s=this.j=0,this.l=this.i=this.g=null}function Jh(a,b,c,d,e){if(""!==a.o&&a.l&&(a.g||a.i)){if(a.g){var f=a.g,g=a.B;if(!g||g.fillStyle!=f.fillStyle){var h=[9,f.fillStyle];a.a.push(h),a.b.push(h),g?g.fillStyle=f.fillStyle:a.B={fillStyle:f.fillStyle}}}a.i&&(f=a.i,g=a.M,g&&g.lineCap==f.lineCap&&g.lineDash==f.lineDash&&g.lineJoin==f.lineJoin&&g.lineWidth==f.lineWidth&&g.miterLimit==f.miterLimit&&g.strokeStyle==f.strokeStyle||(h=[10,f.strokeStyle,f.lineWidth,f.lineCap,f.lineJoin,f.miterLimit,f.lineDash,!1],a.a.push(h),a.b.push(h),g?(g.lineCap=f.lineCap,g.lineDash=f.lineDash,g.lineJoin=f.lineJoin,g.lineWidth=f.lineWidth,g.miterLimit=f.miterLimit,g.strokeStyle=f.strokeStyle):a.M={lineCap:f.lineCap,lineDash:f.lineDash,lineJoin:f.lineJoin,lineWidth:f.lineWidth,miterLimit:f.miterLimit,strokeStyle:f.strokeStyle})),f=a.l,g=a.N,g&&g.font==f.font&&g.textAlign==f.textAlign&&g.textBaseline==f.textBaseline||(h=[11,f.font,f.textAlign,f.textBaseline],a.a.push(h),a.b.push(h),g?(g.font=f.font,g.textAlign=f.textAlign,g.textBaseline=f.textBaseline):a.N={font:f.font,textAlign:f.textAlign,textBaseline:f.textBaseline}),xh(a,e),f=a.coordinates.length,b=wh(a,b,0,c,d,!1),b=[5,f,b,a.o,a.j,a.s,a.v,a.U,!!a.g,!!a.i],a.a.push(b),a.b.push(b),Ah(a,e)}}function Kh(a,b,c,d){this.o=a,this.g=b,this.l=c,this.f=d,this.a={},this.c=ze(1,1),this.i=zb()}function Lh(a){for(var b in a.a){var c,d=a.a[b];for(c in d)d[c].fe()}}function Mh(a,b,c,d,e,f,g){var h=Object.keys(a.a).map(Number);h.sort(function(a,b){return b-a});var i,j,k,l,m;for(i=0,j=h.length;i<j;++i)for(l=a.a[h[i].toString()],k=es.length-1;0<=k;--k)if(m=l[es[k]],void 0!==m&&(m=yh(m,b,1,c,d,e,m.b,f,g)))return m}function Nh(a,b,c,d){this.g=a,this.b=b,this.c=c,this.f=d}function Oh(a,b){return i(a)-i(b)}function Ph(a,b){var c=.5*a/b;return c*c}function Qh(a,b,c,d,e,f){var g,h,i=!1;return(g=c.a)&&(h=g.od(),2==h||3==h?g.Tf(e,f):(0==h&&g.load(),g.kf(e,f),i=!0)),(e=(0,c.g)(b))&&(d=e.hd(d),(0,gs[d.X()])(a,d,c,b)),i}function Rh(a,b,c,d,e,f){this.c=void 0!==f?f:null,gf.call(this,a,b,c,void 0!==f?0:2,d),this.g=e}function Sh(a,b,c,d){var e=tb(c,b,a);return c=b.getPointResolution(d,c),b=b.Vb(),void 0!==b&&(c*=b),b=a.Vb(),void 0!==b&&(c/=b),a=a.getPointResolution(c,e)/c,isFinite(a)&&0<a&&(c/=a),c}function Th(a,b,c,d){a=c-a,b=d-b;var e=Math.sqrt(a*a+b*b);return[Math.round(c+a/e),Math.round(d+b/e)]}function Uh(a,b,c,d,e,f,g,h,i,j,k){var l=ze(Math.round(c*a),Math.round(c*b));if(0===i.length)return l.canvas;l.scale(c,c);var m=Ga();i.forEach(function(a){La(m,a.extent)});var n=ze(Math.round(c*Ya(m)/d),Math.round(c*Ua(m)/d)),o=c/d;i.forEach(function(a){n.drawImage(a.image,j,j,a.image.width-2*j,a.image.height-2*j,(a.extent[0]-m[0])*o,-(a.extent[3]-m[3])*o,Ya(a.extent)*o,Ua(a.extent)*o)});var p=Wa(g);return h.f.forEach(function(a){var b=a.source,e=a.target,g=b[1][0],h=b[1][1],i=b[2][0],j=b[2][1];a=(e[0][0]-p[0])/f;var k=-(e[0][1]-p[1])/f,o=(e[1][0]-p[0])/f,q=-(e[1][1]-p[1])/f,r=(e[2][0]-p[0])/f,s=-(e[2][1]-p[1])/f,e=b[0][0],b=b[0][1],g=g-e,h=h-b,i=i-e,j=j-b;a:{for(g=[[g,h,0,0,o-a],[i,j,0,0,r-a],[0,0,g,h,q-k],[0,0,i,j,s-k]],h=g.length,i=0;i<h;i++){for(var j=i,t=Math.abs(g[i][i]),u=i+1;u<h;u++){var v=Math.abs(g[u][i]);v>t&&(t=v,j=u)}if(0===t){g=null;break a}for(t=g[j],g[j]=g[i],g[i]=t,j=i+1;j<h;j++)for(t=-g[j][i]/g[i][i],u=i;u<h+1;u++)g[j][u]=i==u?0:g[j][u]+t*g[i][u]}for(i=Array(h),j=h-1;0<=j;j--)for(i[j]=g[j][h]/g[j][j],t=j-1;0<=t;t--)g[t][h]-=g[t][j]*i[j];g=i}g&&(l.save(),l.beginPath(),hs?(i=(a+o+r)/3,j=(k+q+s)/3,h=Th(i,j,a,k),o=Th(i,j,o,q),r=Th(i,j,r,s),l.moveTo(h[0],h[1]),l.lineTo(o[0],o[1]),l.lineTo(r[0],r[1])):(l.moveTo(a,k),l.lineTo(o,q),l.lineTo(r,s)),l.closePath(),l.clip(),l.transform(g[0],g[2],g[1],g[3],a,k),l.translate(m[0]-e,m[3]-b),l.scale(d/c,-d/c),l.drawImage(n.canvas,0,0),l.restore())}),k&&(l.save(),l.strokeStyle="black",l.lineWidth=1,h.f.forEach(function(a){var b=a.target;a=(b[0][0]-p[0])/f;var c=-(b[0][1]-p[1])/f,d=(b[1][0]-p[0])/f,e=-(b[1][1]-p[1])/f,g=(b[2][0]-p[0])/f,b=-(b[2][1]-p[1])/f;l.beginPath(),l.moveTo(a,c),l.lineTo(d,e),l.lineTo(g,b),l.closePath(),l.stroke()}),l.restore()),l.canvas}function Vh(a,b,c,d,e){this.g=a,this.c=b;var f={},g=pb(this.c,this.g);this.a=function(a){var b=a[0]+"/"+a[1];return f[b]||(f[b]=g(a)),f[b]},this.i=d,this.s=e*e,this.f=[],this.o=!1,this.j=this.g.a&&!!d&&!!this.g.O()&&Ya(d)==Ya(this.g.O()),this.b=this.g.O()?Ya(this.g.O()):null,this.l=this.c.O()?Ya(this.c.O()):null,a=Wa(c),b=Xa(c),d=Ra(c),c=Qa(c),e=this.a(a);var h=this.a(b),i=this.a(d),j=this.a(c);if(Wh(this,a,b,d,c,e,h,i,j,10),this.o){var k=1/0;this.f.forEach(function(a){k=Math.min(k,a.source[0][0],a.source[1][0],a.source[2][0])}),this.f.forEach(function(a){if(Math.max(a.source[0][0],a.source[1][0],a.source[2][0])-k>this.b/2){var b=[[a.source[0][0],a.source[0][1]],[a.source[1][0],a.source[1][1]],[a.source[2][0],a.source[2][1]]];b[0][0]-k>this.b/2&&(b[0][0]-=this.b),b[1][0]-k>this.b/2&&(b[1][0]-=this.b),b[2][0]-k>this.b/2&&(b[2][0]-=this.b),Math.max(b[0][0],b[1][0],b[2][0])-Math.min(b[0][0],b[1][0],b[2][0])<this.b/2&&(a.source=b)}},this)}f={}}function Wh(a,b,c,d,e,f,g,h,i,j){var k=ya([f,g,h,i]),l=a.b?Ya(k)/a.b:null,m=a.g.a&&.5<l&&1>l,n=!1;if(0<j){if(a.c.g&&a.l)var o=ya([b,c,d,e]),n=n|.25<Ya(o)/a.l;!m&&a.g.g&&l&&(n|=.25<l)}if(n||!a.i||Za(k,a.i)){if(!(n||isFinite(f[0])&&isFinite(f[1])&&isFinite(g[0])&&isFinite(g[1])&&isFinite(h[0])&&isFinite(h[1])&&isFinite(i[0])&&isFinite(i[1]))){if(!(0<j))return;n=!0}if(0<j&&(n||(l=a.a([(b[0]+d[0])/2,(b[1]+d[1])/2]),k=m?(u(f[0],a.b)+u(h[0],a.b))/2-u(l[0],a.b):(f[0]+h[0])/2-l[0],l=(f[1]+h[1])/2-l[1],n=k*k+l*l>a.s),n))return void(Math.abs(b[0]-d[0])<=Math.abs(b[1]-d[1])?(m=[(c[0]+d[0])/2,(c[1]+d[1])/2],
k=a.a(m),l=[(e[0]+b[0])/2,(e[1]+b[1])/2],n=a.a(l),Wh(a,b,c,m,l,f,g,k,n,j-1),Wh(a,l,m,d,e,n,k,h,i,j-1)):(m=[(b[0]+c[0])/2,(b[1]+c[1])/2],k=a.a(m),l=[(d[0]+e[0])/2,(d[1]+e[1])/2],n=a.a(l),Wh(a,b,m,l,e,f,k,n,i,j-1),Wh(a,m,c,d,l,k,g,h,n,j-1)));if(m){if(!a.j)return;a.o=!0}a.f.push({source:[f,h,i],target:[b,d,e]}),a.f.push({source:[f,g,h],target:[b,c,d]})}}function Xh(a){var b=Ga();return a.f.forEach(function(a){a=a.source,Ma(b,a[0]),Ma(b,a[1]),Ma(b,a[2])}),b}function Yh(a,b,c,d,e,f){this.v=b,this.s=a.O();var g=b.O(),h=g?Va(c,g):c,g=Sh(a,b,Sa(h),d);this.o=new Vh(a,b,h,this.s,.5*g),this.c=d,this.g=c,a=Xh(this.o),this.j=(this.nb=f(a,g,e))?this.nb.f:1,this.vd=this.i=null,e=2,f=[],this.nb&&(e=0,f=this.nb.l),gf.call(this,c,d,this.j,e,f)}function Zh(a){Nd.call(this,{attributions:a.attributions,extent:a.extent,logo:a.logo,projection:a.projection,state:a.state}),this.M=void 0!==a.resolutions?a.resolutions:null,this.a=null,this.na=0}function $h(a,b){if(a.M){var c=_(a.M,b,0);b=a.M[c]}return b}function _h(a,b){a.a().src=b}function ai(a,b){O.call(this,a),this.image=b}function bi(a){Zh.call(this,{attributions:a.attributions,logo:a.logo,projection:a.projection,resolutions:a.resolutions,state:a.state}),this.ea=a.canvasFunction,this.T=null,this.Y=0,this.ta=void 0!==a.ratio?a.ratio:1.5}function ci(a){W.call(this),this.i=void 0,this.a="geometry",this.c=null,this.l=void 0,this.f=null,H(this,X(this.a),this.Wd,this),void 0!==a&&(a instanceof vb||!a?this.Ta(a):this.C(a))}function di(a){if(!g(a)){var b;b=Array.isArray(a)?a:[a],a=function(){return b}}return a}function ei(a,b,c,d,e){Id.call(this,a,b),this.g=ze(),this.l=d,this.c=null,this.f={bd:!1,Pf:null,Xh:-1,Qf:-1,td:null,oi:[]},this.v=e,this.j=c}function fi(a,b){return ts.createElementNS(a,b)}function gi(a,b){return hi(a,b,[]).join("")}function hi(a,b,c){if(4==a.nodeType||3==a.nodeType)b?c.push(String(a.nodeValue).replace(/(\r\n|\r|\n)/g,"")):c.push(a.nodeValue);else for(a=a.firstChild;a;a=a.nextSibling)hi(a,b,c);return c}function ii(a){return a instanceof Document}function ji(a){return a instanceof Node}function ki(a){return(new DOMParser).parseFromString(a,"application/xml")}function li(a,b){return function(c,d){var e=a.call(b,c,d);void 0!==e&&ba(d[d.length-1],e)}}function mi(a,b){return function(c,d){var e=a.call(void 0!==b?b:this,c,d);void 0!==e&&d[d.length-1].push(e)}}function ni(a,b){return function(c,d){var e=a.call(void 0!==b?b:this,c,d);void 0!==e&&(d[d.length-1]=e)}}function oi(a){return function(b,c){var d=a.call(this,b,c);if(void 0!==d){var e,f=c[c.length-1],g=b.localName;e=g in f?f[g]:f[g]=[],e.push(d)}}}function pi(a,b){return function(c,d){var e=a.call(this,c,d);void 0!==e&&(d[d.length-1][void 0!==b?b:c.localName]=e)}}function qi(a,b){return function(c,d,e){a.call(void 0!==b?b:this,c,d,e),e[e.length-1].node.appendChild(c)}}function ri(a){var b,c;return function(d,e,f){if(void 0===b){b={};var g={};g[d.localName]=a,b[d.namespaceURI]=g,c=si(d.localName)}xi(b,c,e,f)}}function si(a,b){return function(c,d,e){return c=d[d.length-1].node,d=a,void 0===d&&(d=e),e=b,void 0===b&&(e=c.namespaceURI),fi(e,d)}}function ti(a,b){for(var c=b.length,d=Array(c),e=0;e<c;++e)d[e]=a[b[e]];return d}function ui(a,b,c){c=void 0!==c?c:{};var d,e;for(d=0,e=a.length;d<e;++d)c[a[d]]=b;return c}function vi(a,b,c,d){for(b=b.firstElementChild;b;b=b.nextElementSibling){var e=a[b.namespaceURI];void 0!==e&&(e=e[b.localName],void 0!==e&&e.call(d,b,c))}}function wi(a,b,c,d,e){return d.push(a),vi(b,c,d,e),d.pop()}function xi(a,b,c,d,e,f){for(var g,h,i=(void 0!==e?e:c).length,j=0;j<i;++j)g=c[j],void 0!==g&&(h=b.call(f,g,d,void 0!==e?e[j]:void 0),void 0!==h&&a[h.namespaceURI][h.localName].call(f,h,g,d))}function yi(a,b,c,d,e,f,g){e.push(a),xi(b,c,d,e,f,g),e.pop()}function zi(a,b,c,d){return function(e,f,h){var i=new XMLHttpRequest;i.open("GET",g(a)?a(e,f,h):a,!0),"arraybuffer"==b.X()&&(i.responseType="arraybuffer"),i.onload=function(){if(200<=i.status&&300>i.status){var a,e=b.X();"json"==e||"text"==e?a=i.responseText:"xml"==e?(a=i.responseXML)||(a=ki(i.responseText)):"arraybuffer"==e&&(a=i.response),a&&c.call(this,b.Ca(a,{featureProjection:h}),b.Oa(a))}else d.call(this)}.bind(this),i.send()}}function Ai(a,b){return zi(a,b,function(a,b){this.rf(b),this.bi(a)},function(){this.state=3,Jd(this)})}function Bi(a,b){return zi(a,b,function(a){this.Ec(a)},n)}function Ci(){return[[-(1/0),-(1/0),1/0,1/0]]}function Di(a){this.a=ps(a),this.b={}}function Ei(a,b,c){var d=i(c);Ka(a.b[d].slice(0,4),b)||(a.remove(c),a.za(b,c))}function Fi(a){return a.a.all().map(function(a){return a[4]})}function Gi(a,b){return a.a.search(b).map(function(a){return a[4]})}function Hi(a,b,c,d){return Ii(Gi(a,b),c,d)}function Ii(a,b,c){for(var d,e=0,f=a.length;e<f&&!(d=b.call(c,a[e]));e++);return d}function Ji(a){a=a||{},Nd.call(this,{attributions:a.attributions,logo:a.logo,projection:void 0,state:"ready",wrapX:void 0===a.wrapX||a.wrapX}),this.S=n,this.na=a.format,this.T=a.url,void 0!==a.loader?this.S=a.loader:void 0!==this.T&&(this.S=Bi(this.T,this.na)),this.pb=void 0!==a.strategy?a.strategy:Ci;var b=void 0===a.useSpatialIndex||a.useSpatialIndex;this.a=b?new Di:null,this.Y=new Di,this.i={},this.o={},this.j={},this.s={},this.c=null;var c,d;a.features instanceof Pc?(c=a.features,d=c.a):Array.isArray(a.features)&&(d=a.features),b||void 0!==c||(c=new Pc(d)),void 0!==d&&Mi(this,d),void 0!==c&&Ni(this,c)}function Ki(a,b,c){a.s[b]=[H(c,"change",a.zh,a),H(c,"propertychange",a.zh,a)]}function Li(a,b,c){var d=!0,e=c.Wa();return void 0!==e?e.toString()in a.o?d=!1:a.o[e.toString()]=c:a.j[b]=c,d}function Mi(a,b){var c,d,e,f,g=[],h=[],j=[];for(d=0,e=b.length;d<e;d++)f=b[d],c=i(f).toString(),Li(a,c,f)&&h.push(f);for(d=0,e=h.length;d<e;d++){f=h[d],c=i(f).toString(),Ki(a,c,f);var k=f.W();k?(c=k.O(),g.push(c),j.push(f)):a.i[c]=f}for(a.a&&a.a.load(g,j),d=0,e=h.length;d<e;d++)a.b(new Qi("addfeature",h[d]))}function Ni(a,b){var c=!1;H(a,"addfeature",function(a){c||(c=!0,b.push(a.feature),c=!1)}),H(a,"removefeature",function(a){c||(c=!0,b.remove(a.feature),c=!1)}),H(b,"add",function(a){c||(a=a.element,c=!0,this.qb(a),c=!1)},a),H(b,"remove",function(a){c||(a=a.element,c=!0,this.kb(a),c=!1)},a),a.c=b}function Oi(a,b,c){a.tb([b[0],b[1],b[0],b[1]],function(a){if(a.W().og(b))return c.call(void 0,a)})}function Pi(a,b){for(var c in a.o)if(a.o[c]===b){delete a.o[c];break}}function Qi(a,b){O.call(this,a),this.feature=b}function Ri(a){this.c=a.source,this.xa=zb(),this.i=ze(),this.j=[0,0],this.v=null,bi.call(this,{attributions:a.attributions,canvasFunction:this.zj.bind(this),logo:a.logo,projection:a.projection,ratio:a.ratio,resolutions:a.resolutions,state:this.c.V()}),this.S=null,this.s=void 0,this.sh(a.style),H(this.c,"change",this.Zm,this)}function Si(a,b,c,d,e){return jf(a.xa,e[0]/2,e[1]/2,d/c,-d/c,0,-b[0],-b[1])}function Ti(a){rh.call(this,a),this.f=null,this.s=zb(),this.o=this.c=null}function Ui(a){rh.call(this,a),this.c=ze(),this.o=null,this.j=Ga(),this.S=[0,0,0],this.N=zb(),this.M=0}function Vi(a,b,c,d){var e,f,g,h,i=c.pixelRatio,j=c.viewState,k=j.center,l=j.projection,m=j.resolution,j=j.rotation,n=c.size,o=Math.round(i*n[0]/2),p=Math.round(i*n[1]/2),n=i/m,q=a.a,r=q.da(),s=r.Od(l),t=r.fb(l),q=S(q,"render"),u=b;(j||q)&&(u=a.c,e=u.canvas,h=Xd(t,m),g=r.Ud(h,i,l),h=Md(t.Ha(h)),g=g[0]/h[0],m=b.canvas.width*g,f=b.canvas.height*g,h=Math.round(Math.sqrt(m*m+f*f)),e.width!=h?e.width=e.height=h:u.clearRect(0,0,h,h),e=(h-m)/2/g,f=(h-f)/2/g,n*=g,o=Math.round(g*(o+e)),p=Math.round(g*(p+f))),m=u.globalAlpha,u.globalAlpha=d.opacity;var v,w=a.o;d=r.ef(l)&&1==d.opacity,d||(w.reverse(),v=[]);for(var x=0,y=w.length;x<y;++x){var z=w[x],A=z.ja,B=t.Ba(A,a.j),C=A[0],D=Qa(t.Ba(t.kd(k,C,a.S))),A=Math.round(Ya(B)*n),E=Math.round(Ua(B)*n),F=Math.round((B[0]-D[0])*n/A)*A+o+Math.round((D[0]-k[0])*n),B=Math.round((D[1]-B[3])*n/E)*E+p+Math.round((k[1]-D[1])*n);if(!d){D=[F,B,F+A,B+E],u.save();for(var G=0,H=v.length;G<H;++G){var I=v[G];Za(D,I)&&(u.beginPath(),u.moveTo(D[0],D[1]),u.lineTo(D[0],D[3]),u.lineTo(D[2],D[3]),u.lineTo(D[2],D[1]),u.moveTo(I[0],I[1]),u.lineTo(I[2],I[1]),u.lineTo(I[2],I[3]),u.lineTo(I[0],I[3]),u.closePath(),u.clip())}v.push(D)}C=r.Ud(C,i,l),u.drawImage(z.ab(),s,s,C[0],C[1],F,B,A,E),d||u.restore()}q&&(i=e-o/g+o,l=f-p/g+p,k=jf(a.N,h/2-i,h/2-l,n,-n,-j,-k[0]+i/n,-k[1]-l/n),sh(a,"render",u,c,k)),(j||q)&&b.drawImage(u.canvas,-Math.round(e),-Math.round(f),h/g,h/g),u.globalAlpha=m}function Wi(a){rh.call(this,a),this.c=!1,this.M=-1,this.B=NaN,this.v=Ga(),this.o=this.U=null,this.j=ze()}function Xi(a,b){var c=/\{z\}/g,d=/\{x\}/g,e=/\{y\}/g,f=/\{-y\}/g;return function(g){if(g)return a.replace(c,g[0].toString()).replace(d,g[1].toString()).replace(e,function(){return(-g[2]-1).toString()}).replace(f,function(){var a=b.a?b.a[g[0]]:null;return(a.f-a.g+1+g[2]).toString()})}}function Yi(a,b){for(var c=a.length,d=Array(c),e=0;e<c;++e)d[e]=Xi(a[e],b);return Zi(d)}function Zi(a){return 1===a.length?a[0]:function(b,c,d){if(b)return a[u((b[1]<<b[0])+b[2],a.length)](b,c,d)}}function $i(){}function _i(a){var b=[],c=/\{(\d)-(\d)\}/.exec(a)||/\{([a-z])-([a-z])\}/.exec(a);if(c){var d,e=c[2].charCodeAt(0);for(d=c[1].charCodeAt(0);d<=e;++d)b.push(a.replace(c[0],String.fromCharCode(d)))}else b.push(a);return b}function aj(a){be.call(this,{attributions:a.attributions,cacheSize:a.cacheSize,extent:a.extent,logo:a.logo,opaque:a.opaque,projection:a.projection,state:a.state,tileGrid:a.tileGrid,tilePixelRatio:a.tilePixelRatio,wrapX:a.wrapX}),this.tileLoadFunction=a.tileLoadFunction,this.tileUrlFunction=this.qc?this.qc.bind(this):$i,this.urls=null,a.urls?this.Ua(a.urls):a.url&&this.Na(a.url),a.tileUrlFunction&&this.La(a.tileUrlFunction)}function bj(a){aj.call(this,{attributions:a.attributions,cacheSize:void 0!==a.cacheSize?a.cacheSize:128,extent:a.extent,logo:a.logo,opaque:!1,projection:a.projection,state:a.state,tileGrid:a.tileGrid,tileLoadFunction:a.tileLoadFunction?a.tileLoadFunction:cj,tileUrlFunction:a.tileUrlFunction,tilePixelRatio:a.tilePixelRatio,url:a.url,urls:a.urls,wrapX:void 0===a.wrapX||a.wrapX}),this.c=a.format?a.format:null,this.tileClass=a.tileClass?a.tileClass:ei}function cj(a,b){a.fi(Ai(b,a.l))}function dj(a){Ui.call(this,a),this.U=!1,this.v=zb(),this.M="vector"==a.s?1:0}function ej(a,b,c){function d(a){var b,c=a.$b();if(c?b=c.call(a,p):(c=e.i)&&(b=c(a,p)),b){Array.isArray(b)||(b=[b]);var c=r,d=q;if(b){var f=!1;if(Array.isArray(b))for(var g=0,h=b.length;g<h;++g)f=Qh(d,a,b[g],c,this.B,this)||f;else f=Qh(d,a,b,c,this.B,this)||f;a=f}else a=!1;this.U=this.U||a,i.bd=i.bd||a}}var e=a.a,f=c.pixelRatio;c=c.viewState.projection;var g=e.g,h=ih(e)||null,i=b.f;if(i.bd||i.Xh!=g||i.Pf!=h){i.td=null,i.bd=!1;var j,k=e.da(),l=k.tileGrid,m=b.ja,n=b.o,o="tile-pixels"==n.vb(),p=l.$(m[0]);o?(o=k=k.Xb(f),l=Md(l.Ha(m[0])),l=[0,0,l[0]*o,l[1]*o]):(k=p,l=l.Ba(m),ob(c,n)||(j=!0,b.rf(c))),i.bd=!1;var q=new Kh(0,l,k,e.a),r=Ph(k,f);for(b=b.c,h&&h!==i.Pf&&b.sort(h),l=0,m=b.length;l<m;++l)f=b[l],j&&f.W().hb(n,c),d.call(a,f);Lh(q),i.Xh=g,i.Pf=h,i.td=q,i.resolution=NaN}}function fj(a,b){Af.call(this,0,b),this.f=ze(),this.b=this.f.canvas,this.b.style.width="100%",this.b.style.height="100%",this.b.className="ol-unselectable",jd(a,this.b,0),this.a=!0,this.c=zb()}function gj(a,b,c){var d=a.i,e=a.f;if(S(d,b)){var f=c.extent,g=c.pixelRatio,h=c.viewState.rotation,i=c.pixelRatio,j=c.viewState,k=j.resolution;a=jf(a.c,a.b.width/2,a.b.height/2,i/k,-i/k,-j.rotation,-j.center[0],-j.center[1]),f=new kh(e,g,f,a,h),d.b(new df(b,d,f,c,e,null))}}function hj(a,b){mf.call(this,a),this.target=b}function ij(a){var b=document.createElement("DIV");b.style.position="absolute",hj.call(this,a,b),this.f=null,this.c=Ab()}function jj(a){var b=document.createElement("DIV");b.style.position="absolute",hj.call(this,a,b),this.c=!0,this.l=1,this.i=0,this.f={}}function kj(a,b){this.target=document.createElement("DIV"),this.target.style.position="absolute",this.target.style.width="100%",this.target.style.height="100%",this.c=a,this.g=b,this.i=Wa(a.Ba(b)),this.l=a.$(b[0]),this.a={},this.b=null,this.f=Ab(),this.o=[0,0]}function lj(a){this.i=ze();var b=this.i.canvas;b.style.maxWidth="none",b.style.position="absolute",hj.call(this,a,b),this.f=!1,this.l=-1,this.s=NaN,this.o=Ga(),this.c=this.j=null,this.U=zb(),this.v=zb()}function mj(a,b,c,d){var e=a.i;a=a.a,S(a,b)&&(d=new kh(e,c.pixelRatio,c.extent,d,c.viewState.rotation),a.b(new df(b,a,d,c,e,null)))}function nj(a,b){Af.call(this,0,b),this.f=ze();var c=this.f.canvas;c.style.position="absolute",c.style.width="100%",c.style.height="100%",c.className="ol-unselectable",jd(a,c,0),this.c=zb(),this.b=document.createElement("DIV"),this.b.className="ol-unselectable",c=this.b.style,c.position="absolute",c.width="100%",c.height="100%",H(this.b,"touchstart",Q),jd(a,this.b,0),this.a=!0}function oj(a,b,c){var d=a.i;if(S(d,b)){var e=c.extent,f=c.pixelRatio,g=c.viewState,h=g.rotation,i=a.f,j=i.canvas;jf(a.c,j.width/2,j.height/2,f/g.resolution,-f/g.resolution,-g.rotation,-g.center[0],-g.center[1]),a=new kh(i,f,e,a.c,h),d.b(new df(b,d,a,c,i,null))}}function pj(a){this.b=a}function qj(a){this.b=a}function rj(a){this.b=a}function sj(){this.b="precision mediump float;varying vec2 a;varying float b;uniform float k;uniform sampler2D l;void main(void){vec4 texColor=texture2D(l,a);gl_FragColor.rgb=texColor.rgb;float alpha=texColor.a*b*k;if(alpha==0.0){discard;}gl_FragColor.a=alpha;}"}function tj(){this.b="varying vec2 a;varying float b;attribute vec2 c;attribute vec2 d;attribute vec2 e;attribute float f;attribute float g;uniform mat4 h;uniform mat4 i;uniform mat4 j;void main(void){mat4 offsetMatrix=i;if(g==1.0){offsetMatrix=i*j;}vec4 offsets=offsetMatrix*vec4(e,0.,0.);gl_Position=h*vec4(c,0.,1.)+offsets;a=d;b=f;}"}function uj(a,b){this.o=a.getUniformLocation(b,"j"),this.j=a.getUniformLocation(b,"i"),this.i=a.getUniformLocation(b,"k"),this.l=a.getUniformLocation(b,"h"),this.b=a.getAttribLocation(b,"e"),this.a=a.getAttribLocation(b,"f"),this.f=a.getAttribLocation(b,"c"),this.g=a.getAttribLocation(b,"g"),this.c=a.getAttribLocation(b,"d")}function vj(a){this.b=void 0!==a?a:[]}function wj(a,b){this.l=a,this.b=b,this.a={},this.c={},this.f={},this.j=this.s=this.i=this.o=null,(this.g=$(kq,"OES_element_index_uint"))&&b.getExtension("OES_element_index_uint"),H(this.l,"webglcontextlost",this.Vn,this),H(this.l,"webglcontextrestored",this.Wn,this)}function xj(a,b,c){var d=a.b,e=c.b,f=String(i(c));if(f in a.a)d.bindBuffer(b,a.a[f].buffer);else{var g=d.createBuffer();d.bindBuffer(b,g);var h;34962==b?h=new Float32Array(e):34963==b&&(h=a.g?new Uint32Array(e):new Uint16Array(e)),d.bufferData(b,h,35044),a.a[f]={Eb:c,buffer:g}}}function yj(a,b){var c=a.b,d=String(i(b)),e=a.a[d];c.isContextLost()||c.deleteBuffer(e.buffer),delete a.a[d]}function zj(a){if(!a.i){var b=a.b,c=b.createFramebuffer();b.bindFramebuffer(b.FRAMEBUFFER,c);var d=Dj(b,1,1),e=b.createRenderbuffer();b.bindRenderbuffer(b.RENDERBUFFER,e),b.renderbufferStorage(b.RENDERBUFFER,b.DEPTH_COMPONENT16,1,1),b.framebufferTexture2D(b.FRAMEBUFFER,b.COLOR_ATTACHMENT0,b.TEXTURE_2D,d,0),b.framebufferRenderbuffer(b.FRAMEBUFFER,b.DEPTH_ATTACHMENT,b.RENDERBUFFER,e),b.bindTexture(b.TEXTURE_2D,null),b.bindRenderbuffer(b.RENDERBUFFER,null),b.bindFramebuffer(b.FRAMEBUFFER,null),a.i=c,a.s=d,a.j=e}return a.i}function Aj(a,b){var c=String(i(b));if(c in a.c)return a.c[c];var d=a.b,e=d.createShader(b.X());return d.shaderSource(e,b.b),d.compileShader(e),a.c[c]=e}function Bj(a,b,c){var d=i(b)+"/"+i(c);if(d in a.f)return a.f[d];var e=a.b,f=e.createProgram();return e.attachShader(f,Aj(a,b)),e.attachShader(f,Aj(a,c)),e.linkProgram(f),a.f[d]=f}function Cj(a,b,c){var d=a.createTexture();return a.bindTexture(a.TEXTURE_2D,d),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.LINEAR),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.LINEAR),void 0!==b&&a.texParameteri(3553,10242,b),void 0!==c&&a.texParameteri(3553,10243,c),d}function Dj(a,b,c){var d=Cj(a,void 0,void 0);return a.texImage2D(a.TEXTURE_2D,0,a.RGBA,b,c,0,a.RGBA,a.UNSIGNED_BYTE,null),d}function Ej(a,b){var c=Cj(a,33071,33071);return a.texImage2D(a.TEXTURE_2D,0,a.RGBA,a.RGBA,a.UNSIGNED_BYTE,b),c}function Fj(a,b){this.M=this.B=void 0,this.j=Sa(b),this.U=[],this.i=[],this.R=void 0,this.c=[],this.f=[],this.ya=this.va=void 0,this.a=[],this.N=this.o=null,this.S=void 0,this.ta=Ab(),this.xa=Ab(),this.Y=this.T=void 0,this.Ra=Ab(),this.wa=this.ea=this.Qa=void 0,this.Cb=[],this.l=[],this.b=[],this.v=null,this.g=[],this.s=[],this.na=void 0}function Gj(a,b){var c=a.v,d=a.o,e=a.Cb,f=a.l,g=b.b;return function(){if(!g.isContextLost()){var a,h;for(a=0,h=e.length;a<h;++a)g.deleteTexture(e[a]);for(a=0,h=f.length;a<h;++a)g.deleteTexture(f[a])}yj(b,c),yj(b,d)}}function Hj(a,b,c,d){var e,f,g,h,i,j,k=a.B,l=a.M,m=a.R,n=a.va,o=a.ya,p=a.S,q=a.T,r=a.Y,s=a.Qa?1:0,t=a.ea,u=a.wa,v=a.na,w=Math.cos(t),t=Math.sin(t),x=a.a.length,y=a.b.length;for(e=0;e<c;e+=d)i=b[e]-a.j[0],j=b[e+1]-a.j[1],f=y/8,g=-u*k,h=-u*(m-l),a.b[y++]=i,a.b[y++]=j,a.b[y++]=g*w-h*t,a.b[y++]=g*t+h*w,a.b[y++]=q/o,a.b[y++]=(r+m)/n,a.b[y++]=p,a.b[y++]=s,g=u*(v-k),h=-u*(m-l),a.b[y++]=i,a.b[y++]=j,a.b[y++]=g*w-h*t,a.b[y++]=g*t+h*w,a.b[y++]=(q+v)/o,a.b[y++]=(r+m)/n,a.b[y++]=p,a.b[y++]=s,g=u*(v-k),h=u*l,a.b[y++]=i,a.b[y++]=j,a.b[y++]=g*w-h*t,a.b[y++]=g*t+h*w,a.b[y++]=(q+v)/o,a.b[y++]=r/n,a.b[y++]=p,a.b[y++]=s,g=-u*k,h=u*l,a.b[y++]=i,a.b[y++]=j,a.b[y++]=g*w-h*t,a.b[y++]=g*t+h*w,a.b[y++]=q/o,a.b[y++]=r/n,a.b[y++]=p,a.b[y++]=s,a.a[x++]=f,a.a[x++]=f+1,a.a[x++]=f+2,a.a[x++]=f,a.a[x++]=f+2,a.a[x++]=f+3}function Ij(a,b){var c=b.b;a.U.push(a.a.length),a.i.push(a.a.length),a.v=new vj(a.b),xj(b,34962,a.v),a.o=new vj(a.a),xj(b,34963,a.o);var d={};Jj(a.Cb,a.c,d,c),Jj(a.l,a.f,d,c),a.B=void 0,a.M=void 0,a.R=void 0,a.c=null,a.f=null,a.va=void 0,a.ya=void 0,a.a=null,a.S=void 0,a.T=void 0,a.Y=void 0,a.Qa=void 0,a.ea=void 0,a.wa=void 0,a.b=null,a.na=void 0}function Jj(a,b,c,d){var e,f,g,h=b.length;for(g=0;g<h;++g)e=b[g],f=i(e).toString(),f in c?e=c[f]:(e=Ej(d,e),c[f]=e),a[g]=e}function Kj(a,b,c,d,e,f){var g=c.g?5125:5123;if(c=c.g?4:2,B(d)){var h;for(a=0,d=e.length,h=0;a<d;++a){b.bindTexture(3553,e[a]);var j=f[a];b.drawElements(4,j-h,g,h*c),h=j}}else{h=0;var k,j=0;for(k=e.length;j<k;++j){b.bindTexture(3553,e[j]);for(var l=0<j?f[j-1]:0,m=f[j],n=l;h<a.g.length&&a.g[h]<=m;){var o=i(a.s[h]).toString();void 0!==d[o]?(n!==l&&b.drawElements(4,l-n,g,n*c),l=n=h===a.g.length-1?m:a.g[h+1]):l=h===a.g.length-1?m:a.g[h+1],h++}n!==l&&b.drawElements(4,l-n,g,n*c)}}}function Lj(a,b,c){this.f=b,this.c=a,this.g=c,this.a={}}function Mj(a,b){var c,d=[];for(c in a.a)d.push(Gj(a.a[c],b));return function(){for(var a,b=d.length,c=0;c<b;c++)a=d[c].apply(this,arguments);return a}}function Nj(a,b){for(var c in a.a)Ij(a.a[c],b)}function Oj(a,b,c,d,e,f,g,h,i,j,k){var l,m,n=ys;for(l=es.length-1;0<=l;--l)if(m=a.a[es[l]],void 0!==m&&(m=m.Pa(b,c,d,e,n,f,g,h,i,j,k)))return m}function Pj(a,b,c,d,e,f,g,h){var i=c.b;return i.bindFramebuffer(i.FRAMEBUFFER,zj(c)),void 0!==Oj(a,c,b,d,e,f,g,h,function(){var a=new Uint8Array(4);return i.readPixels(0,0,1,1,i.RGBA,i.UNSIGNED_BYTE,a),0<a[3]},!1)}function Qj(a,b,c,d,e,f,g){this.b=a,this.f=b,this.g=f,this.c=g,this.o=e,this.l=d,this.i=c,this.a=null}function Rj(){this.b="precision mediump float;varying vec2 a;uniform float f;uniform sampler2D g;void main(void){vec4 texColor=texture2D(g,a);gl_FragColor.rgb=texColor.rgb;gl_FragColor.a=texColor.a*f;}"}function Sj(){this.b="varying vec2 a;attribute vec2 b;attribute vec2 c;uniform mat4 d;uniform mat4 e;void main(void){gl_Position=e*vec4(b,0.,1.);a=(d*vec4(c,0.,1.)).st;}"}function Tj(a,b){this.g=a.getUniformLocation(b,"f"),this.f=a.getUniformLocation(b,"e"),this.i=a.getUniformLocation(b,"d"),this.c=a.getUniformLocation(b,"g"),this.b=a.getAttribLocation(b,"b"),this.a=a.getAttribLocation(b,"c")}function Uj(a,b){mf.call(this,b),this.f=a,this.S=new vj([-1,-1,0,0,1,-1,1,0,-1,1,0,1,1,1,1,1]),this.i=this.ob=null,this.l=void 0,this.s=zb(),this.U=Ab(),this.v=null}function Vj(a,b,c){var d=a.f.f;if(void 0===a.l||a.l!=c){b.postRenderFunctions.push(function(a,b,c){a.isContextLost()||(a.deleteFramebuffer(b),a.deleteTexture(c))}.bind(null,d,a.i,a.ob)),b=Dj(d,c,c);var e=d.createFramebuffer();d.bindFramebuffer(36160,e),d.framebufferTexture2D(36160,36064,3553,b,0),a.ob=b,a.i=e,a.l=c}else d.bindFramebuffer(36160,a.i)}function Wj(a,b,c,d){if(a=a.a,S(a,b)){var e=d.viewState;a.b(new df(b,a,new Qj(c,e.center,e.resolution,e.rotation,d.size,d.extent,d.pixelRatio),d,null,c))}}function Xj(a,b){Uj.call(this,a,b),this.j=this.o=this.c=null}function Yj(a,b){var c=b.a();return Ej(a.f.f,c)}function Zj(a,b,c,d,e,f,g,h){b*=f,c*=f,a=a.U,Db(a),Hb(a,2*d/b,2*d/c),Ib(a,-g),Gb(a,h[0]-e[0],h[1]-e[1]),Hb(a,(h[2]-h[0])/2,(h[3]-h[1])/2),Gb(a,1,1)}function $j(){this.b="precision mediump float;varying vec2 a;uniform sampler2D e;void main(void){gl_FragColor=texture2D(e,a);}"}function _j(){this.b="varying vec2 a;attribute vec2 b;attribute vec2 c;uniform vec4 d;void main(void){gl_Position=vec4(b*d.xy+d.zw,0.,1.);a=c;}"}function ak(a,b){this.g=a.getUniformLocation(b,"e"),this.f=a.getUniformLocation(b,"d"),this.b=a.getAttribLocation(b,"b"),this.a=a.getAttribLocation(b,"c")}function bk(a,b){Uj.call(this,a,b),this.N=$j.Ub(),this.T=_j.Ub(),this.c=null,this.M=new vj([0,0,0,1,1,0,1,1,0,1,0,0,1,1,1,0]),this.B=this.o=null,this.j=-1,this.R=[0,0]}function ck(a,b){Uj.call(this,a,b),this.j=!1,this.R=-1,this.N=NaN,this.B=Ga(),this.o=this.c=this.M=null}function dk(a,b){Af.call(this,0,b),this.b=document.createElement("CANVAS"),this.b.style.width="100%",this.b.style.height="100%",this.b.className="ol-unselectable",jd(a,this.b,0),this.U=this.B=0,this.M=ze(),this.j=!0,this.f=Ce(this.b,{antialias:!0,depth:!1,failIfMajorPerformanceCaveat:!0,preserveDrawingBuffer:!1,stencil:!0}),this.c=new wj(this.b,this.f),H(this.b,"webglcontextlost",this.Jm,this),H(this.b,"webglcontextrestored",this.Km,this),this.a=new Cd,this.v=null,this.o=new Gf(function(a){var b=a[1];a=a[2];var c=b[0]-this.v[0],b=b[1]-this.v[1];return 65536*Math.log(a)+Math.sqrt(c*c+b*b)/a}.bind(this),function(a){return a[0].gb()}),this.N=function(){if(!this.o.Sa()){Kf(this.o);var a=Hf(this.o);ek(this,a[0],a[3],a[4])}return!1}.bind(this),this.l=0,gk(this)}function ek(a,b,c,d){var e=a.f,f=b.gb();if(Dd(a.a,f))a=a.a.get(f),e.bindTexture(3553,a.ob),9729!=a.Rg&&(e.texParameteri(3553,10240,9729),a.Rg=9729),9729!=a.Tg&&(e.texParameteri(3553,10240,9729),a.Tg=9729);else{var g=e.createTexture();if(e.bindTexture(3553,g),0<d){var h=a.M.canvas,i=a.M;a.B!==c[0]||a.U!==c[1]?(h.width=c[0],h.height=c[1],a.B=c[0],a.U=c[1]):i.clearRect(0,0,c[0],c[1]),i.drawImage(b.ab(),d,d,c[0],c[1],0,0,c[0],c[1]),e.texImage2D(3553,0,6408,6408,5121,h)}else e.texImage2D(3553,0,6408,6408,5121,b.ab());e.texParameteri(3553,10240,9729),e.texParameteri(3553,10241,9729),e.texParameteri(3553,10242,33071),e.texParameteri(3553,10243,33071),a.a.set(f,{ob:g,Rg:9729,Tg:9729})}}function fk(a,b,c){var d=a.i;if(S(d,b)){a=a.c;var e=c.viewState;d.b(new df(b,d,new Qj(a,e.center,e.resolution,e.rotation,c.size,c.extent,c.pixelRatio),c,null,a))}}function gk(a){a=a.f,a.activeTexture(33984),a.blendFuncSeparate(770,771,1,771),a.disable(2884),a.disable(2929),a.disable(3089),a.disable(2960)}function hk(a){W.call(this);var b=ik(a);this.Db=void 0!==a.loadTilesWhileAnimating&&a.loadTilesWhileAnimating,this.Cc=void 0!==a.loadTilesWhileInteracting&&a.loadTilesWhileInteracting,this.Ke=void 0!==a.pixelRatio?a.pixelRatio:rr,this.Je=b.logos,this.Y=function(){this.i=void 0,this.Oo.call(this,Date.now())}.bind(this),this.Ra=zb(),this.Le=zb(),this.pb=0,this.f=null,this.xa=Ga(),this.N=this.S=null,this.a=document.createElement("DIV"),this.a.className="ol-viewport"+(wr?" ol-touch":""),this.a.style.position="relative",this.a.style.overflow="hidden",this.a.style.width="100%",this.a.style.height="100%",this.a.style.msTouchAction="none",this.a.style.touchAction="none",this.B=document.createElement("DIV"),this.B.className="ol-overlaycontainer",this.a.appendChild(this.B),this.v=document.createElement("DIV"),this.v.className="ol-overlaycontainer-stopevent",a=["click","dblclick","mousedown","touchstart","mspointerdown",Qr,"mousewheel","wheel"];for(var c=0,d=a.length;c<d;++c)H(this.v,a[c],P);this.a.appendChild(this.v),this.wa=new Ze(this);for(var e in Tr)H(this.wa,Tr[e],this.Kg,this);this.ea=b.keyboardEventTarget,this.s=null,H(this.a,"wheel",this.Jc,this),H(this.a,"mousewheel",this.Jc,this),this.o=b.controls,this.l=b.interactions,this.j=b.overlays,this.yf={},this.M=new b.Qo(this.a,this),this.T=null,this.R=[],this.ta=[],this.na=new Lf(this.xk.bind(this),this.dl.bind(this)),this.ze={},H(this,X("layergroup"),this.Kk,this),H(this,X("view"),this.el,this),H(this,X("size"),this.al,this),H(this,X("target"),this.cl,this),this.C(b.values),this.o.forEach(function(a){a.setMap(this)},this),H(this.o,"add",function(a){a.element.setMap(this)},this),H(this.o,"remove",function(a){a.element.setMap(null)},this),this.l.forEach(function(a){a.setMap(this)},this),H(this.l,"add",function(a){a.element.setMap(this)},this),H(this.l,"remove",function(a){a.element.setMap(null)},this),this.j.forEach(this.ig,this),H(this.j,"add",function(a){this.ig(a.element)},this),H(this.j,"remove",function(a){var b=a.element.Wa();void 0!==b&&delete this.yf[b.toString()],a.element.setMap(null)},this)}function ik(a){var b=null;void 0!==a.keyboardEventTarget&&(b="string"==typeof a.keyboardEventTarget?document.getElementById(a.keyboardEventTarget):a.keyboardEventTarget);var c={},d={};if(void 0===a.logo||"boolean"==typeof a.logo&&a.logo)d["data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAA3NCSVQICAjb4U/gAAAACXBIWXMAAAHGAAABxgEXwfpGAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAhNQTFRF////AP//AICAgP//AFVVQECA////K1VVSbbbYL/fJ05idsTYJFtbbcjbJllmZszWWMTOIFhoHlNiZszTa9DdUcHNHlNlV8XRIVdiasrUHlZjIVZjaMnVH1RlIFRkH1RkH1ZlasvYasvXVsPQH1VkacnVa8vWIVZjIFRjVMPQa8rXIVVkXsXRsNveIFVkIFZlIVVj3eDeh6GmbMvXH1ZkIFRka8rWbMvXIFVkIFVjIFVkbMvWH1VjbMvWIFVlbcvWIFVla8vVIFVkbMvWbMvVH1VkbMvWIFVlbcvWIFVkbcvVbMvWjNPbIFVkU8LPwMzNIFVkbczWIFVkbsvWbMvXIFVkRnB8bcvW2+TkW8XRIFVkIlZlJVloJlpoKlxrLl9tMmJwOWd0Omh1RXF8TneCT3iDUHiDU8LPVMLPVcLPVcPQVsPPVsPQV8PQWMTQWsTQW8TQXMXSXsXRX4SNX8bSYMfTYcfTYsfTY8jUZcfSZsnUaIqTacrVasrVa8jTa8rWbI2VbMvWbcvWdJObdcvUdszUd8vVeJaee87Yfc3WgJyjhqGnitDYjaarldPZnrK2oNbborW5o9bbo9fbpLa6q9ndrL3ArtndscDDutzfu8fJwN7gwt7gxc/QyuHhy+HizeHi0NfX0+Pj19zb1+Tj2uXk29/e3uLg3+Lh3+bl4uXj4ufl4+fl5Ofl5ufl5ujm5+jmySDnBAAAAFp0Uk5TAAECAgMEBAYHCA0NDg4UGRogIiMmKSssLzU7PkJJT1JTVFliY2hrdHZ3foSFhYeJjY2QkpugqbG1tre5w8zQ09XY3uXn6+zx8vT09vf4+Pj5+fr6/P39/f3+gz7SsAAAAVVJREFUOMtjYKA7EBDnwCPLrObS1BRiLoJLnte6CQy8FLHLCzs2QUG4FjZ5GbcmBDDjxJBXDWxCBrb8aM4zbkIDzpLYnAcE9VXlJSWlZRU13koIeW57mGx5XjoMZEUqwxWYQaQbSzLSkYGfKFSe0QMsX5WbjgY0YS4MBplemI4BdGBW+DQ11eZiymfqQuXZIjqwyadPNoSZ4L+0FVM6e+oGI6g8a9iKNT3o8kVzNkzRg5lgl7p4wyRUL9Yt2jAxVh6mQCogae6GmflI8p0r13VFWTHBQ0rWPW7ahgWVcPm+9cuLoyy4kCJDzCm6d8PSFoh0zvQNC5OjDJhQopPPJqph1doJBUD5tnkbZiUEqaCnB3bTqLTFG1bPn71kw4b+GFdpLElKIzRxxgYgWNYc5SCENVHKeUaltHdXx0dZ8uBI1hJ2UUDgq82CM2MwKeibqAvSO7MCABq0wXEPiqWEAAAAAElFTkSuQmCC"]="http://openlayers.org/";else{var e=a.logo;"string"==typeof e?d[e]="":e instanceof HTMLElement?d[i(e).toString()]=e:h(e)&&(d[e.src]=e.href)}e=a.layers instanceof Mg?a.layers:new Mg({layers:a.layers}),c.layergroup=e,c.target=a.target,c.view=void 0!==a.view?a.view:new uc;var f,e=Af;void 0!==a.renderer?Array.isArray(a.renderer)?f=a.renderer:"string"==typeof a.renderer&&(f=[a.renderer]):f=zs;var g,j;for(g=0,j=f.length;g<j;++g){var k=f[g];if("canvas"==k){if(tr){e=fj;break}}else{if("dom"==k){e=nj;break}if("webgl"==k&&ir){e=dk;break}}}var l;l=void 0!==a.controls?Array.isArray(a.controls)?new Pc(a.controls.slice()):a.controls:me();var m;return m=void 0!==a.interactions?Array.isArray(a.interactions)?new Pc(a.interactions.slice()):a.interactions:Lg(),a=void 0!==a.overlays?Array.isArray(a.overlays)?new Pc(a.overlays.slice()):a.overlays:new Pc,{controls:l,interactions:m,keyboardEventTarget:b,logos:d,overlays:a,Qo:e,values:c}}function jk(a){W.call(this),this.j=a.id,this.o=void 0===a.insertFirst||a.insertFirst,this.s=void 0===a.stopEvent||a.stopEvent,this.f=document.createElement("DIV"),this.f.className="ol-overlay-container",this.f.style.position="absolute",this.autoPan=void 0!==a.autoPan&&a.autoPan,this.i=void 0!==a.autoPanAnimation?a.autoPanAnimation:{},this.l=void 0!==a.autoPanMargin?a.autoPanMargin:20,this.a={Hd:"",$d:"",ye:"",Be:"",visible:!0},this.c=null,H(this,X("element"),this.Fk,this),H(this,X("map"),this.Rk,this),H(this,X("offset"),this.Vk,this),H(this,X("position"),this.Xk,this),H(this,X("positioning"),this.Yk,this),void 0!==a.element&&this.ai(a.element),this.gi(void 0!==a.offset?a.offset:[0,0]),this.ji(void 0!==a.positioning?a.positioning:"top-left"),void 0!==a.position&&this.qf(a.position)}function kk(a,b){var c,d=nd(a),e=new bd(0,0);c=d?nd(d):document;var f;return(f=!Tq||9<=Number(ar))||(dd(c),f=!0),a!=(f?c.documentElement:c.body)&&(c=sd(a),f=dd(d).b,d=f.scrollingElement?f.scrollingElement:Wq?f.body||f.documentElement:f.documentElement,f=f.parentWindow||f.defaultView,d=Tq&&ad("10")&&f.pageYOffset!=d.scrollTop?new bd(d.scrollLeft,d.scrollTop):new bd(f.pageXOffset||d.scrollLeft,f.pageYOffset||d.scrollTop),e.x=c.left+d.x,e.y=c.top+d.y),[e.x,e.y,e.x+b[0],e.y+b[1]]}function lk(a,b){a.a.visible!==b&&(vd(a.f,b),a.a.visible=b)}function mk(a){var b=a.ce(),c=a.ah();if(void 0!==b&&b.f&&void 0!==c){var c=b.Da(c),d=b.$a(),b=a.f.style,e=a.Fg(),f=a.Gg(),g=e[0],e=e[1];"bottom-right"==f||"center-right"==f||"top-right"==f?(""!==a.a.$d&&(a.a.$d=b.left=""),g=Math.round(d[0]-c[0]-g)+"px",a.a.ye!=g&&(a.a.ye=b.right=g)):(""!==a.a.ye&&(a.a.ye=b.right=""),"bottom-center"!=f&&"center-center"!=f&&"top-center"!=f||(g-=td(a.f).width/2),g=Math.round(c[0]+g)+"px",a.a.$d!=g&&(a.a.$d=b.left=g)),"bottom-left"==f||"bottom-center"==f||"bottom-right"==f?(""!==a.a.Be&&(a.a.Be=b.top=""),c=Math.round(d[1]-c[1]-e)+"px",a.a.Hd!=c&&(a.a.Hd=b.bottom=c)):(""!==a.a.Hd&&(a.a.Hd=b.bottom=""),"center-left"!=f&&"center-center"!=f&&"center-right"!=f||(e-=td(a.f).height/2),c=Math.round(c[1]+e)+"px",a.a.Be!=c&&(a.a.Be=b.top=c)),lk(a,!0)}else lk(a,!1)}function nk(a){a=a?a:{},this.l=void 0===a.collapsed||a.collapsed,this.o=void 0===a.collapsible||a.collapsible,this.o||(this.l=!1);var b=void 0!==a.className?a.className:"ol-overviewmap",c=void 0!==a.tipLabel?a.tipLabel:"Overview map",d=void 0!==a.collapseLabel?a.collapseLabel:"";this.v="string"==typeof d?gd("SPAN",{},d):d,d=void 0!==a.label?a.label:"",this.B="string"==typeof d?gd("SPAN",{},d):d,c=gd("BUTTON",{type:"button",title:c},this.o&&!this.l?this.v:this.B),H(c,"click",this.am,this),d=document.createElement("DIV"),d.className="ol-overviewmap-map";var e=this.f=new hk({controls:new Pc,interactions:new Pc,target:d,view:a.view});a.layers&&a.layers.forEach(function(a){e.gg(a)},this);var f=document.createElement("DIV");f.className="ol-overviewmap-box",f.style.boxSizing="border-box",this.j=new jk({position:[0,0],positioning:"bottom-left",element:f}),this.f.hg(this.j),b=gd("DIV",b+" ol-unselectable ol-control"+(this.l&&this.o?" ol-collapsed":"")+(this.o?"":" ol-uncollapsible"),d,c),Bd.call(this,{element:b,render:a.render?a.render:ok,target:a.target})}function ok(){var a=this.a,b=this.f;if(a.f&&b.f){var c=a.$a(),a=a.aa().Fc(c),d=b.$a(),c=b.aa().Fc(d),e=b.Da(Wa(a)),f=b.Da(Ra(a)),b=Math.abs(e[0]-f[0]),e=Math.abs(e[1]-f[1]),f=d[0],d=d[1];b<.1*f||e<.1*d||b>.75*f||e>.75*d?pk(this):Da(c,a)||(a=this.f,c=this.a.aa(),a.aa().jb(c.bb()))}qk(this)}function pk(a){var b=a.a;a=a.f;var c=b.$a(),b=b.aa().Fc(c),c=a.$a();a=a.aa(),_a(b,1/(.1*Math.pow(2,Math.log(7.5)/Math.LN2/2))),a.Ze(b,c)}function qk(a){var b=a.a,c=a.f;if(b.f&&c.f){var d=b.$a(),e=b.aa(),f=c.aa();c.$a();var g,c=e.Ka(),b=a.j,h=a.j.be(),e=e.Fc(d),d=f.$(),f=Qa(e),e=Xa(e);(a=a.a.aa().bb())&&(g=[f[0]-a[0],f[1]-a[1]],ua(g,c),pa(g,a)),b.qf(g),h&&(h.style.width=Math.abs((f[0]-e[0])/d)+"px",h.style.height=Math.abs((e[1]-f[1])/d)+"px")}}function rk(a){a.element.classList.toggle("ol-collapsed"),a.l?ld(a.v,a.B):ld(a.B,a.v),a.l=!a.l;var b=a.f;a.l||b.f||(b.Sc(),pk(a),I(b,"postrender",function(){qk(this)},a))}function sk(a){a=a?a:{};var b=void 0!==a.className?a.className:"ol-scale-line";this.o=document.createElement("DIV"),
this.o.className=b+"-inner",this.f=document.createElement("DIV"),this.f.className=b+" ol-unselectable",this.f.appendChild(this.o),this.v=null,this.j=void 0!==a.minWidth?a.minWidth:64,this.l=!1,this.M=void 0,this.B="",Bd.call(this,{element:this.f,render:a.render?a.render:tk,target:a.target}),H(this,X("units"),this.R,this),this.N(a.units||"metric")}function tk(a){(a=a.frameState)?this.v=a.viewState:this.v=null,uk(this)}function uk(a){var b=a.v;if(b){var c=b.projection,d=c.Vb(),b=c.getPointResolution(b.resolution,b.center)*d,d=a.j*b,c="",e=a.vb();"degrees"==e?(c=Eq.degrees,b/=c,d<c/60?(c="",b*=3600):d<c?(c="",b*=60):c=""):"imperial"==e?.9144>d?(c="in",b/=.0254):1609.344>d?(c="ft",b/=.3048):(c="mi",b/=1609.344):"nautical"==e?(b/=1852,c="nm"):"metric"==e?1>d?(c="mm",b*=1e3):1e3>d?c="m":(c="km",b/=1e3):"us"==e&&(.9144>d?(c="in",b*=39.37):1609.344>d?(c="ft",b/=.30480061):(c="mi",b/=1609.3472));for(var f,e=3*Math.floor(Math.log(a.j*b)/Math.log(10));;){if(f=As[(e%3+3)%3]*Math.pow(10,Math.floor(e/3)),d=Math.round(f/b),isNaN(d))return vd(a.f,!1),void(a.l=!1);if(d>=a.j)break;++e}b=f+" "+c,a.B!=b&&(a.o.innerHTML=b,a.B=b),a.M!=d&&(a.o.style.width=d+"px",a.M=d),a.l||(vd(a.f,!0),a.l=!0)}else a.l&&(vd(a.f,!1),a.l=!1)}function vk(a){a=a?a:{},this.f=void 0,this.l=Bs,this.v=[],this.M=this.j=0,this.T=null,this.ea=!1,this.Y=void 0!==a.duration?a.duration:200;var b=void 0!==a.className?a.className:"ol-zoomslider",c=gd("BUTTON",{type:"button",class:b+"-thumb ol-unselectable"}),b=gd("DIV",[b,"ol-unselectable","ol-control"],c);this.o=new Oe(b),H(this.o,Dr,this.Ek,this),H(this.o,Cr,this.Ig,this),H(this.o,Er,this.Jg,this),H(b,"click",this.Dk,this),H(c,"click",P),Bd.call(this,{element:b,render:a.render?a.render:wk})}function wk(a){if(a.frameState){if(!this.ea){var b=this.element,c=td(b),d=b.firstElementChild,b=yd(d,"margin"),e=new cd(d.offsetWidth,d.offsetHeight),d=e.width+b.right+b.left,b=e.height+b.top+b.bottom;this.T=[d,b],c.width>c.height?(this.l=1,this.M=c.width-d):(this.l=Bs,this.j=c.height-b),this.ea=!0}a=a.frameState.viewState.resolution,a!==this.f&&(this.f=a,xk(this,a))}}function xk(a,b){var c;c=1-yc(a.a.aa())(b);var d=a.element.firstElementChild;1==a.l?d.style.left=a.M*c+"px":d.style.top=a.j*c+"px"}function yk(a,b){return xc(a.a.aa())(1-b)}function zk(a){a=a?a:{},this.f=a.extent?a.extent:null;var b=void 0!==a.className?a.className:"ol-zoom-extent",c=gd("BUTTON",{type:"button",title:void 0!==a.tipLabel?a.tipLabel:"Fit to extent"},void 0!==a.label?a.label:"E");H(c,"click",this.l,this),b=gd("DIV",b+" ol-unselectable ol-control",c),Bd.call(this,{element:b,target:a.target})}function Ak(a){W.call(this),a=a?a:{},this.a=null,H(this,X("tracking"),this.El,this),this.mf(void 0!==a.tracking&&a.tracking)}function Bk(){this.defaultDataProjection=null}function Ck(a,b,c){var d;return c&&(d={dataProjection:c.dataProjection?c.dataProjection:a.Oa(b),featureProjection:c.featureProjection}),Dk(a,d)}function Dk(a,b){var c;return b&&(c={featureProjection:b.featureProjection,dataProjection:b.dataProjection?b.dataProjection:a.defaultDataProjection,rightHanded:b.rightHanded},b.decimals&&(c.decimals=b.decimals)),c}function Ek(a,b,c){var d,e=c?nb(c.featureProjection):null,f=c?nb(c.dataProjection):null;if(d=e&&f&&!ob(e,f)?a instanceof vb?(b?a.clone():a).hb(b?e:f,b?f:e):ub(b?a.slice():a,b?e:f,b?f:e):a,b&&c&&c.decimals){var g=Math.pow(10,c.decimals);a=function(a){for(var b=0,c=a.length;b<c;++b)a[b]=Math.round(a[b]*g)/g;return a},Array.isArray(d)?a(d):d.mc(a)}return d}function Fk(){this.defaultDataProjection=null}function Gk(a){return h(a)?a:"string"==typeof a&&(a=JSON.parse(a))?a:null}function Hk(a,b,c,d,e,f){var g=NaN,h=NaN,i=(c-b)/d;if(0!==i)if(1==i)g=a[b],h=a[b+1];else if(2==i)g=(1-e)*a[b]+e*a[b+d],h=(1-e)*a[b+1]+e*a[b+d+1];else{var j,h=a[b],i=a[b+1],k=0,g=[0];for(j=b+d;j<c;j+=d){var l=a[j],m=a[j+1],k=k+Math.sqrt((l-h)*(l-h)+(m-i)*(m-i));g.push(k),h=l,i=m}for(c=e*k,i=0,k=g.length,j=!1;i<k;)e=i+(k-i>>1),h=+Z(g[e],c),0>h?i=e+1:(k=e,j=!h);e=j?i:~i,0>e?(c=(c-g[-e-2])/(g[-e-1]-g[-e-2]),b+=(-e-2)*d,g=v(a[b],a[b+d],c),h=v(a[b+1],a[b+d+1],c)):(g=a[b+e*d],h=a[b+e*d+1])}return f?(f[0]=g,f[1]=h,f):[g,h]}function Ik(a,b,c,d,e,f){if(c==b)return null;if(e<a[b+d-1])return f?(c=a.slice(b,b+d),c[d-1]=e,c):null;if(a[c-1]<e)return f?(c=a.slice(c-d,c),c[d-1]=e,c):null;if(e==a[b+d-1])return a.slice(b,b+d);for(b/=d,c/=d;b<c;)f=b+c>>1,e<a[(f+1)*d-1]?c=f:b=f+1;if(c=a[b*d-1],e==c)return a.slice((b-1)*d,(b-1)*d+d);f=(e-c)/(a[(b+1)*d-1]-c),c=[];var g;for(g=0;g<d-1;++g)c.push(v(a[(b-1)*d+g],a[b*d+g],f));return c.push(e),c}function Jk(a,b,c,d,e,f){var g=0;if(f)return Ik(a,g,b[b.length-1],c,d,e);if(d<a[c-1])return e?(a=a.slice(0,c),a[c-1]=d,a):null;if(a[a.length-1]<d)return e?(a=a.slice(a.length-c),a[c-1]=d,a):null;for(e=0,f=b.length;e<f;++e){var h=b[e];if(g!=h){if(d<a[g+c-1])break;if(d<=a[h-1])return Ik(a,g,h,c,d,!1);g=h}}return null}function Kk(a,b){Kb.call(this),this.i=null,this.M=this.N=this.j=-1,this.ma(a,b)}function Lk(a){return a.j!=a.g&&(a.i=a.wg(.5,a.i),a.j=a.g),a.i}function Mk(a,b){Kb.call(this),this.i=[],this.j=this.M=-1,this.ma(a,b)}function Nk(a){var b=[],c=a.A,d=0,e=a.i;a=a.a;var f,g;for(f=0,g=e.length;f<g;++f){var h=e[f],d=Hk(c,d,h,a,.5);ba(b,d),d=h}return b}function Ok(a,b){var c,d,e=a.f,f=[],g=[];for(c=0,d=b.length;c<d;++c){var h=b[c];0===c&&(e=h.f),ba(f,h.ga()),g.push(f.length)}a.ba(e,f,g)}function Pk(a,b){Kb.call(this),this.ma(a,b)}function Qk(a,b){Kb.call(this),this.i=[],this.M=-1,this.N=null,this.T=this.R=this.S=-1,this.j=null,this.ma(a,b)}function Rk(a){if(a.M!=a.g){var b,c,d=a.A,e=a.i,f=a.a,g=0,h=[],i=Ga();for(b=0,c=e.length;b<c;++b){var j=e[b],i=Ja(d,g,j[0],f);h.push((i[0]+i[2])/2,(i[1]+i[3])/2),g=j[j.length-1]}for(d=Sk(a),e=a.i,f=a.a,g=0,b=[],c=0,i=e.length;c<i;++c)j=e[c],b=gc(d,g,j,f,h,2*c,b),g=j[j.length-1];a.N=b,a.M=a.g}return a.N}function Sk(a){if(a.T!=a.g){var b,c=a.A;a:{b=a.i;var d,e;for(d=0,e=b.length;d<e;++d)if(!lc(c,b[d],a.a,void 0)){b=!1;break a}b=!0}b?a.j=c:(a.j=c.slice(),a.j.length=nc(a.j,a.i,a.a)),a.T=a.g}return a.j}function Tk(a,b,c,d){Mb(a,b,c),a.i=d,a.u()}function Uk(a,b){var c,d,e,f=a.f,g=[],h=[];for(c=0,d=b.length;c<d;++c){var i=b[c];0===c&&(f=i.f);var j=g.length;e=i.zb();var k,l;for(k=0,l=e.length;k<l;++k)e[k]+=j;ba(g,i.ga()),h.push(e)}Tk(a,f,g,h)}function Vk(a){a=a?a:{},this.defaultDataProjection=null,this.b=a.geometryName}function Wk(a,b){if(!a)return null;var c;if(f(a.x)&&f(a.y))c="Point";else if(a.points)c="MultiPoint";else if(a.paths)c=1===a.paths.length?"LineString":"MultiLineString";else if(a.rings){var d=a.rings,e=Xk(a),g=[];c=[];var h,i;for(h=0,i=d.length;h<i;++h){var j=aa(d[h]);kc(j,0,j.length,e.length)?g.push([d[h]]):c.push(d[h])}for(;c.length;){for(d=c.shift(),e=!1,h=g.length-1;0<=h;h--)if(Da(new ac(g[h][0]).O(),new ac(d).O())){g[h].push(d),e=!0;break}e||g.push([d.reverse()])}a=Aq({},a),1===g.length?(c="Polygon",a.rings=g[0]):(c="MultiPolygon",a.rings=g)}return Ek((0,Cs[c])(a),!1,b)}function Xk(a){var b="XY";return!0===a.hasZ&&!0===a.hasM?b="XYZM":!0===a.hasZ?b="XYZ":!0===a.hasM&&(b="XYM"),b}function Yk(a){return a=a.f,{hasZ:"XYZ"===a||"XYZM"===a,hasM:"XYM"===a||"XYZM"===a}}function Zk(a,b){return(0,Ds[a.X()])(Ek(a,!0,b),b)}function $k(a){vb.call(this),this.c=a?a:null,bl(this)}function _k(a){var b,c,d=[];for(b=0,c=a.length;b<c;++b)d.push(a[b].clone());return d}function al(a){var b,c;if(a.c)for(b=0,c=a.c.length;b<c;++b)J(a.c[b],"change",a.u,a)}function bl(a){var b,c;if(a.c)for(b=0,c=a.c.length;b<c;++b)H(a.c[b],"change",a.u,a)}function cl(a){a=a?a:{},this.defaultDataProjection=null,this.defaultDataProjection=nb(a.defaultDataProjection?a.defaultDataProjection:"EPSG:4326"),this.b=a.geometryName}function dl(a,b){return a?Ek((0,Es[a.type])(a),!1,b):null}function el(a,b){return(0,Fs[a.X()])(Ek(a,!0,b),b)}function fl(){this.f=new XMLSerializer,this.defaultDataProjection=null}function gl(a,b,c){return a=hl(a,b,c),0<a.length?a[0]:null}function hl(a,b,c){var d=[];for(b=b.firstChild;b;b=b.nextSibling)1==b.nodeType&&ba(d,a.gc(b,c));return d}function il(a){a=a?a:{},this.featureType=a.featureType,this.featureNS=a.featureNS,this.srsName=a.srsName,this.schemaLocation="",this.b={},this.b["http://www.opengis.net/gml"]={featureMember:ni(il.prototype.qd),featureMembers:ni(il.prototype.qd)},fl.call(this)}function jl(a){return a=gi(a,!1),kl(a)}function kl(a){if(a=/^\s*(true|1)|(false|0)\s*$/.exec(a))return void 0!==a[1]||!1}function ll(a){if(a=gi(a,!1),a=/^\s*(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2})(Z|(?:([+\-])(\d{2})(?::(\d{2}))?))\s*$/.exec(a)){var b=Date.UTC(parseInt(a[1],10),parseInt(a[2],10)-1,parseInt(a[3],10),parseInt(a[4],10),parseInt(a[5],10),parseInt(a[6],10))/1e3;if("Z"!=a[7]){var c="-"==a[8]?-1:1,b=b+60*c*parseInt(a[9],10);void 0!==a[10]&&(b+=3600*c*parseInt(a[10],10))}return b}}function ml(a){return a=gi(a,!1),nl(a)}function nl(a){if(a=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)\s*$/i.exec(a))return parseFloat(a[1])}function ol(a){return a=gi(a,!1),pl(a)}function pl(a){if(a=/^\s*(\d+)\s*$/.exec(a))return parseInt(a[1],10)}function ql(a){return gi(a,!1).trim()}function rl(a,b){ul(a,b?"1":"0")}function sl(a,b){a.appendChild(ts.createTextNode(b.toPrecision()))}function tl(a,b){a.appendChild(ts.createTextNode(b.toString()))}function ul(a,b){a.appendChild(ts.createTextNode(b))}function vl(a){a=a?a:{},il.call(this,a),this.b["http://www.opengis.net/gml"].featureMember=mi(il.prototype.qd),this.schemaLocation=a.schemaLocation?a.schemaLocation:"http://www.opengis.net/gml http://schemas.opengis.net/gml/2.1.2/feature.xsd"}function wl(a){a=a?a:{},il.call(this,a),this.j=void 0!==a.surface&&a.surface,this.i=void 0!==a.curve&&a.curve,this.l=void 0===a.multiCurve||a.multiCurve,this.o=void 0===a.multiSurface||a.multiSurface,this.schemaLocation=a.schemaLocation?a.schemaLocation:"http://www.opengis.net/gml http://schemas.opengis.net/gml/3.1.1/profiles/gmlsfProfile/1.0.0/gmlsf.xsd"}function xl(a,b,c){c=c[c.length-1].srsName,b=b.Z();for(var d,e=b.length,f=Array(e),g=0;g<e;++g){d=b[g];var h=g,i="enu";c&&(i=nb(c).b),f[h]="en"===i.substr(0,2)?d[0]+" "+d[1]:d[1]+" "+d[0]}ul(a,f.join(" "))}function yl(a){a=a?a:{},fl.call(this),this.defaultDataProjection=nb("EPSG:4326"),this.b=a.readExtensions}function zl(a,b,c){return a.push(parseFloat(b.getAttribute("lon")),parseFloat(b.getAttribute("lat"))),"ele"in c?(a.push(c.ele),delete c.ele):a.push(0),"time"in c?(a.push(c.time),delete c.time):a.push(0),a}function Al(a,b){var c=b[b.length-1],d=a.getAttribute("href");null!==d&&(c.link=d),vi(Rs,a,b)}function Bl(a,b){b[b.length-1].extensionsNode_=a}function Cl(a,b){var c=b[0],d=wi({flatCoordinates:[]},Ss,a,b);if(d){var e=d.flatCoordinates;delete d.flatCoordinates;var f=new Kk(null);return f.ba("XYZM",e),Ek(f,!1,c),c=new ci(f),c.C(d),c}}function Dl(a,b){var c=b[0],d=wi({flatCoordinates:[],ends:[]},Us,a,b);if(d){var e=d.flatCoordinates;delete d.flatCoordinates;var f=d.ends;delete d.ends;var g=new Mk(null);return g.ba("XYZM",e,f),Ek(g,!1,c),c=new ci(g),c.C(d),c}}function El(a,b){var c=b[0],d=wi({},Xs,a,b);if(d){var e=zl([],a,d),e=new cc(e,"XYZM");return Ek(e,!1,c),c=new ci(e),c.C(d),c}}function Fl(a,b){b||(b=[]);for(var c=0,d=b.length;c<d;++c){var e=b[c];if(a.b){var f=e.get("extensionsNode_")||null;a.b(e,f)}e.set("extensionsNode_",void 0)}}function Gl(a,b,c){a.setAttribute("href",b),b=c[c.length-1].properties,yi({node:a},Zs,us,[b.linkText,b.linkType],c,Ys)}function Hl(a,b,c){var d=c[c.length-1],e=d.node.namespaceURI,f=d.properties;switch(a.setAttributeNS(null,"lat",b[1]),a.setAttributeNS(null,"lon",b[0]),d.geometryLayout){case"XYZM":0!==b[3]&&(f.time=b[3]);case"XYZ":0!==b[2]&&(f.ele=b[2]);break;case"XYM":0!==b[2]&&(f.time=b[2])}b=et[e],d=ti(f,b),yi({node:a,properties:f},ft,us,d,c,b)}function Il(a,b){var c=a.W();if(c&&(c=gt[c.X()]))return fi(b[b.length-1].node.namespaceURI,c)}function Jl(){this.defaultDataProjection=null}function Kl(a){return"string"==typeof a?a:""}function Ll(a){a=a?a:{},this.defaultDataProjection=null,this.defaultDataProjection=nb("EPSG:4326"),this.b=a.altitudeMode?a.altitudeMode:"none"}function Ml(a,b){this.a={},this.b=[],this.g=0;var c=arguments.length;if(1<c){if(c%2)throw Error("Uneven number of arguments");for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else if(a){var e;if(a instanceof Ml)e=a.K(),d=a.uc();else{var c=[],f=0;for(e in a)c[f++]=e;e=c,c=[],f=0;for(d in a)c[f++]=a[d];d=c}for(c=0;c<e.length;c++)this.set(e[c],d[c])}}function Nl(a){if(a.g!=a.b.length){for(var b=0,c=0;b<a.b.length;){var d=a.b[b];Ol(a.a,d)&&(a.b[c++]=d),b++}a.b.length=c}if(a.g!=a.b.length){for(var e={},c=b=0;b<a.b.length;)d=a.b[b],Ol(e,d)||(a.b[c++]=d,e[d]=1),b++;a.b.length=c}}function Ol(a,b){return Object.prototype.hasOwnProperty.call(a,b)}function Pl(a,b){if(a)for(var c=a.split("&"),d=0;d<c.length;d++){var e=c[d].indexOf("="),f=null,g=null;0<=e?(f=c[d].substring(0,e),g=c[d].substring(e+1)):f=c[d],b(f,g?decodeURIComponent(g.replace(/\+/g," ")):"")}}function Ql(a){if(a[1]){var b=a[0],c=b.indexOf("#");0<=c&&(a.push(b.substr(c)),a[0]=b=b.substr(0,c)),c=b.indexOf("?"),0>c?a[1]="?":c==b.length-1&&(a[1]=void 0)}return a.join("")}function Rl(a,b,d){if("array"==c(b))for(var e=0;e<b.length;e++)Rl(a,String(b[e]),d);else null!=b&&d.push("&",a,""===b?"":"=",encodeURIComponent(String(b)))}function Sl(a,b){for(var c in b)Rl(c,b[c],a);return a}function Tl(a,b){this.a=this.l=this.g="",this.o=null,this.f=this.b="",this.c=!1;var c;a instanceof Tl?(this.c=void 0!==b?b:a.c,Ul(this,a.g),this.l=a.l,this.a=a.a,Vl(this,a.o),this.b=a.b,Wl(this,a.i.clone()),this.f=a.f):a&&(c=String(a).match(mt))?(this.c=!!b,Ul(this,c[1]||"",!0),this.l=Zl(c[2]||""),this.a=Zl(c[3]||"",!0),Vl(this,c[4]),this.b=Zl(c[5]||"",!0),Wl(this,c[6]||"",!0),this.f=Zl(c[7]||"")):(this.c=!!b,this.i=new am(null,0,this.c))}function Ul(a,b,c){a.g=c?Zl(b,!0):b,a.g&&(a.g=a.g.replace(/:$/,""))}function Vl(a,b){if(b){if(b=Number(b),isNaN(b)||0>b)throw Error("Bad port number "+b);a.o=b}else a.o=null}function Wl(a,b,c){b instanceof am?(a.i=b,em(a.i,a.c)):(c||(b=$l(b,qt)),a.i=new am(b,0,a.c))}function Xl(a){return a instanceof Tl?a.clone():new Tl(a,void 0)}function Yl(a,b){a instanceof Tl||(a=Xl(a)),b instanceof Tl||(b=Xl(b));var c=a,d=b,e=c.clone(),f=!!d.g;f?Ul(e,d.g):f=!!d.l,f?e.l=d.l:f=!!d.a,f?e.a=d.a:f=null!=d.o;var g=d.b;if(f)Vl(e,d.o);else if(f=!!d.b)if("/"!=g.charAt(0)&&(c.a&&!c.b?g="/"+g:(c=e.b.lastIndexOf("/"),-1!=c&&(g=e.b.substr(0,c+1)+g))),c=g,".."==c||"."==c)g="";else if(-1!=c.indexOf("./")||-1!=c.indexOf("/.")){for(var g=0==c.lastIndexOf("/",0),c=c.split("/"),h=[],i=0;i<c.length;){var j=c[i++];"."==j?g&&i==c.length&&h.push(""):".."==j?((1<h.length||1==h.length&&""!=h[0])&&h.pop(),g&&i==c.length&&h.push("")):(h.push(j),g=!0)}g=h.join("/")}else g=c;return f?e.b=g:f=""!==d.i.toString(),f?Wl(e,Zl(d.i.toString())):f=!!d.f,f&&(e.f=d.f),e}function Zl(a,b){return a?b?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function $l(a,b,c){return e(a)?(a=encodeURI(a).replace(b,_l),c&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function _l(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(15&a).toString(16)}function am(a,b,c){this.a=this.b=null,this.g=a||null,this.f=!!c}function bm(a){a.b||(a.b=new Ml,a.a=0,a.g&&Pl(a.g,function(b,c){a.add(decodeURIComponent(b.replace(/\+/g," ")),c)}))}function cm(a,b){return bm(a),b=dm(a,b),Ol(a.b.a,b)}function dm(a,b){var c=String(b);return a.f&&(c=c.toLowerCase()),c}function em(a,b){b&&!a.f&&(bm(a),a.g=null,a.b.forEach(function(a,b){var c=b.toLowerCase();b!=c&&(this.remove(b),this.remove(c),0<a.length&&(this.g=null,this.b.set(dm(this,c),Sc(a)),this.a=this.a+a.length))},a)),a.f=b}function fm(a){a=a||{},this.g=a.font,this.i=a.rotation,this.a=a.scale,this.s=a.text,this.o=a.textAlign,this.j=a.textBaseline,this.b=void 0!==a.fill?a.fill:new Vg({color:"#333"}),this.l=void 0!==a.stroke?a.stroke:null,this.f=void 0!==a.offsetX?a.offsetX:0,this.c=void 0!==a.offsetY?a.offsetY:0}function gm(a){a=a?a:{},fl.call(this),this.defaultDataProjection=nb("EPSG:4326"),this.g=a.defaultStyle?a.defaultStyle:Bt,this.c=void 0===a.extractStyles||a.extractStyles,this.l=void 0===a.writeStyles||a.writeStyles,this.b={},this.i=void 0===a.showPointNames||a.showPointNames}function hm(a,b){var c=null,d=[0,0],e="start";if(a.a&&(c=a.a.fd())&&2==c.length&&(d[0]=a.a.i*c[0]/2,d[1]=-a.a.i*c[1]/2,e="left"),B(a.Ea()))c=new fm({text:b,offsetX:d[0],offsetY:d[1],textAlign:e});else{var f,c=a.Ea(),g={};for(f in c)g[f]=c[f];c=g,c.ki(b),c.li(e),c.hi(d[0]),c.ii(d[1])}return new ch({text:c})}function im(a,b,c,d,e){return function(){var f=e,g="";if(f&&this.W()&&(f="Point"===this.W().X()),f&&(g=this.get("name"),f=f&&g),a)return f?(f=hm(a[0],g),a.concat(f)):a;if(b){var h=jm(b,c,d);return f?(f=hm(h[0],g),h.concat(f)):h}return f?(f=hm(c[0],g),c.concat(f)):c}}function jm(a,b,c){return Array.isArray(a)?a:"string"==typeof a?(!(a in c)&&"#"+a in c&&(a="#"+a),jm(c[a],b,c)):b}function km(a){if(a=gi(a,!1),a=/^\s*#?\s*([0-9A-Fa-f]{8})\s*$/.exec(a))return a=a[1],[parseInt(a.substr(6,2),16),parseInt(a.substr(4,2),16),parseInt(a.substr(2,2),16),parseInt(a.substr(0,2),16)/255]}function lm(a){a=gi(a,!1);for(var b,c=[],d=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)\s*,\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)(?:\s*,\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?))?\s*/i;b=d.exec(a);)c.push(parseFloat(b[1]),parseFloat(b[2]),b[3]?parseFloat(b[3]):0),a=a.substr(b[0].length);return""!==a?void 0:c}function mm(a){var b=gi(a,!1);return a.baseURI?Yl(a.baseURI,b.trim()).toString():b.trim()}function nm(a){if(a=ml(a),void 0!==a)return Math.sqrt(a)}function om(a,b){return wi(null,Gt,a,b)}function pm(a,b){var c=wi({A:[],ui:[]},It,a,b);if(c){var d,e,f=c.A,c=c.ui;for(d=0,e=Math.min(f.length,c.length);d<e;++d)f[4*d+3]=c[d];return c=new Kk(null),c.ba("XYZM",f),c}}function qm(a,b){var c=wi({},Ft,a,b),d=wi(null,Jt,a,b);if(d){var e=new Kk(null);return e.ba("XYZ",d),e.C(c),e}}function rm(a,b){var c=wi({},Ft,a,b),d=wi(null,Jt,a,b);if(d){var e=new oc(null);return e.ba("XYZ",d,[d.length]),e.C(c),e}}function sm(a,b){var c=wi([],Pt,a,b);if(!c)return null;if(0===c.length)return new $k(c);var d,e,f,g=!0,h=c[0].X();for(e=1,f=c.length;e<f;++e)if(d=c[e],d.X()!=h){g=!1;break}if(g){if("Point"==h){for(d=c[0],g=d.f,h=d.ga(),e=1,f=c.length;e<f;++e)d=c[e],ba(h,d.ga());return d=new Pk(null),d.ba(g,h),wm(d,c),d}return"LineString"==h?(d=new Mk(null),Ok(d,c),wm(d,c),d):"Polygon"==h?(d=new Qk(null),Uk(d,c),wm(d,c),d):"GeometryCollection"==h?new $k(c):null}return new $k(c)}function tm(a,b){var c=wi({},Ft,a,b),d=wi(null,Jt,a,b);if(d){var e=new cc(null);return e.ba("XYZ",d),e.C(c),e}}function um(a,b){var c=wi({},Ft,a,b),d=wi([null],Ht,a,b);if(d&&d[0]){var e,f,g=new oc(null),h=d[0],i=[h.length];for(e=1,f=d.length;e<f;++e)ba(h,d[e]),i.push(h.length);return g.ba("XYZ",h,i),g.C(c),g}}function vm(a,b){var c=wi({},Yt,a,b);if(!c)return null;var d="fillStyle"in c?c.fillStyle:vt,e=c.fill;void 0===e||e||(d=null);var e="imageStyle"in c?c.imageStyle:yt,f="textStyle"in c?c.textStyle:At,g="strokeStyle"in c?c.strokeStyle:zt,c=c.outline;return void 0===c||c||(g=null),[new ch({fill:d,image:e,stroke:g,text:f,zIndex:void 0})]}function wm(a,b){var c,d,e,f,g=b.length,h=Array(b.length),i=Array(b.length);for(e=f=!1,d=0;d<g;++d)c=b[d],h[d]=c.get("extrude"),i[d]=c.get("altitudeMode"),e=e||void 0!==h[d],f=f||i[d];e&&a.set("extrude",h),f&&a.set("altitudeMode",i)}function xm(a,b){vi(Et,a,b)}function ym(a,b){var c;for(c=b.firstChild;c;c=c.nextSibling)if(1==c.nodeType){var d=zm(a,c);if(d)return d}}function zm(a,b){var c;for(c=b.firstElementChild;c;c=c.nextElementSibling)if($(tt,c.namespaceURI)&&"name"==c.localName)return ql(c);for(c=b.firstElementChild;c;c=c.nextElementSibling){var d=c.localName;if($(tt,c.namespaceURI)&&("Document"==d||"Folder"==d||"Placemark"==d||"kml"==d)&&(d=zm(a,c)))return d}}function Am(a,b){var c,d=[];for(c=b.firstChild;c;c=c.nextSibling)1==c.nodeType&&ba(d,Bm(a,c));return d}function Bm(a,b){var c,d=[];for(c=b.firstElementChild;c;c=c.nextElementSibling)if($(tt,c.namespaceURI)&&"NetworkLink"==c.localName){var e=wi({},Rt,c,[]);d.push(e)}for(c=b.firstElementChild;c;c=c.nextElementSibling)e=c.localName,!$(tt,c.namespaceURI)||"Document"!=e&&"Folder"!=e&&"kml"!=e||ba(d,Bm(a,c));return d}function Cm(a,b){var c,d=Uc(b),d=[255*(4==d.length?d[3]:1),d[2],d[1],d[0]];for(c=0;4>c;++c){var e=parseInt(d[c],10).toString(16);d[c]=1==e.length?"0"+e:e}ul(a,d.join(""))}function Dm(a,b,c){a={node:a};var d,e,f=b.X();"GeometryCollection"==f?(d=b.bf(),e=Lm):"MultiPoint"==f?(d=b.ee(),e=wu):"MultiLineString"==f?(d=b.gd(),e=xu):"MultiPolygon"==f&&(d=b.Qd(),e=zu),yi(a,lu,e,d,c)}function Em(a,b,c){yi({node:a},ku,yu,[b],c)}function Fm(a,b,c){var d={node:a};b.Wa()&&a.setAttribute("id",b.Wa()),a=b.L();var e=b.$b();e&&(e=e.call(b,0))&&(e=Array.isArray(e)?e[0]:e,this.l&&(a.Style=e),(e=e.Ea())&&(a.name=e.Ea())),e=mu[c[c.length-1].node.namespaceURI],a=ti(a,e),yi(d,nu,us,a,c,e),a=c[0],(b=b.W())&&(b=Ek(b,!0,a)),yi(d,nu,Lm,[b],c)}function Gm(a,b,c){var d=b.ga();a={node:a},a.layout=b.f,a.stride=b.ua(),yi(a,ou,uu,[d],c)}function Hm(a,b,c){b=b.Pd();var d=b.shift();a={node:a},yi(a,pu,vu,b,c),yi(a,pu,Au,[d],c)}function Im(a,b){sl(a,Math.round(b*b*1e6)/1e6)}function Jm(a,b,c){return fi(st[0],"gx:"+c)}function Km(a,b){return fi(b[b.length-1].node.namespaceURI,"Placemark")}function Lm(a,b){if(a)return fi(b[b.length-1].node.namespaceURI,bu[a.X()])}function Mm(a){this.defaultDataProjection=null,a=a?a:{},this.defaultDataProjection=new eb({code:"",units:"tile-pixels"}),this.b=a.featureClass?a.featureClass:Nh,this.g=a.geometryName?a.geometryName:"geometry",this.a=a.layerName?a.layerName:"layer",this.f=a.layers?a.layers:null}function Nm(a,b,c){for(var d=0,e=0,f=a.length;e<f;++e){var g,h,i=a[e];for(g=0,h=i.length;g<h;++g){var j=i[g];b.push(j.x,j.y)}d+=2*g,c.push(d)}}function Om(a,b){return new Tm(a,b)}function Pm(a,b,c){return new Wm(a,b,c)}function Qm(a){W.call(this),this.Ae=a}function Rm(a){Qm.call(this,a)}function Sm(a,b,c){Qm.call(this,a),this.a=b,this.f=c}function Tm(a,b){Sm.call(this,"And",a,b)}function Um(a,b){Sm.call(this,"Or",a,b)}function Vm(a){Qm.call(this,"Not"),this.condition=a}function Wm(a,b,c){Qm.call(this,"BBOX"),this.geometryName=a,this.extent=b,this.srsName=c}function Xm(a,b){Qm.call(this,a),this.a=b}function Ym(a,b,c,d){Xm.call(this,a,b),this.c=c,this.f=d}function Zm(a,b,c){Ym.call(this,"PropertyIsEqualTo",a,b,c)}function $m(a,b,c){Ym.call(this,"PropertyIsNotEqualTo",a,b,c)}function _m(a,b){Ym.call(this,"PropertyIsLessThan",a,b)}function an(a,b){Ym.call(this,"PropertyIsLessThanOrEqualTo",a,b)}function bn(a,b){Ym.call(this,"PropertyIsGreaterThan",a,b)}function cn(a,b){Ym.call(this,"PropertyIsGreaterThanOrEqualTo",a,b)}function dn(a){Xm.call(this,"PropertyIsNull",a)}function en(a,b,c){Xm.call(this,"PropertyIsBetween",a),this.f=b,this.c=c}function fn(a,b,c,d,e,f){Xm.call(this,"PropertyIsLike",a),this.i=b,this.o=void 0!==c?c:"*",this.l=void 0!==d?d:".",this.c=void 0!==e?e:"!",this.f=f}function gn(){fl.call(this),this.defaultDataProjection=nb("EPSG:4326")}function hn(a,b){b[b.length-1].xd[a.getAttribute("k")]=a.getAttribute("v")}function jn(a){return a.getAttributeNS("http://www.w3.org/1999/xlink","href")}function kn(){}function ln(){}function mn(a,b,c,d){var e;e=void 0!==d?d:[];for(var f=d=0;f<b;){var g=a[f++];for(e[d++]=a[f++],e[d++]=g,g=2;g<c;++g)e[d++]=a[f++]}e.length=d}function nn(a){a=a?a:{},this.defaultDataProjection=null,this.defaultDataProjection=nb("EPSG:4326"),this.b=a.factor?a.factor:1e5,this.a=a.geometryLayout?a.geometryLayout:"XY"}function on(a,b,c){var d,e=Array(b);for(d=0;d<b;++d)e[d]=0;var f,g;for(f=0,g=a.length;f<g;)for(d=0;d<b;++d,++f){var h=a[f],i=h-e[d];e[d]=h,a[f]=i}return qn(a,c?c:1e5)}function pn(a,b,c){var d,e=Array(b);for(d=0;d<b;++d)e[d]=0;a=rn(a,c?c:1e5);var f;for(c=0,f=a.length;c<f;)for(d=0;d<b;++d,++c)e[d]+=a[c],a[c]=e[d];return a}function qn(a,b){var c,d,e=b?b:1e5;for(c=0,d=a.length;c<d;++c)a[c]=Math.round(a[c]*e);for(e=0,c=a.length;e<c;++e)d=a[e],a[e]=0>d?~(d<<1):d<<1;for(e="",c=0,d=a.length;c<d;++c){for(var f=a[c],g=void 0,h="";32<=f;)g=(32|31&f)+63,h+=String.fromCharCode(g),f>>=5;h+=String.fromCharCode(f+63),e+=h}return e}function rn(a,b){var c,d,e=b?b:1e5,f=[],g=0,h=0;for(c=0,d=a.length;c<d;++c){var i=a.charCodeAt(c)-63,g=g|(31&i)<<h;32>i?(f.push(g),h=g=0):h+=5}for(g=0,h=f.length;g<h;++g)c=f[g],f[g]=1&c?~(c>>1):c>>1;for(g=0,h=f.length;g<h;++g)f[g]/=e;return f}function sn(a){a=a?a:{},this.defaultDataProjection=null,this.defaultDataProjection=nb(a.defaultDataProjection?a.defaultDataProjection:"EPSG:4326")}function tn(a,b){var c,d,e,f,g=[];for(e=0,f=a.length;e<f;++e)c=a[e],0<e&&g.pop(),d=0<=c?b[c]:b[~c].slice().reverse(),g.push.apply(g,d);for(c=0,d=g.length;c<d;++c)g[c]=g[c].slice();return g}function un(a,b,c,d,e){a=a.geometries;var f,g,h=[];for(f=0,g=a.length;f<g;++f)h[f]=vn(a[f],b,c,d,e);return h}function vn(a,b,c,d,e){var f=a.type,g=Uu[f];return b="Point"===f||"MultiPoint"===f?g(a,c,d):g(a,b),c=new ci,c.Ta(Ek(b,!1,e)),void 0!==a.id&&c.hc(a.id),a.properties&&c.C(a.properties),c}function wn(a,b,c){a[0]=a[0]*b[0]+c[0],a[1]=a[1]*b[1]+c[1]}function xn(a){a=a?a:{},this.i=a.featureType,this.g=a.featureNS,this.b=a.gmlFormat?a.gmlFormat:new wl,this.c=a.schemaLocation?a.schemaLocation:"http://www.opengis.net/wfs http://schemas.opengis.net/wfs/1.1.0/wfs.xsd",fl.call(this)}function yn(a,b){for(var c=b.firstChild;c;c=c.nextSibling)if(1==c.nodeType)return zn(a,c)}function zn(a,b){var c={},d=pl(b.getAttribute("numberOfFeatures"));return c.numberOfFeatures=d,wi(c,Vu,b,[],a.b)}function An(a){for(a=a.firstChild;a;a=a.nextSibling)if(1==a.nodeType)return wi({},Zu,a,[])}function Bn(a,b){var c=fi("http://www.opengis.net/ogc","Filter"),d=fi("http://www.opengis.net/ogc","FeatureId");c.appendChild(d),d.setAttribute("fid",b),a.appendChild(c)}function Cn(a,b,c){a={node:a};var d=b.a;yi(a,av,si(d.Ae),[d],c),b=b.f,yi(a,av,si(b.Ae),[b],c)}function Dn(a,b){void 0!==b.f&&a.setAttribute("matchCase",b.f.toString()),Fn(a,b.a),En("Literal",a,""+b.c)}function En(a,b,c){a=fi("http://www.opengis.net/ogc",a),ul(a,c),b.appendChild(a)}function Fn(a,b){En("PropertyName",a,b)}function Gn(a){a=a?a:{},this.defaultDataProjection=null,this.b=void 0!==a.splitCollection&&a.splitCollection}function Hn(a){return a=a.Z(),0===a.length?"":a[0]+" "+a[1]}function In(a){a=a.Z();for(var b=[],c=0,d=a.length;c<d;++c)b.push(a[c][0]+" "+a[c][1]);return b.join(",")}function Jn(a){var b=[];a=a.Pd();for(var c=0,d=a.length;c<d;++c)b.push("("+In(a[c])+")");return b.join(",")}function Kn(a){var b=a.X();return a=(0,bv[b])(a),b=b.toUpperCase(),0===a.length?b+" EMPTY":b+"("+a+")"}function Ln(a){this.a=a,this.b=-1}function Mn(a){var b=a.a.charAt(++a.b),c={position:a.b,value:b};if("("==b)c.type=2;else if(","==b)c.type=5;else if(")"==b)c.type=3;else if("0"<=b&&"9">=b||"."==b||"-"==b){c.type=4;var d,b=a.b,e=!1,f=!1;do"."==d?e=!0:"e"!=d&&"E"!=d||(f=!0),d=a.a.charAt(++a.b);while("0"<=d&&"9">=d||"."==d&&(void 0===e||!e)||!f&&("e"==d||"E"==d)||f&&("-"==d||"+"==d));a=parseFloat(a.a.substring(b,a.b--)),c.value=a}else if("a"<=b&&"z">=b||"A"<=b&&"Z">=b){c.type=1,b=a.b;do d=a.a.charAt(++a.b);while("a"<=d&&"z">=d||"A"<=d&&"Z">=d);a=a.a.substring(b,a.b--).toUpperCase(),c.value=a}else{if(" "==b||"\t"==b||"\r"==b||"\n"==b)return Mn(a);if(""!==b)throw Error("Unexpected character: "+b);c.type=6}return c}function Nn(a){this.a=a}function On(a){var b=a.b;if(a.match(1)){var c=b.value;if("GEOMETRYCOLLECTION"==c){a:{if(a.match(2)){b=[];do b.push(On(a));while(a.match(5));if(a.match(3)){a=b;break a}}else if(Sn(a)){a=[];break a}throw Error(Tn(a))}return new $k(a)}var d=dv[c],b=cv[c];if(!d||!b)throw Error("Invalid geometry type: "+c);return a=d.call(a),new b(a)}throw Error(Tn(a))}function Pn(a){for(var b=[],c=0;2>c;++c){var d=a.b;if(!a.match(4))break;b.push(d.value)}if(2==b.length)return b;throw Error(Tn(a))}function Qn(a){for(var b=[Pn(a)];a.match(5);)b.push(Pn(a));return b}function Rn(a){for(var b=[a.zf()];a.match(5);)b.push(a.zf());return b}function Sn(a){var b=1==a.b.type&&"EMPTY"==a.b.value;return b&&(a.b=Mn(a.a)),b}function Tn(a){return"Unexpected `"+a.b.value+"` at position "+a.b.position+" in `"+a.a.a+"`"}function Un(){this.version=void 0}function Vn(a,b){return wi({},uv,a,b)}function Wn(a,b){return wi({},qv,a,b)}function Xn(a,b){var c=Vn(a,b);if(c){var d=[pl(a.getAttribute("width")),pl(a.getAttribute("height"))];return c.size=d,c}}function Yn(a,b){return wi([],vv,a,b)}function Zn(a){a=a?a:{},this.g="http://mapserver.gis.umn.edu/mapserver",this.b=new vl,this.c=a.layers?a.layers:null,fl.call(this)}function $n(){this.g=new ln}function _n(a){var b=ql(a).split(" ");if(b&&2==b.length)return a=+b[0],b=+b[1],isNaN(a)||isNaN(b)?void 0:[a,b]}function ao(a){W.call(this),a=a||{},this.a=null,this.c=rb,this.f=void 0,H(this,X("projection"),this.Jl,this),H(this,X("tracking"),this.Kl,this),void 0!==a.projection&&this.Yg(nb(a.projection)),void 0!==a.trackingOptions&&this.mi(a.trackingOptions),this.ae(void 0!==a.tracking&&a.tracking)}function bo(a,b,c){Kb.call(this),this.Rf(a,b?b:0,c)}function co(a){var b=a.A[a.a]-a.A[0];return a=a.A[a.a+1]-a.A[1],b*b+a*a}function eo(a,b,c){for(var d,e,f,g,h,i=[],j=a(0),k=a(1),l=b(j),m=b(k),n=[k,j],o=[m,l],p=[1,0],q={},s=1e5;0<--s&&0<p.length;)f=p.pop(),j=n.pop(),l=o.pop(),k=f.toString(),k in q||(i.push(l[0],l[1]),q[k]=!0),g=p.pop(),k=n.pop(),m=o.pop(),h=(f+g)/2,d=a(h),e=b(d),r(e[0],e[1],l[0],l[1],m[0],m[1])<c?(i.push(m[0],m[1]),k=g.toString(),q[k]=!0):(p.push(g,h,h,f),o.push(m,e,e,l),n.push(k,d,d,j));return i}function fo(a,b,c,d,e){var f=nb("EPSG:4326");return eo(function(d){return[a,b+(c-b)*d]},pb(f,d),e)}function go(a,b,c,d,e){var f=nb("EPSG:4326");return eo(function(d){return[b+(c-b)*d,a]},pb(f,d),e)}function ho(a){a=a||{},this.c=this.o=null,this.g=this.i=1/0,this.f=this.l=-(1/0),this.B=this.U=1/0,this.N=this.M=-(1/0),this.ya=void 0!==a.targetSize?a.targetSize:100,this.R=void 0!==a.maxLines?a.maxLines:100,this.b=[],this.a=[],this.va=void 0!==a.strokeStyle?a.strokeStyle:Hv,this.v=this.j=void 0,this.s=null,this.setMap(void 0!==a.map?a.map:null)}function io(a,b,c,d,e,f,g){var h=g;return b=fo(b,c,d,a.c,e),h=void 0!==a.b[h]?a.b[h]:new Kk(null),h.ba("XY",b),Za(h.O(),f)&&(a.b[g++]=h),g}function jo(a,b,c,d,e){var f=e;return b=go(b,a.f,a.g,a.c,c),f=void 0!==a.a[f]?a.a[f]:new Kk(null),f.ba("XY",b),Za(f.O(),d)&&(a.a[e++]=f),e}function ko(a,b,c,d,e,f,g){gf.call(this,a,b,c,0,d),this.j=e,this.g=new Image,null!==f&&(this.g.crossOrigin=f),this.i={},this.c=null,this.state=0,this.o=g}function lo(a,b,c,d,e){Id.call(this,a,b),this.s=c,this.g=new Image,null!==d&&(this.g.crossOrigin=d),this.c={},this.j=null,this.v=e}function mo(a){a.j.forEach(K),a.j=null}function no(a){a=a?a:{},Pf.call(this,{handleEvent:bb}),this.c=a.formatConstructors?a.formatConstructors:[],this.j=a.projection?nb(a.projection):null,this.a=null,this.target=a.target?a.target:null}function oo(a){a=a.dataTransfer.files;var b,c,d;for(b=0,c=a.length;b<c;++b){d=a.item(b);var e=new FileReader;e.addEventListener("load",this.o.bind(this,d)),e.readAsText(d)}}function po(a){a.stopPropagation(),a.preventDefault(),a.dataTransfer.dropEffect="copy"}function qo(a,b,c,d,e){O.call(this,a,b),this.features=d,this.file=c,this.projection=e}function ro(a){a=a?a:{},cg.call(this,{handleDownEvent:uo,handleDragEvent:so,handleUpEvent:to}),this.s=a.condition?a.condition:$f,this.a=this.c=void 0,this.j=0,this.B=void 0!==a.duration?a.duration:400}function so(a){if(ag(a)){var b=a.map,c=b.$a(),d=a.pixel;if(a=d[0]-c[0]/2,d=c[1]/2-d[1],c=Math.atan2(d,a),a=Math.sqrt(a*a+d*d),d=b.aa(),b.render(),void 0!==this.c){var e=c-this.c;Qf(b,d,d.Ka()-e)}this.c=c,void 0!==this.a&&(c=this.a*(d.$()/a),Sf(b,d,c)),void 0!==this.a&&(this.j=this.a/a),this.a=a}}function to(a){if(!ag(a))return!0;a=a.map;var b=a.aa();Ac(b,-1);var c=this.j-1,d=b.Ka(),d=b.constrainRotation(d,0);Qf(a,b,d,void 0,void 0);var d=b.$(),e=this.B,d=b.constrainResolution(d,0,c);return Sf(a,b,d,void 0,e),this.j=0,!1}function uo(a){return!(!ag(a)||!this.s(a))&&(Ac(a.map.aa(),1),this.a=this.c=void 0,!0)}function vo(a,b){O.call(this,a),this.feature=b}function wo(a){cg.call(this,{handleDownEvent:zo,handleEvent:yo,handleUpEvent:Ao}),this.wa=null,this.S=!1,this.Cc=a.source?a.source:null,this.pb=a.features?a.features:null,
this.yj=a.snapTolerance?a.snapTolerance:12,this.Y=a.type,this.c=Ho(this.Y),this.Ra=a.minPoints?a.minPoints:this.c===Mv?3:2,this.xa=a.maxPoints?a.maxPoints:1/0,this.Je=a.finishCondition?a.finishCondition:bb;var b=a.geometryFunction;if(!b)if("Circle"===this.Y)b=function(a,b){var c=b?b:new bo([NaN,NaN]);return c.Rf(a[0],Math.sqrt(va(a[0],a[1]))),c};else{var c,b=this.c;b===Kv?c=cc:b===Lv?c=Kk:b===Mv&&(c=oc),b=function(a,b){var d=b;return d?d.ma(a):d=new c(a),d}}this.N=b,this.T=this.B=this.a=this.R=this.j=this.s=null,this.Bj=a.clickTolerance?a.clickTolerance*a.clickTolerance:36,this.na=new hh({source:new Ji({useSpatialIndex:!1,wrapX:!!a.wrapX&&a.wrapX}),style:a.style?a.style:xo()}),this.Db=a.geometryName,this.xj=a.condition?a.condition:Zf,this.ta=a.freehandCondition?a.freehandCondition:$f,H(this,X("active"),this.ti,this)}function xo(){var a=fh();return function(b){return a[b.W().X()]}}function yo(a){this.c!==Lv&&this.c!==Mv||!this.ta(a)||(this.S=!0);var b=!this.S;return this.S&&a.type===Or?(Eo(this,a),b=!1):a.type===Pr?b=Bo(this,a):a.type===Nr&&(b=!1),eg.call(this,a)&&b}function zo(a){return this.xj(a)?(this.wa=a.pixel,!0):!!this.S&&(this.wa=a.pixel,this.s||Do(this,a),!0)}function Ao(a){this.S=!1;var b=this.wa,c=a.pixel,d=b[0]-c[0],b=b[1]-c[1],c=!0;return d*d+b*b<=this.Bj&&(Bo(this,a),this.s?this.c===Nv?this.dd():Co(this,a)?this.Je(a)&&this.dd():Eo(this,a):(Do(this,a),this.c===Kv&&this.dd()),c=!1),c}function Bo(a,b){if(a.s){var c,d=b.coordinate,e=a.j.W();a.c===Kv?c=a.a:a.c===Mv?(c=a.a[0],c=c[c.length-1],Co(a,b)&&(d=a.s.slice())):(c=a.a,c=c[c.length-1]),c[0]=d[0],c[1]=d[1],a.N(a.a,e),a.R&&a.R.W().ma(d),e instanceof oc&&a.c!==Mv?(a.B||(a.B=new ci(new Kk(null))),e=e.Cg(0),d=a.B.W(),d.ba(e.f,e.ga())):a.T&&(d=a.B.W(),d.ma(a.T)),Go(a)}else d=b.coordinate.slice(),a.R?a.R.W().ma(d):(a.R=new ci(new cc(d)),Go(a));return!0}function Co(a,b){var c=!1;if(a.j){var d=!1,e=[a.s];if(a.c===Lv?d=a.a.length>a.Ra:a.c===Mv&&(d=a.a[0].length>a.Ra,e=[a.a[0][0],a.a[0][a.a[0].length-2]]),d)for(var d=b.map,f=0,g=e.length;f<g;f++){var h=e[f],i=d.Da(h),j=b.pixel,c=j[0]-i[0],i=j[1]-i[1],j=a.S&&a.ta(b)?1:a.yj;if(c=Math.sqrt(c*c+i*i)<=j){a.s=h;break}}}return c}function Do(a,b){var c=b.coordinate;a.s=c,a.c===Kv?a.a=c.slice():a.c===Mv?(a.a=[[c.slice(),c.slice()]],a.T=a.a[0]):(a.a=[c.slice(),c.slice()],a.c===Nv&&(a.T=a.a)),a.T&&(a.B=new ci(new Kk(a.T))),c=a.N(a.a),a.j=new ci,a.Db&&a.j.zc(a.Db),a.j.Ta(c),Go(a),a.b(new vo("drawstart",a.j))}function Eo(a,b){var c,d,e=b.coordinate,f=a.j.W();a.c===Lv?(a.s=e.slice(),d=a.a,d.push(e.slice()),c=d.length>a.xa,a.N(d,f)):a.c===Mv&&(d=a.a[0],d.push(e.slice()),(c=d.length>a.xa)&&(a.s=d[0]),a.N(a.a,f)),Go(a),c&&a.dd()}function Fo(a){a.s=null;var b=a.j;return b&&(a.j=null,a.R=null,a.B=null,a.na.da().clear(!0)),b}function Go(a){var b=[];a.j&&b.push(a.j),a.B&&b.push(a.B),a.R&&b.push(a.R),a=a.na.da(),a.clear(!0),a.Ec(b)}function Ho(a){var b;return"Point"===a||"MultiPoint"===a?b=Kv:"LineString"===a||"MultiLineString"===a?b=Lv:"Polygon"===a||"MultiPolygon"===a?b=Mv:"Circle"===a&&(b=Nv),b}function Io(a,b,c){O.call(this,a),this.features=b,this.mapBrowserPointerEvent=c}function Jo(a){cg.call(this,{handleDownEvent:Po,handleDragEvent:Qo,handleEvent:So,handleUpEvent:Ro}),this.Db=a.condition?a.condition:bg,this.Ra=function(a){return Zf(a)&&Yf(a)},this.pb=a.deleteCondition?a.deleteCondition:this.Ra,this.xa=this.c=null,this.na=[0,0],this.N=this.T=!1,this.a=new Di,this.R=void 0!==a.pixelTolerance?a.pixelTolerance:10,this.s=this.ta=!1,this.j=[],this.S=new hh({source:new Ji({useSpatialIndex:!1,wrapX:!!a.wrapX}),style:a.style?a.style:Vo(),updateWhileAnimating:!0,updateWhileInteracting:!0}),this.wa={Point:this.sm,LineString:this.fh,LinearRing:this.fh,Polygon:this.tm,MultiPoint:this.qm,MultiLineString:this.pm,MultiPolygon:this.rm,GeometryCollection:this.om},this.B=a.features,this.B.forEach(this.tf,this),H(this.B,"add",this.mm,this),H(this.B,"remove",this.nm,this),this.Y=null}function Ko(a,b){a.N||(a.N=!0,a.b(new Io("modifystart",a.B,b)))}function Lo(a,b){Mo(a,b),a.c&&0===a.B.Zb()&&(a.S.da().kb(a.c),a.c=null),J(b,"change",a.eh,a)}function Mo(a,b){var c=a.a,d=[];c.forEach(function(a){b===a.feature&&d.push(a)});for(var e=d.length-1;0<=e;--e)c.remove(d[e])}function No(a,b){var c=a.c;c?c.W().ma(b):(c=new ci(new cc(b)),a.c=c,a.S.da().qb(c))}function Oo(a,b){return a.index-b.index}function Po(a){if(!this.Db(a))return!1;To(this,a.pixel,a.map),this.j.length=0,this.N=!1;var b=this.c;if(b){var c=[],b=b.W().Z(),d=ya([b]),d=Gi(this.a,d),e={};d.sort(Oo);for(var f=0,g=d.length;f<g;++f){var h=d[f],j=h.la,k=i(h.feature),l=h.depth;l&&(k+="-"+l.join("-")),e[k]||(e[k]=Array(2)),ta(j[0],b)&&!e[k][0]?(this.j.push([h,0]),e[k][0]=h):ta(j[1],b)&&!e[k][1]?("LineString"!==h.geometry.X()&&"MultiLineString"!==h.geometry.X()||!e[k][0]||0!==e[k][0].index)&&(this.j.push([h,1]),e[k][1]=h):i(j)in this.xa&&!e[k][0]&&!e[k][1]&&c.push([h,b])}for(c.length&&Ko(this,a),a=c.length-1;0<=a;--a)this.jl.apply(this,c[a])}return!!this.c}function Qo(a){this.T=!1,Ko(this,a),a=a.coordinate;for(var b=0,c=this.j.length;b<c;++b){for(var d=this.j[b],e=d[0],f=e.depth,g=e.geometry,h=g.Z(),i=e.la,d=d[1];a.length<g.ua();)a.push(0);switch(g.X()){case"Point":h=a,i[0]=i[1]=a;break;case"MultiPoint":h[e.index]=a,i[0]=i[1]=a;break;case"LineString":h[e.index+d]=a,i[d]=a;break;case"MultiLineString":h[f[0]][e.index+d]=a,i[d]=a;break;case"Polygon":h[f[0]][e.index+d]=a,i[d]=a;break;case"MultiPolygon":h[f[1]][f[0]][e.index+d]=a,i[d]=a}e=g,this.s=!0,e.ma(h),this.s=!1}No(this,a)}function Ro(a){for(var b,c=this.j.length-1;0<=c;--c)b=this.j[c][0],Ei(this.a,ya(b.la),b);return this.N&&(this.b(new Io("modifyend",this.B,a)),this.N=!1),!1}function So(a){if(!(a instanceof Ye))return!0;this.Y=a;var b;return vc(a.map.aa())[1]||a.type!=Pr||this.M||(this.na=a.pixel,To(this,a.pixel,a.map)),this.c&&this.pb(a)&&(a.type==Lr&&this.T?b=!0:(this.c.W(),b=this.Wh())),a.type==Lr&&(this.T=!1),eg.call(this,a)&&!b}function To(a,b,c){function d(a,b){return wa(e,a.la)-wa(e,b.la)}var e=c.Ma(b),f=c.Ma([b[0]-a.R,b[1]+a.R]),g=c.Ma([b[0]+a.R,b[1]-a.R]),f=ya([f,g]),f=Gi(a.a,f);if(0<f.length){f.sort(d);var g=f[0].la,h=qa(e,g),j=c.Da(h);if(Math.sqrt(va(b,j))<=a.R){for(b=c.Da(g[0]),c=c.Da(g[1]),b=va(j,b),c=va(j,c),a.ta=Math.sqrt(Math.min(b,c))<=a.R,a.ta&&(h=b>c?g[1]:g[0]),No(a,h),c={},c[i(g)]=!0,b=1,j=f.length;b<j&&(h=f[b].la,ta(g[0],h[0])&&ta(g[1],h[1])||ta(g[0],h[1])&&ta(g[1],h[0]));++b)c[i(h)]=!0;return void(a.xa=c)}}a.c&&(a.S.da().kb(a.c),a.c=null)}function Uo(a,b,c,d,e){Hi(a.a,b.O(),function(a){a.geometry===b&&(void 0===d||void 0===a.depth||ea(a.depth,d))&&a.index>c&&(a.index+=e)})}function Vo(){var a=fh();return function(){return a.Point}}function Wo(a,b,c,d){O.call(this,a),this.selected=b,this.deselected=c,this.mapBrowserEvent=d}function Xo(a){Pf.call(this,{handleEvent:Yo});var b=a?a:{};if(this.M=b.condition?b.condition:Yf,this.B=b.addCondition?b.addCondition:cb,this.N=b.removeCondition?b.removeCondition:cb,this.R=b.toggleCondition?b.toggleCondition:$f,this.j=!!b.multi&&b.multi,this.o=b.filter?b.filter:bb,this.c=new hh({source:new Ji({useSpatialIndex:!1,features:b.features,wrapX:b.wrapX}),style:b.style?b.style:Zo(),updateWhileAnimating:!0,updateWhileInteracting:!0}),b.layers)if(g(b.layers))a=function(a){return b.layers(a)};else{var c=b.layers;a=function(a){return $(c,a)}}else a=bb;this.s=a,this.a={},a=this.c.da().c,H(a,"add",this.um,this),H(a,"remove",this.xm,this)}function Yo(a){if(!this.M(a))return!0;var b=this.B(a),c=this.N(a),d=this.R(a),e=!b&&!c&&!d,f=a.map,g=this.c.da().c,h=[],j=[],k=!1;if(e)z(this.a),f.ed(a.pixel,function(a,b){if(this.o(a,b)){j.push(a);var c=i(a);return this.a[c]=b,!this.j}},this,this.s),0<j.length&&1==g.Zb()&&g.item(0)==j[0]||(k=!0,0!==g.Zb()&&(h=Array.prototype.concat(g.a),g.clear()),g.lf(j));else{for(f.ed(a.pixel,function(a,e){if(this.o(a,e)){if(!b&&!d||$(g.a,a))(c||d)&&$(g.a,a)&&(h.push(a),f=i(a),delete this.a[f]);else{j.push(a);var f=i(a);this.a[f]=e}return!this.j}},this,this.s),e=h.length-1;0<=e;--e)g.remove(h[e]);g.lf(j),(0<j.length||0<h.length)&&(k=!0)}return k&&this.b(new Wo("select",j,h,a)),Xf(a)}function Zo(){var a=fh();return ba(a.Polygon,a.LineString),ba(a.GeometryCollection,a.LineString),function(b){return a[b.W().X()]}}function $o(a){cg.call(this,{handleEvent:_o,handleDownEvent:bb,handleUpEvent:ap}),a=a?a:{},this.s=a.source?a.source:null,this.na=void 0===a.vertex||a.vertex,this.T=void 0===a.edge||a.edge,this.j=a.features?a.features:null,this.ta=[],this.N={},this.R={},this.Y={},this.B={},this.S=null,this.c=void 0!==a.pixelTolerance?a.pixelTolerance:10,this.xa=bp.bind(this),this.a=new Di,this.wa={Point:this.Dm,LineString:this.ih,LinearRing:this.ih,Polygon:this.Em,MultiPoint:this.Bm,MultiLineString:this.Am,MultiPolygon:this.Cm,GeometryCollection:this.zm}}function _o(a){var b,c;c=a.pixel;var d=a.coordinate;b=a.map;var e=b.Ma([c[0]-this.c,c[1]+this.c]),f=b.Ma([c[0]+this.c,c[1]-this.c]),e=ya([e,f]),g=Gi(this.a,e),h=!1,e=!1,i=null,f=null;return 0<g.length&&(this.S=d,g.sort(this.xa),g=g[0].la,this.na&&!this.T?(d=b.Da(g[0]),h=b.Da(g[1]),d=va(c,d),c=va(c,h),h=Math.sqrt(Math.min(d,c)),(h=h<=this.c)&&(e=!0,i=d>c?g[1]:g[0],f=b.Da(i))):this.T&&(i=qa(d,g),f=b.Da(i),Math.sqrt(va(c,f))<=this.c&&(e=!0,this.na&&(d=b.Da(g[0]),h=b.Da(g[1]),d=va(f,d),c=va(f,h),h=Math.sqrt(Math.min(d,c)),h=h<=this.c)))&&(i=d>c?g[1]:g[0],f=b.Da(i)),e&&(f=[Math.round(f[0]),Math.round(f[1])])),b=i,c=f,e&&(a.coordinate=b.slice(0,2),a.pixel=c),eg.call(this,a)}function ap(){var a=A(this.B);return a.length&&(a.forEach(this.si,this),this.B={}),!1}function bp(a,b){return wa(this.S,a.la)-wa(this.S,b.la)}function cp(a,b,c){O.call(this,a),this.features=b,this.coordinate=c}function dp(a){cg.call(this,{handleDownEvent:ep,handleDragEvent:gp,handleMoveEvent:hp,handleUpEvent:fp}),this.s=void 0,this.a=null,this.c=void 0!==a.features?a.features:null;var b;if(a.layers)if(g(a.layers))b=function(b){return a.layers(b)};else{var c=a.layers;b=function(a){return $(c,a)}}else b=bb;this.B=b,this.j=null}function ep(a){return this.j=ip(this,a.pixel,a.map),!(this.a||!this.j)&&(this.a=a.coordinate,hp.call(this,a),this.b(new cp("translatestart",this.c,a.coordinate)),!0)}function fp(a){return!!this.a&&(this.a=null,hp.call(this,a),this.b(new cp("translateend",this.c,a.coordinate)),!0)}function gp(a){if(this.a){a=a.coordinate;var b=a[0]-this.a[0],c=a[1]-this.a[1];if(this.c)this.c.forEach(function(a){var d=a.W();d.Nc(b,c),a.Ta(d)});else if(this.j){var d=this.j.W();d.Nc(b,c),this.j.Ta(d)}this.a=a,this.b(new cp("translating",this.c,a))}}function hp(a){var b=a.map.tc();if(a=a.map.ed(a.pixel,function(a){return a})){var c=!1;this.c&&$(this.c.a,a)&&(c=!0),this.s=b.style.cursor,b.style.cursor=this.a?"-webkit-grabbing":c?"-webkit-grab":"pointer",b.style.cursor=this.a?c?"grab":"pointer":"grabbing"}else b.style.cursor=void 0!==this.s?this.s:"",this.s=void 0}function ip(a,b,c){var d=null;return b=c.ed(b,function(a){return a},a,a.B),a.c&&$(a.c.a,b)&&(d=b),d}function jp(a){a=a?a:{};var b=Aq({},a);delete b.gradient,delete b.radius,delete b.blur,delete b.shadow,delete b.weight,hh.call(this,b),this.f=null,this.ea=void 0!==a.shadow?a.shadow:250,this.Y=void 0,this.c=null,H(this,X("gradient"),this.Hk,this),this.di(a.gradient?a.gradient:Ov),this.Zh(void 0!==a.blur?a.blur:15),this.lh(void 0!==a.radius?a.radius:8),H(this,X("blur"),this.gf,this),H(this,X("radius"),this.gf,this),this.gf();var c,d=a.weight?a.weight:"weight";c="string"==typeof d?function(a){return a.get(d)}:d,this.l(function(a){a=c(a),a=void 0!==a?q(a,0,1):1;var b=255*a|0,d=this.c[b];return d||(d=[new ch({image:new wf({opacity:a,src:this.Y})})],this.c[b]=d),d}.bind(this)),this.set("renderOrder",null),H(this,"render",this.$k,this)}function kp(a,b,c,d){function e(){delete qq[g],f.parentNode.removeChild(f)}var f=qq.document.createElement("script"),g="olc_"+i(b);f.async=!0,f.src=a+(-1==a.indexOf("?")?"?":"&")+(d||"callback")+"="+g;var h=qq.setTimeout(function(){e(),c&&c()},1e4);qq[g]=function(a){qq.clearTimeout(h),e(),b(a)},qq.document.getElementsByTagName("head")[0].appendChild(f)}function lp(a,b,c,d,e,f,g,h,i,j,k){if(Id.call(this,e,0),this.R=void 0!==k&&k,this.N=g,this.M=h,this.l=null,this.c={},this.j=b,this.v=d,this.U=f?f:e,this.g=[],this.Rc=null,this.s=0,f=d.Ba(this.U),h=this.v.O(),e=this.j.O(),f=h?Va(f,h):f,0===Pa(f))this.state=4;else if((h=a.O())&&(e=e?Va(e,h):h),d=d.$(this.U[0]),d=Sh(a,c,Sa(f),d),!isFinite(d)||0>=d)this.state=4;else if(this.B=new Vh(a,c,f,e,d*(void 0!==j?j:.5)),0===this.B.f.length)this.state=4;else if(this.s=Xd(b,d),c=Xh(this.B),e&&(a.a?(c[1]=q(c[1],e[1],e[3]),c[3]=q(c[3],e[1],e[3])):c=Va(c,e)),Pa(c))if(a=Ud(b,c,this.s),100>(a.a-a.b+1)*(a.f-a.g+1)){for(b=a.b;b<=a.a;b++)for(c=a.g;c<=a.f;c++)(j=i(this.s,b,c,g))&&this.g.push(j);0===this.g.length&&(this.state=4)}else this.state=3;else this.state=4}function mp(a){aj.call(this,{attributions:a.attributions,cacheSize:a.cacheSize,extent:a.extent,logo:a.logo,opaque:a.opaque,projection:a.projection,state:a.state,tileGrid:a.tileGrid,tileLoadFunction:a.tileLoadFunction?a.tileLoadFunction:pp,tilePixelRatio:a.tilePixelRatio,tileUrlFunction:a.tileUrlFunction,url:a.url,urls:a.urls,wrapX:a.wrapX}),this.crossOrigin=void 0!==a.crossOrigin?a.crossOrigin:null,this.tileClass=void 0!==a.tileClass?a.tileClass:lo,this.i={},this.s={},this.na=a.reprojectionErrorThreshold,this.M=!1}function np(a,b,c,d,e,f,g){return b=[b,c,d],e=(c=ee(a,b,f))?a.tileUrlFunction(c,e,f):void 0,e=new a.tileClass(b,void 0!==e?0:4,void 0!==e?e:"",a.crossOrigin,a.tileLoadFunction),e.key=g,H(e,"change",a.wh,a),e}function op(a,b,c,d,e,f){var g=null,h=a.Ab(b,c,d),i=a.Yb;if(Dd(a.a,h)){if(g=a.a.get(h),g.key!=i){var j=g;g.a&&g.a.key==i?(g=g.a,2==j.V()&&(g.a=j)):(g=np(a,b,c,d,e,f,i),2==j.V()?g.a=j:j.a&&2==j.a.V()&&(g.a=j.a,j.a=null)),g.a&&(g.a.a=null),a.a.replace(h,g)}}else g=np(a,b,c,d,e,f,i),a.a.set(h,g);return g}function pp(a,b){a.ab().src=b}function qp(a){mp.call(this,{cacheSize:a.cacheSize,crossOrigin:"anonymous",opaque:!0,projection:nb("EPSG:3857"),reprojectionErrorThreshold:a.reprojectionErrorThreshold,state:"loading",tileLoadFunction:a.tileLoadFunction,wrapX:void 0===a.wrapX||a.wrapX}),this.j=void 0!==a.culture?a.culture:"en-us",this.c=void 0!==a.maxZoom?a.maxZoom:-1,kp("https://dev.virtualearth.net/REST/v1/Imagery/Metadata/"+a.imagerySet+"?uriScheme=https&include=ImageryProviders&key="+a.key,this.v.bind(this),void 0,"jsonp")}function rp(a){a=a||{};var b=void 0!==a.projection?a.projection:"EPSG:3857",c=void 0!==a.tileGrid?a.tileGrid:$d({extent:ae(b),maxZoom:a.maxZoom,minZoom:a.minZoom,tileSize:a.tileSize});mp.call(this,{attributions:a.attributions,cacheSize:a.cacheSize,crossOrigin:a.crossOrigin,logo:a.logo,opaque:a.opaque,projection:b,reprojectionErrorThreshold:a.reprojectionErrorThreshold,tileGrid:c,tileLoadFunction:a.tileLoadFunction,tilePixelRatio:a.tilePixelRatio,tileUrlFunction:a.tileUrlFunction,url:a.url,urls:a.urls,wrapX:void 0===a.wrapX||a.wrapX})}function sp(a){this.v=a.account,this.B=a.map||"",this.c=a.config||{},this.j={},rp.call(this,{attributions:a.attributions,cacheSize:a.cacheSize,crossOrigin:a.crossOrigin,logo:a.logo,maxZoom:void 0!==a.maxZoom?a.maxZoom:18,minZoom:a.minZoom,projection:a.projection,state:"loading",wrapX:a.wrapX}),tp(this)}function tp(a){var b=JSON.stringify(a.c);if(a.j[b])up(a,a.j[b]);else{var c="https://"+a.v+".cartodb.com/api/v1/map";a.B&&(c+="/named/"+a.B);var d=new XMLHttpRequest;d.addEventListener("load",a.Jk.bind(a,b)),d.addEventListener("error",a.Ik.bind(a)),d.open("POST",c),d.setRequestHeader("Content-type","application/json"),d.send(JSON.stringify(a.c))}}function up(a,b){a.Na("https://"+b.cdn_url.https+"/"+a.v+"/api/v1/map/"+b.layergroupid+"/{z}/{x}/{y}.png")}function vp(a){Ji.call(this,{attributions:a.attributions,extent:a.extent,logo:a.logo,projection:a.projection,wrapX:a.wrapX}),this.M=void 0,this.ta=void 0!==a.distance?a.distance:20,this.B=[],this.ea=a.geometryFunction||function(a){return a.W()},this.v=a.source,this.v.D("change",vp.prototype.Ra,this)}function wp(a){if(void 0!==a.M){a.B.length=0;for(var b=Ga(),c=a.ta*a.M,d=a.v.je(),e={},f=0,g=d.length;f<g;f++){var h=d[f];i(h).toString()in e||!(h=a.ea(h))||(h=h.Z(),Ia(h,b),za(b,c,b),h=a.v.af(b),h=h.filter(function(a){return a=i(a).toString(),!(a in e)&&(e[a]=!0)}),a.B.push(xp(a,h)))}}}function xp(a,b){for(var c=[0,0],d=b.length-1;0<=d;--d){var e=a.ea(b[d]);e?pa(c,e.Z()):b.splice(d,1)}return d=1/b.length,c[0]*=d,c[1]*=d,c=new ci(new cc(c)),c.set("features",b),c}function yp(a){a=a||{},Zh.call(this,{attributions:a.attributions,logo:a.logo,projection:a.projection,resolutions:a.resolutions}),this.Y=void 0!==a.crossOrigin?a.crossOrigin:null,this.i=a.url,this.j=void 0!==a.imageLoadFunction?a.imageLoadFunction:_h,this.v=a.params||{},this.c=null,this.s=[0,0],this.T=0,this.S=void 0!==a.ratio?a.ratio:1.5}function zp(a){Zh.call(this,{projection:a.projection,resolutions:a.resolutions}),this.Y=void 0!==a.crossOrigin?a.crossOrigin:null,this.s=void 0!==a.displayDpi?a.displayDpi:96,this.j=a.params||{},this.T=a.url,this.c=void 0!==a.imageLoadFunction?a.imageLoadFunction:_h,this.ea=void 0===a.hidpi||a.hidpi,this.ta=void 0!==a.metersPerUnit?a.metersPerUnit:1,this.v=void 0!==a.ratio?a.ratio:1,this.xa=void 0!==a.useOverlay&&a.useOverlay,this.i=null,this.S=0}function Ap(a){var b=a.imageExtent,c=void 0!==a.crossOrigin?a.crossOrigin:null,d=void 0!==a.imageLoadFunction?a.imageLoadFunction:_h;Zh.call(this,{attributions:a.attributions,logo:a.logo,projection:nb(a.projection)}),this.c=new ko(b,void 0,1,this.l,a.url,c,d),this.i=a.imageSize?a.imageSize:null,H(this.c,"change",this.o,this)}function Bp(a){a=a||{},Zh.call(this,{attributions:a.attributions,logo:a.logo,projection:a.projection,resolutions:a.resolutions}),this.ta=void 0!==a.crossOrigin?a.crossOrigin:null,this.j=a.url,this.S=void 0!==a.imageLoadFunction?a.imageLoadFunction:_h,this.i=a.params||{},this.v=!0,Dp(this),this.ea=a.serverType,this.xa=void 0===a.hidpi||a.hidpi,this.c=null,this.T=[0,0],this.Y=0,this.s=void 0!==a.ratio?a.ratio:1.5}function Cp(a,b,c,d,e,f){if(f[a.v?"CRS":"SRS"]=e.eb,"STYLES"in a.i||(f.STYLES=""),1!=d)switch(a.ea){case"geoserver":d=90*d+.5|0,f.FORMAT_OPTIONS="FORMAT_OPTIONS"in f?f.FORMAT_OPTIONS+(";dpi:"+d):"dpi:"+d;break;case"mapserver":f.MAP_RESOLUTION=90*d;break;case"carmentaserver":case"qgis":f.DPI=90*d}f.WIDTH=c[0],f.HEIGHT=c[1],c=e.b;var g;return g=a.v&&"ne"==c.substr(0,2)?[b[1],b[0],b[3],b[2]]:b,f.BBOX=g.join(","),Ql(Sl([a.j],f))}function Dp(a){a.v=0<=oa(a.i.VERSION||"1.3.0")}function Ep(a){a=a||{};var b;b=void 0!==a.attributions?a.attributions:[Rv],rp.call(this,{attributions:b,cacheSize:a.cacheSize,crossOrigin:void 0!==a.crossOrigin?a.crossOrigin:"anonymous",opaque:void 0===a.opaque||a.opaque,maxZoom:void 0!==a.maxZoom?a.maxZoom:19,reprojectionErrorThreshold:a.reprojectionErrorThreshold,tileLoadFunction:a.tileLoadFunction,url:void 0!==a.url?a.url:"https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png",wrapX:a.wrapX})}function Fp(a){a=a||{};var b=Tv[a.layer];this.c=a.layer,rp.call(this,{attributions:b.attributions,cacheSize:a.cacheSize,crossOrigin:"anonymous",logo:"https://developer.mapquest.com/content/osm/mq_logo.png",maxZoom:b.maxZoom,reprojectionErrorThreshold:a.reprojectionErrorThreshold,opaque:b.opaque,tileLoadFunction:a.tileLoadFunction,url:void 0!==a.url?a.url:"https://otile{1-4}-s.mqcdn.com/tiles/1.0.0/"+this.c+"/{z}/{x}/{y}.jpg"})}function Gp(a){this.S=null,this.xa=void 0!==a.operationType?a.operationType:"pixel",this.Ra=void 0!==a.threads?a.threads:1,this.c=Jp(a.sources);for(var b=0,c=this.c.length;b<c;++b)H(this.c[b],"change",this.u,this);this.i=ze(),this.ea=new Lf(function(){return 1},this.u.bind(this));for(var b=Ip(this.c),c={},d=0,e=b.length;d<e;++d)c[i(b[d].layer)]=b[d];this.j=this.s=null,this.Y={animate:!1,attributions:{},coordinateToPixelMatrix:zb(),extent:null,focus:null,index:0,layerStates:c,layerStatesArray:b,logos:{},pixelRatio:1,pixelToCoordinateMatrix:zb(),postRenderFunctions:[],size:[0,0],skippedFeatureUids:{},tileQueue:this.ea,time:Date.now(),usedTiles:{},viewState:{rotation:0},viewHints:[],wantedTiles:{}},Zh.call(this,{}),void 0!==a.operation&&this.v(a.operation,a.lib)}function Hp(a,b,c){var d=a.s;return!d||a.g!==d.Ro||c!==d.resolution||!Ka(b,d.extent)}function Ip(a){return a.map(function(a){return bf(a.a)})}function Jp(a){for(var b=a.length,c=Array(b),d=0;d<b;++d){var e=d,f=a[d],g=null;f instanceof be?(f=new Tg({source:f}),g=new Ui(f)):f instanceof Zh&&(f=new Sg({source:f}),g=new Ti(f)),c[e]=g}return c}function Kp(a,b,c){O.call(this,a),this.extent=b.extent,this.resolution=b.viewState.resolution/b.pixelRatio,this.data=c}function Lp(a){var b=a.layer.indexOf("-"),b=-1==b?a.layer:a.layer.slice(0,b),b=Yv[b],c=Xv[a.layer];rp.call(this,{attributions:Zv,cacheSize:a.cacheSize,crossOrigin:"anonymous",maxZoom:b.maxZoom,minZoom:b.minZoom,opaque:c.opaque,reprojectionErrorThreshold:a.reprojectionErrorThreshold,tileLoadFunction:a.tileLoadFunction,url:void 0!==a.url?a.url:"https://stamen-tiles-{a-d}.a.ssl.fastly.net/"+a.layer+"/{z}/{x}/{y}."+c.sb})}function Mp(a){a=a||{},mp.call(this,{attributions:a.attributions,cacheSize:a.cacheSize,crossOrigin:a.crossOrigin,logo:a.logo,projection:a.projection,reprojectionErrorThreshold:a.reprojectionErrorThreshold,tileGrid:a.tileGrid,tileLoadFunction:a.tileLoadFunction,url:a.url,urls:a.urls,wrapX:void 0===a.wrapX||a.wrapX}),this.c=a.params||{},this.j=Ga()}function Np(a,b,c){Id.call(this,a,2),this.l=b,this.c=c,this.g={}}function Op(a){be.call(this,{opaque:!1,projection:a.projection,tileGrid:a.tileGrid,wrapX:void 0===a.wrapX||a.wrapX})}function Pp(a){if(this.c=null,mp.call(this,{attributions:a.attributions,cacheSize:a.cacheSize,crossOrigin:a.crossOrigin,projection:nb("EPSG:3857"),reprojectionErrorThreshold:a.reprojectionErrorThreshold,state:"loading",tileLoadFunction:a.tileLoadFunction,wrapX:void 0===a.wrapX||a.wrapX}),a.jsonp)kp(a.url,this.th.bind(this),this.he.bind(this));else{var b=new XMLHttpRequest;b.addEventListener("load",this.hn.bind(this)),b.addEventListener("error",this.gn.bind(this)),b.open("GET",a.url),b.send()}}function Qp(a){if(be.call(this,{projection:nb("EPSG:3857"),state:"loading"}),this.s=void 0===a.preemptive||a.preemptive,this.j=$i,this.i=void 0,this.c=a.jsonp||!1,a.url)if(this.c)kp(a.url,this.xf.bind(this),this.ie.bind(this));else{var b=new XMLHttpRequest;b.addEventListener("load",this.mn.bind(this)),b.addEventListener("error",this.ln.bind(this)),b.open("GET",a.url),b.send()}else a.tileJSON&&this.xf(a.tileJSON)}function Rp(a,b,c,d,e,f){Id.call(this,a,b),this.s=c,this.g=d,this.U=e,this.c=this.j=this.l=null,this.v=f}function Sp(a,b,c,d,e){0==a.state&&!0===e?(I(a,"change",function(){c.call(d,this.getData(b))},a),Tp(a)):!0===e?ue(function(){c.call(d,this.getData(b))},a):c.call(d,a.getData(b))}function Tp(a){if(0==a.state)if(a.state=1,a.v)kp(a.s,a.uh.bind(a),a.Vd.bind(a));else{var b=new XMLHttpRequest;b.addEventListener("load",a.kn.bind(a)),b.addEventListener("error",a.jn.bind(a)),b.open("GET",a.s),b.send()}}function Up(a){a=a||{};var b=a.params||{};mp.call(this,{attributions:a.attributions,cacheSize:a.cacheSize,crossOrigin:a.crossOrigin,logo:a.logo,opaque:!("TRANSPARENT"in b?b.TRANSPARENT:1),projection:a.projection,reprojectionErrorThreshold:a.reprojectionErrorThreshold,tileGrid:a.tileGrid,tileLoadFunction:a.tileLoadFunction,url:a.url,urls:a.urls,wrapX:void 0===a.wrapX||a.wrapX}),this.v=void 0!==a.gutter?a.gutter:0,this.c=b,this.j=!0,this.B=a.serverType,this.T=void 0===a.hidpi||a.hidpi,this.S="",Wp(this),this.Y=Ga(),Yp(this),de(this,Xp(this))}function Vp(a,b,c,d,e,f,g){var h=a.urls;if(h){if(g.WIDTH=c[0],g.HEIGHT=c[1],g[a.j?"CRS":"SRS"]=f.eb,"STYLES"in a.c||(g.STYLES=""),1!=e)switch(a.B){case"geoserver":c=90*e+.5|0,g.FORMAT_OPTIONS="FORMAT_OPTIONS"in g?g.FORMAT_OPTIONS+(";dpi:"+c):"dpi:"+c;break;case"mapserver":g.MAP_RESOLUTION=90*e;break;case"carmentaserver":case"qgis":g.DPI=90*e}return f=f.b,a.j&&"ne"==f.substr(0,2)&&(a=d[0],d[0]=d[1],d[1]=a,a=d[2],d[2]=d[3],d[3]=a),g.BBOX=d.join(","),Ql(Sl([1==h.length?h[0]:h[u((b[1]<<b[0])+b[2],h.length)]],g))}}function Wp(a){var b=0,c=[];if(a.urls){var d,e;for(d=0,e=a.urls.length;d<e;++d)c[b++]=a.urls[d]}a.S=c.join("#")}function Xp(a){var b,c=0,d=[];for(b in a.c)d[c++]=b+"-"+a.c[b];return d.join("/")}function Yp(a){a.j=0<=oa(a.c.VERSION||"1.3.0")}function Zp(a){this.l=a.matrixIds,Qd.call(this,{extent:a.extent,origin:a.origin,origins:a.origins,resolutions:a.resolutions,tileSize:a.tileSize,tileSizes:a.tileSizes,sizes:a.sizes})}function $p(a,b){var c,d=[],e=[],f=[],g=[],h=[];c=nb(a.SupportedCRS.replace(/urn:ogc:def:crs:(\w+):(.*:)?(\w+)$/,"$1:$3"));var i=c.Vb(),j="ne"==c.b.substr(0,2);return a.TileMatrix.sort(function(a,b){return b.ScaleDenominator-a.ScaleDenominator}),a.TileMatrix.forEach(function(a){e.push(a.Identifier);var b=28e-5*a.ScaleDenominator/i,c=a.TileWidth,k=a.TileHeight;j?f.push([a.TopLeftCorner[1],a.TopLeftCorner[0]]):f.push(a.TopLeftCorner),d.push(b),g.push(c==k?c:[c,k]),h.push([a.MatrixWidth,-a.MatrixHeight])}),new Zp({extent:b,origins:f,resolutions:d,matrixIds:e,tileSizes:g,sizes:h})}function _p(a){function b(a){return a="KVP"==d?Ql(Sl([a],f)):a.replace(/\{(\w+?)\}/g,function(a,b){return b.toLowerCase()in f?f[b.toLowerCase()]:a}),function(b){if(b){var c={TileMatrix:e.l[b[0]],TileCol:b[1],TileRow:-b[2]-1};return Aq(c,g),b=a,b="KVP"==d?Ql(Sl([b],c)):b.replace(/\{(\w+?)\}/g,function(a,b){return c[b]})}}}this.T=void 0!==a.version?a.version:"1.0.0",this.v=void 0!==a.format?a.format:"image/jpeg",this.c=void 0!==a.dimensions?a.dimensions:{},this.B=a.layer,this.j=a.matrixSet,this.S=a.style;var c=a.urls;void 0===c&&void 0!==a.url&&(c=_i(a.url));var d=this.Y=void 0!==a.requestEncoding?a.requestEncoding:"KVP",e=a.tileGrid,f={layer:this.B,style:this.S,tilematrixset:this.j};"KVP"==d&&Aq(f,{Service:"WMTS",Request:"GetTile",Version:this.T,Format:this.v});var g=this.c,h=c&&0<c.length?Zi(c.map(b)):$i;mp.call(this,{attributions:a.attributions,cacheSize:a.cacheSize,crossOrigin:a.crossOrigin,logo:a.logo,projection:a.projection,reprojectionErrorThreshold:a.reprojectionErrorThreshold,tileClass:a.tileClass,tileGrid:e,tileLoadFunction:a.tileLoadFunction,tilePixelRatio:a.tilePixelRatio,tileUrlFunction:h,urls:c,wrapX:void 0!==a.wrapX&&a.wrapX}),de(this,aq(this))}function aq(a){var b,c=0,d=[];for(b in a.c)d[c++]=b+"-"+a.c[b];return d.join("/")}function bq(a){a=a||{};var b=a.size,c=b[0],d=b[1],e=[],f=256;switch(void 0!==a.tierSizeCalculation?a.tierSizeCalculation:"default"){case"default":for(;c>f||d>f;)e.push([Math.ceil(c/f),Math.ceil(d/f)]),f+=f;break;case"truncated":for(;c>f||d>f;)e.push([Math.ceil(c/f),Math.ceil(d/f)]),c>>=1,d>>=1}e.push([1,1]),e.reverse();for(var f=[1],g=[0],d=1,c=e.length;d<c;d++)f.push(1<<d),g.push(e[d-1][0]*e[d-1][1]+g[d-1]);f.reverse();var b=[0,-b[1],b[0],0],b=new Qd({extent:b,origin:Wa(b),resolutions:f}),h=a.url;mp.call(this,{attributions:a.attributions,cacheSize:a.cacheSize,crossOrigin:a.crossOrigin,logo:a.logo,reprojectionErrorThreshold:a.reprojectionErrorThreshold,tileClass:cq,tileGrid:b,tileUrlFunction:function(a){if(a){var b=a[0],c=a[1];return a=-a[2]-1,h+"TileGroup"+((c+a*e[b][0]+g[b])/256|0)+"/"+b+"-"+c+"-"+a+".jpg"}}})}function cq(a,b,c,d,e){lo.call(this,a,b,c,d,e),this.l={}}function dq(a){a=a||{},this.a=void 0!==a.initialSize?a.initialSize:256,this.g=void 0!==a.maxSize?a.maxSize:void 0!==jq?jq:2048,this.b=void 0!==a.space?a.space:1,this.c=[new fq(this.a,this.b)],this.f=this.a,this.i=[new fq(this.f,this.b)]}function eq(a,b,c,d,e,f,g){var h,i,j,k=b?a.i:a.c;for(i=0,j=k.length;i<j;++i){if(h=k[i],h=h.add(c,d,e,f,g))return h;h||i!==j-1||(b?(h=Math.min(2*a.f,a.g),a.f=h):(h=Math.min(2*a.a,a.g),a.a=h),h=new fq(h,a.b),k.push(h),++j)}}function fq(a,b){this.b=b,this.a=[{x:0,y:0,width:a,height:a}],this.f={},this.g=ze(a,a),this.c=this.g.canvas}function gq(a,b,c,d){b=[b,1],0<c.width&&0<c.height&&b.push(c),0<d.width&&0<d.height&&b.push(d),a.a.splice.apply(a.a,b)}function hq(a){this.B=this.s=this.f=null,this.o=void 0!==a.fill?a.fill:null,this.va=[0,0],this.b=a.points,this.g=void 0!==a.radius?a.radius:a.radius1,this.c=void 0!==a.radius2?a.radius2:this.g,this.l=void 0!==a.angle?a.angle:0,this.a=void 0!==a.stroke?a.stroke:null,this.R=this.ya=this.N=null;var b,c=a.atlasManager,d="",e="",f=0,g=null,h=0;this.a&&(b=Vc(this.a.b),h=this.a.a,void 0===h&&(h=1),g=this.a.g,sr||(g=null),e=this.a.c,void 0===e&&(e="round"),d=this.a.f,void 0===d&&(d="round"),f=this.a.i,void 0===f&&(f=10));var i=2*(this.g+h)+1,d={strokeStyle:b,wd:h,size:i,lineCap:d,lineDash:g,lineJoin:e,miterLimit:f};if(void 0===c){var j=ze(i,i);this.s=j.canvas,c=i=this.s.width,this.Dh(d,j,0,0),this.o?this.B=this.s:(j=ze(d.size,d.size),this.B=j.canvas,this.Ch(d,j,0,0))}else i=Math.round(i),(e=!this.o)&&(j=this.Ch.bind(this,d)),f=this.a?ah(this.a):"-",g=this.o?Wg(this.o):"-",this.f&&f==this.f[1]&&g==this.f[2]&&this.g==this.f[3]&&this.c==this.f[4]&&this.l==this.f[5]&&this.b==this.f[6]||(this.f=["r"+f+g+(void 0!==this.g?this.g.toString():"-")+(void 0!==this.c?this.c.toString():"-")+(void 0!==this.l?this.l.toString():"-")+(void 0!==this.b?this.b.toString():"-"),f,g,this.g,this.c,this.l,this.b]),j=c.add(this.f[0],i,i,this.Dh.bind(this,d),j),this.s=j.image,this.va=[j.offsetX,j.offsetY],c=j.image.width,this.B=e?j.Ng:this.s;this.N=[i/2,i/2],this.ya=[i,i],this.R=[c,c],vf.call(this,{opacity:1,rotateWithView:void 0!==a.rotateWithView&&a.rotateWithView,rotation:void 0!==a.rotation?a.rotation:0,scale:1,snapToPixel:void 0===a.snapToPixel||a.snapToPixel})}var iq,jq,kq,lq,mq={},nq=this,oq="closure_uid_"+(1e9*Math.random()>>>0),pq=0,qq=Function("return this")(),rq=String.prototype.trim?function(a){return a.trim()}:function(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},sq=/&/g,tq=/</g,uq=/>/g,vq=/"/g,wq=/'/g,xq=/\x00/g,yq=/[\x00&<>"']/,zq=function(){var a;return a="cosh"in Math?Math.cosh:function(a){return a=Math.exp(a),(a+1/a)/2}}(),Aq="function"==typeof Object.assign?Object.assign:function(a,b){if(void 0===a||null===a)throw new TypeError("Cannot convert undefined or null to object");for(var c=Object(a),d=1,e=arguments.length;d<e;++d){var f=arguments[d];if(void 0!==f&&null!==f)for(var g in f)f.hasOwnProperty(g)&&(c[g]=f[g])}return c},Bq="olm_"+(1e4*Math.random()|0);M.prototype.Cb=!1,M.prototype.fa=n,O.prototype.preventDefault=O.prototype.stopPropagation=function(){this.no=!0},m(R,M),R.prototype.addEventListener=function(a,b){var c=this.va[a];c||(c=this.va[a]=[]),-1===c.indexOf(b)&&c.push(b)},R.prototype.b=function(a){var b="string"==typeof a?new O(a):a;a=b.type,b.target=this;var c,d=this.va[a];if(d){a in this.ya||(this.ya[a]=0,this.Qa[a]=0),++this.ya[a];for(var e=0,f=d.length;e<f;++e)if(!1===d[e].call(this,b)||b.no){c=!1;break}if(--this.ya[a],0===this.ya[a]){for(b=this.Qa[a],delete this.Qa[a];b--;)this.removeEventListener(a,n);delete this.ya[a]}return c}},R.prototype.fa=function(){L(this)},R.prototype.removeEventListener=function(a,b){var c=this.va[a];if(c){var d=c.indexOf(b);a in this.Qa?(c[d]=n,++this.Qa[a]):(c.splice(d,1),0===c.length&&delete this.va[a])}},m(T,R),iq=T.prototype,iq.u=function(){++this.g,this.b("change")},iq.H=function(){return this.g},iq.D=function(a,b,c){if(Array.isArray(a)){for(var d=a.length,e=Array(d),f=0;f<d;++f)e[f]=H(this,a[f],b,c);return e}return H(this,a,b,c)},iq.I=function(a,b,c){if(Array.isArray(a)){for(var d=a.length,e=Array(d),f=0;f<d;++f)e[f]=I(this,a[f],b,c);return e}return I(this,a,b,c)},iq.G=function(a,b,c){if(Array.isArray(a))for(var d=0,e=a.length;d<e;++d)J(this,a[d],b,c);else J(this,a,b,c)},iq.J=U,m(V,O),m(W,T);var Cq={};iq=W.prototype,iq.get=function(a){var b;return this.U.hasOwnProperty(a)&&(b=this.U[a]),b},iq.K=function(){return Object.keys(this.U)},iq.L=function(){return Aq({},this.U)},iq.set=function(a,b,c){c?this.U[a]=b:(c=this.U[a],this.U[a]=b,c!==b&&Y(this,a,c))},iq.C=function(a,b){for(var c in a)this.set(c,a[c],b)},iq.P=function(a,b){if(a in this.U){var c=this.U[a];delete this.U[a],b||Y(this,a,c)}},db.prototype.a=function(a){for(var b=0,c=a.length,d=a[c-1][0],e=a[c-1][1],f=0;f<c;f++)var g=a[f][0],h=a[f][1],b=b+t(g-d)*(2+Math.sin(t(e))+Math.sin(t(h))),d=g,e=h;return b*this.radius*this.radius/2},db.prototype.b=function(a,b){var c=t(a[1]),d=t(b[1]),e=(d-c)/2,f=t(b[0]-a[0])/2,c=Math.sin(e)*Math.sin(e)+Math.sin(f)*Math.sin(f)*Math.cos(c)*Math.cos(d);
return 2*this.radius*Math.atan2(Math.sqrt(c),Math.sqrt(1-c))},db.prototype.offset=function(a,b,c){var d=t(a[1]);b/=this.radius;var e=Math.asin(Math.sin(d)*Math.cos(b)+Math.cos(d)*Math.sin(b)*Math.cos(c));return[180*(t(a[0])+Math.atan2(Math.sin(c)*Math.sin(b)*Math.cos(d),Math.cos(b)-Math.sin(d)*Math.sin(e)))/Math.PI,180*e/Math.PI]};var Dq=new db(6370997),Eq={};Eq.degrees=2*Math.PI*Dq.radius/360,Eq.ft=.3048,Eq.m=1,Eq["us-ft"]=1200/3937,iq=eb.prototype,iq.Oj=function(){return this.eb},iq.O=function(){return this.f},iq.vb=function(){return this.c},iq.Vb=function(){return this.j||Eq[this.c]},iq.Ak=function(){return this.i},iq.ll=function(){return this.g},iq.Yo=function(a){this.g=a,this.a=!(!a||!this.f)},iq.Gm=function(a){this.f=a,this.a=!(!this.g||!a)},iq.gp=function(a){this.i=a},iq.Xo=function(a){this.o=a},iq.nk=function(a,b){if("degrees"==this.vb())return a;var c=qb(this,nb("EPSG:4326")),d=[b[0]-a/2,b[1],b[0]+a/2,b[1],b[0],b[1]-a/2,b[0],b[1]+a/2],d=c(d,d,2),c=Dq.b(d.slice(0,2),d.slice(2,4)),d=Dq.b(d.slice(4,6),d.slice(6,8)),d=(c+d)/2,c=this.Vb();return void 0!==c&&(d/=c),d},iq.getPointResolution=function(a,b){return this.o(a,b)};var Fq={},Gq={},Hq=null;if(m(vb,W),iq=vb.prototype,iq.ub=function(a,b){var c=b?b:[NaN,NaN];return this.rb(a[0],a[1],c,1/0),c},iq.og=function(a){return this.wc(a[0],a[1])},iq.wc=cb,iq.O=function(a){this.B!=this.g&&(this.v=this.Jd(this.v),this.B=this.g);var b=this.v;return a?(a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3]):a=b,a},iq.yb=function(a){return this.hd(a*a)},iq.hb=function(a,b){return this.mc(pb(a,b)),this},wb.prototype.BYTES_PER_ELEMENT=4,wb.prototype.set=function(a,b){b=b||0;for(var c=0;c<a.length&&b+c<this.length;c++)this[b+c]=a[c]},wb.prototype.toString=Array.prototype.join,"undefined"==typeof Float32Array&&(wb.BYTES_PER_ELEMENT=4,wb.prototype.BYTES_PER_ELEMENT=wb.prototype.BYTES_PER_ELEMENT,wb.prototype.set=wb.prototype.set,wb.prototype.toString=wb.prototype.toString,a("Float32Array",wb,void 0)),xb.prototype.BYTES_PER_ELEMENT=8,xb.prototype.set=function(a,b){b=b||0;for(var c=0;c<a.length&&b+c<this.length;c++)this[b+c]=a[c]},xb.prototype.toString=Array.prototype.join,"undefined"==typeof Float64Array){try{xb.BYTES_PER_ELEMENT=8}catch(a){}xb.prototype.BYTES_PER_ELEMENT=xb.prototype.BYTES_PER_ELEMENT,xb.prototype.set=xb.prototype.set,xb.prototype.toString=xb.prototype.toString,a("Float64Array",xb,void 0)}new Float64Array(3),new Float64Array(3),new Float64Array(4),new Float64Array(4),new Float64Array(4),new Float64Array(16),m(Kb,vb),iq=Kb.prototype,iq.wc=cb,iq.Jd=function(a){return Ja(this.A,0,this.A.length,this.a,a)},iq.Fb=function(){return this.A.slice(0,this.a)},iq.ga=function(){return this.A},iq.Gb=function(){return this.A.slice(this.A.length-this.a)},iq.Hb=function(){return this.f},iq.hd=function(a){if(this.s!=this.g&&(z(this.l),this.o=0,this.s=this.g),0>a||0!==this.o&&a<=this.o)return this;var b=a.toString();if(this.l.hasOwnProperty(b))return this.l[b];var c=this.Ic(a);return c.ga().length<this.A.length?this.l[b]=c:(this.o=a,this)},iq.Ic=function(){return this},iq.ua=function(){return this.a},iq.mc=function(a){this.A&&(a(this.A,this.A,this.a),this.u())},iq.rotate=function(a,b){var c=this.ga();if(c){for(var d=c.length,e=this.ua(),f=c?c:[],g=Math.cos(a),h=Math.sin(a),i=b[0],j=b[1],k=0,l=0;l<d;l+=e){var m=c[l]-i,n=c[l+1]-j;for(f[k++]=i+m*g-n*h,f[k++]=j+m*h+n*g,m=l+2;m<l+e;++m)f[k++]=c[m]}c&&f.length!=k&&(f.length=k),this.u()}},iq.Nc=function(a,b){var c=this.ga();if(c){var d,e,f=c.length,g=this.ua(),h=c?c:[],i=0;for(d=0;d<f;d+=g)for(h[i++]=c[d]+a,h[i++]=c[d+1]+b,e=d+2;e<d+g;++e)h[i++]=c[e];c&&h.length!=i&&(h.length=i),this.u()}},m(ac,Kb),iq=ac.prototype,iq.clone=function(){var a=new ac(null);return bc(a,this.f,this.A.slice()),a},iq.rb=function(a,b,c,d){return d<Ba(this.O(),a,b)?d:(this.i!=this.g&&(this.j=Math.sqrt(Rb(this.A,0,this.A.length,this.a,0)),this.i=this.g),Tb(this.A,0,this.A.length,this.a,this.j,!0,a,b,c,d))},iq.hm=function(){return Ob(this.A,0,this.A.length,this.a)},iq.Z=function(){return Yb(this.A,0,this.A.length,this.a)},iq.Ic=function(a){var b=[];return b.length=$b(this.A,0,this.A.length,this.a,a,b,0),a=new ac(null),bc(a,"XY",b),a},iq.X=function(){return"LinearRing"},iq.ma=function(a,b){a?(Nb(this,b,a,1),this.A||(this.A=[]),this.A.length=Wb(this.A,0,a,this.a),this.u()):bc(this,"XY",null)},m(cc,Kb),iq=cc.prototype,iq.clone=function(){var a=new cc(null);return a.ba(this.f,this.A.slice()),a},iq.rb=function(a,b,c,d){var e=this.A;if(a=s(a,b,e[0],e[1]),a<d){for(d=this.a,b=0;b<d;++b)c[b]=e[b];return c.length=d,a}return d},iq.Z=function(){return this.A?this.A.slice():[]},iq.Jd=function(a){return Ia(this.A,a)},iq.X=function(){return"Point"},iq.Ia=function(a){return Ea(a,this.A[0],this.A[1])},iq.ma=function(a,b){a?(Nb(this,b,a,0),this.A||(this.A=[]),this.A.length=Vb(this.A,a),this.u()):this.ba("XY",null)},iq.ba=function(a,b){Mb(this,a,b),this.u()},m(oc,Kb),iq=oc.prototype,iq.tj=function(a){this.A?ba(this.A,a.ga()):this.A=a.ga().slice(),this.i.push(this.A.length),this.u()},iq.clone=function(){var a=new oc(null);return a.ba(this.f,this.A.slice(),this.i.slice()),a},iq.rb=function(a,b,c,d){return d<Ba(this.O(),a,b)?d:(this.R!=this.g&&(this.S=Math.sqrt(Sb(this.A,0,this.i,this.a,0)),this.R=this.g),Ub(this.A,0,this.i,this.a,this.S,!0,a,b,c,d))},iq.wc=function(a,b){return fc(this.Kb(),0,this.i,this.a,a,b)},iq.km=function(){return Pb(this.Kb(),0,this.i,this.a)},iq.Z=function(a){var b;return void 0!==a?(b=this.Kb().slice(),mc(b,0,this.i,this.a,a)):b=this.A,Zb(b,0,this.i,this.a)},iq.zb=function(){return this.i},iq.Yj=function(){return new cc(pc(this))},iq.ck=function(){return this.i.length},iq.Cg=function(a){if(0>a||this.i.length<=a)return null;var b=new ac(null);return bc(b,this.f,this.A.slice(0===a?0:this.i[a-1],this.i[a])),b},iq.Pd=function(){var a,b,c=this.f,d=this.A,e=this.i,f=[],g=0;for(a=0,b=e.length;a<b;++a){var h=e[a],i=new ac(null);bc(i,c,d.slice(g,h)),f.push(i),g=h}return f},iq.Kb=function(){if(this.T!=this.g){var a=this.A;lc(a,this.i,this.a)?this.j=a:(this.j=a.slice(),this.j.length=mc(this.j,0,this.i,this.a)),this.T=this.g}return this.j},iq.Ic=function(a){var b=[],c=[];return b.length=_b(this.A,0,this.i,this.a,Math.sqrt(a),b,0,c),a=new oc(null),a.ba("XY",b,c),a},iq.X=function(){return"Polygon"},iq.Ia=function(a){return jc(this.Kb(),0,this.i,this.a,a)},iq.ma=function(a,b){if(a){Nb(this,b,a,2),this.A||(this.A=[]);var c=Xb(this.A,0,a,this.a,this.i);this.A.length=0===c.length?0:c[c.length-1],this.u()}else this.ba("XY",null,this.i)},iq.ba=function(a,b,c){Mb(this,a,b),this.i=c,this.u()},m(uc,W),iq=uc.prototype,iq.Kd=function(a){return this.l.center(a)},iq.constrainResolution=function(a,b,c){return this.l.resolution(a,b||0,c||0)},iq.constrainRotation=function(a,b){return this.l.rotation(a,b||0)},iq.bb=function(){return this.get("center")},iq.Fc=function(a){var b=this.bb(),c=this.$(),d=this.Ka();return Ta(b,c,d,a)},iq.Rl=function(){return this.i},iq.$=function(){return this.get("resolution")},iq.Sl=function(){return this.j},iq.Ka=function(){return this.get("rotation")},iq.V=function(){var a=this.bb(),b=this.i,c=this.$(),d=this.Ka();return{center:[Math.round(a[0]/c)*c,Math.round(a[1]/c)*c],projection:void 0!==b?b:null,resolution:c,rotation:d}},iq.Bk=function(){var a,b=this.$();if(void 0!==b){var c,d=0;do{if(c=this.constrainResolution(this.a,d),c==b){a=d;break}++d}while(c>this.o)}return void 0!==a?this.c+a:a},iq.Ze=function(a,b,c){a instanceof Kb||(a=rc(a));var d=c||{};c=void 0!==d.padding?d.padding:[0,0,0,0];var e,f=void 0===d.constrainResolution||d.constrainResolution,g=void 0!==d.nearest&&d.nearest;e=void 0!==d.minResolution?d.minResolution:void 0!==d.maxZoom?this.constrainResolution(this.a,d.maxZoom-this.c,0):0;var h=a.ga(),i=this.Ka(),d=Math.cos(-i),i=Math.sin(-i),j=1/0,k=1/0,l=-(1/0),m=-(1/0);a=a.ua();for(var n=0,o=h.length;n<o;n+=a)var p=h[n]*d-h[n+1]*i,q=h[n]*i+h[n+1]*d,j=Math.min(j,p),k=Math.min(k,q),l=Math.max(l,p),m=Math.max(m,q);b=wc([j,k,l,m],[b[0]-c[1]-c[3],b[1]-c[0]-c[2]]),b=isNaN(b)?e:Math.max(b,e),f&&(e=this.constrainResolution(b,0,0),!g&&e<b&&(e=this.constrainResolution(e,-1,0)),b=e),this.Qb(b),i=-i,g=(j+l)/2+(c[1]-c[3])/2*b,c=(k+m)/2+(c[0]-c[2])/2*b,this.jb([g*d-c*i,c*d+g*i])},iq.Aj=function(a,b,c){var d=this.Ka(),e=Math.cos(-d),d=Math.sin(-d),f=a[0]*e-a[1]*d;a=a[1]*e+a[0]*d;var g=this.$(),f=f+(b[0]/2-c[0])*g;a+=(c[1]-b[1]/2)*g,d=-d,this.jb([f*e-a*d,a*e+f*d])},iq.rotate=function(a,b){if(void 0!==b){var c,d=this.bb();void 0!==d&&(c=[d[0]-b[0],d[1]-b[1]],ua(c,a-this.Ka()),pa(c,b)),this.jb(c)}this.de(a)},iq.jb=function(a){this.set("center",a)},iq.Qb=function(a){this.set("resolution",a)},iq.de=function(a){this.set("rotation",a)},iq.hp=function(a){a=this.constrainResolution(this.a,a-this.c,0),this.Qb(a)},Jc.prototype.contains=function(a){return Kc(this,a[1],a[2])},Nc.prototype.g=function(){return this.a},m(Oc,O),m(Pc,W),iq=Pc.prototype,iq.clear=function(){for(;0<this.Zb();)this.pop()},iq.lf=function(a){var b,c;for(b=0,c=a.length;b<c;++b)this.push(a[b]);return this},iq.forEach=function(a,b){this.a.forEach(a,b)},iq.Cl=function(){return this.a},iq.item=function(a){return this.a[a]},iq.Zb=function(){return this.get("length")},iq.Zd=function(a,b){this.a.splice(a,0,b),Qc(this),this.b(new Oc("add",b,this))},iq.pop=function(){return this.Nf(this.Zb()-1)},iq.push=function(a){var b=this.a.length;return this.Zd(b,a),b},iq.remove=function(a){var b,c,d=this.a;for(b=0,c=d.length;b<c;++b)if(d[b]===a)return this.Nf(b)},iq.Nf=function(a){var b=this.a[a];return this.a.splice(a,1),Qc(this),this.b(new Oc("remove",b,this)),b},iq.To=function(a,b){var c=this.Zb();if(a<c)c=this.a[a],this.a[a]=b,this.b(new Oc("remove",c,this)),this.b(new Oc("add",b,this));else{for(;c<a;++c)this.Zd(c,void 0);this.Zd(a,b)}};var Iq,Jq=Array.prototype.forEach?function(a,b,c){Array.prototype.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,f=e(a)?a.split(""):a,g=0;g<d;g++)g in f&&b.call(c,f[g],g,a)},Kq=/^#(?:[0-9a-f]{3}){1,2}$/i,Lq=/^(?:rgb)?\((0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2})\)$/i,Mq=/^(?:rgba)?\((0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2}),\s?(0|1|0\.\d{0,10})\)$/i,Nq=function(){var a={},b=0;return function(c){var d;if(a.hasOwnProperty(c))d=a[c];else{if(1024<=b){d=0;for(var e in a)0===(3&d++)&&(delete a[e],--b)}var f,g;Kq.exec(c)?(g=3==c.length-1?1:2,d=parseInt(c.substr(1+0*g,g),16),e=parseInt(c.substr(1+1*g,g),16),f=parseInt(c.substr(1+2*g,g),16),1==g&&(d=(d<<4)+d,e=(e<<4)+e,f=(f<<4)+f),d=[d,e,f,1]):(g=Mq.exec(c))?(d=Number(g[1]),e=Number(g[2]),f=Number(g[3]),g=Number(g[4]),d=[d,e,f,g],d=Wc(d,d)):(g=Lq.exec(c))?(d=Number(g[1]),e=Number(g[2]),f=Number(g[3]),d=[d,e,f,1],d=Wc(d,d)):d=void 0,a[c]=d,++b}return d}}();a:{var Oq=nq.navigator;if(Oq){var Pq=Oq.userAgent;if(Pq){Iq=Pq;break a}}Iq=""}var Qq,Rq="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),Sq=Yc("Opera")||Yc("OPR"),Tq=Yc("Trident")||Yc("MSIE"),Uq=Yc("Edge"),Vq=Yc("Gecko")&&!(-1!=Iq.toLowerCase().indexOf("webkit")&&!Yc("Edge"))&&!(Yc("Trident")||Yc("MSIE"))&&!Yc("Edge"),Wq=-1!=Iq.toLowerCase().indexOf("webkit")&&!Yc("Edge");a:{var Xq="",Yq=function(){var a=Iq;return Vq?/rv\:([^\);]+)(\)|;)/.exec(a):Uq?/Edge\/([\d\.]+)/.exec(a):Tq?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a):Wq?/WebKit\/(\S+)/.exec(a):Sq?/(?:Version)[ \/]?(\S+)/.exec(a):void 0}();if(Yq&&(Xq=Yq?Yq[1]:""),Tq){var Zq=_c();if(null!=Zq&&Zq>parseFloat(Xq)){Qq=String(Zq);break a}}Qq=Xq}var $q={},_q=nq.document,ar=_q&&Tq?_c()||("CSS1Compat"==_q.compatMode?parseInt(Qq,10):5):void 0,br=!Tq||9<=Number(ar);!Vq&&!Tq||Tq&&9<=Number(ar)||Vq&&ad("1.9.1"),Tq&&ad("9"),iq=bd.prototype,iq.clone=function(){return new bd(this.x,this.y)},iq.ceil=function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},iq.floor=function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},iq.round=function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},iq.scale=function(a,b){var c=f(b)?b:a;return this.x*=a,this.y*=c,this},iq=cd.prototype,iq.clone=function(){return new cd(this.width,this.height)},iq.wj=function(){return this.width*this.height},iq.Sa=function(){return!this.wj()},iq.ceil=function(){return this.width=Math.ceil(this.width),this.height=Math.ceil(this.height),this},iq.floor=function(){return this.width=Math.floor(this.width),this.height=Math.floor(this.height),this},iq.round=function(){return this.width=Math.round(this.width),this.height=Math.round(this.height),this},iq.scale=function(a,b){var c=f(b)?b:a;return this.width*=a,this.height*=c,this};var cr={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};pd.prototype.C=fd,pd.prototype.createElement=function(a){return this.b.createElement(a)},pd.prototype.appendChild=function(a,b){a.appendChild(b)},pd.prototype.contains=md,iq=qd.prototype,iq.clone=function(){return new qd(this.top,this.right,this.bottom,this.left)},iq.contains=function(a){return!(!this||!a)&&(a instanceof qd?a.left>=this.left&&a.right<=this.right&&a.top>=this.top&&a.bottom<=this.bottom:a.x>=this.left&&a.x<=this.right&&a.y>=this.top&&a.y<=this.bottom)},iq.ceil=function(){return this.top=Math.ceil(this.top),this.right=Math.ceil(this.right),this.bottom=Math.ceil(this.bottom),this.left=Math.ceil(this.left),this},iq.floor=function(){return this.top=Math.floor(this.top),this.right=Math.floor(this.right),this.bottom=Math.floor(this.bottom),this.left=Math.floor(this.left),this},iq.round=function(){return this.top=Math.round(this.top),this.right=Math.round(this.right),this.bottom=Math.round(this.bottom),this.left=Math.round(this.left),this},iq.scale=function(a,b){var c=f(b)?b:a;return this.left*=a,this.right*=a,this.top*=c,this.bottom*=c,this};var dr={thin:2,medium:4,thick:6};m(Ad,O),m(Bd,W),Bd.prototype.fa=function(){kd(this.element),Bd.ia.fa.call(this)},Bd.prototype.i=function(){return this.a},Bd.prototype.setMap=function(a){this.a&&kd(this.element);for(var b=0,c=this.s.length;b<c;++b)K(this.s[b]);this.s.length=0,(this.a=a)&&((this.S?this.S:a.v).appendChild(this.element),this.render!==n&&this.s.push(H(a,"postrender",this.render,this)),a.render())},Bd.prototype.c=function(a){this.S=ed(a)},iq=Cd.prototype,iq.clear=function(){this.g=0,this.f={},this.a=this.b=null},iq.forEach=function(a,b){for(var c=this.b;c;)a.call(b,c.kc,c.Yb,this),c=c.xb},iq.get=function(a){return a=this.f[a],a===this.a?a.kc:(a===this.b?(this.b=this.b.xb,this.b.fc=null):(a.xb.fc=a.fc,a.fc.xb=a.xb),a.xb=null,a.fc=this.a,this.a=this.a.xb=a,a.kc)},iq.rc=function(){return this.g},iq.K=function(){var a,b=Array(this.g),c=0;for(a=this.a;a;a=a.fc)b[c++]=a.Yb;return b},iq.uc=function(){var a,b=Array(this.g),c=0;for(a=this.a;a;a=a.fc)b[c++]=a.kc;return b},iq.pop=function(){var a=this.b;return delete this.f[a.Yb],a.xb&&(a.xb.fc=null),this.b=a.xb,this.b||(this.a=null),--this.g,a.kc},iq.replace=function(a,b){this.get(a),this.f[a].kc=b},iq.set=function(a,b){var c={Yb:a,xb:null,fc:this.a,kc:b};this.a?this.a.xb=c:this.b=c,this.a=c,this.f[a]=c,++this.g},m(Gd,Cd),Gd.prototype.Gc=function(a){for(var b,c;Hd(this)&&(b=this.b.kc,c=b.ja[0].toString(),!(c in a&&a[c].contains(b.ja)));)N(this.pop())},m(Id,R),Id.prototype.gb=function(){return i(this).toString()},Id.prototype.i=function(){return this.ja},Id.prototype.V=function(){return this.state},m(Nd,W),iq=Nd.prototype,iq.oa=n,iq.ra=function(){return this.l},iq.qa=function(){return this.R},iq.sa=function(){return this.f},iq.V=function(){return this.wa},iq.pa=function(){this.u()},iq.ka=function(a){this.l=Od(a),this.u()};var er=[0,0,0];iq=Qd.prototype,iq.O=function(){return this.s},iq.Dg=function(){return this.maxZoom},iq.Eg=function(){return this.minZoom},iq.Fa=function(a){return this.g?this.g:this.c[a]},iq.$=function(a){return this.b[a]},iq.Fh=function(){return this.b},iq.Ba=function(a,b){var c=this.Fa(a[0]),d=this.$(a[0]),e=Md(this.Ha(a[0]),this.f),f=c[0]+a[1]*e[0]*d,c=c[1]+a[2]*e[1]*d;return Ha(f,c,f+e[0]*d,c+e[1]*d,b)},iq.Td=function(a,b,c){return Wd(this,a[0],a[1],b,!1,c)},iq.kd=function(a,b,c){return b=this.$(b),Wd(this,a[0],a[1],b,!1,c)},iq.Ha=function(a){return this.o?this.o:this.i[a]},m(be,Nd),iq=be.prototype,iq.vh=function(){return Hd(this.a)},iq.Gc=function(a,b){var c=this.jd(a);c&&c.Gc(b)},iq.Od=function(){return 0},iq.Ab=function(a,b,c){return a+"/"+b+"/"+c},iq.ef=function(){return this.ea},iq.Ga=function(){return this.tileGrid},iq.fb=function(a){return this.tileGrid?this.tileGrid:Zd(a)},iq.jd=function(a){var b=this.f;return b&&!ob(b,a)?null:this.a},iq.Xb=function(){return this.ta},iq.Ud=function(a,b,c){return c=this.fb(c),b=this.Xb(b),a=Md(c.Ha(a),this.o),1==b?a:Ld(a,b,this.o)},iq.pa=function(){this.a.clear(),this.u()},iq.Uf=n,m(fe,O),m(ge,Bd),iq=ge.prototype,iq.Vl=function(a){a.preventDefault(),ie(this)},iq.Ul=function(){return this.o},iq.Xl=function(a){this.o!==a&&(this.o=a,this.element.classList.toggle("ol-uncollapsible"),!a&&this.f&&ie(this))},iq.Wl=function(a){this.o&&this.f!==a&&ie(this)},iq.Tl=function(){return this.f},m(je,Bd),je.prototype.B=function(a){if(a.preventDefault(),void 0!==this.o)this.o();else{a=this.a;var b=a.aa();if(b){var c=b.Ka();void 0!==c&&(0<this.j&&(c%=2*Math.PI,c<-Math.PI&&(c+=2*Math.PI),c>Math.PI&&(c-=2*Math.PI),a.Va(Hc({rotation:c,duration:this.j,easing:Cc}))),b.de(0))}}},m(le,Bd),le.prototype.l=function(a,b){b.preventDefault();var c=this.a,d=c.aa();if(d){var e=d.$();e&&(0<this.f&&c.Va(Ic({resolution:e,duration:this.f,easing:Cc})),c=d.constrainResolution(e,a),d.Qb(c))}};var fr=Wq?"webkitfullscreenchange":Vq?"mozfullscreenchange":Tq?"MSFullscreenChange":"fullscreenchange";m(qe,Bd),qe.prototype.M=function(a){a.preventDefault(),ne()&&(a=this.a)&&(pe()?(a=dd().b,a.webkitCancelFullScreen?a.webkitCancelFullScreen():a.mozCancelFullScreen?a.mozCancelFullScreen():a.msExitFullscreen?a.msExitFullscreen():a.exitFullscreen&&a.exitFullscreen()):(a=this.j?ed(this.j):a.tc(),this.B?a.mozRequestFullScreenWithKeys?a.mozRequestFullScreenWithKeys():a.webkitRequestFullscreen?a.webkitRequestFullscreen():oe(a):oe(a)))},qe.prototype.v=function(){var a=this.element.firstElementChild,b=this.a;pe()?(a.className=this.f+"-true",ld(this.o,this.l)):(a.className=this.f+"-false",ld(this.l,this.o)),b&&b.Sc()},qe.prototype.setMap=function(a){qe.ia.setMap.call(this,a),a&&this.s.push(H(qq.document,fr,this.v,this))},m(re,Bd),iq=re.prototype,iq.Yl=function(){this.l=null},iq.xg=function(){return this.get("coordinateFormat")},iq.bh=function(){return this.get("projection")},iq.Tk=function(a){this.o=this.a.Nd(a),te(this,this.o)},iq.Uk=function(){te(this,null),this.o=null},iq.setMap=function(a){re.ia.setMap.call(this,a),a&&(a=a.a,this.s.push(H(a,"mousemove",this.Tk,this),H(a,"mouseout",this.Uk,this)))},iq.$h=function(a){this.set("coordinateFormat",a)},iq.dh=function(a){this.set("projection",a)};var gr;m(we,O);var hr=!1;try{hr=1===new MouseEvent("click",{buttons:1}).buttons}catch(a){}var ir,jr,kr=function(){var a;return function(){if(void 0===a){var b,c=document.createElement("P"),d={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};document.body.appendChild(c);for(var e in d)e in c.style&&(c.style[e]="translate(1px,1px)",b=qq.getComputedStyle(c).getPropertyValue(d[e]));document.body.removeChild(c),a=b&&"none"!==b}return a}}(),lr=function(){var a;return function(){if(void 0===a){var b,c=document.createElement("P"),d={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};document.body.appendChild(c);for(var e in d)e in c.style&&(c.style[e]="translate3d(1px,1px,1px)",b=qq.getComputedStyle(c).getPropertyValue(d[e]));document.body.removeChild(c),a=b&&"none"!==b}return a}}(),mr=["experimental-webgl","webgl","webkit-3d","moz-webgl"],nr="undefined"!=typeof navigator?navigator.userAgent.toLowerCase():"",or=-1!==nr.indexOf("firefox"),pr=-1!==nr.indexOf("safari")&&-1===nr.indexOf("chrom"),qr=-1!==nr.indexOf("macintosh"),rr=qq.devicePixelRatio||1,sr=!1,tr=function(){if(!("HTMLCanvasElement"in qq))return!1;try{var a=ze();return!!a&&(void 0!==a.setLineDash&&(sr=!0),!0)}catch(a){return!1}}(),ur="DeviceOrientationEvent"in qq,vr="geolocation"in qq.navigator,wr="ontouchstart"in qq,xr="PointerEvent"in qq,yr=!!qq.navigator.msPointerEnabled,zr=!1,Ar=[];if("WebGLRenderingContext"in qq)try{var Br=Ce(document.createElement("CANVAS"),{failIfMajorPerformanceCaveat:!0});Br&&(zr=!0,jr=Br.getParameter(Br.MAX_TEXTURE_SIZE),Ar=Br.getSupportedExtensions())}catch(a){}ir=zr,kq=Ar,jq=jr,m(Ee,De),iq=Ee.prototype,iq.nl=function(a){if(!Fe(this,a)){if(1..toString()in this.a){var b=Ge(a);Ve(this.b,Jr,b,a),delete this.a[1..toString()]}b=Ge(a),this.a[1..toString()]=a,Ve(this.b,Dr,b,a)}},iq.ol=function(a){if(!Fe(this,a)){var b=Ge(a);Ve(this.b,Cr,b,a)}},iq.rl=function(a){if(!Fe(this,a)){var b=this.a[1..toString()];b&&b.button===a.button&&(b=Ge(a),Ve(this.b,Er,b,a),delete this.a[1..toString()])}},iq.ql=function(a){if(!Fe(this,a)){var b=Ge(a);Ue(this.b,b,a)}},iq.pl=function(a){if(!Fe(this,a)){var b=Ge(a);Te(this.b,b,a)}},m(He,De),iq=He.prototype,iq.wl=function(a){this.a[a.pointerId.toString()]=a;var b=Ie(this,a);Ve(this.b,Dr,b,a)},iq.xl=function(a){var b=Ie(this,a);Ve(this.b,Cr,b,a)},iq.Al=function(a){var b=Ie(this,a);Ve(this.b,Er,b,a),delete this.a[a.pointerId.toString()]},iq.yl=function(a){var b=Ie(this,a);Te(this.b,b,a)},iq.zl=function(a){var b=Ie(this,a);Ue(this.b,b,a)},iq.vl=function(a){var b=Ie(this,a);Ve(this.b,Jr,b,a),delete this.a[a.pointerId.toString()]},iq.ul=function(a){this.b.b(new we("lostpointercapture",a,a))},iq.tl=function(a){this.b.b(new we("gotpointercapture",a,a))},m(Je,De),iq=Je.prototype,iq.eo=function(a){We(this.b,a)},iq.fo=function(a){We(this.b,a)},iq.jo=function(a){We(this.b,a)},iq.ho=function(a){We(this.b,a)},iq.io=function(a){We(this.b,a)},iq.co=function(a){We(this.b,a)},iq.ml=function(a){We(this.b,a)},iq.Ck=function(a){We(this.b,a)},m(Ke,De),iq=Ke.prototype,iq.Yh=function(){this.i=0,this.f=void 0},iq.mp=function(a){var b=a.touches,c=Object.keys(this.a),d=c.length;if(d>=b.length){var e,f,g,h=[];for(e=0;e<d;++e){f=c[e],g=this.a[f];var i;if(!(i=1==f))a:{i=b.length;for(var j=void 0,k=0;k<i;k++)if(j=b[k],j.identifier===f-2){i=!0;break a}i=!1}i||h.push(g.out)}for(e=0;e<h.length;++e)this.Qe(a,h[e])}b=a.changedTouches[0],c=Object.keys(this.a).length,(0===c||1===c&&1..toString()in this.a)&&(this.g=b.identifier,void 0!==this.f&&qq.clearTimeout(this.f)),Ne(this,a),this.i++,Me(this,a,this.Zn)},iq.Zn=function(a,b){this.a[b.pointerId]={target:b.target,out:b,Gh:b.target};var c=this.b;b.bubbles=!0,Ve(c,Fr,b,a),c=this.b,b.bubbles=!1,Ve(c,Hr,b,a),Ve(this.b,Dr,b,a)},iq.lp=function(a){a.preventDefault(),Me(this,a,this.sl)},iq.sl=function(a,b){var c=this.a[b.pointerId];if(c){var d=c.out,e=c.Gh;Ve(this.b,Cr,b,a),d&&e!==b.target&&(d.relatedTarget=b.target,b.relatedTarget=e,d.target=e,b.target?(Te(this.b,d,a),Ue(this.b,b,a)):(b.target=e,b.relatedTarget=null,this.Qe(a,b))),c.out=b,c.Gh=b.target}},iq.kp=function(a){Ne(this,a),Me(this,a,this.np)},iq.np=function(a,b){Ve(this.b,Er,b,a),this.b.out(b,a);var c=this.b;b.bubbles=!1,Ve(c,Ir,b,a),delete this.a[b.pointerId],b.isPrimary&&(this.g=void 0,this.f=qq.setTimeout(this.Yh.bind(this),200))},iq.jp=function(a){Me(this,a,this.Qe)},iq.Qe=function(a,b){Ve(this.b,Jr,b,a),this.b.out(b,a);var c=this.b;b.bubbles=!1,Ve(c,Ir,b,a),delete this.a[b.pointerId],b.isPrimary&&(this.g=void 0,this.f=qq.setTimeout(this.Yh.bind(this),200))},m(Oe,R),Oe.prototype.f=function(a){var b=this.c[a.type];b&&b(a)},Oe.prototype.out=function(a,b){a.bubbles=!0,Ve(this,Gr,a,b)},Oe.prototype.fa=function(){for(var a,b=this.a.length,c=0;c<b;c++)a=this.a[c],Re(this,Object.keys(a.c));Oe.ia.fa.call(this)};var Cr="pointermove",Dr="pointerdown",Er="pointerup",Fr="pointerover",Gr="pointerout",Hr="pointerenter",Ir="pointerleave",Jr="pointercancel",Kr=[["bubbles",!1],["cancelable",!1],["view",null],["detail",null],["screenX",0],["screenY",0],["clientX",0],["clientY",0],["ctrlKey",!1],["altKey",!1],["shiftKey",!1],["metaKey",!1],["button",0],["relatedTarget",null],["buttons",0],["pointerId",0],["width",0],["height",0],["pressure",0],["tiltX",0],["tiltY",0],["pointerType",""],["hwTimestamp",0],["isPrimary",!1],["type",""],["target",null],["currentTarget",null],["which",0]];m(Xe,Ad),Xe.prototype.preventDefault=function(){Xe.ia.preventDefault.call(this),this.originalEvent.preventDefault()},Xe.prototype.stopPropagation=function(){Xe.ia.stopPropagation.call(this),this.originalEvent.stopPropagation()},m(Ye,Xe),m(Ze,R),iq=Ze.prototype,iq.Lg=function(a){_e(this,a);var b=new Ye(Rr,this.f,a);this.b(b),!this.o&&0===a.button&&$e(this,this.g),0===this.U&&(this.c.forEach(K),this.c.length=0,this.o=!1,this.g=null,N(this.a),this.a=null)},iq.Wk=function(a){_e(this,a);var b=new Ye(Qr,this.f,a);this.b(b),this.g=a,0===this.c.length&&(this.a=new Oe(document),this.c.push(H(this.a,Pr,this.Ol,this),H(this.a,Rr,this.Lg,this),H(this.i,Sr,this.Lg,this)))},iq.Ol=function(a){if(a.clientX!=this.g.clientX||a.clientY!=this.g.clientY){this.o=!0;var b=new Ye(Or,this.f,a,this.o);this.b(b)}a.preventDefault()},iq.Ho=function(a){this.b(new Ye(a.type,this.f,a,!(!this.g||a.clientX==this.g.clientX&&a.clientY==this.g.clientY)))},iq.fa=function(){this.s&&(K(this.s),this.s=null),this.j&&(K(this.j),this.j=null),this.c.forEach(K),this.c.length=0,this.a&&(N(this.a),this.a=null),this.i&&(N(this.i),this.i=null),Ze.ia.fa.call(this)};var Lr="singleclick",Mr="click",Nr="dblclick",Or="pointerdrag",Pr="pointermove",Qr="pointerdown",Rr="pointerup",Sr="pointercancel",Tr={Gp:Lr,vp:Mr,wp:Nr,zp:Or,Cp:Pr,yp:Qr,Fp:Rr,Ep:"pointerover",Dp:"pointerout",Ap:"pointerenter",Bp:"pointerleave",xp:Sr};m(af,W),iq=af.prototype,iq.O=function(){return this.get("extent")},iq.Ib=function(){return this.get("maxResolution")},iq.Jb=function(){return this.get("minResolution")},iq.Lb=function(){return this.get("opacity")},iq.wb=function(){return this.get("visible")},iq.Mb=function(){return this.get("zIndex")},iq.ac=function(a){this.set("extent",a)},iq.ic=function(a){this.set("maxResolution",a)},iq.jc=function(a){this.set("minResolution",a)},iq.bc=function(a){this.set("opacity",a)},iq.cc=function(a){this.set("visible",a)},iq.dc=function(a){this.set("zIndex",a)},m(df,O),m(ef,af),iq=ef.prototype,iq.df=function(a){return a=a?a:[],a.push(bf(this)),a},iq.da=function(){return this.get("source")||null},iq.ff=function(){var a=this.da();return a?a.V():"undefined"},iq.Fm=function(){this.u()},iq.bl=function(){this.v&&(K(this.v),this.v=null);var a=this.da();a&&(this.v=H(a,"change",this.Fm,this)),this.u()},iq.setMap=function(a){this.o&&(K(this.o),this.o=null),a||this.u(),this.j&&(K(this.j),this.j=null),a&&(this.o=H(a,"precompose",function(a){var b=bf(this);b.Lc=!1,b.zIndex=1/0,a.frameState.layerStatesArray.push(b),a.frameState.layerStates[i(this)]=b},this),this.j=H(this,"change",a.render,a),this.u())},iq.Ac=function(a){this.set("source",a)},m(gf,R),gf.prototype.O=function(){return this.extent},gf.prototype.$=function(){return this.resolution},gf.prototype.V=function(){return this.state},m(mf,T),iq=mf.prototype,iq.oa=n,iq.xc=function(a,b,c,d){if(a=a.slice(),lf(b.pixelToCoordinateMatrix,a,a),this.oa(a,b,bb,this))return c.call(d,this.a)},iq.ge=cb,iq.Ld=function(a,b,c){return function(d,e){return ce(a,b,d,e,function(a){c[d]||(c[d]={}),c[d][a.ja.toString()]=a})}},iq.Im=function(a){2===a.target.V()&&of(this)},iq=vf.prototype,iq.le=function(){return this.v},iq.Rd=function(){return this.U},iq.me=function(){return this.j},iq.ne=function(){return this.i},iq.Sd=function(){return this.M},iq.oe=function(a){this.v=a},iq.pe=function(a){this.j=a},iq.qe=function(a){this.i=a},m(wf,vf),iq=wf.prototype,iq.Tb=function(){if(this.f)return this.f;var a=this.c,b=this.Bb();if("fraction"==this.o||"fraction"==this.s){if(!b)return null;a=this.c.slice(),"fraction"==this.o&&(a[0]*=b[0]),"fraction"==this.s&&(a[1]*=b[1])}if("top-left"!=this.a){if(!b)return null;a===this.c&&(a=this.c.slice()),"top-right"!=this.a&&"bottom-right"!=this.a||(a[0]=-a[0]+b[0]),"bottom-left"!=this.a&&"bottom-right"!=this.a||(a[1]=-a[1]+b[1])}return this.f=a},iq.ec=function(){var a=this.b;return a.c?a.c:a.a},iq.fd=function(){return this.b.g},iq.od=function(){return this.b.f},iq.ke=function(){var a=this.b;if(!a.o)if(a.s){var b=a.g[0],c=a.g[1],d=ze(b,c);d.fillRect(0,0,b,c),a.o=d.canvas}else a.o=a.a;return a.o},iq.Fa=function(){if(this.l)return this.l;var a=this.N;if("top-left"!=this.g){var b=this.Bb(),c=this.b.g;if(!b||!c)return null;a=a.slice(),"top-right"!=this.g&&"bottom-right"!=this.g||(a[0]=c[0]-b[0]-a[0]),"bottom-left"!=this.g&&"bottom-right"!=this.g||(a[1]=c[1]-b[1]-a[1])}return this.l=a},iq.yn=function(){return this.b.j},iq.Bb=function(){return this.B?this.B:this.b.g},iq.kf=function(a,b){return H(this.b,"change",a,b)},iq.load=function(){this.b.load()},iq.Tf=function(a,b){J(this.b,"change",a,b)},m(xf,R),xf.prototype.v=function(){this.f=3,this.i.forEach(K),this.i=null,this.b("change")},xf.prototype.U=function(){if(this.f=2,this.g&&(this.a.width=this.g[0],this.a.height=this.g[1]),this.g=[this.a.width,this.a.height],this.i.forEach(K),this.i=null,yf(this),!this.s&&null!==this.l){this.c.width=this.a.width,this.c.height=this.a.height;var a=this.c.getContext("2d");a.drawImage(this.a,0,0);for(var b=a.getImageData(0,0,this.a.width,this.a.height),c=b.data,d=this.l[0]/255,e=this.l[1]/255,f=this.l[2]/255,g=0,h=c.length;g<h;g+=4)c[g]*=d,c[g+1]*=e,c[g+2]*=f;a.putImageData(b,0,0)}this.b("change")},xf.prototype.load=function(){if(0==this.f){this.f=1,this.i=[I(this.a,"error",this.v,this),I(this.a,"load",this.U,this)];try{this.a.src=this.j}catch(a){this.v()}}},b(zf),zf.prototype.clear=function(){this.b={},this.a=0},zf.prototype.get=function(a,b,c){return a=b+":"+a+":"+(c?Vc(c):"null"),a in this.b?this.b[a]:null},zf.prototype.set=function(a,b,c,d){this.b[b+":"+a+":"+(c?Vc(c):"null")]=d,++this.a},m(Af,M),iq=Af.prototype,iq.fa=function(){for(var a in this.g)N(this.g[a])},iq.oa=function(a,b,c,d,e,f){function g(a,e){var f=i(a).toString(),g=b.layerStates[i(e)].Lc;if(!(f in b.skippedFeatureUids)||g)return c.call(d,a,g?e:null)}var h,j=b.viewState,k=j.resolution,l=j.projection,j=a;if(l.a){var l=l.O(),m=Ya(l),n=a[0];(n<l[0]||n>l[2])&&(j=[n+m*Math.ceil((l[0]-n)/m),a[1]])}for(l=b.layerStatesArray,m=l.length-1;0<=m;--m){var o=l[m],n=o.layer;if(ff(o,k)&&e.call(f,n)&&(o=Df(this,n),n.da()&&(h=o.oa(n.da().N?j:a,b,g,d)),h))return h}},iq.mh=function(a,b,c,d,e,f){var g,h,i=b.viewState.resolution,j=b.layerStatesArray;for(h=j.length-1;0<=h;--h){g=j[h];var k=g.layer;if(ff(g,i)&&e.call(f,k)&&(g=Df(this,k).xc(a,b,c,d)))return g}},iq.nh=function(a,b,c,d){return void 0!==this.oa(a,b,bb,this,c,d)},iq.Nk=function(){this.i.render()},iq.xe=n,iq.No=function(a,b){for(var c in this.g)if(!(b&&c in b.layerStates)){var d=c,e=this.g[d];delete this.g[d],K(this.s[d]),delete this.s[d],N(e)}},Gf.prototype.clear=function(){this.b.length=0,this.a.length=0,z(this.g)},Gf.prototype.f=function(a){var b=this.j(a);return 1/0!=b&&(this.b.push(a),this.a.push(b),this.g[this.l(a)]=!0,Jf(this,0,this.b.length-1),!0)},Gf.prototype.rc=function(){return this.b.length},Gf.prototype.Sa=function(){return 0===this.b.length},m(Lf,Gf),Lf.prototype.f=function(a){var b=Lf.ia.f.call(this,a);return b&&H(a[0],"change",this.o,this),b},Lf.prototype.o=function(a){a=a.target;var b=a.V();2!==b&&3!==b&&4!==b&&5!==b||(J(a,"change",this.o,this),a=a.gb(),a in this.c&&(delete this.c[a],--this.i),this.s())},m(Pf,W),Pf.prototype.f=function(){return this.get("active")},Pf.prototype.l=function(){return this.v},Pf.prototype.i=function(a){this.set("active",a)},Pf.prototype.setMap=function(a){this.v=a},m(Tf,Pf),m(cg,Pf),cg.prototype.Bc=function(a){return a},m(fg,cg),fg.prototype.Bc=cb,m(jg,cg),jg.prototype.Bc=cb,m(ng,M),ng.prototype.fa=function(){this.setMap(null)},ng.prototype.setMap=function(a){if(this.b){this.b.B.removeChild(this.a);var b=this.a.style;b.left=b.top=b.width=b.height="inherit";
}(this.b=a)&&this.b.B.appendChild(this.a)},ng.prototype.W=function(){return this.f},m(qg,O),m(rg,cg),rg.prototype.W=function(){return this.a.W()},rg.prototype.s=n,m(wg,rg),wg.prototype.s=function(){var a=this.v,b=a.aa(),c=a.$a(),d=this.W().O();if(this.R){var e,f,g=b.Fc(c),d=[a.Da(Qa(d)),a.Da(Xa(d))],h=Ha(1/0,1/0,-(1/0),-(1/0),void 0);for(e=0,f=d.length;e<f;++e)Ma(h,d[e]);_a(g,1/wc(h,c)),d=g}c=b.constrainResolution(wc(d,c)),g=b.$(),h=b.bb(),a.Va(Ic({resolution:g,duration:this.j,easing:Cc})),a.Va(Gc({source:h,duration:this.j,easing:Cc})),b.jb(Sa(d)),b.Qb(c)},m(xg,Pf),m(zg,Pf),m(Bg,Pf),Bg.prototype.B=function(a){var b=q(this.c,-1,1),c=a.aa();a.render(),Rf(a,c,-b,this.a,this.M),this.c=0,this.a=null,this.j=this.o=void 0},Bg.prototype.N=function(a){this.s=a,a||(this.a=null)},m(Dg,cg),Dg.prototype.Bc=cb,m(Hg,cg),Hg.prototype.Bc=cb,m(Mg,af),iq=Mg.prototype,iq.Xd=function(){this.wb()&&this.u()},iq.Pk=function(){this.f.forEach(K),this.f.length=0;var a=this.Oc();this.f.push(H(a,"add",this.Ok,this),H(a,"remove",this.Qk,this));for(var b in this.a)this.a[b].forEach(K);z(this.a);var c,d,a=a.a;for(b=0,c=a.length;b<c;b++)d=a[b],this.a[i(d).toString()]=[H(d,"propertychange",this.Xd,this),H(d,"change",this.Xd,this)];this.u()},iq.Ok=function(a){a=a.element;var b=i(a).toString();this.a[b]=[H(a,"propertychange",this.Xd,this),H(a,"change",this.Xd,this)],this.u()},iq.Qk=function(a){a=i(a.element).toString(),this.a[a].forEach(K),delete this.a[a],this.u()},iq.Oc=function(){return this.get("layers")},iq.jh=function(a){this.set("layers",a)},iq.df=function(a){var b=void 0!==a?a:[],c=b.length;this.Oc().forEach(function(a){a.df(b)}),a=bf(this);var d,e;for(d=b.length;c<d;c++)e=b[c],e.opacity*=a.opacity,e.visible=e.visible&&a.visible,e.maxResolution=Math.min(e.maxResolution,a.maxResolution),e.minResolution=Math.max(e.minResolution,a.minResolution),void 0!==a.extent&&(e.extent=void 0!==e.extent?Va(e.extent,a.extent):a.extent);return b},iq.ff=function(){return"ready"},m(Ng,eb),Ng.prototype.getPointResolution=function(a,b){return a/zq(b[1]/6378137)};var Ur=6378137*Math.PI,Vr=[-Ur,-Ur,Ur,Ur],Wr=[-180,-85,180,85],Xr="EPSG:3857 EPSG:102100 EPSG:102113 EPSG:900913 urn:ogc:def:crs:EPSG:6.18:3:3857 urn:ogc:def:crs:EPSG::3857 http://www.opengis.net/gml/srs/epsg.xml#3857".split(" ").map(function(a){return new Ng(a)}),Yr=new db(6378137);m(Qg,eb),Qg.prototype.getPointResolution=function(a){return a};var Zr=[-180,-90,180,90],$r=Math.PI*Yr.radius/180,_r=[new Qg("CRS:84"),new Qg("EPSG:4326","neu"),new Qg("urn:ogc:def:crs:EPSG::4326","neu"),new Qg("urn:ogc:def:crs:EPSG:6.6:4326","neu"),new Qg("urn:ogc:def:crs:OGC:1.3:CRS84"),new Qg("urn:ogc:def:crs:OGC:2:84"),new Qg("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new Qg("urn:x-ogc:def:crs:EPSG:4326","neu")];m(Sg,ef),m(Tg,ef),Tg.prototype.f=function(){return this.get("preload")},Tg.prototype.l=function(a){this.set("preload",a)},Tg.prototype.c=function(){return this.get("useInterimTilesOnError")},Tg.prototype.B=function(a){this.set("useInterimTilesOnError",a)};var as=[0,0,0,1],bs=[],cs=[0,0,0,1];Vg.prototype.g=function(){return this.b},Vg.prototype.f=function(a){this.b=a,this.a=void 0},m(Yg,Xg),iq=_g.prototype,iq.En=function(){return this.b},iq.$j=function(){return this.f},iq.Fn=function(){return this.g},iq.ak=function(){return this.c},iq.fk=function(){return this.i},iq.Gn=function(){return this.a},iq.Hn=function(a){this.b=a,this.l=void 0},iq.Zo=function(a){this.f=a,this.l=void 0},iq.In=function(a){this.g=a,this.l=void 0},iq.$o=function(a){this.c=a,this.l=void 0},iq.ap=function(a){this.i=a,this.l=void 0},iq.fp=function(a){this.a=a,this.l=void 0},m(bh,vf),iq=bh.prototype,iq.Tb=function(){return this.o},iq.vn=function(){return this.g},iq.ke=function(){return this.l},iq.ec=function(){return this.f},iq.od=function(){return 2},iq.fd=function(){return this.s},iq.Fa=function(){return this.B},iq.wn=function(){return this.a},iq.Bb=function(){return this.N},iq.xn=function(){return this.b},iq.kf=n,iq.load=n,iq.Tf=n,iq.Bh=function(a,b,c,d){b.setTransform(1,0,0,1,0,0),b.translate(c,d),b.beginPath(),b.arc(a.size/2,a.size/2,this.a,0,2*Math.PI,!0),this.g&&(b.fillStyle=Xc(this.g.b),b.fill()),this.b&&(b.strokeStyle=a.strokeStyle,b.lineWidth=a.wd,a.lineDash&&b.setLineDash(a.lineDash),b.stroke()),b.closePath()},iq.Ah=function(a,b,c,d){b.setTransform(1,0,0,1,0,0),b.translate(c,d),b.beginPath(),b.arc(a.size/2,a.size/2,this.a,0,2*Math.PI,!0),b.fillStyle=Vc(as),b.fill(),this.b&&(b.strokeStyle=a.strokeStyle,b.lineWidth=a.wd,a.lineDash&&b.setLineDash(a.lineDash),b.stroke()),b.closePath()},iq=ch.prototype,iq.W=function(){return this.i},iq.Vj=function(){return this.g},iq.Jn=function(){return this.c},iq.Kn=function(){return this.a},iq.Ln=function(){return this.f},iq.Ea=function(){return this.l},iq.Mn=function(){return this.b},iq.Eh=function(a){g(a)?this.g=a:"string"==typeof a?this.g=function(b){return b.get(a)}:a?void 0!==a&&(this.g=function(){return a}):this.g=gh,this.i=a},iq.Nn=function(a){this.b=a};var ds=null;m(hh,ef),hh.prototype.M=function(){return this.B},hh.prototype.N=function(){return this.i},hh.prototype.l=function(a){this.B=void 0!==a?a:eh,this.i=null===a?void 0:dh(this.B),this.u()},m(jh,hh),jh.prototype.f=function(){return this.get("preload")},jh.prototype.c=function(){return this.get("useInterimTilesOnError")},jh.prototype.Y=function(a){this.set("preload",a)},jh.prototype.ea=function(a){this.set("useInterimTilesOnError",a)},m(kh,cf),iq=kh.prototype,iq.Md=function(a){if(Za(this.c,a.O())){if(this.a||this.b){this.a&&ph(this,this.a),this.b&&qh(this,this.b);var b;b=this.N;var c=this.U,d=a.ga();b=d?Jb(d,0,d.length,a.ua(),b,c):null,c=b[2]-b[0],d=b[3]-b[1],c=Math.sqrt(c*c+d*d),d=this.f,d.beginPath(),d.arc(b[0],b[1],c,0,2*Math.PI),this.a&&d.fill(),this.b&&d.stroke()}""!==this.g&&mh(this,a.ld(),2,2)}},iq.md=function(a){this.Ob(a.c,a.f),this.Pb(a.a),this.Rb(a.Ea())},iq.nc=function(a){switch(a.X()){case"Point":this.pc(a);break;case"LineString":this.cd(a);break;case"Polygon":this.Ye(a);break;case"MultiPoint":this.oc(a);break;case"MultiLineString":this.We(a);break;case"MultiPolygon":this.Xe(a);break;case"GeometryCollection":this.Ve(a);break;case"Circle":this.Md(a)}},iq.Ue=function(a,b){var c=(0,b.g)(a);c&&Za(this.c,c.O())&&(this.md(b),this.nc(c))},iq.Ve=function(a){a=a.c;var b,c;for(b=0,c=a.length;b<c;++b)this.nc(a[b])},iq.pc=function(a){var b=a.ga();a=a.ua(),this.i&&lh(this,b,b.length),""!==this.g&&mh(this,b,b.length,a)},iq.oc=function(a){var b=a.ga();a=a.ua(),this.i&&lh(this,b,b.length),""!==this.g&&mh(this,b,b.length,a)},iq.cd=function(a){if(Za(this.c,a.O())){if(this.b){qh(this,this.b);var b=this.f,c=a.ga();b.beginPath(),nh(this,c,0,c.length,a.ua(),!1),b.stroke()}""!==this.g&&(a=Lk(a),mh(this,a,2,2))}},iq.We=function(a){var b=a.O();if(Za(this.c,b)){if(this.b){qh(this,this.b);var b=this.f,c=a.ga(),d=0,e=a.zb(),f=a.ua();b.beginPath();var g,h;for(g=0,h=e.length;g<h;++g)d=nh(this,c,d,e[g],f,!1);b.stroke()}""!==this.g&&(a=Nk(a),mh(this,a,a.length,2))}},iq.Ye=function(a){if(Za(this.c,a.O())){if(this.b||this.a){this.a&&ph(this,this.a),this.b&&qh(this,this.b);var b=this.f;b.beginPath(),oh(this,a.Kb(),0,a.zb(),a.ua()),this.a&&b.fill(),this.b&&b.stroke()}""!==this.g&&(a=pc(a),mh(this,a,2,2))}},iq.Xe=function(a){if(Za(this.c,a.O())){if(this.b||this.a){this.a&&ph(this,this.a),this.b&&qh(this,this.b);var b,c,d=this.f,e=Sk(a),f=0,g=a.i,h=a.ua();for(b=0,c=g.length;b<c;++b){var i=g[b];d.beginPath(),f=oh(this,e,f,i,h),this.a&&d.fill(),this.b&&d.stroke()}}""!==this.g&&(a=Rk(a),mh(this,a,a.length,2))}},iq.Ob=function(a,b){if(a){var c=a.b;this.a={fillStyle:Xc(c?c:as)}}else this.a=null;if(b){var c=b.b,d=b.f,e=b.g,f=b.c,g=b.a,h=b.i;this.b={lineCap:void 0!==d?d:"round",lineDash:e?e:bs,lineJoin:void 0!==f?f:"round",lineWidth:this.B*(void 0!==g?g:1),miterLimit:void 0!==h?h:10,strokeStyle:Vc(c?c:cs)}}else this.b=null},iq.Pb=function(a){if(a){var b=a.Tb(),c=a.ec(1),d=a.Fa(),e=a.Bb();this.R=b[0],this.va=b[1],this.ya=e[1],this.i=c,this.v=a.v,this.wa=d[0],this.na=d[1],this.Cb=a.U,this.ta=a.j,this.l=a.i,this.xa=a.M,this.S=e[0]}else this.i=null},iq.Rb=function(a){if(a){var b=a.b;b?(b=b.b,this.o={fillStyle:Xc(b?b:as)}):this.o=null;var c=a.l;if(c){var b=c.b,d=c.f,e=c.g,f=c.c,g=c.a,c=c.i;this.s={lineCap:void 0!==d?d:"round",lineDash:e?e:bs,lineJoin:void 0!==f?f:"round",lineWidth:void 0!==g?g:1,miterLimit:void 0!==c?c:10,strokeStyle:Vc(b?b:cs)}}else this.s=null;var b=a.g,d=a.f,e=a.c,f=a.i,g=a.a,c=a.Ea(),h=a.o;a=a.j,this.T={font:void 0!==b?b:"10px sans-serif",textAlign:void 0!==h?h:"center",textBaseline:void 0!==a?a:"middle"},this.g=void 0!==c?c:"",this.Ra=void 0!==d?this.B*d:0,this.pb=void 0!==e?this.B*e:0,this.M=void 0!==f?f:0,this.j=this.B*(void 0!==g?g:1)}else this.g=""},m(rh,mf),rh.prototype.i=function(a,b,c){sh(this,"precompose",c,a,void 0);var d=this.f?this.f.a():null;if(d){var e=b.extent,f=void 0!==e;if(f){var g=a.pixelRatio,h=a.size[0]*g,i=a.size[1]*g,j=a.viewState.rotation,k=Wa(e),l=Xa(e),m=Ra(e),e=Qa(e);lf(a.coordinateToPixelMatrix,k,k),lf(a.coordinateToPixelMatrix,l,l),lf(a.coordinateToPixelMatrix,m,m),lf(a.coordinateToPixelMatrix,e,e),c.save(),Ug(c,-j,h/2,i/2),c.beginPath(),c.moveTo(k[0]*g,k[1]*g),c.lineTo(l[0]*g,l[1]*g),c.lineTo(m[0]*g,m[1]*g),c.lineTo(e[0]*g,e[1]*g),c.clip(),Ug(c,j,h/2,i/2)}g=this.s,h=c.globalAlpha,c.globalAlpha=b.opacity,c.drawImage(d,0,0,+d.width,+d.height,Math.round(g[12]),Math.round(g[13]),Math.round(d.width*g[0]),Math.round(d.height*g[5])),c.globalAlpha=h,f&&c.restore()}th(this,c,a)};var es=["Polygon","LineString","Image","Text"];m(vh,cf),vh.prototype.Pa=function(a,b,c,d,e){yh(this,a,b,c,d,e,this.a,void 0)},vh.prototype.fe=n,vh.prototype.$e=function(){return this.T},m(Bh,vh),Bh.prototype.pc=function(a,b){if(this.o){xh(this,b);var c=a.ga(),d=this.coordinates.length,c=wh(this,c,0,c.length,a.ua(),!1);this.a.push([4,d,c,this.o,this.g,this.i,this.l,this.j,this.s,this.v,this.U,this.B,this.M,this.N,this.R]),this.b.push([4,d,c,this.S,this.g,this.i,this.l,this.j,this.s,this.v,this.U,this.B,this.M,this.N,this.R]),Ah(this,b)}},Bh.prototype.oc=function(a,b){if(this.o){xh(this,b);var c=a.ga(),d=this.coordinates.length,c=wh(this,c,0,c.length,a.ua(),!1);this.a.push([4,d,c,this.o,this.g,this.i,this.l,this.j,this.s,this.v,this.U,this.B,this.M,this.N,this.R]),this.b.push([4,d,c,this.S,this.g,this.i,this.l,this.j,this.s,this.v,this.U,this.B,this.M,this.N,this.R]),Ah(this,b)}},Bh.prototype.fe=function(){zh(this),this.i=this.g=void 0,this.o=this.S=null,this.R=this.N=this.B=this.U=this.v=this.s=this.j=this.M=this.l=void 0},Bh.prototype.Pb=function(a){var b=a.Tb(),c=a.Bb(),d=a.ke(1),e=a.ec(1),f=a.Fa();this.g=b[0],this.i=b[1],this.S=d,this.o=e,this.l=c[1],this.j=a.v,this.s=f[0],this.v=f[1],this.U=a.U,this.B=a.j,this.M=a.i,this.N=a.M,this.R=c[0]},m(Ch,vh),iq=Ch.prototype,iq.$e=function(){return this.f||(this.f=Aa(this.T),0<this.c&&za(this.f,this.resolution*(this.c+1)/2,this.f)),this.f},iq.cd=function(a,b){var c=this.g,d=c.lineWidth;void 0!==c.strokeStyle&&void 0!==d&&(Eh(this),xh(this,b),this.b.push([10,c.strokeStyle,c.lineWidth,c.lineCap,c.lineJoin,c.miterLimit,c.lineDash],[1]),c=a.ga(),Dh(this,c,0,c.length,a.ua()),this.b.push([12]),Ah(this,b))},iq.We=function(a,b){var c=this.g,d=c.lineWidth;if(void 0!==c.strokeStyle&&void 0!==d){Eh(this),xh(this,b),this.b.push([10,c.strokeStyle,c.lineWidth,c.lineCap,c.lineJoin,c.miterLimit,c.lineDash],[1]);var e,f,c=a.zb(),d=a.ga(),g=a.ua(),h=0;for(e=0,f=c.length;e<f;++e)h=Dh(this,d,h,c[e],g);this.b.push([12]),Ah(this,b)}},iq.fe=function(){this.g.jf!=this.coordinates.length&&this.a.push([12]),zh(this),this.g=null},iq.Ob=function(a,b){var c=b.b;this.g.strokeStyle=Vc(c?c:cs),c=b.f,this.g.lineCap=void 0!==c?c:"round",c=b.g,this.g.lineDash=c?c:bs,c=b.c,this.g.lineJoin=void 0!==c?c:"round",c=b.a,this.g.lineWidth=void 0!==c?c:1,c=b.i,this.g.miterLimit=void 0!==c?c:10,this.g.lineWidth>this.c&&(this.c=this.g.lineWidth,this.f=null)},m(Fh,vh),iq=Fh.prototype,iq.Md=function(a,b){var c=this.g,d=c.strokeStyle;if(void 0!==c.fillStyle||void 0!==d){Hh(this),xh(this,b),this.b.push([9,Vc(as)]),void 0!==c.strokeStyle&&this.b.push([10,c.strokeStyle,c.lineWidth,c.lineCap,c.lineJoin,c.miterLimit,c.lineDash]);var e=a.ga(),d=this.coordinates.length;wh(this,e,0,e.length,a.ua(),!1),e=[1],d=[2,d],this.a.push(e,d),this.b.push(e,d),d=[7],this.b.push(d),void 0!==c.fillStyle&&this.a.push(d),void 0!==c.strokeStyle&&(c=[12],this.a.push(c),this.b.push(c)),Ah(this,b)}},iq.Ye=function(a,b){var c=this.g,d=c.strokeStyle;void 0===c.fillStyle&&void 0===d||(Hh(this),xh(this,b),this.b.push([9,Vc(as)]),void 0!==c.strokeStyle&&this.b.push([10,c.strokeStyle,c.lineWidth,c.lineCap,c.lineJoin,c.miterLimit,c.lineDash]),c=a.zb(),d=a.Kb(),Gh(this,d,0,c,a.ua()),Ah(this,b))},iq.Xe=function(a,b){var c=this.g,d=c.strokeStyle;if(void 0!==c.fillStyle||void 0!==d){Hh(this),xh(this,b),this.b.push([9,Vc(as)]),void 0!==c.strokeStyle&&this.b.push([10,c.strokeStyle,c.lineWidth,c.lineCap,c.lineJoin,c.miterLimit,c.lineDash]);var e,f,c=a.i,d=Sk(a),g=a.ua(),h=0;for(e=0,f=c.length;e<f;++e)h=Gh(this,d,h,c[e],g);Ah(this,b)}},iq.fe=function(){zh(this),this.g=null;var a=this.na;if(0!==a){var b,c,d=this.coordinates;for(b=0,c=d.length;b<c;++b)d[b]=a*Math.round(d[b]/a)}},iq.$e=function(){return this.f||(this.f=Aa(this.T),0<this.c&&za(this.f,this.resolution*(this.c+1)/2,this.f)),this.f},iq.Ob=function(a,b){var c=this.g;if(a){var d=a.b;c.fillStyle=Xc(d?d:as)}else c.fillStyle=void 0;b?(d=b.b,c.strokeStyle=Vc(d?d:cs),d=b.f,c.lineCap=void 0!==d?d:"round",d=b.g,c.lineDash=d?d.slice():bs,d=b.c,c.lineJoin=void 0!==d?d:"round",d=b.a,c.lineWidth=void 0!==d?d:1,d=b.i,c.miterLimit=void 0!==d?d:10,c.lineWidth>this.c&&(this.c=c.lineWidth,this.f=null)):(c.strokeStyle=void 0,c.lineCap=void 0,c.lineDash=null,c.lineJoin=void 0,c.lineWidth=void 0,c.miterLimit=void 0)},m(Ih,vh),Ih.prototype.Rb=function(a){if(a){var b=a.b;b?(b=b.b,b=Xc(b?b:as),this.g?this.g.fillStyle=b:this.g={fillStyle:b}):this.g=null;var c=a.l;if(c){var b=c.b,d=c.f,e=c.g,f=c.c,g=c.a,c=c.i,d=void 0!==d?d:"round",e=e?e.slice():bs,f=void 0!==f?f:"round",g=void 0!==g?g:1,c=void 0!==c?c:10,b=Vc(b?b:cs);if(this.i){var h=this.i;h.lineCap=d,h.lineDash=e,h.lineJoin=f,h.lineWidth=g,h.miterLimit=c,h.strokeStyle=b}else this.i={lineCap:d,lineDash:e,lineJoin:f,lineWidth:g,miterLimit:c,strokeStyle:b}}else this.i=null;var i=a.g,b=a.f,d=a.c,e=a.i,g=a.a,c=a.Ea(),f=a.o,h=a.j;a=void 0!==i?i:"10px sans-serif",f=void 0!==f?f:"center",h=void 0!==h?h:"middle",this.l?(i=this.l,i.font=a,i.textAlign=f,i.textBaseline=h):this.l={font:a,textAlign:f,textBaseline:h},this.o=void 0!==c?c:"",this.j=void 0!==b?b:0,this.s=void 0!==d?d:0,this.v=void 0!==e?e:0,this.U=void 0!==g?g:1}else this.o=""},Kh.prototype.oa=function(a,b,c,d,e){var f=this.i;jf(f,.5,.5,1/b,-1/b,-c,-a[0],-a[1]);var g=this.c;g.clearRect(0,0,1,1);var h;return void 0!==this.f&&(h=Ga(),Ma(h,a),za(h,b*this.f,h)),Mh(this,g,f,c,d,function(a){if(0<g.getImageData(0,0,1,1).data[3]){if(a=e(a))return a;g.clearRect(0,0,1,1)}},h)},Kh.prototype.b=function(a,b){var c=void 0!==a?a.toString():"0",d=this.a[c];return void 0===d&&(d={},this.a[c]=d),c=d[b],void 0===c&&(c=new fs[b](this.o,this.g,this.l),d[b]=c),c},Kh.prototype.Sa=function(){return B(this.a)},Kh.prototype.Pa=function(a,b,c,d,e,f){var g=Object.keys(this.a).map(Number);g.sort(Z);var h=this.g,i=h[0],j=h[1],k=h[2],h=h[3],i=[i,j,i,h,k,h,k,j];Jb(i,0,8,2,c,i),a.save(),a.beginPath(),a.moveTo(i[0],i[1]),a.lineTo(i[2],i[3]),a.lineTo(i[4],i[5]),a.lineTo(i[6],i[7]),a.closePath(),a.clip(),f=f?f:es;for(var l,m,i=0,j=g.length;i<j;++i)for(l=this.a[g[i].toString()],k=0,h=f.length;k<h;++k)m=l[f[k]],void 0!==m&&m.Pa(a,b,c,d,e);a.restore()};var fs={Image:Bh,LineString:Ch,Polygon:Fh,Text:Ih};iq=Nh.prototype,iq.get=function(a){return this.f[a]},iq.zb=function(){return this.c},iq.O=function(){return this.a||(this.a="Point"===this.g?Ia(this.b):Ja(this.b,0,this.b.length,2)),this.a},iq.Kb=function(){return this.b},iq.ga=Nh.prototype.Kb,iq.W=function(){return this},iq.Hm=function(){return this.f},iq.hd=Nh.prototype.W,iq.ua=function(){return 2},iq.$b=n,iq.X=function(){return this.g};var gs={Point:function(a,b,c,d){var e=c.a;if(e){if(2!=e.od())return;var f=a.b(c.b,"Image");f.Pb(e),f.pc(b,d)}(e=c.Ea())&&(a=a.b(c.b,"Text"),a.Rb(e),Jh(a,b.ga(),2,2,d))},LineString:function(a,b,c,d){var e=c.f;if(e){var f=a.b(c.b,"LineString");f.Ob(null,e),f.cd(b,d)}(e=c.Ea())&&(a=a.b(c.b,"Text"),a.Rb(e),Jh(a,Lk(b),2,2,d))},Polygon:function(a,b,c,d){var e=c.c,f=c.f;if(e||f){var g=a.b(c.b,"Polygon");g.Ob(e,f),g.Ye(b,d)}(e=c.Ea())&&(a=a.b(c.b,"Text"),a.Rb(e),Jh(a,pc(b),2,2,d))},MultiPoint:function(a,b,c,d){var e=c.a;if(e){if(2!=e.od())return;var f=a.b(c.b,"Image");f.Pb(e),f.oc(b,d)}(e=c.Ea())&&(a=a.b(c.b,"Text"),a.Rb(e),c=b.ga(),Jh(a,c,c.length,b.ua(),d))},MultiLineString:function(a,b,c,d){var e=c.f;if(e){var f=a.b(c.b,"LineString");f.Ob(null,e),f.We(b,d)}(e=c.Ea())&&(a=a.b(c.b,"Text"),a.Rb(e),b=Nk(b),Jh(a,b,b.length,2,d))},MultiPolygon:function(a,b,c,d){var e=c.c,f=c.f;if(f||e){var g=a.b(c.b,"Polygon");g.Ob(e,f),g.Xe(b,d)}(e=c.Ea())&&(a=a.b(c.b,"Text"),a.Rb(e),b=Rk(b),Jh(a,b,b.length,2,d))},GeometryCollection:function(a,b,c,d){b=b.c;var e,f;for(e=0,f=b.length;e<f;++e)(0,gs[b[e].X()])(a,b[e],c,d)},Circle:function(a,b,c,d){var e=c.c,f=c.f;if(e||f){var g=a.b(c.b,"Polygon");g.Ob(e,f),g.Md(b,d)}(e=c.Ea())&&(a=a.b(c.b,"Text"),a.Rb(e),Jh(a,b.ld(),2,2,d))}};m(Rh,gf),Rh.prototype.i=function(a){this.state=a?3:2,hf(this)},Rh.prototype.load=function(){0==this.state&&(this.state=1,hf(this),this.c(this.i.bind(this)))},Rh.prototype.a=function(){return this.g};var hs,is=nq.navigator,js=nq.chrome,ks=-1<is.userAgent.indexOf("OPR"),ls=-1<is.userAgent.indexOf("Edge");hs=!(!is.userAgent.match("CriOS")&&null!==js&&void 0!==js&&"Google Inc."===is.vendor&&0==ks&&0==ls),m(Yh,gf),Yh.prototype.fa=function(){1==this.state&&(K(this.vd),this.vd=null),Yh.ia.fa.call(this)},Yh.prototype.a=function(){return this.i},Yh.prototype.ud=function(){var a=this.nb.V();2==a&&(this.i=Uh(Ya(this.g)/this.c,Ua(this.g)/this.c,this.j,this.nb.$(),0,this.c,this.g,this.o,[{extent:this.nb.O(),image:this.nb.a()}],0)),this.state=a,hf(this)},Yh.prototype.load=function(){if(0==this.state){this.state=1,hf(this);var a=this.nb.V();2==a||3==a?this.ud():(this.vd=H(this.nb,"change",function(){var a=this.nb.V();2!=a&&3!=a||(K(this.vd),this.vd=null,this.ud())},this),this.nb.load())}},m(Zh,Nd),Zh.prototype.B=function(a,b,c,d){var e=this.f;if(e&&d&&!ob(e,d)){if(this.a){if(this.na==this.g&&ob(this.a.v,d)&&this.a.$()==b&&this.a.f==c&&Ka(this.a.O(),a))return this.a;N(this.a),this.a=null}return this.a=new Yh(e,d,a,b,c,function(a,b,c){return this.Hc(a,b,c,e)}.bind(this)),this.na=this.g,this.a}return e&&(d=e),this.Hc(a,b,c,d)},Zh.prototype.o=function(a){switch(a=a.target,a.V()){case 1:this.b(new ai(ms,a));break;case 2:this.b(new ai(ns,a));break;case 3:this.b(new ai(os,a))}},m(ai,O);var ms="imageloadstart",ns="imageloadend",os="imageloaderror";m(bi,Zh),bi.prototype.Hc=function(a,b,c,d){b=$h(this,b);var e=this.T;return e&&this.Y==this.g&&e.$()==b&&e.f==c&&Da(e.O(),a)?e:(a=a.slice(),_a(a,this.ta),(d=this.ea(a,b,c,[Ya(a)/b*c,Ua(a)/b*c],d))&&(e=new Rh(a,b,c,this.l,d)),this.T=e,this.Y=this.g,e)},m(ci,W),iq=ci.prototype,iq.clone=function(){var a=new ci(this.L());a.zc(this.a);var b=this.W();return b&&a.Ta(b.clone()),(b=this.c)&&a.nf(b),a},iq.W=function(){return this.get(this.a)},iq.Wa=function(){return this.i},iq.Wj=function(){return this.a},iq.Fl=function(){return this.c},iq.$b=function(){return this.l},iq.Gl=function(){this.u()},iq.Wd=function(){this.f&&(K(this.f),this.f=null);var a=this.W();a&&(this.f=H(a,"change",this.Gl,this)),this.u()},iq.Ta=function(a){this.set(this.a,a)},iq.nf=function(a){this.l=(this.c=a)?di(a):void 0,this.u()},iq.hc=function(a){this.i=a,this.u()},iq.zc=function(a){J(this,X(this.a),this.Wd,this),this.a=a,H(this,X(this.a),this.Wd,this),this.Wd()},m(ei,Id),iq=ei.prototype,iq.ab=function(){return-1==this.f.Qf?null:this.g.canvas},iq.Ql=function(){return this.l},iq.gb=function(){return this.j},iq.load=function(){0==this.state&&(this.state=1,Jd(this),this.v(this,this.j),this.s(null,NaN,null))},iq.bi=function(a){this.c=a,this.state=2,Jd(this)},iq.rf=function(a){this.o=a},iq.fi=function(a){this.s=a};var ps,qs,rs,ss,ts=document.implementation.createDocument("","",null),us=si();!function(){var a={ha:{}};!function(){function b(a,c){return this instanceof b?(this.Pe=Math.max(4,a||9),this.dg=Math.max(2,Math.ceil(.4*this.Pe)),c&&this.hj(c),void this.clear()):new b(a,c)}function c(a,b){a.bbox=d(a,0,a.children.length,b)}function d(a,b,c,d){for(var f,g=[1/0,1/0,-(1/0),-(1/0)];b<c;b++)f=a.children[b],e(g,a.Ja?d(f):f.bbox);return g}function e(a,b){a[0]=Math.min(a[0],b[0]),a[1]=Math.min(a[1],b[1]),a[2]=Math.max(a[2],b[2]),a[3]=Math.max(a[3],b[3])}function f(a,b){return a.bbox[0]-b.bbox[0]}function g(a,b){return a.bbox[1]-b.bbox[1]}function h(a){return(a[2]-a[0])*(a[3]-a[1])}function i(a){return a[2]-a[0]+(a[3]-a[1])}function j(a,b){return a[0]<=b[0]&&a[1]<=b[1]&&b[2]<=a[2]&&b[3]<=a[3]}function k(a,b){return b[0]<=a[2]&&b[1]<=a[3]&&b[2]>=a[0]&&b[3]>=a[1]}function l(a,b,c,d,e){for(var f,g=[b,c];g.length;)c=g.pop(),b=g.pop(),c-b<=d||(f=b+Math.ceil((c-b)/d/2)*d,m(a,b,c,f,e),g.push(b,f,f,c))}function m(a,b,c,d,e){for(var f,g,h,i,j;c>b;){for(600<c-b&&(f=c-b+1,g=d-b+1,h=Math.log(f),i=.5*Math.exp(2*h/3),j=.5*Math.sqrt(h*i*(f-i)/f)*(0>g-f/2?-1:1),h=Math.max(b,Math.floor(d-g*i/f+j)),g=Math.min(c,Math.floor(d+(f-g)*i/f+j)),m(a,h,g,d,e)),f=a[d],g=b,i=c,n(a,b,d),0<e(a[c],f)&&n(a,b,c);g<i;){for(n(a,g,i),g++,i--;0>e(a[g],f);)g++;for(;0<e(a[i],f);)i--}0===e(a[b],f)?n(a,b,i):(i++,n(a,i,c)),i<=d&&(b=i+1),d<=i&&(c=i-1)}}function n(a,b,c){var d=a[b];a[b]=a[c],a[c]=d}b.prototype={all:function(){return this.Zf(this.data,[])},search:function(a){var b=this.data,c=[],d=this.ib;if(!k(a,b.bbox))return c;for(var e,f,g,h,i=[];b;){for(e=0,f=b.children.length;e<f;e++)g=b.children[e],h=b.Ja?d(g):g.bbox,k(a,h)&&(b.Ja?c.push(g):j(a,h)?this.Zf(g,c):i.push(g));b=i.pop()}return c},load:function(a){if(!a||!a.length)return this;if(a.length<this.dg){for(var b=0,c=a.length;b<c;b++)this.za(a[b]);return this}return a=this.ag(a.slice(),0,a.length-1,0),this.data.children.length?this.data.height===a.height?this.fg(this.data,a):(this.data.height<a.height&&(b=this.data,this.data=a,a=b),this.cg(a,this.data.height-a.height-1,!0)):this.data=a,this},za:function(a){return a&&this.cg(a,this.data.height-1),this},clear:function(){return this.data={children:[],height:1,bbox:[1/0,1/0,-(1/0),-(1/0)],Ja:!0},this},remove:function(a){if(!a)return this;for(var b,c,d,e,f=this.data,g=this.ib(a),h=[],i=[];f||h.length;){if(f||(f=h.pop(),c=h[h.length-1],b=i.pop(),e=!0),f.Ja&&(d=f.children.indexOf(a),-1!==d)){f.children.splice(d,1),h.push(f),this.fj(h);break}e||f.Ja||!j(f.bbox,g)?c?(b++,f=c.children[b],e=!1):f=null:(h.push(f),i.push(b),b=0,c=f,f=f.children[0])}return this},ib:function(a){return a},Re:function(a,b){return a[0]-b[0]},Se:function(a,b){return a[1]-b[1]},toJSON:function(){return this.data},Zf:function(a,b){for(var c=[];a;)a.Ja?b.push.apply(b,a.children):c.push.apply(c,a.children),a=c.pop();return b},ag:function(a,b,d,e){var f,g=d-b+1,h=this.Pe;if(g<=h)return f={children:a.slice(b,d+1),height:1,bbox:null,Ja:!0},c(f,this.ib),f;e||(e=Math.ceil(Math.log(g)/Math.log(h)),h=Math.ceil(g/Math.pow(h,e-1))),f={children:[],height:e,bbox:null,Ja:!1};var i,j,k,g=Math.ceil(g/h),h=g*Math.ceil(Math.sqrt(h));for(l(a,b,d,h,this.Re);b<=d;b+=h)for(j=Math.min(b+h-1,d),l(a,b,j,g,this.Se),i=b;i<=j;i+=g)k=Math.min(i+g-1,j),f.children.push(this.ag(a,i,k,e-1));return c(f,this.ib),f},ej:function(a,b,c,d){for(var e,f,g,i,j,k,l,m;d.push(b),!b.Ja&&d.length-1!==c;){for(l=m=1/0,e=0,f=b.children.length;e<f;e++)g=b.children[e],j=h(g.bbox),k=g.bbox,k=(Math.max(k[2],a[2])-Math.min(k[0],a[0]))*(Math.max(k[3],a[3])-Math.min(k[1],a[1]))-j,k<m?(m=k,l=j<l?j:l,i=g):k===m&&j<l&&(l=j,i=g);b=i||b.children[0]}return b},cg:function(a,b,c){var d=this.ib;c=c?a.bbox:d(a);var d=[],f=this.ej(c,this.data,b,d);for(f.children.push(a),e(f.bbox,c);0<=b&&d[b].children.length>this.Pe;)this.nj(d,b),b--;this.bj(c,d,b)},nj:function(a,b){var d=a[b],e=d.children.length,f=this.dg;this.cj(d,f,e),e=this.dj(d,f,e),e={children:d.children.splice(e,d.children.length-e),height:d.height,bbox:null,Ja:!1},d.Ja&&(e.Ja=!0),c(d,this.ib),c(e,this.ib),b?a[b-1].children.push(e):this.fg(d,e)},fg:function(a,b){this.data={children:[a,b],height:a.height+1,bbox:null,Ja:!1},c(this.data,this.ib)},dj:function(a,b,c){var e,f,g,i,j,k,l;for(j=k=1/0,e=b;e<=c-b;e++)f=d(a,0,e,this.ib),g=d(a,e,c,this.ib),i=Math.max(0,Math.min(f[2],g[2])-Math.max(f[0],g[0]))*Math.max(0,Math.min(f[3],g[3])-Math.max(f[1],g[1])),f=h(f)+h(g),i<j?(j=i,l=e,k=f<k?f:k):i===j&&f<k&&(k=f,l=e);return l},cj:function(a,b,c){var d=a.Ja?this.Re:f,e=a.Ja?this.Se:g,h=this.$f(a,b,c,d);b=this.$f(a,b,c,e),h<b&&a.children.sort(d)},$f:function(a,b,c,f){a.children.sort(f),f=this.ib;var g,h,j=d(a,0,b,f),k=d(a,c-b,c,f),l=i(j)+i(k);for(g=b;g<c-b;g++)h=a.children[g],e(j,a.Ja?f(h):h.bbox),l+=i(j);for(g=c-b-1;g>=b;g--)h=a.children[g],e(k,a.Ja?f(h):h.bbox),l+=i(k);return l},bj:function(a,b,c){for(;0<=c;c--)e(b[c].bbox,a)},fj:function(a){for(var b,d=a.length-1;0<=d;d--)0===a[d].children.length?0<d?(b=a[d-1].children,b.splice(b.indexOf(a[d]),1)):this.clear():c(a[d],this.ib)},hj:function(a){var b=["return a"," - b",";"];this.Re=new Function("a","b",b.join(a[0])),this.Se=new Function("a","b",b.join(a[1])),this.ib=new Function("a","return [a"+a.join(", a")+"];")}},"undefined"!=typeof a?a.ha=b:"undefined"!=typeof self?self.b=b:window.b=b}(),ps=a.ha}(),iq=Di.prototype,iq.za=function(a,b){var c=[a[0],a[1],a[2],a[3],b];this.a.za(c),this.b[i(b)]=c},iq.load=function(a,b){for(var c=Array(b.length),d=0,e=b.length;d<e;d++){var f=a[d],g=b[d],f=[f[0],f[1],f[2],f[3],g];c[d]=f,this.b[i(g)]=f}this.a.load(c)},iq.remove=function(a){a=i(a);var b=this.b[a];return delete this.b[a],null!==this.a.remove(b)},iq.forEach=function(a,b){return Ii(Fi(this),a,b)},iq.Sa=function(){return B(this.b)},iq.clear=function(){this.a.clear(),this.b={}},iq.O=function(){return this.a.data.bbox},m(Ji,Nd),iq=Ji.prototype,iq.qb=function(a){var b=i(a).toString();if(Li(this,b,a)){Ki(this,b,a);var c=a.W();c?(b=c.O(),this.a&&this.a.za(b,a)):this.i[b]=a,this.b(new Qi("addfeature",a))}this.u()},iq.Ec=function(a){Mi(this,a),this.u()},iq.clear=function(a){if(a){for(var b in this.s)this.s[b].forEach(K);this.c||(this.s={},this.o={},this.j={})}else if(this.a){this.a.forEach(this.Of,this);for(var c in this.i)this.Of(this.i[c])}this.c&&this.c.clear(),this.a&&this.a.clear(),this.Y.clear(),this.i={},this.b(new Qi("clear")),this.u()},iq.sg=function(a,b){return this.a?this.a.forEach(a,b):this.c?this.c.forEach(a,b):void 0},iq.tb=function(a,b,c){return this.a?Hi(this.a,a,b,c):this.c?this.c.forEach(b,c):void 0},iq.tg=function(a,b,c){return this.tb(a,function(d){if(d.W().Ia(a)&&(d=b.call(c,d)))return d})},iq.Ag=function(){return this.c},iq.je=function(){var a;return this.c?a=this.c.a:this.a&&(a=Fi(this.a),B(this.i)||ba(a,A(this.i))),a},iq.zg=function(a){var b=[];return Oi(this,a,function(a){b.push(a)}),b},iq.af=function(a){return Gi(this.a,a)},iq.vg=function(a,b){var c=a[0],d=a[1],e=null,f=[NaN,NaN],g=1/0,h=[-(1/0),-(1/0),1/0,1/0],i=b?b:bb;return Hi(this.a,h,function(a){if(i(a)){var b=a.W(),j=g;g=b.rb(c,d,f,g),g<j&&(e=a,a=Math.sqrt(g),h[0]=c-a,h[1]=d-a,h[2]=c+a,h[3]=d+a)}}),e},iq.O=function(){return this.a.O()},iq.yg=function(a){return a=this.o[a.toString()],void 0!==a?a:null},iq.xh=function(){return this.na},iq.yh=function(){return this.T},iq.zh=function(a){a=a.target;var b=i(a).toString(),c=a.W();c?(c=c.O(),b in this.i?(delete this.i[b],this.a&&this.a.za(c,a)):this.a&&Ei(this.a,c,a)):b in this.i||(this.a&&this.a.remove(a),this.i[b]=a),c=a.Wa(),void 0!==c?(c=c.toString(),b in this.j?(delete this.j[b],this.o[c]=a):this.o[c]!==a&&(Pi(this,a),this.o[c]=a)):b in this.j||(Pi(this,a),this.j[b]=a),this.u(),this.b(new Qi("changefeature",a))},iq.Sa=function(){return this.a.Sa()&&B(this.i)},iq.Kc=function(a,b,c){var d=this.Y;a=this.pb(a,b);var e,f;for(e=0,f=a.length;e<f;++e){var g=a[e];Hi(d,g,function(a){return Da(a.extent,g)})||(this.S.call(this,g,b,c),d.za(g,{extent:g.slice()}))}},iq.kb=function(a){var b=i(a).toString();b in this.i?delete this.i[b]:this.a&&this.a.remove(a),this.Of(a),this.u()},iq.Of=function(a){var b=i(a).toString();this.s[b].forEach(K),delete this.s[b];var c=a.Wa();void 0!==c?delete this.o[c.toString()]:delete this.j[b],this.b(new Qi("removefeature",a))},m(Qi,O),m(Ri,bi),iq=Ri.prototype,iq.zj=function(a,b,c,d,e){var f=new Kh(.5*b/c,a,b);this.c.Kc(a,b,e);var g=!1;return this.c.tb(a,function(a){var d;if(!(d=g)){var e;if((d=a.$b())?e=d.call(a,b):this.s&&(e=this.s(a,b)),e){var h,i=!1;for(Array.isArray(e)||(e=[e]),d=0,h=e.length;d<h;++d)i=Qh(f,a,e[d],Ph(b,c),this.Ym,this)||i;d=i}else d=!1}g=d},this),Lh(f),g?null:(this.j[0]!=d[0]||this.j[1]!=d[1]?(this.i.canvas.width=d[0],this.i.canvas.height=d[1],this.j[0]=d[0],this.j[1]=d[1]):this.i.clearRect(0,0,d[0],d[1]),a=Si(this,Sa(a),b,c,d),f.Pa(this.i,c,a,0,{}),this.v=f,this.i.canvas)},iq.oa=function(a,b,c,d,e){if(this.v){var f={};return this.v.oa(a,b,0,d,function(a){var b=i(a).toString();if(!(b in f))return f[b]=!0,e(a)})}},iq.Vm=function(){return this.c},iq.Wm=function(){return this.S},iq.Xm=function(){return this.s},iq.Ym=function(){this.u()},iq.Zm=function(){Pd(this,this.c.V())},iq.sh=function(a){this.S=void 0!==a?a:eh,this.s=a?dh(this.S):void 0,this.u()},m(Ti,rh),Ti.prototype.oa=function(a,b,c,d){var e=this.a;return e.da().oa(a,b.viewState.resolution,b.viewState.rotation,b.skippedFeatureUids,function(a){return c.call(d,a,e)})},Ti.prototype.xc=function(a,b,c,d){if(this.f&&this.f.a())if(this.a.da()instanceof Ri){if(a=a.slice(),lf(b.pixelToCoordinateMatrix,a,a),this.oa(a,b,bb,this))return c.call(d,this.a)}else if(this.c||(this.c=zb(),Fb(this.s,this.c)),b=[0,0],lf(this.c,a,b),this.o||(this.o=ze(1,1)),this.o.clearRect(0,0,1,1),this.o.drawImage(this.f?this.f.a():null,b[0],b[1],1,1,0,0,1,1),0<this.o.getImageData(0,0,1,1).data[3])return c.call(d,this.a)},Ti.prototype.l=function(a,b){var c=a.pixelRatio,d=a.viewState,e=d.center,f=d.resolution,g=this.a.da(),h=a.viewHints,i=a.extent;if(void 0!==b.extent&&(i=Va(i,b.extent)),h[0]||h[1]||$a(i)||(d=g.B(i,f,c,d.projection))&&nf(this,d)&&(this.f=d),this.f){var d=this.f,h=d.O(),i=d.$(),j=d.f,f=c*i/(f*j);jf(this.s,c*a.size[0]/2,c*a.size[1]/2,f,f,0,j*(h[0]-e[0])/i,j*(e[1]-h[3])/i),this.c=null,qf(a.attributions,d.l),rf(a,g)}return!!this.f},m(Ui,rh),Ui.prototype.i=function(a,b,c){var d=uh(this,a,0);sh(this,"precompose",c,a,d),Vi(this,c,a,b),th(this,c,a,d)},Ui.prototype.l=function(a,b){function c(a){return a=a.V(),2==a||4==a||3==a&&!r}var d=a.pixelRatio,e=a.viewState,f=e.projection,g=this.a,h=g.da(),i=h.fb(f),j=Xd(i,e.resolution,this.M),k=i.$(j),l=e.center;if(k==e.resolution?(l=tf(l,k,a.size),e=Ta(l,k,e.rotation,a.size)):e=a.extent,void 0!==b.extent&&(e=Va(e,b.extent)),$a(e))return!1;k=Td(i,e,k),l={},l[j]={};var m,n,o,p,q=this.Ld(h,f,l),r=g.c(),s=Ga(),t=new Jc(0,0,0,0);for(o=k.b;o<=k.a;++o)for(p=k.g;p<=k.f;++p)m=h.Wb(j,o,p,d,f),!c(m)&&m.a&&(m=m.a),c(m)?l[j][m.ja.toString()]=m:(n=Rd(i,m.ja,q,t,s),n||(m=Sd(i,m.ja,t,s))&&q(j+1,m));q=Object.keys(l).map(Number),q.sort(Z);var u,s=[],t=0;for(o=q.length;t<o;++t)for(u in m=q[t],p=l[m])m=p[u],2==m.V()&&s.push(m);return this.o=s,sf(a.usedTiles,h,j,k),uf(a,h,i,d,f,e,j,g.f()),pf(a,h),rf(a,h),!0},Ui.prototype.xc=function(a,b,c,d){var e=this.c.canvas,f=b.size;if(e.width=f[0],e.height=f[1],this.i(b,bf(this.a),this.c),0<this.c.getImageData(a[0],a[1],1,1).data[3])return c.call(d,this.a)},m(Wi,rh),Wi.prototype.i=function(a,b,c){var d=a.extent,e=a.pixelRatio,f=b.Lc?a.skippedFeatureUids:{},g=a.viewState,h=g.projection,g=g.rotation,i=h.O(),j=this.a.da(),k=uh(this,a,0);sh(this,"precompose",c,a,k);var l=this.o;if(l&&!l.Sa()){var m;S(this.a,"render")?(this.j.canvas.width=c.canvas.width,this.j.canvas.height=c.canvas.height,m=this.j):m=c;var n=m.globalAlpha;m.globalAlpha=b.opacity,b=a.size[0]*e;var o=a.size[1]*e;if(Ug(m,-g,b/2,o/2),l.Pa(m,e,k,g,f),j.N&&h.a&&!Da(i,d)){for(var h=d[0],j=Ya(i),p=0;h<i[0];)--p,k=j*p,k=uh(this,a,k),l.Pa(m,e,k,g,f),
h+=j;for(p=0,h=d[2];h>i[2];)++p,k=j*p,k=uh(this,a,k),l.Pa(m,e,k,g,f),h-=j;k=uh(this,a,0)}Ug(m,g,b/2,o/2),m!=c&&(sh(this,"render",m,a,k),c.drawImage(m.canvas,0,0)),m.globalAlpha=n}th(this,c,a,k)},Wi.prototype.oa=function(a,b,c,d){if(this.o){var e=this.a,f={};return this.o.oa(a,b.viewState.resolution,b.viewState.rotation,{},function(a){var b=i(a).toString();if(!(b in f))return f[b]=!0,c.call(d,a,e)})}},Wi.prototype.N=function(){of(this)},Wi.prototype.l=function(a){function b(a){var b,d=a.$b();if(d?b=d.call(a,j):(d=c.i)&&(b=d(a,j)),b){if(b){if(d=!1,Array.isArray(b))for(var e=0,f=b.length;e<f;++e)d=Qh(m,a,b[e],Ph(j,k),this.N,this)||d;else d=Qh(m,a,b,Ph(j,k),this.N,this)||d;a=d}else a=!1;this.c=this.c||a}}var c=this.a,d=c.da();qf(a.attributions,d.l),rf(a,d);var e=a.viewHints[0],f=a.viewHints[1],g=c.S,h=c.T;if(!this.c&&!g&&e||!h&&f)return!0;var i=a.extent,h=a.viewState,e=h.projection,j=h.resolution,k=a.pixelRatio,f=c.g,l=c.a,g=ih(c);if(void 0===g&&(g=Oh),i=za(i,l*j),l=h.projection.O(),d.N&&h.projection.a&&!Da(l,a.extent)&&(a=Math.max(Ya(i)/2,Ya(l)),i[0]=l[0]-a,i[2]=l[2]+a),!this.c&&this.B==j&&this.M==f&&this.U==g&&Da(this.v,i))return!0;this.o=null,this.c=!1;var m=new Kh(.5*j/k,i,j,c.a);if(d.Kc(i,j,e),g){var n=[];d.tb(i,function(a){n.push(a)},this),n.sort(g),n.forEach(b,this)}else d.tb(i,b,this);return Lh(m),this.B=j,this.M=f,this.U=g,this.v=i,this.o=m,!0},m(aj,be),iq=aj.prototype,iq.Xa=function(){return this.tileLoadFunction},iq.Ya=function(){return this.tileUrlFunction},iq.Za=function(){return this.urls},iq.wh=function(a){switch(a=a.target,a.V()){case 1:this.b(new fe("tileloadstart",a));break;case 2:this.b(new fe("tileloadend",a));break;case 3:this.b(new fe("tileloaderror",a))}},iq.cb=function(a){this.a.clear(),this.tileLoadFunction=a,this.u()},iq.La=function(a,b){this.tileUrlFunction=a,"undefined"!=typeof b?de(this,b):this.u()},iq.Na=function(a){var b=this.urls=_i(a);this.La(this.qc?this.qc.bind(this):Yi(b,this.tileGrid),a)},iq.Ua=function(a){this.urls=a;var b=a.join("\n");this.La(this.qc?this.qc.bind(this):Yi(a,this.tileGrid),b)},iq.Uf=function(a,b,c){a=this.Ab(a,b,c),Dd(this.a,a)&&this.a.get(a)},m(bj,aj),bj.prototype.Wb=function(a,b,c,d,e){var f=this.Ab(a,b,c);return Dd(this.a,f)?this.a.get(f):(a=[a,b,c],d=(b=ee(this,a,e))?this.tileUrlFunction(b,d,e):void 0,d=new this.tileClass(a,void 0!==d?0:4,void 0!==d?d:"",this.c,this.tileLoadFunction),H(d,"change",this.wh,this),this.a.set(f,d),d)},bj.prototype.Ud=function(a,b){var c=Md(this.tileGrid.Ha(a));return[c[0]*b,c[1]*b]};var vs={image:es,hybrid:["Polygon","LineString"]},ws={hybrid:["Image","Text"],vector:es};m(dj,Ui),dj.prototype.i=function(a,b,c){var d=uh(this,a,0);sh(this,"precompose",c,a,d);var e=this.a.s;if("vector"!==e&&Vi(this,c,a,b),"image"!==e){var f=this.a,e=ws[f.s],g=a.pixelRatio,h=b.Lc?a.skippedFeatureUids:{},i=a.viewState,j=i.center,k=i.rotation,l=a.size,i=g/i.resolution,m=f.da(),n=m.Xb(g),o=uh(this,a,0);S(f,"render")?(this.c.canvas.width=c.canvas.width,this.c.canvas.height=c.canvas.height,f=this.c):f=c;var p=f.globalAlpha;f.globalAlpha=b.opacity,b=this.o;var q,r,s,t,u,v,w,x,m=m.tileGrid;for(r=0,s=b.length;r<s;++r)t=b[r],w=t.f,u=m.Ba(t.ja,this.j),q=t.ja[0],v="tile-pixels"==t.o.vb(),q=m.$(q),x=q/n,q=Math.round(g*l[0]/2),t=Math.round(g*l[1]/2),v?(u=Wa(u),u=jf(this.v,q,t,i*x,i*x,k,(u[0]-j[0])/x,(j[1]-u[1])/x)):u=o,Ug(f,-k,q,t),w.td.Pa(f,g,u,k,h,e),Ug(f,k,q,t);f!=c&&(sh(this,"render",f,a,o),c.drawImage(f.canvas,0,0)),f.globalAlpha=p}th(this,c,a,d)},dj.prototype.oa=function(a,b,c,d){var e=b.pixelRatio,f=b.viewState.resolution;b=b.viewState.rotation;var g,h,j,k,l,m,n=this.a,o={},p=this.o,q=n.da(),r=q.tileGrid;for(j=0,k=p.length;j<k;++j)m=p[j],h=m.ja,l=q.tileGrid.Ba(h,this.j),Ca(l,a)&&("tile-pixels"===m.o.vb()?(l=Wa(l),f=q.Xb(e),h=r.$(h[0])/f,h=[(a[0]-l[0])/h,(l[1]-a[1])/h]):h=a,m=m.f.td,g=g||m.oa(h,f,b,{},function(a){var b=i(a).toString();if(!(b in o))return o[b]=!0,c.call(d,a,n)}));return g},dj.prototype.B=function(){of(this)},dj.prototype.l=function(a,b){var c=dj.ia.l.call(this,a,b);if(c)for(var d=Object.keys(a.ze||{}),e=0,f=this.o.length;e<f;++e){var g=this.o[e];ej(this,g,a);var h=g,g=a,i=this.a,j=vs[i.s];if(j){var k=g.pixelRatio,l=h.f,m=i.g;if(!ea(l.oi,d)||l.Qf!==m){l.oi=d,l.Qf=m;var m=h.g,n=i.da(),o=n.tileGrid,p=h.ja[0],q=o.$(p),i=Md(o.Ha(p)),p=o.$(p),r=p/q,s=i[0]*k*r,t=i[1]*k*r;m.canvas.width=s/r+.5,m.canvas.height=t/r+.5,m.scale(1/r,1/r),m.translate(s/2,t/2),r="tile-pixels"==h.o.vb(),q=k/q,n=n.Xb(k),p/=n,h=o.Ba(h.ja,this.j),o=void 0,r?o=jf(this.v,0,0,q*p,q*p,0,-i[0]*n/2,-i[1]*n/2):(h=Sa(h),o=jf(this.v,0,0,q,-q,0,-h[0],-h[1])),l.td.Pa(m,k,o,0,g.skippedFeatureUids||{},j)}}}return c},m(fj,Af),fj.prototype.Te=function(a){return a instanceof Sg?new Ti(a):a instanceof Tg?new Ui(a):a instanceof jh?new dj(a):a instanceof hh?new Wi(a):null},fj.prototype.X=function(){return"canvas"},fj.prototype.xe=function(a){if(a){var b=this.f,c=a.pixelRatio,d=Math.round(a.size[0]*c),c=Math.round(a.size[1]*c);this.b.width!=d||this.b.height!=c?(this.b.width=d,this.b.height=c):b.clearRect(0,0,d,c);var e=a.viewState.rotation;Bf(a),gj(this,"precompose",a);var f=a.layerStatesArray;fa(f),Ug(b,e,d/2,c/2);var g,h,i,j,k=a.viewState.resolution;for(g=0,h=f.length;g<h;++g)j=f[g],i=j.layer,i=Df(this,i),ff(j,k)&&"ready"==j.R&&i.l(a,j)&&i.i(a,j,b);Ug(b,-e,d/2,c/2),gj(this,"postcompose",a),this.a||(vd(this.b,!0),this.a=!0),Ef(this,a),a.postRenderFunctions.push(Cf)}else this.a&&(vd(this.b,!1),this.a=!1)},m(hj,mf),hj.prototype.Id=n,hj.prototype.oh=n,m(ij,hj),ij.prototype.oa=function(a,b,c,d){var e=this.a;return e.da().oa(a,b.viewState.resolution,b.viewState.rotation,b.skippedFeatureUids,function(a){return c.call(d,a,e)})},ij.prototype.Id=function(){id(this.target),this.f=null},ij.prototype.uf=function(a,b){var c=a.viewState,d=c.center,e=c.resolution,f=c.rotation,g=this.f,h=this.a.da(),i=a.viewHints,j=a.extent;return void 0!==b.extent&&(j=Va(j,b.extent)),i[0]||i[1]||$a(j)||(c=h.B(j,e,a.pixelRatio,c.projection))&&nf(this,c)&&(g=c),g&&(i=g.O(),j=g.$(),c=zb(),jf(c,a.size[0]/2,a.size[1]/2,j/e,j/e,f,(i[0]-d[0])/j,(d[1]-i[3])/j),g!=this.f&&(d=g.a(this),d.style.maxWidth="none",d.style.position="absolute",id(this.target),this.target.appendChild(d),this.f=g),kf(c,this.c)||(Be(this.target,c),Cb(this.c,c)),qf(a.attributions,g.l),rf(a,h)),!0},m(jj,hj),jj.prototype.Id=function(){id(this.target),this.i=0},jj.prototype.uf=function(a,b){if(!b.visible)return this.c&&(vd(this.target,!1),this.c=!1),!0;var c,d=a.pixelRatio,e=a.viewState,f=e.projection,g=this.a,h=g.da(),i=h.fb(f),j=h.Od(f),k=Xd(i,e.resolution),l=i.$(k),m=e.center;l==e.resolution?(m=tf(m,l,a.size),c=Ta(m,l,e.rotation,a.size)):c=a.extent,void 0!==b.extent&&(c=Va(c,b.extent));var l=Td(i,c,l),n={};n[k]={};var o,p,q,r,s=this.Ld(h,f,n),t=g.c(),u=Ga(),v=new Jc(0,0,0,0);for(q=l.b;q<=l.a;++q)for(r=l.g;r<=l.f;++r)o=h.Wb(k,q,r,d,f),p=o.V(),p=2==p||4==p||3==p&&!t,!p&&o.a&&(o=o.a),p=o.V(),2==p?n[k][o.ja.toString()]=o:4==p||3==p&&!t||(p=Rd(i,o.ja,s,v,u),p||(o=Sd(i,o.ja,v,u))&&s(k+1,o));var w;if(this.i!=h.g){for(w in this.f)t=this.f[+w],kd(t.target);this.f={},this.i=h.g}u=Object.keys(n).map(Number),u.sort(Z);var x,s={};for(q=0,r=u.length;q<r;++q){w=u[q],w in this.f?t=this.f[w]:(t=i.kd(m,w),t=new kj(i,t),s[w]=!0,this.f[w]=t),w=n[w];for(x in w){o=t,p=w[x];var y=j,z=p.ja,A=z[0],B=z[1],C=z[2],z=z.toString();if(!(z in o.a)){var A=Md(o.c.Ha(A),o.o),D=p.ab(o),E=D.style;E.maxWidth="none";var F=void 0,G=void 0;0<y?(F=document.createElement("DIV"),G=F.style,G.overflow="hidden",G.width=A[0]+"px",G.height=A[1]+"px",E.position="absolute",E.left=-y+"px",E.top=-y+"px",E.width=A[0]+2*y+"px",E.height=A[1]+2*y+"px",F.appendChild(D)):(E.width=A[0]+"px",E.height=A[1]+"px",F=D,G=E),G.position="absolute",G.left=(B-o.g[1])*A[0]+"px",G.top=(o.g[2]-C)*A[1]+"px",o.b||(o.b=document.createDocumentFragment()),o.b.appendChild(F),o.a[z]=p}}t.b&&(t.target.appendChild(t.b),t.b=null)}for(j=Object.keys(this.f).map(Number),j.sort(Z),q=zb(),x=0,u=j.length;x<u;++x)if(w=j[x],t=this.f[w],w in n){if(o=t.$(),r=t.Fa(),jf(q,a.size[0]/2,a.size[1]/2,o/e.resolution,o/e.resolution,e.rotation,(r[0]-m[0])/o,(m[1]-r[1])/o),t.setTransform(q),w in s){for(--w;0<=w;--w)if(w in this.f){r=this.f[w].target,r.parentNode&&r.parentNode.insertBefore(t.target,r.nextSibling);break}0>w&&jd(this.target,t.target,0)}else if(!a.viewHints[0]&&!a.viewHints[1]){p=Ud(t.c,c,t.g[0],v),w=[],o=r=void 0;for(o in t.a)r=t.a[o],p.contains(r.ja)||w.push(r);for(y=p=void 0,p=0,y=w.length;p<y;++p)r=w[p],o=r.ja.toString(),kd(r.ab(t)),delete t.a[o]}}else kd(t.target),delete this.f[w];return b.opacity!=this.l&&(this.l=this.target.style.opacity=b.opacity),b.visible&&!this.c&&(vd(this.target,!0),this.c=!0),sf(a.usedTiles,h,k,l),uf(a,h,i,d,f,c,k,g.f()),pf(a,h),rf(a,h),!0},kj.prototype.Fa=function(){return this.i},kj.prototype.$=function(){return this.l},kj.prototype.setTransform=function(a){kf(a,this.f)||(Be(this.target,a),Cb(this.f,a))},m(lj,hj),iq=lj.prototype,iq.Id=function(){var a=this.i.canvas;a.width=a.width,this.l=0},iq.oh=function(a,b){var c=a.viewState,d=c.center,e=c.rotation,f=c.resolution,c=a.pixelRatio,g=a.size[0],h=a.size[1],i=g*c,j=h*c,d=jf(this.U,c*g/2,c*h/2,c/f,-c/f,-e,-d[0],-d[1]),f=this.i;f.canvas.width=i,f.canvas.height=j,g=jf(this.v,0,0,1/c,1/c,0,-(i-g)/2*c,-(j-h)/2*c),Be(f.canvas,g),mj(this,"precompose",a,d),(g=this.c)&&!g.Sa()&&(f.globalAlpha=b.opacity,g.Pa(f,c,d,e,b.Lc?a.skippedFeatureUids:{}),mj(this,"render",a,d)),mj(this,"postcompose",a,d)},iq.oa=function(a,b,c,d){if(this.c){var e=this.a,f={};return this.c.oa(a,b.viewState.resolution,b.viewState.rotation,{},function(a){var b=i(a).toString();if(!(b in f))return f[b]=!0,c.call(d,a,e)})}},iq.ph=function(){of(this)},iq.uf=function(a){function b(a){var b,d=a.$b();if(d?b=d.call(a,i):(d=c.i)&&(b=d(a,i)),b){if(b){if(d=!1,Array.isArray(b))for(var e=0,f=b.length;e<f;++e)d=Qh(k,a,b[e],Ph(i,j),this.ph,this)||d;else d=Qh(k,a,b,Ph(i,j),this.ph,this)||d;a=d}else a=!1;this.f=this.f||a}}var c=this.a,d=c.da();qf(a.attributions,d.l),rf(a,d);var e=a.viewHints[0],f=a.viewHints[1],g=c.S,h=c.T;if(!this.f&&!g&&e||!h&&f)return!0;var f=a.extent,g=a.viewState,e=g.projection,i=g.resolution,j=a.pixelRatio;if(a=c.g,h=c.a,g=ih(c),void 0===g&&(g=Oh),f=za(f,h*i),!this.f&&this.s==i&&this.l==a&&this.j==g&&Da(this.o,f))return!0;this.c=null,this.f=!1;var k=new Kh(.5*i/j,f,i,c.a);if(d.Kc(f,i,e),g){var l=[];d.tb(f,function(a){l.push(a)},this),l.sort(g),l.forEach(b,this)}else d.tb(f,b,this);return Lh(k),this.s=i,this.l=a,this.j=g,this.o=f,this.c=k,!0},m(nj,Af),nj.prototype.fa=function(){kd(this.b),nj.ia.fa.call(this)},nj.prototype.Te=function(a){if(a instanceof Sg)a=new ij(a);else if(a instanceof Tg)a=new jj(a);else{if(!(a instanceof hh))return null;a=new lj(a)}return a},nj.prototype.X=function(){return"dom"},nj.prototype.xe=function(a){if(a){var b=this.i;if(S(b,"precompose")||S(b,"postcompose")){var b=this.f.canvas,c=a.pixelRatio;b.width=a.size[0]*c,b.height=a.size[1]*c}oj(this,"precompose",a),b=a.layerStatesArray,fa(b);var d,e,f,g,c=a.viewState.resolution;for(d=0,e=b.length;d<e;++d)g=b[d],f=g.layer,f=Df(this,f),jd(this.b,f.target,d),ff(g,c)&&"ready"==g.R?f.uf(a,g)&&f.oh(a,g):f.Id();var h,b=a.layerStates;for(h in this.g)h in b||(f=this.g[h],kd(f.target));this.a||(vd(this.b,!0),this.a=!0),Bf(a),Ef(this,a),a.postRenderFunctions.push(Cf),oj(this,"postcompose",a)}else this.a&&(vd(this.b,!1),this.a=!1)},m(qj,pj),qj.prototype.X=function(){return 35632},m(rj,pj),rj.prototype.X=function(){return 35633},m(sj,qj),b(sj),m(tj,rj),b(tj),m(wj,M),iq=wj.prototype,iq.fa=function(){L(this.l);var a=this.b;if(!a.isContextLost()){for(var b in this.a)a.deleteBuffer(this.a[b].buffer);for(b in this.f)a.deleteProgram(this.f[b]);for(b in this.c)a.deleteShader(this.c[b]);a.deleteFramebuffer(this.i),a.deleteRenderbuffer(this.j),a.deleteTexture(this.s)}},iq.Un=function(){return this.b},iq.Vn=function(){z(this.a),z(this.c),z(this.f),this.j=this.s=this.i=this.o=null},iq.Wn=function(){},iq.re=function(a){return a!=this.o&&(this.b.useProgram(a),this.o=a,!0)},m(Fj,cf),Fj.prototype.oc=function(a,b){this.g.push(this.a.length),this.s.push(b);var c=a.ga();Hj(this,c,c.length,a.ua())},Fj.prototype.pc=function(a,b){this.g.push(this.a.length),this.s.push(b);var c=a.ga();Hj(this,c,c.length,a.ua())},Fj.prototype.Pa=function(a,b,c,d,e,f,g,h,j,k,l){f=a.b,xj(a,34962,this.v),xj(a,34963,this.o);var m=sj.Ub(),n=tj.Ub(),n=Bj(a,m,n);this.N?m=this.N:this.N=m=new uj(f,n),a.re(n),f.enableVertexAttribArray(m.f),f.vertexAttribPointer(m.f,2,5126,!1,32,0),f.enableVertexAttribArray(m.b),f.vertexAttribPointer(m.b,2,5126,!1,32,8),f.enableVertexAttribArray(m.c),f.vertexAttribPointer(m.c,2,5126,!1,32,16),f.enableVertexAttribArray(m.a),f.vertexAttribPointer(m.a,1,5126,!1,32,24),f.enableVertexAttribArray(m.g),f.vertexAttribPointer(m.g,1,5126,!1,32,28),n=this.Ra,jf(n,0,0,2/(c*e[0]),2/(c*e[1]),-d,-(b[0]-this.j[0]),-(b[1]-this.j[1])),b=this.xa,c=2/e[0],e=2/e[1],Db(b),b[0]=c,b[5]=e,b[10]=1,b[15]=1,e=this.ta,Db(e),0!==d&&Ib(e,-d),f.uniformMatrix4fv(m.l,!1,n),f.uniformMatrix4fv(m.j,!1,b),f.uniformMatrix4fv(m.o,!1,e),f.uniform1f(m.i,g);var o;if(void 0===j)Kj(this,f,a,h,this.Cb,this.U);else{if(k)a:{for(d=a.g?5125:5123,a=a.g?4:2,e=this.g.length-1,g=this.l.length-1;0<=g;--g)for(f.bindTexture(3553,this.l[g]),k=0<g?this.i[g-1]:0,b=this.i[g];0<=e&&this.g[e]>=k;){if(o=this.g[e],c=this.s[e],n=i(c).toString(),void 0===h[n]&&c.W()&&(void 0===l||Za(l,c.W().O()))&&(f.clear(f.COLOR_BUFFER_BIT|f.DEPTH_BUFFER_BIT),f.drawElements(4,b-o,d,o*a),b=j(c))){h=b;break a}b=o,e--}h=void 0}else f.clear(f.COLOR_BUFFER_BIT|f.DEPTH_BUFFER_BIT),Kj(this,f,a,h,this.l,this.i),h=(h=j(null))?h:void 0;o=h}return f.disableVertexAttribArray(m.f),f.disableVertexAttribArray(m.b),f.disableVertexAttribArray(m.c),f.disableVertexAttribArray(m.a),f.disableVertexAttribArray(m.g),o},Fj.prototype.Pb=function(a){var b=a.Tb(),c=a.ec(1),d=a.fd(),e=a.ke(1),f=a.v,g=a.Fa(),h=a.U,j=a.j,k=a.Bb();a=a.i;var l;0===this.c.length?this.c.push(c):(l=this.c[this.c.length-1],i(l)!=i(c)&&(this.U.push(this.a.length),this.c.push(c))),0===this.f.length?this.f.push(e):(l=this.f[this.f.length-1],i(l)!=i(e)&&(this.i.push(this.a.length),this.f.push(e))),this.B=b[0],this.M=b[1],this.R=k[1],this.va=d[1],this.ya=d[0],this.S=f,this.T=g[0],this.Y=g[1],this.ea=j,this.Qa=h,this.wa=a,this.na=k[0]},Lj.prototype.b=function(a,b){var c=this.a[b];return void 0===c&&(c=new xs[b](this.c,this.f),this.a[b]=c),c},Lj.prototype.Sa=function(){return B(this.a)},Lj.prototype.Pa=function(a,b,c,d,e,f,g,h){var i,j,k;for(i=0,j=es.length;i<j;++i)k=this.a[es[i]],void 0!==k&&k.Pa(a,b,c,d,e,f,g,h,void 0,!1)},Lj.prototype.oa=function(a,b,c,d,e,f,g,h,i,j){var k=b.b;k.bindFramebuffer(k.FRAMEBUFFER,zj(b));var l;return void 0!==this.g&&(l=za(Ia(a),d*this.g)),Oj(this,b,a,d,e,g,h,i,function(a){var b=new Uint8Array(4);if(k.readPixels(0,0,1,1,k.RGBA,k.UNSIGNED_BYTE,b),0<b[3]&&(a=j(a)))return a},!0,l)};var xs={Image:Fj},ys=[1,1];m(Qj,cf),iq=Qj.prototype,iq.md=function(a){this.Pb(a.a)},iq.nc=function(a){switch(a.X()){case"Point":this.pc(a,null);break;case"MultiPoint":this.oc(a,null);break;case"GeometryCollection":this.Ve(a,null)}},iq.Ue=function(a,b){var c=(0,b.g)(a);c&&Za(this.g,c.O())&&(this.md(b),this.nc(c))},iq.Ve=function(a){a=a.c;var b,c;for(b=0,c=a.length;b<c;++b)this.nc(a[b])},iq.pc=function(a,b){var c=this.b,d=new Lj(1,this.g).b(0,"Image");d.Pb(this.a),d.pc(a,b),Ij(d,c),d.Pa(this.b,this.f,this.i,this.l,this.o,this.c,1,{},void 0,!1),Gj(d,c)()},iq.oc=function(a,b){var c=this.b,d=new Lj(1,this.g).b(0,"Image");d.Pb(this.a),d.oc(a,b),Ij(d,c),d.Pa(this.b,this.f,this.i,this.l,this.o,this.c,1,{},void 0,!1),Gj(d,c)()},iq.Pb=function(a){this.a=a},m(Rj,qj),b(Rj),m(Sj,rj),b(Sj),m(Uj,mf),Uj.prototype.qh=function(a,b,c){Wj(this,"precompose",c,a),xj(c,34962,this.S);var d=c.b,e=Rj.Ub(),f=Sj.Ub(),e=Bj(c,e,f);this.v?f=this.v:this.v=f=new Tj(d,e),c.re(e)&&(d.enableVertexAttribArray(f.b),d.vertexAttribPointer(f.b,2,5126,!1,16,0),d.enableVertexAttribArray(f.a),d.vertexAttribPointer(f.a,2,5126,!1,16,8),d.uniform1i(f.c,0)),d.uniformMatrix4fv(f.i,!1,this.s),d.uniformMatrix4fv(f.f,!1,this.U),d.uniform1f(f.g,b.opacity),d.bindTexture(3553,this.ob),d.drawArrays(5,0,4),Wj(this,"postcompose",c,a)},Uj.prototype.vf=function(){this.i=this.ob=null,this.l=void 0},m(Xj,Uj),Xj.prototype.oa=function(a,b,c,d){var e=this.a;return e.da().oa(a,b.viewState.resolution,b.viewState.rotation,b.skippedFeatureUids,function(a){return c.call(d,a,e)})},Xj.prototype.wf=function(a,b){var c=this.f.f,d=a.pixelRatio,e=a.viewState,f=e.center,g=e.resolution,h=e.rotation,i=this.c,j=this.ob,k=this.a.da(),l=a.viewHints,m=a.extent;return void 0!==b.extent&&(m=Va(m,b.extent)),l[0]||l[1]||$a(m)||(e=k.B(m,g,d,e.projection))&&nf(this,e)&&(i=e,j=Yj(this,e),this.ob&&a.postRenderFunctions.push(function(a,b){a.isContextLost()||a.deleteTexture(b)}.bind(null,c,this.ob))),i&&(c=this.f.c.l,Zj(this,c.width,c.height,d,f,g,h,i.O()),this.j=null,d=this.s,Db(d),Hb(d,1,-1),Gb(d,0,-1),this.c=i,this.ob=j,qf(a.attributions,i.l),rf(a,k)),!0},Xj.prototype.ge=function(a,b){return void 0!==this.oa(a,b,bb,this)},Xj.prototype.xc=function(a,b,c,d){if(this.c&&this.c.a())if(this.a.da()instanceof Ri){if(a=a.slice(),lf(b.pixelToCoordinateMatrix,a,a),this.oa(a,b,bb,this))return c.call(d,this.a)}else{var e=[this.c.a().width,this.c.a().height];if(!this.j){var f=b.size;b=zb(),Db(b),Gb(b,-1,-1),Hb(b,2/f[0],2/f[1]),Gb(b,0,f[1]),Hb(b,1,-1),f=zb(),Fb(this.U,f);var g=zb();Db(g),Gb(g,0,e[1]),Hb(g,1,-1),Hb(g,e[0]/2,e[1]/2),Gb(g,1,1);var h=zb();Eb(g,f,h),Eb(h,b,h),this.j=h}if(b=[0,0],lf(this.j,a,b),!(0>b[0]||b[0]>e[0]||0>b[1]||b[1]>e[1])&&(this.o||(this.o=ze(1,1)),this.o.clearRect(0,0,1,1),this.o.drawImage(this.c.a(),b[0],b[1],1,1,0,0,1,1),0<this.o.getImageData(0,0,1,1).data[3]))return c.call(d,this.a)}},m($j,qj),b($j),m(_j,rj),b(_j),m(bk,Uj),iq=bk.prototype,iq.fa=function(){yj(this.f.c,this.M),bk.ia.fa.call(this)},iq.Ld=function(a,b,c){var d=this.f;return function(e,f){return ce(a,b,e,f,function(a){var b=Dd(d.a,a.gb());return b&&(c[e]||(c[e]={}),c[e][a.ja.toString()]=a),b})}},iq.vf=function(){bk.ia.vf.call(this),this.c=null},iq.wf=function(a,b,c){var d,e=this.f,f=c.b,g=a.viewState,h=g.projection,i=this.a,j=i.da(),k=j.fb(h),l=Xd(k,g.resolution),m=k.$(l),n=j.Ud(l,a.pixelRatio,h),o=n[0]/Md(k.Ha(l),this.R)[0],p=m/o,q=j.Od(h),r=g.center;if(m==g.resolution?(r=tf(r,m,a.size),d=Ta(r,m,g.rotation,a.size)):d=a.extent,m=Td(k,d,m),this.o&&Lc(this.o,m)&&this.j==j.g)p=this.B;else{var s=[m.a-m.b+1,m.f-m.g+1],t=Math.pow(2,Math.ceil(Math.log(Math.max(s[0]*n[0],s[1]*n[1]))/Math.LN2)),s=p*t,u=k.Fa(l),v=u[0]+m.b*n[0]*p,p=u[1]+m.g*n[1]*p,p=[v,p,v+s,p+s];Vj(this,a,t),f.viewport(0,0,t,t),f.clearColor(0,0,0,0),f.clear(16384),f.disable(3042),t=Bj(c,this.N,this.T),c.re(t),this.c||(this.c=new ak(f,t)),xj(c,34962,this.M),f.enableVertexAttribArray(this.c.b),f.vertexAttribPointer(this.c.b,2,5126,!1,16,0),f.enableVertexAttribArray(this.c.a),f.vertexAttribPointer(this.c.a,2,5126,!1,16,8),f.uniform1i(this.c.g,0),c={},c[l]={};var w,x,y,z=this.Ld(j,h,c),A=i.c(),t=!0,v=Ga(),B=new Jc(0,0,0,0);for(x=m.b;x<=m.a;++x)for(y=m.g;y<=m.f;++y)if(u=j.Wb(l,x,y,o,h),void 0===b.extent||(w=k.Ba(u.ja,v),Za(w,b.extent))){if(w=u.V(),w=2==w||4==w||3==w&&!A,!w&&u.a&&(u=u.a),w=u.V(),2==w){if(Dd(e.a,u.gb())){c[l][u.ja.toString()]=u;continue}}else if(4==w||3==w&&!A)continue;t=!1,w=Rd(k,u.ja,z,B,v),w||(u=Sd(k,u.ja,B,v))&&z(l+1,u)}b=Object.keys(c).map(Number),b.sort(Z);for(var C,D,E,z=new Float32Array(4),A=0,B=b.length;A<B;++A)for(C in D=c[b[A]])u=D[C],w=k.Ba(u.ja,v),x=2*(w[2]-w[0])/s,y=2*(w[3]-w[1])/s,E=2*(w[0]-p[0])/s-1,w=2*(w[1]-p[1])/s-1,yb(z,x,y,E,w),f.uniform4fv(this.c.f,z),ek(e,u,n,q*o),f.drawArrays(5,0,4);t?(this.o=m,this.B=p,this.j=j.g):(this.B=this.o=null,this.j=-1,a.animate=!0)}sf(a.usedTiles,j,l,m);var F=e.o;return uf(a,j,k,o,h,d,l,i.f(),function(a){var b;(b=2!=a.V()||Dd(e.a,a.gb()))||(b=a.gb()in F.g),b||F.f([a,Vd(k,a.ja),k.$(a.ja[0]),n,q*o])},this),pf(a,j),rf(a,j),f=this.s,Db(f),Gb(f,(r[0]-p[0])/(p[2]-p[0]),(r[1]-p[1])/(p[3]-p[1])),0!==g.rotation&&Ib(f,g.rotation),Hb(f,a.size[0]*g.resolution/(p[2]-p[0]),a.size[1]*g.resolution/(p[3]-p[1])),Gb(f,-.5,-.5),!0},iq.xc=function(a,b,c,d){if(this.i){var e=[0,0];if(lf(this.s,[a[0]/b.size[0],(b.size[1]-a[1])/b.size[1]],e),a=[e[0]*this.l,e[1]*this.l],b=this.f.c.b,b.bindFramebuffer(b.FRAMEBUFFER,this.i),e=new Uint8Array(4),b.readPixels(a[0],a[1],1,1,b.RGBA,b.UNSIGNED_BYTE,e),0<e[3])return c.call(d,this.a)}},m(ck,Uj),iq=ck.prototype,iq.qh=function(a,b,c){this.o=b;var d=a.viewState,e=this.c;e&&!e.Sa()&&e.Pa(c,d.center,d.resolution,d.rotation,a.size,a.pixelRatio,b.opacity,b.Lc?a.skippedFeatureUids:{})},iq.fa=function(){var a=this.c;a&&(Mj(a,this.f.c)(),this.c=null),ck.ia.fa.call(this)},iq.oa=function(a,b,c,d){if(this.c&&this.o){var e=b.viewState,f=this.a,g={};return this.c.oa(a,this.f.c,e.center,e.resolution,e.rotation,b.size,b.pixelRatio,this.o.opacity,{},function(a){var b=i(a).toString();if(!(b in g))return g[b]=!0,c.call(d,a,f)})}},iq.ge=function(a,b){if(this.c&&this.o){var c=b.viewState;return Pj(this.c,a,this.f.c,c.resolution,c.rotation,b.pixelRatio,this.o.opacity,b.skippedFeatureUids)}return!1},iq.xc=function(a,b,c,d){if(a=a.slice(),lf(b.pixelToCoordinateMatrix,a,a),this.ge(a,b))return c.call(d,this.a)},iq.rh=function(){of(this)},iq.wf=function(a,b,c){function d(a){var b,c=a.$b();if(c?b=c.call(a,j):(c=e.i)&&(b=c(a,j)),b){if(b){if(c=!1,Array.isArray(b))for(var d=0,f=b.length;d<f;++d)c=Qh(m,a,b[d],Ph(j,k),this.rh,this)||c;else c=Qh(m,a,b,Ph(j,k),this.rh,this)||c;a=c}else a=!1;this.j=this.j||a}}var e=this.a;b=e.da(),qf(a.attributions,b.l),rf(a,b);var f=a.viewHints[0],g=a.viewHints[1],h=e.S,i=e.T;if(!this.j&&!h&&f||!i&&g)return!0;var g=a.extent,h=a.viewState,f=h.projection,j=h.resolution,k=a.pixelRatio,h=e.g,l=e.a,i=ih(e);if(void 0===i&&(i=Oh),g=za(g,l*j),!this.j&&this.N==j&&this.R==h&&this.M==i&&Da(this.B,g))return!0;this.c&&a.postRenderFunctions.push(Mj(this.c,c)),this.j=!1;var m=new Lj(.5*j/k,g,e.a);if(b.Kc(g,j,f),i){var n=[];b.tb(g,function(a){n.push(a)},this),n.sort(i),n.forEach(d,this)}else b.tb(g,d,this);return Nj(m,c),this.N=j,this.R=h,this.M=i,this.B=g,this.c=m,!0},m(dk,Af),iq=dk.prototype,iq.Te=function(a){return a instanceof Sg?new Xj(this,a):a instanceof Tg?new bk(this,a):a instanceof hh?new ck(this,a):null},iq.fa=function(){var a=this.f;a.isContextLost()||this.a.forEach(function(b){b&&a.deleteTexture(b.ob)}),N(this.c),dk.ia.fa.call(this)},iq.Cj=function(a,b){for(var c,d=this.f;1024<this.a.rc()-this.l;){if(c=this.a.b.kc)d.deleteTexture(c.ob);else{if(+this.a.b.Yb==b.index)break;--this.l}this.a.pop()}},iq.X=function(){return"webgl"},iq.Jm=function(a){a.preventDefault(),this.a.clear(),this.l=0,a=this.g;for(var b in a)a[b].vf()},iq.Km=function(){gk(this),this.i.render()},iq.xe=function(a){var b=this.c,c=this.f;if(c.isContextLost())return!1;if(!a)return this.j&&(vd(this.b,!1),this.j=!1),!1;this.v=a.focus,this.a.set((-a.index).toString(),null),++this.l,fk(this,"precompose",a);var d=[],e=a.layerStatesArray;fa(e);var f,g,h,i,j=a.viewState.resolution;for(f=0,g=e.length;f<g;++f)i=e[f],ff(i,j)&&"ready"==i.R&&(h=Df(this,i.layer),h.wf(a,i,b)&&d.push(i));for(e=a.size[0]*a.pixelRatio,j=a.size[1]*a.pixelRatio,this.b.width==e&&this.b.height==j||(this.b.width=e,this.b.height=j),c.bindFramebuffer(36160,null),c.clearColor(0,0,0,0),c.clear(16384),c.enable(3042),c.viewport(0,0,this.b.width,this.b.height),f=0,g=d.length;f<g;++f)i=d[f],h=Df(this,i.layer),h.qh(a,i,b);this.j||(vd(this.b,!0),this.j=!0),Bf(a),1024<this.a.rc()-this.l&&a.postRenderFunctions.push(this.Cj.bind(this)),this.o.Sa()||(a.postRenderFunctions.push(this.N),a.animate=!0),fk(this,"postcompose",a),Ef(this,a),a.postRenderFunctions.push(Cf)},iq.oa=function(a,b,c,d,e,f){var g;if(this.f.isContextLost())return!1;var h,i=b.viewState,j=b.layerStatesArray;for(h=j.length-1;0<=h;--h){g=j[h];var k=g.layer;if(ff(g,i.resolution)&&e.call(f,k)&&(g=Df(this,k).oa(a,b,c,d)))return g}},iq.nh=function(a,b,c,d){var e=!1;if(this.f.isContextLost())return!1;var f,g=b.viewState,h=b.layerStatesArray;for(f=h.length-1;0<=f;--f){var i=h[f],j=i.layer;if(ff(i,g.resolution)&&c.call(d,j)&&(e=Df(this,j).ge(a,b)))return!0}return e},iq.mh=function(a,b,c,d,e){if(this.f.isContextLost())return!1;var f,g,h=b.viewState,i=b.layerStatesArray;for(g=i.length-1;0<=g;--g){f=i[g];var j=f.layer;if(ff(f,h.resolution)&&e.call(d,j)&&(f=Df(this,j).xc(a,b,c,d)))return f}};var zs=["canvas","webgl","dom"];m(hk,W),iq=hk.prototype,iq.pj=function(a){this.o.push(a)},iq.qj=function(a){this.l.push(a)},iq.gg=function(a){this.sc().Oc().push(a)},iq.hg=function(a){this.j.push(a)},iq.ig=function(a){var b=a.Wa();void 0!==b&&(this.yf[b.toString()]=a),a.setMap(this)},iq.Va=function(a){this.render(),Array.prototype.push.apply(this.R,arguments)},iq.fa=function(){N(this.wa),N(this.M),J(this.a,"wheel",this.Jc,this),J(this.a,"mousewheel",this.Jc,this),void 0!==this.c&&(qq.removeEventListener("resize",this.c,!1),this.c=void 0),this.i&&(qq.cancelAnimationFrame(this.i),this.i=void 0),this.$g(null),hk.ia.fa.call(this)},iq.ed=function(a,b,c,d,e){if(this.f)return a=this.Ma(a),this.M.oa(a,this.f,b,void 0!==c?c:null,void 0!==d?d:bb,void 0!==e?e:null)},iq.Pl=function(a,b,c,d,e){if(this.f)return this.M.mh(a,this.f,b,void 0!==c?c:null,void 0!==d?d:bb,void 0!==e?e:null)},iq.gl=function(a,b,c){return!!this.f&&(a=this.Ma(a),this.M.nh(a,this.f,void 0!==b?b:bb,void 0!==c?c:null))},iq.Sj=function(a){return this.Ma(this.Nd(a))},iq.Nd=function(a){var b=this.a.getBoundingClientRect();return a=a.changedTouches?a.changedTouches[0]:a,[a.clientX-b.left,a.clientY-b.top]},iq.pf=function(){return this.get("target")},iq.tc=function(){var a=this.pf();return void 0!==a?ed(a):null},iq.Ma=function(a){var b=this.f;return b?(a=a.slice(),lf(b.pixelToCoordinateMatrix,a,a)):null},iq.Qj=function(){return this.o},iq.jk=function(){return this.j},iq.ik=function(a){return a=this.yf[a.toString()],void 0!==a?a:null},iq.Xj=function(){return this.l},iq.sc=function(){return this.get("layergroup")},iq.Zg=function(){return this.sc().Oc()},iq.Da=function(a){var b=this.f;return b?(a=a.slice(0,2),lf(b.coordinateToPixelMatrix,a,a)):null},iq.$a=function(){return this.get("size")},iq.aa=function(){return this.get("view")},iq.zk=function(){return this.a},iq.xk=function(a,b,c,d){var e=this.f;return e&&b in e.wantedTiles&&e.wantedTiles[b][a.ja.toString()]?(a=c[0]-e.focus[0],c=c[1]-e.focus[1],65536*Math.log(d)+Math.sqrt(a*a+c*c)/d):1/0},iq.Jc=function(a,b){var c=new Xe(b||a.type,this,a);this.Kg(c)},iq.Kg=function(a){if(this.f){this.T=a.coordinate,a.frameState=this.f;var b,c=this.l.a;if(!1!==this.b(a))for(b=c.length-1;0<=b;b--){var d=c[b];if(d.f()&&!d.handleEvent(a))break}}},iq.Zk=function(){var a=this.f,b=this.na;if(!b.Sa()){var c=16,d=c;if(a){var e=a.viewHints;e[0]&&(c=this.Db?8:0,d=2),e[1]&&(c=this.Cc?8:0,d=2)}b.i<c&&(Kf(b),Mf(b,c,d))}for(b=this.ta,c=0,d=b.length;c<d;++c)b[c](this,a);b.length=0},iq.al=function(){this.render()},iq.cl=function(){var a;if(this.pf()&&(a=this.tc()),this.s){for(var b=0,c=this.s.length;b<c;++b)K(this.s[b]);this.s=null}a?(a.appendChild(this.a),a=this.ea?this.ea:a,this.s=[H(a,"keydown",this.Jc,this),H(a,"keypress",this.Jc,this)],this.c||(this.c=this.Sc.bind(this),qq.addEventListener("resize",this.c,!1))):(kd(this.a),void 0!==this.c&&(qq.removeEventListener("resize",this.c,!1),this.c=void 0)),this.Sc()},iq.dl=function(){this.render()},iq.fl=function(){this.render()},iq.el=function(){this.S&&(K(this.S),this.S=null);var a=this.aa();a&&(this.S=H(a,"propertychange",this.fl,this)),this.render()},iq.Lk=function(){this.render()},iq.Mk=function(){this.render()},iq.Kk=function(){this.N&&(this.N.forEach(K),this.N=null);var a=this.sc();a&&(this.N=[H(a,"propertychange",this.Mk,this),H(a,"change",this.Lk,this)]),this.render()},iq.Po=function(){this.i&&qq.cancelAnimationFrame(this.i),this.Y()},iq.render=function(){void 0===this.i&&(this.i=qq.requestAnimationFrame(this.Y))},iq.Io=function(a){return this.o.remove(a)},iq.Jo=function(a){return this.l.remove(a)},iq.Lo=function(a){return this.sc().Oc().remove(a)},iq.Mo=function(a){return this.j.remove(a)},iq.Oo=function(a){var b,c,d,e=this.$a(),f=this.aa(),g=Ga(),h=null;if(void 0!==e&&0<e[0]&&0<e[1]&&f&&zc(f)){var h=vc(f,this.f?this.f.viewHints:void 0),j=this.sc().df(),k={};for(b=0,c=j.length;b<c;++b)k[i(j[b].layer)]=j[b];d=f.V(),h={animate:!1,attributions:{},coordinateToPixelMatrix:this.Ra,extent:g,focus:this.T?this.T:d.center,index:this.pb++,layerStates:k,layerStatesArray:j,logos:Aq({},this.Je),pixelRatio:this.Ke,pixelToCoordinateMatrix:this.Le,postRenderFunctions:[],size:e,skippedFeatureUids:this.ze,tileQueue:this.na,time:a,usedTiles:{},viewState:d,viewHints:h,wantedTiles:{}}}if(h){for(a=this.R,b=e=0,c=a.length;b<c;++b)f=a[b],f(this,h)&&(a[e++]=f);a.length=e,h.extent=Ta(d.center,d.resolution,d.rotation,h.size,g)}this.f=h,this.M.xe(h),h&&(h.animate&&this.render(),Array.prototype.push.apply(this.ta,h.postRenderFunctions),0!==this.R.length||h.viewHints[0]||h.viewHints[1]||Ka(h.extent,this.xa)||(this.b(new Ad("moveend",this,h)),Aa(h.extent,this.xa))),this.b(new Ad("postrender",this,h)),ue(this.Zk,this)},iq.ei=function(a){this.set("layergroup",a)},iq.Sf=function(a){this.set("size",a)},iq.$g=function(a){this.set("target",a)},iq.ep=function(a){this.set("view",a)},iq.ni=function(a){a=i(a).toString(),this.ze[a]=!0,this.render()},iq.Sc=function(){var a=this.tc();if(a){var b,c=nd(a),d=Tq&&a.currentStyle;if((b=d)&&(dd(c),b=!0),b&&"auto"!=d.width&&"auto"!=d.height&&!d.boxSizing)c=wd(a,d.width,"width","pixelWidth"),a=wd(a,d.height,"height","pixelHeight"),a=new cd(c,a);else{if(d=new cd(a.offsetWidth,a.offsetHeight),c=yd(a,"padding"),!Tq||9<=Number(ar))b=rd(a,"borderLeftWidth"),e=rd(a,"borderRightWidth"),f=rd(a,"borderTopWidth"),a=rd(a,"borderBottomWidth"),a=new qd(parseFloat(f),parseFloat(e),parseFloat(a),parseFloat(b));else{b=zd(a,"borderLeft");var e=zd(a,"borderRight"),f=zd(a,"borderTop"),a=zd(a,"borderBottom"),a=new qd(f,e,a,b)}a=new cd(d.width-a.left-c.left-c.right-a.right,d.height-a.top-c.top-c.bottom-a.bottom)}this.Sf([a.width,a.height])}else this.Sf(void 0)},iq.ri=function(a){a=i(a).toString(),delete this.ze[a],this.render()},Rg(),m(jk,W),iq=jk.prototype,iq.be=function(){return this.get("element")},iq.Wa=function(){return this.j},iq.ce=function(){return this.get("map")},iq.Fg=function(){return this.get("offset")},iq.ah=function(){return this.get("position")},iq.Gg=function(){return this.get("positioning")},iq.Fk=function(){id(this.f);var a=this.be();a&&this.f.appendChild(a)},iq.Rk=function(){this.c&&(kd(this.f),K(this.c),this.c=null);var a=this.ce();a&&(this.c=H(a,"postrender",this.render,this),mk(this),a=this.s?a.v:a.B,this.o?jd(a,this.f,0):a.appendChild(this.f))},iq.render=function(){mk(this)},iq.Vk=function(){mk(this)},iq.Xk=function(){if(mk(this),void 0!==this.get("position")&&this.autoPan){var a=this.ce();if(void 0!==a&&a.tc()){var b=kk(a.tc(),a.$a()),c=this.be(),d=c.offsetWidth,e=c.currentStyle||qq.getComputedStyle(c),d=d+(parseInt(e.marginLeft,10)+parseInt(e.marginRight,10)),e=c.offsetHeight,f=c.currentStyle||qq.getComputedStyle(c),e=e+(parseInt(f.marginTop,10)+parseInt(f.marginBottom,10)),g=kk(c,[d,e]),c=this.l;Da(b,g)||(d=g[0]-b[0],e=b[2]-g[2],f=g[1]-b[1],g=b[3]-g[3],b=[0,0],0>d?b[0]=d-c:0>e&&(b[0]=Math.abs(e)+c),0>f?b[1]=f-c:0>g&&(b[1]=Math.abs(g)+c),0===b[0]&&0===b[1])||(c=a.aa().bb(),d=a.Da(c),b=[d[0]+b[0],d[1]+b[1]],this.i&&(this.i.source=c,a.Va(Gc(this.i))),a.aa().jb(a.Ma(b)))}}},iq.Yk=function(){mk(this)},iq.ai=function(a){this.set("element",a)},iq.setMap=function(a){this.set("map",a)},iq.gi=function(a){this.set("offset",a)},iq.qf=function(a){this.set("position",a)},iq.ji=function(a){this.set("positioning",a)},m(nk,Bd),iq=nk.prototype,iq.setMap=function(a){var b=this.a;a!==b&&(b&&(b=b.aa())&&J(b,X("rotation"),this.Yd,this),nk.ia.setMap.call(this,a),a&&(this.s.push(H(a,"propertychange",this.Sk,this)),0===this.f.Zg().Zb()&&this.f.ei(a.sc()),a=a.aa()))&&(H(a,X("rotation"),this.Yd,this),zc(a)&&(this.f.Sc(),pk(this)))},iq.Sk=function(a){"view"===a.key&&((a=a.oldValue)&&J(a,X("rotation"),this.Yd,this),a=this.a.aa(),H(a,X("rotation"),this.Yd,this))},iq.Yd=function(){this.f.aa().de(this.a.aa().Ka());
},iq.am=function(a){a.preventDefault(),rk(this)},iq.$l=function(){return this.o},iq.cm=function(a){this.o!==a&&(this.o=a,this.element.classList.toggle("ol-uncollapsible"),!a&&this.l&&rk(this))},iq.bm=function(a){this.o&&this.l!==a&&rk(this)},iq.Zl=function(){return this.l},iq.kk=function(){return this.f},m(sk,Bd);var As=[1,2,5];sk.prototype.vb=function(){return this.get("units")},sk.prototype.R=function(){uk(this)},sk.prototype.N=function(a){this.set("units",a)},m(vk,Bd),vk.prototype.fa=function(){N(this.o),vk.ia.fa.call(this)};var Bs=0;iq=vk.prototype,iq.setMap=function(a){vk.ia.setMap.call(this,a),a&&a.render()},iq.Dk=function(a){var b=this.a,c=b.aa(),d=c.$();b.Va(Ic({resolution:d,duration:this.Y,easing:Cc})),a=yk(this,q(1===this.l?(a.offsetX-this.T[0]/2)/this.M:(a.offsetY-this.T[1]/2)/this.j,0,1)),c.Qb(c.constrainResolution(a))},iq.Ek=function(a){if(!this.B&&a.b.target===this.element.firstElementChild&&(Ac(this.a.aa(),1),this.N=a.clientX,this.R=a.clientY,this.B=!0,0===this.v.length)){a=this.Ig;var b=this.Jg;this.v.push(H(document,"mousemove",a,this),H(document,"touchmove",a,this),H(document,Cr,a,this),H(document,"mouseup",b,this),H(document,"touchend",b,this),H(document,Er,b,this))}},iq.Ig=function(a){if(this.B){var b=this.element.firstElementChild;this.f=yk(this,q(1===this.l?(a.clientX-this.N+parseInt(b.style.left,10))/this.M:(a.clientY-this.R+parseInt(b.style.top,10))/this.j,0,1)),this.a.aa().Qb(this.f),xk(this,this.f),this.N=a.clientX,this.R=a.clientY}},iq.Jg=function(){if(this.B){var a=this.a,b=a.aa();Ac(b,-1),a.Va(Ic({resolution:this.f,duration:this.Y,easing:Cc})),a=b.constrainResolution(this.f),b.Qb(a),this.B=!1,this.R=this.N=void 0,this.v.forEach(K),this.v.length=0}},m(zk,Bd),zk.prototype.l=function(a){a.preventDefault();var b=this.a;a=b.aa();var c=this.f?this.f:a.i.O(),b=b.$a();a.Ze(c,b)},m(Ak,W),iq=Ak.prototype,iq.fa=function(){this.mf(!1),Ak.ia.fa.call(this)},iq.Xn=function(a){if(null!==a.alpha){var b=t(a.alpha);this.set("alpha",b),"boolean"==typeof a.absolute&&a.absolute?this.set("heading",b):f(a.webkitCompassHeading)&&-1!=a.webkitCompassAccuracy&&this.set("heading",t(a.webkitCompassHeading))}null!==a.beta&&this.set("beta",t(a.beta)),null!==a.gamma&&this.set("gamma",t(a.gamma)),this.u()},iq.Kj=function(){return this.get("alpha")},iq.Nj=function(){return this.get("beta")},iq.Uj=function(){return this.get("gamma")},iq.Dl=function(){return this.get("heading")},iq.Vg=function(){return this.get("tracking")},iq.El=function(){if(ur){var a=this.Vg();a&&!this.a?this.a=H(qq,"deviceorientation",this.Xn,this):a||null===this.a||(K(this.a),this.a=null)}},iq.mf=function(a){this.set("tracking",a)},m(Fk,Bk),iq=Fk.prototype,iq.X=function(){return"json"},iq.Nb=function(a,b){return this.Pc(Gk(a),Ck(this,a,b))},iq.Ca=function(a,b){return this.Ff(Gk(a),Ck(this,a,b))},iq.Qc=function(a,b){return this.Mh(Gk(a),Ck(this,a,b))},iq.Oa=function(a){return this.Th(Gk(a))},iq.yd=function(a,b){return JSON.stringify(this.Tc(a,b))},iq.Sb=function(a,b){return JSON.stringify(this.Ee(a,b))},iq.Uc=function(a,b){return JSON.stringify(this.Ge(a,b))},m(Kk,Kb),iq=Kk.prototype,iq.rj=function(a){this.A?ba(this.A,a):this.A=a.slice(),this.u()},iq.clone=function(){var a=new Kk(null);return a.ba(this.f,this.A.slice()),a},iq.rb=function(a,b,c,d){return d<Ba(this.O(),a,b)?d:(this.M!=this.g&&(this.N=Math.sqrt(Rb(this.A,0,this.A.length,this.a,0)),this.M=this.g),Tb(this.A,0,this.A.length,this.a,this.N,!1,a,b,c,d))},iq.Hj=function(a,b){return hc(this.A,0,this.A.length,this.a,a,b)},iq.fm=function(a,b){return"XYM"!=this.f&&"XYZM"!=this.f?null:Ik(this.A,0,this.A.length,this.a,a,void 0!==b&&b)},iq.Z=function(){return Yb(this.A,0,this.A.length,this.a)},iq.wg=function(a,b){return Hk(this.A,0,this.A.length,this.a,a,b)},iq.gm=function(){var a,b=this.A,c=this.a,d=b[0],e=b[1],f=0;for(a=0+c;a<this.A.length;a+=c)var g=b[a],h=b[a+1],f=f+Math.sqrt((g-d)*(g-d)+(h-e)*(h-e)),d=g,e=h;return f},iq.Ic=function(a){var b=[];return b.length=$b(this.A,0,this.A.length,this.a,a,b,0),a=new Kk(null),a.ba("XY",b),a},iq.X=function(){return"LineString"},iq.Ia=function(a){return ic(this.A,0,this.A.length,this.a,a)},iq.ma=function(a,b){a?(Nb(this,b,a,1),this.A||(this.A=[]),this.A.length=Wb(this.A,0,a,this.a),this.u()):this.ba("XY",null)},iq.ba=function(a,b){Mb(this,a,b),this.u()},m(Mk,Kb),iq=Mk.prototype,iq.sj=function(a){this.A?ba(this.A,a.ga().slice()):this.A=a.ga().slice(),this.i.push(this.A.length),this.u()},iq.clone=function(){var a=new Mk(null);return a.ba(this.f,this.A.slice(),this.i.slice()),a},iq.rb=function(a,b,c,d){return d<Ba(this.O(),a,b)?d:(this.j!=this.g&&(this.M=Math.sqrt(Sb(this.A,0,this.i,this.a,0)),this.j=this.g),Ub(this.A,0,this.i,this.a,this.M,!1,a,b,c,d))},iq.im=function(a,b,c){return"XYM"!=this.f&&"XYZM"!=this.f||0===this.A.length?null:Jk(this.A,this.i,this.a,a,void 0!==b&&b,void 0!==c&&c)},iq.Z=function(){return Zb(this.A,0,this.i,this.a)},iq.zb=function(){return this.i},iq.bk=function(a){if(0>a||this.i.length<=a)return null;var b=new Kk(null);return b.ba(this.f,this.A.slice(0===a?0:this.i[a-1],this.i[a])),b},iq.gd=function(){var a,b,c=this.A,d=this.i,e=this.f,f=[],g=0;for(a=0,b=d.length;a<b;++a){var h=d[a],i=new Kk(null);i.ba(e,c.slice(g,h)),f.push(i),g=h}return f},iq.Ic=function(a){var b,c,d=[],e=[],f=this.A,g=this.i,h=this.a,i=0,j=0;for(b=0,c=g.length;b<c;++b){var k=g[b],j=$b(f,i,k,h,a,d,j);e.push(j),i=k}return d.length=j,a=new Mk(null),a.ba("XY",d,e),a},iq.X=function(){return"MultiLineString"},iq.Ia=function(a){a:{var b,c,d=this.A,e=this.i,f=this.a,g=0;for(b=0,c=e.length;b<c;++b){if(ic(d,g,e[b],f,a)){a=!0;break a}g=e[b]}a=!1}return a},iq.ma=function(a,b){if(a){Nb(this,b,a,2),this.A||(this.A=[]);var c=Xb(this.A,0,a,this.a,this.i);this.A.length=0===c.length?0:c[c.length-1],this.u()}else this.ba("XY",null,this.i)},iq.ba=function(a,b,c){Mb(this,a,b),this.i=c,this.u()},m(Pk,Kb),iq=Pk.prototype,iq.uj=function(a){this.A?ba(this.A,a.ga()):this.A=a.ga().slice(),this.u()},iq.clone=function(){var a=new Pk(null);return a.ba(this.f,this.A.slice()),a},iq.rb=function(a,b,c,d){if(d<Ba(this.O(),a,b))return d;var e,f,g,h=this.A,i=this.a;for(e=0,f=h.length;e<f;e+=i)if(g=s(a,b,h[e],h[e+1]),g<d){for(d=g,g=0;g<i;++g)c[g]=h[e+g];c.length=i}return d},iq.Z=function(){return Yb(this.A,0,this.A.length,this.a)},iq.mk=function(a){var b=this.A?this.A.length/this.a:0;return 0>a||b<=a?null:(b=new cc(null),b.ba(this.f,this.A.slice(a*this.a,(a+1)*this.a)),b)},iq.ee=function(){var a,b,c=this.A,d=this.f,e=this.a,f=[];for(a=0,b=c.length;a<b;a+=e){var g=new cc(null);g.ba(d,c.slice(a,a+e)),f.push(g)}return f},iq.X=function(){return"MultiPoint"},iq.Ia=function(a){var b,c,d,e,f=this.A,g=this.a;for(b=0,c=f.length;b<c;b+=g)if(d=f[b],e=f[b+1],Ea(a,d,e))return!0;return!1},iq.ma=function(a,b){a?(Nb(this,b,a,1),this.A||(this.A=[]),this.A.length=Wb(this.A,0,a,this.a),this.u()):this.ba("XY",null)},iq.ba=function(a,b){Mb(this,a,b),this.u()},m(Qk,Kb),iq=Qk.prototype,iq.vj=function(a){if(this.A){var b=this.A.length;ba(this.A,a.ga()),a=a.zb().slice();var c,d;for(c=0,d=a.length;c<d;++c)a[c]+=b}else this.A=a.ga().slice(),a=a.zb().slice(),this.i.push();this.i.push(a),this.u()},iq.clone=function(){for(var a=new Qk(null),b=this.i.length,c=Array(b),d=0;d<b;++d)c[d]=this.i[d].slice();return Tk(a,this.f,this.A.slice(),c),a},iq.rb=function(a,b,c,d){if(d<Ba(this.O(),a,b))return d;if(this.R!=this.g){var e,f,g=this.i,h=0,i=0;for(e=0,f=g.length;e<f;++e)var j=g[e],i=Sb(this.A,h,j,this.a,i),h=j[j.length-1];this.S=Math.sqrt(i),this.R=this.g}g=Sk(this),h=this.i,i=this.a,e=this.S,f=0;var k,l,j=[NaN,NaN];for(k=0,l=h.length;k<l;++k){var m=h[k];d=Ub(g,f,m,i,e,!0,a,b,c,d,j),f=m[m.length-1]}return d},iq.wc=function(a,b){var c;a:{c=Sk(this);var d=this.i,e=0;if(0!==d.length){var f,g;for(f=0,g=d.length;f<g;++f){var h=d[f];if(fc(c,e,h,this.a,a,b)){c=!0;break a}e=h[h.length-1]}}c=!1}return c},iq.jm=function(){var a,b,c=Sk(this),d=this.i,e=0,f=0;for(a=0,b=d.length;a<b;++a)var g=d[a],f=f+Pb(c,e,g,this.a),e=g[g.length-1];return f},iq.Z=function(a){var b;void 0!==a?(b=Sk(this).slice(),nc(b,this.i,this.a,a)):b=this.A,a=b,b=this.i;var c,d,e=this.a,f=0,g=[],h=0;for(c=0,d=b.length;c<d;++c){var i=b[c];g[h++]=Zb(a,f,i,e,g[h]),f=i[i.length-1]}return g.length=h,g},iq.Zj=function(){var a=new Pk(null);return a.ba("XY",Rk(this).slice()),a},iq.Ic=function(a){var b=[],c=[],d=this.A,e=this.i,f=this.a;a=Math.sqrt(a);var g,h,i=0,j=0;for(g=0,h=e.length;g<h;++g){var k=e[g],l=[],j=_b(d,i,k,f,a,b,j,l);c.push(l),i=k[k.length-1]}return b.length=j,d=new Qk(null),Tk(d,"XY",b,c),d},iq.pk=function(a){if(0>a||this.i.length<=a)return null;var b;0===a?b=0:(b=this.i[a-1],b=b[b.length-1]),a=this.i[a].slice();var c=a[a.length-1];if(0!==b){var d,e;for(d=0,e=a.length;d<e;++d)a[d]-=b}return d=new oc(null),d.ba(this.f,this.A.slice(b,c),a),d},iq.Qd=function(){var a,b,c,d,e=this.f,f=this.A,g=this.i,h=[],i=0;for(a=0,b=g.length;a<b;++a){var j=g[a].slice(),k=j[j.length-1];if(0!==i)for(c=0,d=j.length;c<d;++c)j[c]-=i;c=new oc(null),c.ba(e,f.slice(i,k),j),h.push(c),i=k}return h},iq.X=function(){return"MultiPolygon"},iq.Ia=function(a){a:{var b,c,d=Sk(this),e=this.i,f=this.a,g=0;for(b=0,c=e.length;b<c;++b){var h=e[b];if(jc(d,g,h,f,a)){a=!0;break a}g=h[h.length-1]}a=!1}return a},iq.ma=function(a,b){if(a){Nb(this,b,a,3),this.A||(this.A=[]);var c,d,e=this.A,f=this.a,g=this.i,h=0,g=g?g:[],i=0;for(c=0,d=a.length;c<d;++c)h=Xb(e,h,a[c],f,g[i]),g[i++]=h,h=h[h.length-1];g.length=i,0===g.length?this.A.length=0:(e=g[g.length-1],this.A.length=0===e.length?0:e[e.length-1]),this.u()}else Tk(this,"XY",null,this.i)},m(Vk,Fk);var Cs={Point:function(a){return void 0!==a.m&&void 0!==a.z?new cc([a.x,a.y,a.z,a.m],"XYZM"):void 0!==a.z?new cc([a.x,a.y,a.z],"XYZ"):void 0!==a.m?new cc([a.x,a.y,a.m],"XYM"):new cc([a.x,a.y])},LineString:function(a){return new Kk(a.paths[0],Xk(a))},Polygon:function(a){return new oc(a.rings,Xk(a))},MultiPoint:function(a){return new Pk(a.points,Xk(a))},MultiLineString:function(a){return new Mk(a.paths,Xk(a))},MultiPolygon:function(a){return new Qk(a.rings,Xk(a))}},Ds={Point:function(a){var b=a.Z();return a=a.f,"XYZ"===a?{x:b[0],y:b[1],z:b[2]}:"XYM"===a?{x:b[0],y:b[1],m:b[2]}:"XYZM"===a?{x:b[0],y:b[1],z:b[2],m:b[3]}:"XY"===a?{x:b[0],y:b[1]}:void 0},LineString:function(a){var b=Yk(a);return{hasZ:b.hasZ,hasM:b.hasM,paths:[a.Z()]}},Polygon:function(a){var b=Yk(a);return{hasZ:b.hasZ,hasM:b.hasM,rings:a.Z(!1)}},MultiPoint:function(a){var b=Yk(a);return{hasZ:b.hasZ,hasM:b.hasM,points:a.Z()}},MultiLineString:function(a){var b=Yk(a);return{hasZ:b.hasZ,hasM:b.hasM,paths:a.Z()}},MultiPolygon:function(a){var b=Yk(a);a=a.Z(!1);for(var c=[],d=0;d<a.length;d++)for(var e=a[d].length-1;0<=e;e--)c.push(a[d][e]);return{hasZ:b.hasZ,hasM:b.hasM,rings:c}}};iq=Vk.prototype,iq.Pc=function(a,b){var c=Wk(a.geometry,b),d=new ci;return this.b&&d.zc(this.b),d.Ta(c),b&&b.hf&&a.attributes[b.hf]&&d.hc(a.attributes[b.hf]),a.attributes&&d.C(a.attributes),d},iq.Ff=function(a,b){var c=b?b:{};if(a.features){var d,e,f=[],g=a.features;for(c.hf=a.objectIdFieldName,d=0,e=g.length;d<e;++d)f.push(this.Pc(g[d],c));return f}return[this.Pc(a,c)]},iq.Mh=function(a,b){return Wk(a,b)},iq.Th=function(a){return a.spatialReference&&a.spatialReference.wkid?nb("EPSG:"+a.spatialReference.wkid):null},iq.Ge=function(a,b){return Zk(a,Dk(this,b))},iq.Tc=function(a,b){b=Dk(this,b);var c={},d=a.W();return d&&(c.geometry=Zk(d,b)),d=a.L(),delete d[a.a],c.attributes=B(d)?{}:d,b&&b.featureProjection&&(c.spatialReference={wkid:nb(b.featureProjection).eb.split(":").pop()}),c},iq.Ee=function(a,b){b=Dk(this,b);var c,d,e=[];for(c=0,d=a.length;c<d;++c)e.push(this.Tc(a[c],b));return{features:e}},m($k,vb),iq=$k.prototype,iq.clone=function(){var a=new $k(null);return a.ci(this.c),a},iq.rb=function(a,b,c,d){if(d<Ba(this.O(),a,b))return d;var e,f,g=this.c;for(e=0,f=g.length;e<f;++e)d=g[e].rb(a,b,c,d);return d},iq.wc=function(a,b){var c,d,e=this.c;for(c=0,d=e.length;c<d;++c)if(e[c].wc(a,b))return!0;return!1},iq.Jd=function(a){Ha(1/0,1/0,-(1/0),-(1/0),a);for(var b=this.c,c=0,d=b.length;c<d;++c)La(a,b[c].O());return a},iq.bf=function(){return _k(this.c)},iq.hd=function(a){if(this.s!=this.g&&(z(this.l),this.o=0,this.s=this.g),0>a||0!==this.o&&a<this.o)return this;var b=a.toString();if(this.l.hasOwnProperty(b))return this.l[b];var c,d,e=[],f=this.c,g=!1;for(c=0,d=f.length;c<d;++c){var h=f[c],i=h.hd(a);e.push(i),i!==h&&(g=!0)}return g?(a=new $k(null),al(a),a.c=e,bl(a),a.u(),this.l[b]=a):(this.o=a,this)},iq.X=function(){return"GeometryCollection"},iq.Ia=function(a){var b,c,d=this.c;for(b=0,c=d.length;b<c;++b)if(d[b].Ia(a))return!0;return!1},iq.Sa=function(){return 0===this.c.length},iq.rotate=function(a,b){for(var c=this.c,d=0,e=c.length;d<e;++d)c[d].rotate(a,b);this.u()},iq.ci=function(a){a=_k(a),al(this),this.c=a,bl(this),this.u()},iq.mc=function(a){var b,c,d=this.c;for(b=0,c=d.length;b<c;++b)d[b].mc(a);this.u()},iq.Nc=function(a,b){var c,d,e=this.c;for(c=0,d=e.length;c<d;++c)e[c].Nc(a,b);this.u()},iq.fa=function(){al(this),$k.ia.fa.call(this)},m(cl,Fk);var Es={Point:function(a){return new cc(a.coordinates)},LineString:function(a){return new Kk(a.coordinates)},Polygon:function(a){return new oc(a.coordinates)},MultiPoint:function(a){return new Pk(a.coordinates)},MultiLineString:function(a){return new Mk(a.coordinates)},MultiPolygon:function(a){return new Qk(a.coordinates)},GeometryCollection:function(a,b){var c=a.geometries.map(function(a){return dl(a,b)});return new $k(c)}},Fs={Point:function(a){return{type:"Point",coordinates:a.Z()}},LineString:function(a){return{type:"LineString",coordinates:a.Z()}},Polygon:function(a,b){var c;return b&&(c=b.rightHanded),{type:"Polygon",coordinates:a.Z(c)}},MultiPoint:function(a){return{type:"MultiPoint",coordinates:a.Z()}},MultiLineString:function(a){return{type:"MultiLineString",coordinates:a.Z()}},MultiPolygon:function(a,b){var c;return b&&(c=b.rightHanded),{type:"MultiPolygon",coordinates:a.Z(c)}},GeometryCollection:function(a,b){return{type:"GeometryCollection",geometries:a.c.map(function(a){var c=Aq({},b);return delete c.featureProjection,el(a,c)})}},Circle:function(){return{type:"GeometryCollection",geometries:[]}}};iq=cl.prototype,iq.Pc=function(a,b){var c=dl(a.geometry,b),d=new ci;return this.b&&d.zc(this.b),d.Ta(c),void 0!==a.id&&d.hc(a.id),a.properties&&d.C(a.properties),d},iq.Ff=function(a,b){if("Feature"==a.type)return[this.Pc(a,b)];if("FeatureCollection"==a.type){var c,d,e=[],f=a.features;for(c=0,d=f.length;c<d;++c)e.push(this.Pc(f[c],b));return e}return[]},iq.Mh=function(a,b){return dl(a,b)},iq.Th=function(a){return(a=a.crs)?"name"==a.type?nb(a.properties.name):"EPSG"==a.type?nb("EPSG:"+a.properties.code):null:this.defaultDataProjection},iq.Tc=function(a,b){b=Dk(this,b);var c={type:"Feature"},d=a.Wa();return void 0!==d&&(c.id=d),(d=a.W())?c.geometry=el(d,b):c.geometry=null,d=a.L(),delete d[a.a],B(d)?c.properties=null:c.properties=d,c},iq.Ee=function(a,b){b=Dk(this,b);var c,d,e=[];for(c=0,d=a.length;c<d;++c)e.push(this.Tc(a[c],b));return{type:"FeatureCollection",features:e}},iq.Ge=function(a,b){return el(a,Dk(this,b))},m(fl,Bk),iq=fl.prototype,iq.X=function(){return"xml"},iq.Nb=function(a,b){if(ii(a))return gl(this,a,b);if(ji(a))return this.Kh(a,b);if("string"==typeof a){var c=ki(a);return gl(this,c,b)}return null},iq.Ca=function(a,b){if(ii(a))return hl(this,a,b);if(ji(a))return this.gc(a,b);if("string"==typeof a){var c=ki(a);return hl(this,c,b)}return[]},iq.Qc=function(a,b){if(ii(a))return this.v(a,b);if(ji(a)){var c=this.te(a,[Ck(this,a,b?b:{})]);return c?c:null}return"string"==typeof a?(c=ki(a),this.v(c,b)):null},iq.Oa=function(a){return ii(a)?this.Lf(a):ji(a)?this.we(a):"string"==typeof a?(a=ki(a),this.Lf(a)):null},iq.Lf=function(){return this.defaultDataProjection},iq.we=function(){return this.defaultDataProjection},iq.yd=function(a,b){var c=this.B(a,b);return this.f.serializeToString(c)},iq.Sb=function(a,b){var c=this.a(a,b);return this.f.serializeToString(c)},iq.Uc=function(a,b){var c=this.s(a,b);return this.f.serializeToString(c)},m(il,fl);var Gs=/^[\s\xa0]*$/;iq=il.prototype,iq.qd=function(a,b){var c=a.localName,d=null;if("FeatureCollection"==c)d="http://www.opengis.net/wfs"===a.namespaceURI?wi([],this.b,a,b,this):wi(null,this.b,a,b,this);else if("featureMembers"==c||"featureMember"==c){var e,f,g=b[0],h=g.featureType,i=g.featureNS;if(!h&&a.childNodes){for(h=[],i={},e=0,f=a.childNodes.length;e<f;++e){var j=a.childNodes[e];if(1===j.nodeType){var k=j.nodeName.split(":").pop();if(-1===h.indexOf(k)){var l,m="",n=0,j=j.namespaceURI;for(l in i){if(i[l]===j){m=l;break}++n}m||(m="p"+n,i[m]=j),h.push(m+":"+k)}}}"featureMember"!=c&&(g.featureType=h,g.featureNS=i)}"string"==typeof i&&(e=i,i={},i.p0=e);var o,g={},h=Array.isArray(h)?h:[h];for(o in i){for(k={},e=0,f=h.length;e<f;++e)(-1===h[e].indexOf(":")?"p0":h[e].split(":")[0])===o&&(k[h[e].split(":").pop()]="featureMembers"==c?mi(this.Ef,this):ni(this.Ef,this));g[i[o]]=k}d="featureMember"==c?wi(void 0,g,a,b):wi([],g,a,b)}return null===d&&(d=[]),d},iq.te=function(a,b){var c=b[0];c.srsName=a.firstElementChild.getAttribute("srsName");var d=wi(null,this.Yf,a,b,this);if(d)return Ek(d,!1,c)},iq.Ef=function(a,b){var c,d;(d=a.getAttribute("fid"))||(d=a.getAttributeNS("http://www.opengis.net/gml","id")||"");var e,f={};for(c=a.firstElementChild;c;c=c.nextElementSibling){var g=c.localName;if(0===c.childNodes.length||1===c.childNodes.length&&(3===c.firstChild.nodeType||4===c.firstChild.nodeType)){var h=gi(c,!1);Gs.test(h)&&(h=void 0),f[g]=h}else"boundedBy"!==g&&(e=g),f[g]=this.te(c,b)}return c=new ci(f),e&&c.zc(e),d&&c.hc(d),c},iq.Sh=function(a,b){var c=this.se(a,b);if(c){var d=new cc(null);return d.ba("XYZ",c),d}},iq.Qh=function(a,b){var c=wi([],this.Pi,a,b,this);if(c)return new Pk(c)},iq.Ph=function(a,b){var c=wi([],this.Oi,a,b,this);if(c){var d=new Mk(null);return Ok(d,c),d}},iq.Rh=function(a,b){var c=wi([],this.Qi,a,b,this);if(c){var d=new Qk(null);return Uk(d,c),d}},iq.Hh=function(a,b){vi(this.Ti,a,b,this)},iq.Pg=function(a,b){vi(this.Mi,a,b,this)},iq.Ih=function(a,b){vi(this.Ui,a,b,this)},iq.ue=function(a,b){var c=this.se(a,b);if(c){var d=new Kk(null);return d.ba("XYZ",c),d}},iq.to=function(a,b){var c=wi(null,this.Ad,a,b,this);if(c)return c},iq.Oh=function(a,b){var c=this.se(a,b);if(c){var d=new ac(null);return bc(d,"XYZ",c),d}},iq.ve=function(a,b){var c=wi([null],this.Ie,a,b,this);if(c&&c[0]){var d,e,f=new oc(null),g=c[0],h=[g.length];for(d=1,e=c.length;d<e;++d)ba(g,c[d]),h.push(g.length);return f.ba("XYZ",g,h),f}},iq.se=function(a,b){return wi(null,this.Ad,a,b,this)},iq.Pi={"http://www.opengis.net/gml":{pointMember:mi(il.prototype.Hh),pointMembers:mi(il.prototype.Hh)}},iq.Oi={"http://www.opengis.net/gml":{lineStringMember:mi(il.prototype.Pg),lineStringMembers:mi(il.prototype.Pg)}},iq.Qi={"http://www.opengis.net/gml":{polygonMember:mi(il.prototype.Ih),polygonMembers:mi(il.prototype.Ih)}},iq.Ti={"http://www.opengis.net/gml":{Point:mi(il.prototype.se)}},iq.Mi={"http://www.opengis.net/gml":{LineString:mi(il.prototype.ue)}},iq.Ui={"http://www.opengis.net/gml":{Polygon:mi(il.prototype.ve)}},iq.Bd={"http://www.opengis.net/gml":{LinearRing:ni(il.prototype.to)}},iq.gc=function(a,b){var c={featureType:this.featureType,featureNS:this.featureNS};return b&&Aq(c,Ck(this,a,b)),this.qd(a,[c])||[]},iq.we=function(a){return nb(this.srsName?this.srsName:a.firstElementChild.getAttribute("srsName"))},m(vl,il),iq=vl.prototype,iq.Lh=function(a,b){var c=gi(a,!1).replace(/^\s*|\s*$/g,""),d=b[0].srsName,e=a.parentNode.getAttribute("srsDimension"),f="enu";d&&(d=nb(d))&&(f=d.b),c=c.split(/[\s,]+/),d=2,a.getAttribute("srsDimension")?d=pl(a.getAttribute("srsDimension")):a.getAttribute("dimension")?d=pl(a.getAttribute("dimension")):e&&(d=pl(e));for(var g,h,i=[],j=0,k=c.length;j<k;j+=d)e=parseFloat(c[j]),g=parseFloat(c[j+1]),h=3===d?parseFloat(c[j+2]):0,"en"===f.substr(0,2)?i.push(e,g,h):i.push(g,e,h);return i},iq.qo=function(a,b){var c=wi([null],this.Ii,a,b,this);return Ha(c[1][0],c[1][1],c[1][3],c[1][4])},iq.il=function(a,b){var c=wi(void 0,this.Bd,a,b,this);c&&b[b.length-1].push(c)},iq.Yn=function(a,b){var c=wi(void 0,this.Bd,a,b,this);c&&(b[b.length-1][0]=c)},iq.Ad={"http://www.opengis.net/gml":{coordinates:ni(vl.prototype.Lh)}},iq.Ie={"http://www.opengis.net/gml":{innerBoundaryIs:vl.prototype.il,outerBoundaryIs:vl.prototype.Yn}},iq.Ii={"http://www.opengis.net/gml":{coordinates:mi(vl.prototype.Lh)}},iq.Yf={"http://www.opengis.net/gml":{Point:ni(il.prototype.Sh),MultiPoint:ni(il.prototype.Qh),LineString:ni(il.prototype.ue),MultiLineString:ni(il.prototype.Ph),LinearRing:ni(il.prototype.Oh),Polygon:ni(il.prototype.ve),MultiPolygon:ni(il.prototype.Rh),Box:ni(vl.prototype.qo)}},m(wl,il),iq=wl.prototype,iq.xo=function(a,b){var c=wi([],this.Ni,a,b,this);if(c){var d=new Mk(null);return Ok(d,c),d}},iq.yo=function(a,b){var c=wi([],this.Ri,a,b,this);if(c){var d=new Qk(null);return Uk(d,c),d}},iq.rg=function(a,b){vi(this.Ji,a,b,this)},iq.pi=function(a,b){vi(this.Yi,a,b,this)},iq.Bo=function(a,b){return wi([null],this.Si,a,b,this)},iq.Do=function(a,b){return wi([null],this.Xi,a,b,this)},iq.Co=function(a,b){return wi([null],this.Ie,a,b,this)},iq.wo=function(a,b){return wi([null],this.Ad,a,b,this)},iq.kl=function(a,b){var c=wi(void 0,this.Bd,a,b,this);c&&b[b.length-1].push(c)},iq.Dj=function(a,b){var c=wi(void 0,this.Bd,a,b,this);c&&(b[b.length-1][0]=c)},iq.Uh=function(a,b){var c=wi([null],this.Zi,a,b,this);if(c&&c[0]){var d,e,f=new oc(null),g=c[0],h=[g.length];for(d=1,e=c.length;d<e;++d)ba(g,c[d]),h.push(g.length);return f.ba("XYZ",g,h),f}},iq.Jh=function(a,b){var c=wi([null],this.Ki,a,b,this);if(c){var d=new Kk(null);return d.ba("XYZ",c),d}},iq.so=function(a,b){var c=wi([null],this.Li,a,b,this);return Ha(c[1][0],c[1][1],c[2][0],c[2][1])},iq.uo=function(a,b){for(var c,d=gi(a,!1),e=/^\s*([+\-]?\d*\.?\d+(?:[eE][+\-]?\d+)?)\s*/,f=[];c=e.exec(d);)f.push(parseFloat(c[1])),d=d.substr(c[0].length);if(""===d){if(d=b[0].srsName,e="enu",d&&(e=nb(d).b),"neu"===e)for(d=0,e=f.length;d<e;d+=3)c=f[d],f[d]=f[d+1],f[d+1]=c;return d=f.length,2==d&&f.push(0),0===d?void 0:f}},iq.If=function(a,b){var c=gi(a,!1).replace(/^\s*|\s*$/g,""),d=b[0].srsName,e=a.parentNode.getAttribute("srsDimension"),f="enu";d&&(f=nb(d).b),c=c.split(/\s+/),d=2,a.getAttribute("srsDimension")?d=pl(a.getAttribute("srsDimension")):a.getAttribute("dimension")?d=pl(a.getAttribute("dimension")):e&&(d=pl(e));for(var g,h,i=[],j=0,k=c.length;j<k;j+=d)e=parseFloat(c[j]),g=parseFloat(c[j+1]),h=3===d?parseFloat(c[j+2]):0,"en"===f.substr(0,2)?i.push(e,g,h):i.push(g,e,h);return i},iq.Ad={"http://www.opengis.net/gml":{pos:ni(wl.prototype.uo),posList:ni(wl.prototype.If)}},iq.Ie={"http://www.opengis.net/gml":{interior:wl.prototype.kl,exterior:wl.prototype.Dj}},iq.Yf={"http://www.opengis.net/gml":{Point:ni(il.prototype.Sh),MultiPoint:ni(il.prototype.Qh),LineString:ni(il.prototype.ue),MultiLineString:ni(il.prototype.Ph),LinearRing:ni(il.prototype.Oh),Polygon:ni(il.prototype.ve),MultiPolygon:ni(il.prototype.Rh),Surface:ni(wl.prototype.Uh),MultiSurface:ni(wl.prototype.yo),Curve:ni(wl.prototype.Jh),MultiCurve:ni(wl.prototype.xo),Envelope:ni(wl.prototype.so)}},iq.Ni={"http://www.opengis.net/gml":{curveMember:mi(wl.prototype.rg),curveMembers:mi(wl.prototype.rg)}},iq.Ri={"http://www.opengis.net/gml":{surfaceMember:mi(wl.prototype.pi),surfaceMembers:mi(wl.prototype.pi)}},iq.Ji={"http://www.opengis.net/gml":{LineString:mi(il.prototype.ue),Curve:mi(wl.prototype.Jh)}},iq.Yi={"http://www.opengis.net/gml":{Polygon:mi(il.prototype.ve),Surface:mi(wl.prototype.Uh)}},iq.Zi={"http://www.opengis.net/gml":{patches:ni(wl.prototype.Bo)}},iq.Ki={"http://www.opengis.net/gml":{segments:ni(wl.prototype.Do)}},iq.Li={"http://www.opengis.net/gml":{lowerCorner:mi(wl.prototype.If),upperCorner:mi(wl.prototype.If)}},iq.Si={"http://www.opengis.net/gml":{PolygonPatch:ni(wl.prototype.Co)}},iq.Xi={"http://www.opengis.net/gml":{LineStringSegment:ni(wl.prototype.wo)}},iq.Ei=function(a,b,c){var d=c[c.length-1].srsName;d&&a.setAttribute("srsName",d),d=fi(a.namespaceURI,"pos"),a.appendChild(d),c=c[c.length-1].srsName,a="enu",c&&(a=nb(c).b),b=b.Z(),ul(d,"en"===a.substr(0,2)?b[0]+" "+b[1]:b[1]+" "+b[0])};var Hs={"http://www.opengis.net/gml":{lowerCorner:qi(ul),upperCorner:qi(ul)}};iq=wl.prototype,iq.rp=function(a,b,c){var d=c[c.length-1].srsName;d&&a.setAttribute("srsName",d),yi({node:a},Hs,us,[b[0]+" "+b[1],b[2]+" "+b[3]],c,["lowerCorner","upperCorner"],this)},iq.Bi=function(a,b,c){var d=c[c.length-1].srsName;d&&a.setAttribute("srsName",d),d=fi(a.namespaceURI,"posList"),a.appendChild(d),xl(d,b,c)},iq.Wi=function(a,b){var c=b[b.length-1],d=c.node,e=c.exteriorWritten;return void 0===e&&(c.exteriorWritten=!0),fi(d.namespaceURI,void 0!==e?"interior":"exterior")},iq.He=function(a,b,c){var d=c[c.length-1].srsName;"PolygonPatch"!==a.nodeName&&d&&a.setAttribute("srsName",d),"Polygon"===a.nodeName||"PolygonPatch"===a.nodeName?(b=b.Pd(),yi({node:a,srsName:d},Ls,this.Wi,b,c,void 0,this)):"Surface"===a.nodeName&&(d=fi(a.namespaceURI,"patches"),a.appendChild(d),a=fi(d.namespaceURI,"PolygonPatch"),d.appendChild(a),this.He(a,b,c))},iq.Ce=function(a,b,c){var d=c[c.length-1].srsName;"LineStringSegment"!==a.nodeName&&d&&a.setAttribute("srsName",d),"LineString"===a.nodeName||"LineStringSegment"===a.nodeName?(d=fi(a.namespaceURI,"posList"),a.appendChild(d),xl(d,b,c)):"Curve"===a.nodeName&&(d=fi(a.namespaceURI,"segments"),a.appendChild(d),a=fi(d.namespaceURI,"LineStringSegment"),d.appendChild(a),this.Ce(a,b,c))},iq.Di=function(a,b,c){var d=c[c.length-1],e=d.srsName,d=d.surface;e&&a.setAttribute("srsName",e),b=b.Qd(),yi({node:a,srsName:e,surface:d},Is,this.c,b,c,void 0,this)},iq.sp=function(a,b,c){var d=c[c.length-1].srsName;d&&a.setAttribute("srsName",d),b=b.ee(),yi({node:a,srsName:d},Js,si("pointMember"),b,c,void 0,this)},iq.Ci=function(a,b,c){var d=c[c.length-1],e=d.srsName,d=d.curve;e&&a.setAttribute("srsName",e),b=b.gd(),yi({node:a,srsName:e,curve:d},Ks,this.c,b,c,void 0,this)},iq.Fi=function(a,b,c){var d=fi(a.namespaceURI,"LinearRing");a.appendChild(d),this.Bi(d,b,c)},iq.Gi=function(a,b,c){var d=this.g(b,c);d&&(a.appendChild(d),this.He(d,b,c))},iq.tp=function(a,b,c){var d=fi(a.namespaceURI,"Point");a.appendChild(d),this.Ei(d,b,c)},iq.Ai=function(a,b,c){var d=this.g(b,c);d&&(a.appendChild(d),this.Ce(d,b,c))},iq.Fe=function(a,b,c){var d=c[c.length-1],e=Aq({},d);e.node=a;var f;f=Array.isArray(b)?d.dataProjection?ub(b,d.featureProjection,d.dataProjection):b:Ek(b,!0,d),yi(e,Ms,this.g,[f],c,void 0,this)},iq.wi=function(a,b,c){var d=b.Wa();d&&a.setAttribute("fid",d);var d=c[c.length-1],e=d.featureNS,f=b.a;d.yc||(d.yc={},d.yc[e]={});var g=b.L();b=[];var h,i=[];for(h in g){var j=g[h];null!==j&&(b.push(h),i.push(j),h==f||j instanceof vb?h in d.yc[e]||(d.yc[e][h]=qi(this.Fe,this)):h in d.yc[e]||(d.yc[e][h]=qi(ul)))}h=Aq({},d),h.node=a,yi(h,d.yc,si(void 0,e),i,c,b)};var Is={"http://www.opengis.net/gml":{surfaceMember:qi(wl.prototype.Gi),polygonMember:qi(wl.prototype.Gi)}},Js={"http://www.opengis.net/gml":{pointMember:qi(wl.prototype.tp)}},Ks={"http://www.opengis.net/gml":{lineStringMember:qi(wl.prototype.Ai),curveMember:qi(wl.prototype.Ai)}},Ls={"http://www.opengis.net/gml":{exterior:qi(wl.prototype.Fi),interior:qi(wl.prototype.Fi)}},Ms={"http://www.opengis.net/gml":{Curve:qi(wl.prototype.Ce),MultiCurve:qi(wl.prototype.Ci),Point:qi(wl.prototype.Ei),MultiPoint:qi(wl.prototype.sp),LineString:qi(wl.prototype.Ce),MultiLineString:qi(wl.prototype.Ci),LinearRing:qi(wl.prototype.Bi),Polygon:qi(wl.prototype.He),MultiPolygon:qi(wl.prototype.Di),Surface:qi(wl.prototype.He),MultiSurface:qi(wl.prototype.Di),Envelope:qi(wl.prototype.rp)}},Ns={MultiLineString:"lineStringMember",MultiCurve:"curveMember",MultiPolygon:"polygonMember",MultiSurface:"surfaceMember"};wl.prototype.c=function(a,b){return fi("http://www.opengis.net/gml",Ns[b[b.length-1].node.nodeName])},wl.prototype.g=function(a,b){var c,d=b[b.length-1],e=d.multiSurface,f=d.surface,g=d.curve,d=d.multiCurve;return Array.isArray(a)?c="Envelope":(c=a.X(),"MultiPolygon"===c&&!0===e?c="MultiSurface":"Polygon"===c&&!0===f?c="Surface":"LineString"===c&&!0===g?c="Curve":"MultiLineString"===c&&!0===d&&(c="MultiCurve")),fi("http://www.opengis.net/gml",c)},wl.prototype.s=function(a,b){b=Dk(this,b);var c=fi("http://www.opengis.net/gml","geom"),d={node:c,srsName:this.srsName,curve:this.i,surface:this.j,multiSurface:this.o,multiCurve:this.l};return b&&Aq(d,b),this.Fe(c,a,[d]),c},wl.prototype.a=function(a,b){b=Dk(this,b);var c=fi("http://www.opengis.net/gml","featureMembers");c.setAttributeNS("http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation",this.schemaLocation);var d={srsName:this.srsName,curve:this.i,surface:this.j,multiSurface:this.o,multiCurve:this.l,featureNS:this.featureNS,featureType:this.featureType};b&&Aq(d,b);var d=[d],e=d[d.length-1],f=e.featureType,g=e.featureNS,h={};return h[g]={},h[g][f]=qi(this.wi,this),e=Aq({},e),e.node=c,yi(e,h,si(f,g),a,d),c},m(yl,fl);var Os=[null,"http://www.topografix.com/GPX/1/0","http://www.topografix.com/GPX/1/1"],Ps={rte:Cl,trk:Dl,wpt:El},Qs=ui(Os,{rte:mi(Cl),trk:mi(Dl),wpt:mi(El)}),Rs=ui(Os,{text:pi(ql,"linkText"),type:pi(ql,"linkType")}),Ss=ui(Os,{name:pi(ql),cmt:pi(ql),desc:pi(ql),src:pi(ql),link:Al,number:pi(ol),extensions:Bl,type:pi(ql),rtept:function(a,b){var c=wi({},Ts,a,b);c&&zl(b[b.length-1].flatCoordinates,a,c)}}),Ts=ui(Os,{ele:pi(ml),time:pi(ll)}),Us=ui(Os,{name:pi(ql),cmt:pi(ql),desc:pi(ql),src:pi(ql),link:Al,number:pi(ol),type:pi(ql),extensions:Bl,trkseg:function(a,b){var c=b[b.length-1];vi(Vs,a,b),c.ends.push(c.flatCoordinates.length)}}),Vs=ui(Os,{trkpt:function(a,b){var c=wi({},Ws,a,b);c&&zl(b[b.length-1].flatCoordinates,a,c)}}),Ws=ui(Os,{ele:pi(ml),time:pi(ll)}),Xs=ui(Os,{ele:pi(ml),time:pi(ll),magvar:pi(ml),geoidheight:pi(ml),name:pi(ql),cmt:pi(ql),desc:pi(ql),src:pi(ql),link:Al,sym:pi(ql),type:pi(ql),fix:pi(ql),sat:pi(ol),hdop:pi(ml),vdop:pi(ml),pdop:pi(ml),ageofdgpsdata:pi(ml),dgpsid:pi(ol),extensions:Bl});yl.prototype.Kh=function(a,b){if(!$(Os,a.namespaceURI))return null;var c=Ps[a.localName];return c&&(c=c(a,[Ck(this,a,b)]))?(Fl(this,[c]),c):null},yl.prototype.gc=function(a,b){if(!$(Os,a.namespaceURI))return[];if("gpx"==a.localName){var c=wi([],Qs,a,[Ck(this,a,b)]);if(c)return Fl(this,c),c}return[]};var Ys=["text","type"],Zs=ui(Os,{text:qi(ul),type:qi(ul)}),$s=ui(Os,"name cmt desc src link number type rtept".split(" ")),_s=ui(Os,{name:qi(ul),cmt:qi(ul),desc:qi(ul),src:qi(ul),link:qi(Gl),number:qi(tl),type:qi(ul),rtept:ri(qi(Hl))}),at=ui(Os,"name cmt desc src link number type trkseg".split(" ")),bt=ui(Os,{name:qi(ul),cmt:qi(ul),desc:qi(ul),src:qi(ul),link:qi(Gl),number:qi(tl),type:qi(ul),trkseg:ri(qi(function(a,b,c){yi({node:a,geometryLayout:b.f,properties:{}},dt,ct,b.Z(),c)}))}),ct=si("trkpt"),dt=ui(Os,{trkpt:qi(Hl)}),et=ui(Os,"ele time magvar geoidheight name cmt desc src link sym type fix sat hdop vdop pdop ageofdgpsdata dgpsid".split(" ")),ft=ui(Os,{ele:qi(sl),time:qi(function(a,b){var c=new Date(1e3*b);a.appendChild(ts.createTextNode(c.getUTCFullYear()+"-"+na(c.getUTCMonth()+1)+"-"+na(c.getUTCDate())+"T"+na(c.getUTCHours())+":"+na(c.getUTCMinutes())+":"+na(c.getUTCSeconds())+"Z"))}),magvar:qi(sl),geoidheight:qi(sl),name:qi(ul),cmt:qi(ul),desc:qi(ul),src:qi(ul),link:qi(Gl),sym:qi(ul),type:qi(ul),fix:qi(ul),sat:qi(tl),hdop:qi(sl),vdop:qi(sl),pdop:qi(sl),ageofdgpsdata:qi(sl),dgpsid:qi(tl)}),gt={Point:"wpt",LineString:"rte",MultiLineString:"trk"},ht=ui(Os,{rte:qi(function(a,b,c){var d=c[0],e=b.L();a={node:a,properties:e},(b=b.W())&&(b=Ek(b,!0,d),a.geometryLayout=b.f,e.rtept=b.Z()),d=$s[c[c.length-1].node.namespaceURI],e=ti(e,d),yi(a,_s,us,e,c,d)}),trk:qi(function(a,b,c){var d=c[0],e=b.L();a={node:a,properties:e},(b=b.W())&&(b=Ek(b,!0,d),e.trkseg=b.gd()),d=at[c[c.length-1].node.namespaceURI],e=ti(e,d),yi(a,bt,us,e,c,d)}),wpt:qi(function(a,b,c){var d=c[0],e=c[c.length-1];e.properties=b.L(),(b=b.W())&&(b=Ek(b,!0,d),e.geometryLayout=b.f,Hl(a,b.Z(),c))})});yl.prototype.a=function(a,b){b=Dk(this,b);var c=fi("http://www.topografix.com/GPX/1/1","gpx");return yi({node:c},ht,Il,a,[b]),c},m(Jl,Bk),iq=Jl.prototype,iq.X=function(){
return"text"},iq.Nb=function(a,b){return this.pd(Kl(a),Dk(this,b))},iq.Ca=function(a,b){return this.Gf(Kl(a),Dk(this,b))},iq.Qc=function(a,b){return this.rd(Kl(a),Dk(this,b))},iq.Oa=function(a){return Kl(a),this.defaultDataProjection},iq.yd=function(a,b){return this.De(a,Dk(this,b))},iq.Sb=function(a,b){return this.xi(a,Dk(this,b))},iq.Uc=function(a,b){return this.zd(a,Dk(this,b))},m(Ll,Jl);var it=/^B(\d{2})(\d{2})(\d{2})(\d{2})(\d{5})([NS])(\d{3})(\d{5})([EW])([AV])(\d{5})(\d{5})/,jt=/^H.([A-Z]{3}).*?:(.*)/,kt=/^HFDTE(\d{2})(\d{2})(\d{2})/,lt=/\r\n|\r|\n/;Ll.prototype.pd=function(a,b){var c,d,e=this.b,f=a.split(lt),g={},h=[],i=2e3,j=0,k=1;for(c=0,d=f.length;c<d;++c){var l,m=f[c];if("B"==m.charAt(0)){if(l=it.exec(m)){var m=parseInt(l[1],10),n=parseInt(l[2],10),o=parseInt(l[3],10),p=parseInt(l[4],10)+parseInt(l[5],10)/6e4;"S"==l[6]&&(p=-p);var q=parseInt(l[7],10)+parseInt(l[8],10)/6e4;"W"==l[9]&&(q=-q),h.push(q,p),"none"!=e&&h.push("gps"==e?parseInt(l[11],10):"barometric"==e?parseInt(l[12],10):0),h.push(Date.UTC(i,j,k,m,n,o)/1e3)}}else"H"==m.charAt(0)&&((l=kt.exec(m))?(k=parseInt(l[1],10),j=parseInt(l[2],10)-1,i=2e3+parseInt(l[3],10)):(l=jt.exec(m))&&(g[l[1]]=l[2].trim()))}return 0===h.length?null:(f=new Kk(null),f.ba("none"==e?"XYM":"XYZM",h),e=new ci(Ek(f,!1,b)),e.C(g),e)},Ll.prototype.Gf=function(a,b){var c=this.pd(a,b);return c?[c]:[]},iq=Ml.prototype,iq.rc=function(){return this.g},iq.uc=function(){Nl(this);for(var a=[],b=0;b<this.b.length;b++)a.push(this.a[this.b[b]]);return a},iq.K=function(){return Nl(this),this.b.concat()},iq.Sa=function(){return 0==this.g},iq.clear=function(){this.a={},this.g=this.b.length=0},iq.remove=function(a){return!!Ol(this.a,a)&&(delete this.a[a],this.g--,this.b.length>2*this.g&&Nl(this),!0)},iq.get=function(a,b){return Ol(this.a,a)?this.a[a]:b},iq.set=function(a,b){Ol(this.a,a)||(this.g++,this.b.push(a)),this.a[a]=b},iq.forEach=function(a,b){for(var c=this.K(),d=0;d<c.length;d++){var e=c[d],f=this.get(e);a.call(b,f,e,this)}},iq.clone=function(){return new Ml(this)};var mt=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#(.*))?$/;Tl.prototype.toString=function(){var a=[],b=this.g;b&&a.push($l(b,nt,!0),":");var c=this.a;return(c||"file"==b)&&(a.push("//"),(b=this.l)&&a.push($l(b,nt,!0),"@"),a.push(encodeURIComponent(String(c)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c=this.o,null!=c&&a.push(":",String(c))),(c=this.b)&&(this.a&&"/"!=c.charAt(0)&&a.push("/"),a.push($l(c,"/"==c.charAt(0)?pt:ot,!0))),(c=this.i.toString())&&a.push("?",c),(c=this.f)&&a.push("#",$l(c,rt)),a.join("")},Tl.prototype.clone=function(){return new Tl(this)};var nt=/[#\/\?@]/g,ot=/[\#\?:]/g,pt=/[\#\?]/g,qt=/[\#\?@]/g,rt=/#/g;iq=am.prototype,iq.rc=function(){return bm(this),this.a},iq.add=function(a,b){bm(this),this.g=null,a=dm(this,a);var c=this.b.get(a);return c||this.b.set(a,c=[]),c.push(b),this.a=this.a+1,this},iq.remove=function(a){return bm(this),a=dm(this,a),!!Ol(this.b.a,a)&&(this.g=null,this.a=this.a-this.b.get(a).length,this.b.remove(a))},iq.clear=function(){this.b=this.g=null,this.a=0},iq.Sa=function(){return bm(this),0==this.a},iq.K=function(){bm(this);for(var a=this.b.uc(),b=this.b.K(),c=[],d=0;d<b.length;d++)for(var e=a[d],f=0;f<e.length;f++)c.push(b[d]);return c},iq.uc=function(a){bm(this);var b=[];if(e(a))cm(this,a)&&(b=Rc(b,this.b.get(dm(this,a))));else{a=this.b.uc();for(var c=0;c<a.length;c++)b=Rc(b,a[c])}return b},iq.set=function(a,b){return bm(this),this.g=null,a=dm(this,a),cm(this,a)&&(this.a=this.a-this.b.get(a).length),this.b.set(a,[b]),this.a=this.a+1,this},iq.get=function(a,b){var c=a?this.uc(a):[];return 0<c.length?String(c[0]):b},iq.toString=function(){if(this.g)return this.g;if(!this.b)return"";for(var a=[],b=this.b.K(),c=0;c<b.length;c++)for(var d=b[c],e=encodeURIComponent(String(d)),d=this.uc(d),f=0;f<d.length;f++){var g=e;""!==d[f]&&(g+="="+encodeURIComponent(String(d[f]))),a.push(g)}return this.g=a.join("&")},iq.clone=function(){var a=new am;return a.g=this.g,this.b&&(a.b=this.b.clone(),a.a=this.a),a},iq=fm.prototype,iq.Tj=function(){return this.g},iq.gk=function(){return this.f},iq.hk=function(){return this.c},iq.On=function(){return this.b},iq.Pn=function(){return this.i},iq.Qn=function(){return this.a},iq.Rn=function(){return this.l},iq.Ea=function(){return this.s},iq.uk=function(){return this.o},iq.vk=function(){return this.j},iq.Wo=function(a){this.g=a},iq.hi=function(a){this.f=a},iq.ii=function(a){this.c=a},iq.Vo=function(a){this.b=a},iq.Sn=function(a){this.i=a},iq.Tn=function(a){this.a=a},iq.bp=function(a){this.l=a},iq.ki=function(a){this.s=a},iq.li=function(a){this.o=a},iq.cp=function(a){this.j=a},m(gm,fl);var st=["http://www.google.com/kml/ext/2.2"],tt=[null,"http://earth.google.com/kml/2.0","http://earth.google.com/kml/2.1","http://earth.google.com/kml/2.2","http://www.opengis.net/kml/2.2"],ut=[255,255,255,1],vt=new Vg({color:ut}),wt=[20,2],xt=[64,64],yt=new wf({anchor:wt,anchorOrigin:"bottom-left",anchorXUnits:"pixels",anchorYUnits:"pixels",crossOrigin:"anonymous",rotation:0,scale:.5,size:xt,src:"https://maps.google.com/mapfiles/kml/pushpin/ylw-pushpin.png"}),zt=new _g({color:ut,width:1}),At=new fm({font:"bold 16px Helvetica",fill:vt,stroke:new _g({color:[51,51,51,1],width:2}),scale:.8}),Bt=[new ch({fill:vt,image:yt,text:At,stroke:zt,zIndex:0})],Ct={fraction:"fraction",pixels:"pixels"},Dt=ui(tt,{value:ni(ql)}),Et=ui(tt,{Data:function(a,b){var c=a.getAttribute("name");if(null!==c){var d=wi(void 0,Dt,a,b);d&&(b[b.length-1][c]=d)}},SchemaData:function(a,b){vi(Xt,a,b)}}),Ft=ui(tt,{extrude:pi(jl),altitudeMode:pi(ql)}),Gt=ui(tt,{coordinates:ni(lm)}),Ht=ui(tt,{innerBoundaryIs:function(a,b){var c=wi(void 0,Mt,a,b);c&&b[b.length-1].push(c)},outerBoundaryIs:function(a,b){var c=wi(void 0,Tt,a,b);c&&(b[b.length-1][0]=c)}}),It=ui(tt,{when:function(a,b){var c=b[b.length-1].ui,d=gi(a,!1);if(d=/^\s*(\d{4})($|-(\d{2})($|-(\d{2})($|T(\d{2}):(\d{2}):(\d{2})(Z|(?:([+\-])(\d{2})(?::(\d{2}))?)))))\s*$/.exec(d)){var e=Date.UTC(parseInt(d[1],10),d[3]?parseInt(d[3],10)-1:0,d[5]?parseInt(d[5],10):1,d[7]?parseInt(d[7],10):0,d[8]?parseInt(d[8],10):0,d[9]?parseInt(d[9],10):0);if(d[10]&&"Z"!=d[10]){var f="-"==d[11]?-1:1,e=e+60*f*parseInt(d[12],10);d[13]&&(e+=3600*f*parseInt(d[13],10))}c.push(e)}else c.push(0)}},ui(st,{coord:function(a,b){var c=b[b.length-1].A,d=gi(a,!1);(d=/^\s*([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s+([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s+([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s*$/i.exec(d))?c.push(parseFloat(d[1]),parseFloat(d[2]),parseFloat(d[3]),0):c.push(0,0,0,0)}})),Jt=ui(tt,{coordinates:ni(lm)}),Kt=ui(tt,{href:pi(mm)},ui(st,{x:pi(ml),y:pi(ml),w:pi(ml),h:pi(ml)})),Lt=ui(tt,{Icon:pi(function(a,b){var c=wi({},Kt,a,b);return c?c:null}),heading:pi(ml),hotSpot:pi(function(a){var b=a.getAttribute("xunits"),c=a.getAttribute("yunits");return{x:parseFloat(a.getAttribute("x")),Wf:Ct[b],y:parseFloat(a.getAttribute("y")),Xf:Ct[c]}}),scale:pi(nm)}),Mt=ui(tt,{LinearRing:ni(om)}),Nt=ui(tt,{color:pi(km),scale:pi(nm)}),Ot=ui(tt,{color:pi(km),width:pi(ml)}),Pt=ui(tt,{LineString:mi(qm),LinearRing:mi(rm),MultiGeometry:mi(sm),Point:mi(tm),Polygon:mi(um)}),Qt=ui(st,{Track:mi(pm)}),Rt=ui(tt,{ExtendedData:xm,Link:function(a,b){vi(St,a,b)},address:pi(ql),description:pi(ql),name:pi(ql),open:pi(jl),phoneNumber:pi(ql),visibility:pi(jl)}),St=ui(tt,{href:pi(mm)}),Tt=ui(tt,{LinearRing:ni(om)}),Ut=ui(tt,{Style:pi(vm),key:pi(ql),styleUrl:pi(function(a){var b=gi(a,!1).trim();return a.baseURI?Yl(a.baseURI,b).toString():b})}),Vt=ui(tt,{ExtendedData:xm,MultiGeometry:pi(sm,"geometry"),LineString:pi(qm,"geometry"),LinearRing:pi(rm,"geometry"),Point:pi(tm,"geometry"),Polygon:pi(um,"geometry"),Style:pi(vm),StyleMap:function(a,b){var c=wi(void 0,Zt,a,b);if(c){var d=b[b.length-1];Array.isArray(c)?d.Style=c:"string"==typeof c&&(d.styleUrl=c)}},address:pi(ql),description:pi(ql),name:pi(ql),open:pi(jl),phoneNumber:pi(ql),styleUrl:pi(mm),visibility:pi(jl)},ui(st,{MultiTrack:pi(function(a,b){var c=wi([],Qt,a,b);if(c){var d=new Mk(null);return Ok(d,c),d}},"geometry"),Track:pi(pm,"geometry")})),Wt=ui(tt,{color:pi(km),fill:pi(jl),outline:pi(jl)}),Xt=ui(tt,{SimpleData:function(a,b){var c=a.getAttribute("name");if(null!==c){var d=ql(a);b[b.length-1][c]=d}}}),Yt=ui(tt,{IconStyle:function(a,b){var c=wi({},Lt,a,b);if(c){var d,e=b[b.length-1],f="Icon"in c?c.Icon:{};d=(d=f.href)?d:"https://maps.google.com/mapfiles/kml/pushpin/ylw-pushpin.png";var g,h,i,j=c.hotSpot;j?(g=[j.x,j.y],h=j.Wf,i=j.Xf):"https://maps.google.com/mapfiles/kml/pushpin/ylw-pushpin.png"===d?(g=wt,i=h="pixels"):/^http:\/\/maps\.(?:google|gstatic)\.com\//.test(d)&&(g=[.5,0],i=h="fraction");var k,j=f.x,l=f.y;void 0!==j&&void 0!==l&&(k=[j,l]);var m,j=f.w,f=f.h;void 0!==j&&void 0!==f&&(m=[j,f]);var n,f=c.heading;void 0!==f&&(n=t(f)),c=c.scale,"https://maps.google.com/mapfiles/kml/pushpin/ylw-pushpin.png"==d&&(m=xt,void 0===c&&(c=.5)),g=new wf({anchor:g,anchorOrigin:"bottom-left",anchorXUnits:h,anchorYUnits:i,crossOrigin:"anonymous",offset:k,offsetOrigin:"bottom-left",rotation:n,scale:c,size:m,src:d}),e.imageStyle=g}},LabelStyle:function(a,b){var c=wi({},Nt,a,b);c&&(b[b.length-1].textStyle=new fm({fill:new Vg({color:"color"in c?c.color:ut}),scale:c.scale}))},LineStyle:function(a,b){var c=wi({},Ot,a,b);c&&(b[b.length-1].strokeStyle=new _g({color:"color"in c?c.color:ut,width:"width"in c?c.width:1}))},PolyStyle:function(a,b){var c=wi({},Wt,a,b);if(c){var d=b[b.length-1];d.fillStyle=new Vg({color:"color"in c?c.color:ut});var e=c.fill;void 0!==e&&(d.fill=e),c=c.outline,void 0!==c&&(d.outline=c)}}}),Zt=ui(tt,{Pair:function(a,b){var c=wi({},Ut,a,b);if(c){var d=c.key;d&&"normal"==d&&((d=c.styleUrl)&&(b[b.length-1]=d),(c=c.Style)&&(b[b.length-1]=c))}}});iq=gm.prototype,iq.Cf=function(a,b){var c=ui(tt,{Document:li(this.Cf,this),Folder:li(this.Cf,this),Placemark:mi(this.Kf,this),Style:this.Fo.bind(this),StyleMap:this.Eo.bind(this)});if(c=wi([],c,a,b,this))return c},iq.Kf=function(a,b){var c=wi({geometry:null},Vt,a,b);if(c){var d=new ci,e=a.getAttribute("id");null!==e&&d.hc(e);var e=b[0],f=c.geometry;return f&&Ek(f,!1,e),d.Ta(f),delete c.geometry,this.c&&d.nf(im(c.Style,c.styleUrl,this.g,this.b,this.i)),delete c.Style,d.C(c),d}},iq.Fo=function(a,b){var c=a.getAttribute("id");if(null!==c){var d=vm(a,b);d&&(c=a.baseURI?Yl(a.baseURI,"#"+c).toString():"#"+c,this.b[c]=d)}},iq.Eo=function(a,b){var c=a.getAttribute("id");if(null!==c){var d=wi(void 0,Zt,a,b);d&&(c=a.baseURI?Yl(a.baseURI,"#"+c).toString():"#"+c,this.b[c]=d)}},iq.Kh=function(a,b){if(!$(tt,a.namespaceURI))return null;var c=this.Kf(a,[Ck(this,a,b)]);return c?c:null},iq.gc=function(a,b){if(!$(tt,a.namespaceURI))return[];var c;if(c=a.localName,"Document"==c||"Folder"==c)return(c=this.Cf(a,[Ck(this,a,b)]))?c:[];if("Placemark"==c)return(c=this.Kf(a,[Ck(this,a,b)]))?[c]:[];if("kml"==c){c=[];var d;for(d=a.firstElementChild;d;d=d.nextElementSibling){var e=this.gc(d,b);e&&ba(c,e)}return c}return[]},iq.zo=function(a){return ii(a)?ym(this,a):ji(a)?zm(this,a):"string"==typeof a?(a=ki(a),ym(this,a)):void 0},iq.Ao=function(a){var b=[];return ii(a)?ba(b,Am(this,a)):ji(a)?ba(b,Bm(this,a)):"string"==typeof a&&(a=ki(a),ba(b,Am(this,a))),b};var $t=ui(tt,["Document","Placemark"]),_t=ui(tt,{Document:qi(function(a,b,c){yi({node:a},au,Km,b,c,void 0,this)}),Placemark:qi(Fm)}),au=ui(tt,{Placemark:qi(Fm)}),bu={Point:"Point",LineString:"LineString",LinearRing:"LinearRing",Polygon:"Polygon",MultiPoint:"MultiGeometry",MultiLineString:"MultiGeometry",MultiPolygon:"MultiGeometry",GeometryCollection:"MultiGeometry"},cu=ui(tt,["href"],ui(st,["x","y","w","h"])),du=ui(tt,{href:qi(ul)},ui(st,{x:qi(sl),y:qi(sl),w:qi(sl),h:qi(sl)})),eu=ui(tt,["scale","heading","Icon","hotSpot"]),fu=ui(tt,{Icon:qi(function(a,b,c){a={node:a};var d=cu[c[c.length-1].node.namespaceURI],e=ti(b,d);yi(a,du,us,e,c,d),d=cu[st[0]],e=ti(b,d),yi(a,du,Jm,e,c,d)}),heading:qi(sl),hotSpot:qi(function(a,b){a.setAttribute("x",b.x),a.setAttribute("y",b.y),a.setAttribute("xunits",b.Wf),a.setAttribute("yunits",b.Xf)}),scale:qi(Im)}),gu=ui(tt,["color","scale"]),hu=ui(tt,{color:qi(Cm),scale:qi(Im)}),iu=ui(tt,["color","width"]),ju=ui(tt,{color:qi(Cm),width:qi(sl)}),ku=ui(tt,{LinearRing:qi(Gm)}),lu=ui(tt,{LineString:qi(Gm),Point:qi(Gm),Polygon:qi(Hm),GeometryCollection:qi(Dm)}),mu=ui(tt,"name open visibility address phoneNumber description styleUrl Style".split(" ")),nu=ui(tt,{MultiGeometry:qi(Dm),LineString:qi(Gm),LinearRing:qi(Gm),Point:qi(Gm),Polygon:qi(Hm),Style:qi(function(a,b,c){a={node:a};var d={},e=b.c,f=b.f,g=b.a;b=b.Ea(),g instanceof wf&&(d.IconStyle=g),b&&(d.LabelStyle=b),f&&(d.LineStyle=f),e&&(d.PolyStyle=e),b=ru[c[c.length-1].node.namespaceURI],d=ti(d,b),yi(a,su,us,d,c,b)}),address:qi(ul),description:qi(ul),name:qi(ul),open:qi(rl),phoneNumber:qi(ul),styleUrl:qi(ul),visibility:qi(rl)}),ou=ui(tt,{coordinates:qi(function(a,b,c){c=c[c.length-1];var d=c.layout;c=c.stride;var e;"XY"==d||"XYM"==d?e=2:("XYZ"==d||"XYZM"==d)&&(e=3);var f,g=b.length,h="";if(0<g){for(h+=b[0],d=1;d<e;++d)h+=","+b[d];for(f=c;f<g;f+=c)for(h+=" "+b[f],d=1;d<e;++d)h+=","+b[f+d]}ul(a,h)})}),pu=ui(tt,{outerBoundaryIs:qi(Em),innerBoundaryIs:qi(Em)}),qu=ui(tt,{color:qi(Cm)}),ru=ui(tt,["IconStyle","LabelStyle","LineStyle","PolyStyle"]),su=ui(tt,{IconStyle:qi(function(a,b,c){a={node:a};var d={},e=b.Bb(),f=b.fd(),g={href:b.b.j};if(e){g.w=e[0],g.h=e[1];var h=b.Tb(),i=b.Fa();i&&f&&0!==i[0]&&i[1]!==e[1]&&(g.x=i[0],g.y=f[1]-(i[1]+e[1])),h&&0!==h[0]&&h[1]!==e[1]&&(d.hotSpot={x:h[0],Wf:"pixels",y:e[1]-h[1],Xf:"pixels"})}d.Icon=g,e=b.i,1!==e&&(d.scale=e),b=b.j,0!==b&&(d.heading=b),b=eu[c[c.length-1].node.namespaceURI],d=ti(d,b),yi(a,fu,us,d,c,b)}),LabelStyle:qi(function(a,b,c){a={node:a};var d={},e=b.b;e&&(d.color=e.b),(b=b.a)&&1!==b&&(d.scale=b),b=gu[c[c.length-1].node.namespaceURI],d=ti(d,b),yi(a,hu,us,d,c,b)}),LineStyle:qi(function(a,b,c){a={node:a};var d=iu[c[c.length-1].node.namespaceURI];b=ti({color:b.b,width:b.a},d),yi(a,ju,us,b,c,d)}),PolyStyle:qi(function(a,b,c){yi({node:a},qu,tu,[b.b],c)})}),tu=si("color"),uu=si("coordinates"),vu=si("innerBoundaryIs"),wu=si("Point"),xu=si("LineString"),yu=si("LinearRing"),zu=si("Polygon"),Au=si("outerBoundaryIs");gm.prototype.a=function(a,b){b=Dk(this,b);var c=fi(tt[4],"kml");c.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:gx",st[0]),c.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xsi","http://www.w3.org/2001/XMLSchema-instance"),c.setAttributeNS("http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation","http://www.opengis.net/kml/2.2 https://developers.google.com/kml/schema/kml22gx.xsd");var d={node:c},e={};1<a.length?e.Document=a:1==a.length&&(e.Placemark=a[0]);var f=$t[c.namespaceURI],e=ti(e,f);return yi(d,_t,us,e,[b],f,this),c},function(){var a={},b={ha:a};!function(c){if("object"==typeof a&&"undefined"!=typeof b)b.ha=c();else{var d;d="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,d.Mp=c()}}(function(){return function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);throw i=Error("Cannot find module '"+g+"'"),i.code="MODULE_NOT_FOUND",i}i=c[g]={ha:{}},b[g][0].call(i.ha,function(a){var c=b[g][1][a];return e(c?c:a)},i,i.ha,a,b,c,d)}return c[g].ha}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){c.read=function(a,b,c,d,e){var f;f=8*e-d-1;var g=(1<<f)-1,h=g>>1,i=-7;e=c?e-1:0;var j=c?-1:1,k=a[b+e];for(e+=j,c=k&(1<<-i)-1,k>>=-i,i+=f;0<i;c=256*c+a[b+e],e+=j,i-=8);for(f=c&(1<<-i)-1,c>>=-i,i+=d;0<i;f=256*f+a[b+e],e+=j,i-=8);if(0===c)c=1-h;else{if(c===g)return f?NaN:1/0*(k?-1:1);f+=Math.pow(2,d),c-=h}return(k?-1:1)*f*Math.pow(2,c-d)},c.write=function(a,b,c,d,e,f){var g,h=8*f-e-1,i=(1<<h)-1,j=i>>1,k=23===e?Math.pow(2,-24)-Math.pow(2,-77):0;f=d?0:f-1;var l=d?1:-1,m=0>b||0===b&&0>1/b?1:0;for(b=Math.abs(b),isNaN(b)||1/0===b?(b=isNaN(b)?1:0,d=i):(d=Math.floor(Math.log(b)/Math.LN2),1>b*(g=Math.pow(2,-d))&&(d--,g*=2),b=1<=d+j?b+k/g:b+k*Math.pow(2,1-j),2<=b*g&&(d++,g/=2),d+j>=i?(b=0,d=i):1<=d+j?(b=(b*g-1)*Math.pow(2,e),d+=j):(b=b*Math.pow(2,j-1)*Math.pow(2,e),d=0));8<=e;a[c+f]=255&b,f+=l,b/=256,e-=8);for(d=d<<e|b,h+=e;0<h;a[c+f]=255&d,f+=l,d/=256,h-=8);a[c+f-l]|=128*m}},{}],2:[function(a,b){function c(a){var b;return a&&a.length&&(b=a,a=b.length),a=new Uint8Array(a||0),b&&a.set(b),a.Vh=e.Vh,a.Vf=e.Vf,a.Nh=e.Nh,a.zi=e.zi,a.Jf=e.Jf,a.yi=e.yi,a.Df=e.Df,a.vi=e.vi,a.toString=e.toString,a.write=e.write,a.slice=e.slice,a.pg=e.pg,a.ij=!0,a}function d(a){for(var b,c,d=a.length,e=[],f=0;f<d;f++){if(b=a.charCodeAt(f),55295<b&&57344>b){if(!c){56319<b||f+1===d?e.push(239,191,189):c=b;continue}if(56320>b){e.push(239,191,189),c=b;continue}b=c-55296<<10|b-56320|65536,c=null}else c&&(e.push(239,191,189),c=null);128>b?e.push(b):2048>b?e.push(b>>6|192,63&b|128):65536>b?e.push(b>>12|224,b>>6&63|128,63&b|128):e.push(b>>18|240,b>>12&63|128,b>>6&63|128,63&b|128)}return e}b.ha=c;var e,f,g,h=a("ieee754");e={Vh:function(a){return(this[a]|this[a+1]<<8|this[a+2]<<16)+16777216*this[a+3]},Vf:function(a,b){this[b]=a,this[b+1]=a>>>8,this[b+2]=a>>>16,this[b+3]=a>>>24},Nh:function(a){return(this[a]|this[a+1]<<8|this[a+2]<<16)+(this[a+3]<<24)},Jf:function(a){return h.read(this,a,!0,23,4)},Df:function(a){return h.read(this,a,!0,52,8)},yi:function(a,b){return h.write(this,a,b,!0,23,4)},vi:function(a,b){return h.write(this,a,b,!0,52,8)},toString:function(a,b,c){var d=a="";for(c=Math.min(this.length,c||this.length),b=b||0;b<c;b++){var e=this[b];127>=e?(a+=decodeURIComponent(d)+String.fromCharCode(e),d=""):d+="%"+e.toString(16)}return a+=decodeURIComponent(d)},write:function(a,b){for(var c=a===f?g:d(a),e=0;e<c.length;e++)this[b+e]=c[e]},slice:function(a,b){return this.subarray(a,b)},pg:function(a,b){b=b||0;for(var c=0;c<this.length;c++)a[b+c]=this[c]}},e.zi=e.Vf,c.byteLength=function(a){return f=a,g=d(a),g.length},c.isBuffer=function(a){return!(!a||!a.ij)}},{ieee754:1}],3:[function(a,b){(function(c){function d(a){this.Eb=e.isBuffer(a)?a:new e(a||0),this.ca=0,this.length=this.Eb.length}b.ha=d;var e=c.up||a("./buffer");d.f=0,d.g=1,d.b=2,d.a=5;var f=Math.pow(2,63);d.prototype={Hf:function(a,b,c){for(c=c||this.length;this.ca<c;){var d=this.Aa(),e=this.ca;a(d>>3,b,this),this.ca===e&&this.ip(d)}return b},vo:function(){var a=this.Eb.Jf(this.ca);return this.ca+=4,a},ro:function(){var a=this.Eb.Df(this.ca);return this.ca+=8,a},Aa:function(){var a,b,c,d,e,f=this.Eb;if(a=f[this.ca++],128>a)return a;if(a&=127,c=f[this.ca++],128>c)return a|c<<7;if(c=(127&c)<<7,d=f[this.ca++],128>d)return a|c|d<<14;if(d=(127&d)<<14,e=f[this.ca++],128>e)return a|c|d|e<<21;if(b=f[this.ca++],a=(a|c|d|(127&e)<<21)+268435456*(127&b),128>b)return a;if(b=f[this.ca++],a+=34359738368*(127&b),128>b)return a;if(b=f[this.ca++],a+=4398046511104*(127&b),128>b)return a;if(b=f[this.ca++],a+=562949953421312*(127&b),128>b)return a;if(b=f[this.ca++],a+=72057594037927940*(127&b),128>b)return a;if(b=f[this.ca++],128>b)return a+0x8000000000000000*(127&b);throw Error("Expected varint not more than 10 bytes")},Go:function(){var a=this.ca,b=this.Aa();if(b<f)return b;for(var c=this.ca-2;255===this.Eb[c];)c--;c<a&&(c=a);for(var d=b=0;d<c-a+1;d++)var e=127&~this.Eb[a+d],b=b+(4>d?e<<7*d:e*Math.pow(2,7*d));return-b-1},sd:function(){var a=this.Aa();return 1===a%2?(a+1)/-2:a/2},po:function(){return!!this.Aa()},Mf:function(){var a=this.Aa()+this.ca,b=this.Eb.toString("utf8",this.ca,a);return this.ca=a,b},ip:function(a){if(a&=7,a===d.f)for(;127<this.Eb[this.ca++];);else if(a===d.b)this.ca=this.Aa()+this.ca;else if(a===d.a)this.ca+=4;else{if(a!==d.g)throw Error("Unimplemented type: "+a);this.ca+=8}}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./buffer":2}]},{},[3])(3)}),qs=b.ha}(),function(){var a={},b={ha:a};!function(c){if("object"==typeof a&&"undefined"!=typeof b)b.ha=c();else{var d;d="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,d.Op=c()}}(function(){return function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);throw i=Error("Cannot find module '"+g+"'"),i.code="MODULE_NOT_FOUND",i}i=c[g]={ha:{}},b[g][0].call(i.ha,function(a){var c=b[g][1][a];return e(c?c:a)},i,i.ha,a,b,c,d)}return c[g].ha}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b){function c(a,b){this.x=a,this.y=b}b.ha=c,c.prototype={clone:function(){return new c(this.x,this.y)},add:function(a){return this.clone().aj(a)},rotate:function(a){return this.clone().lj(a)},round:function(){return this.clone().mj()},angle:function(){return Math.atan2(this.y,this.x)},aj:function(a){return this.x+=a.x,this.y+=a.y,this},lj:function(a){var b=Math.cos(a);a=Math.sin(a);var c=a*this.x+b*this.y;return this.x=b*this.x-a*this.y,this.y=c,this},mj:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},c.b=function(a){return a instanceof c?a:Array.isArray(a)?new c(a[0],a[1]):a}},{}],2:[function(a,b){b.ha.$i=a("./lib/vectortile.js"),b.ha.Hp=a("./lib/vectortilefeature.js"),b.ha.Ip=a("./lib/vectortilelayer.js")},{"./lib/vectortile.js":3,"./lib/vectortilefeature.js":4,"./lib/vectortilelayer.js":5}],3:[function(a,b){function c(a,b,c){3===a&&(a=new d(c,c.Aa()+c.ca),a.length&&(b[a.name]=a))}var d=a("./vectortilelayer");b.ha=function(a,b){this.layers=a.Hf(c,{},b)}},{"./vectortilelayer":5}],4:[function(a,b){function c(a,b,c,e,f){this.properties={},this.extent=c,this.type=0,this.lc=a,this.Me=-1,this.Dd=e,this.Fd=f,a.Hf(d,this,b)}function d(a,b,c){if(1==a)b.Kp=c.Aa();else if(2==a)for(a=c.Aa()+c.ca;c.ca<a;){var d=b.Dd[c.Aa()],e=b.Fd[c.Aa()];b.properties[d]=e}else 3==a?b.type=c.Aa():4==a&&(b.Me=c.ca)}var e=a("point-geometry");b.ha=c,c.b=["Unknown","Point","LineString","Polygon"],c.prototype.Qg=function(){var a=this.lc;a.ca=this.Me;for(var b,c=a.Aa()+a.ca,d=1,f=0,g=0,h=0,i=[];a.ca<c;)if(f||(f=a.Aa(),d=7&f,f>>=3),f--,1===d||2===d)g+=a.sd(),h+=a.sd(),1===d&&(b&&i.push(b),b=[]),b.push(new e(g,h));else{if(7!==d)throw Error("unknown command "+d);b&&b.push(b[0].clone())}return b&&i.push(b),i},c.prototype.bbox=function(){var a=this.lc;a.ca=this.Me;for(var b=a.Aa()+a.ca,c=1,d=0,e=0,f=0,g=1/0,h=-(1/0),i=1/0,j=-(1/0);a.ca<b;)if(d||(d=a.Aa(),c=7&d,d>>=3),d--,1===c||2===c)e+=a.sd(),f+=a.sd(),e<g&&(g=e),e>h&&(h=e),f<i&&(i=f),f>j&&(j=f);else if(7!==c)throw Error("unknown command "+c);return[g,i,h,j]}},{"point-geometry":1}],5:[function(a,b){function c(a,b){this.version=1,this.name=null,this.extent=4096,this.length=0,this.lc=a,this.Dd=[],this.Fd=[],this.Cd=[],a.Hf(d,this,b),this.length=this.Cd.length}function d(a,b,c){15===a?b.version=c.Aa():1===a?b.name=c.Mf():5===a?b.extent=c.Aa():2===a?b.Cd.push(c.ca):3===a?b.Dd.push(c.Mf()):4===a&&b.Fd.push(e(c))}function e(a){for(var b=null,c=a.Aa()+a.ca;a.ca<c;)b=a.Aa()>>3,b=1===b?a.Mf():2===b?a.vo():3===b?a.ro():4===b?a.Go():5===b?a.Aa():6===b?a.sd():7===b?a.po():null;return b}var f=a("./vectortilefeature.js");b.ha=c,c.prototype.feature=function(a){if(0>a||a>=this.Cd.length)throw Error("feature index out of bounds");return this.lc.ca=this.Cd[a],a=this.lc.Aa()+this.lc.ca,new f(this.lc,a,this.extent,this.Dd,this.Fd)}},{"./vectortilefeature.js":4}]},{},[2])(2)}),rs=b.ha}(),m(Mm,Bk),Mm.prototype.X=function(){return"arraybuffer"},Mm.prototype.Ca=function(a,b){var c,d,e,f=this.f,g=new qs(a),g=new rs.$i(g),h=[],i=this.b;for(e in g.layers)if(!f||-1!=f.indexOf(e)){c=g.layers[e];for(var j=0,k=c.length;j<k;++j){if(i===Nh){var l=c.feature(j);d=e;var m=l.Qg(),n=[],o=[];Nm(m,o,n);var p=l.type,q=void 0;1===p?q=1===m.length?"Point":"MultiPoint":2===p?q=1===m.length?"LineString":"MultiLineString":3===p&&(q="Polygon"),l=l.properties,l[this.a]=d,d=new this.b(q,o,n,l)}else{if(l=c.feature(j),q=e,o=b,d=new this.b,n=l.properties,n[this.a]=q,q=l.type,0===q)q=null;else{l=l.Qg(),m=[],p=[],Nm(l,p,m);var r=void 0;1===q?r=1===l.length?new cc(null):new Pk(null):2===q?r=1===l.length?new Kk(null):new Mk(null):3===q&&(r=new oc(null)),r.ba("XY",p,m),q=r}(o=Ek(q,!1,Dk(this,o)))&&(n[this.g]=o),d.C(n),d.zc(this.g)}h.push(d)}}return h},Mm.prototype.Oa=function(){return this.defaultDataProjection},Mm.prototype.c=function(a){this.f=a},m(Qm,W),m(Rm,Qm),m(Sm,Rm),m(Tm,Sm),m(Um,Sm),m(Vm,Rm),m(Wm,Qm),m(Xm,Qm),m(Ym,Xm),m(Zm,Ym),m($m,Ym),m(_m,Ym),m(an,Ym),m(bn,Ym),m(cn,Ym),m(dn,Xm),m(en,Xm),m(fn,Xm),m(gn,fl);var Bu=[null],Cu=ui(Bu,{nd:function(a,b){b[b.length-1].Mc.push(a.getAttribute("ref"))},tag:hn}),Du=ui(Bu,{node:function(a,b){var c=b[0],d=b[b.length-1],e=a.getAttribute("id"),f=[parseFloat(a.getAttribute("lon")),parseFloat(a.getAttribute("lat"))];d.Ug[e]=f;var g=wi({xd:{}},Eu,a,b);B(g.xd)||(f=new cc(f),Ek(f,!1,c),c=new ci(f),c.hc(e),c.C(g.xd),d.features.push(c))},way:function(a,b){for(var c=b[0],d=a.getAttribute("id"),e=wi({Mc:[],xd:{}},Cu,a,b),f=b[b.length-1],g=[],h=0,i=e.Mc.length;h<i;h++)ba(g,f.Ug[e.Mc[h]]);e.Mc[0]==e.Mc[e.Mc.length-1]?(h=new oc(null),h.ba("XY",g,[g.length])):(h=new Kk(null),h.ba("XY",g)),Ek(h,!1,c),c=new ci(h),c.hc(d),c.C(e.xd),f.features.push(c)}}),Eu=ui(Bu,{tag:hn});gn.prototype.gc=function(a,b){var c=Ck(this,a,b);return"osm"==a.localName&&(c=wi({Ug:{},features:[]},Du,a,[c]),c.features)?c.features:[]},kn.prototype.read=function(a){return ii(a)?this.a(a):ji(a)?this.b(a):"string"==typeof a?(a=ki(a),this.a(a)):null},m(ln,kn),ln.prototype.a=function(a){for(a=a.firstChild;a;a=a.nextSibling)if(1==a.nodeType)return this.b(a);return null},ln.prototype.b=function(a){return(a=wi({},Gu,a,[]))?a:null};var Fu=[null,"http://www.opengis.net/ows/1.1"],Gu=ui(Fu,{ServiceIdentification:pi(function(a,b){return wi({},Su,a,b)}),ServiceProvider:pi(function(a,b){return wi({},Tu,a,b)}),OperationsMetadata:pi(function(a,b){return wi({},Ou,a,b)})}),Hu=ui(Fu,{DeliveryPoint:pi(ql),City:pi(ql),AdministrativeArea:pi(ql),PostalCode:pi(ql),Country:pi(ql),ElectronicMailAddress:pi(ql)}),Iu=ui(Fu,{Value:oi(function(a){return ql(a)})}),Ju=ui(Fu,{AllowedValues:pi(function(a,b){return wi({},Iu,a,b)})}),Ku=ui(Fu,{Phone:pi(function(a,b){return wi({},Pu,a,b)}),Address:pi(function(a,b){return wi({},Hu,a,b)})}),Lu=ui(Fu,{HTTP:pi(function(a,b){return wi({},Mu,a,b)})}),Mu=ui(Fu,{Get:oi(function(a,b){var c=jn(a);return c?wi({href:c},Qu,a,b):void 0}),Post:void 0}),Nu=ui(Fu,{DCP:pi(function(a,b){return wi({},Lu,a,b)})}),Ou=ui(Fu,{Operation:function(a,b){var c=a.getAttribute("name"),d=wi({},Nu,a,b);d&&(b[b.length-1][c]=d)}}),Pu=ui(Fu,{Voice:pi(ql),Facsimile:pi(ql)}),Qu=ui(Fu,{Constraint:oi(function(a,b){var c=a.getAttribute("name");return c?wi({name:c},Ju,a,b):void 0})}),Ru=ui(Fu,{IndividualName:pi(ql),PositionName:pi(ql),ContactInfo:pi(function(a,b){return wi({},Ku,a,b)})}),Su=ui(Fu,{Title:pi(ql),ServiceTypeVersion:pi(ql),ServiceType:pi(ql)}),Tu=ui(Fu,{ProviderName:pi(ql),ProviderSite:pi(jn),ServiceContact:pi(function(a,b){return wi({},Ru,a,b)})});m(nn,Jl),iq=nn.prototype,iq.pd=function(a,b){var c=this.rd(a,b);return new ci(c)},iq.Gf=function(a,b){return[this.pd(a,b)]},iq.rd=function(a,b){var c=Lb(this.a),d=pn(a,c,this.b);return mn(d,d.length,c,d),c=Yb(d,0,d.length,c),Ek(new Kk(c,this.a),!1,Dk(this,b))},iq.De=function(a,b){var c=a.W();return c?this.zd(c,b):""},iq.xi=function(a,b){return this.De(a[0],b)},iq.zd=function(a,b){a=Ek(a,!0,Dk(this,b));var c=a.ga(),d=a.ua();return mn(c,c.length,d,c),on(c,d,this.b)},m(sn,Fk),sn.prototype.Ff=function(a,b){if("Topology"==a.type){var c,d=null,e=null;a.transform&&(c=a.transform,d=c.scale,e=c.translate);var f=a.arcs;if(c){c=d;var g,h,i=e;for(g=0,h=f.length;g<h;++g)for(var j=f[g],k=c,l=i,m=0,n=0,o=void 0,p=void 0,q=void 0,p=0,q=j.length;p<q;++p)o=j[p],m+=o[0],n+=o[1],o[0]=m,o[1]=n,wn(o,k,l)}for(c=[],i=A(a.objects),g=0,h=i.length;g<h;++g)"GeometryCollection"===i[g].type?(j=i[g],c.push.apply(c,un(j,f,d,e,b))):(j=i[g],c.push(vn(j,f,d,e,b)));return c}return[]},sn.prototype.Oa=function(){return this.defaultDataProjection};var Uu={Point:function(a,b,c){return a=a.coordinates,b&&c&&wn(a,b,c),new cc(a)},LineString:function(a,b){var c=tn(a.arcs,b);return new Kk(c)},Polygon:function(a,b){var c,d,e=[];for(c=0,d=a.arcs.length;c<d;++c)e[c]=tn(a.arcs[c],b);return new oc(e)},MultiPoint:function(a,b,c){a=a.coordinates;var d,e;if(b&&c)for(d=0,e=a.length;d<e;++d)wn(a[d],b,c);return new Pk(a)},MultiLineString:function(a,b){var c,d,e=[];for(c=0,d=a.arcs.length;c<d;++c)e[c]=tn(a.arcs[c],b);return new Mk(e)},MultiPolygon:function(a,b){var c,d,e,f,g,h,i=[];for(g=0,h=a.arcs.length;g<h;++g){for(c=a.arcs[g],d=[],e=0,f=c.length;e<f;++e)d[e]=tn(c[e],b);i[g]=d}return new Qk(i)}};m(xn,fl),xn.prototype.gc=function(a,b){var c={featureType:this.i,featureNS:this.g};return Aq(c,Ck(this,a,b?b:{})),c=[c],this.b.b["http://www.opengis.net/gml"].featureMember=mi(il.prototype.qd),(c=wi([],this.b.b,a,c,this.b))||(c=[]),c},xn.prototype.o=function(a){return ii(a)?An(a):ji(a)?wi({},Zu,a,[]):"string"==typeof a?(a=ki(a),An(a)):void 0},xn.prototype.l=function(a){return ii(a)?yn(this,a):ji(a)?zn(this,a):"string"==typeof a?(a=ki(a),yn(this,a)):void 0};var Vu={"http://www.opengis.net/gml":{boundedBy:pi(il.prototype.te,"bounds")}},Wu={"http://www.opengis.net/wfs":{totalInserted:pi(ol),totalUpdated:pi(ol),totalDeleted:pi(ol)}},Xu={"http://www.opengis.net/ogc":{FeatureId:mi(function(a){return a.getAttribute("fid")})}},Yu={"http://www.opengis.net/wfs":{Feature:function(a,b){vi(Xu,a,b)}}},Zu={"http://www.opengis.net/wfs":{TransactionSummary:pi(function(a,b){return wi({},Wu,a,b)},"transactionSummary"),InsertResults:pi(function(a,b){return wi([],Yu,a,b)},"insertIds")}},$u={"http://www.opengis.net/wfs":{PropertyName:qi(ul)}},_u={"http://www.opengis.net/wfs":{Insert:qi(function(a,b,c){var d=c[c.length-1],d=fi(d.featureNS,d.featureType);a.appendChild(d),wl.prototype.wi(d,b,c)}),Update:qi(function(a,b,c){var d=c[c.length-1],e=d.featureType,f=d.featurePrefix,f=f?f:"feature",g=d.featureNS;if(a.setAttribute("typeName",f+":"+e),a.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:"+f,g),e=b.Wa(),void 0!==e){for(var f=b.K(),g=[],h=0,i=f.length;h<i;h++){var j=b.get(f[h]);void 0!==j&&g.push({name:f[h],value:j})}yi({node:a,srsName:d.srsName},_u,si("Property"),g,c),Bn(a,e)}}),Delete:qi(function(a,b,c){var d=c[c.length-1];c=d.featureType;var e=d.featurePrefix,e=e?e:"feature",d=d.featureNS;a.setAttribute("typeName",e+":"+c),a.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:"+e,d),b=b.Wa(),void 0!==b&&Bn(a,b)}),Property:qi(function(a,b,c){var d=fi("http://www.opengis.net/wfs","Name");a.appendChild(d),ul(d,b.name),void 0!==b.value&&null!==b.value&&(d=fi("http://www.opengis.net/wfs","Value"),a.appendChild(d),b.value instanceof vb?wl.prototype.Fe(d,b.value,c):ul(d,b.value))}),Native:qi(function(a,b){b.qp&&a.setAttribute("vendorId",b.qp),void 0!==b.So&&a.setAttribute("safeToIgnore",b.So),void 0!==b.value&&ul(a,b.value)})}},av={"http://www.opengis.net/wfs":{Query:qi(function(a,b,c){var d=c[c.length-1],e=d.featurePrefix,f=d.featureNS,g=d.propertyNames,h=d.srsName;a.setAttribute("typeName",(e?e+":":"")+b),h&&a.setAttribute("srsName",h),f&&a.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:"+e,f),b=Aq({},d),b.node=a,yi(b,$u,si("PropertyName"),g,c),(d=d.filter)&&(g=fi("http://www.opengis.net/ogc","Filter"),a.appendChild(g),yi({node:g},av,si(d.Ae),[d],c))})},"http://www.opengis.net/ogc":{And:qi(Cn),Or:qi(Cn),Not:qi(function(a,b,c){b=b.condition,yi({node:a},av,si(b.Ae),[b],c)}),BBOX:qi(function(a,b,c){c[c.length-1].srsName=b.srsName,Fn(a,b.geometryName),wl.prototype.Fe(a,b.extent,c)}),PropertyIsEqualTo:qi(Dn),PropertyIsNotEqualTo:qi(Dn),PropertyIsLessThan:qi(Dn),PropertyIsLessThanOrEqualTo:qi(Dn),PropertyIsGreaterThan:qi(Dn),PropertyIsGreaterThanOrEqualTo:qi(Dn),PropertyIsNull:qi(function(a,b){Fn(a,b.a)}),PropertyIsBetween:qi(function(a,b){Fn(a,b.a),En("LowerBoundary",a,""+b.f),En("UpperBoundary",a,""+b.c)}),PropertyIsLike:qi(function(a,b){a.setAttribute("wildCard",b.o),a.setAttribute("singleChar",b.l),a.setAttribute("escapeChar",b.c),void 0!==b.f&&a.setAttribute("matchCase",b.f.toString()),
Fn(a,b.a),En("Literal",a,""+b.i)})}};xn.prototype.j=function(a){var b=fi("http://www.opengis.net/wfs","GetFeature");b.setAttribute("service","WFS"),b.setAttribute("version","1.1.0");var c;if(a&&(a.handle&&b.setAttribute("handle",a.handle),a.outputFormat&&b.setAttribute("outputFormat",a.outputFormat),void 0!==a.maxFeatures&&b.setAttribute("maxFeatures",a.maxFeatures),a.resultType&&b.setAttribute("resultType",a.resultType),void 0!==a.startIndex&&b.setAttribute("startIndex",a.startIndex),void 0!==a.count&&b.setAttribute("count",a.count),c=a.filter,a.bbox)){var d=Pm(a.geometryName,a.bbox,a.srsName);c=c?Om(c,d):d}return b.setAttributeNS("http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation",this.c),d=a.featureTypes,a=[{node:b,srsName:a.srsName,featureNS:a.featureNS?a.featureNS:this.g,featurePrefix:a.featurePrefix,geometryName:a.geometryName,filter:c,propertyNames:a.propertyNames?a.propertyNames:[]}],c=Aq({},a[a.length-1]),c.node=b,yi(c,av,si("Query"),d,a),b},xn.prototype.U=function(a,b,c,d){var e=[],f=fi("http://www.opengis.net/wfs","Transaction");f.setAttribute("service","WFS"),f.setAttribute("version","1.1.0");var g,h;return d&&(g=d.gmlOptions?d.gmlOptions:{},d.handle&&f.setAttribute("handle",d.handle)),f.setAttributeNS("http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation",this.c),a&&(h={node:f,featureNS:d.featureNS,featureType:d.featureType,featurePrefix:d.featurePrefix},Aq(h,g),yi(h,_u,si("Insert"),a,e)),b&&(h={node:f,featureNS:d.featureNS,featureType:d.featureType,featurePrefix:d.featurePrefix},Aq(h,g),yi(h,_u,si("Update"),b,e)),c&&yi({node:f,featureNS:d.featureNS,featureType:d.featureType,featurePrefix:d.featurePrefix},_u,si("Delete"),c,e),d.nativeElements&&yi({node:f,featureNS:d.featureNS,featureType:d.featureType,featurePrefix:d.featurePrefix},_u,si("Native"),d.nativeElements,e),f},xn.prototype.Lf=function(a){for(a=a.firstChild;a;a=a.nextSibling)if(1==a.nodeType)return this.we(a);return null},xn.prototype.we=function(a){if(a.firstElementChild&&a.firstElementChild.firstElementChild)for(a=a.firstElementChild.firstElementChild,a=a.firstElementChild;a;a=a.nextElementSibling)if(0!==a.childNodes.length&&(1!==a.childNodes.length||3!==a.firstChild.nodeType)){var b=[{}];return this.b.te(a,b),nb(b.pop().srsName)}return null},m(Gn,Jl);var bv={Point:Hn,LineString:In,Polygon:Jn,MultiPoint:function(a){var b=[];a=a.ee();for(var c=0,d=a.length;c<d;++c)b.push("("+Hn(a[c])+")");return b.join(",")},MultiLineString:function(a){var b=[];a=a.gd();for(var c=0,d=a.length;c<d;++c)b.push("("+In(a[c])+")");return b.join(",")},MultiPolygon:function(a){var b=[];a=a.Qd();for(var c=0,d=a.length;c<d;++c)b.push("("+Jn(a[c])+")");return b.join(",")},GeometryCollection:function(a){var b=[];a=a.bf();for(var c=0,d=a.length;c<d;++c)b.push(Kn(a[c]));return b.join(",")}};iq=Gn.prototype,iq.pd=function(a,b){var c=this.rd(a,b);if(c){var d=new ci;return d.Ta(c),d}return null},iq.Gf=function(a,b){var c=[],d=this.rd(a,b);c=this.b&&"GeometryCollection"==d.X()?d.c:[d];for(var e=[],f=0,g=c.length;f<g;++f)d=new ci,d.Ta(c[f]),e.push(d);return e},iq.rd=function(a,b){var c;return c=new Nn(new Ln(a)),c.b=Mn(c.a),(c=On(c))?Ek(c,!1,b):null},iq.De=function(a,b){var c=a.W();return c?this.zd(c,b):""},iq.xi=function(a,b){if(1==a.length)return this.De(a[0],b);for(var c=[],d=0,e=a.length;d<e;++d)c.push(a[d].W());return c=new $k(c),this.zd(c,b)},iq.zd=function(a,b){return Kn(Ek(a,!0,b))},iq=Nn.prototype,iq.match=function(a){return(a=this.b.type==a)&&(this.b=Mn(this.a)),a},iq.Af=function(){if(this.match(2)){var a=Pn(this);if(this.match(3))return a}else if(Sn(this))return null;throw Error(Tn(this))},iq.zf=function(){if(this.match(2)){var a=Qn(this);if(this.match(3))return a}else if(Sn(this))return[];throw Error(Tn(this))},iq.Bf=function(){if(this.match(2)){var a=Rn(this);if(this.match(3))return a}else if(Sn(this))return[];throw Error(Tn(this))},iq.ao=function(){if(this.match(2)){var a;if(2==this.b.type)for(a=[this.Af()];this.match(5);)a.push(this.Af());else a=Qn(this);if(this.match(3))return a}else if(Sn(this))return[];throw Error(Tn(this))},iq.$n=function(){if(this.match(2)){var a=Rn(this);if(this.match(3))return a}else if(Sn(this))return[];throw Error(Tn(this))},iq.bo=function(){if(this.match(2)){for(var a=[this.Bf()];this.match(5);)a.push(this.Bf());if(this.match(3))return a}else if(Sn(this))return[];throw Error(Tn(this))};var cv={POINT:cc,LINESTRING:Kk,POLYGON:oc,MULTIPOINT:Pk,MULTILINESTRING:Mk,MULTIPOLYGON:Qk},dv={POINT:Nn.prototype.Af,LINESTRING:Nn.prototype.zf,POLYGON:Nn.prototype.Bf,MULTIPOINT:Nn.prototype.ao,MULTILINESTRING:Nn.prototype.$n,MULTIPOLYGON:Nn.prototype.bo};m(Un,kn),Un.prototype.a=function(a){for(a=a.firstChild;a;a=a.nextSibling)if(1==a.nodeType)return this.b(a);return null},Un.prototype.b=function(a){return this.version=a.getAttribute("version").trim(),(a=wi({version:this.version},fv,a,[]))?a:null};var ev=[null,"http://www.opengis.net/wms"],fv=ui(ev,{Service:pi(function(a,b){return wi({},hv,a,b)}),Capability:pi(function(a,b){return wi({},gv,a,b)})}),gv=ui(ev,{Request:pi(function(a,b){return wi({},pv,a,b)}),Exception:pi(function(a,b){return wi([],lv,a,b)}),Layer:pi(function(a,b){return wi({},mv,a,b)})}),hv=ui(ev,{Name:pi(ql),Title:pi(ql),Abstract:pi(ql),KeywordList:pi(Yn),OnlineResource:pi(jn),ContactInformation:pi(function(a,b){return wi({},iv,a,b)}),Fees:pi(ql),AccessConstraints:pi(ql),LayerLimit:pi(ol),MaxWidth:pi(ol),MaxHeight:pi(ol)}),iv=ui(ev,{ContactPersonPrimary:pi(function(a,b){return wi({},jv,a,b)}),ContactPosition:pi(ql),ContactAddress:pi(function(a,b){return wi({},kv,a,b)}),ContactVoiceTelephone:pi(ql),ContactFacsimileTelephone:pi(ql),ContactElectronicMailAddress:pi(ql)}),jv=ui(ev,{ContactPerson:pi(ql),ContactOrganization:pi(ql)}),kv=ui(ev,{AddressType:pi(ql),Address:pi(ql),City:pi(ql),StateOrProvince:pi(ql),PostCode:pi(ql),Country:pi(ql)}),lv=ui(ev,{Format:mi(ql)}),mv=ui(ev,{Name:pi(ql),Title:pi(ql),Abstract:pi(ql),KeywordList:pi(Yn),CRS:oi(ql),EX_GeographicBoundingBox:pi(function(a,b){var c=wi({},ov,a,b);if(c){var d=c.westBoundLongitude,e=c.southBoundLatitude,f=c.eastBoundLongitude,c=c.northBoundLatitude;return void 0===d||void 0===e||void 0===f||void 0===c?void 0:[d,e,f,c]}}),BoundingBox:oi(function(a){var b=[nl(a.getAttribute("minx")),nl(a.getAttribute("miny")),nl(a.getAttribute("maxx")),nl(a.getAttribute("maxy"))],c=[nl(a.getAttribute("resx")),nl(a.getAttribute("resy"))];return{crs:a.getAttribute("CRS"),extent:b,res:c}}),Dimension:oi(function(a){return{name:a.getAttribute("name"),units:a.getAttribute("units"),unitSymbol:a.getAttribute("unitSymbol"),default:a.getAttribute("default"),multipleValues:kl(a.getAttribute("multipleValues")),nearestValue:kl(a.getAttribute("nearestValue")),current:kl(a.getAttribute("current")),values:ql(a)}}),Attribution:pi(function(a,b){return wi({},nv,a,b)}),AuthorityURL:oi(function(a,b){var c=Vn(a,b);if(c)return c.name=a.getAttribute("name"),c}),Identifier:oi(ql),MetadataURL:oi(function(a,b){var c=Vn(a,b);if(c)return c.type=a.getAttribute("type"),c}),DataURL:oi(Vn),FeatureListURL:oi(Vn),Style:oi(function(a,b){return wi({},tv,a,b)}),MinScaleDenominator:pi(ml),MaxScaleDenominator:pi(ml),Layer:oi(function(a,b){var c=b[b.length-1],d=wi({},mv,a,b);if(d){var e=kl(a.getAttribute("queryable"));return void 0===e&&(e=c.queryable),d.queryable=void 0!==e&&e,e=pl(a.getAttribute("cascaded")),void 0===e&&(e=c.cascaded),d.cascaded=e,e=kl(a.getAttribute("opaque")),void 0===e&&(e=c.opaque),d.opaque=void 0!==e&&e,e=kl(a.getAttribute("noSubsets")),void 0===e&&(e=c.noSubsets),d.noSubsets=void 0!==e&&e,(e=nl(a.getAttribute("fixedWidth")))||(e=c.fixedWidth),d.fixedWidth=e,(e=nl(a.getAttribute("fixedHeight")))||(e=c.fixedHeight),d.fixedHeight=e,["Style","CRS","AuthorityURL"].forEach(function(a){a in c&&(d[a]=(d[a]||[]).concat(c[a]))}),"EX_GeographicBoundingBox BoundingBox Dimension Attribution MinScaleDenominator MaxScaleDenominator".split(" ").forEach(function(a){a in d||(d[a]=c[a])}),d}})}),nv=ui(ev,{Title:pi(ql),OnlineResource:pi(jn),LogoURL:pi(Xn)}),ov=ui(ev,{westBoundLongitude:pi(ml),eastBoundLongitude:pi(ml),southBoundLatitude:pi(ml),northBoundLatitude:pi(ml)}),pv=ui(ev,{GetCapabilities:pi(Wn),GetMap:pi(Wn),GetFeatureInfo:pi(Wn)}),qv=ui(ev,{Format:oi(ql),DCPType:oi(function(a,b){return wi({},rv,a,b)})}),rv=ui(ev,{HTTP:pi(function(a,b){return wi({},sv,a,b)})}),sv=ui(ev,{Get:pi(Vn),Post:pi(Vn)}),tv=ui(ev,{Name:pi(ql),Title:pi(ql),Abstract:pi(ql),LegendURL:oi(Xn),StyleSheetURL:pi(Vn),StyleURL:pi(Vn)}),uv=ui(ev,{Format:pi(ql),OnlineResource:pi(jn)}),vv=ui(ev,{Keyword:mi(ql)});m(Zn,fl),Zn.prototype.gc=function(a,b){var c={};b&&Aq(c,Ck(this,a,b));var d=[c];a.setAttribute("namespaceURI",this.g);var e=a.localName,c=[];if(0!==a.childNodes.length){if("msGMLOutput"==e)for(var f=0,g=a.childNodes.length;f<g;f++){var h=a.childNodes[f];if(1===h.nodeType){var i=d[0],j=h.localName.replace("_layer","");if(!this.c||$(this.c,j)){j+="_feature",i.featureType=j,i.featureNS=this.g;var k={};k[j]=mi(this.b.Ef,this.b),i=ui([i.featureNS,null],k),h.setAttribute("namespaceURI",this.g),(h=wi([],i,h,d,this.b))&&ba(c,h)}}}"FeatureCollection"==e&&(d=wi([],this.b.b,a,[{}],this.b))&&(c=d)}return c},m($n,kn),$n.prototype.a=function(a){for(a=a.firstChild;a;a=a.nextSibling)if(1==a.nodeType)return this.b(a);return null},$n.prototype.b=function(a){var b=a.getAttribute("version").trim(),c=this.g.b(a);return c?(c.version=b,(c=wi(c,yv,a,[]))?c:null):null};var wv=[null,"http://www.opengis.net/wmts/1.0"],xv=[null,"http://www.opengis.net/ows/1.1"],yv=ui(wv,{Contents:pi(function(a,b){return wi({},zv,a,b)})}),zv=ui(wv,{Layer:oi(function(a,b){return wi({},Av,a,b)}),TileMatrixSet:oi(function(a,b){return wi({},Fv,a,b)})}),Av=ui(wv,{Style:oi(function(a,b){var c=wi({},Bv,a,b);if(c){var d="true"===a.getAttribute("isDefault");return c.isDefault=d,c}}),Format:oi(ql),TileMatrixSetLink:oi(function(a,b){return wi({},Cv,a,b)}),Dimension:oi(function(a,b){return wi({},Dv,a,b)}),ResourceURL:oi(function(a){var b=a.getAttribute("format"),c=a.getAttribute("template");a=a.getAttribute("resourceType");var d={};return b&&(d.format=b),c&&(d.template=c),a&&(d.resourceType=a),d})},ui(xv,{Title:pi(ql),Abstract:pi(ql),WGS84BoundingBox:pi(function(a,b){var c=wi([],Ev,a,b);return 2!=c.length?void 0:ya(c)}),Identifier:pi(ql)})),Bv=ui(wv,{LegendURL:oi(function(a){var b={};return b.format=a.getAttribute("format"),b.href=jn(a),b})},ui(xv,{Title:pi(ql),Identifier:pi(ql)})),Cv=ui(wv,{TileMatrixSet:pi(ql)}),Dv=ui(wv,{Default:pi(ql),Value:oi(ql)},ui(xv,{Identifier:pi(ql)})),Ev=ui(xv,{LowerCorner:mi(_n),UpperCorner:mi(_n)}),Fv=ui(wv,{WellKnownScaleSet:pi(ql),TileMatrix:oi(function(a,b){return wi({},Gv,a,b)})},ui(xv,{SupportedCRS:pi(ql),Identifier:pi(ql)})),Gv=ui(wv,{TopLeftCorner:pi(_n),ScaleDenominator:pi(ml),TileWidth:pi(ol),TileHeight:pi(ol),MatrixWidth:pi(ol),MatrixHeight:pi(ol)},ui(xv,{Identifier:pi(ql)}));m(ao,W),iq=ao.prototype,iq.fa=function(){this.ae(!1),ao.ia.fa.call(this)},iq.Jl=function(){var a=this.Wg();a&&(this.c=qb(nb("EPSG:4326"),a),this.a&&this.set("position",this.c(this.a)))},iq.Kl=function(){if(vr){var a=this.Xg();a&&void 0===this.f?this.f=qq.navigator.geolocation.watchPosition(this.ko.bind(this),this.lo.bind(this),this.Hg()):a||void 0===this.f||(qq.navigator.geolocation.clearWatch(this.f),this.f=void 0)}},iq.ko=function(a){a=a.coords,this.set("accuracy",a.accuracy),this.set("altitude",null===a.altitude?void 0:a.altitude),this.set("altitudeAccuracy",null===a.altitudeAccuracy?void 0:a.altitudeAccuracy),this.set("heading",null===a.heading?void 0:t(a.heading)),this.a?(this.a[0]=a.longitude,this.a[1]=a.latitude):this.a=[a.longitude,a.latitude];var b=this.c(this.a);this.set("position",b),this.set("speed",null===a.speed?void 0:a.speed),a=qc(Yr,this.a,a.accuracy),a.mc(this.c),this.set("accuracyGeometry",a),this.u()},iq.lo=function(a){a.type="error",this.ae(!1),this.b(a)},iq.Ij=function(){return this.get("accuracy")},iq.Jj=function(){return this.get("accuracyGeometry")||null},iq.Lj=function(){return this.get("altitude")},iq.Mj=function(){return this.get("altitudeAccuracy")},iq.Hl=function(){return this.get("heading")},iq.Il=function(){return this.get("position")},iq.Wg=function(){return this.get("projection")},iq.sk=function(){return this.get("speed")},iq.Xg=function(){return this.get("tracking")},iq.Hg=function(){return this.get("trackingOptions")},iq.Yg=function(a){this.set("projection",a)},iq.ae=function(a){this.set("tracking",a)},iq.mi=function(a){this.set("trackingOptions",a)},m(bo,Kb),iq=bo.prototype,iq.clone=function(){var a=new bo(null),b=this.A.slice();return Mb(a,this.f,b),a.u(),a},iq.rb=function(a,b,c,d){var e=this.A;a-=e[0];var f=b-e[1];if(b=a*a+f*f,b<d){if(0===b)for(d=0;d<this.a;++d)c[d]=e[d];else for(d=this.sf()/Math.sqrt(b),c[0]=e[0]+d*a,c[1]=e[1]+d*f,d=2;d<this.a;++d)c[d]=e[d];return c.length=this.a,b}return d},iq.wc=function(a,b){var c=this.A,d=a-c[0],c=b-c[1];return d*d+c*c<=co(this)},iq.ld=function(){return this.A.slice(0,this.a)},iq.Jd=function(a){var b=this.A,c=b[this.a]-b[0];return Ha(b[0]-c,b[1]-c,b[0]+c,b[1]+c,a)},iq.sf=function(){return Math.sqrt(co(this))},iq.X=function(){return"Circle"},iq.Ia=function(a){var b=this.O();return!!Za(a,b)&&(b=this.ld(),a[0]<=b[0]&&a[2]>=b[0]||a[1]<=b[1]&&a[3]>=b[1]||Oa(a,this.og,this))},iq.dm=function(a){var b=this.a,c=this.A[b]-this.A[0],d=a.slice();for(d[b]=d[0]+c,c=1;c<b;++c)d[b+c]=a[c];Mb(this,this.f,d),this.u()},iq.Rf=function(a,b,c){if(a){Nb(this,c,a,0),this.A||(this.A=[]),c=this.A,a=Vb(c,a),c[a++]=c[0]+b;var d;for(b=1,d=this.a;b<d;++b)c[a++]=c[b];c.length=a}else Mb(this,"XY",null);this.u()},iq.em=function(a){this.A[this.a]=this.A[0]+a,this.u()};var Hv=new _g({color:"rgba(0,0,0,0.2)"}),Iv=[90,45,30,20,10,5,2,1,.5,.2,.1,.05,.01,.005,.002,.001];iq=ho.prototype,iq.Ll=function(){return this.o},iq.ek=function(){return this.b},iq.lk=function(){return this.a},iq.Mg=function(a){var b=a.vectorContext,c=a.frameState,d=c.extent;a=c.viewState;var e=a.center,f=a.projection,g=a.resolution;if(a=c.pixelRatio,a=g*g/(4*a*a),!this.c||!ob(this.c,f)){var h=nb("EPSG:4326"),i=f.O(),j=f.i,k=ub(j,h,f),l=j[2],m=j[1],n=j[0],o=k[3],p=k[2],r=k[1],k=k[0];this.i=j[3],this.g=l,this.l=m,this.f=n,this.U=o,this.B=p,this.M=r,this.N=k,this.j=pb(h,f),this.v=pb(f,h),this.s=this.v(Sa(i)),this.c=f}for(h=0,f.a&&(f=f.O(),h=Ya(f),c=c.focus[0],c<f[0]||c>f[2])&&(h*=Math.ceil((f[0]-c)/h),d=[d[0]+h,d[1],d[2]+h,d[3]]),c=this.s[0],f=this.s[1],h=-1,j=Math.pow(this.ya*g,2),l=[],m=[],g=0,i=Iv.length;g<i&&(n=Iv[g]/2,l[0]=c-n,l[1]=f-n,m[0]=c+n,m[1]=f+n,this.j(l,l),this.j(m,m),n=Math.pow(m[0]-l[0],2)+Math.pow(m[1]-l[1],2),!(n<=j));++g)h=Iv[g];if(g=h,-1==g)this.b.length=this.a.length=0;else{for(c=this.v(e),e=c[0],c=c[1],f=this.R,h=[Math.max(d[0],this.N),Math.max(d[1],this.M),Math.min(d[2],this.B),Math.min(d[3],this.U)],h=ub(h,this.c,"EPSG:4326"),j=h[3],m=h[1],e=Math.floor(e/g)*g,l=q(e,this.f,this.g),i=io(this,l,m,j,a,d,0),h=0;l!=this.f&&h++<f;)l=Math.max(l-g,this.f),i=io(this,l,m,j,a,d,i);for(l=q(e,this.f,this.g),h=0;l!=this.g&&h++<f;)l=Math.min(l+g,this.g),i=io(this,l,m,j,a,d,i);for(this.b.length=i,c=Math.floor(c/g)*g,e=q(c,this.l,this.i),i=jo(this,e,a,d,0),h=0;e!=this.l&&h++<f;)e=Math.max(e-g,this.l),i=jo(this,e,a,d,i);for(e=q(c,this.l,this.i),h=0;e!=this.i&&h++<f;)e=Math.min(e+g,this.i),i=jo(this,e,a,d,i);this.a.length=i}for(b.Ob(null,this.va),a=0,e=this.b.length;a<e;++a)g=this.b[a],b.cd(g,null);for(a=0,e=this.a.length;a<e;++a)g=this.a[a],b.cd(g,null)},iq.setMap=function(a){this.o&&(this.o.G("postcompose",this.Mg,this),this.o.render()),a&&(a.D("postcompose",this.Mg,this),a.render()),this.o=a},m(ko,gf),ko.prototype.a=function(a){if(void 0!==a){var b;return a=i(a),a in this.i?this.i[a]:(b=B(this.i)?this.g:this.g.cloneNode(!1),this.i[a]=b)}return this.g},ko.prototype.s=function(){this.state=3,this.c.forEach(K),this.c=null,hf(this)},ko.prototype.v=function(){void 0===this.resolution&&(this.resolution=Ua(this.extent)/this.g.height),this.state=2,this.c.forEach(K),this.c=null,hf(this)},ko.prototype.load=function(){0==this.state&&(this.state=1,hf(this),this.c=[I(this.g,"error",this.s,this),I(this.g,"load",this.v,this)],this.o(this,this.j))},m(lo,Id),iq=lo.prototype,iq.fa=function(){1==this.state&&mo(this),this.a&&N(this.a),this.state=5,Jd(this),lo.ia.fa.call(this)},iq.ab=function(a){if(void 0!==a){var b=i(a);return b in this.c?this.c[b]:(a=B(this.c)?this.g:this.g.cloneNode(!1),this.c[b]=a)}return this.g},iq.gb=function(){return this.s},iq.Ml=function(){this.state=3,mo(this),Jd(this)},iq.Nl=function(){this.state=this.g.naturalWidth&&this.g.naturalHeight?2:4,mo(this),Jd(this)},iq.load=function(){0==this.state&&(this.state=1,Jd(this),this.j=[I(this.g,"error",this.Ml,this),I(this.g,"load",this.Nl,this)],this.v(this,this.s))},m(no,Pf),no.prototype.o=function(a,b){var c=b.target.result,d=this.v,e=this.j;e||(e=d.aa().i);var f,g,d=this.c,h=[];for(f=0,g=d.length;f<g;++f){var i=new d[f],j={featureProjection:e};try{h=i.Ca(c,j)}catch(a){h=null}if(h&&0<h.length)break}this.b(new qo(Jv,this,a,h,e))},no.prototype.setMap=function(a){this.a&&(this.a.forEach(K),this.a=null),no.ia.setMap.call(this,a),a&&(a=this.target?this.target:a.a,this.a=[H(a,"drop",oo,this),H(a,"dragenter",po,this),H(a,"dragover",po,this),H(a,"drop",po,this)])};var Jv="addfeatures";m(qo,O),m(ro,cg),m(vo,O),m(wo,cg),iq=wo.prototype,iq.setMap=function(a){wo.ia.setMap.call(this,a),this.ti()},iq.Ko=function(){var a,b,c=this.j.W();this.c===Lv?(a=this.a,a.splice(-2,1),this.N(a,c)):this.c===Mv&&(a=this.a[0],a.splice(-2,1),b=this.B.W(),b.ma(a),this.N(this.a,c)),0===a.length&&(this.s=null),Go(this)},iq.dd=function(){var a=Fo(this),b=this.a,c=a.W();this.c===Lv?(b.pop(),this.N(b,c)):this.c===Mv&&(b[0].pop(),b[0].push(b[0][0]),this.N(b,c)),"MultiPoint"===this.Y?a.Ta(new Pk([b])):"MultiLineString"===this.Y?a.Ta(new Mk([b])):"MultiPolygon"===this.Y&&a.Ta(new Qk([b])),this.b(new vo("drawend",a)),this.pb&&this.pb.push(a),this.Cc&&this.Cc.qb(a)},iq.lm=function(a){var b=a.W();this.j=a,this.a=b.Z(),a=this.a[this.a.length-1],this.s=a.slice(),this.a.push(a.slice()),Go(this),this.b(new vo("drawstart",this.j))},iq.Bc=cb,iq.ti=function(){var a=this.v,b=this.f();a&&b||Fo(this),this.na.setMap(b?a:null)};var Kv="Point",Lv="LineString",Mv="Polygon",Nv="Circle";m(Io,O),m(Jo,cg),iq=Jo.prototype,iq.tf=function(a){var b=a.W();b.X()in this.wa&&this.wa[b.X()].call(this,a,b),(b=this.v)&&To(this,this.na,b),H(a,"change",this.eh,this)},iq.setMap=function(a){this.S.setMap(a),Jo.ia.setMap.call(this,a)},iq.mm=function(a){this.tf(a.element)},iq.eh=function(a){this.s||(a=a.target,Lo(this,a),this.tf(a))},iq.nm=function(a){Lo(this,a.element)},iq.sm=function(a,b){var c=b.Z(),c={feature:a,geometry:b,la:[c,c]};this.a.za(b.O(),c)},iq.qm=function(a,b){var c,d,e,f=b.Z();for(d=0,e=f.length;d<e;++d)c=f[d],c={feature:a,geometry:b,depth:[d],index:d,la:[c,c]},this.a.za(b.O(),c)},iq.fh=function(a,b){var c,d,e,f,g=b.Z();for(c=0,d=g.length-1;c<d;++c)e=g.slice(c,c+2),f={feature:a,geometry:b,index:c,la:e},this.a.za(ya(e),f)},iq.pm=function(a,b){var c,d,e,f,g,h,i,j=b.Z();for(f=0,g=j.length;f<g;++f)for(c=j[f],d=0,e=c.length-1;d<e;++d)h=c.slice(d,d+2),i={feature:a,geometry:b,depth:[f],index:d,la:h},this.a.za(ya(h),i)},iq.tm=function(a,b){var c,d,e,f,g,h,i,j=b.Z();for(f=0,g=j.length;f<g;++f)for(c=j[f],d=0,e=c.length-1;d<e;++d)h=c.slice(d,d+2),i={feature:a,geometry:b,depth:[f],index:d,la:h},this.a.za(ya(h),i)},iq.rm=function(a,b){var c,d,e,f,g,h,i,j,k,l,m=b.Z();for(h=0,i=m.length;h<i;++h)for(j=m[h],f=0,g=j.length;f<g;++f)for(c=j[f],d=0,e=c.length-1;d<e;++d)k=c.slice(d,d+2),l={feature:a,geometry:b,depth:[f,h],index:d,la:k},this.a.za(ya(k),l)},iq.om=function(a,b){var c,d=b.c;for(c=0;c<d.length;++c)this.wa[d[c].X()].call(this,a,d[c])},iq.jl=function(a,b){for(var c,d=a.la,e=a.feature,f=a.geometry,g=a.depth,h=a.index;b.length<f.ua();)b.push(0);switch(f.X()){case"MultiLineString":c=f.Z(),c[g[0]].splice(h+1,0,b);break;case"Polygon":c=f.Z(),c[g[0]].splice(h+1,0,b);break;case"MultiPolygon":c=f.Z(),c[g[1]][g[0]].splice(h+1,0,b);break;case"LineString":c=f.Z(),c.splice(h+1,0,b);break;default:return}this.s=!0,f.ma(c),this.s=!1,c=this.a,c.remove(a),Uo(this,f,h,g,1);var i={la:[d[0],b],feature:e,geometry:f,depth:g,index:h};c.za(ya(i.la),i),this.j.push([i,1]),d={la:[b,d[1]],feature:e,geometry:f,depth:g,index:h+1},c.za(ya(d.la),d),this.j.push([d,0]),this.T=!0},iq.Wh=function(){var a=!1;if(this.Y&&this.Y.type!=Or){var b=this.Y;Ko(this,b);var c,d,e,f,g,h,j,k,l,m=this.j,a={};for(f=m.length-1;0<=f;--f)e=m[f],j=e[0],k=i(j.feature),j.depth&&(k+="-"+j.depth.join("-")),k in a||(a[k]={}),0===e[1]?(a[k].right=j,a[k].index=j.index):1==e[1]&&(a[k].left=j,a[k].index=j.index+1);for(k in a){switch(h=a[k].right,f=a[k].left,e=a[k].index,g=e-1,j=void 0!==f?f:h,0>g&&(g=0),m=j.geometry,c=d=m.Z(),l=!1,m.X()){case"MultiLineString":2<d[j.depth[0]].length&&(d[j.depth[0]].splice(e,1),l=!0);break;case"LineString":2<d.length&&(d.splice(e,1),l=!0);break;case"MultiPolygon":c=c[j.depth[1]];case"Polygon":c=c[j.depth[0]],4<c.length&&(e==c.length-1&&(e=0),c.splice(e,1),l=!0,0===e&&(c.pop(),c.push(c[0]),g=c.length-1))}l&&(c=m,this.s=!0,c.ma(d),this.s=!1,d=[],void 0!==f&&(this.a.remove(f),d.push(f.la[0])),void 0!==h&&(this.a.remove(h),d.push(h.la[1])),void 0!==f&&void 0!==h&&(f={depth:j.depth,feature:j.feature,geometry:j.geometry,index:g,la:d},this.a.za(ya(f.la),f)),Uo(this,m,e,j.depth,-1),this.c&&(this.S.da().kb(this.c),this.c=null))}a=!0,this.b(new Io("modifyend",this.B,b)),this.N=!1}return a},m(Wo,O),m(Xo,Pf),iq=Xo.prototype,iq.vm=function(){return this.c.da().c},iq.wm=function(a){return a=i(a),this.a[a]},iq.setMap=function(a){var b=this.v,c=this.c.da().c;b&&c.forEach(b.ri,b),Xo.ia.setMap.call(this,a),this.c.setMap(a),a&&c.forEach(a.ni,a)},iq.um=function(a){a=a.element;var b=this.v;b&&b.ni(a)},iq.xm=function(a){a=a.element;var b=this.v;b&&b.ri(a)},m($o,cg),iq=$o.prototype,iq.qb=function(a,b){var c=void 0===b||b,d=i(a),e=a.W();if(e){var f=this.wa[e.X()];f&&(this.Y[d]=e.O(Ga()),f.call(this,a,e),c&&(this.R[d]=H(e,"change",this.Gk.bind(this,a),this)))}c&&(this.N[d]=H(a,X(a.a),this.ym,this))},iq.Fj=function(a){this.qb(a)},iq.Gj=function(a){this.kb(a)},iq.gh=function(a){var b;a instanceof Qi?b=a.feature:a instanceof Oc&&(b=a.element),this.qb(b)},iq.hh=function(a){var b;a instanceof Qi?b=a.feature:a instanceof Oc&&(b=a.element),this.kb(b)},iq.ym=function(a){a=a.target,this.kb(a,!0),this.qb(a,!0)},iq.Gk=function(a){if(this.M){var b=i(a);b in this.B||(this.B[b]=a)}else this.si(a)},iq.kb=function(a,b){var c=void 0===b||b,d=i(a),e=this.Y[d];if(e){var f=this.a,g=[];for(Hi(f,e,function(b){a===b.feature&&g.push(b)}),e=g.length-1;0<=e;--e)f.remove(g[e]);c&&(U(this.R[d]),delete this.R[d])}c&&(U(this.N[d]),delete this.N[d])},iq.setMap=function(a){var b,c=this.v,d=this.ta;this.j?b=this.j:this.s&&(b=this.s.je()),c&&(d.forEach(U),d.length=0,b.forEach(this.Gj,this)),$o.ia.setMap.call(this,a),a&&(this.j?d.push(H(this.j,"add",this.gh,this),H(this.j,"remove",this.hh,this)):this.s&&d.push(H(this.s,"addfeature",this.gh,this),H(this.s,"removefeature",this.hh,this)),b.forEach(this.Fj,this))},iq.Bc=cb,iq.si=function(a){this.kb(a,!1),this.qb(a,!1)},iq.zm=function(a,b){var c,d=b.c;for(c=0;c<d.length;++c)this.wa[d[c].X()].call(this,a,d[c])},iq.ih=function(a,b){var c,d,e,f,g=b.Z();for(c=0,d=g.length-1;c<d;++c)e=g.slice(c,c+2),f={feature:a,la:e},this.a.za(ya(e),f)},iq.Am=function(a,b){var c,d,e,f,g,h,i,j=b.Z();for(f=0,g=j.length;f<g;++f)for(c=j[f],d=0,e=c.length-1;d<e;++d)h=c.slice(d,d+2),i={feature:a,la:h},this.a.za(ya(h),i)},iq.Bm=function(a,b){var c,d,e,f=b.Z();for(d=0,e=f.length;d<e;++d)c=f[d],c={feature:a,la:[c,c]},this.a.za(b.O(),c)},iq.Cm=function(a,b){var c,d,e,f,g,h,i,j,k,l,m=b.Z();for(h=0,i=m.length;h<i;++h)for(j=m[h],f=0,g=j.length;f<g;++f)for(c=j[f],d=0,e=c.length-1;d<e;++d)k=c.slice(d,d+2),l={feature:a,la:k},this.a.za(ya(k),l)},iq.Dm=function(a,b){var c=b.Z(),c={feature:a,la:[c,c]};this.a.za(b.O(),c)},iq.Em=function(a,b){var c,d,e,f,g,h,i,j=b.Z();for(f=0,g=j.length;f<g;++f)for(c=j[f],d=0,e=c.length-1;d<e;++d)h=c.slice(d,d+2),i={feature:a,la:h},this.a.za(ya(h),i)},m(cp,O),m(dp,cg),m(jp,hh);var Ov=["#00f","#0ff","#0f0","#ff0","#f00"];iq=jp.prototype,iq.ug=function(){return this.get("blur")},iq.Bg=function(){return this.get("gradient")},iq.kh=function(){return this.get("radius")},iq.Hk=function(){for(var a=this.Bg(),b=ze(1,256),c=b.createLinearGradient(0,0,1,256),d=1/(a.length-1),e=0,f=a.length;e<f;++e)c.addColorStop(e*d,a[e]);b.fillStyle=c,b.fillRect(0,0,1,256),this.f=b.getImageData(0,0,1,256).data},iq.gf=function(){var a=this.kh(),b=this.ug(),c=a+b+1,d=2*c,d=ze(d,d);d.shadowOffsetX=d.shadowOffsetY=this.ea,d.shadowBlur=b,d.shadowColor="#000",d.beginPath(),b=c-this.ea,d.arc(b,b,a,0,2*Math.PI,!0),d.fill(),this.Y=d.canvas.toDataURL(),this.c=Array(256),this.u()},iq.$k=function(a){a=a.context;var b,c,d,e=a.canvas,e=a.getImageData(0,0,e.width,e.height),f=e.data;for(b=0,c=f.length;b<c;b+=4)(d=4*f[b+3])&&(f[b]=this.f[d],f[b+1]=this.f[d+1],f[b+2]=this.f[d+2]);a.putImageData(e,0,0)},iq.Zh=function(a){this.set("blur",a)},iq.di=function(a){this.set("gradient",a)},iq.lh=function(a){this.set("radius",a)},m(lp,Id),lp.prototype.fa=function(){1==this.state&&(this.Rc.forEach(K),this.Rc=null),lp.ia.fa.call(this)},lp.prototype.ab=function(a){if(void 0!==a){var b=i(a);return b in this.c?this.c[b]:(a=B(this.c)?this.l:this.l.cloneNode(!1),this.c[b]=a)}return this.l},lp.prototype.ud=function(){var a=[];if(this.g.forEach(function(b){b&&2==b.V()&&a.push({extent:this.j.Ba(b.ja),image:b.ab()})},this),this.g.length=0,0===a.length)this.state=3;else{var b=this.U[0],c=this.v.Ha(b),d=f(c)?c:c[0],c=f(c)?c:c[1],b=this.v.$(b),e=this.j.$(this.s),g=this.v.Ba(this.U);this.l=Uh(d,c,this.N,e,this.j.O(),b,g,this.B,a,this.M,this.R),this.state=2}Jd(this)},lp.prototype.load=function(){if(0==this.state){this.state=1,Jd(this);var a=0;this.Rc=[],this.g.forEach(function(b){var c=b.V();if(0==c||1==c){a++;var d;d=H(b,"change",function(){var c=b.V();2!=c&&3!=c&&4!=c||(K(d),a--,0===a&&(this.Rc.forEach(K),this.Rc=null,this.ud()))},this),this.Rc.push(d)}},this),this.g.forEach(function(a){0==a.V()&&a.load()}),0===a&&qq.setTimeout(this.ud.bind(this),0)}},m(mp,aj),iq=mp.prototype,iq.vh=function(){if(Hd(this.a))return!0;for(var a in this.i)if(Hd(this.i[a]))return!0;return!1},iq.Gc=function(a,b){var c=this.jd(a);this.a.Gc(this.a==c?b:{});for(var d in this.i){var e=this.i[d];e.Gc(e==c?b:{})}},iq.Od=function(a){return this.f&&a&&!ob(this.f,a)?0:this.cf()},iq.cf=function(){return 0},iq.ef=function(a){return!(this.f&&a&&!ob(this.f,a))&&mp.ia.ef.call(this,a)},iq.fb=function(a){var b=this.f;return!this.tileGrid||b&&!ob(b,a)?(b=i(a).toString(),b in this.s||(this.s[b]=Zd(a)),this.s[b]):this.tileGrid},iq.jd=function(a){var b=this.f;return!b||ob(b,a)?this.a:(a=i(a).toString(),a in this.i||(this.i[a]=new Gd),this.i[a])},iq.Wb=function(a,b,c,d,e){if(this.f&&e&&!ob(this.f,e)){var f=this.jd(e);if(b=[a,b,c],a=this.Ab.apply(this,b),Dd(f,a))return f.get(a);var g=this.f;c=this.fb(g);var h=this.fb(e),i=ee(this,b,e);return d=new lp(g,c,e,h,b,i,this.Xb(d),this.cf(),function(a,b,c,d){return op(this,a,b,c,d,g)}.bind(this),this.na,this.M),f.set(a,d),d}return op(this,a,b,c,d,e)},iq.lb=function(a){if(this.M!=a){this.M=a;for(var b in this.i)this.i[b].clear();this.u()}},iq.mb=function(a,b){var c=nb(a);c&&(c=i(c).toString(),c in this.s||(this.s[c]=b))},m(qp,mp);var Pv=new Nc({html:'<a class="ol-attribution-bing-tos" href="http://www.microsoft.com/maps/product/terms.html">Terms of Use</a>'});qp.prototype.v=function(a){if(200!=a.statusCode||"OK"!=a.statusDescription||"ValidCredentials"!=a.authenticationResultCode||1!=a.resourceSets.length||1!=a.resourceSets[0].resources.length)Pd(this,"error");else{var b=a.brandLogoUri;-1==b.indexOf("https")&&(b=b.replace("http","https"));var c=a.resourceSets[0].resources[0],d=-1==this.c?c.zoomMax:this.c;a=ae(this.f);var e=$d({extent:a,minZoom:c.zoomMin,maxZoom:d,tileSize:c.imageWidth==c.imageHeight?c.imageWidth:[c.imageWidth,c.imageHeight]});this.tileGrid=e;var f=this.j;if(this.tileUrlFunction=Zi(c.imageUrlSubdomains.map(function(a){var b=[0,0,0],d=c.imageUrl.replace("{subdomain}",a).replace("{culture}",f);return function(a){if(a)return Ed(a[0],a[1],-a[2]-1,b),d.replace("{quadkey}",Fd(b))}})),c.imageryProviders){var g=qb(nb("EPSG:4326"),this.f);a=c.imageryProviders.map(function(a){var b=a.attribution,c={};return a.coverageAreas.forEach(function(a){var b=a.zoomMin,f=Math.min(a.zoomMax,d);a=a.bbox,a=ab([a[1],a[0],a[3],a[2]],g);var h,i;for(h=b;h<=f;++h)i=h.toString(),b=Ud(e,a,h),i in c?c[i].push(b):c[i]=[b]}),new Nc({html:b,tileRanges:c})}),a.push(Pv),this.ka(a)}this.R=b,Pd(this,"ready")}},m(rp,mp),m(sp,rp),iq=sp.prototype,iq.Pj=function(){return this.c},iq.op=function(a){Aq(this.c,a),tp(this)},iq.Uo=function(a){this.c=a||{},tp(this)},iq.Jk=function(a,b){var c=b.target;if(200<=c.status&&300>c.status){var d;try{d=JSON.parse(c.responseText)}catch(a){return void Pd(this,"error")}up(this,d),this.j[a]=d,Pd(this,"ready")}else Pd(this,"error")},iq.Ik=function(){Pd(this,"error")},m(vp,Ji),vp.prototype.xa=function(){return this.v},vp.prototype.Kc=function(a,b,c){this.v.Kc(a,b,c),b!==this.M&&(this.clear(),this.M=b,wp(this),this.Ec(this.B))},vp.prototype.Ra=function(){this.clear(),wp(this),this.Ec(this.B),this.u()},m(yp,Zh),iq=yp.prototype,iq.Mm=function(){return this.v},iq.Hc=function(a,b,c,d){if(void 0===this.i)return null;b=$h(this,b);var e=this.c;if(e&&this.T==this.g&&e.$()==b&&e.f==c&&Da(e.O(),a))return e;e={F:"image",FORMAT:"PNG32",TRANSPARENT:!0},Aq(e,this.v),a=a.slice();var f=(a[0]+a[2])/2,g=(a[1]+a[3])/2;if(1!=this.S){var h=this.S*Ya(a)/2,i=this.S*Ua(a)/2;a[0]=f-h,a[1]=g-i,a[2]=f+h,a[3]=g+i}var h=b/c,i=Math.ceil(Ya(a)/h),j=Math.ceil(Ua(a)/h);return a[0]=f-h*i/2,a[2]=f+h*i/2,a[1]=g-h*j/2,a[3]=g+h*j/2,this.s[0]=i,this.s[1]=j,f=a,g=this.s,d=d.eb.split(":").pop(),e.SIZE=g[0]+","+g[1],e.BBOX=f.join(","),e.BBOXSR=d,e.IMAGESR=d,e.DPI=90*c,d=this.i.replace(/MapServer\/?$/,"MapServer/export").replace(/ImageServer\/?$/,"ImageServer/exportImage"),e=Ql(Sl([d],e)),this.c=new ko(a,b,c,this.l,e,this.Y,this.j),this.T=this.g,H(this.c,"change",this.o,this),this.c},iq.Lm=function(){return this.j},iq.Nm=function(){return this.i},iq.Om=function(a){this.c=null,this.j=a,this.u()},iq.Pm=function(a){a!=this.i&&(this.i=a,this.c=null,this.u())},iq.Qm=function(a){Aq(this.v,a),this.c=null,this.u()},m(zp,Zh),iq=zp.prototype,iq.Sm=function(){return this.j},iq.Hc=function(a,b,c){b=$h(this,b),c=this.ea?c:1;var d=this.i;if(d&&this.S==this.g&&d.$()==b&&d.f==c&&Da(d.O(),a))return d;1!=this.v&&(a=a.slice(),_a(a,this.v));var e=[Ya(a)/b*c,Ua(a)/b*c];if(void 0!==this.T){var d=this.T,f=Sa(a),g=this.ta,h=Ya(a),i=Ua(a),j=e[0],k=e[1],l=.0254/this.s,e={OPERATION:this.xa?"GETDYNAMICMAPOVERLAYIMAGE":"GETMAPIMAGE",VERSION:"2.0.0",LOCALE:"en",CLIENTAGENT:"ol.source.ImageMapGuide source",CLIP:"1",SETDISPLAYDPI:this.s,SETDISPLAYWIDTH:Math.round(e[0]),SETDISPLAYHEIGHT:Math.round(e[1]),SETVIEWSCALE:k*h>j*i?h*g/(j*l):i*g/(k*l),SETVIEWCENTERX:f[0],SETVIEWCENTERY:f[1]};Aq(e,this.j),d=Ql(Sl([d],e)),d=new ko(a,b,c,this.l,d,this.Y,this.c),H(d,"change",this.o,this)}else d=null;return this.i=d,this.S=this.g,d},iq.Rm=function(){return this.c},iq.Um=function(a){Aq(this.j,a),this.u()},iq.Tm=function(a){this.i=null,this.c=a,this.u()},m(Ap,Zh),Ap.prototype.Hc=function(a){return Za(a,this.c.O())?this.c:null},Ap.prototype.o=function(a){if(2==this.c.V()){var b,c,d=this.c.O(),e=this.c.a();if(this.i?(b=this.i[0],c=this.i[1]):(b=e.width,c=e.height),d=Math.ceil(Ya(d)/(Ua(d)/c)),d!=b){var d=ze(d,c),f=d.canvas;d.drawImage(e,0,0,b,c,0,0,f.width,f.height),this.c.g=f}}Ap.ia.o.call(this,a)},m(Bp,Zh);var Qv=[101,101];iq=Bp.prototype,iq.$m=function(a,b,c,d){if(void 0!==this.j){var e=Ta(a,b,0,Qv),f={SERVICE:"WMS",VERSION:"1.3.0",REQUEST:"GetFeatureInfo",FORMAT:"image/png",TRANSPARENT:!0,QUERY_LAYERS:this.i.LAYERS};return Aq(f,this.i,d),d=Math.floor((e[3]-a[1])/b),f[this.v?"I":"X"]=Math.floor((a[0]-e[0])/b),f[this.v?"J":"Y"]=d,Cp(this,e,Qv,1,nb(c),f)}},iq.bn=function(){return this.i},iq.Hc=function(a,b,c,d){if(void 0===this.j)return null;b=$h(this,b),1==c||this.xa&&void 0!==this.ea||(c=1),
a=a.slice();var e=(a[0]+a[2])/2,f=(a[1]+a[3])/2,g=b/c,h=Ya(a)/g,g=Ua(a)/g,i=this.c;if(i&&this.Y==this.g&&i.$()==b&&i.f==c&&Da(i.O(),a))return i;if(1!=this.s){var i=this.s*Ya(a)/2,j=this.s*Ua(a)/2;a[0]=e-i,a[1]=f-j,a[2]=e+i,a[3]=f+j}return e={SERVICE:"WMS",VERSION:"1.3.0",REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:!0},Aq(e,this.i),this.T[0]=Math.ceil(h*this.s),this.T[1]=Math.ceil(g*this.s),d=Cp(this,a,this.T,c,d,e),this.c=new ko(a,b,c,this.l,d,this.ta,this.S),this.Y=this.g,H(this.c,"change",this.o,this),this.c},iq.an=function(){return this.S},iq.cn=function(){return this.j},iq.dn=function(a){this.c=null,this.S=a,this.u()},iq.en=function(a){a!=this.j&&(this.j=a,this.c=null,this.u())},iq.fn=function(a){Aq(this.i,a),Dp(this),this.c=null,this.u()},m(Ep,rp);var Rv=new Nc({html:'&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors.'});m(Fp,rp);var Sv=new Nc({html:'Tiles Courtesy of <a href="http://www.mapquest.com/">MapQuest</a>'}),Tv={osm:{maxZoom:19,opaque:!0,attributions:[Sv,Rv]},sat:{maxZoom:18,opaque:!0,attributions:[Sv,new Nc({html:"Portions Courtesy NASA/JPL-Caltech and U.S. Depart. of Agriculture, Farm Service Agency"})]},hyb:{maxZoom:18,opaque:!1,attributions:[Sv,Rv]}};Fp.prototype.j=function(){return this.c},function(){var a={},b={ha:a};!function(c){if("object"==typeof a&&"undefined"!=typeof b)b.ha=c();else{var d;d="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,d.Np=c()}}(function(){return function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);throw i=Error("Cannot find module '"+g+"'"),i.code="MODULE_NOT_FOUND",i}i=c[g]={ha:{}},b[g][0].call(i.ha,function(a){var c=b[g][1][a];return e(c?c:a)},i,i.ha,a,b,c,d)}return c[g].ha}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){a=a("./processor"),c.Vi=a},{"./processor":2}],2:[function(a,b){function c(a){var b=!0;try{new ImageData(10,10)}catch(a){b=!1}return function(c){var d=c.buffers,e=c.meta,f=c.width,g=c.height,h=d.length,i=d[0].byteLength;if(c.imageOps){for(i=Array(h),c=0;c<h;++c){var j,k=i,l=c;j=new Uint8ClampedArray(d[c]);var m=f,n=g;j=b?new ImageData(j,m,n):{data:j,width:m,height:n},k[l]=j}f=a(i,e).data}else{for(f=new Uint8ClampedArray(i),g=Array(h),k=Array(h),c=0;c<h;++c)g[c]=new Uint8ClampedArray(d[c]),k[c]=[0,0,0,0];for(d=0;d<i;d+=4){for(c=0;c<h;++c)l=g[c],k[c][0]=l[d],k[c][1]=l[d+1],k[c][2]=l[d+2],k[c][3]=l[d+3];c=a(k,e),f[d]=c[0],f[d+1]=c[1],f[d+2]=c[2],f[d+3]=c[3]}}return f.buffer}}function d(a,b){var d=Object.keys(a.lib||{}).map(function(b){return"var "+b+" = "+a.lib[b].toString()+";"}).concat(["var __minion__ = ("+c.toString()+")(",a.operation.toString(),");",'self.addEventListener("message", function(event) {',"  var buffer = __minion__(event.data);","  self.postMessage({buffer: buffer, meta: event.data.meta}, [buffer]);","});"]),d=URL.createObjectURL(new Blob(d,{type:"text/javascript"})),d=new Worker(d);return d.addEventListener("message",b),d}function e(a,b){var d=c(a.operation);return{postMessage:function(a){setTimeout(function(){b({data:{buffer:d(a),meta:a.meta}})},0)}}}function f(a){this.Ne=!!a.hl;var b;b=0===a.threads?0:this.Ne?1:a.threads||1;var c=[];if(b)for(var f=0;f<b;++f)c[f]=d(a,this.eg.bind(this,f));else c[0]=e(a,this.eg.bind(this,0));this.Gd=c,this.Vc=[],this.jj=a.oo||1/0,this.Ed=0,this.Dc={},this.Oe=null}var g=a("./util").Bl;f.prototype.mo=function(a,b,c){this.gj({vc:a,Sg:b,mg:c}),this.bg()},f.prototype.gj=function(a){for(this.Vc.push(a);this.Vc.length>this.jj;)this.Vc.shift().mg(null,null)},f.prototype.bg=function(){if(0===this.Ed&&0<this.Vc.length){var a=this.Oe=this.Vc.shift(),b=a.vc[0].width,c=a.vc[0].height,d=a.vc.map(function(a){return a.data.buffer}),e=this.Gd.length;if(this.Ed=e,1===e)this.Gd[0].postMessage({buffers:d,meta:a.Sg,imageOps:this.Ne,width:b,height:c},d);else for(var f=4*Math.ceil(a.vc[0].data.length/4/e),g=0;g<e;++g){for(var h=g*f,i=[],j=0,k=d.length;j<k;++j)i.push(d[g].slice(h,h+f));this.Gd[g].postMessage({buffers:i,meta:a.Sg,imageOps:this.Ne,width:b,height:c},i)}}},f.prototype.eg=function(a,b){this.Jp||(this.Dc[a]=b.data,--this.Ed,0===this.Ed&&this.kj())},f.prototype.kj=function(){var a,b,c=this.Oe,d=this.Gd.length;if(1===d)a=new Uint8ClampedArray(this.Dc[0].buffer),b=this.Dc[0].meta;else{var e=c.vc[0].data.length;a=new Uint8ClampedArray(e),b=Array(e);for(var e=4*Math.ceil(e/4/d),f=0;f<d;++f){var h=f*e;a.set(new Uint8ClampedArray(this.Dc[f].buffer),h),b[f]=this.Dc[f].meta}}this.Oe=null,this.Dc={},c.mg(null,g(a,c.vc[0].width,c.vc[0].height),b),this.bg()},b.ha=f},{"./util":3}],3:[function(a,b,c){var d=!0;try{new ImageData(10,10)}catch(a){d=!1}var e=document.createElement("canvas").getContext("2d");c.Bl=function(a,b,c){return d?new ImageData(a,b,c):(b=e.createImageData(b,c),b.data.set(a),b)}},{}]},{},[1])(1)}),ss=b.ha}(),m(Gp,Zh),Gp.prototype.v=function(a,b){this.S=new ss.Vi({operation:a,hl:"image"===this.xa,oo:1,lib:b,threads:this.Ra}),this.u()},Gp.prototype.B=function(a,b,c,d){c=!0;for(var e,f=0,g=this.c.length;f<g;++f)if(e=this.c[f].a.da(),"ready"!==e.V()){c=!1;break}if(!c)return null;if(a=a.slice(),!Hp(this,a,b))return this.j;c=this.i.canvas,e=Math.round(Ya(a)/b),f=Math.round(Ua(a)/b),e===c.width&&f===c.height||(c.width=e,c.height=f),e=Aq({},this.Y),e.viewState=Aq({},e.viewState);var f=Sa(a),g=Math.round(Ya(a)/b),h=Math.round(Ua(a)/b);return e.extent=a,e.focus=Sa(a),e.size[0]=g,e.size[1]=h,g=e.viewState,g.center=f,g.projection=d,g.resolution=b,this.j=d=new Rh(a,b,1,this.l,c,this.T.bind(this,e)),this.s={extent:a,resolution:b,Ro:this.g},d},Gp.prototype.T=function(a,b){for(var c=this.c.length,d=Array(c),e=0;e<c;++e){var f;f=this.c[e];var g=a,h=a.layerStatesArray[e];if(f.l(g,h)){var i=g.size[0],j=g.size[1];if(Uv){var k=Uv.canvas;k.width!==i||k.height!==j?Uv=ze(i,j):Uv.clearRect(0,0,i,j)}else Uv=ze(i,j);f.i(g,h,Uv),f=Uv.getImageData(0,0,i,j)}else f=null;if(!f)return;d[e]=f}c={},this.b(new Kp(Vv,a,c)),this.S.mo(d,c,this.ta.bind(this,a,b)),Mf(a.tileQueue,16,16)},Gp.prototype.ta=function(a,b,c,d,e){c?b(c):d&&(this.b(new Kp(Wv,a,e)),Hp(this,a.extent,a.viewState.resolution/a.pixelRatio)||this.i.putImageData(d,0,0),b(null))};var Uv=null;m(Kp,O);var Vv="beforeoperations",Wv="afteroperations",Xv={terrain:{sb:"jpg",opaque:!0},"terrain-background":{sb:"jpg",opaque:!0},"terrain-labels":{sb:"png",opaque:!1},"terrain-lines":{sb:"png",opaque:!1},"toner-background":{sb:"png",opaque:!0},toner:{sb:"png",opaque:!0},"toner-hybrid":{sb:"png",opaque:!1},"toner-labels":{sb:"png",opaque:!1},"toner-lines":{sb:"png",opaque:!1},"toner-lite":{sb:"png",opaque:!0},watercolor:{sb:"jpg",opaque:!0}},Yv={terrain:{minZoom:4,maxZoom:18},toner:{minZoom:0,maxZoom:20},watercolor:{minZoom:1,maxZoom:16}};m(Lp,rp);var Zv=[new Nc({html:'Map tiles by <a href="http://stamen.com/">Stamen Design</a>, under <a href="http://creativecommons.org/licenses/by/3.0/">CC BY 3.0</a>.'}),Rv];m(Mp,mp),Mp.prototype.v=function(){return this.c},Mp.prototype.Xb=function(a){return a},Mp.prototype.qc=function(a,b,c){var d=this.tileGrid;if(d||(d=this.fb(c)),!(d.b.length<=a[0])){var e=d.Ba(a,this.j),f=Md(d.Ha(a[0]),this.o);1!=b&&(f=Ld(f,b,this.o)),d={F:"image",FORMAT:"PNG32",TRANSPARENT:!0},Aq(d,this.c);var g=this.urls;return g?(c=c.eb.split(":").pop(),d.SIZE=f[0]+","+f[1],d.BBOX=e.join(","),d.BBOXSR=c,d.IMAGESR=c,d.DPI=Math.round(d.DPI?d.DPI*b:90*b),a=(1==g.length?g[0]:g[u((a[1]<<a[0])+a[2],g.length)]).replace(/MapServer\/?$/,"MapServer/export").replace(/ImageServer\/?$/,"ImageServer/exportImage"),a=Ql(Sl([a],d))):a=void 0,a}},Mp.prototype.B=function(a){Aq(this.c,a),this.u()},m(Np,Id),Np.prototype.ab=function(a){if(a=void 0!==a?i(a):-1,a in this.g)return this.g[a];var b=this.l,c=ze(b[0],b[1]);return c.strokeStyle="black",c.strokeRect(.5,.5,b[0]+.5,b[1]+.5),c.fillStyle="black",c.textAlign="center",c.textBaseline="middle",c.font="24px sans-serif",c.fillText(this.c,b[0]/2,b[1]/2),this.g[a]=c.canvas},m(Op,be),Op.prototype.Wb=function(a,b,c){var d=this.Ab(a,b,c);if(Dd(this.a,d))return this.a.get(d);var e=Md(this.tileGrid.Ha(a));return a=[a,b,c],b=(b=ee(this,a))?ee(this,b).toString():"",e=new Np(a,e,b),this.a.set(d,e),e},m(Pp,mp),iq=Pp.prototype,iq.hn=function(a){if(a=a.target,200<=a.status&&300>a.status){var b;try{b=JSON.parse(a.responseText)}catch(a){return void this.he()}this.th(b)}else this.he()},iq.gn=function(){this.he()},iq.wk=function(){return this.c},iq.th=function(a){var b,c=nb("EPSG:4326"),d=this.f;void 0!==a.bounds&&(b=ab(a.bounds,qb(c,d)));var e=a.minzoom||0,f=a.maxzoom||22;if(this.tileGrid=d=$d({extent:ae(d),maxZoom:f,minZoom:e}),this.tileUrlFunction=Yi(a.tiles,d),void 0!==a.attribution&&!this.l){c=void 0!==b?b:c.O(),b={};for(var g;e<=f;++e)g=e.toString(),b[g]=[Ud(d,c,e)];this.ka([new Nc({html:a.attribution,tileRanges:b})])}this.c=a,Pd(this,"ready")},iq.he=function(){Pd(this,"error")},m(Qp,be),iq=Qp.prototype,iq.mn=function(a){if(a=a.target,200<=a.status&&300>a.status){var b;try{b=JSON.parse(a.responseText)}catch(a){return void this.ie()}this.xf(b)}else this.ie()},iq.ln=function(){this.ie()},iq.tk=function(){return this.i},iq.Ej=function(a,b,c,d,e){this.tileGrid?(b=this.tileGrid.Td(a,b),Sp(this.Wb(b[0],b[1],b[2],1,this.f),a,c,d,e)):!0===e?ue(function(){c.call(d,null)}):c.call(d,null)},iq.ie=function(){Pd(this,"error")},iq.xf=function(a){var b,c=nb("EPSG:4326"),d=this.f;void 0!==a.bounds&&(b=ab(a.bounds,qb(c,d)));var e=a.minzoom||0,f=a.maxzoom||22;this.tileGrid=d=$d({extent:ae(d),maxZoom:f,minZoom:e}),this.i=a.template;var g=a.grids;if(g){if(this.j=Yi(g,d),void 0!==a.attribution){for(c=void 0!==b?b:c.O(),b={};e<=f;++e)g=e.toString(),b[g]=[Ud(d,c,e)];this.ka([new Nc({html:a.attribution,tileRanges:b})])}Pd(this,"ready")}else Pd(this,"error")},iq.Wb=function(a,b,c,d,e){var f=this.Ab(a,b,c);return Dd(this.a,f)?this.a.get(f):(a=[a,b,c],b=ee(this,a,e),d=this.j(b,d,e),d=new Rp(a,void 0!==d?0:4,void 0!==d?d:"",this.tileGrid.Ba(a),this.s,this.c),this.a.set(f,d),d)},iq.Uf=function(a,b,c){a=this.Ab(a,b,c),Dd(this.a,a)&&this.a.get(a)},m(Rp,Id),iq=Rp.prototype,iq.ab=function(){return null},iq.getData=function(a){if(!this.l||!this.j)return null;var b=this.l[Math.floor((1-(a[1]-this.g[1])/(this.g[3]-this.g[1]))*this.l.length)];return"string"!=typeof b?null:(b=b.charCodeAt(Math.floor((a[0]-this.g[0])/(this.g[2]-this.g[0])*b.length)),93<=b&&b--,35<=b&&b--,b-=32,a=null,b in this.j&&(b=this.j[b],a=this.c&&b in this.c?this.c[b]:b),a)},iq.gb=function(){return this.s},iq.Vd=function(){this.state=3,Jd(this)},iq.uh=function(a){this.l=a.grid,this.j=a.keys,this.c=a.data,this.state=4,Jd(this)},iq.kn=function(a){if(a=a.target,200<=a.status&&300>a.status){var b;try{b=JSON.parse(a.responseText)}catch(a){return void this.Vd()}this.uh(b)}else this.Vd()},iq.jn=function(){this.Vd()},iq.load=function(){this.U&&Tp(this)},m(Up,mp),iq=Up.prototype,iq.nn=function(a,b,c,d){c=nb(c);var e=this.tileGrid;if(e||(e=this.fb(c)),b=e.Td(a,b),!(e.b.length<=b[0])){var f=e.$(b[0]),g=e.Ba(b,this.Y),e=Md(e.Ha(b[0]),this.o),h=this.v;return 0!==h&&(e=Kd(e,h,this.o),g=za(g,f*h,g)),h={SERVICE:"WMS",VERSION:"1.3.0",REQUEST:"GetFeatureInfo",FORMAT:"image/png",TRANSPARENT:!0,QUERY_LAYERS:this.c.LAYERS},Aq(h,this.c,d),d=Math.floor((g[3]-a[1])/f),h[this.j?"I":"X"]=Math.floor((a[0]-g[0])/f),h[this.j?"J":"Y"]=d,Vp(this,b,e,g,1,c,h)}},iq.cf=function(){return this.v},iq.Ab=function(a,b,c){return this.S+Up.ia.Ab.call(this,a,b,c)},iq.pn=function(){return this.c},iq.Xb=function(a){return this.T&&void 0!==this.B?a:1},iq.qc=function(a,b,c){var d=this.tileGrid;if(d||(d=this.fb(c)),!(d.b.length<=a[0])){1==b||this.T&&void 0!==this.B||(b=1);var e=d.$(a[0]),f=d.Ba(a,this.Y),d=Md(d.Ha(a[0]),this.o),g=this.v;return 0!==g&&(d=Kd(d,g,this.o),f=za(f,e*g,f)),1!=b&&(d=Ld(d,b,this.o)),e={SERVICE:"WMS",VERSION:"1.3.0",REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:!0},Aq(e,this.c),Vp(this,a,d,f,b,c,e)}},iq.qn=function(a){Aq(this.c,a),Wp(this),Yp(this),de(this,Xp(this))},m(Zp,Qd),Zp.prototype.j=function(){return this.l},m(_p,mp),iq=_p.prototype,iq.Rj=function(){return this.c},iq.rn=function(){return this.v},iq.sn=function(){return this.B},iq.dk=function(){return this.j},iq.rk=function(){return this.Y},iq.tn=function(){return this.S},iq.yk=function(){return this.T},iq.pp=function(a){Aq(this.c,a),de(this,aq(this))},m(bq,mp),m(cq,lo),cq.prototype.ab=function(a){var b=void 0!==a?i(a).toString():"";if(b in this.l)return this.l[b];if(a=cq.ia.ab.call(this,a),2==this.state){if(256==a.width&&256==a.height)return this.l[b]=a;var c=ze(256,256);return c.drawImage(a,0,0),this.l[b]=c.canvas}return a},dq.prototype.add=function(a,b,c,d,e,f){return b+this.b>this.g||c+this.b>this.g?null:(d=eq(this,!1,a,b,c,d,f))?(a=eq(this,!0,a,b,c,void 0!==e?e:n,f),{offsetX:d.offsetX,offsetY:d.offsetY,image:d.image,Ng:a.image}):null},fq.prototype.get=function(a){return this.f[a]||null},fq.prototype.add=function(a,b,c,d,e){var f,g,h;for(g=0,h=this.a.length;g<h;++g)if(f=this.a[g],f.width>=b+this.b&&f.height>=c+this.b)return h={offsetX:f.x+this.b,offsetY:f.y+this.b,image:this.c},this.f[a]=h,d.call(e,this.g,f.x+this.b,f.y+this.b),a=g,b+=this.b,c+=this.b,e=d=void 0,f.width-b>f.height-c?(d={x:f.x+b,y:f.y,width:f.width-b,height:f.height},e={x:f.x,y:f.y+c,width:b,height:f.height-c},gq(this,a,d,e)):(d={x:f.x+b,y:f.y,width:f.width-b,height:c},e={x:f.x,y:f.y+c,width:f.width,height:f.height-c},gq(this,a,d,e)),h;return null},m(hq,vf),iq=hq.prototype,iq.Tb=function(){return this.N},iq.zn=function(){return this.l},iq.An=function(){return this.o},iq.ke=function(){return this.B},iq.ec=function(){return this.s},iq.fd=function(){return this.R},iq.od=function(){return 2},iq.Fa=function(){return this.va},iq.Bn=function(){return this.b},iq.Cn=function(){return this.g},iq.qk=function(){return this.c},iq.Bb=function(){return this.ya},iq.Dn=function(){return this.a},iq.kf=n,iq.load=n,iq.Tf=n,iq.Dh=function(a,b,c,d){var e;for(b.setTransform(1,0,0,1,0,0),b.translate(c,d),b.beginPath(),this.c!==this.g&&(this.b*=2),c=0;c<=this.b;c++)d=2*c*Math.PI/this.b-Math.PI/2+this.l,e=0===c%2?this.g:this.c,b.lineTo(a.size/2+e*Math.cos(d),a.size/2+e*Math.sin(d));this.o&&(b.fillStyle=Xc(this.o.b),b.fill()),this.a&&(b.strokeStyle=a.strokeStyle,b.lineWidth=a.wd,a.lineDash&&b.setLineDash(a.lineDash),b.lineCap=a.lineCap,b.lineJoin=a.lineJoin,b.miterLimit=a.miterLimit,b.stroke()),b.closePath()},iq.Ch=function(a,b,c,d){b.setTransform(1,0,0,1,0,0),b.translate(c,d),b.beginPath(),this.c!==this.g&&(this.b*=2);var e;for(c=0;c<=this.b;c++)e=2*c*Math.PI/this.b-Math.PI/2+this.l,d=0===c%2?this.g:this.c,b.lineTo(a.size/2+d*Math.cos(e),a.size/2+d*Math.sin(e));b.fillStyle=as,b.fill(),this.a&&(b.strokeStyle=a.strokeStyle,b.lineWidth=a.wd,a.lineDash&&b.setLineDash(a.lineDash),b.stroke()),b.closePath()},a("ol.animation.bounce",function(a){var b=a.resolution,c=a.start?a.start:Date.now(),d=void 0!==a.duration?a.duration:1e3,e=a.easing?a.easing:Fc;return function(a,f){if(f.time<c)return f.animate=!0,f.viewHints[0]+=1,!0;if(f.time<c+d){var g=e((f.time-c)/d),h=b-f.viewState.resolution;return f.animate=!0,f.viewState.resolution+=g*h,f.viewHints[0]+=1,!0}return!1}},mq),a("ol.animation.pan",Gc,mq),a("ol.animation.rotate",Hc,mq),a("ol.animation.zoom",Ic,mq),a("ol.Attribution",Nc,mq),Nc.prototype.getHTML=Nc.prototype.g,Oc.prototype.element=Oc.prototype.element,a("ol.Collection",Pc,mq),Pc.prototype.clear=Pc.prototype.clear,Pc.prototype.extend=Pc.prototype.lf,Pc.prototype.forEach=Pc.prototype.forEach,Pc.prototype.getArray=Pc.prototype.Cl,Pc.prototype.item=Pc.prototype.item,Pc.prototype.getLength=Pc.prototype.Zb,Pc.prototype.insertAt=Pc.prototype.Zd,Pc.prototype.pop=Pc.prototype.pop,Pc.prototype.push=Pc.prototype.push,Pc.prototype.remove=Pc.prototype.remove,Pc.prototype.removeAt=Pc.prototype.Nf,Pc.prototype.setAt=Pc.prototype.To,a("ol.colorlike.asColorLike",Xc,mq),a("ol.coordinate.add",pa,mq),a("ol.coordinate.createStringXY",function(a){return function(b){return xa(b,a)}},mq),a("ol.coordinate.format",sa,mq),a("ol.coordinate.rotate",ua,mq),a("ol.coordinate.toStringHDMS",function(a,b){return a?ra(a[1],"NS",b)+" "+ra(a[0],"EW",b):""},mq),a("ol.coordinate.toStringXY",xa,mq),a("ol.DeviceOrientation",Ak,mq),Ak.prototype.getAlpha=Ak.prototype.Kj,Ak.prototype.getBeta=Ak.prototype.Nj,Ak.prototype.getGamma=Ak.prototype.Uj,Ak.prototype.getHeading=Ak.prototype.Dl,Ak.prototype.getTracking=Ak.prototype.Vg,Ak.prototype.setTracking=Ak.prototype.mf,a("ol.easing.easeIn",Bc,mq),a("ol.easing.easeOut",Cc,mq),a("ol.easing.inAndOut",Dc,mq),a("ol.easing.linear",Ec,mq),a("ol.easing.upAndDown",Fc,mq),a("ol.extent.boundingExtent",ya,mq),a("ol.extent.buffer",za,mq),a("ol.extent.containsCoordinate",Ca,mq),a("ol.extent.containsExtent",Da,mq),a("ol.extent.containsXY",Ea,mq),a("ol.extent.createEmpty",Ga,mq),a("ol.extent.equals",Ka,mq),a("ol.extent.extend",La,mq),a("ol.extent.getBottomLeft",Qa,mq),a("ol.extent.getBottomRight",Ra,mq),a("ol.extent.getCenter",Sa,mq),a("ol.extent.getHeight",Ua,mq),a("ol.extent.getIntersection",Va,mq),a("ol.extent.getSize",function(a){return[a[2]-a[0],a[3]-a[1]]},mq),a("ol.extent.getTopLeft",Wa,mq),a("ol.extent.getTopRight",Xa,mq),a("ol.extent.getWidth",Ya,mq),a("ol.extent.intersects",Za,mq),a("ol.extent.isEmpty",$a,mq),a("ol.extent.applyTransform",ab,mq),a("ol.Feature",ci,mq),ci.prototype.clone=ci.prototype.clone,ci.prototype.getGeometry=ci.prototype.W,ci.prototype.getId=ci.prototype.Wa,ci.prototype.getGeometryName=ci.prototype.Wj,ci.prototype.getStyle=ci.prototype.Fl,ci.prototype.getStyleFunction=ci.prototype.$b,ci.prototype.setGeometry=ci.prototype.Ta,ci.prototype.setStyle=ci.prototype.nf,ci.prototype.setId=ci.prototype.hc,ci.prototype.setGeometryName=ci.prototype.zc,a("ol.featureloader.tile",Ai,mq),a("ol.featureloader.xhr",Bi,mq),a("ol.Geolocation",ao,mq),ao.prototype.getAccuracy=ao.prototype.Ij,ao.prototype.getAccuracyGeometry=ao.prototype.Jj,ao.prototype.getAltitude=ao.prototype.Lj,ao.prototype.getAltitudeAccuracy=ao.prototype.Mj,ao.prototype.getHeading=ao.prototype.Hl,ao.prototype.getPosition=ao.prototype.Il,ao.prototype.getProjection=ao.prototype.Wg,ao.prototype.getSpeed=ao.prototype.sk,ao.prototype.getTracking=ao.prototype.Xg,ao.prototype.getTrackingOptions=ao.prototype.Hg,ao.prototype.setProjection=ao.prototype.Yg,ao.prototype.setTracking=ao.prototype.ae,ao.prototype.setTrackingOptions=ao.prototype.mi,a("ol.Graticule",ho,mq),ho.prototype.getMap=ho.prototype.Ll,ho.prototype.getMeridians=ho.prototype.ek,ho.prototype.getParallels=ho.prototype.lk,ho.prototype.setMap=ho.prototype.setMap,a("ol.has.DEVICE_PIXEL_RATIO",rr,mq),a("ol.has.CANVAS",tr,mq),a("ol.has.DEVICE_ORIENTATION",ur,mq),a("ol.has.GEOLOCATION",vr,mq),a("ol.has.TOUCH",wr,mq),a("ol.has.WEBGL",ir,mq),ko.prototype.getImage=ko.prototype.a,lo.prototype.getImage=lo.prototype.ab,a("ol.Kinetic",Nf,mq),a("ol.loadingstrategy.all",Ci,mq),a("ol.loadingstrategy.bbox",function(a){return[a]},mq),a("ol.loadingstrategy.tile",function(a){return function(b,c){var d=Xd(a,c),e=Ud(a,b,d),f=[],d=[d,0,0];for(d[1]=e.b;d[1]<=e.a;++d[1])for(d[2]=e.g;d[2]<=e.f;++d[2])f.push(a.Ba(d));return f}},mq),a("ol.Map",hk,mq),hk.prototype.addControl=hk.prototype.pj,hk.prototype.addInteraction=hk.prototype.qj,hk.prototype.addLayer=hk.prototype.gg,hk.prototype.addOverlay=hk.prototype.hg,hk.prototype.beforeRender=hk.prototype.Va,hk.prototype.forEachFeatureAtPixel=hk.prototype.ed,hk.prototype.forEachLayerAtPixel=hk.prototype.Pl,hk.prototype.hasFeatureAtPixel=hk.prototype.gl,hk.prototype.getEventCoordinate=hk.prototype.Sj,hk.prototype.getEventPixel=hk.prototype.Nd,hk.prototype.getTarget=hk.prototype.pf,hk.prototype.getTargetElement=hk.prototype.tc,hk.prototype.getCoordinateFromPixel=hk.prototype.Ma;hk.prototype.getControls=hk.prototype.Qj;hk.prototype.getOverlays=hk.prototype.jk,hk.prototype.getOverlayById=hk.prototype.ik,hk.prototype.getInteractions=hk.prototype.Xj,hk.prototype.getLayerGroup=hk.prototype.sc,hk.prototype.getLayers=hk.prototype.Zg,hk.prototype.getPixelFromCoordinate=hk.prototype.Da,hk.prototype.getSize=hk.prototype.$a,hk.prototype.getView=hk.prototype.aa,hk.prototype.getViewport=hk.prototype.zk,hk.prototype.renderSync=hk.prototype.Po,hk.prototype.render=hk.prototype.render,hk.prototype.removeControl=hk.prototype.Io,hk.prototype.removeInteraction=hk.prototype.Jo,hk.prototype.removeLayer=hk.prototype.Lo,hk.prototype.removeOverlay=hk.prototype.Mo,hk.prototype.setLayerGroup=hk.prototype.ei,hk.prototype.setSize=hk.prototype.Sf,hk.prototype.setTarget=hk.prototype.$g,hk.prototype.setView=hk.prototype.ep,hk.prototype.updateSize=hk.prototype.Sc,Xe.prototype.originalEvent=Xe.prototype.originalEvent,Xe.prototype.pixel=Xe.prototype.pixel,Xe.prototype.coordinate=Xe.prototype.coordinate,Xe.prototype.dragging=Xe.prototype.dragging,Ad.prototype.map=Ad.prototype.map,Ad.prototype.frameState=Ad.prototype.frameState,V.prototype.key=V.prototype.key,V.prototype.oldValue=V.prototype.oldValue,a("ol.Object",W,mq),W.prototype.get=W.prototype.get,W.prototype.getKeys=W.prototype.K,W.prototype.getProperties=W.prototype.L,W.prototype.set=W.prototype.set,W.prototype.setProperties=W.prototype.C,W.prototype.unset=W.prototype.P,a("ol.Observable",T,mq),a("ol.Observable.unByKey",U,mq),T.prototype.changed=T.prototype.u,T.prototype.dispatchEvent=T.prototype.b,T.prototype.getRevision=T.prototype.H,T.prototype.on=T.prototype.D,T.prototype.once=T.prototype.I,T.prototype.un=T.prototype.G,T.prototype.unByKey=T.prototype.J,a("ol.inherits",m,mq),a("ol.Overlay",jk,mq),jk.prototype.getElement=jk.prototype.be,jk.prototype.getId=jk.prototype.Wa,jk.prototype.getMap=jk.prototype.ce,jk.prototype.getOffset=jk.prototype.Fg,jk.prototype.getPosition=jk.prototype.ah,jk.prototype.getPositioning=jk.prototype.Gg,jk.prototype.setElement=jk.prototype.ai,jk.prototype.setMap=jk.prototype.setMap,jk.prototype.setOffset=jk.prototype.gi,jk.prototype.setPosition=jk.prototype.qf,jk.prototype.setPositioning=jk.prototype.ji,a("ol.render.toContext",function(a,b){var c=a.canvas,d=b?b:{},e=d.pixelRatio||rr;return(d=d.size)&&(c.width=d[0]*e,c.height=d[1]*e,c.style.width=d[0]+"px",c.style.height=d[1]+"px"),c=[0,0,c.width,c.height],d=jf(zb(),0,0,e,e,0,0,0),new kh(a,e,c,d,0)},mq),a("ol.size.toSize",Md,mq),Id.prototype.getTileCoord=Id.prototype.i,ei.prototype.getFormat=ei.prototype.Ql,ei.prototype.setFeatures=ei.prototype.bi,ei.prototype.setProjection=ei.prototype.rf,ei.prototype.setLoader=ei.prototype.fi,a("ol.View",uc,mq),uc.prototype.constrainCenter=uc.prototype.Kd,uc.prototype.constrainResolution=uc.prototype.constrainResolution,uc.prototype.constrainRotation=uc.prototype.constrainRotation,uc.prototype.getCenter=uc.prototype.bb,uc.prototype.calculateExtent=uc.prototype.Fc,uc.prototype.getProjection=uc.prototype.Rl,uc.prototype.getResolution=uc.prototype.$,uc.prototype.getResolutions=uc.prototype.Sl,uc.prototype.getRotation=uc.prototype.Ka,uc.prototype.getZoom=uc.prototype.Bk,uc.prototype.fit=uc.prototype.Ze,uc.prototype.centerOn=uc.prototype.Aj,uc.prototype.rotate=uc.prototype.rotate,uc.prototype.setCenter=uc.prototype.jb,uc.prototype.setResolution=uc.prototype.Qb,uc.prototype.setRotation=uc.prototype.de,uc.prototype.setZoom=uc.prototype.hp,a("ol.xml.getAllTextContent",gi,mq),a("ol.xml.parse",ki,mq),wj.prototype.getGL=wj.prototype.Un,wj.prototype.useProgram=wj.prototype.re,a("ol.tilegrid.TileGrid",Qd,mq),Qd.prototype.getMaxZoom=Qd.prototype.Dg,Qd.prototype.getMinZoom=Qd.prototype.Eg,Qd.prototype.getOrigin=Qd.prototype.Fa,Qd.prototype.getResolution=Qd.prototype.$,Qd.prototype.getResolutions=Qd.prototype.Fh,Qd.prototype.getTileCoordExtent=Qd.prototype.Ba,Qd.prototype.getTileCoordForCoordAndResolution=Qd.prototype.Td,Qd.prototype.getTileCoordForCoordAndZ=Qd.prototype.kd,Qd.prototype.getTileSize=Qd.prototype.Ha,a("ol.tilegrid.createXYZ",$d,mq),a("ol.tilegrid.WMTS",Zp,mq),Zp.prototype.getMatrixIds=Zp.prototype.j,a("ol.tilegrid.WMTS.createFromCapabilitiesMatrixSet",$p,mq),a("ol.style.AtlasManager",dq,mq),a("ol.style.Circle",bh,mq),bh.prototype.getFill=bh.prototype.vn,bh.prototype.getImage=bh.prototype.ec,bh.prototype.getRadius=bh.prototype.wn,bh.prototype.getStroke=bh.prototype.xn,a("ol.style.Fill",Vg,mq),Vg.prototype.getColor=Vg.prototype.g,Vg.prototype.setColor=Vg.prototype.f,a("ol.style.Icon",wf,mq),wf.prototype.getAnchor=wf.prototype.Tb,wf.prototype.getImage=wf.prototype.ec,wf.prototype.getOrigin=wf.prototype.Fa,wf.prototype.getSrc=wf.prototype.yn,wf.prototype.getSize=wf.prototype.Bb,wf.prototype.load=wf.prototype.load,a("ol.style.Image",vf,mq),vf.prototype.getOpacity=vf.prototype.le,vf.prototype.getRotateWithView=vf.prototype.Rd,vf.prototype.getRotation=vf.prototype.me,vf.prototype.getScale=vf.prototype.ne,vf.prototype.getSnapToPixel=vf.prototype.Sd,vf.prototype.setOpacity=vf.prototype.oe,vf.prototype.setRotation=vf.prototype.pe,vf.prototype.setScale=vf.prototype.qe,a("ol.style.RegularShape",hq,mq),hq.prototype.getAnchor=hq.prototype.Tb,hq.prototype.getAngle=hq.prototype.zn,hq.prototype.getFill=hq.prototype.An,hq.prototype.getImage=hq.prototype.ec,hq.prototype.getOrigin=hq.prototype.Fa,hq.prototype.getPoints=hq.prototype.Bn,hq.prototype.getRadius=hq.prototype.Cn,hq.prototype.getRadius2=hq.prototype.qk,hq.prototype.getSize=hq.prototype.Bb,hq.prototype.getStroke=hq.prototype.Dn,a("ol.style.Stroke",_g,mq),_g.prototype.getColor=_g.prototype.En,_g.prototype.getLineCap=_g.prototype.$j,_g.prototype.getLineDash=_g.prototype.Fn,_g.prototype.getLineJoin=_g.prototype.ak,_g.prototype.getMiterLimit=_g.prototype.fk,_g.prototype.getWidth=_g.prototype.Gn,_g.prototype.setColor=_g.prototype.Hn,_g.prototype.setLineCap=_g.prototype.Zo,_g.prototype.setLineDash=_g.prototype.In,_g.prototype.setLineJoin=_g.prototype.$o,_g.prototype.setMiterLimit=_g.prototype.ap,_g.prototype.setWidth=_g.prototype.fp,a("ol.style.Style",ch,mq),ch.prototype.getGeometry=ch.prototype.W,ch.prototype.getGeometryFunction=ch.prototype.Vj,ch.prototype.getFill=ch.prototype.Jn,ch.prototype.getImage=ch.prototype.Kn,ch.prototype.getStroke=ch.prototype.Ln,ch.prototype.getText=ch.prototype.Ea,ch.prototype.getZIndex=ch.prototype.Mn,ch.prototype.setGeometry=ch.prototype.Eh,ch.prototype.setZIndex=ch.prototype.Nn,a("ol.style.Text",fm,mq),fm.prototype.getFont=fm.prototype.Tj,fm.prototype.getOffsetX=fm.prototype.gk,fm.prototype.getOffsetY=fm.prototype.hk,fm.prototype.getFill=fm.prototype.On,fm.prototype.getRotation=fm.prototype.Pn,fm.prototype.getScale=fm.prototype.Qn,fm.prototype.getStroke=fm.prototype.Rn,fm.prototype.getText=fm.prototype.Ea,fm.prototype.getTextAlign=fm.prototype.uk,fm.prototype.getTextBaseline=fm.prototype.vk,fm.prototype.setFont=fm.prototype.Wo,fm.prototype.setOffsetX=fm.prototype.hi,fm.prototype.setOffsetY=fm.prototype.ii,fm.prototype.setFill=fm.prototype.Vo,fm.prototype.setRotation=fm.prototype.Sn,fm.prototype.setScale=fm.prototype.Tn,fm.prototype.setStroke=fm.prototype.bp,fm.prototype.setText=fm.prototype.ki,fm.prototype.setTextAlign=fm.prototype.li,fm.prototype.setTextBaseline=fm.prototype.cp,a("ol.Sphere",db,mq),db.prototype.geodesicArea=db.prototype.a,db.prototype.haversineDistance=db.prototype.b,a("ol.source.BingMaps",qp,mq),a("ol.source.BingMaps.TOS_ATTRIBUTION",Pv,mq),a("ol.source.CartoDB",sp,mq),sp.prototype.getConfig=sp.prototype.Pj,sp.prototype.updateConfig=sp.prototype.op,sp.prototype.setConfig=sp.prototype.Uo,a("ol.source.Cluster",vp,mq),vp.prototype.getSource=vp.prototype.xa,a("ol.source.ImageArcGISRest",yp,mq),yp.prototype.getParams=yp.prototype.Mm,yp.prototype.getImageLoadFunction=yp.prototype.Lm,yp.prototype.getUrl=yp.prototype.Nm,yp.prototype.setImageLoadFunction=yp.prototype.Om,yp.prototype.setUrl=yp.prototype.Pm,yp.prototype.updateParams=yp.prototype.Qm,a("ol.source.ImageCanvas",bi,mq),a("ol.source.ImageMapGuide",zp,mq);zp.prototype.getParams=zp.prototype.Sm;zp.prototype.getImageLoadFunction=zp.prototype.Rm,zp.prototype.updateParams=zp.prototype.Um,zp.prototype.setImageLoadFunction=zp.prototype.Tm,a("ol.source.Image",Zh,mq),ai.prototype.image=ai.prototype.image,a("ol.source.ImageStatic",Ap,mq),a("ol.source.ImageVector",Ri,mq),Ri.prototype.getSource=Ri.prototype.Vm,Ri.prototype.getStyle=Ri.prototype.Wm,Ri.prototype.getStyleFunction=Ri.prototype.Xm,Ri.prototype.setStyle=Ri.prototype.sh,a("ol.source.ImageWMS",Bp,mq),Bp.prototype.getGetFeatureInfoUrl=Bp.prototype.$m,Bp.prototype.getParams=Bp.prototype.bn,Bp.prototype.getImageLoadFunction=Bp.prototype.an,Bp.prototype.getUrl=Bp.prototype.cn,Bp.prototype.setImageLoadFunction=Bp.prototype.dn,Bp.prototype.setUrl=Bp.prototype.en,Bp.prototype.updateParams=Bp.prototype.fn,a("ol.source.MapQuest",Fp,mq),Fp.prototype.getLayer=Fp.prototype.j,a("ol.source.OSM",Ep,mq),a("ol.source.OSM.ATTRIBUTION",Rv,mq),a("ol.source.Raster",Gp,mq),Gp.prototype.setOperation=Gp.prototype.v,Kp.prototype.extent=Kp.prototype.extent,Kp.prototype.resolution=Kp.prototype.resolution,Kp.prototype.data=Kp.prototype.data,a("ol.source.Source",Nd,mq),Nd.prototype.getAttributions=Nd.prototype.ra,Nd.prototype.getLogo=Nd.prototype.qa,Nd.prototype.getProjection=Nd.prototype.sa,Nd.prototype.getState=Nd.prototype.V,Nd.prototype.refresh=Nd.prototype.pa,Nd.prototype.setAttributions=Nd.prototype.ka,a("ol.source.Stamen",Lp,mq),a("ol.source.TileArcGISRest",Mp,mq),Mp.prototype.getParams=Mp.prototype.v,Mp.prototype.updateParams=Mp.prototype.B,a("ol.source.TileDebug",Op,mq),a("ol.source.TileImage",mp,mq),mp.prototype.setRenderReprojectionEdges=mp.prototype.lb,mp.prototype.setTileGridForProjection=mp.prototype.mb,a("ol.source.TileJSON",Pp,mq),Pp.prototype.getTileJSON=Pp.prototype.wk,a("ol.source.Tile",be,mq),be.prototype.getTileGrid=be.prototype.Ga,fe.prototype.tile=fe.prototype.tile,a("ol.source.TileUTFGrid",Qp,mq),Qp.prototype.getTemplate=Qp.prototype.tk,Qp.prototype.forDataAtCoordinateAndResolution=Qp.prototype.Ej,a("ol.source.TileWMS",Up,mq),Up.prototype.getGetFeatureInfoUrl=Up.prototype.nn,Up.prototype.getParams=Up.prototype.pn,Up.prototype.updateParams=Up.prototype.qn,aj.prototype.getTileLoadFunction=aj.prototype.Xa,aj.prototype.getTileUrlFunction=aj.prototype.Ya,aj.prototype.getUrls=aj.prototype.Za,aj.prototype.setTileLoadFunction=aj.prototype.cb,aj.prototype.setTileUrlFunction=aj.prototype.La,aj.prototype.setUrl=aj.prototype.Na,aj.prototype.setUrls=aj.prototype.Ua,a("ol.source.Vector",Ji,mq),Ji.prototype.addFeature=Ji.prototype.qb,Ji.prototype.addFeatures=Ji.prototype.Ec,Ji.prototype.clear=Ji.prototype.clear,Ji.prototype.forEachFeature=Ji.prototype.sg,Ji.prototype.forEachFeatureInExtent=Ji.prototype.tb,Ji.prototype.forEachFeatureIntersectingExtent=Ji.prototype.tg,Ji.prototype.getFeaturesCollection=Ji.prototype.Ag,Ji.prototype.getFeatures=Ji.prototype.je,Ji.prototype.getFeaturesAtCoordinate=Ji.prototype.zg,Ji.prototype.getFeaturesInExtent=Ji.prototype.af,Ji.prototype.getClosestFeatureToCoordinate=Ji.prototype.vg,Ji.prototype.getExtent=Ji.prototype.O,Ji.prototype.getFeatureById=Ji.prototype.yg,Ji.prototype.getFormat=Ji.prototype.xh,Ji.prototype.getUrl=Ji.prototype.yh,Ji.prototype.removeFeature=Ji.prototype.kb,Qi.prototype.feature=Qi.prototype.feature,a("ol.source.VectorTile",bj,mq),a("ol.source.WMTS",_p,mq),_p.prototype.getDimensions=_p.prototype.Rj,_p.prototype.getFormat=_p.prototype.rn,_p.prototype.getLayer=_p.prototype.sn,_p.prototype.getMatrixSet=_p.prototype.dk,_p.prototype.getRequestEncoding=_p.prototype.rk,_p.prototype.getStyle=_p.prototype.tn,_p.prototype.getVersion=_p.prototype.yk,_p.prototype.updateDimensions=_p.prototype.pp,a("ol.source.WMTS.optionsFromCapabilities",function(a,b){var c,d,e=da(a.Contents.Layer,function(a){return a.Identifier==b.layer}),f=a.Contents.TileMatrixSet;c=1<e.TileMatrixSetLink.length?"projection"in b?ga(e.TileMatrixSetLink,function(a){return da(f,function(b){return b.Identifier==a.TileMatrixSet}).SupportedCRS.replace(/urn:ogc:def:crs:(\w+):(.*:)?(\w+)$/,"$1:$3")==b.projection}):ga(e.TileMatrixSetLink,function(a){return a.TileMatrixSet==b.matrixSet}):0,0>c&&(c=0),d=e.TileMatrixSetLink[c].TileMatrixSet;var g=e.Format[0];"format"in b&&(g=b.format),c=ga(e.Style,function(a){return"style"in b?a.Title==b.style:a.isDefault}),0>c&&(c=0),c=e.Style[c].Identifier;
var h={};"Dimension"in e&&e.Dimension.forEach(function(a){var b=a.Identifier,c=a.Default;void 0===c&&(c=a.Value[0]),h[b]=c});var i,j=da(a.Contents.TileMatrixSet,function(a){return a.Identifier==d});i=nb("projection"in b?b.projection:j.SupportedCRS.replace(/urn:ogc:def:crs:(\w+):(.*:)?(\w+)$/,"$1:$3"));var k,l,m=e.WGS84BoundingBox;void 0!==m&&(l=nb("EPSG:4326").O(),l=m[0]==l[0]&&m[2]==l[2],k=ub(m,"EPSG:4326",i),(m=i.O())&&(Da(m,k)||(k=void 0)));var j=$p(j,k),n=[];if(k=b.requestEncoding,k=void 0!==k?k:"",a.hasOwnProperty("OperationsMetadata")&&a.OperationsMetadata.hasOwnProperty("GetTile")&&0!==k.indexOf("REST"))for(var e=a.OperationsMetadata.GetTile.DCP.HTTP.Get,m=0,o=e.length;m<o;++m){var p=da(e[m].Constraint,function(a){return"GetEncoding"==a.name}).AllowedValues.Value;0<p.length&&$(p,"KVP")&&(k="KVP",n.push(e[m].href))}else k="REST",e.ResourceURL.forEach(function(a){"tile"==a.resourceType&&(g=a.format,n.push(a.template))});return{urls:n,layer:b.layer,matrixSet:d,format:g,projection:i,requestEncoding:k,tileGrid:j,style:c,dimensions:h,wrapX:l}},mq),a("ol.source.XYZ",rp,mq),a("ol.source.Zoomify",bq,mq),df.prototype.vectorContext=df.prototype.vectorContext,df.prototype.frameState=df.prototype.frameState,df.prototype.context=df.prototype.context,df.prototype.glContext=df.prototype.glContext,Nh.prototype.get=Nh.prototype.get,Nh.prototype.getExtent=Nh.prototype.O,Nh.prototype.getGeometry=Nh.prototype.W,Nh.prototype.getProperties=Nh.prototype.Hm,Nh.prototype.getType=Nh.prototype.X,a("ol.render.VectorContext",cf,mq),Qj.prototype.setStyle=Qj.prototype.md,Qj.prototype.drawGeometry=Qj.prototype.nc,Qj.prototype.drawFeature=Qj.prototype.Ue,kh.prototype.drawCircle=kh.prototype.Md,kh.prototype.setStyle=kh.prototype.md,kh.prototype.drawGeometry=kh.prototype.nc,kh.prototype.drawFeature=kh.prototype.Ue,a("ol.proj.common.add",Rg,mq),a("ol.proj.METERS_PER_UNIT",Eq,mq),a("ol.proj.Projection",eb,mq),eb.prototype.getCode=eb.prototype.Oj,eb.prototype.getExtent=eb.prototype.O,eb.prototype.getUnits=eb.prototype.vb,eb.prototype.getMetersPerUnit=eb.prototype.Vb,eb.prototype.getWorldExtent=eb.prototype.Ak,eb.prototype.isGlobal=eb.prototype.ll,eb.prototype.setGlobal=eb.prototype.Yo,eb.prototype.setExtent=eb.prototype.Gm,eb.prototype.setWorldExtent=eb.prototype.gp,eb.prototype.setGetPointResolution=eb.prototype.Xo,eb.prototype.getPointResolution=eb.prototype.getPointResolution,a("ol.proj.setProj4",function(a){Hq=a},mq),a("ol.proj.addEquivalentProjections",fb,mq),a("ol.proj.addProjection",hb,mq),a("ol.proj.addCoordinateTransforms",lb,mq),a("ol.proj.fromLonLat",function(a,b){return tb(a,"EPSG:4326",void 0!==b?b:"EPSG:3857")},mq),a("ol.proj.toLonLat",function(a,b){return tb(a,void 0!==b?b:"EPSG:3857","EPSG:4326")},mq),a("ol.proj.get",nb,mq),a("ol.proj.equivalent",ob,mq),a("ol.proj.getTransform",pb,mq),a("ol.proj.transform",tb,mq),a("ol.proj.transformExtent",ub,mq),a("ol.layer.Heatmap",jp,mq),jp.prototype.getBlur=jp.prototype.ug,jp.prototype.getGradient=jp.prototype.Bg,jp.prototype.getRadius=jp.prototype.kh,jp.prototype.setBlur=jp.prototype.Zh,jp.prototype.setGradient=jp.prototype.di,jp.prototype.setRadius=jp.prototype.lh,a("ol.layer.Image",Sg,mq),Sg.prototype.getSource=Sg.prototype.da,a("ol.layer.Layer",ef,mq),ef.prototype.getSource=ef.prototype.da,ef.prototype.setMap=ef.prototype.setMap,ef.prototype.setSource=ef.prototype.Ac,a("ol.layer.Base",af,mq),af.prototype.getExtent=af.prototype.O,af.prototype.getMaxResolution=af.prototype.Ib,af.prototype.getMinResolution=af.prototype.Jb,af.prototype.getOpacity=af.prototype.Lb,af.prototype.getVisible=af.prototype.wb,af.prototype.getZIndex=af.prototype.Mb,af.prototype.setExtent=af.prototype.ac,af.prototype.setMaxResolution=af.prototype.ic,af.prototype.setMinResolution=af.prototype.jc,af.prototype.setOpacity=af.prototype.bc,af.prototype.setVisible=af.prototype.cc,af.prototype.setZIndex=af.prototype.dc,a("ol.layer.Group",Mg,mq),Mg.prototype.getLayers=Mg.prototype.Oc,Mg.prototype.setLayers=Mg.prototype.jh,a("ol.layer.Tile",Tg,mq),Tg.prototype.getPreload=Tg.prototype.f,Tg.prototype.getSource=Tg.prototype.da,Tg.prototype.setPreload=Tg.prototype.l,Tg.prototype.getUseInterimTilesOnError=Tg.prototype.c,Tg.prototype.setUseInterimTilesOnError=Tg.prototype.B,a("ol.layer.Vector",hh,mq),hh.prototype.getSource=hh.prototype.da,hh.prototype.getStyle=hh.prototype.M,hh.prototype.getStyleFunction=hh.prototype.N,hh.prototype.setStyle=hh.prototype.l,a("ol.layer.VectorTile",jh,mq),jh.prototype.getPreload=jh.prototype.f,jh.prototype.getUseInterimTilesOnError=jh.prototype.c,jh.prototype.setPreload=jh.prototype.Y,jh.prototype.setUseInterimTilesOnError=jh.prototype.ea,a("ol.interaction.DoubleClickZoom",Tf,mq),a("ol.interaction.DoubleClickZoom.handleEvent",Uf,mq),a("ol.interaction.DragAndDrop",no,mq),a("ol.interaction.DragAndDrop.handleEvent",bb,mq),qo.prototype.features=qo.prototype.features,qo.prototype.file=qo.prototype.file,qo.prototype.projection=qo.prototype.projection,qg.prototype.coordinate=qg.prototype.coordinate,qg.prototype.mapBrowserEvent=qg.prototype.mapBrowserEvent,a("ol.interaction.DragBox",rg,mq),rg.prototype.getGeometry=rg.prototype.W,a("ol.interaction.DragPan",fg,mq),a("ol.interaction.DragRotateAndZoom",ro,mq),a("ol.interaction.DragRotate",jg,mq),a("ol.interaction.DragZoom",wg,mq),vo.prototype.feature=vo.prototype.feature,a("ol.interaction.Draw",wo,mq),a("ol.interaction.Draw.handleEvent",yo,mq),wo.prototype.removeLastPoint=wo.prototype.Ko,wo.prototype.finishDrawing=wo.prototype.dd;wo.prototype.extend=wo.prototype.lm;a("ol.interaction.Draw.createRegularPolygon",function(a,b){return function(c,d){var e=c[0],f=c[1],g=Math.sqrt(va(e,f)),h=d?d:sc(new bo(e),a);return tc(h,e,g,b?b:Math.atan((f[1]-e[1])/(f[0]-e[0]))),h}},mq),a("ol.interaction.Interaction",Pf,mq),Pf.prototype.getActive=Pf.prototype.f,Pf.prototype.getMap=Pf.prototype.l,Pf.prototype.setActive=Pf.prototype.i,a("ol.interaction.defaults",Lg,mq),a("ol.interaction.KeyboardPan",xg,mq),a("ol.interaction.KeyboardPan.handleEvent",yg,mq),a("ol.interaction.KeyboardZoom",zg,mq),a("ol.interaction.KeyboardZoom.handleEvent",Ag,mq),Io.prototype.features=Io.prototype.features,Io.prototype.mapBrowserPointerEvent=Io.prototype.mapBrowserPointerEvent,a("ol.interaction.Modify",Jo,mq),a("ol.interaction.Modify.handleEvent",So,mq),Jo.prototype.removePoint=Jo.prototype.Wh,a("ol.interaction.MouseWheelZoom",Bg,mq),a("ol.interaction.MouseWheelZoom.handleEvent",Cg,mq),Bg.prototype.setMouseAnchor=Bg.prototype.N,a("ol.interaction.PinchRotate",Dg,mq),a("ol.interaction.PinchZoom",Hg,mq),a("ol.interaction.Pointer",cg,mq),a("ol.interaction.Pointer.handleEvent",eg,mq),Wo.prototype.selected=Wo.prototype.selected,Wo.prototype.deselected=Wo.prototype.deselected,Wo.prototype.mapBrowserEvent=Wo.prototype.mapBrowserEvent,a("ol.interaction.Select",Xo,mq),Xo.prototype.getFeatures=Xo.prototype.vm,Xo.prototype.getLayer=Xo.prototype.wm,a("ol.interaction.Select.handleEvent",Yo,mq),Xo.prototype.setMap=Xo.prototype.setMap,a("ol.interaction.Snap",$o,mq),$o.prototype.addFeature=$o.prototype.qb,$o.prototype.removeFeature=$o.prototype.kb,cp.prototype.features=cp.prototype.features,cp.prototype.coordinate=cp.prototype.coordinate,a("ol.interaction.Translate",dp,mq),a("ol.geom.Circle",bo,mq),bo.prototype.clone=bo.prototype.clone,bo.prototype.getCenter=bo.prototype.ld,bo.prototype.getRadius=bo.prototype.sf,bo.prototype.getType=bo.prototype.X,bo.prototype.intersectsExtent=bo.prototype.Ia,bo.prototype.setCenter=bo.prototype.dm,bo.prototype.setCenterAndRadius=bo.prototype.Rf,bo.prototype.setRadius=bo.prototype.em,bo.prototype.transform=bo.prototype.hb,a("ol.geom.Geometry",vb,mq),vb.prototype.getClosestPoint=vb.prototype.ub,vb.prototype.getExtent=vb.prototype.O,vb.prototype.rotate=vb.prototype.rotate,vb.prototype.simplify=vb.prototype.yb,vb.prototype.transform=vb.prototype.hb,a("ol.geom.GeometryCollection",$k,mq),$k.prototype.clone=$k.prototype.clone,$k.prototype.getGeometries=$k.prototype.bf,$k.prototype.getType=$k.prototype.X,$k.prototype.intersectsExtent=$k.prototype.Ia,$k.prototype.setGeometries=$k.prototype.ci,$k.prototype.applyTransform=$k.prototype.mc,$k.prototype.translate=$k.prototype.Nc,a("ol.geom.LinearRing",ac,mq),ac.prototype.clone=ac.prototype.clone,ac.prototype.getArea=ac.prototype.hm,ac.prototype.getCoordinates=ac.prototype.Z,ac.prototype.getType=ac.prototype.X,ac.prototype.setCoordinates=ac.prototype.ma,a("ol.geom.LineString",Kk,mq),Kk.prototype.appendCoordinate=Kk.prototype.rj,Kk.prototype.clone=Kk.prototype.clone,Kk.prototype.forEachSegment=Kk.prototype.Hj,Kk.prototype.getCoordinateAtM=Kk.prototype.fm,Kk.prototype.getCoordinates=Kk.prototype.Z,Kk.prototype.getCoordinateAt=Kk.prototype.wg,Kk.prototype.getLength=Kk.prototype.gm,Kk.prototype.getType=Kk.prototype.X,Kk.prototype.intersectsExtent=Kk.prototype.Ia,Kk.prototype.setCoordinates=Kk.prototype.ma,a("ol.geom.MultiLineString",Mk,mq),Mk.prototype.appendLineString=Mk.prototype.sj,Mk.prototype.clone=Mk.prototype.clone,Mk.prototype.getCoordinateAtM=Mk.prototype.im,Mk.prototype.getCoordinates=Mk.prototype.Z,Mk.prototype.getLineString=Mk.prototype.bk,Mk.prototype.getLineStrings=Mk.prototype.gd,Mk.prototype.getType=Mk.prototype.X,Mk.prototype.intersectsExtent=Mk.prototype.Ia,Mk.prototype.setCoordinates=Mk.prototype.ma,a("ol.geom.MultiPoint",Pk,mq),Pk.prototype.appendPoint=Pk.prototype.uj,Pk.prototype.clone=Pk.prototype.clone,Pk.prototype.getCoordinates=Pk.prototype.Z,Pk.prototype.getPoint=Pk.prototype.mk,Pk.prototype.getPoints=Pk.prototype.ee,Pk.prototype.getType=Pk.prototype.X,Pk.prototype.intersectsExtent=Pk.prototype.Ia,Pk.prototype.setCoordinates=Pk.prototype.ma,a("ol.geom.MultiPolygon",Qk,mq),Qk.prototype.appendPolygon=Qk.prototype.vj,Qk.prototype.clone=Qk.prototype.clone,Qk.prototype.getArea=Qk.prototype.jm,Qk.prototype.getCoordinates=Qk.prototype.Z,Qk.prototype.getInteriorPoints=Qk.prototype.Zj,Qk.prototype.getPolygon=Qk.prototype.pk,Qk.prototype.getPolygons=Qk.prototype.Qd,Qk.prototype.getType=Qk.prototype.X,Qk.prototype.intersectsExtent=Qk.prototype.Ia,Qk.prototype.setCoordinates=Qk.prototype.ma,a("ol.geom.Point",cc,mq),cc.prototype.clone=cc.prototype.clone,cc.prototype.getCoordinates=cc.prototype.Z,cc.prototype.getType=cc.prototype.X,cc.prototype.intersectsExtent=cc.prototype.Ia,cc.prototype.setCoordinates=cc.prototype.ma,a("ol.geom.Polygon",oc,mq),oc.prototype.appendLinearRing=oc.prototype.tj,oc.prototype.clone=oc.prototype.clone,oc.prototype.getArea=oc.prototype.km,oc.prototype.getCoordinates=oc.prototype.Z,oc.prototype.getInteriorPoint=oc.prototype.Yj,oc.prototype.getLinearRingCount=oc.prototype.ck,oc.prototype.getLinearRing=oc.prototype.Cg,oc.prototype.getLinearRings=oc.prototype.Pd,oc.prototype.getType=oc.prototype.X,oc.prototype.intersectsExtent=oc.prototype.Ia,oc.prototype.setCoordinates=oc.prototype.ma,a("ol.geom.Polygon.circular",qc,mq),a("ol.geom.Polygon.fromExtent",rc,mq),a("ol.geom.Polygon.fromCircle",sc,mq),a("ol.geom.SimpleGeometry",Kb,mq),Kb.prototype.getFirstCoordinate=Kb.prototype.Fb,Kb.prototype.getLastCoordinate=Kb.prototype.Gb,Kb.prototype.getLayout=Kb.prototype.Hb,Kb.prototype.applyTransform=Kb.prototype.mc,Kb.prototype.translate=Kb.prototype.Nc,a("ol.format.EsriJSON",Vk,mq),Vk.prototype.readFeature=Vk.prototype.Nb,Vk.prototype.readFeatures=Vk.prototype.Ca,Vk.prototype.readGeometry=Vk.prototype.Qc,Vk.prototype.readProjection=Vk.prototype.Oa,Vk.prototype.writeGeometry=Vk.prototype.Uc,Vk.prototype.writeGeometryObject=Vk.prototype.Ge,Vk.prototype.writeFeature=Vk.prototype.yd,Vk.prototype.writeFeatureObject=Vk.prototype.Tc,Vk.prototype.writeFeatures=Vk.prototype.Sb,Vk.prototype.writeFeaturesObject=Vk.prototype.Ee,a("ol.format.Feature",Bk,mq),a("ol.format.GeoJSON",cl,mq),cl.prototype.readFeature=cl.prototype.Nb,cl.prototype.readFeatures=cl.prototype.Ca,cl.prototype.readGeometry=cl.prototype.Qc,cl.prototype.readProjection=cl.prototype.Oa,cl.prototype.writeFeature=cl.prototype.yd,cl.prototype.writeFeatureObject=cl.prototype.Tc,cl.prototype.writeFeatures=cl.prototype.Sb,cl.prototype.writeFeaturesObject=cl.prototype.Ee,cl.prototype.writeGeometry=cl.prototype.Uc,cl.prototype.writeGeometryObject=cl.prototype.Ge,a("ol.format.GPX",yl,mq),yl.prototype.readFeature=yl.prototype.Nb,yl.prototype.readFeatures=yl.prototype.Ca,yl.prototype.readProjection=yl.prototype.Oa,yl.prototype.writeFeatures=yl.prototype.Sb,yl.prototype.writeFeaturesNode=yl.prototype.a,a("ol.format.IGC",Ll,mq),Ll.prototype.readFeature=Ll.prototype.Nb,Ll.prototype.readFeatures=Ll.prototype.Ca,Ll.prototype.readProjection=Ll.prototype.Oa,a("ol.format.KML",gm,mq),gm.prototype.readFeature=gm.prototype.Nb,gm.prototype.readFeatures=gm.prototype.Ca,gm.prototype.readName=gm.prototype.zo,gm.prototype.readNetworkLinks=gm.prototype.Ao,gm.prototype.readProjection=gm.prototype.Oa,gm.prototype.writeFeatures=gm.prototype.Sb,gm.prototype.writeFeaturesNode=gm.prototype.a,a("ol.format.MVT",Mm,mq),Mm.prototype.readFeatures=Mm.prototype.Ca,Mm.prototype.readProjection=Mm.prototype.Oa,Mm.prototype.setLayers=Mm.prototype.c,a("ol.format.OSMXML",gn,mq),gn.prototype.readFeatures=gn.prototype.Ca,gn.prototype.readProjection=gn.prototype.Oa,a("ol.format.Polyline",nn,mq),a("ol.format.Polyline.encodeDeltas",on,mq),a("ol.format.Polyline.decodeDeltas",pn,mq),a("ol.format.Polyline.encodeFloats",qn,mq),a("ol.format.Polyline.decodeFloats",rn,mq),nn.prototype.readFeature=nn.prototype.Nb,nn.prototype.readFeatures=nn.prototype.Ca,nn.prototype.readGeometry=nn.prototype.Qc,nn.prototype.readProjection=nn.prototype.Oa,nn.prototype.writeGeometry=nn.prototype.Uc,a("ol.format.TopoJSON",sn,mq),sn.prototype.readFeatures=sn.prototype.Ca,sn.prototype.readProjection=sn.prototype.Oa,a("ol.format.WFS",xn,mq),xn.prototype.readFeatures=xn.prototype.Ca,xn.prototype.readTransactionResponse=xn.prototype.o,xn.prototype.readFeatureCollectionMetadata=xn.prototype.l,xn.prototype.writeGetFeature=xn.prototype.j;xn.prototype.writeTransaction=xn.prototype.U;xn.prototype.readProjection=xn.prototype.Oa,a("ol.format.WKT",Gn,mq),Gn.prototype.readFeature=Gn.prototype.Nb,Gn.prototype.readFeatures=Gn.prototype.Ca,Gn.prototype.readGeometry=Gn.prototype.Qc,Gn.prototype.writeFeature=Gn.prototype.yd,Gn.prototype.writeFeatures=Gn.prototype.Sb,Gn.prototype.writeGeometry=Gn.prototype.Uc,a("ol.format.WMSCapabilities",Un,mq),Un.prototype.read=Un.prototype.read,a("ol.format.WMSGetFeatureInfo",Zn,mq),Zn.prototype.readFeatures=Zn.prototype.Ca,a("ol.format.WMTSCapabilities",$n,mq),$n.prototype.read=$n.prototype.read,a("ol.format.ogc.filter.and",Om,mq),a("ol.format.ogc.filter.or",function(a,b){return new Um(a,b)},mq),a("ol.format.ogc.filter.not",function(a){return new Vm(a)},mq),a("ol.format.ogc.filter.bbox",Pm,mq),a("ol.format.ogc.filter.equalTo",function(a,b,c){return new Zm(a,b,c)},mq),a("ol.format.ogc.filter.notEqualTo",function(a,b,c){return new $m(a,b,c)},mq),a("ol.format.ogc.filter.lessThan",function(a,b){return new _m(a,b)},mq),a("ol.format.ogc.filter.lessThanOrEqualTo",function(a,b){return new an(a,b)},mq),a("ol.format.ogc.filter.greaterThan",function(a,b){return new bn(a,b)},mq),a("ol.format.ogc.filter.greaterThanOrEqualTo",function(a,b){return new cn(a,b)},mq),a("ol.format.ogc.filter.isNull",function(a){return new dn(a)},mq),a("ol.format.ogc.filter.between",function(a,b,c){return new en(a,b,c)},mq),a("ol.format.ogc.filter.like",function(a,b,c,d,e,f){return new fn(a,b,c,d,e,f)},mq),a("ol.format.ogc.filter.Filter",Qm,mq),a("ol.format.ogc.filter.And",Tm,mq),a("ol.format.ogc.filter.Or",Um,mq),a("ol.format.ogc.filter.Not",Vm,mq),a("ol.format.ogc.filter.Bbox",Wm,mq),a("ol.format.ogc.filter.Comparison",Xm,mq),a("ol.format.ogc.filter.ComparisonBinary",Ym,mq),a("ol.format.ogc.filter.EqualTo",Zm,mq),a("ol.format.ogc.filter.NotEqualTo",$m,mq),a("ol.format.ogc.filter.LessThan",_m,mq),a("ol.format.ogc.filter.LessThanOrEqualTo",an,mq),a("ol.format.ogc.filter.GreaterThan",bn,mq),a("ol.format.ogc.filter.GreaterThanOrEqualTo",cn,mq),a("ol.format.ogc.filter.IsNull",dn,mq),a("ol.format.ogc.filter.IsBetween",en,mq),a("ol.format.ogc.filter.IsLike",fn,mq),a("ol.format.GML2",vl,mq),a("ol.format.GML3",wl,mq),wl.prototype.writeGeometryNode=wl.prototype.s,wl.prototype.writeFeatures=wl.prototype.Sb,wl.prototype.writeFeaturesNode=wl.prototype.a,a("ol.format.GML",wl,mq),wl.prototype.writeFeatures=wl.prototype.Sb,wl.prototype.writeFeaturesNode=wl.prototype.a,il.prototype.readFeatures=il.prototype.Ca,a("ol.events.condition.altKeyOnly",function(a){return a=a.originalEvent,a.altKey&&!(a.metaKey||a.ctrlKey)&&!a.shiftKey},mq),a("ol.events.condition.altShiftKeysOnly",Vf,mq),a("ol.events.condition.always",bb,mq),a("ol.events.condition.click",function(a){return a.type==Mr},mq),a("ol.events.condition.never",cb,mq),a("ol.events.condition.pointerMove",Xf,mq),a("ol.events.condition.singleClick",Yf,mq),a("ol.events.condition.doubleClick",function(a){return a.type==Nr},mq),a("ol.events.condition.noModifierKeys",Zf,mq),a("ol.events.condition.platformModifierKeyOnly",function(a){return a=a.originalEvent,!a.altKey&&(qr?a.metaKey:a.ctrlKey)&&!a.shiftKey},mq),a("ol.events.condition.shiftKeyOnly",$f,mq),a("ol.events.condition.targetNotEditable",_f,mq),a("ol.events.condition.mouseOnly",ag,mq),a("ol.events.condition.primaryAction",bg,mq),O.prototype.type=O.prototype.type,O.prototype.target=O.prototype.target,O.prototype.preventDefault=O.prototype.preventDefault,O.prototype.stopPropagation=O.prototype.stopPropagation,a("ol.control.Attribution",ge,mq),a("ol.control.Attribution.render",he,mq),ge.prototype.getCollapsible=ge.prototype.Ul,ge.prototype.setCollapsible=ge.prototype.Xl,ge.prototype.setCollapsed=ge.prototype.Wl,ge.prototype.getCollapsed=ge.prototype.Tl,a("ol.control.Control",Bd,mq),Bd.prototype.getMap=Bd.prototype.i,Bd.prototype.setMap=Bd.prototype.setMap,Bd.prototype.setTarget=Bd.prototype.c,a("ol.control.defaults",me,mq),a("ol.control.FullScreen",qe,mq),a("ol.control.MousePosition",re,mq),a("ol.control.MousePosition.render",se,mq),re.prototype.getCoordinateFormat=re.prototype.xg,re.prototype.getProjection=re.prototype.bh,re.prototype.setCoordinateFormat=re.prototype.$h,re.prototype.setProjection=re.prototype.dh,a("ol.control.OverviewMap",nk,mq),a("ol.control.OverviewMap.render",ok,mq),nk.prototype.getCollapsible=nk.prototype.$l,nk.prototype.setCollapsible=nk.prototype.cm,nk.prototype.setCollapsed=nk.prototype.bm,nk.prototype.getCollapsed=nk.prototype.Zl,nk.prototype.getOverviewMap=nk.prototype.kk,a("ol.control.Rotate",je,mq),a("ol.control.Rotate.render",ke,mq),a("ol.control.ScaleLine",sk,mq),sk.prototype.getUnits=sk.prototype.vb,a("ol.control.ScaleLine.render",tk,mq),sk.prototype.setUnits=sk.prototype.N,a("ol.control.Zoom",le,mq),a("ol.control.ZoomSlider",vk,mq),a("ol.control.ZoomSlider.render",wk,mq),a("ol.control.ZoomToExtent",zk,mq),a("ol.color.asArray",Uc,mq),a("ol.color.asString",Vc,mq),Oc.prototype.type=Oc.prototype.type,Oc.prototype.target=Oc.prototype.target,Oc.prototype.preventDefault=Oc.prototype.preventDefault,Oc.prototype.stopPropagation=Oc.prototype.stopPropagation,W.prototype.changed=W.prototype.u,W.prototype.dispatchEvent=W.prototype.b,W.prototype.getRevision=W.prototype.H,W.prototype.on=W.prototype.D,W.prototype.once=W.prototype.I,W.prototype.un=W.prototype.G,W.prototype.unByKey=W.prototype.J,Pc.prototype.get=Pc.prototype.get,Pc.prototype.getKeys=Pc.prototype.K,Pc.prototype.getProperties=Pc.prototype.L,Pc.prototype.set=Pc.prototype.set,Pc.prototype.setProperties=Pc.prototype.C,Pc.prototype.unset=Pc.prototype.P,Pc.prototype.changed=Pc.prototype.u,Pc.prototype.dispatchEvent=Pc.prototype.b,Pc.prototype.getRevision=Pc.prototype.H,Pc.prototype.on=Pc.prototype.D,Pc.prototype.once=Pc.prototype.I,Pc.prototype.un=Pc.prototype.G,Pc.prototype.unByKey=Pc.prototype.J,Ak.prototype.get=Ak.prototype.get,Ak.prototype.getKeys=Ak.prototype.K,Ak.prototype.getProperties=Ak.prototype.L,Ak.prototype.set=Ak.prototype.set,Ak.prototype.setProperties=Ak.prototype.C,Ak.prototype.unset=Ak.prototype.P,Ak.prototype.changed=Ak.prototype.u,Ak.prototype.dispatchEvent=Ak.prototype.b,Ak.prototype.getRevision=Ak.prototype.H,Ak.prototype.on=Ak.prototype.D,Ak.prototype.once=Ak.prototype.I,Ak.prototype.un=Ak.prototype.G,Ak.prototype.unByKey=Ak.prototype.J,ci.prototype.get=ci.prototype.get,ci.prototype.getKeys=ci.prototype.K,ci.prototype.getProperties=ci.prototype.L,ci.prototype.set=ci.prototype.set,ci.prototype.setProperties=ci.prototype.C,ci.prototype.unset=ci.prototype.P,ci.prototype.changed=ci.prototype.u,ci.prototype.dispatchEvent=ci.prototype.b,ci.prototype.getRevision=ci.prototype.H,ci.prototype.on=ci.prototype.D,ci.prototype.once=ci.prototype.I,ci.prototype.un=ci.prototype.G,ci.prototype.unByKey=ci.prototype.J,ao.prototype.get=ao.prototype.get,ao.prototype.getKeys=ao.prototype.K,ao.prototype.getProperties=ao.prototype.L,ao.prototype.set=ao.prototype.set,ao.prototype.setProperties=ao.prototype.C,ao.prototype.unset=ao.prototype.P,ao.prototype.changed=ao.prototype.u,ao.prototype.dispatchEvent=ao.prototype.b,ao.prototype.getRevision=ao.prototype.H,ao.prototype.on=ao.prototype.D,ao.prototype.once=ao.prototype.I,ao.prototype.un=ao.prototype.G,ao.prototype.unByKey=ao.prototype.J,lo.prototype.getTileCoord=lo.prototype.i,hk.prototype.get=hk.prototype.get,hk.prototype.getKeys=hk.prototype.K,hk.prototype.getProperties=hk.prototype.L,hk.prototype.set=hk.prototype.set,hk.prototype.setProperties=hk.prototype.C,hk.prototype.unset=hk.prototype.P,hk.prototype.changed=hk.prototype.u,hk.prototype.dispatchEvent=hk.prototype.b,hk.prototype.getRevision=hk.prototype.H,hk.prototype.on=hk.prototype.D,hk.prototype.once=hk.prototype.I,hk.prototype.un=hk.prototype.G,hk.prototype.unByKey=hk.prototype.J,Ad.prototype.type=Ad.prototype.type,Ad.prototype.target=Ad.prototype.target,Ad.prototype.preventDefault=Ad.prototype.preventDefault,Ad.prototype.stopPropagation=Ad.prototype.stopPropagation,Xe.prototype.map=Xe.prototype.map,Xe.prototype.frameState=Xe.prototype.frameState,Xe.prototype.type=Xe.prototype.type,Xe.prototype.target=Xe.prototype.target,Xe.prototype.preventDefault=Xe.prototype.preventDefault,Xe.prototype.stopPropagation=Xe.prototype.stopPropagation,Ye.prototype.originalEvent=Ye.prototype.originalEvent,Ye.prototype.pixel=Ye.prototype.pixel,Ye.prototype.coordinate=Ye.prototype.coordinate,Ye.prototype.dragging=Ye.prototype.dragging,Ye.prototype.preventDefault=Ye.prototype.preventDefault,Ye.prototype.stopPropagation=Ye.prototype.stopPropagation;Ye.prototype.map=Ye.prototype.map;Ye.prototype.frameState=Ye.prototype.frameState,Ye.prototype.type=Ye.prototype.type,Ye.prototype.target=Ye.prototype.target,V.prototype.type=V.prototype.type,V.prototype.target=V.prototype.target,V.prototype.preventDefault=V.prototype.preventDefault,V.prototype.stopPropagation=V.prototype.stopPropagation,jk.prototype.get=jk.prototype.get,jk.prototype.getKeys=jk.prototype.K,jk.prototype.getProperties=jk.prototype.L,jk.prototype.set=jk.prototype.set,jk.prototype.setProperties=jk.prototype.C,jk.prototype.unset=jk.prototype.P,jk.prototype.changed=jk.prototype.u,jk.prototype.dispatchEvent=jk.prototype.b,jk.prototype.getRevision=jk.prototype.H,jk.prototype.on=jk.prototype.D,jk.prototype.once=jk.prototype.I,jk.prototype.un=jk.prototype.G,jk.prototype.unByKey=jk.prototype.J,ei.prototype.getTileCoord=ei.prototype.i,uc.prototype.get=uc.prototype.get,uc.prototype.getKeys=uc.prototype.K,uc.prototype.getProperties=uc.prototype.L,uc.prototype.set=uc.prototype.set,uc.prototype.setProperties=uc.prototype.C,uc.prototype.unset=uc.prototype.P,uc.prototype.changed=uc.prototype.u,uc.prototype.dispatchEvent=uc.prototype.b,uc.prototype.getRevision=uc.prototype.H,uc.prototype.on=uc.prototype.D,uc.prototype.once=uc.prototype.I,uc.prototype.un=uc.prototype.G,uc.prototype.unByKey=uc.prototype.J,Zp.prototype.getMaxZoom=Zp.prototype.Dg,Zp.prototype.getMinZoom=Zp.prototype.Eg,Zp.prototype.getOrigin=Zp.prototype.Fa,Zp.prototype.getResolution=Zp.prototype.$,Zp.prototype.getResolutions=Zp.prototype.Fh,Zp.prototype.getTileCoordExtent=Zp.prototype.Ba,Zp.prototype.getTileCoordForCoordAndResolution=Zp.prototype.Td,Zp.prototype.getTileCoordForCoordAndZ=Zp.prototype.kd,Zp.prototype.getTileSize=Zp.prototype.Ha,bh.prototype.getOpacity=bh.prototype.le,bh.prototype.getRotateWithView=bh.prototype.Rd,bh.prototype.getRotation=bh.prototype.me,bh.prototype.getScale=bh.prototype.ne,bh.prototype.getSnapToPixel=bh.prototype.Sd,bh.prototype.setOpacity=bh.prototype.oe,bh.prototype.setRotation=bh.prototype.pe,bh.prototype.setScale=bh.prototype.qe,wf.prototype.getOpacity=wf.prototype.le,wf.prototype.getRotateWithView=wf.prototype.Rd,wf.prototype.getRotation=wf.prototype.me,wf.prototype.getScale=wf.prototype.ne,wf.prototype.getSnapToPixel=wf.prototype.Sd,wf.prototype.setOpacity=wf.prototype.oe,wf.prototype.setRotation=wf.prototype.pe,wf.prototype.setScale=wf.prototype.qe,hq.prototype.getOpacity=hq.prototype.le,hq.prototype.getRotateWithView=hq.prototype.Rd,hq.prototype.getRotation=hq.prototype.me,hq.prototype.getScale=hq.prototype.ne,hq.prototype.getSnapToPixel=hq.prototype.Sd,hq.prototype.setOpacity=hq.prototype.oe,hq.prototype.setRotation=hq.prototype.pe,hq.prototype.setScale=hq.prototype.qe,Nd.prototype.get=Nd.prototype.get,Nd.prototype.getKeys=Nd.prototype.K,Nd.prototype.getProperties=Nd.prototype.L,Nd.prototype.set=Nd.prototype.set,Nd.prototype.setProperties=Nd.prototype.C,Nd.prototype.unset=Nd.prototype.P,Nd.prototype.changed=Nd.prototype.u,Nd.prototype.dispatchEvent=Nd.prototype.b,Nd.prototype.getRevision=Nd.prototype.H,Nd.prototype.on=Nd.prototype.D,Nd.prototype.once=Nd.prototype.I,Nd.prototype.un=Nd.prototype.G,Nd.prototype.unByKey=Nd.prototype.J,be.prototype.getAttributions=be.prototype.ra,be.prototype.getLogo=be.prototype.qa,be.prototype.getProjection=be.prototype.sa,be.prototype.getState=be.prototype.V,be.prototype.refresh=be.prototype.pa,be.prototype.setAttributions=be.prototype.ka,be.prototype.get=be.prototype.get,be.prototype.getKeys=be.prototype.K,be.prototype.getProperties=be.prototype.L,be.prototype.set=be.prototype.set,be.prototype.setProperties=be.prototype.C,be.prototype.unset=be.prototype.P,be.prototype.changed=be.prototype.u,be.prototype.dispatchEvent=be.prototype.b,be.prototype.getRevision=be.prototype.H,be.prototype.on=be.prototype.D,be.prototype.once=be.prototype.I,be.prototype.un=be.prototype.G,be.prototype.unByKey=be.prototype.J,aj.prototype.getTileGrid=aj.prototype.Ga,aj.prototype.refresh=aj.prototype.pa,aj.prototype.getAttributions=aj.prototype.ra,aj.prototype.getLogo=aj.prototype.qa,aj.prototype.getProjection=aj.prototype.sa,aj.prototype.getState=aj.prototype.V,aj.prototype.setAttributions=aj.prototype.ka,aj.prototype.get=aj.prototype.get,aj.prototype.getKeys=aj.prototype.K,aj.prototype.getProperties=aj.prototype.L,aj.prototype.set=aj.prototype.set,aj.prototype.setProperties=aj.prototype.C,aj.prototype.unset=aj.prototype.P,aj.prototype.changed=aj.prototype.u,aj.prototype.dispatchEvent=aj.prototype.b,aj.prototype.getRevision=aj.prototype.H,aj.prototype.on=aj.prototype.D,aj.prototype.once=aj.prototype.I,aj.prototype.un=aj.prototype.G,aj.prototype.unByKey=aj.prototype.J,mp.prototype.getTileLoadFunction=mp.prototype.Xa,mp.prototype.getTileUrlFunction=mp.prototype.Ya,mp.prototype.getUrls=mp.prototype.Za,mp.prototype.setTileLoadFunction=mp.prototype.cb,mp.prototype.setTileUrlFunction=mp.prototype.La,mp.prototype.setUrl=mp.prototype.Na,mp.prototype.setUrls=mp.prototype.Ua,mp.prototype.getTileGrid=mp.prototype.Ga,mp.prototype.refresh=mp.prototype.pa,mp.prototype.getAttributions=mp.prototype.ra,mp.prototype.getLogo=mp.prototype.qa,mp.prototype.getProjection=mp.prototype.sa,mp.prototype.getState=mp.prototype.V,mp.prototype.setAttributions=mp.prototype.ka,mp.prototype.get=mp.prototype.get,mp.prototype.getKeys=mp.prototype.K,mp.prototype.getProperties=mp.prototype.L,mp.prototype.set=mp.prototype.set,mp.prototype.setProperties=mp.prototype.C,mp.prototype.unset=mp.prototype.P,mp.prototype.changed=mp.prototype.u,mp.prototype.dispatchEvent=mp.prototype.b,mp.prototype.getRevision=mp.prototype.H,mp.prototype.on=mp.prototype.D,mp.prototype.once=mp.prototype.I,mp.prototype.un=mp.prototype.G,mp.prototype.unByKey=mp.prototype.J,qp.prototype.setRenderReprojectionEdges=qp.prototype.lb,qp.prototype.setTileGridForProjection=qp.prototype.mb,qp.prototype.getTileLoadFunction=qp.prototype.Xa,qp.prototype.getTileUrlFunction=qp.prototype.Ya,qp.prototype.getUrls=qp.prototype.Za,qp.prototype.setTileLoadFunction=qp.prototype.cb,qp.prototype.setTileUrlFunction=qp.prototype.La,qp.prototype.setUrl=qp.prototype.Na,qp.prototype.setUrls=qp.prototype.Ua,qp.prototype.getTileGrid=qp.prototype.Ga,qp.prototype.refresh=qp.prototype.pa,qp.prototype.getAttributions=qp.prototype.ra,qp.prototype.getLogo=qp.prototype.qa,qp.prototype.getProjection=qp.prototype.sa,qp.prototype.getState=qp.prototype.V,qp.prototype.setAttributions=qp.prototype.ka,qp.prototype.get=qp.prototype.get,qp.prototype.getKeys=qp.prototype.K,qp.prototype.getProperties=qp.prototype.L,qp.prototype.set=qp.prototype.set,qp.prototype.setProperties=qp.prototype.C,qp.prototype.unset=qp.prototype.P,qp.prototype.changed=qp.prototype.u,qp.prototype.dispatchEvent=qp.prototype.b,qp.prototype.getRevision=qp.prototype.H,qp.prototype.on=qp.prototype.D,qp.prototype.once=qp.prototype.I,qp.prototype.un=qp.prototype.G,qp.prototype.unByKey=qp.prototype.J,rp.prototype.setRenderReprojectionEdges=rp.prototype.lb,rp.prototype.setTileGridForProjection=rp.prototype.mb,rp.prototype.getTileLoadFunction=rp.prototype.Xa,rp.prototype.getTileUrlFunction=rp.prototype.Ya,rp.prototype.getUrls=rp.prototype.Za,rp.prototype.setTileLoadFunction=rp.prototype.cb,rp.prototype.setTileUrlFunction=rp.prototype.La,rp.prototype.setUrl=rp.prototype.Na,rp.prototype.setUrls=rp.prototype.Ua,rp.prototype.getTileGrid=rp.prototype.Ga,rp.prototype.refresh=rp.prototype.pa,rp.prototype.getAttributions=rp.prototype.ra,rp.prototype.getLogo=rp.prototype.qa,rp.prototype.getProjection=rp.prototype.sa,rp.prototype.getState=rp.prototype.V,rp.prototype.setAttributions=rp.prototype.ka,rp.prototype.get=rp.prototype.get,rp.prototype.getKeys=rp.prototype.K,rp.prototype.getProperties=rp.prototype.L,rp.prototype.set=rp.prototype.set,rp.prototype.setProperties=rp.prototype.C,rp.prototype.unset=rp.prototype.P,rp.prototype.changed=rp.prototype.u,rp.prototype.dispatchEvent=rp.prototype.b,rp.prototype.getRevision=rp.prototype.H;rp.prototype.on=rp.prototype.D;rp.prototype.once=rp.prototype.I,rp.prototype.un=rp.prototype.G,rp.prototype.unByKey=rp.prototype.J,sp.prototype.setRenderReprojectionEdges=sp.prototype.lb,sp.prototype.setTileGridForProjection=sp.prototype.mb,sp.prototype.getTileLoadFunction=sp.prototype.Xa,sp.prototype.getTileUrlFunction=sp.prototype.Ya,sp.prototype.getUrls=sp.prototype.Za,sp.prototype.setTileLoadFunction=sp.prototype.cb,sp.prototype.setTileUrlFunction=sp.prototype.La,sp.prototype.setUrl=sp.prototype.Na,sp.prototype.setUrls=sp.prototype.Ua,sp.prototype.getTileGrid=sp.prototype.Ga,sp.prototype.refresh=sp.prototype.pa,sp.prototype.getAttributions=sp.prototype.ra,sp.prototype.getLogo=sp.prototype.qa,sp.prototype.getProjection=sp.prototype.sa,sp.prototype.getState=sp.prototype.V,sp.prototype.setAttributions=sp.prototype.ka,sp.prototype.get=sp.prototype.get,sp.prototype.getKeys=sp.prototype.K,sp.prototype.getProperties=sp.prototype.L,sp.prototype.set=sp.prototype.set,sp.prototype.setProperties=sp.prototype.C,sp.prototype.unset=sp.prototype.P,sp.prototype.changed=sp.prototype.u,sp.prototype.dispatchEvent=sp.prototype.b,sp.prototype.getRevision=sp.prototype.H,sp.prototype.on=sp.prototype.D,sp.prototype.once=sp.prototype.I,sp.prototype.un=sp.prototype.G,sp.prototype.unByKey=sp.prototype.J,Ji.prototype.getAttributions=Ji.prototype.ra,Ji.prototype.getLogo=Ji.prototype.qa,Ji.prototype.getProjection=Ji.prototype.sa,Ji.prototype.getState=Ji.prototype.V,Ji.prototype.refresh=Ji.prototype.pa,Ji.prototype.setAttributions=Ji.prototype.ka,Ji.prototype.get=Ji.prototype.get,Ji.prototype.getKeys=Ji.prototype.K,Ji.prototype.getProperties=Ji.prototype.L,Ji.prototype.set=Ji.prototype.set,Ji.prototype.setProperties=Ji.prototype.C,
Ji.prototype.unset=Ji.prototype.P,Ji.prototype.changed=Ji.prototype.u,Ji.prototype.dispatchEvent=Ji.prototype.b,Ji.prototype.getRevision=Ji.prototype.H,Ji.prototype.on=Ji.prototype.D,Ji.prototype.once=Ji.prototype.I,Ji.prototype.un=Ji.prototype.G,Ji.prototype.unByKey=Ji.prototype.J,vp.prototype.addFeature=vp.prototype.qb,vp.prototype.addFeatures=vp.prototype.Ec,vp.prototype.clear=vp.prototype.clear,vp.prototype.forEachFeature=vp.prototype.sg,vp.prototype.forEachFeatureInExtent=vp.prototype.tb,vp.prototype.forEachFeatureIntersectingExtent=vp.prototype.tg,vp.prototype.getFeaturesCollection=vp.prototype.Ag,vp.prototype.getFeatures=vp.prototype.je,vp.prototype.getFeaturesAtCoordinate=vp.prototype.zg,vp.prototype.getFeaturesInExtent=vp.prototype.af,vp.prototype.getClosestFeatureToCoordinate=vp.prototype.vg,vp.prototype.getExtent=vp.prototype.O,vp.prototype.getFeatureById=vp.prototype.yg,vp.prototype.getFormat=vp.prototype.xh,vp.prototype.getUrl=vp.prototype.yh,vp.prototype.removeFeature=vp.prototype.kb,vp.prototype.getAttributions=vp.prototype.ra,vp.prototype.getLogo=vp.prototype.qa,vp.prototype.getProjection=vp.prototype.sa,vp.prototype.getState=vp.prototype.V,vp.prototype.refresh=vp.prototype.pa,vp.prototype.setAttributions=vp.prototype.ka,vp.prototype.get=vp.prototype.get,vp.prototype.getKeys=vp.prototype.K,vp.prototype.getProperties=vp.prototype.L,vp.prototype.set=vp.prototype.set,vp.prototype.setProperties=vp.prototype.C,vp.prototype.unset=vp.prototype.P,vp.prototype.changed=vp.prototype.u,vp.prototype.dispatchEvent=vp.prototype.b,vp.prototype.getRevision=vp.prototype.H,vp.prototype.on=vp.prototype.D,vp.prototype.once=vp.prototype.I,vp.prototype.un=vp.prototype.G,vp.prototype.unByKey=vp.prototype.J,Zh.prototype.getAttributions=Zh.prototype.ra,Zh.prototype.getLogo=Zh.prototype.qa,Zh.prototype.getProjection=Zh.prototype.sa,Zh.prototype.getState=Zh.prototype.V,Zh.prototype.refresh=Zh.prototype.pa,Zh.prototype.setAttributions=Zh.prototype.ka,Zh.prototype.get=Zh.prototype.get,Zh.prototype.getKeys=Zh.prototype.K,Zh.prototype.getProperties=Zh.prototype.L,Zh.prototype.set=Zh.prototype.set,Zh.prototype.setProperties=Zh.prototype.C,Zh.prototype.unset=Zh.prototype.P,Zh.prototype.changed=Zh.prototype.u,Zh.prototype.dispatchEvent=Zh.prototype.b,Zh.prototype.getRevision=Zh.prototype.H,Zh.prototype.on=Zh.prototype.D,Zh.prototype.once=Zh.prototype.I,Zh.prototype.un=Zh.prototype.G,Zh.prototype.unByKey=Zh.prototype.J,yp.prototype.getAttributions=yp.prototype.ra,yp.prototype.getLogo=yp.prototype.qa,yp.prototype.getProjection=yp.prototype.sa,yp.prototype.getState=yp.prototype.V,yp.prototype.refresh=yp.prototype.pa,yp.prototype.setAttributions=yp.prototype.ka,yp.prototype.get=yp.prototype.get,yp.prototype.getKeys=yp.prototype.K,yp.prototype.getProperties=yp.prototype.L,yp.prototype.set=yp.prototype.set,yp.prototype.setProperties=yp.prototype.C,yp.prototype.unset=yp.prototype.P,yp.prototype.changed=yp.prototype.u,yp.prototype.dispatchEvent=yp.prototype.b,yp.prototype.getRevision=yp.prototype.H,yp.prototype.on=yp.prototype.D,yp.prototype.once=yp.prototype.I,yp.prototype.un=yp.prototype.G,yp.prototype.unByKey=yp.prototype.J,bi.prototype.getAttributions=bi.prototype.ra,bi.prototype.getLogo=bi.prototype.qa,bi.prototype.getProjection=bi.prototype.sa,bi.prototype.getState=bi.prototype.V,bi.prototype.refresh=bi.prototype.pa,bi.prototype.setAttributions=bi.prototype.ka,bi.prototype.get=bi.prototype.get,bi.prototype.getKeys=bi.prototype.K,bi.prototype.getProperties=bi.prototype.L,bi.prototype.set=bi.prototype.set,bi.prototype.setProperties=bi.prototype.C,bi.prototype.unset=bi.prototype.P,bi.prototype.changed=bi.prototype.u,bi.prototype.dispatchEvent=bi.prototype.b,bi.prototype.getRevision=bi.prototype.H,bi.prototype.on=bi.prototype.D,bi.prototype.once=bi.prototype.I,bi.prototype.un=bi.prototype.G,bi.prototype.unByKey=bi.prototype.J,zp.prototype.getAttributions=zp.prototype.ra,zp.prototype.getLogo=zp.prototype.qa,zp.prototype.getProjection=zp.prototype.sa,zp.prototype.getState=zp.prototype.V,zp.prototype.refresh=zp.prototype.pa,zp.prototype.setAttributions=zp.prototype.ka,zp.prototype.get=zp.prototype.get,zp.prototype.getKeys=zp.prototype.K,zp.prototype.getProperties=zp.prototype.L,zp.prototype.set=zp.prototype.set,zp.prototype.setProperties=zp.prototype.C,zp.prototype.unset=zp.prototype.P,zp.prototype.changed=zp.prototype.u,zp.prototype.dispatchEvent=zp.prototype.b,zp.prototype.getRevision=zp.prototype.H,zp.prototype.on=zp.prototype.D,zp.prototype.once=zp.prototype.I,zp.prototype.un=zp.prototype.G,zp.prototype.unByKey=zp.prototype.J,ai.prototype.type=ai.prototype.type,ai.prototype.target=ai.prototype.target,ai.prototype.preventDefault=ai.prototype.preventDefault,ai.prototype.stopPropagation=ai.prototype.stopPropagation,Ap.prototype.getAttributions=Ap.prototype.ra,Ap.prototype.getLogo=Ap.prototype.qa,Ap.prototype.getProjection=Ap.prototype.sa,Ap.prototype.getState=Ap.prototype.V,Ap.prototype.refresh=Ap.prototype.pa,Ap.prototype.setAttributions=Ap.prototype.ka,Ap.prototype.get=Ap.prototype.get,Ap.prototype.getKeys=Ap.prototype.K,Ap.prototype.getProperties=Ap.prototype.L,Ap.prototype.set=Ap.prototype.set,Ap.prototype.setProperties=Ap.prototype.C,Ap.prototype.unset=Ap.prototype.P,Ap.prototype.changed=Ap.prototype.u,Ap.prototype.dispatchEvent=Ap.prototype.b,Ap.prototype.getRevision=Ap.prototype.H,Ap.prototype.on=Ap.prototype.D,Ap.prototype.once=Ap.prototype.I,Ap.prototype.un=Ap.prototype.G,Ap.prototype.unByKey=Ap.prototype.J,Ri.prototype.getAttributions=Ri.prototype.ra,Ri.prototype.getLogo=Ri.prototype.qa,Ri.prototype.getProjection=Ri.prototype.sa,Ri.prototype.getState=Ri.prototype.V,Ri.prototype.refresh=Ri.prototype.pa,Ri.prototype.setAttributions=Ri.prototype.ka,Ri.prototype.get=Ri.prototype.get,Ri.prototype.getKeys=Ri.prototype.K,Ri.prototype.getProperties=Ri.prototype.L,Ri.prototype.set=Ri.prototype.set,Ri.prototype.setProperties=Ri.prototype.C,Ri.prototype.unset=Ri.prototype.P,Ri.prototype.changed=Ri.prototype.u,Ri.prototype.dispatchEvent=Ri.prototype.b,Ri.prototype.getRevision=Ri.prototype.H;Ri.prototype.on=Ri.prototype.D;Ri.prototype.once=Ri.prototype.I,Ri.prototype.un=Ri.prototype.G,Ri.prototype.unByKey=Ri.prototype.J,Bp.prototype.getAttributions=Bp.prototype.ra,Bp.prototype.getLogo=Bp.prototype.qa,Bp.prototype.getProjection=Bp.prototype.sa,Bp.prototype.getState=Bp.prototype.V,Bp.prototype.refresh=Bp.prototype.pa,Bp.prototype.setAttributions=Bp.prototype.ka,Bp.prototype.get=Bp.prototype.get,Bp.prototype.getKeys=Bp.prototype.K,Bp.prototype.getProperties=Bp.prototype.L,Bp.prototype.set=Bp.prototype.set,Bp.prototype.setProperties=Bp.prototype.C,Bp.prototype.unset=Bp.prototype.P,Bp.prototype.changed=Bp.prototype.u,Bp.prototype.dispatchEvent=Bp.prototype.b,Bp.prototype.getRevision=Bp.prototype.H,Bp.prototype.on=Bp.prototype.D,Bp.prototype.once=Bp.prototype.I,Bp.prototype.un=Bp.prototype.G,Bp.prototype.unByKey=Bp.prototype.J,Fp.prototype.setRenderReprojectionEdges=Fp.prototype.lb,Fp.prototype.setTileGridForProjection=Fp.prototype.mb,Fp.prototype.getTileLoadFunction=Fp.prototype.Xa,Fp.prototype.getTileUrlFunction=Fp.prototype.Ya,Fp.prototype.getUrls=Fp.prototype.Za,Fp.prototype.setTileLoadFunction=Fp.prototype.cb,Fp.prototype.setTileUrlFunction=Fp.prototype.La,Fp.prototype.setUrl=Fp.prototype.Na,Fp.prototype.setUrls=Fp.prototype.Ua,Fp.prototype.getTileGrid=Fp.prototype.Ga,Fp.prototype.refresh=Fp.prototype.pa,Fp.prototype.getAttributions=Fp.prototype.ra,Fp.prototype.getLogo=Fp.prototype.qa,Fp.prototype.getProjection=Fp.prototype.sa,Fp.prototype.getState=Fp.prototype.V,Fp.prototype.setAttributions=Fp.prototype.ka,Fp.prototype.get=Fp.prototype.get,Fp.prototype.getKeys=Fp.prototype.K,Fp.prototype.getProperties=Fp.prototype.L,Fp.prototype.set=Fp.prototype.set,Fp.prototype.setProperties=Fp.prototype.C,Fp.prototype.unset=Fp.prototype.P,Fp.prototype.changed=Fp.prototype.u,Fp.prototype.dispatchEvent=Fp.prototype.b,Fp.prototype.getRevision=Fp.prototype.H,Fp.prototype.on=Fp.prototype.D,Fp.prototype.once=Fp.prototype.I,Fp.prototype.un=Fp.prototype.G,Fp.prototype.unByKey=Fp.prototype.J,Ep.prototype.setRenderReprojectionEdges=Ep.prototype.lb,Ep.prototype.setTileGridForProjection=Ep.prototype.mb,Ep.prototype.getTileLoadFunction=Ep.prototype.Xa,Ep.prototype.getTileUrlFunction=Ep.prototype.Ya,Ep.prototype.getUrls=Ep.prototype.Za,Ep.prototype.setTileLoadFunction=Ep.prototype.cb,Ep.prototype.setTileUrlFunction=Ep.prototype.La,Ep.prototype.setUrl=Ep.prototype.Na,Ep.prototype.setUrls=Ep.prototype.Ua,Ep.prototype.getTileGrid=Ep.prototype.Ga,Ep.prototype.refresh=Ep.prototype.pa,Ep.prototype.getAttributions=Ep.prototype.ra,Ep.prototype.getLogo=Ep.prototype.qa,Ep.prototype.getProjection=Ep.prototype.sa,Ep.prototype.getState=Ep.prototype.V,Ep.prototype.setAttributions=Ep.prototype.ka,Ep.prototype.get=Ep.prototype.get,Ep.prototype.getKeys=Ep.prototype.K,Ep.prototype.getProperties=Ep.prototype.L,Ep.prototype.set=Ep.prototype.set,Ep.prototype.setProperties=Ep.prototype.C,Ep.prototype.unset=Ep.prototype.P,Ep.prototype.changed=Ep.prototype.u,Ep.prototype.dispatchEvent=Ep.prototype.b,Ep.prototype.getRevision=Ep.prototype.H,Ep.prototype.on=Ep.prototype.D,Ep.prototype.once=Ep.prototype.I,Ep.prototype.un=Ep.prototype.G,Ep.prototype.unByKey=Ep.prototype.J,Gp.prototype.getAttributions=Gp.prototype.ra,Gp.prototype.getLogo=Gp.prototype.qa,Gp.prototype.getProjection=Gp.prototype.sa,Gp.prototype.getState=Gp.prototype.V,Gp.prototype.refresh=Gp.prototype.pa,Gp.prototype.setAttributions=Gp.prototype.ka,Gp.prototype.get=Gp.prototype.get,Gp.prototype.getKeys=Gp.prototype.K,Gp.prototype.getProperties=Gp.prototype.L,Gp.prototype.set=Gp.prototype.set,Gp.prototype.setProperties=Gp.prototype.C,Gp.prototype.unset=Gp.prototype.P,Gp.prototype.changed=Gp.prototype.u,Gp.prototype.dispatchEvent=Gp.prototype.b,Gp.prototype.getRevision=Gp.prototype.H,Gp.prototype.on=Gp.prototype.D,Gp.prototype.once=Gp.prototype.I,Gp.prototype.un=Gp.prototype.G,Gp.prototype.unByKey=Gp.prototype.J,Kp.prototype.type=Kp.prototype.type,Kp.prototype.target=Kp.prototype.target,Kp.prototype.preventDefault=Kp.prototype.preventDefault,Kp.prototype.stopPropagation=Kp.prototype.stopPropagation,Lp.prototype.setRenderReprojectionEdges=Lp.prototype.lb,Lp.prototype.setTileGridForProjection=Lp.prototype.mb,Lp.prototype.getTileLoadFunction=Lp.prototype.Xa,Lp.prototype.getTileUrlFunction=Lp.prototype.Ya,Lp.prototype.getUrls=Lp.prototype.Za,Lp.prototype.setTileLoadFunction=Lp.prototype.cb,Lp.prototype.setTileUrlFunction=Lp.prototype.La,Lp.prototype.setUrl=Lp.prototype.Na,Lp.prototype.setUrls=Lp.prototype.Ua,Lp.prototype.getTileGrid=Lp.prototype.Ga,Lp.prototype.refresh=Lp.prototype.pa,Lp.prototype.getAttributions=Lp.prototype.ra,Lp.prototype.getLogo=Lp.prototype.qa,Lp.prototype.getProjection=Lp.prototype.sa,Lp.prototype.getState=Lp.prototype.V,Lp.prototype.setAttributions=Lp.prototype.ka,Lp.prototype.get=Lp.prototype.get,Lp.prototype.getKeys=Lp.prototype.K,Lp.prototype.getProperties=Lp.prototype.L,Lp.prototype.set=Lp.prototype.set,Lp.prototype.setProperties=Lp.prototype.C,Lp.prototype.unset=Lp.prototype.P,Lp.prototype.changed=Lp.prototype.u,Lp.prototype.dispatchEvent=Lp.prototype.b,Lp.prototype.getRevision=Lp.prototype.H,Lp.prototype.on=Lp.prototype.D,Lp.prototype.once=Lp.prototype.I,Lp.prototype.un=Lp.prototype.G,Lp.prototype.unByKey=Lp.prototype.J,Mp.prototype.setRenderReprojectionEdges=Mp.prototype.lb,Mp.prototype.setTileGridForProjection=Mp.prototype.mb,Mp.prototype.getTileLoadFunction=Mp.prototype.Xa,Mp.prototype.getTileUrlFunction=Mp.prototype.Ya,Mp.prototype.getUrls=Mp.prototype.Za,Mp.prototype.setTileLoadFunction=Mp.prototype.cb,Mp.prototype.setTileUrlFunction=Mp.prototype.La,Mp.prototype.setUrl=Mp.prototype.Na,Mp.prototype.setUrls=Mp.prototype.Ua,Mp.prototype.getTileGrid=Mp.prototype.Ga,Mp.prototype.refresh=Mp.prototype.pa,Mp.prototype.getAttributions=Mp.prototype.ra,Mp.prototype.getLogo=Mp.prototype.qa,Mp.prototype.getProjection=Mp.prototype.sa,Mp.prototype.getState=Mp.prototype.V,Mp.prototype.setAttributions=Mp.prototype.ka,Mp.prototype.get=Mp.prototype.get,Mp.prototype.getKeys=Mp.prototype.K,Mp.prototype.getProperties=Mp.prototype.L,Mp.prototype.set=Mp.prototype.set,Mp.prototype.setProperties=Mp.prototype.C,Mp.prototype.unset=Mp.prototype.P,Mp.prototype.changed=Mp.prototype.u,Mp.prototype.dispatchEvent=Mp.prototype.b,Mp.prototype.getRevision=Mp.prototype.H,Mp.prototype.on=Mp.prototype.D,Mp.prototype.once=Mp.prototype.I,Mp.prototype.un=Mp.prototype.G,Mp.prototype.unByKey=Mp.prototype.J,Op.prototype.getTileGrid=Op.prototype.Ga,Op.prototype.refresh=Op.prototype.pa,Op.prototype.getAttributions=Op.prototype.ra,Op.prototype.getLogo=Op.prototype.qa,Op.prototype.getProjection=Op.prototype.sa,Op.prototype.getState=Op.prototype.V,Op.prototype.setAttributions=Op.prototype.ka,Op.prototype.get=Op.prototype.get,Op.prototype.getKeys=Op.prototype.K,Op.prototype.getProperties=Op.prototype.L,Op.prototype.set=Op.prototype.set,Op.prototype.setProperties=Op.prototype.C,Op.prototype.unset=Op.prototype.P,Op.prototype.changed=Op.prototype.u,Op.prototype.dispatchEvent=Op.prototype.b,Op.prototype.getRevision=Op.prototype.H,Op.prototype.on=Op.prototype.D,Op.prototype.once=Op.prototype.I,Op.prototype.un=Op.prototype.G,Op.prototype.unByKey=Op.prototype.J,Pp.prototype.setRenderReprojectionEdges=Pp.prototype.lb,Pp.prototype.setTileGridForProjection=Pp.prototype.mb,Pp.prototype.getTileLoadFunction=Pp.prototype.Xa,Pp.prototype.getTileUrlFunction=Pp.prototype.Ya,Pp.prototype.getUrls=Pp.prototype.Za,Pp.prototype.setTileLoadFunction=Pp.prototype.cb,Pp.prototype.setTileUrlFunction=Pp.prototype.La,Pp.prototype.setUrl=Pp.prototype.Na,Pp.prototype.setUrls=Pp.prototype.Ua,Pp.prototype.getTileGrid=Pp.prototype.Ga,Pp.prototype.refresh=Pp.prototype.pa,Pp.prototype.getAttributions=Pp.prototype.ra,Pp.prototype.getLogo=Pp.prototype.qa,Pp.prototype.getProjection=Pp.prototype.sa,Pp.prototype.getState=Pp.prototype.V,Pp.prototype.setAttributions=Pp.prototype.ka,Pp.prototype.get=Pp.prototype.get,Pp.prototype.getKeys=Pp.prototype.K,Pp.prototype.getProperties=Pp.prototype.L;Pp.prototype.set=Pp.prototype.set;Pp.prototype.setProperties=Pp.prototype.C,Pp.prototype.unset=Pp.prototype.P,Pp.prototype.changed=Pp.prototype.u,Pp.prototype.dispatchEvent=Pp.prototype.b,Pp.prototype.getRevision=Pp.prototype.H,Pp.prototype.on=Pp.prototype.D,Pp.prototype.once=Pp.prototype.I,Pp.prototype.un=Pp.prototype.G,Pp.prototype.unByKey=Pp.prototype.J,fe.prototype.type=fe.prototype.type,fe.prototype.target=fe.prototype.target,fe.prototype.preventDefault=fe.prototype.preventDefault,fe.prototype.stopPropagation=fe.prototype.stopPropagation,Qp.prototype.getTileGrid=Qp.prototype.Ga,Qp.prototype.refresh=Qp.prototype.pa,Qp.prototype.getAttributions=Qp.prototype.ra,Qp.prototype.getLogo=Qp.prototype.qa,Qp.prototype.getProjection=Qp.prototype.sa,Qp.prototype.getState=Qp.prototype.V,Qp.prototype.setAttributions=Qp.prototype.ka,Qp.prototype.get=Qp.prototype.get,Qp.prototype.getKeys=Qp.prototype.K,Qp.prototype.getProperties=Qp.prototype.L,Qp.prototype.set=Qp.prototype.set,Qp.prototype.setProperties=Qp.prototype.C,Qp.prototype.unset=Qp.prototype.P,Qp.prototype.changed=Qp.prototype.u,Qp.prototype.dispatchEvent=Qp.prototype.b,Qp.prototype.getRevision=Qp.prototype.H,Qp.prototype.on=Qp.prototype.D,Qp.prototype.once=Qp.prototype.I,Qp.prototype.un=Qp.prototype.G,Qp.prototype.unByKey=Qp.prototype.J,Up.prototype.setRenderReprojectionEdges=Up.prototype.lb,Up.prototype.setTileGridForProjection=Up.prototype.mb,Up.prototype.getTileLoadFunction=Up.prototype.Xa,Up.prototype.getTileUrlFunction=Up.prototype.Ya,Up.prototype.getUrls=Up.prototype.Za,Up.prototype.setTileLoadFunction=Up.prototype.cb,Up.prototype.setTileUrlFunction=Up.prototype.La,Up.prototype.setUrl=Up.prototype.Na,Up.prototype.setUrls=Up.prototype.Ua,Up.prototype.getTileGrid=Up.prototype.Ga,Up.prototype.refresh=Up.prototype.pa,Up.prototype.getAttributions=Up.prototype.ra,Up.prototype.getLogo=Up.prototype.qa,Up.prototype.getProjection=Up.prototype.sa,Up.prototype.getState=Up.prototype.V,Up.prototype.setAttributions=Up.prototype.ka,Up.prototype.get=Up.prototype.get,Up.prototype.getKeys=Up.prototype.K,Up.prototype.getProperties=Up.prototype.L,Up.prototype.set=Up.prototype.set,Up.prototype.setProperties=Up.prototype.C,Up.prototype.unset=Up.prototype.P,Up.prototype.changed=Up.prototype.u,Up.prototype.dispatchEvent=Up.prototype.b,Up.prototype.getRevision=Up.prototype.H,Up.prototype.on=Up.prototype.D,Up.prototype.once=Up.prototype.I,Up.prototype.un=Up.prototype.G,Up.prototype.unByKey=Up.prototype.J,Qi.prototype.type=Qi.prototype.type,Qi.prototype.target=Qi.prototype.target,Qi.prototype.preventDefault=Qi.prototype.preventDefault,Qi.prototype.stopPropagation=Qi.prototype.stopPropagation,bj.prototype.getTileLoadFunction=bj.prototype.Xa,bj.prototype.getTileUrlFunction=bj.prototype.Ya,bj.prototype.getUrls=bj.prototype.Za,bj.prototype.setTileLoadFunction=bj.prototype.cb,bj.prototype.setTileUrlFunction=bj.prototype.La,bj.prototype.setUrl=bj.prototype.Na,bj.prototype.setUrls=bj.prototype.Ua,bj.prototype.getTileGrid=bj.prototype.Ga,bj.prototype.refresh=bj.prototype.pa,bj.prototype.getAttributions=bj.prototype.ra,bj.prototype.getLogo=bj.prototype.qa,bj.prototype.getProjection=bj.prototype.sa,bj.prototype.getState=bj.prototype.V,bj.prototype.setAttributions=bj.prototype.ka,bj.prototype.get=bj.prototype.get,bj.prototype.getKeys=bj.prototype.K,bj.prototype.getProperties=bj.prototype.L,bj.prototype.set=bj.prototype.set,bj.prototype.setProperties=bj.prototype.C,bj.prototype.unset=bj.prototype.P,bj.prototype.changed=bj.prototype.u,bj.prototype.dispatchEvent=bj.prototype.b,bj.prototype.getRevision=bj.prototype.H,bj.prototype.on=bj.prototype.D,bj.prototype.once=bj.prototype.I,bj.prototype.un=bj.prototype.G,bj.prototype.unByKey=bj.prototype.J,_p.prototype.setRenderReprojectionEdges=_p.prototype.lb,_p.prototype.setTileGridForProjection=_p.prototype.mb,_p.prototype.getTileLoadFunction=_p.prototype.Xa,_p.prototype.getTileUrlFunction=_p.prototype.Ya,_p.prototype.getUrls=_p.prototype.Za,_p.prototype.setTileLoadFunction=_p.prototype.cb,_p.prototype.setTileUrlFunction=_p.prototype.La,_p.prototype.setUrl=_p.prototype.Na,_p.prototype.setUrls=_p.prototype.Ua,_p.prototype.getTileGrid=_p.prototype.Ga,_p.prototype.refresh=_p.prototype.pa,_p.prototype.getAttributions=_p.prototype.ra,_p.prototype.getLogo=_p.prototype.qa,_p.prototype.getProjection=_p.prototype.sa,_p.prototype.getState=_p.prototype.V,_p.prototype.setAttributions=_p.prototype.ka,_p.prototype.get=_p.prototype.get,_p.prototype.getKeys=_p.prototype.K,_p.prototype.getProperties=_p.prototype.L,_p.prototype.set=_p.prototype.set,_p.prototype.setProperties=_p.prototype.C,_p.prototype.unset=_p.prototype.P,_p.prototype.changed=_p.prototype.u,_p.prototype.dispatchEvent=_p.prototype.b,_p.prototype.getRevision=_p.prototype.H,_p.prototype.on=_p.prototype.D,_p.prototype.once=_p.prototype.I,_p.prototype.un=_p.prototype.G,_p.prototype.unByKey=_p.prototype.J,bq.prototype.setRenderReprojectionEdges=bq.prototype.lb,bq.prototype.setTileGridForProjection=bq.prototype.mb,bq.prototype.getTileLoadFunction=bq.prototype.Xa,bq.prototype.getTileUrlFunction=bq.prototype.Ya,bq.prototype.getUrls=bq.prototype.Za,bq.prototype.setTileLoadFunction=bq.prototype.cb,bq.prototype.setTileUrlFunction=bq.prototype.La,bq.prototype.setUrl=bq.prototype.Na,bq.prototype.setUrls=bq.prototype.Ua,bq.prototype.getTileGrid=bq.prototype.Ga,bq.prototype.refresh=bq.prototype.pa,bq.prototype.getAttributions=bq.prototype.ra,bq.prototype.getLogo=bq.prototype.qa,bq.prototype.getProjection=bq.prototype.sa,bq.prototype.getState=bq.prototype.V,bq.prototype.setAttributions=bq.prototype.ka,bq.prototype.get=bq.prototype.get,bq.prototype.getKeys=bq.prototype.K,bq.prototype.getProperties=bq.prototype.L,bq.prototype.set=bq.prototype.set,bq.prototype.setProperties=bq.prototype.C,bq.prototype.unset=bq.prototype.P,bq.prototype.changed=bq.prototype.u,bq.prototype.dispatchEvent=bq.prototype.b,bq.prototype.getRevision=bq.prototype.H,bq.prototype.on=bq.prototype.D,bq.prototype.once=bq.prototype.I,bq.prototype.un=bq.prototype.G,bq.prototype.unByKey=bq.prototype.J,lp.prototype.getTileCoord=lp.prototype.i,mf.prototype.changed=mf.prototype.u,mf.prototype.dispatchEvent=mf.prototype.b,mf.prototype.getRevision=mf.prototype.H,mf.prototype.on=mf.prototype.D,mf.prototype.once=mf.prototype.I,mf.prototype.un=mf.prototype.G,mf.prototype.unByKey=mf.prototype.J,Uj.prototype.changed=Uj.prototype.u,Uj.prototype.dispatchEvent=Uj.prototype.b,Uj.prototype.getRevision=Uj.prototype.H,Uj.prototype.on=Uj.prototype.D,Uj.prototype.once=Uj.prototype.I,Uj.prototype.un=Uj.prototype.G,Uj.prototype.unByKey=Uj.prototype.J,Xj.prototype.changed=Xj.prototype.u,Xj.prototype.dispatchEvent=Xj.prototype.b,Xj.prototype.getRevision=Xj.prototype.H,Xj.prototype.on=Xj.prototype.D,Xj.prototype.once=Xj.prototype.I,Xj.prototype.un=Xj.prototype.G,Xj.prototype.unByKey=Xj.prototype.J,bk.prototype.changed=bk.prototype.u,bk.prototype.dispatchEvent=bk.prototype.b,bk.prototype.getRevision=bk.prototype.H,bk.prototype.on=bk.prototype.D,bk.prototype.once=bk.prototype.I,bk.prototype.un=bk.prototype.G,bk.prototype.unByKey=bk.prototype.J,ck.prototype.changed=ck.prototype.u,ck.prototype.dispatchEvent=ck.prototype.b,ck.prototype.getRevision=ck.prototype.H,ck.prototype.on=ck.prototype.D,ck.prototype.once=ck.prototype.I,ck.prototype.un=ck.prototype.G,ck.prototype.unByKey=ck.prototype.J,hj.prototype.changed=hj.prototype.u,hj.prototype.dispatchEvent=hj.prototype.b,hj.prototype.getRevision=hj.prototype.H,hj.prototype.on=hj.prototype.D,hj.prototype.once=hj.prototype.I,hj.prototype.un=hj.prototype.G,hj.prototype.unByKey=hj.prototype.J,ij.prototype.changed=ij.prototype.u,ij.prototype.dispatchEvent=ij.prototype.b,ij.prototype.getRevision=ij.prototype.H,ij.prototype.on=ij.prototype.D,ij.prototype.once=ij.prototype.I,ij.prototype.un=ij.prototype.G;ij.prototype.unByKey=ij.prototype.J;return jj.prototype.changed=jj.prototype.u,jj.prototype.dispatchEvent=jj.prototype.b,jj.prototype.getRevision=jj.prototype.H,jj.prototype.on=jj.prototype.D,jj.prototype.once=jj.prototype.I,jj.prototype.un=jj.prototype.G,jj.prototype.unByKey=jj.prototype.J,lj.prototype.changed=lj.prototype.u,lj.prototype.dispatchEvent=lj.prototype.b,lj.prototype.getRevision=lj.prototype.H,lj.prototype.on=lj.prototype.D,lj.prototype.once=lj.prototype.I,lj.prototype.un=lj.prototype.G,lj.prototype.unByKey=lj.prototype.J,rh.prototype.changed=rh.prototype.u,rh.prototype.dispatchEvent=rh.prototype.b,rh.prototype.getRevision=rh.prototype.H,rh.prototype.on=rh.prototype.D,rh.prototype.once=rh.prototype.I,rh.prototype.un=rh.prototype.G,rh.prototype.unByKey=rh.prototype.J,Ti.prototype.changed=Ti.prototype.u,Ti.prototype.dispatchEvent=Ti.prototype.b,Ti.prototype.getRevision=Ti.prototype.H,Ti.prototype.on=Ti.prototype.D,Ti.prototype.once=Ti.prototype.I,Ti.prototype.un=Ti.prototype.G,Ti.prototype.unByKey=Ti.prototype.J,Ui.prototype.changed=Ui.prototype.u,Ui.prototype.dispatchEvent=Ui.prototype.b,Ui.prototype.getRevision=Ui.prototype.H,Ui.prototype.on=Ui.prototype.D,Ui.prototype.once=Ui.prototype.I,Ui.prototype.un=Ui.prototype.G,Ui.prototype.unByKey=Ui.prototype.J,Wi.prototype.changed=Wi.prototype.u,Wi.prototype.dispatchEvent=Wi.prototype.b,Wi.prototype.getRevision=Wi.prototype.H,Wi.prototype.on=Wi.prototype.D,Wi.prototype.once=Wi.prototype.I,Wi.prototype.un=Wi.prototype.G,Wi.prototype.unByKey=Wi.prototype.J,dj.prototype.changed=dj.prototype.u,dj.prototype.dispatchEvent=dj.prototype.b,dj.prototype.getRevision=dj.prototype.H,dj.prototype.on=dj.prototype.D,dj.prototype.once=dj.prototype.I,dj.prototype.un=dj.prototype.G,dj.prototype.unByKey=dj.prototype.J,df.prototype.type=df.prototype.type,df.prototype.target=df.prototype.target,df.prototype.preventDefault=df.prototype.preventDefault,df.prototype.stopPropagation=df.prototype.stopPropagation,we.prototype.type=we.prototype.type,we.prototype.target=we.prototype.target,we.prototype.preventDefault=we.prototype.preventDefault,we.prototype.stopPropagation=we.prototype.stopPropagation,af.prototype.get=af.prototype.get,af.prototype.getKeys=af.prototype.K,af.prototype.getProperties=af.prototype.L,af.prototype.set=af.prototype.set,af.prototype.setProperties=af.prototype.C,af.prototype.unset=af.prototype.P,af.prototype.changed=af.prototype.u,af.prototype.dispatchEvent=af.prototype.b,af.prototype.getRevision=af.prototype.H,af.prototype.on=af.prototype.D,af.prototype.once=af.prototype.I,af.prototype.un=af.prototype.G,af.prototype.unByKey=af.prototype.J,ef.prototype.getExtent=ef.prototype.O,ef.prototype.getMaxResolution=ef.prototype.Ib,ef.prototype.getMinResolution=ef.prototype.Jb,ef.prototype.getOpacity=ef.prototype.Lb,ef.prototype.getVisible=ef.prototype.wb,ef.prototype.getZIndex=ef.prototype.Mb,ef.prototype.setExtent=ef.prototype.ac,ef.prototype.setMaxResolution=ef.prototype.ic,ef.prototype.setMinResolution=ef.prototype.jc,ef.prototype.setOpacity=ef.prototype.bc,ef.prototype.setVisible=ef.prototype.cc,ef.prototype.setZIndex=ef.prototype.dc,ef.prototype.get=ef.prototype.get,ef.prototype.getKeys=ef.prototype.K,ef.prototype.getProperties=ef.prototype.L,ef.prototype.set=ef.prototype.set,ef.prototype.setProperties=ef.prototype.C,ef.prototype.unset=ef.prototype.P,ef.prototype.changed=ef.prototype.u,ef.prototype.dispatchEvent=ef.prototype.b,ef.prototype.getRevision=ef.prototype.H,ef.prototype.on=ef.prototype.D,ef.prototype.once=ef.prototype.I,ef.prototype.un=ef.prototype.G,ef.prototype.unByKey=ef.prototype.J,hh.prototype.setMap=hh.prototype.setMap,hh.prototype.setSource=hh.prototype.Ac,hh.prototype.getExtent=hh.prototype.O,hh.prototype.getMaxResolution=hh.prototype.Ib,hh.prototype.getMinResolution=hh.prototype.Jb,hh.prototype.getOpacity=hh.prototype.Lb,hh.prototype.getVisible=hh.prototype.wb,hh.prototype.getZIndex=hh.prototype.Mb,hh.prototype.setExtent=hh.prototype.ac,hh.prototype.setMaxResolution=hh.prototype.ic,hh.prototype.setMinResolution=hh.prototype.jc,hh.prototype.setOpacity=hh.prototype.bc,hh.prototype.setVisible=hh.prototype.cc,hh.prototype.setZIndex=hh.prototype.dc,hh.prototype.get=hh.prototype.get,hh.prototype.getKeys=hh.prototype.K,hh.prototype.getProperties=hh.prototype.L,hh.prototype.set=hh.prototype.set,hh.prototype.setProperties=hh.prototype.C,hh.prototype.unset=hh.prototype.P,hh.prototype.changed=hh.prototype.u,hh.prototype.dispatchEvent=hh.prototype.b,hh.prototype.getRevision=hh.prototype.H,hh.prototype.on=hh.prototype.D,hh.prototype.once=hh.prototype.I,hh.prototype.un=hh.prototype.G,hh.prototype.unByKey=hh.prototype.J,jp.prototype.getSource=jp.prototype.da,jp.prototype.getStyle=jp.prototype.M,jp.prototype.getStyleFunction=jp.prototype.N,jp.prototype.setStyle=jp.prototype.l,jp.prototype.setMap=jp.prototype.setMap,jp.prototype.setSource=jp.prototype.Ac,jp.prototype.getExtent=jp.prototype.O,jp.prototype.getMaxResolution=jp.prototype.Ib,jp.prototype.getMinResolution=jp.prototype.Jb,jp.prototype.getOpacity=jp.prototype.Lb,jp.prototype.getVisible=jp.prototype.wb,jp.prototype.getZIndex=jp.prototype.Mb,jp.prototype.setExtent=jp.prototype.ac,jp.prototype.setMaxResolution=jp.prototype.ic,jp.prototype.setMinResolution=jp.prototype.jc,jp.prototype.setOpacity=jp.prototype.bc,jp.prototype.setVisible=jp.prototype.cc,jp.prototype.setZIndex=jp.prototype.dc,jp.prototype.get=jp.prototype.get,jp.prototype.getKeys=jp.prototype.K,jp.prototype.getProperties=jp.prototype.L,jp.prototype.set=jp.prototype.set,jp.prototype.setProperties=jp.prototype.C,jp.prototype.unset=jp.prototype.P,jp.prototype.changed=jp.prototype.u,jp.prototype.dispatchEvent=jp.prototype.b,jp.prototype.getRevision=jp.prototype.H,jp.prototype.on=jp.prototype.D,jp.prototype.once=jp.prototype.I,jp.prototype.un=jp.prototype.G,jp.prototype.unByKey=jp.prototype.J,Sg.prototype.setMap=Sg.prototype.setMap,Sg.prototype.setSource=Sg.prototype.Ac,Sg.prototype.getExtent=Sg.prototype.O,Sg.prototype.getMaxResolution=Sg.prototype.Ib,Sg.prototype.getMinResolution=Sg.prototype.Jb,Sg.prototype.getOpacity=Sg.prototype.Lb,Sg.prototype.getVisible=Sg.prototype.wb,Sg.prototype.getZIndex=Sg.prototype.Mb,Sg.prototype.setExtent=Sg.prototype.ac,Sg.prototype.setMaxResolution=Sg.prototype.ic,Sg.prototype.setMinResolution=Sg.prototype.jc,Sg.prototype.setOpacity=Sg.prototype.bc,Sg.prototype.setVisible=Sg.prototype.cc,Sg.prototype.setZIndex=Sg.prototype.dc,Sg.prototype.get=Sg.prototype.get,Sg.prototype.getKeys=Sg.prototype.K,Sg.prototype.getProperties=Sg.prototype.L,Sg.prototype.set=Sg.prototype.set,Sg.prototype.setProperties=Sg.prototype.C,Sg.prototype.unset=Sg.prototype.P,Sg.prototype.changed=Sg.prototype.u,Sg.prototype.dispatchEvent=Sg.prototype.b,Sg.prototype.getRevision=Sg.prototype.H,Sg.prototype.on=Sg.prototype.D,Sg.prototype.once=Sg.prototype.I,Sg.prototype.un=Sg.prototype.G,Sg.prototype.unByKey=Sg.prototype.J,Mg.prototype.getExtent=Mg.prototype.O,Mg.prototype.getMaxResolution=Mg.prototype.Ib,Mg.prototype.getMinResolution=Mg.prototype.Jb,Mg.prototype.getOpacity=Mg.prototype.Lb,Mg.prototype.getVisible=Mg.prototype.wb,Mg.prototype.getZIndex=Mg.prototype.Mb,Mg.prototype.setExtent=Mg.prototype.ac,Mg.prototype.setMaxResolution=Mg.prototype.ic,Mg.prototype.setMinResolution=Mg.prototype.jc,Mg.prototype.setOpacity=Mg.prototype.bc,Mg.prototype.setVisible=Mg.prototype.cc,Mg.prototype.setZIndex=Mg.prototype.dc,Mg.prototype.get=Mg.prototype.get,Mg.prototype.getKeys=Mg.prototype.K,Mg.prototype.getProperties=Mg.prototype.L,Mg.prototype.set=Mg.prototype.set,Mg.prototype.setProperties=Mg.prototype.C,Mg.prototype.unset=Mg.prototype.P,Mg.prototype.changed=Mg.prototype.u,Mg.prototype.dispatchEvent=Mg.prototype.b,Mg.prototype.getRevision=Mg.prototype.H,Mg.prototype.on=Mg.prototype.D,Mg.prototype.once=Mg.prototype.I,Mg.prototype.un=Mg.prototype.G,Mg.prototype.unByKey=Mg.prototype.J,Tg.prototype.setMap=Tg.prototype.setMap,Tg.prototype.setSource=Tg.prototype.Ac,Tg.prototype.getExtent=Tg.prototype.O,Tg.prototype.getMaxResolution=Tg.prototype.Ib,Tg.prototype.getMinResolution=Tg.prototype.Jb,Tg.prototype.getOpacity=Tg.prototype.Lb,Tg.prototype.getVisible=Tg.prototype.wb,Tg.prototype.getZIndex=Tg.prototype.Mb,Tg.prototype.setExtent=Tg.prototype.ac,Tg.prototype.setMaxResolution=Tg.prototype.ic,Tg.prototype.setMinResolution=Tg.prototype.jc,Tg.prototype.setOpacity=Tg.prototype.bc,Tg.prototype.setVisible=Tg.prototype.cc,Tg.prototype.setZIndex=Tg.prototype.dc,Tg.prototype.get=Tg.prototype.get,Tg.prototype.getKeys=Tg.prototype.K,Tg.prototype.getProperties=Tg.prototype.L,Tg.prototype.set=Tg.prototype.set,Tg.prototype.setProperties=Tg.prototype.C,Tg.prototype.unset=Tg.prototype.P,Tg.prototype.changed=Tg.prototype.u,Tg.prototype.dispatchEvent=Tg.prototype.b,Tg.prototype.getRevision=Tg.prototype.H,Tg.prototype.on=Tg.prototype.D,Tg.prototype.once=Tg.prototype.I,Tg.prototype.un=Tg.prototype.G,Tg.prototype.unByKey=Tg.prototype.J,jh.prototype.getSource=jh.prototype.da,jh.prototype.getStyle=jh.prototype.M,jh.prototype.getStyleFunction=jh.prototype.N,jh.prototype.setStyle=jh.prototype.l,jh.prototype.setMap=jh.prototype.setMap,jh.prototype.setSource=jh.prototype.Ac,jh.prototype.getExtent=jh.prototype.O,jh.prototype.getMaxResolution=jh.prototype.Ib,jh.prototype.getMinResolution=jh.prototype.Jb,jh.prototype.getOpacity=jh.prototype.Lb,jh.prototype.getVisible=jh.prototype.wb,jh.prototype.getZIndex=jh.prototype.Mb,jh.prototype.setExtent=jh.prototype.ac,jh.prototype.setMaxResolution=jh.prototype.ic,jh.prototype.setMinResolution=jh.prototype.jc,jh.prototype.setOpacity=jh.prototype.bc,jh.prototype.setVisible=jh.prototype.cc,jh.prototype.setZIndex=jh.prototype.dc,jh.prototype.get=jh.prototype.get,jh.prototype.getKeys=jh.prototype.K,jh.prototype.getProperties=jh.prototype.L,jh.prototype.set=jh.prototype.set,jh.prototype.setProperties=jh.prototype.C,jh.prototype.unset=jh.prototype.P,jh.prototype.changed=jh.prototype.u,jh.prototype.dispatchEvent=jh.prototype.b,jh.prototype.getRevision=jh.prototype.H,jh.prototype.on=jh.prototype.D,jh.prototype.once=jh.prototype.I,jh.prototype.un=jh.prototype.G,jh.prototype.unByKey=jh.prototype.J,
Pf.prototype.get=Pf.prototype.get,Pf.prototype.getKeys=Pf.prototype.K,Pf.prototype.getProperties=Pf.prototype.L,Pf.prototype.set=Pf.prototype.set,Pf.prototype.setProperties=Pf.prototype.C,Pf.prototype.unset=Pf.prototype.P,Pf.prototype.changed=Pf.prototype.u,Pf.prototype.dispatchEvent=Pf.prototype.b,Pf.prototype.getRevision=Pf.prototype.H,Pf.prototype.on=Pf.prototype.D,Pf.prototype.once=Pf.prototype.I,Pf.prototype.un=Pf.prototype.G,Pf.prototype.unByKey=Pf.prototype.J,Tf.prototype.getActive=Tf.prototype.f,Tf.prototype.getMap=Tf.prototype.l,Tf.prototype.setActive=Tf.prototype.i,Tf.prototype.get=Tf.prototype.get,Tf.prototype.getKeys=Tf.prototype.K,Tf.prototype.getProperties=Tf.prototype.L,Tf.prototype.set=Tf.prototype.set,Tf.prototype.setProperties=Tf.prototype.C,Tf.prototype.unset=Tf.prototype.P,Tf.prototype.changed=Tf.prototype.u,Tf.prototype.dispatchEvent=Tf.prototype.b,Tf.prototype.getRevision=Tf.prototype.H,Tf.prototype.on=Tf.prototype.D,Tf.prototype.once=Tf.prototype.I,Tf.prototype.un=Tf.prototype.G,Tf.prototype.unByKey=Tf.prototype.J,no.prototype.getActive=no.prototype.f,no.prototype.getMap=no.prototype.l,no.prototype.setActive=no.prototype.i,no.prototype.get=no.prototype.get,no.prototype.getKeys=no.prototype.K,no.prototype.getProperties=no.prototype.L,no.prototype.set=no.prototype.set,no.prototype.setProperties=no.prototype.C,no.prototype.unset=no.prototype.P,no.prototype.changed=no.prototype.u,no.prototype.dispatchEvent=no.prototype.b,no.prototype.getRevision=no.prototype.H,no.prototype.on=no.prototype.D,no.prototype.once=no.prototype.I,no.prototype.un=no.prototype.G,no.prototype.unByKey=no.prototype.J,qo.prototype.type=qo.prototype.type,qo.prototype.target=qo.prototype.target,qo.prototype.preventDefault=qo.prototype.preventDefault,qo.prototype.stopPropagation=qo.prototype.stopPropagation,qg.prototype.type=qg.prototype.type,qg.prototype.target=qg.prototype.target,qg.prototype.preventDefault=qg.prototype.preventDefault,qg.prototype.stopPropagation=qg.prototype.stopPropagation,cg.prototype.getActive=cg.prototype.f,cg.prototype.getMap=cg.prototype.l,cg.prototype.setActive=cg.prototype.i,cg.prototype.get=cg.prototype.get,cg.prototype.getKeys=cg.prototype.K,cg.prototype.getProperties=cg.prototype.L,cg.prototype.set=cg.prototype.set,cg.prototype.setProperties=cg.prototype.C,cg.prototype.unset=cg.prototype.P,cg.prototype.changed=cg.prototype.u,cg.prototype.dispatchEvent=cg.prototype.b,cg.prototype.getRevision=cg.prototype.H,cg.prototype.on=cg.prototype.D,cg.prototype.once=cg.prototype.I,cg.prototype.un=cg.prototype.G,cg.prototype.unByKey=cg.prototype.J,rg.prototype.getActive=rg.prototype.f,rg.prototype.getMap=rg.prototype.l,rg.prototype.setActive=rg.prototype.i,rg.prototype.get=rg.prototype.get,rg.prototype.getKeys=rg.prototype.K,rg.prototype.getProperties=rg.prototype.L,rg.prototype.set=rg.prototype.set,rg.prototype.setProperties=rg.prototype.C,rg.prototype.unset=rg.prototype.P,rg.prototype.changed=rg.prototype.u,rg.prototype.dispatchEvent=rg.prototype.b,rg.prototype.getRevision=rg.prototype.H,rg.prototype.on=rg.prototype.D,rg.prototype.once=rg.prototype.I,rg.prototype.un=rg.prototype.G,rg.prototype.unByKey=rg.prototype.J,fg.prototype.getActive=fg.prototype.f,fg.prototype.getMap=fg.prototype.l,fg.prototype.setActive=fg.prototype.i,fg.prototype.get=fg.prototype.get,fg.prototype.getKeys=fg.prototype.K,fg.prototype.getProperties=fg.prototype.L,fg.prototype.set=fg.prototype.set,fg.prototype.setProperties=fg.prototype.C,fg.prototype.unset=fg.prototype.P,fg.prototype.changed=fg.prototype.u,fg.prototype.dispatchEvent=fg.prototype.b,fg.prototype.getRevision=fg.prototype.H,fg.prototype.on=fg.prototype.D,fg.prototype.once=fg.prototype.I,fg.prototype.un=fg.prototype.G,fg.prototype.unByKey=fg.prototype.J,ro.prototype.getActive=ro.prototype.f,ro.prototype.getMap=ro.prototype.l,ro.prototype.setActive=ro.prototype.i,ro.prototype.get=ro.prototype.get,ro.prototype.getKeys=ro.prototype.K,ro.prototype.getProperties=ro.prototype.L,ro.prototype.set=ro.prototype.set,ro.prototype.setProperties=ro.prototype.C,ro.prototype.unset=ro.prototype.P,ro.prototype.changed=ro.prototype.u,ro.prototype.dispatchEvent=ro.prototype.b,ro.prototype.getRevision=ro.prototype.H,ro.prototype.on=ro.prototype.D,ro.prototype.once=ro.prototype.I,ro.prototype.un=ro.prototype.G,ro.prototype.unByKey=ro.prototype.J,jg.prototype.getActive=jg.prototype.f,jg.prototype.getMap=jg.prototype.l,jg.prototype.setActive=jg.prototype.i,jg.prototype.get=jg.prototype.get,jg.prototype.getKeys=jg.prototype.K,jg.prototype.getProperties=jg.prototype.L,jg.prototype.set=jg.prototype.set,jg.prototype.setProperties=jg.prototype.C,jg.prototype.unset=jg.prototype.P,jg.prototype.changed=jg.prototype.u,jg.prototype.dispatchEvent=jg.prototype.b,jg.prototype.getRevision=jg.prototype.H,jg.prototype.on=jg.prototype.D,jg.prototype.once=jg.prototype.I,jg.prototype.un=jg.prototype.G,jg.prototype.unByKey=jg.prototype.J,wg.prototype.getGeometry=wg.prototype.W,wg.prototype.getActive=wg.prototype.f,wg.prototype.getMap=wg.prototype.l,wg.prototype.setActive=wg.prototype.i,wg.prototype.get=wg.prototype.get,wg.prototype.getKeys=wg.prototype.K,wg.prototype.getProperties=wg.prototype.L,wg.prototype.set=wg.prototype.set,wg.prototype.setProperties=wg.prototype.C,wg.prototype.unset=wg.prototype.P,wg.prototype.changed=wg.prototype.u,wg.prototype.dispatchEvent=wg.prototype.b,wg.prototype.getRevision=wg.prototype.H,wg.prototype.on=wg.prototype.D,wg.prototype.once=wg.prototype.I,wg.prototype.un=wg.prototype.G,wg.prototype.unByKey=wg.prototype.J,vo.prototype.type=vo.prototype.type,vo.prototype.target=vo.prototype.target,vo.prototype.preventDefault=vo.prototype.preventDefault,vo.prototype.stopPropagation=vo.prototype.stopPropagation,wo.prototype.getActive=wo.prototype.f,wo.prototype.getMap=wo.prototype.l,wo.prototype.setActive=wo.prototype.i,wo.prototype.get=wo.prototype.get,wo.prototype.getKeys=wo.prototype.K,wo.prototype.getProperties=wo.prototype.L,wo.prototype.set=wo.prototype.set,wo.prototype.setProperties=wo.prototype.C,wo.prototype.unset=wo.prototype.P,wo.prototype.changed=wo.prototype.u,wo.prototype.dispatchEvent=wo.prototype.b,wo.prototype.getRevision=wo.prototype.H,wo.prototype.on=wo.prototype.D,wo.prototype.once=wo.prototype.I,wo.prototype.un=wo.prototype.G,wo.prototype.unByKey=wo.prototype.J,xg.prototype.getActive=xg.prototype.f,xg.prototype.getMap=xg.prototype.l,xg.prototype.setActive=xg.prototype.i,xg.prototype.get=xg.prototype.get,xg.prototype.getKeys=xg.prototype.K,xg.prototype.getProperties=xg.prototype.L,xg.prototype.set=xg.prototype.set,xg.prototype.setProperties=xg.prototype.C,xg.prototype.unset=xg.prototype.P,xg.prototype.changed=xg.prototype.u,xg.prototype.dispatchEvent=xg.prototype.b,xg.prototype.getRevision=xg.prototype.H,xg.prototype.on=xg.prototype.D,xg.prototype.once=xg.prototype.I,xg.prototype.un=xg.prototype.G,xg.prototype.unByKey=xg.prototype.J,zg.prototype.getActive=zg.prototype.f,zg.prototype.getMap=zg.prototype.l,zg.prototype.setActive=zg.prototype.i,zg.prototype.get=zg.prototype.get,zg.prototype.getKeys=zg.prototype.K,zg.prototype.getProperties=zg.prototype.L,zg.prototype.set=zg.prototype.set,zg.prototype.setProperties=zg.prototype.C,zg.prototype.unset=zg.prototype.P,zg.prototype.changed=zg.prototype.u,zg.prototype.dispatchEvent=zg.prototype.b,zg.prototype.getRevision=zg.prototype.H,zg.prototype.on=zg.prototype.D,zg.prototype.once=zg.prototype.I,zg.prototype.un=zg.prototype.G,zg.prototype.unByKey=zg.prototype.J,Io.prototype.type=Io.prototype.type,Io.prototype.target=Io.prototype.target,Io.prototype.preventDefault=Io.prototype.preventDefault,Io.prototype.stopPropagation=Io.prototype.stopPropagation,Jo.prototype.getActive=Jo.prototype.f,Jo.prototype.getMap=Jo.prototype.l,Jo.prototype.setActive=Jo.prototype.i,Jo.prototype.get=Jo.prototype.get,Jo.prototype.getKeys=Jo.prototype.K,Jo.prototype.getProperties=Jo.prototype.L,Jo.prototype.set=Jo.prototype.set,Jo.prototype.setProperties=Jo.prototype.C,Jo.prototype.unset=Jo.prototype.P,Jo.prototype.changed=Jo.prototype.u,Jo.prototype.dispatchEvent=Jo.prototype.b,Jo.prototype.getRevision=Jo.prototype.H,Jo.prototype.on=Jo.prototype.D,Jo.prototype.once=Jo.prototype.I,Jo.prototype.un=Jo.prototype.G,Jo.prototype.unByKey=Jo.prototype.J,Bg.prototype.getActive=Bg.prototype.f,Bg.prototype.getMap=Bg.prototype.l,Bg.prototype.setActive=Bg.prototype.i,Bg.prototype.get=Bg.prototype.get,Bg.prototype.getKeys=Bg.prototype.K,Bg.prototype.getProperties=Bg.prototype.L,Bg.prototype.set=Bg.prototype.set,Bg.prototype.setProperties=Bg.prototype.C,Bg.prototype.unset=Bg.prototype.P,Bg.prototype.changed=Bg.prototype.u,Bg.prototype.dispatchEvent=Bg.prototype.b,Bg.prototype.getRevision=Bg.prototype.H,Bg.prototype.on=Bg.prototype.D,Bg.prototype.once=Bg.prototype.I,Bg.prototype.un=Bg.prototype.G,Bg.prototype.unByKey=Bg.prototype.J,Dg.prototype.getActive=Dg.prototype.f,Dg.prototype.getMap=Dg.prototype.l,Dg.prototype.setActive=Dg.prototype.i,Dg.prototype.get=Dg.prototype.get,Dg.prototype.getKeys=Dg.prototype.K,Dg.prototype.getProperties=Dg.prototype.L,Dg.prototype.set=Dg.prototype.set,Dg.prototype.setProperties=Dg.prototype.C,Dg.prototype.unset=Dg.prototype.P,Dg.prototype.changed=Dg.prototype.u,Dg.prototype.dispatchEvent=Dg.prototype.b,Dg.prototype.getRevision=Dg.prototype.H,Dg.prototype.on=Dg.prototype.D,Dg.prototype.once=Dg.prototype.I,Dg.prototype.un=Dg.prototype.G,Dg.prototype.unByKey=Dg.prototype.J,Hg.prototype.getActive=Hg.prototype.f,Hg.prototype.getMap=Hg.prototype.l,Hg.prototype.setActive=Hg.prototype.i,Hg.prototype.get=Hg.prototype.get,Hg.prototype.getKeys=Hg.prototype.K,Hg.prototype.getProperties=Hg.prototype.L,Hg.prototype.set=Hg.prototype.set,Hg.prototype.setProperties=Hg.prototype.C,Hg.prototype.unset=Hg.prototype.P,Hg.prototype.changed=Hg.prototype.u,Hg.prototype.dispatchEvent=Hg.prototype.b,Hg.prototype.getRevision=Hg.prototype.H,Hg.prototype.on=Hg.prototype.D,Hg.prototype.once=Hg.prototype.I,Hg.prototype.un=Hg.prototype.G,Hg.prototype.unByKey=Hg.prototype.J,Wo.prototype.type=Wo.prototype.type,Wo.prototype.target=Wo.prototype.target,Wo.prototype.preventDefault=Wo.prototype.preventDefault,Wo.prototype.stopPropagation=Wo.prototype.stopPropagation,Xo.prototype.getActive=Xo.prototype.f,Xo.prototype.getMap=Xo.prototype.l,Xo.prototype.setActive=Xo.prototype.i,Xo.prototype.get=Xo.prototype.get,Xo.prototype.getKeys=Xo.prototype.K,Xo.prototype.getProperties=Xo.prototype.L,Xo.prototype.set=Xo.prototype.set,Xo.prototype.setProperties=Xo.prototype.C,Xo.prototype.unset=Xo.prototype.P,Xo.prototype.changed=Xo.prototype.u,Xo.prototype.dispatchEvent=Xo.prototype.b,Xo.prototype.getRevision=Xo.prototype.H,Xo.prototype.on=Xo.prototype.D,Xo.prototype.once=Xo.prototype.I,Xo.prototype.un=Xo.prototype.G,Xo.prototype.unByKey=Xo.prototype.J,$o.prototype.getActive=$o.prototype.f,$o.prototype.getMap=$o.prototype.l,$o.prototype.setActive=$o.prototype.i,$o.prototype.get=$o.prototype.get,$o.prototype.getKeys=$o.prototype.K,$o.prototype.getProperties=$o.prototype.L,$o.prototype.set=$o.prototype.set,$o.prototype.setProperties=$o.prototype.C,$o.prototype.unset=$o.prototype.P,$o.prototype.changed=$o.prototype.u,$o.prototype.dispatchEvent=$o.prototype.b,$o.prototype.getRevision=$o.prototype.H,$o.prototype.on=$o.prototype.D,$o.prototype.once=$o.prototype.I,$o.prototype.un=$o.prototype.G,$o.prototype.unByKey=$o.prototype.J,cp.prototype.type=cp.prototype.type,cp.prototype.target=cp.prototype.target,cp.prototype.preventDefault=cp.prototype.preventDefault,cp.prototype.stopPropagation=cp.prototype.stopPropagation,dp.prototype.getActive=dp.prototype.f,dp.prototype.getMap=dp.prototype.l,dp.prototype.setActive=dp.prototype.i,dp.prototype.get=dp.prototype.get,dp.prototype.getKeys=dp.prototype.K,dp.prototype.getProperties=dp.prototype.L,dp.prototype.set=dp.prototype.set,dp.prototype.setProperties=dp.prototype.C,dp.prototype.unset=dp.prototype.P,dp.prototype.changed=dp.prototype.u,dp.prototype.dispatchEvent=dp.prototype.b,dp.prototype.getRevision=dp.prototype.H,dp.prototype.on=dp.prototype.D,dp.prototype.once=dp.prototype.I,dp.prototype.un=dp.prototype.G,dp.prototype.unByKey=dp.prototype.J,vb.prototype.get=vb.prototype.get,vb.prototype.getKeys=vb.prototype.K,vb.prototype.getProperties=vb.prototype.L,vb.prototype.set=vb.prototype.set,vb.prototype.setProperties=vb.prototype.C,vb.prototype.unset=vb.prototype.P,vb.prototype.changed=vb.prototype.u,vb.prototype.dispatchEvent=vb.prototype.b,vb.prototype.getRevision=vb.prototype.H,vb.prototype.on=vb.prototype.D,vb.prototype.once=vb.prototype.I,vb.prototype.un=vb.prototype.G,vb.prototype.unByKey=vb.prototype.J,Kb.prototype.getClosestPoint=Kb.prototype.ub,Kb.prototype.getExtent=Kb.prototype.O,Kb.prototype.rotate=Kb.prototype.rotate,Kb.prototype.simplify=Kb.prototype.yb,Kb.prototype.transform=Kb.prototype.hb,Kb.prototype.get=Kb.prototype.get,Kb.prototype.getKeys=Kb.prototype.K,Kb.prototype.getProperties=Kb.prototype.L,Kb.prototype.set=Kb.prototype.set,Kb.prototype.setProperties=Kb.prototype.C,Kb.prototype.unset=Kb.prototype.P,Kb.prototype.changed=Kb.prototype.u,Kb.prototype.dispatchEvent=Kb.prototype.b,Kb.prototype.getRevision=Kb.prototype.H,Kb.prototype.on=Kb.prototype.D,Kb.prototype.once=Kb.prototype.I,Kb.prototype.un=Kb.prototype.G,Kb.prototype.unByKey=Kb.prototype.J,bo.prototype.getFirstCoordinate=bo.prototype.Fb,bo.prototype.getLastCoordinate=bo.prototype.Gb,bo.prototype.getLayout=bo.prototype.Hb,bo.prototype.rotate=bo.prototype.rotate,bo.prototype.getClosestPoint=bo.prototype.ub,bo.prototype.getExtent=bo.prototype.O,bo.prototype.simplify=bo.prototype.yb,bo.prototype.get=bo.prototype.get,bo.prototype.getKeys=bo.prototype.K,bo.prototype.getProperties=bo.prototype.L,bo.prototype.set=bo.prototype.set,bo.prototype.setProperties=bo.prototype.C,bo.prototype.unset=bo.prototype.P,bo.prototype.changed=bo.prototype.u,bo.prototype.dispatchEvent=bo.prototype.b,bo.prototype.getRevision=bo.prototype.H,bo.prototype.on=bo.prototype.D,bo.prototype.once=bo.prototype.I,bo.prototype.un=bo.prototype.G,bo.prototype.unByKey=bo.prototype.J,$k.prototype.getClosestPoint=$k.prototype.ub,$k.prototype.getExtent=$k.prototype.O,$k.prototype.rotate=$k.prototype.rotate,$k.prototype.simplify=$k.prototype.yb,$k.prototype.transform=$k.prototype.hb,$k.prototype.get=$k.prototype.get,$k.prototype.getKeys=$k.prototype.K,$k.prototype.getProperties=$k.prototype.L,$k.prototype.set=$k.prototype.set,$k.prototype.setProperties=$k.prototype.C,$k.prototype.unset=$k.prototype.P,$k.prototype.changed=$k.prototype.u,$k.prototype.dispatchEvent=$k.prototype.b,$k.prototype.getRevision=$k.prototype.H,$k.prototype.on=$k.prototype.D,$k.prototype.once=$k.prototype.I,$k.prototype.un=$k.prototype.G,$k.prototype.unByKey=$k.prototype.J,ac.prototype.getFirstCoordinate=ac.prototype.Fb,ac.prototype.getLastCoordinate=ac.prototype.Gb,ac.prototype.getLayout=ac.prototype.Hb,ac.prototype.rotate=ac.prototype.rotate,ac.prototype.getClosestPoint=ac.prototype.ub,ac.prototype.getExtent=ac.prototype.O,ac.prototype.simplify=ac.prototype.yb,ac.prototype.transform=ac.prototype.hb,ac.prototype.get=ac.prototype.get,ac.prototype.getKeys=ac.prototype.K,ac.prototype.getProperties=ac.prototype.L,ac.prototype.set=ac.prototype.set,ac.prototype.setProperties=ac.prototype.C,ac.prototype.unset=ac.prototype.P,ac.prototype.changed=ac.prototype.u,ac.prototype.dispatchEvent=ac.prototype.b,ac.prototype.getRevision=ac.prototype.H,ac.prototype.on=ac.prototype.D,ac.prototype.once=ac.prototype.I,ac.prototype.un=ac.prototype.G,ac.prototype.unByKey=ac.prototype.J,Kk.prototype.getFirstCoordinate=Kk.prototype.Fb,Kk.prototype.getLastCoordinate=Kk.prototype.Gb,Kk.prototype.getLayout=Kk.prototype.Hb,Kk.prototype.rotate=Kk.prototype.rotate,Kk.prototype.getClosestPoint=Kk.prototype.ub,Kk.prototype.getExtent=Kk.prototype.O,Kk.prototype.simplify=Kk.prototype.yb,Kk.prototype.transform=Kk.prototype.hb,Kk.prototype.get=Kk.prototype.get,Kk.prototype.getKeys=Kk.prototype.K,Kk.prototype.getProperties=Kk.prototype.L,Kk.prototype.set=Kk.prototype.set,Kk.prototype.setProperties=Kk.prototype.C,Kk.prototype.unset=Kk.prototype.P,Kk.prototype.changed=Kk.prototype.u,Kk.prototype.dispatchEvent=Kk.prototype.b,Kk.prototype.getRevision=Kk.prototype.H,Kk.prototype.on=Kk.prototype.D,Kk.prototype.once=Kk.prototype.I,Kk.prototype.un=Kk.prototype.G,Kk.prototype.unByKey=Kk.prototype.J,Mk.prototype.getFirstCoordinate=Mk.prototype.Fb,Mk.prototype.getLastCoordinate=Mk.prototype.Gb,Mk.prototype.getLayout=Mk.prototype.Hb,Mk.prototype.rotate=Mk.prototype.rotate,Mk.prototype.getClosestPoint=Mk.prototype.ub,Mk.prototype.getExtent=Mk.prototype.O,Mk.prototype.simplify=Mk.prototype.yb,Mk.prototype.transform=Mk.prototype.hb,Mk.prototype.get=Mk.prototype.get,Mk.prototype.getKeys=Mk.prototype.K,Mk.prototype.getProperties=Mk.prototype.L,Mk.prototype.set=Mk.prototype.set,Mk.prototype.setProperties=Mk.prototype.C,Mk.prototype.unset=Mk.prototype.P,Mk.prototype.changed=Mk.prototype.u,Mk.prototype.dispatchEvent=Mk.prototype.b,Mk.prototype.getRevision=Mk.prototype.H,Mk.prototype.on=Mk.prototype.D,Mk.prototype.once=Mk.prototype.I,Mk.prototype.un=Mk.prototype.G,Mk.prototype.unByKey=Mk.prototype.J,Pk.prototype.getFirstCoordinate=Pk.prototype.Fb,Pk.prototype.getLastCoordinate=Pk.prototype.Gb,Pk.prototype.getLayout=Pk.prototype.Hb,Pk.prototype.rotate=Pk.prototype.rotate,Pk.prototype.getClosestPoint=Pk.prototype.ub,Pk.prototype.getExtent=Pk.prototype.O,Pk.prototype.simplify=Pk.prototype.yb,Pk.prototype.transform=Pk.prototype.hb,Pk.prototype.get=Pk.prototype.get,Pk.prototype.getKeys=Pk.prototype.K,Pk.prototype.getProperties=Pk.prototype.L,Pk.prototype.set=Pk.prototype.set,Pk.prototype.setProperties=Pk.prototype.C,Pk.prototype.unset=Pk.prototype.P,Pk.prototype.changed=Pk.prototype.u,Pk.prototype.dispatchEvent=Pk.prototype.b,Pk.prototype.getRevision=Pk.prototype.H,Pk.prototype.on=Pk.prototype.D,Pk.prototype.once=Pk.prototype.I,Pk.prototype.un=Pk.prototype.G,Pk.prototype.unByKey=Pk.prototype.J,Qk.prototype.getFirstCoordinate=Qk.prototype.Fb,Qk.prototype.getLastCoordinate=Qk.prototype.Gb,Qk.prototype.getLayout=Qk.prototype.Hb,Qk.prototype.rotate=Qk.prototype.rotate,Qk.prototype.getClosestPoint=Qk.prototype.ub,Qk.prototype.getExtent=Qk.prototype.O,Qk.prototype.simplify=Qk.prototype.yb,Qk.prototype.transform=Qk.prototype.hb,Qk.prototype.get=Qk.prototype.get,Qk.prototype.getKeys=Qk.prototype.K,Qk.prototype.getProperties=Qk.prototype.L,Qk.prototype.set=Qk.prototype.set,Qk.prototype.setProperties=Qk.prototype.C,Qk.prototype.unset=Qk.prototype.P,Qk.prototype.changed=Qk.prototype.u,Qk.prototype.dispatchEvent=Qk.prototype.b,Qk.prototype.getRevision=Qk.prototype.H,Qk.prototype.on=Qk.prototype.D,Qk.prototype.once=Qk.prototype.I,Qk.prototype.un=Qk.prototype.G,Qk.prototype.unByKey=Qk.prototype.J,cc.prototype.getFirstCoordinate=cc.prototype.Fb,cc.prototype.getLastCoordinate=cc.prototype.Gb,cc.prototype.getLayout=cc.prototype.Hb,cc.prototype.rotate=cc.prototype.rotate,cc.prototype.getClosestPoint=cc.prototype.ub,cc.prototype.getExtent=cc.prototype.O,cc.prototype.simplify=cc.prototype.yb,cc.prototype.transform=cc.prototype.hb,cc.prototype.get=cc.prototype.get,cc.prototype.getKeys=cc.prototype.K,cc.prototype.getProperties=cc.prototype.L,cc.prototype.set=cc.prototype.set,cc.prototype.setProperties=cc.prototype.C,cc.prototype.unset=cc.prototype.P,cc.prototype.changed=cc.prototype.u,cc.prototype.dispatchEvent=cc.prototype.b,cc.prototype.getRevision=cc.prototype.H,cc.prototype.on=cc.prototype.D,cc.prototype.once=cc.prototype.I,cc.prototype.un=cc.prototype.G,cc.prototype.unByKey=cc.prototype.J,oc.prototype.getFirstCoordinate=oc.prototype.Fb,oc.prototype.getLastCoordinate=oc.prototype.Gb,oc.prototype.getLayout=oc.prototype.Hb,oc.prototype.rotate=oc.prototype.rotate,oc.prototype.getClosestPoint=oc.prototype.ub,oc.prototype.getExtent=oc.prototype.O,oc.prototype.simplify=oc.prototype.yb,oc.prototype.transform=oc.prototype.hb,oc.prototype.get=oc.prototype.get,oc.prototype.getKeys=oc.prototype.K,oc.prototype.getProperties=oc.prototype.L,oc.prototype.set=oc.prototype.set,oc.prototype.setProperties=oc.prototype.C,oc.prototype.unset=oc.prototype.P,oc.prototype.changed=oc.prototype.u,oc.prototype.dispatchEvent=oc.prototype.b,oc.prototype.getRevision=oc.prototype.H,oc.prototype.on=oc.prototype.D,oc.prototype.once=oc.prototype.I,oc.prototype.un=oc.prototype.G,oc.prototype.unByKey=oc.prototype.J,Qm.prototype.get=Qm.prototype.get,Qm.prototype.getKeys=Qm.prototype.K,Qm.prototype.getProperties=Qm.prototype.L,Qm.prototype.set=Qm.prototype.set,Qm.prototype.setProperties=Qm.prototype.C,Qm.prototype.unset=Qm.prototype.P,Qm.prototype.changed=Qm.prototype.u,Qm.prototype.dispatchEvent=Qm.prototype.b,Qm.prototype.getRevision=Qm.prototype.H,Qm.prototype.on=Qm.prototype.D,Qm.prototype.once=Qm.prototype.I,Qm.prototype.un=Qm.prototype.G,Qm.prototype.unByKey=Qm.prototype.J,Rm.prototype.get=Rm.prototype.get,Rm.prototype.getKeys=Rm.prototype.K,Rm.prototype.getProperties=Rm.prototype.L,Rm.prototype.set=Rm.prototype.set,Rm.prototype.setProperties=Rm.prototype.C,Rm.prototype.unset=Rm.prototype.P,Rm.prototype.changed=Rm.prototype.u,Rm.prototype.dispatchEvent=Rm.prototype.b,Rm.prototype.getRevision=Rm.prototype.H,Rm.prototype.on=Rm.prototype.D,Rm.prototype.once=Rm.prototype.I,Rm.prototype.un=Rm.prototype.G,Rm.prototype.unByKey=Rm.prototype.J,Sm.prototype.get=Sm.prototype.get,Sm.prototype.getKeys=Sm.prototype.K,Sm.prototype.getProperties=Sm.prototype.L,Sm.prototype.set=Sm.prototype.set,Sm.prototype.setProperties=Sm.prototype.C,Sm.prototype.unset=Sm.prototype.P,Sm.prototype.changed=Sm.prototype.u,Sm.prototype.dispatchEvent=Sm.prototype.b,Sm.prototype.getRevision=Sm.prototype.H,Sm.prototype.on=Sm.prototype.D,Sm.prototype.once=Sm.prototype.I,Sm.prototype.un=Sm.prototype.G,Sm.prototype.unByKey=Sm.prototype.J,Tm.prototype.get=Tm.prototype.get,Tm.prototype.getKeys=Tm.prototype.K,Tm.prototype.getProperties=Tm.prototype.L,Tm.prototype.set=Tm.prototype.set,Tm.prototype.setProperties=Tm.prototype.C,Tm.prototype.unset=Tm.prototype.P,Tm.prototype.changed=Tm.prototype.u,Tm.prototype.dispatchEvent=Tm.prototype.b,Tm.prototype.getRevision=Tm.prototype.H,Tm.prototype.on=Tm.prototype.D,Tm.prototype.once=Tm.prototype.I,Tm.prototype.un=Tm.prototype.G,Tm.prototype.unByKey=Tm.prototype.J,Um.prototype.get=Um.prototype.get,Um.prototype.getKeys=Um.prototype.K,Um.prototype.getProperties=Um.prototype.L,Um.prototype.set=Um.prototype.set,Um.prototype.setProperties=Um.prototype.C,Um.prototype.unset=Um.prototype.P,Um.prototype.changed=Um.prototype.u,Um.prototype.dispatchEvent=Um.prototype.b,Um.prototype.getRevision=Um.prototype.H,Um.prototype.on=Um.prototype.D,Um.prototype.once=Um.prototype.I,Um.prototype.un=Um.prototype.G,Um.prototype.unByKey=Um.prototype.J,Vm.prototype.get=Vm.prototype.get,Vm.prototype.getKeys=Vm.prototype.K,Vm.prototype.getProperties=Vm.prototype.L,Vm.prototype.set=Vm.prototype.set,Vm.prototype.setProperties=Vm.prototype.C,Vm.prototype.unset=Vm.prototype.P,Vm.prototype.changed=Vm.prototype.u,Vm.prototype.dispatchEvent=Vm.prototype.b,Vm.prototype.getRevision=Vm.prototype.H,Vm.prototype.on=Vm.prototype.D,Vm.prototype.once=Vm.prototype.I,Vm.prototype.un=Vm.prototype.G,Vm.prototype.unByKey=Vm.prototype.J,Wm.prototype.get=Wm.prototype.get,Wm.prototype.getKeys=Wm.prototype.K,Wm.prototype.getProperties=Wm.prototype.L,Wm.prototype.set=Wm.prototype.set,Wm.prototype.setProperties=Wm.prototype.C,Wm.prototype.unset=Wm.prototype.P,Wm.prototype.changed=Wm.prototype.u,Wm.prototype.dispatchEvent=Wm.prototype.b,Wm.prototype.getRevision=Wm.prototype.H,Wm.prototype.on=Wm.prototype.D,Wm.prototype.once=Wm.prototype.I,Wm.prototype.un=Wm.prototype.G,Wm.prototype.unByKey=Wm.prototype.J,Xm.prototype.get=Xm.prototype.get,Xm.prototype.getKeys=Xm.prototype.K,Xm.prototype.getProperties=Xm.prototype.L,Xm.prototype.set=Xm.prototype.set,Xm.prototype.setProperties=Xm.prototype.C,Xm.prototype.unset=Xm.prototype.P,Xm.prototype.changed=Xm.prototype.u,Xm.prototype.dispatchEvent=Xm.prototype.b,Xm.prototype.getRevision=Xm.prototype.H,Xm.prototype.on=Xm.prototype.D,Xm.prototype.once=Xm.prototype.I,Xm.prototype.un=Xm.prototype.G,Xm.prototype.unByKey=Xm.prototype.J,Ym.prototype.get=Ym.prototype.get,Ym.prototype.getKeys=Ym.prototype.K,Ym.prototype.getProperties=Ym.prototype.L,Ym.prototype.set=Ym.prototype.set,Ym.prototype.setProperties=Ym.prototype.C,Ym.prototype.unset=Ym.prototype.P,Ym.prototype.changed=Ym.prototype.u,Ym.prototype.dispatchEvent=Ym.prototype.b,Ym.prototype.getRevision=Ym.prototype.H,Ym.prototype.on=Ym.prototype.D,Ym.prototype.once=Ym.prototype.I,Ym.prototype.un=Ym.prototype.G,Ym.prototype.unByKey=Ym.prototype.J,Zm.prototype.get=Zm.prototype.get,Zm.prototype.getKeys=Zm.prototype.K,Zm.prototype.getProperties=Zm.prototype.L,Zm.prototype.set=Zm.prototype.set,Zm.prototype.setProperties=Zm.prototype.C,Zm.prototype.unset=Zm.prototype.P,Zm.prototype.changed=Zm.prototype.u,Zm.prototype.dispatchEvent=Zm.prototype.b,Zm.prototype.getRevision=Zm.prototype.H,Zm.prototype.on=Zm.prototype.D,Zm.prototype.once=Zm.prototype.I,Zm.prototype.un=Zm.prototype.G,Zm.prototype.unByKey=Zm.prototype.J,$m.prototype.get=$m.prototype.get,$m.prototype.getKeys=$m.prototype.K,$m.prototype.getProperties=$m.prototype.L,$m.prototype.set=$m.prototype.set,$m.prototype.setProperties=$m.prototype.C,$m.prototype.unset=$m.prototype.P,$m.prototype.changed=$m.prototype.u,$m.prototype.dispatchEvent=$m.prototype.b,$m.prototype.getRevision=$m.prototype.H,$m.prototype.on=$m.prototype.D,$m.prototype.once=$m.prototype.I,$m.prototype.un=$m.prototype.G,$m.prototype.unByKey=$m.prototype.J,_m.prototype.get=_m.prototype.get,_m.prototype.getKeys=_m.prototype.K,_m.prototype.getProperties=_m.prototype.L,_m.prototype.set=_m.prototype.set,_m.prototype.setProperties=_m.prototype.C,_m.prototype.unset=_m.prototype.P,_m.prototype.changed=_m.prototype.u,_m.prototype.dispatchEvent=_m.prototype.b,_m.prototype.getRevision=_m.prototype.H,_m.prototype.on=_m.prototype.D,_m.prototype.once=_m.prototype.I,_m.prototype.un=_m.prototype.G,_m.prototype.unByKey=_m.prototype.J,an.prototype.get=an.prototype.get,an.prototype.getKeys=an.prototype.K,an.prototype.getProperties=an.prototype.L,an.prototype.set=an.prototype.set,an.prototype.setProperties=an.prototype.C,an.prototype.unset=an.prototype.P,an.prototype.changed=an.prototype.u,an.prototype.dispatchEvent=an.prototype.b,an.prototype.getRevision=an.prototype.H,an.prototype.on=an.prototype.D,an.prototype.once=an.prototype.I,an.prototype.un=an.prototype.G,an.prototype.unByKey=an.prototype.J,bn.prototype.get=bn.prototype.get,bn.prototype.getKeys=bn.prototype.K,bn.prototype.getProperties=bn.prototype.L,bn.prototype.set=bn.prototype.set,bn.prototype.setProperties=bn.prototype.C,bn.prototype.unset=bn.prototype.P,bn.prototype.changed=bn.prototype.u,bn.prototype.dispatchEvent=bn.prototype.b,bn.prototype.getRevision=bn.prototype.H,bn.prototype.on=bn.prototype.D,bn.prototype.once=bn.prototype.I,bn.prototype.un=bn.prototype.G,bn.prototype.unByKey=bn.prototype.J,cn.prototype.get=cn.prototype.get,cn.prototype.getKeys=cn.prototype.K,cn.prototype.getProperties=cn.prototype.L,cn.prototype.set=cn.prototype.set,cn.prototype.setProperties=cn.prototype.C,cn.prototype.unset=cn.prototype.P,cn.prototype.changed=cn.prototype.u,cn.prototype.dispatchEvent=cn.prototype.b,cn.prototype.getRevision=cn.prototype.H,cn.prototype.on=cn.prototype.D,cn.prototype.once=cn.prototype.I,cn.prototype.un=cn.prototype.G,cn.prototype.unByKey=cn.prototype.J,dn.prototype.get=dn.prototype.get,dn.prototype.getKeys=dn.prototype.K,dn.prototype.getProperties=dn.prototype.L,dn.prototype.set=dn.prototype.set,dn.prototype.setProperties=dn.prototype.C,dn.prototype.unset=dn.prototype.P,dn.prototype.changed=dn.prototype.u,dn.prototype.dispatchEvent=dn.prototype.b,dn.prototype.getRevision=dn.prototype.H,dn.prototype.on=dn.prototype.D,dn.prototype.once=dn.prototype.I,dn.prototype.un=dn.prototype.G,dn.prototype.unByKey=dn.prototype.J,en.prototype.get=en.prototype.get,en.prototype.getKeys=en.prototype.K,en.prototype.getProperties=en.prototype.L,en.prototype.set=en.prototype.set,en.prototype.setProperties=en.prototype.C,en.prototype.unset=en.prototype.P,en.prototype.changed=en.prototype.u,en.prototype.dispatchEvent=en.prototype.b,en.prototype.getRevision=en.prototype.H,en.prototype.on=en.prototype.D,en.prototype.once=en.prototype.I,en.prototype.un=en.prototype.G,en.prototype.unByKey=en.prototype.J,fn.prototype.get=fn.prototype.get,fn.prototype.getKeys=fn.prototype.K,fn.prototype.getProperties=fn.prototype.L,fn.prototype.set=fn.prototype.set,fn.prototype.setProperties=fn.prototype.C,fn.prototype.unset=fn.prototype.P,fn.prototype.changed=fn.prototype.u,fn.prototype.dispatchEvent=fn.prototype.b,fn.prototype.getRevision=fn.prototype.H,fn.prototype.on=fn.prototype.D,fn.prototype.once=fn.prototype.I,fn.prototype.un=fn.prototype.G,fn.prototype.unByKey=fn.prototype.J,vl.prototype.readFeatures=vl.prototype.Ca,wl.prototype.readFeatures=wl.prototype.Ca,wl.prototype.readFeatures=wl.prototype.Ca,Bd.prototype.get=Bd.prototype.get,Bd.prototype.getKeys=Bd.prototype.K,Bd.prototype.getProperties=Bd.prototype.L,Bd.prototype.set=Bd.prototype.set,Bd.prototype.setProperties=Bd.prototype.C,Bd.prototype.unset=Bd.prototype.P,Bd.prototype.changed=Bd.prototype.u,Bd.prototype.dispatchEvent=Bd.prototype.b,Bd.prototype.getRevision=Bd.prototype.H,Bd.prototype.on=Bd.prototype.D,Bd.prototype.once=Bd.prototype.I,Bd.prototype.un=Bd.prototype.G,Bd.prototype.unByKey=Bd.prototype.J,ge.prototype.getMap=ge.prototype.i,ge.prototype.setMap=ge.prototype.setMap,ge.prototype.setTarget=ge.prototype.c,ge.prototype.get=ge.prototype.get,ge.prototype.getKeys=ge.prototype.K,ge.prototype.getProperties=ge.prototype.L,ge.prototype.set=ge.prototype.set,ge.prototype.setProperties=ge.prototype.C,ge.prototype.unset=ge.prototype.P,ge.prototype.changed=ge.prototype.u,ge.prototype.dispatchEvent=ge.prototype.b,ge.prototype.getRevision=ge.prototype.H,ge.prototype.on=ge.prototype.D,ge.prototype.once=ge.prototype.I,ge.prototype.un=ge.prototype.G,ge.prototype.unByKey=ge.prototype.J,qe.prototype.getMap=qe.prototype.i,qe.prototype.setMap=qe.prototype.setMap,qe.prototype.setTarget=qe.prototype.c,qe.prototype.get=qe.prototype.get,qe.prototype.getKeys=qe.prototype.K,qe.prototype.getProperties=qe.prototype.L,qe.prototype.set=qe.prototype.set,qe.prototype.setProperties=qe.prototype.C,qe.prototype.unset=qe.prototype.P,qe.prototype.changed=qe.prototype.u,qe.prototype.dispatchEvent=qe.prototype.b,qe.prototype.getRevision=qe.prototype.H,qe.prototype.on=qe.prototype.D,qe.prototype.once=qe.prototype.I,qe.prototype.un=qe.prototype.G,qe.prototype.unByKey=qe.prototype.J,re.prototype.getMap=re.prototype.i,re.prototype.setMap=re.prototype.setMap,re.prototype.setTarget=re.prototype.c,re.prototype.get=re.prototype.get,re.prototype.getKeys=re.prototype.K,re.prototype.getProperties=re.prototype.L,re.prototype.set=re.prototype.set,re.prototype.setProperties=re.prototype.C,re.prototype.unset=re.prototype.P,re.prototype.changed=re.prototype.u,re.prototype.dispatchEvent=re.prototype.b,re.prototype.getRevision=re.prototype.H,re.prototype.on=re.prototype.D,re.prototype.once=re.prototype.I,re.prototype.un=re.prototype.G,re.prototype.unByKey=re.prototype.J,nk.prototype.getMap=nk.prototype.i,nk.prototype.setMap=nk.prototype.setMap,nk.prototype.setTarget=nk.prototype.c,nk.prototype.get=nk.prototype.get,nk.prototype.getKeys=nk.prototype.K,nk.prototype.getProperties=nk.prototype.L,nk.prototype.set=nk.prototype.set,nk.prototype.setProperties=nk.prototype.C,nk.prototype.unset=nk.prototype.P,nk.prototype.changed=nk.prototype.u,nk.prototype.dispatchEvent=nk.prototype.b,nk.prototype.getRevision=nk.prototype.H,nk.prototype.on=nk.prototype.D,nk.prototype.once=nk.prototype.I,nk.prototype.un=nk.prototype.G,nk.prototype.unByKey=nk.prototype.J,je.prototype.getMap=je.prototype.i,je.prototype.setMap=je.prototype.setMap,je.prototype.setTarget=je.prototype.c,je.prototype.get=je.prototype.get,je.prototype.getKeys=je.prototype.K,je.prototype.getProperties=je.prototype.L,je.prototype.set=je.prototype.set,
je.prototype.setProperties=je.prototype.C,je.prototype.unset=je.prototype.P,je.prototype.changed=je.prototype.u,je.prototype.dispatchEvent=je.prototype.b,je.prototype.getRevision=je.prototype.H,je.prototype.on=je.prototype.D,je.prototype.once=je.prototype.I,je.prototype.un=je.prototype.G,je.prototype.unByKey=je.prototype.J,sk.prototype.getMap=sk.prototype.i,sk.prototype.setMap=sk.prototype.setMap,sk.prototype.setTarget=sk.prototype.c,sk.prototype.get=sk.prototype.get,sk.prototype.getKeys=sk.prototype.K,sk.prototype.getProperties=sk.prototype.L,sk.prototype.set=sk.prototype.set,sk.prototype.setProperties=sk.prototype.C,sk.prototype.unset=sk.prototype.P,sk.prototype.changed=sk.prototype.u,sk.prototype.dispatchEvent=sk.prototype.b,sk.prototype.getRevision=sk.prototype.H,sk.prototype.on=sk.prototype.D,sk.prototype.once=sk.prototype.I,sk.prototype.un=sk.prototype.G,sk.prototype.unByKey=sk.prototype.J,le.prototype.getMap=le.prototype.i,le.prototype.setMap=le.prototype.setMap,le.prototype.setTarget=le.prototype.c,le.prototype.get=le.prototype.get,le.prototype.getKeys=le.prototype.K,le.prototype.getProperties=le.prototype.L,le.prototype.set=le.prototype.set,le.prototype.setProperties=le.prototype.C,le.prototype.unset=le.prototype.P,le.prototype.changed=le.prototype.u,le.prototype.dispatchEvent=le.prototype.b,le.prototype.getRevision=le.prototype.H,le.prototype.on=le.prototype.D,le.prototype.once=le.prototype.I,le.prototype.un=le.prototype.G,le.prototype.unByKey=le.prototype.J,vk.prototype.getMap=vk.prototype.i,vk.prototype.setMap=vk.prototype.setMap,vk.prototype.setTarget=vk.prototype.c,vk.prototype.get=vk.prototype.get,vk.prototype.getKeys=vk.prototype.K,vk.prototype.getProperties=vk.prototype.L,vk.prototype.set=vk.prototype.set,vk.prototype.setProperties=vk.prototype.C,vk.prototype.unset=vk.prototype.P,vk.prototype.changed=vk.prototype.u,vk.prototype.dispatchEvent=vk.prototype.b,vk.prototype.getRevision=vk.prototype.H,vk.prototype.on=vk.prototype.D,vk.prototype.once=vk.prototype.I,vk.prototype.un=vk.prototype.G,vk.prototype.unByKey=vk.prototype.J,zk.prototype.getMap=zk.prototype.i,zk.prototype.setMap=zk.prototype.setMap,zk.prototype.setTarget=zk.prototype.c,zk.prototype.get=zk.prototype.get,zk.prototype.getKeys=zk.prototype.K,zk.prototype.getProperties=zk.prototype.L,zk.prototype.set=zk.prototype.set,zk.prototype.setProperties=zk.prototype.C,zk.prototype.unset=zk.prototype.P,zk.prototype.changed=zk.prototype.u,zk.prototype.dispatchEvent=zk.prototype.b,zk.prototype.getRevision=zk.prototype.H,zk.prototype.on=zk.prototype.D,zk.prototype.once=zk.prototype.I,zk.prototype.un=zk.prototype.G,zk.prototype.unByKey=zk.prototype.J,mq.ol});var D2R=Math.PI/180,R2D=180/Math.PI,Coord=function(a,b){this.lon=a,this.lat=b,this.x=D2R*a,this.y=D2R*b};Coord.prototype.view=function(){return String(this.lon).slice(0,4)+","+String(this.lat).slice(0,4)},Coord.prototype.antipode=function(){var a=-1*this.lat,b=this.lon<0?180+this.lon:(180-this.lon)*-1;return new Coord(b,a)};var LineString=function(){this.coords=[],this.length=0};LineString.prototype.move_to=function(a){this.length++,this.coords.push(a)};var Arc=function(a){this.properties=a||{},this.geometries=[]};Arc.prototype.json=function(){if(this.geometries.length<=0)return{geometry:{type:"LineString",coordinates:null},type:"Feature",properties:this.properties};if(1==this.geometries.length)return{geometry:{type:"LineString",coordinates:this.geometries[0].coords},type:"Feature",properties:this.properties};for(var a=[],b=0;b<this.geometries.length;b++)a.push(this.geometries[b].coords);return{geometry:{type:"MultiLineString",coordinates:a},type:"Feature",properties:this.properties}},Arc.prototype.wkt=function(){for(var a="",b="LINESTRING(",c=function(a){b+=a[0]+" "+a[1]+","},d=0;d<this.geometries.length;d++){if(0===this.geometries[d].coords.length)return"LINESTRING(empty)";var e=this.geometries[d].coords;e.forEach(c),a+=b.substring(0,b.length-1)+")"}return a};var GreatCircle=function(a,b,c){if(!a||void 0===a.x||void 0===a.y)throw new Error("GreatCircle constructor expects two args: start and end objects with x and y properties");if(!b||void 0===b.x||void 0===b.y)throw new Error("GreatCircle constructor expects two args: start and end objects with x and y properties");this.start=new Coord(a.x,a.y),this.end=new Coord(b.x,b.y),this.properties=c||{};var d=this.start.x-this.end.x,e=this.start.y-this.end.y,f=Math.pow(Math.sin(e/2),2)+Math.cos(this.start.y)*Math.cos(this.end.y)*Math.pow(Math.sin(d/2),2);if(this.g=2*Math.asin(Math.sqrt(f)),this.g==Math.PI)throw new Error("it appears "+a.view()+" and "+b.view()+" are 'antipodal', e.g diametrically opposite, thus there is no single route but rather infinite");if(isNaN(this.g))throw new Error("could not calculate great circle between "+a+" and "+b)};if(GreatCircle.prototype.interpolate=function(a){var b=Math.sin((1-a)*this.g)/Math.sin(this.g),c=Math.sin(a*this.g)/Math.sin(this.g),d=b*Math.cos(this.start.y)*Math.cos(this.start.x)+c*Math.cos(this.end.y)*Math.cos(this.end.x),e=b*Math.cos(this.start.y)*Math.sin(this.start.x)+c*Math.cos(this.end.y)*Math.sin(this.end.x),f=b*Math.sin(this.start.y)+c*Math.sin(this.end.y),g=R2D*Math.atan2(f,Math.sqrt(Math.pow(d,2)+Math.pow(e,2))),h=R2D*Math.atan2(e,d);return[h,g]},GreatCircle.prototype.Arc=function(a,b){var c=[];if(!a||a<=2)c.push([this.start.lon,this.start.lat]),c.push([this.end.lon,this.end.lat]);else for(var d=1/(a-1),e=0;e<a;++e){var f=d*e,g=this.interpolate(f);c.push(g)}for(var h=!1,i=0,j=b&&b.offset?b.offset:10,k=180-j,l=-180+j,m=360-j,n=1;n<c.length;++n){var o=c[n-1][0],p=c[n][0],q=Math.abs(p-o);q>m&&(p>k&&o<l||o>k&&p<l)?h=!0:q>i&&(i=q)}var r=[];if(h&&i<j){var s=[];r.push(s);for(var t=0;t<c.length;++t){var u=parseFloat(c[t][0]);if(t>0&&Math.abs(u-c[t-1][0])>m){var v=parseFloat(c[t-1][0]),w=parseFloat(c[t-1][1]),x=parseFloat(c[t][0]),y=parseFloat(c[t][1]);if(v>-180&&v<l&&180==x&&t+1<c.length&&c[t-1][0]>-180&&c[t-1][0]<l){s.push([-180,c[t][1]]),t++,s.push([c[t][0],c[t][1]]);continue}if(v>k&&v<180&&x==-180&&t+1<c.length&&c[t-1][0]>k&&c[t-1][0]<180){s.push([180,c[t][1]]),t++,s.push([c[t][0],c[t][1]]);continue}if(v<l&&x>k){var z=v;v=x,x=z;var A=w;w=y,y=A}if(v>k&&x<l&&(x+=360),v<=180&&x>=180&&v<x){var B=(180-v)/(x-v),C=B*y+(1-B)*w;s.push([c[t-1][0]>k?180:-180,C]),s=[],s.push([c[t-1][0]>k?-180:180,C]),r.push(s)}else s=[],r.push(s);s.push([u,c[t][1]])}else s.push([c[t][0],c[t][1]])}}else{var D=[];r.push(D);for(var E=0;E<c.length;++E)D.push([c[E][0],c[E][1]])}for(var F=new Arc(this.properties),G=0;G<r.length;++G){var H=new LineString;F.geometries.push(H);for(var I=r[G],J=0;J<I.length;++J)H.move_to(I[J])}return F},"undefined"==typeof window)module.exports.Coord=Coord,module.exports.Arc=Arc,module.exports.GreatCircle=GreatCircle;else{var arc={};arc.Coord=Coord,arc.Arc=Arc,arc.GreatCircle=GreatCircle}(function(){function a(a,b){if(a!==b){var c=a===a,d=b===b;if(a>b||!c||a===u&&d)return 1;if(a<b||!d||b===u&&c)return-1}return 0}function b(a,b,c){for(var d=a.length,e=c?d:-1;c?e--:++e<d;)if(b(a[e],e,a))return e;return-1}function c(a,b,c){if(b!==b)return m(a,c);c-=1;for(var d=a.length;++c<d;)if(a[c]===b)return c;return-1}function d(a){return"function"==typeof a||!1}function e(a){return"string"==typeof a?a:null==a?"":a+""}function f(a){return a.charCodeAt(0)}function g(a,b){for(var c=-1,d=a.length;++c<d&&-1<b.indexOf(a.charAt(c)););return c}function h(a,b){for(var c=a.length;c--&&-1<b.indexOf(a.charAt(c)););return c}function i(b,c){return a(b.a,c.a)||b.b-c.b}function j(a){return Ka[a]}function k(a){return La[a]}function l(a){return"\\"+Oa[a]}function m(a,b,c){var d=a.length;for(b+=c?0:-1;c?b--:++b<d;){var e=a[b];if(e!==e)return b}return-1}function n(a){return!!a&&"object"==typeof a}function o(a){return 160>=a&&9<=a&&13>=a||32==a||160==a||5760==a||6158==a||8192<=a&&(8202>=a||8232==a||8233==a||8239==a||8287==a||12288==a||65279==a)}function p(a,b){for(var c=-1,d=a.length,e=-1,f=[];++c<d;)a[c]===b&&(a[c]=N,f[++e]=c);return f}function q(a){for(var b=-1,c=a.length;++b<c&&o(a.charCodeAt(b)););return b}function r(a){for(var b=a.length;b--&&o(a.charCodeAt(b)););return b}function s(a){return Ma[a]}function t(o){function Ka(a){if(n(a)&&!(Gf(a)||a instanceof Na)){if(a instanceof Ma)return a;if(Wd.call(a,"__chain__")&&Wd.call(a,"__wrapped__"))return Lc(a)}return new Ma(a)}function La(){}function Ma(a,b,c){this.__wrapped__=a,this.__actions__=c||[],this.__chain__=!!b}function Na(a){this.__wrapped__=a,this.__actions__=null,this.__dir__=1,this.__filtered__=!1,this.__iteratees__=null,this.__takeCount__=Be,this.__views__=null}function Oa(){this.__data__={}}function Pa(a){var b=a?a.length:0;for(this.data={hash:re(null),set:new je};b--;)this.push(a[b])}function Qa(a,b){var c=a.data;return("string"==typeof b||kd(b)?c.set.has(b):c.hash[b])?0:-1}function Ra(a,b){var c=-1,d=a.length;for(b||(b=Hd(d));++c<d;)b[c]=a[c];return b}function Sa(a,b){for(var c=-1,d=a.length;++c<d&&!1!==b(a[c],c,a););return a}function Ta(a,b){for(var c=-1,d=a.length;++c<d;)if(!b(a[c],c,a))return!1;return!0}function Wa(a,b){for(var c=-1,d=a.length,e=-1,f=[];++c<d;){var g=a[c];b(g,c,a)&&(f[++e]=g)}return f}function Xa(a,b){for(var c=-1,d=a.length,e=Hd(d);++c<d;)e[c]=b(a[c],c,a);return e}function Ya(a,b,c,d){var e=-1,f=a.length;for(d&&f&&(c=a[++e]);++e<f;)c=b(c,a[e],e,a);return c}function Za(a,b){for(var c=-1,d=a.length;++c<d;)if(b(a[c],c,a))return!0;return!1}function $a(a,b){return a===u?b:a}function _a(a,b,c,d){return a!==u&&Wd.call(d,c)?a:b}function ab(a,b,c){var d=Sf(b);ge.apply(d,Ve(b));for(var e=-1,f=d.length;++e<f;){var g=d[e],h=a[g],i=c(h,b[g],g,a,b);(i===i?i===h:h!==h)&&(h!==u||g in a)||(a[g]=i)}return a}function bb(a,b){for(var c=-1,d=null==a,e=!d&&xc(a),f=e&&a.length,g=b.length,h=Hd(g);++c<g;){var i=b[c];h[c]=e?yc(i,f)?a[i]:u:d?u:a[i]}return h}function cb(a,b,c){c||(c={});for(var d=-1,e=b.length;++d<e;){var f=b[d];c[f]=a[f]}return c}function db(a,b,c){var d=typeof a;return"function"==d?b===u?a:Mb(a,b,c):null==a?Cd:"object"==d?tb(a):b===u?Gd(a):ub(a,b)}function eb(a,b,c,d,e,f,g){var h;if(c&&(h=e?c(a,d,e):c(a)),h!==u)return h;if(!kd(a))return a;if(d=Gf(a)){if(h=tc(a),!b)return Ra(a,h)}else{var i=Yd.call(a),j=i==T;if(i!=V&&i!=O&&(!j||e))return Ia[i]?vc(a,i,b):e?a:{};if(h=uc(j?{}:a),!b)return Ke(h,a)}for(f||(f=[]),g||(g=[]),e=f.length;e--;)if(f[e]==a)return g[e];return f.push(a),g.push(h),(d?Sa:mb)(a,function(d,e){h[e]=eb(d,b,c,e,a,f,g)}),h}function fb(a,b,c){if("function"!=typeof a)throw new Qd(M);return ke(function(){a.apply(u,c)},b)}function gb(a,b){var d=a?a.length:0,e=[];if(!d)return e;var f=-1,g=sc(),h=g==c,i=h&&200<=b.length?Re(b):null,j=b.length;i&&(g=Qa,h=!1,b=i);a:for(;++f<d;)if(i=a[f],h&&i===i){for(var k=j;k--;)if(b[k]===i)continue a;e.push(i)}else 0>g(b,i,0)&&e.push(i);return e}function hb(a,b){var c=!0;return Me(a,function(a,d,e){return c=!!b(a,d,e)}),c}function ib(a,b){var c=[];return Me(a,function(a,d,e){b(a,d,e)&&c.push(a)}),c}function jb(a,b,c,d){var e;return c(a,function(a,c,f){return b(a,c,f)?(e=d?c:a,!1):void 0}),e}function kb(a,b,c){for(var d=-1,e=a.length,f=-1,g=[];++d<e;){var h=a[d];if(n(h)&&xc(h)&&(c||Gf(h)||hd(h))){b&&(h=kb(h,b,c));for(var i=-1,j=h.length;++i<j;)g[++f]=h[i]}else c||(g[++f]=h)}return g}function lb(a,b){Oe(a,b,sd)}function mb(a,b){return Oe(a,b,Sf)}function nb(a,b){return Pe(a,b,Sf)}function ob(a,b){for(var c=-1,d=b.length,e=-1,f=[];++c<d;){var g=b[c];If(a[g])&&(f[++e]=g)}return f}function pb(a,b,c){if(null!=a){c!==u&&c in Jc(a)&&(b=[c]),c=-1;for(var d=b.length;null!=a&&++c<d;)a=a[b[c]];return c&&c==d?a:u}}function qb(a,b,c,d,e,f){if(a===b)return!0;var g=typeof a,h=typeof b;if("function"!=g&&"object"!=g&&"function"!=h&&"object"!=h||null==a||null==b)a=a!==a&&b!==b;else a:{var g=qb,h=Gf(a),i=Gf(b),j=P,k=P;h||(j=Yd.call(a),j==O?j=V:j!=V&&(h=pd(a))),i||(k=Yd.call(b),k==O?k=V:k!=V&&pd(b));var l=j==V,i=k==V,k=j==k;if(!k||h||l){if(!d&&(j=l&&Wd.call(a,"__wrapped__"),i=i&&Wd.call(b,"__wrapped__"),j||i)){a=g(j?a.value():a,i?b.value():b,c,d,e,f);break a}if(k){for(e||(e=[]),f||(f=[]),j=e.length;j--;)if(e[j]==a){a=f[j]==b;break a}e.push(a),f.push(b),a=(h?nc:pc)(a,b,g,c,d,e,f),e.pop(),f.pop()}else a=!1}else a=oc(a,b,j)}return a}function rb(a,b,c,d,e){for(var f=-1,g=b.length,h=!e;++f<g;)if(h&&d[f]?c[f]!==a[b[f]]:!(b[f]in a))return!1;for(f=-1;++f<g;){var i=b[f],j=a[i],k=c[f];if(h&&d[f]?i=j!==u||i in a:(i=e?e(j,k,i):u,i===u&&(i=qb(k,j,e,!0))),!i)return!1}return!0}function sb(a,b){var c=-1,d=xc(a)?Hd(a.length):[];return Me(a,function(a,e,f){d[++c]=b(a,e,f)}),d}function tb(a){var b=Sf(a),c=b.length;if(!c)return Bd(!0);if(1==c){var d=b[0],e=a[d];if(Dc(e))return function(a){return null!=a&&(a[d]===e&&(e!==u||d in Jc(a)))}}for(var f=Hd(c),g=Hd(c);c--;)e=a[b[c]],f[c]=e,g[c]=Dc(e);return function(a){return null!=a&&rb(Jc(a),b,f,g)}}function ub(a,b){var c=Gf(a),d=Ac(a)&&Dc(b),e=a+"";return a=Kc(a),function(f){if(null==f)return!1;var g=e;if(f=Jc(f),!(!c&&d||g in f)){if(f=1==a.length?f:pb(f,Bb(a,0,-1)),null==f)return!1;g=Qc(a),f=Jc(f)}return f[g]===b?b!==u||g in f:qb(b,f[g],null,!0)}}function vb(a,b,c,d,e){if(!kd(a))return a;var f=xc(b)&&(Gf(b)||pd(b));if(!f){var g=Sf(b);ge.apply(g,Ve(b))}return Sa(g||b,function(h,i){if(g&&(i=h,h=b[i]),n(h)){d||(d=[]),e||(e=[]);a:{for(var j=i,k=d,l=e,m=k.length,o=b[j];m--;)if(k[m]==o){a[j]=l[m];break a}var m=a[j],p=c?c(m,o,j,a,b):u,q=p===u;q&&(p=o,xc(o)&&(Gf(o)||pd(o))?p=Gf(m)?m:xc(m)?Ra(m):[]:Jf(o)||hd(o)?p=hd(m)?qd(m):Jf(m)?m:{}:q=!1),k.push(o),l.push(p),q?a[j]=vb(p,o,c,k,l):(p===p?p!==m:m===m)&&(a[j]=p)}}else j=a[i],k=c?c(j,h,i,a,b):u,(l=k===u)&&(k=h),!f&&k===u||!l&&(k===k?k===j:j!==j)||(a[i]=k)}),a}function wb(a){return function(b){return null==b?u:b[a]}}function xb(a){var b=a+"";return a=Kc(a),function(c){return pb(c,a,b)}}function yb(a,b){for(var c=a?b.length:0;c--;){var d=parseFloat(b[c]);if(d!=e&&yc(d)){var e=d;le.call(a,d,1)}}}function zb(a,b){return a+de(ze()*(b-a+1))}function Ab(a,b,c,d,e){return e(a,function(a,e,f){c=d?(d=!1,a):b(c,a,e,f)}),c}function Bb(a,b,c){var d=-1,e=a.length;for(b=null==b?0:+b||0,0>b&&(b=-b>e?0:e+b),c=c===u||c>e?e:+c||0,0>c&&(c+=e),e=b>c?0:c-b>>>0,b>>>=0,c=Hd(e);++d<e;)c[d]=a[d+b];return c}function Cb(a,b){var c;return Me(a,function(a,d,e){return c=b(a,d,e),!c}),!!c}function Db(a,b){var c=a.length;for(a.sort(b);c--;)a[c]=a[c].c;return a}function Eb(b,c,d){var e=rc(),f=-1;return c=Xa(c,function(a){return e(a)}),b=sb(b,function(a){return{a:Xa(c,function(b){return b(a)}),b:++f,c:a}}),Db(b,function(b,c){var e;a:{e=-1;for(var f=b.a,g=c.a,h=f.length,i=d.length;++e<h;){var j=a(f[e],g[e]);if(j){e=e<i?j*(d[e]?1:-1):j;break a}}e=b.b-c.b}return e})}function Fb(a,b){var c=0;return Me(a,function(a,d,e){c+=+b(a,d,e)||0}),c}function Gb(a,b){var d=-1,e=sc(),f=a.length,g=e==c,h=g&&200<=f,i=h?Re():null,j=[];i?(e=Qa,g=!1):(h=!1,i=b?[]:j);a:for(;++d<f;){var k=a[d],l=b?b(k,d,a):k;if(g&&k===k){for(var m=i.length;m--;)if(i[m]===l)continue a;b&&i.push(l),j.push(k)}else 0>e(i,l,0)&&((b||h)&&i.push(l),j.push(k))}return j}function Hb(a,b){for(var c=-1,d=b.length,e=Hd(d);++c<d;)e[c]=a[b[c]];return e}function Ib(a,b,c,d){for(var e=a.length,f=d?e:-1;(d?f--:++f<e)&&b(a[f],f,a););return c?Bb(a,d?0:f,d?f+1:e):Bb(a,d?f+1:0,d?e:f)}function Jb(a,b){var c=a;c instanceof Na&&(c=c.value());for(var d=-1,e=b.length;++d<e;){var c=[c],f=b[d];ge.apply(c,f.args),c=f.func.apply(f.thisArg,c)}return c}function Kb(a,b,c){var d=0,e=a?a.length:d;if("number"==typeof b&&b===b&&e<=Ee){for(;d<e;){var f=d+e>>>1,g=a[f];(c?g<=b:g<b)?d=f+1:e=f}return e}return Lb(a,b,Cd,c)}function Lb(a,b,c,d){b=c(b);for(var e=0,f=a?a.length:0,g=b!==b,h=b===u;e<f;){var i=de((e+f)/2),j=c(a[i]),k=j===j;(g?k||d:h?k&&(d||j!==u):d?j<=b:j<b)?e=i+1:f=i}return ve(f,De)}function Mb(a,b,c){if("function"!=typeof a)return Cd;if(b===u)return a;switch(c){case 1:return function(c){return a.call(b,c)};case 3:return function(c,d,e){return a.call(b,c,d,e)};case 4:return function(c,d,e,f){return a.call(b,c,d,e,f)};case 5:return function(c,d,e,f,g){return a.call(b,c,d,e,f,g)}}return function(){return a.apply(b,arguments)}}function Nb(a){return ae.call(a,0)}function Ob(a,b,c){for(var d=c.length,e=-1,f=ue(a.length-d,0),g=-1,h=b.length,i=Hd(f+h);++g<h;)i[g]=b[g];for(;++e<d;)i[c[e]]=a[e];for(;f--;)i[g++]=a[e++];return i}function Pb(a,b,c){for(var d=-1,e=c.length,f=-1,g=ue(a.length-e,0),h=-1,i=b.length,j=Hd(g+i);++f<g;)j[f]=a[f];for(g=f;++h<i;)j[g+h]=b[h];for(;++d<e;)j[g+c[d]]=a[f++];return j}function Qb(a,b){return function(c,d,e){var f=b?b():{};if(d=rc(d,e,3),Gf(c)){e=-1;for(var g=c.length;++e<g;){var h=c[e];a(f,h,d(h,e,c),c)}}else Me(c,function(b,c,e){a(f,b,d(b,c,e),e)});return f}}function Rb(a){return gd(function(b,c){var d=-1,e=null==b?0:c.length,f=2<e&&c[e-2],g=2<e&&c[2],h=1<e&&c[e-1];for("function"==typeof f?(f=Mb(f,h,5),e-=2):(f="function"==typeof h?h:null,e-=f?1:0),g&&zc(c[0],c[1],g)&&(f=3>e?null:f,e=1);++d<e;)(g=c[d])&&a(b,g,f);return b})}function Sb(a,b){return function(c,d){var e=c?Ue(c):0;if(!Cc(e))return a(c,d);for(var f=b?e:-1,g=Jc(c);(b?f--:++f<e)&&!1!==d(g[f],f,g););return c}}function Tb(a){return function(b,c,d){var e=Jc(b);d=d(b);for(var f=d.length,g=a?f:-1;a?g--:++g<f;){var h=d[g];if(!1===c(e[h],h,e))break}return b}}function Ub(a,b){function c(){return(this&&this!==Ua&&this instanceof c?d:a).apply(b,arguments)}var d=Wb(a);return c}function Vb(a){return function(b){var c=-1;b=zd(ud(b));for(var d=b.length,e="";++c<d;)e=a(e,b[c],c);return e}}function Wb(a){return function(){var b=Le(a.prototype),c=a.apply(b,arguments);return kd(c)?c:b}}function Xb(a){function b(c,d,e){return e&&zc(c,d,e)&&(d=null),c=mc(c,a,null,null,null,null,null,d),c.placeholder=b.placeholder,c}return b}function Yb(a,b){return function(c,d,e){e&&zc(c,d,e)&&(d=null);var g=rc(),h=null==d;if(g===db&&h||(h=!1,d=g(d,e,3)),h){if(d=Gf(c),d||!od(c))return a(d?c:Ic(c));d=f}return qc(c,d,b)}}function Zb(a,c){return function(d,e,f){return e=rc(e,f,3),Gf(d)?(e=b(d,e,c),-1<e?d[e]:u):jb(d,e,a)}}function $b(a){return function(c,d,e){return c&&c.length?(d=rc(d,e,3),b(c,d,a)):-1}}function _b(a){return function(b,c,d){return c=rc(c,d,3),jb(b,c,a,!0)}}function ac(a){return function(){var b=arguments.length;if(!b)return function(){return arguments[0]};for(var c,d=a?b:-1,e=0,f=Hd(b);a?d--:++d<b;){var g=f[e++]=arguments[d];if("function"!=typeof g)throw new Qd(M);var h=c?"":Te(g);c="wrapper"==h?new Ma([]):c}for(d=c?-1:b;++d<b;)g=f[d],h=Te(g),c=(e="wrapper"==h?Se(g):null)&&Bc(e[0])&&e[1]==(D|z|B|E)&&!e[4].length&&1==e[9]?c[Te(e[0])].apply(c,e[3]):1==g.length&&Bc(g)?c[h]():c.thru(g);return function(){var a=arguments;if(c&&1==a.length&&Gf(a[0]))return c.plant(a[0]).value();for(var d=0,a=f[d].apply(this,a);++d<b;)a=f[d].call(this,a);return a}}}function bc(a,b){return function(c,d,e){return"function"==typeof d&&e===u&&Gf(c)?a(c,d):b(c,Mb(d,e,3))}}function cc(a){return function(b,c,d){return("function"!=typeof c||d!==u)&&(c=Mb(c,d,3)),a(b,c,sd)}}function dc(a){return function(b,c,d){return("function"!=typeof c||d!==u)&&(c=Mb(c,d,3)),a(b,c)}}function ec(a){return function(b,c,d){var e={};return c=rc(c,d,3),mb(b,function(b,d,f){f=c(b,d,f),d=a?f:d,b=a?b:f,e[d]=b}),e}}function fc(a){return function(b,c,d){return b=e(b),(a?b:"")+jc(b,c,d)+(a?"":b)}}function gc(a){var b=gd(function(c,d){var e=p(d,b.placeholder);return mc(c,a,null,d,e)});return b}function hc(a,b){return function(c,d,e,f){var g=3>arguments.length;return"function"==typeof d&&f===u&&Gf(c)?a(c,d,e,g):Ab(c,rc(d,f,4),e,g,b)}}function ic(a,b,c,d,e,f,g,h,i,j){function k(){for(var v=arguments.length,y=v,z=Hd(v);y--;)z[y]=arguments[y];if(d&&(z=Ob(z,d,e)),f&&(z=Pb(z,f,g)),o||r){var y=k.placeholder,A=p(z,y),v=v-A.length;if(v<j){var D=h?Ra(h):null,v=ue(j-v,0),E=o?A:null,A=o?null:A,F=o?z:null,z=o?null:z;return b|=o?B:C,b&=~(o?C:B),q||(b&=~(w|x)),z=[a,b,c,F,E,z,A,D,i,v],D=ic.apply(u,z),Bc(a)&&We(D,z),D.placeholder=y,D}}if(y=m?c:this,n&&(a=y[t]),h)for(D=z.length,v=ve(h.length,D),E=Ra(z);v--;)A=h[v],z[v]=yc(A,D)?E[A]:u;return l&&i<z.length&&(z.length=i),(this&&this!==Ua&&this instanceof k?s||Wb(a):a).apply(y,z)}var l=b&D,m=b&w,n=b&x,o=b&z,q=b&y,r=b&A,s=!n&&Wb(a),t=a;return k}function jc(a,b,c){return a=a.length,b=+b,a<b&&se(b)?(b-=a,c=null==c?" ":c+"",xd(c,be(b/c.length)).slice(0,b)):""}function kc(a,b,c,d){function e(){for(var b=-1,h=arguments.length,i=-1,j=d.length,k=Hd(h+j);++i<j;)k[i]=d[i];for(;h--;)k[i++]=arguments[++b];return(this&&this!==Ua&&this instanceof e?g:a).apply(f?c:this,k)}var f=b&w,g=Wb(a);return e}function lc(a){return function(b,c,d,e){var f=rc(d);return f===db&&null==d?Kb(b,c,a):Lb(b,c,f(d,e,1),a)}}function mc(a,b,c,d,e,f,g,h){var i=b&x;if(!i&&"function"!=typeof a)throw new Qd(M);var j=d?d.length:0;if(j||(b&=~(B|C),d=e=null),j-=e?e.length:0,b&C){var k=d,l=e;d=e=null}var m=i?null:Se(a);return c=[a,b,c,d,e,k,l,f,g,h],m&&(d=c[1],b=m[1],h=d|b,e=b==D&&d==z||b==D&&d==E&&c[7].length<=m[8]||b==(D|E)&&d==z,(h<D||e)&&(b&w&&(c[2]=m[2],h|=d&w?0:y),(d=m[3])&&(e=c[3],c[3]=e?Ob(e,d,m[4]):Ra(d),c[4]=e?p(c[3],N):Ra(m[4])),(d=m[5])&&(e=c[5],c[5]=e?Pb(e,d,m[6]):Ra(d),c[6]=e?p(c[5],N):Ra(m[6])),(d=m[7])&&(c[7]=Ra(d)),b&D&&(c[8]=null==c[8]?m[8]:ve(c[8],m[8])),null==c[9]&&(c[9]=m[9]),c[0]=m[0],c[1]=h),b=c[1],h=c[9]),c[9]=null==h?i?0:a.length:ue(h-j,0)||0,(m?Qe:We)(b==w?Ub(c[0],c[2]):b!=B&&b!=(w|B)||c[4].length?ic.apply(u,c):kc.apply(u,c),c)}function nc(a,b,c,d,e,f,g){var h=-1,i=a.length,j=b.length,k=!0;if(i!=j&&(!e||j<=i))return!1;for(;k&&++h<i;){var l=a[h],m=b[h],k=u;if(d&&(k=e?d(m,l,h):d(l,m,h)),k===u)if(e)for(var n=j;n--&&(m=b[n],!(k=l&&l===m||c(l,m,d,e,f,g))););else k=l&&l===m||c(l,m,d,e,f,g)}return!!k}function oc(a,b,c){switch(c){case Q:case R:return+a==+b;case S:return a.name==b.name&&a.message==b.message;case U:return a!=+a?b!=+b:a==+b;case W:case X:return a==b+""}return!1}function pc(a,b,c,d,e,f,g){var h=Sf(a),i=h.length,j=Sf(b).length;if(i!=j&&!e)return!1;for(var j=e,k=-1;++k<i;){var l=h[k],m=e?l in b:Wd.call(b,l);if(m){var n=a[l],o=b[l],m=u;d&&(m=e?d(o,n,l):d(n,o,l)),m===u&&(m=n&&n===o||c(n,o,d,e,f,g))}if(!m)return!1;j||(j="constructor"==l)}return!(!j&&(c=a.constructor,d=b.constructor,c!=d&&"constructor"in a&&"constructor"in b&&!("function"==typeof c&&c instanceof c&&"function"==typeof d&&d instanceof d)))}function qc(a,b,c){var d=c?Be:Ae,e=d,f=e;return Me(a,function(a,g,h){g=b(a,g,h),((c?g<e:g>e)||g===d&&g===f)&&(e=g,f=a)}),f}function rc(a,b,c){var d=Ka.callback||Ad,d=d===Ad?db:d;return c?d(a,b,c):d}function sc(a,b,d){var e=Ka.indexOf||Pc,e=e===Pc?c:e;return a?e(a,b,d):e}function tc(a){var b=a.length,c=new a.constructor(b);return b&&"string"==typeof a[0]&&Wd.call(a,"index")&&(c.index=a.index,c.input=a.input),c}function uc(a){return a=a.constructor,"function"==typeof a&&a instanceof a||(a=Nd),new a}function vc(a,b,c){var d=a.constructor;switch(b){case Y:return Nb(a);case Q:case R:return new d(+a);case Z:case $:case _:case aa:case ba:case ca:case da:case ea:case fa:return b=a.buffer,new d(c?Nb(b):b,a.byteOffset,a.length);case U:case X:return new d(a);case W:var e=new d(a.source,ya.exec(a));e.lastIndex=a.lastIndex}return e}function wc(a,b,c){return null==a||Ac(b,a)||(b=Kc(b),a=1==b.length?a:pb(a,Bb(b,0,-1)),b=Qc(b)),b=null==a?a:a[b],null==b?u:b.apply(a,c)}function xc(a){return null!=a&&Cc(Ue(a))}function yc(a,b){return a=+a,b=null==b?Ge:b,-1<a&&0==a%1&&a<b}function zc(a,b,c){if(!kd(c))return!1;var d=typeof b;return!!("number"==d?xc(c)&&yc(b,c.length):"string"==d&&b in c)&&(b=c[b],a===a?a===b:b!==b)}function Ac(a,b){var c=typeof a;return!!("string"==c&&ra.test(a)||"number"==c)||!Gf(a)&&(!qa.test(a)||null!=b&&a in Jc(b))}function Bc(a){var b=Te(a);return!!b&&a===Ka[b]&&b in Na.prototype}function Cc(a){return"number"==typeof a&&-1<a&&0==a%1&&a<=Ge}function Dc(a){return a===a&&!kd(a)}function Ec(a,b){a=Jc(a);for(var c=-1,d=b.length,e={};++c<d;){var f=b[c];f in a&&(e[f]=a[f])}return e}function Fc(a,b){var c={};return lb(a,function(a,d,e){b(a,d,e)&&(c[d]=a)}),c}function Gc(a){var b;if(!n(a)||Yd.call(a)!=V||!(Wd.call(a,"constructor")||(b=a.constructor,"function"!=typeof b||b instanceof b)))return!1;var c;return lb(a,function(a,b){c=b}),c===u||Wd.call(a,c)}function Hc(a){for(var b=sd(a),c=b.length,d=c&&a.length,e=Ka.support,e=d&&Cc(d)&&(Gf(a)||e.nonEnumArgs&&hd(a)),f=-1,g=[];++f<c;){var h=b[f];(e&&yc(h,d)||Wd.call(a,h))&&g.push(h)}return g}function Ic(a){return null==a?[]:xc(a)?kd(a)?a:Nd(a):td(a)}function Jc(a){return kd(a)?a:Nd(a)}function Kc(a){if(Gf(a))return a;var b=[];return e(a).replace(sa,function(a,c,d,e){b.push(d?e.replace(wa,"$1"):c||a)}),b}function Lc(a){return a instanceof Na?a.clone():new Ma(a.__wrapped__,a.__chain__,Ra(a.__actions__))}function Mc(a,b,c){return a&&a.length?((c?zc(a,b,c):null==b)&&(b=1),Bb(a,0>b?0:b)):[]}function Nc(a,b,c){var d=a?a.length:0;return d?((c?zc(a,b,c):null==b)&&(b=1),b=d-(+b||0),Bb(a,0,0>b?0:b)):[]}function Oc(a){return a?a[0]:u}function Pc(a,b,d){var e=a?a.length:0;if(!e)return-1;if("number"==typeof d)d=0>d?ue(e+d,0):d;else if(d)return d=Kb(a,b),a=a[d],(b===b?b===a:a!==a)?d:-1;return c(a,b,d||0)}function Qc(a){var b=a?a.length:0;return b?a[b-1]:u}function Rc(a){return Mc(a,1)}function Sc(a,b,d,e){if(!a||!a.length)return[];null!=b&&"boolean"!=typeof b&&(e=d,d=zc(a,b,e)?null:b,b=!1);var f=rc();if((f!==db||null!=d)&&(d=f(d,e,3)),b&&sc()==c){b=d;var g;d=-1,e=a.length;for(var f=-1,h=[];++d<e;){var i=a[d],j=b?b(i,d,a):i;d&&g===j||(g=j,h[++f]=i)}a=h}else a=Gb(a,d);return a}function Tc(a){if(!a||!a.length)return[];var b=-1,c=0;a=Wa(a,function(a){return xc(a)?(c=ue(a.length,c),!0):void 0});for(var d=Hd(c);++b<c;)d[b]=Xa(a,wb(b));return d}function Uc(a,b,c){return a&&a.length?(a=Tc(a),null==b?a:(b=Mb(b,c,4),Xa(a,function(a){return Ya(a,b,u,!0)}))):[]}function Vc(a,b){var c=-1,d=a?a.length:0,e={};for(!d||b||Gf(a[0])||(b=[]);++c<d;){var f=a[c];b?e[f]=b[c]:f&&(e[f[0]]=f[1])}return e}function Wc(a){return a=Ka(a),a.__chain__=!0,a}function Xc(a,b,c){return b.call(c,a)}function Yc(a,b,c){var d=Gf(a)?Ta:hb;return c&&zc(a,b,c)&&(b=null),("function"!=typeof b||c!==u)&&(b=rc(b,c,3)),d(a,b)}function Zc(a,b,c){var d=Gf(a)?Wa:ib;return b=rc(b,c,3),d(a,b)}function $c(a,b,c,d){var e=a?Ue(a):0;return Cc(e)||(a=td(a),e=a.length),!!e&&(c="number"!=typeof c||d&&zc(b,c,d)?0:0>c?ue(e+c,0):c||0,"string"==typeof a||!Gf(a)&&od(a)?c<e&&-1<a.indexOf(b,c):-1<sc(a,b,c))}function _c(a,b,c){var d=Gf(a)?Xa:sb;return b=rc(b,c,3),d(a,b)}function ad(a,b,c){return(c?zc(a,b,c):null==b)?(a=Ic(a),b=a.length,0<b?a[zb(0,b-1)]:u):(a=bd(a),a.length=ve(0>b?0:+b||0,a.length),a)}function bd(a){a=Ic(a);for(var b=-1,c=a.length,d=Hd(c);++b<c;){var e=zb(0,b);b!=e&&(d[b]=d[e]),d[e]=a[b]}return d}function cd(a,b,c){var d=Gf(a)?Za:Cb;return c&&zc(a,b,c)&&(b=null),("function"!=typeof b||c!==u)&&(b=rc(b,c,3)),d(a,b)}function dd(a,b){var c;if("function"!=typeof b){if("function"!=typeof a)throw new Qd(M);var d=a;a=b,b=d}return function(){return 0<--a&&(c=b.apply(this,arguments)),1>=a&&(b=null),c}}function ed(a,b,c){function d(){var c=b-(tf()-j);0>=c||c>b?(h&&ce(h),c=m,h=l=m=u,c&&(n=tf(),i=a.apply(k,g),l||h||(g=k=null))):l=ke(d,c)}function e(){l&&ce(l),h=l=m=u,(p||o!==b)&&(n=tf(),i=a.apply(k,g),l||h||(g=k=null))}function f(){if(g=arguments,j=tf(),k=this,m=p&&(l||!q),!1===o)var c=q&&!l;else{h||q||(n=j);var f=o-(j-n),r=0>=f||f>o;r?(h&&(h=ce(h)),n=j,i=a.apply(k,g)):h||(h=ke(e,f))}return r&&l?l=ce(l):l||b===o||(l=ke(d,b)),c&&(r=!0,i=a.apply(k,g)),!r||l||h||(g=k=null),i}var g,h,i,j,k,l,m,n=0,o=!1,p=!0;if("function"!=typeof a)throw new Qd(M);if(b=0>b?0:+b||0,!0===c)var q=!0,p=!1;else kd(c)&&(q=c.leading,o="maxWait"in c&&ue(+c.maxWait||0,b),p="trailing"in c?c.trailing:p);return f.cancel=function(){l&&ce(l),h&&ce(h),h=l=m=u},f}function fd(a,b){function c(){var d=arguments,e=c.cache,f=b?b.apply(this,d):d[0];return e.has(f)?e.get(f):(d=a.apply(this,d),e.set(f,d),d)}if("function"!=typeof a||b&&"function"!=typeof b)throw new Qd(M);return c.cache=new fd.Cache,c}function gd(a,b){if("function"!=typeof a)throw new Qd(M);return b=ue(b===u?a.length-1:+b||0,0),function(){for(var c=arguments,d=-1,e=ue(c.length-b,0),f=Hd(e);++d<e;)f[d]=c[b+d];switch(b){case 0:return a.call(this,f);case 1:return a.call(this,c[0],f);case 2:return a.call(this,c[0],c[1],f)}for(e=Hd(b+1),d=-1;++d<b;)e[d]=c[d];return e[b]=f,a.apply(this,e)}}function hd(a){return n(a)&&xc(a)&&Yd.call(a)==O}function id(a){return!!a&&1===a.nodeType&&n(a)&&-1<Yd.call(a).indexOf("Element")}function jd(a){return n(a)&&"string"==typeof a.message&&Yd.call(a)==S}function kd(a){var b=typeof a;return"function"==b||!!a&&"object"==b}function ld(a){return null!=a&&(Yd.call(a)==T?$d.test(Vd.call(a)):n(a)&&Aa.test(a))}function md(a){return"number"==typeof a||n(a)&&Yd.call(a)==U}function nd(a){return n(a)&&Yd.call(a)==W}function od(a){return"string"==typeof a||n(a)&&Yd.call(a)==X}function pd(a){return n(a)&&Cc(a.length)&&!!Ha[Yd.call(a)]}function qd(a){return cb(a,sd(a))}function rd(a){return ob(a,sd(a))}function sd(a){if(null==a)return[];kd(a)||(a=Nd(a));for(var b=a.length,b=b&&Cc(b)&&(Gf(a)||Je.nonEnumArgs&&hd(a))&&b||0,c=a.constructor,d=-1,c="function"==typeof c&&c.prototype===a,e=Hd(b),f=0<b;++d<b;)e[d]=d+"";for(var g in a)f&&yc(g,b)||"constructor"==g&&(c||!Wd.call(a,g))||e.push(g);return e}function td(a){return Hb(a,Sf(a))}function ud(a){return(a=e(a))&&a.replace(Ba,j).replace(va,"")}function vd(a){return(a=e(a))&&ua.test(a)?a.replace(ta,"\\$&"):a}function wd(a,b,c){return c&&zc(a,b,c)&&(b=0),ye(a,b)}function xd(a,b){var c="";if(a=e(a),b=+b,1>b||!a||!se(b))return c;do b%2&&(c+=a),b=de(b/2),a+=a;while(b);return c}function yd(a,b,c){var d=a;return(a=e(a))?(c?zc(d,b,c):null==b)?a.slice(q(a),r(a)+1):(b+="",a.slice(g(a,b),h(a,b)+1)):a}function zd(a,b,c){return c&&zc(a,b,c)&&(b=null),a=e(a),a.match(b||Ea)||[]}function Ad(a,b,c){return c&&zc(a,b,c)&&(b=null),n(a)?Dd(a):db(a,b)}function Bd(a){return function(){return a}}function Cd(a){return a}function Dd(a){return tb(eb(a,!0))}function Ed(a,b,c){if(null==c){var d=kd(b),e=d&&Sf(b);((e=e&&e.length&&ob(b,e))?e.length:d)||(e=!1,c=b,b=a,a=this)}e||(e=ob(b,Sf(b)));var f=!0,d=-1,g=If(a),h=e.length;!1===c?f=!1:kd(c)&&"chain"in c&&(f=c.chain);for(;++d<h;){c=e[d];var i=b[c];a[c]=i,g&&(a.prototype[c]=function(b){return function(){var c=this.__chain__;if(f||c){var d=a(this.__wrapped__);return(d.__actions__=Ra(this.__actions__)).push({func:b,args:arguments,thisArg:a}),d.__chain__=c,d}return c=[this.value()],ge.apply(c,arguments),b.apply(a,c)}}(i))}return a}function Fd(){}function Gd(a){return Ac(a)?wb(a):xb(a)}o=o?Va.defaults(Ua.Object(),o,Va.pick(Ua,Ga)):Ua;var Hd=o.Array,Id=o.Date,Jd=o.Error,Kd=o.Function,Ld=o.Math,Md=o.Number,Nd=o.Object,Od=o.RegExp,Pd=o.String,Qd=o.TypeError,Rd=Hd.prototype,Sd=Nd.prototype,Td=Pd.prototype,Ud=(Ud=o.window)&&Ud.document,Vd=Kd.prototype.toString,Wd=Sd.hasOwnProperty,Xd=0,Yd=Sd.toString,Zd=o._,$d=Od("^"+vd(Yd).replace(/toString|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),_d=ld(_d=o.ArrayBuffer)&&_d,ae=ld(ae=_d&&new _d(0).slice)&&ae,be=Ld.ceil,ce=o.clearTimeout,de=Ld.floor,ee=ld(ee=Nd.getOwnPropertySymbols)&&ee,fe=ld(fe=Nd.getPrototypeOf)&&fe,ge=Rd.push,he=ld(he=Nd.preventExtensions)&&he,ie=Sd.propertyIsEnumerable,je=ld(je=o.Set)&&je,ke=o.setTimeout,le=Rd.splice,me=ld(me=o.Uint8Array)&&me,ne=ld(ne=o.WeakMap)&&ne,oe=function(){try{var a=ld(a=o.Float64Array)&&a,b=new a(new _d(10),0,1)&&a}catch(a){}return b}(),pe=function(){var a=he&&ld(a=Nd.assign)&&a;try{if(a){var b=he({1:0});b[0]=1}}catch(c){try{a(b,"xo")}catch(a){}return!b[1]&&a}return!1}(),qe=ld(qe=Hd.isArray)&&qe,re=ld(re=Nd.create)&&re,se=o.isFinite,te=ld(te=Nd.keys)&&te,ue=Ld.max,ve=Ld.min,we=ld(we=Id.now)&&we,xe=ld(xe=Md.isFinite)&&xe,ye=o.parseInt,ze=Ld.random,Ae=Md.NEGATIVE_INFINITY,Be=Md.POSITIVE_INFINITY,Ce=Ld.pow(2,32)-1,De=Ce-1,Ee=Ce>>>1,Fe=oe?oe.BYTES_PER_ELEMENT:0,Ge=Ld.pow(2,53)-1,He=ne&&new ne,Ie={},Je=Ka.support={};!function(a){function b(){this.x=a}var c=arguments,d=[];b.prototype={valueOf:a,y:a};for(var e in new b)d.push(e);Je.funcDecomp=/\bthis\b/.test(function(){return this}),Je.funcNames="string"==typeof Kd.name;try{Je.dom=11===Ud.createDocumentFragment().nodeType}catch(a){Je.dom=!1}try{Je.nonEnumArgs=!ie.call(c,1)}catch(a){Je.nonEnumArgs=!0}}(1,0),Ka.templateSettings={escape:na,evaluate:oa,interpolate:pa,variable:"",
imports:{_:Ka}};var Ke=pe||function(a,b){return null==b?a:cb(b,Ve(b),cb(b,Sf(b),a))},Le=function(){function a(){}return function(b){if(kd(b)){a.prototype=b;var c=new a;a.prototype=null}return c||o.Object()}}(),Me=Sb(mb),Ne=Sb(nb,!0),Oe=Tb(),Pe=Tb(!0),Qe=He?function(a,b){return He.set(a,b),a}:Cd;ae||(Nb=_d&&me?function(a){var b=a.byteLength,c=oe?de(b/Fe):0,d=c*Fe,e=new _d(b);if(c){var f=new oe(e,0,c);f.set(new oe(a,0,c))}return b!=d&&(f=new me(e,d),f.set(new me(a,d))),e}:Bd(null));var Re=re&&je?function(a){return new Pa(a)}:Bd(null),Se=He?function(a){return He.get(a)}:Fd,Te=function(){return Je.funcNames?"constant"==Bd.name?wb("name"):function(a){for(var b=a.name,c=Ie[b],d=c?c.length:0;d--;){var e=c[d],f=e.func;if(null==f||f==a)return e.name}return b}:Bd("")}(),Ue=wb("length"),Ve=ee?function(a){return ee(Jc(a))}:Bd([]),We=function(){var a=0,b=0;return function(c,d){var e=tf(),f=I-(e-b);if(b=e,0<f){if(++a>=H)return c}else a=0;return Qe(c,d)}}(),Xe=gd(function(a,b){return xc(a)?gb(a,kb(b,!1,!0)):[]}),Ye=$b(),Ze=$b(!0),$e=gd(function(b,c){c=kb(c);var d=bb(b,c);return yb(b,c.sort(a)),d}),_e=lc(),af=lc(!0),bf=gd(function(a){return Gb(kb(a,!1,!0))}),cf=gd(function(a,b){return xc(a)?gb(a,b):[]}),df=gd(Tc),ef=gd(function(a){var b=a.length,c=a[b-2],d=a[b-1];return 2<b&&"function"==typeof c?b-=2:(c=1<b&&"function"==typeof d?(--b,d):u,d=u),a.length=b,Uc(a,c,d)}),ff=gd(function(a,b){return bb(a,kb(b))}),gf=Qb(function(a,b,c){Wd.call(a,c)?++a[c]:a[c]=1}),hf=Zb(Me),jf=Zb(Ne,!0),kf=bc(Sa,Me),lf=bc(function(a,b){for(var c=a.length;c--&&!1!==b(a[c],c,a););return a},Ne),mf=Qb(function(a,b,c){Wd.call(a,c)?a[c].push(b):a[c]=[b]}),nf=Qb(function(a,b,c){a[c]=b}),of=gd(function(a,b,c){var d=-1,e="function"==typeof b,f=Ac(b),g=xc(a)?Hd(a.length):[];return Me(a,function(a){var h=e?b:f&&null!=a&&a[b];g[++d]=h?h.apply(a,c):wc(a,b,c)}),g}),pf=Qb(function(a,b,c){a[c?0:1].push(b)},function(){return[[],[]]}),qf=hc(Ya,Me),rf=hc(function(a,b,c,d){var e=a.length;for(d&&e&&(c=a[--e]);e--;)c=b(c,a[e],e,a);return c},Ne),sf=gd(function(a,b){if(null==a)return[];var c=b[2];return c&&zc(b[0],b[1],c)&&(b.length=1),Eb(a,kb(b),[])}),tf=we||function(){return(new Id).getTime()},uf=gd(function(a,b,c){var d=w;if(c.length)var e=p(c,uf.placeholder),d=d|B;return mc(a,d,b,c,e)}),vf=gd(function(a,b){b=b.length?kb(b):rd(a);for(var c=-1,d=b.length;++c<d;){var e=b[c];a[e]=mc(a[e],w,a)}return a}),wf=gd(function(a,b,c){var d=w|x;if(c.length)var e=p(c,wf.placeholder),d=d|B;return mc(b,d,a,c,e)}),xf=Xb(z),yf=Xb(A),zf=gd(function(a,b){return fb(a,1,b)}),Af=gd(function(a,b,c){return fb(a,b,c)}),Bf=ac(),Cf=ac(!0),Df=gc(B),Ef=gc(C),Ff=gd(function(a,b){return mc(a,E,null,null,null,kb(b))}),Gf=qe||function(a){return n(a)&&Cc(a.length)&&Yd.call(a)==P};Je.dom||(id=function(a){return!!a&&1===a.nodeType&&n(a)&&!Jf(a)});var Hf=xe||function(a){return"number"==typeof a&&se(a)},If=d(/x/)||me&&!d(me)?function(a){return Yd.call(a)==T}:d,Jf=fe?function(a){if(!a||Yd.call(a)!=V)return!1;var b=a.valueOf,c=ld(b)&&(c=fe(b))&&fe(c);return c?a==c||fe(a)==c:Gc(a)}:Gc,Kf=Rb(function(a,b,c){return c?ab(a,b,c):Ke(a,b)}),Lf=gd(function(a){var b=a[0];return null==b?b:(a.push($a),Kf.apply(u,a))}),Mf=_b(mb),Nf=_b(nb),Of=cc(Oe),Pf=cc(Pe),Qf=dc(mb),Rf=dc(nb),Sf=te?function(a){var b=null!=a&&a.constructor;return"function"==typeof b&&b.prototype===a||"function"!=typeof a&&xc(a)?Hc(a):kd(a)?te(a):[]}:Hc,Tf=ec(!0),Uf=ec(),Vf=Rb(vb),Wf=gd(function(a,b){if(null==a)return{};if("function"!=typeof b[0])return b=Xa(kb(b),Pd),Ec(a,gb(sd(a),b));var c=Mb(b[0],b[1],3);return Fc(a,function(a,b,d){return!c(a,b,d)})}),Xf=gd(function(a,b){return null==a?{}:"function"==typeof b[0]?Fc(a,Mb(b[0],b[1],3)):Ec(a,kb(b))}),Yf=Vb(function(a,b,c){return b=b.toLowerCase(),a+(c?b.charAt(0).toUpperCase()+b.slice(1):b)}),Zf=Vb(function(a,b,c){return a+(c?"-":"")+b.toLowerCase()}),$f=fc(),_f=fc(!0);8!=ye(Fa+"08")&&(wd=function(a,b,c){return(c?zc(a,b,c):null==b)?b=0:b&&(b=+b),a=yd(a),ye(a,b||(za.test(a)?16:10))});var ag=Vb(function(a,b,c){return a+(c?"_":"")+b.toLowerCase()}),bg=Vb(function(a,b,c){return a+(c?" ":"")+(b.charAt(0).toUpperCase()+b.slice(1))}),cg=gd(function(a,b){try{return a.apply(u,b)}catch(a){return jd(a)?a:new Jd(a)}}),dg=gd(function(a,b){return function(c){return wc(c,a,b)}}),eg=gd(function(a,b){return function(c){return wc(a,c,b)}}),fg=Yb(function(a){for(var b=-1,c=a.length,d=Ae;++b<c;){var e=a[b];e>d&&(d=e)}return d}),gg=Yb(function(a){for(var b=-1,c=a.length,d=Be;++b<c;){var e=a[b];e<d&&(d=e)}return d},!0);return Ka.prototype=La.prototype,Ma.prototype=Le(La.prototype),Ma.prototype.constructor=Ma,Na.prototype=Le(La.prototype),Na.prototype.constructor=Na,Oa.prototype.delete=function(a){return this.has(a)&&delete this.__data__[a]},Oa.prototype.get=function(a){return"__proto__"==a?u:this.__data__[a]},Oa.prototype.has=function(a){return"__proto__"!=a&&Wd.call(this.__data__,a)},Oa.prototype.set=function(a,b){return"__proto__"!=a&&(this.__data__[a]=b),this},Pa.prototype.push=function(a){var b=this.data;"string"==typeof a||kd(a)?b.set.add(a):b.hash[a]=!0},fd.Cache=Oa,Ka.after=function(a,b){if("function"!=typeof b){if("function"!=typeof a)throw new Qd(M);var c=a;a=b,b=c}return a=se(a=+a)?a:0,function(){return 1>--a?b.apply(this,arguments):void 0}},Ka.ary=function(a,b,c){return c&&zc(a,b,c)&&(b=null),b=a&&null==b?a.length:ue(+b||0,0),mc(a,D,null,null,null,null,b)},Ka.assign=Kf,Ka.at=ff,Ka.before=dd,Ka.bind=uf,Ka.bindAll=vf,Ka.bindKey=wf,Ka.callback=Ad,Ka.chain=Wc,Ka.chunk=function(a,b,c){b=(c?zc(a,b,c):null==b)?1:ue(+b||1,1),c=0;for(var d=a?a.length:0,e=-1,f=Hd(be(d/b));c<d;)f[++e]=Bb(a,c,c+=b);return f},Ka.compact=function(a){for(var b=-1,c=a?a.length:0,d=-1,e=[];++b<c;){var f=a[b];f&&(e[++d]=f)}return e},Ka.constant=Bd,Ka.countBy=gf,Ka.create=function(a,b,c){var d=Le(a);return c&&zc(a,b,c)&&(b=null),b?Ke(d,b):d},Ka.curry=xf,Ka.curryRight=yf,Ka.debounce=ed,Ka.defaults=Lf,Ka.defer=zf,Ka.delay=Af,Ka.difference=Xe,Ka.drop=Mc,Ka.dropRight=Nc,Ka.dropRightWhile=function(a,b,c){return a&&a.length?Ib(a,rc(b,c,3),!0,!0):[]},Ka.dropWhile=function(a,b,c){return a&&a.length?Ib(a,rc(b,c,3),!0):[]},Ka.fill=function(a,b,c,d){var e=a?a.length:0;if(!e)return[];for(c&&"number"!=typeof c&&zc(a,b,c)&&(c=0,d=e),e=a.length,c=null==c?0:+c||0,0>c&&(c=-c>e?0:e+c),d=d===u||d>e?e:+d||0,0>d&&(d+=e),e=c>d?0:d>>>0,c>>>=0;c<e;)a[c++]=b;return a},Ka.filter=Zc,Ka.flatten=function(a,b,c){var d=a?a.length:0;return c&&zc(a,b,c)&&(b=!1),d?kb(a,b):[]},Ka.flattenDeep=function(a){return a&&a.length?kb(a,!0):[]},Ka.flow=Bf,Ka.flowRight=Cf,Ka.forEach=kf,Ka.forEachRight=lf,Ka.forIn=Of,Ka.forInRight=Pf,Ka.forOwn=Qf,Ka.forOwnRight=Rf,Ka.functions=rd,Ka.groupBy=mf,Ka.indexBy=nf,Ka.initial=function(a){return Nc(a,1)},Ka.intersection=function(){for(var a=[],b=-1,d=arguments.length,e=[],f=sc(),g=f==c,h=[];++b<d;){var i=arguments[b];xc(i)&&(a.push(i),e.push(g&&120<=i.length?Re(b&&i):null))}if(d=a.length,2>d)return h;var g=a[0],j=-1,k=g?g.length:0,l=e[0];a:for(;++j<k;)if(i=g[j],0>(l?Qa(l,i):f(h,i,0))){for(b=d;--b;){var m=e[b];if(0>(m?Qa(m,i):f(a[b],i,0)))continue a}l&&l.push(i),h.push(i)}return h},Ka.invert=function(a,b,c){c&&zc(a,b,c)&&(b=null),c=-1;for(var d=Sf(a),e=d.length,f={};++c<e;){var g=d[c],h=a[g];b?Wd.call(f,h)?f[h].push(g):f[h]=[g]:f[h]=g}return f},Ka.invoke=of,Ka.keys=Sf,Ka.keysIn=sd,Ka.map=_c,Ka.mapKeys=Tf,Ka.mapValues=Uf,Ka.matches=Dd,Ka.matchesProperty=function(a,b){return ub(a,eb(b,!0))},Ka.memoize=fd,Ka.merge=Vf,Ka.method=dg,Ka.methodOf=eg,Ka.mixin=Ed,Ka.negate=function(a){if("function"!=typeof a)throw new Qd(M);return function(){return!a.apply(this,arguments)}},Ka.omit=Wf,Ka.once=function(a){return dd(2,a)},Ka.pairs=function(a){for(var b=-1,c=Sf(a),d=c.length,e=Hd(d);++b<d;){var f=c[b];e[b]=[f,a[f]]}return e},Ka.partial=Df,Ka.partialRight=Ef,Ka.partition=pf,Ka.pick=Xf,Ka.pluck=function(a,b){return _c(a,Gd(b))},Ka.property=Gd,Ka.propertyOf=function(a){return function(b){return pb(a,Kc(b),b+"")}},Ka.pull=function(){var a=arguments,b=a[0];if(!b||!b.length)return b;for(var c=0,d=sc(),e=a.length;++c<e;)for(var f=0,g=a[c];-1<(f=d(b,g,f));)le.call(b,f,1);return b},Ka.pullAt=$e,Ka.range=function(a,b,c){c&&zc(a,b,c)&&(b=c=null),a=+a||0,c=null==c?1:+c||0,null==b?(b=a,a=0):b=+b||0;var d=-1;b=ue(be((b-a)/(c||1)),0);for(var e=Hd(b);++d<b;)e[d]=a,a+=c;return e},Ka.rearg=Ff,Ka.reject=function(a,b,c){var d=Gf(a)?Wa:ib;return b=rc(b,c,3),d(a,function(a,c,d){return!b(a,c,d)})},Ka.remove=function(a,b,c){var d=[];if(!a||!a.length)return d;var e=-1,f=[],g=a.length;for(b=rc(b,c,3);++e<g;)c=a[e],b(c,e,a)&&(d.push(c),f.push(e));return yb(a,f),d},Ka.rest=Rc,Ka.restParam=gd,Ka.set=function(a,b,c){if(null==a)return a;var d=b+"";b=null!=a[d]||Ac(b,a)?[d]:Kc(b);for(var d=-1,e=b.length,f=e-1,g=a;null!=g&&++d<e;){var h=b[d];kd(g)&&(d==f?g[h]=c:null==g[h]&&(g[h]=yc(b[d+1])?[]:{})),g=g[h]}return a},Ka.shuffle=bd,Ka.slice=function(a,b,c){var d=a?a.length:0;return d?(c&&"number"!=typeof c&&zc(a,b,c)&&(b=0,c=d),Bb(a,b,c)):[]},Ka.sortBy=function(a,b,c){if(null==a)return[];c&&zc(a,b,c)&&(b=null);var d=-1;return b=rc(b,c,3),a=sb(a,function(a,c,e){return{a:b(a,c,e),b:++d,c:a}}),Db(a,i)},Ka.sortByAll=sf,Ka.sortByOrder=function(a,b,c,d){return null==a?[]:(d&&zc(b,c,d)&&(c=null),Gf(b)||(b=null==b?[]:[b]),Gf(c)||(c=null==c?[]:[c]),Eb(a,b,c))},Ka.spread=function(a){if("function"!=typeof a)throw new Qd(M);return function(b){return a.apply(this,b)}},Ka.take=function(a,b,c){return a&&a.length?((c?zc(a,b,c):null==b)&&(b=1),Bb(a,0,0>b?0:b)):[]},Ka.takeRight=function(a,b,c){var d=a?a.length:0;return d?((c?zc(a,b,c):null==b)&&(b=1),b=d-(+b||0),Bb(a,0>b?0:b)):[]},Ka.takeRightWhile=function(a,b,c){return a&&a.length?Ib(a,rc(b,c,3),!1,!0):[]},Ka.takeWhile=function(a,b,c){return a&&a.length?Ib(a,rc(b,c,3)):[]},Ka.tap=function(a,b,c){return b.call(c,a),a},Ka.throttle=function(a,b,c){var d=!0,e=!0;if("function"!=typeof a)throw new Qd(M);return!1===c?d=!1:kd(c)&&(d="leading"in c?!!c.leading:d,e="trailing"in c?!!c.trailing:e),Ja.leading=d,Ja.maxWait=+b,Ja.trailing=e,ed(a,b,Ja)},Ka.thru=Xc,Ka.times=function(a,b,c){if(a=de(a),1>a||!se(a))return[];var d=-1,e=Hd(ve(a,Ce));for(b=Mb(b,c,1);++d<a;)d<Ce?e[d]=b(d):b(d);return e},Ka.toArray=function(a){var b=a?Ue(a):0;return Cc(b)?b?Ra(a):[]:td(a)},Ka.toPlainObject=qd,Ka.transform=function(a,b,c,d){var e=Gf(a)||pd(a);return b=rc(b,d,4),null==c&&(e||kd(a)?(d=a.constructor,c=e?Gf(a)?new d:[]:Le(If(d)&&d.prototype)):c={}),(e?Sa:mb)(a,function(a,d,e){return b(c,a,d,e)}),c},Ka.union=bf,Ka.uniq=Sc,Ka.unzip=Tc,Ka.unzipWith=Uc,Ka.values=td,Ka.valuesIn=function(a){return Hb(a,sd(a))},Ka.where=function(a,b){return Zc(a,tb(b))},Ka.without=cf,Ka.wrap=function(a,b){return b=null==b?Cd:b,mc(b,B,null,[a],[])},Ka.xor=function(){for(var a=-1,b=arguments.length;++a<b;){var c=arguments[a];if(xc(c))var d=d?gb(d,c).concat(gb(c,d)):c}return d?Gb(d):[]},Ka.zip=df,Ka.zipObject=Vc,Ka.zipWith=ef,Ka.backflow=Cf,Ka.collect=_c,Ka.compose=Cf,Ka.each=kf,Ka.eachRight=lf,Ka.extend=Kf,Ka.iteratee=Ad,Ka.methods=rd,Ka.object=Vc,Ka.select=Zc,Ka.tail=Rc,Ka.unique=Sc,Ed(Ka,Ka),Ka.add=function(a,b){return(+a||0)+(+b||0)},Ka.attempt=cg,Ka.camelCase=Yf,Ka.capitalize=function(a){return(a=e(a))&&a.charAt(0).toUpperCase()+a.slice(1)},Ka.clone=function(a,b,c,d){return b&&"boolean"!=typeof b&&zc(a,b,c)?b=!1:"function"==typeof b&&(d=c,c=b,b=!1),c="function"==typeof c&&Mb(c,d,1),eb(a,b,c)},Ka.cloneDeep=function(a,b,c){return b="function"==typeof b&&Mb(b,c,1),eb(a,!0,b)},Ka.deburr=ud,Ka.endsWith=function(a,b,c){a=e(a),b+="";var d=a.length;return c=c===u?d:ve(0>c?0:+c||0,d),c-=b.length,0<=c&&a.indexOf(b,c)==c},Ka.escape=function(a){return(a=e(a))&&ma.test(a)?a.replace(ka,k):a},Ka.escapeRegExp=vd,Ka.every=Yc,Ka.find=hf,Ka.findIndex=Ye,Ka.findKey=Mf,Ka.findLast=jf,Ka.findLastIndex=Ze,Ka.findLastKey=Nf,Ka.findWhere=function(a,b){return hf(a,tb(b))},Ka.first=Oc,Ka.get=function(a,b,c){return a=null==a?u:pb(a,Kc(b),b+""),a===u?c:a},Ka.has=function(a,b){if(null==a)return!1;var c=Wd.call(a,b);return c||Ac(b)||(b=Kc(b),a=1==b.length?a:pb(a,Bb(b,0,-1)),b=Qc(b),c=null!=a&&Wd.call(a,b)),c},Ka.identity=Cd,Ka.includes=$c,Ka.indexOf=Pc,Ka.inRange=function(a,b,c){return b=+b||0,"undefined"==typeof c?(c=b,b=0):c=+c||0,a>=ve(b,c)&&a<ue(b,c)},Ka.isArguments=hd,Ka.isArray=Gf,Ka.isBoolean=function(a){return!0===a||!1===a||n(a)&&Yd.call(a)==Q},Ka.isDate=function(a){return n(a)&&Yd.call(a)==R},Ka.isElement=id,Ka.isEmpty=function(a){return null==a||(xc(a)&&(Gf(a)||od(a)||hd(a)||n(a)&&If(a.splice))?!a.length:!Sf(a).length)},Ka.isEqual=function(a,b,c,d){return c="function"==typeof c&&Mb(c,d,3),!c&&Dc(a)&&Dc(b)?a===b:(d=c?c(a,b):u,d===u?qb(a,b,c):!!d)},Ka.isError=jd,Ka.isFinite=Hf,Ka.isFunction=If,Ka.isMatch=function(a,b,c,d){var e=Sf(b),f=e.length;if(!f)return!0;if(null==a)return!1;if(c="function"==typeof c&&Mb(c,d,3),a=Jc(a),!c&&1==f){var g=e[0];if(d=b[g],Dc(d))return d===a[g]&&(d!==u||g in a)}for(var g=Hd(f),h=Hd(f);f--;)d=g[f]=b[e[f]],h[f]=Dc(d);return rb(a,e,g,h,c)},Ka.isNaN=function(a){return md(a)&&a!=+a},Ka.isNative=ld,Ka.isNull=function(a){return null===a},Ka.isNumber=md,Ka.isObject=kd,Ka.isPlainObject=Jf,Ka.isRegExp=nd,Ka.isString=od,Ka.isTypedArray=pd,Ka.isUndefined=function(a){return a===u},Ka.kebabCase=Zf,Ka.last=Qc,Ka.lastIndexOf=function(a,b,c){var d=a?a.length:0;if(!d)return-1;var e=d;if("number"==typeof c)e=(0>c?ue(d+c,0):ve(c||0,d-1))+1;else if(c)return e=Kb(a,b,!0)-1,a=a[e],(b===b?b===a:a!==a)?e:-1;if(b!==b)return m(a,e,!0);for(;e--;)if(a[e]===b)return e;return-1},Ka.max=fg,Ka.min=gg,Ka.noConflict=function(){return o._=Zd,this},Ka.noop=Fd,Ka.now=tf,Ka.pad=function(a,b,c){a=e(a),b=+b;var d=a.length;return d<b&&se(b)?(d=(b-d)/2,b=de(d),d=be(d),c=jc("",d,c),c.slice(0,b)+a+c):a},Ka.padLeft=$f,Ka.padRight=_f,Ka.parseInt=wd,Ka.random=function(a,b,c){c&&zc(a,b,c)&&(b=c=null);var d=null==a,e=null==b;return null==c&&(e&&"boolean"==typeof a?(c=a,a=1):"boolean"==typeof b&&(c=b,e=!0)),d&&e&&(b=1,e=!1),a=+a||0,e?(b=a,a=0):b=+b||0,c||a%1||b%1?(c=ze(),ve(a+c*(b-a+parseFloat("1e-"+((c+"").length-1))),b)):zb(a,b)},Ka.reduce=qf,Ka.reduceRight=rf,Ka.repeat=xd,Ka.result=function(a,b,c){var d=null==a?u:a[b];return d===u&&(null==a||Ac(b,a)||(b=Kc(b),a=1==b.length?a:pb(a,Bb(b,0,-1)),d=null==a?u:a[Qc(b)]),d=d===u?c:d),If(d)?d.call(a):d},Ka.runInContext=t,Ka.size=function(a){var b=a?Ue(a):0;return Cc(b)?b:Sf(a).length},Ka.snakeCase=ag,Ka.some=cd,Ka.sortedIndex=_e,Ka.sortedLastIndex=af,Ka.startCase=bg,Ka.startsWith=function(a,b,c){return a=e(a),c=null==c?0:ve(0>c?0:+c||0,a.length),a.lastIndexOf(b,c)==c},Ka.sum=function(a,b,c){c&&zc(a,b,c)&&(b=null);var d=rc(),e=null==b;if(d===db&&e||(e=!1,b=d(b,c,3)),e){for(a=Gf(a)?a:Ic(a),b=a.length,c=0;b--;)c+=+a[b]||0;a=c}else a=Fb(a,b);return a},Ka.template=function(a,b,c){var d=Ka.templateSettings;c&&zc(a,b,c)&&(b=c=null),a=e(a),b=ab(Ke({},c||b),d,_a),c=ab(Ke({},b.imports),d.imports,_a);var f,g,h=Sf(c),i=Hb(c,h),j=0;c=b.interpolate||Ca;var k="__p+='";c=Od((b.escape||Ca).source+"|"+c.source+"|"+(c===pa?xa:Ca).source+"|"+(b.evaluate||Ca).source+"|$","g");var m="sourceURL"in b?"//# sourceURL="+b.sourceURL+"\n":"";if(a.replace(c,function(b,c,d,e,h,i){return d||(d=e),k+=a.slice(j,i).replace(Da,l),c&&(f=!0,k+="'+__e("+c+")+'"),h&&(g=!0,k+="';"+h+";\n__p+='"),d&&(k+="'+((__t=("+d+"))==null?'':__t)+'"),j=i+b.length,b}),k+="';",(b=b.variable)||(k="with(obj){"+k+"}"),k=(g?k.replace(ga,""):k).replace(ha,"$1").replace(ia,"$1;"),k="function("+(b||"obj")+"){"+(b?"":"obj||(obj={});")+"var __t,__p=''"+(f?",__e=_.escape":"")+(g?",__j=Array.prototype.join;function print(){__p+=__j.call(arguments,'')}":";")+k+"return __p}",b=cg(function(){return Kd(h,m+"return "+k).apply(u,i)}),b.source=k,jd(b))throw b;return b},Ka.trim=yd,Ka.trimLeft=function(a,b,c){var d=a;return(a=e(a))?a.slice((c?zc(d,b,c):null==b)?q(a):g(a,b+"")):a},Ka.trimRight=function(a,b,c){var d=a;return(a=e(a))?(c?zc(d,b,c):null==b)?a.slice(0,r(a)+1):a.slice(0,h(a,b+"")+1):a},Ka.trunc=function(a,b,c){c&&zc(a,b,c)&&(b=null);var d=F;if(c=G,null!=b)if(kd(b)){var f="separator"in b?b.separator:f,d="length"in b?+b.length||0:d;c="omission"in b?e(b.omission):c}else d=+b||0;if(a=e(a),d>=a.length)return a;if(d-=c.length,1>d)return c;if(b=a.slice(0,d),null==f)return b+c;if(nd(f)){if(a.slice(d).search(f)){var g,h=a.slice(0,d);for(f.global||(f=Od(f.source,(ya.exec(f)||"")+"g")),f.lastIndex=0;a=f.exec(h);)g=a.index;b=b.slice(0,null==g?d:g)}}else a.indexOf(f,d)!=d&&(f=b.lastIndexOf(f),-1<f&&(b=b.slice(0,f)));return b+c},Ka.unescape=function(a){return(a=e(a))&&la.test(a)?a.replace(ja,s):a},Ka.uniqueId=function(a){var b=++Xd;return e(a)+b},Ka.words=zd,Ka.all=Yc,Ka.any=cd,Ka.contains=$c,Ka.detect=hf,Ka.foldl=qf,Ka.foldr=rf,Ka.head=Oc,Ka.include=$c,Ka.inject=qf,Ed(Ka,function(){var a={};return mb(Ka,function(b,c){Ka.prototype[c]||(a[c]=b)}),a}(),!1),Ka.sample=ad,Ka.prototype.sample=function(a){return this.__chain__||null!=a?this.thru(function(b){return ad(b,a)}):ad(this.value())},Ka.VERSION=v,Sa("bind bindKey curry curryRight partial partialRight".split(" "),function(a){Ka[a].placeholder=Ka}),Sa(["dropWhile","filter","map","takeWhile"],function(a,b){var c=b!=L,d=b==J;Na.prototype[a]=function(a,e){var f=this.__filtered__,g=f&&d?new Na(this):this.clone();return(g.__iteratees__||(g.__iteratees__=[])).push({done:!1,count:0,index:0,iteratee:rc(a,e,1),limit:-1,type:b}),g.__filtered__=f||c,g}}),Sa(["drop","take"],function(a,b){var c=a+"While";Na.prototype[a]=function(c){var d=this.__filtered__,e=d&&!b?this.dropWhile():this.clone();return c=null==c?1:ue(de(c)||0,0),d?b?e.__takeCount__=ve(e.__takeCount__,c):Qc(e.__iteratees__).limit=c:(e.__views__||(e.__views__=[])).push({size:c,type:a+(0>e.__dir__?"Right":"")}),e},Na.prototype[a+"Right"]=function(b){return this.reverse()[a](b).reverse()},Na.prototype[a+"RightWhile"]=function(a,b){return this.reverse()[c](a,b).reverse()}}),Sa(["first","last"],function(a,b){var c="take"+(b?"Right":"");Na.prototype[a]=function(){return this[c](1).value()[0]}}),Sa(["initial","rest"],function(a,b){var c="drop"+(b?"":"Right");Na.prototype[a]=function(){return this[c](1)}}),Sa(["pluck","where"],function(a,b){var c=b?"filter":"map",d=b?tb:Gd;Na.prototype[a]=function(a){return this[c](d(a))}}),Na.prototype.compact=function(){return this.filter(Cd)},Na.prototype.reject=function(a,b){return a=rc(a,b,1),this.filter(function(b){return!a(b)})},Na.prototype.slice=function(a,b){a=null==a?0:+a||0;var c=this;return 0>a?c=this.takeRight(-a):a&&(c=this.drop(a)),b!==u&&(b=+b||0,c=0>b?c.dropRight(-b):c.take(b-a)),c},Na.prototype.toArray=function(){return this.drop(0)},mb(Na.prototype,function(a,b){var c=Ka[b];if(c){var d=/^(?:filter|map|reject)|While$/.test(b),e=/^(?:first|last)$/.test(b);Ka.prototype[b]=function(){function b(a){return a=[a],ge.apply(a,f),c.apply(Ka,a)}var f=arguments,g=this.__chain__,h=this.__wrapped__,i=!!this.__actions__.length,j=h instanceof Na,k=f[0],l=j||Gf(h);return l&&d&&"function"==typeof k&&1!=k.length&&(j=l=!1),j=j&&!i,e&&!g?j?a.call(h):c.call(Ka,this.value()):l?(h=a.apply(j?h:new Na(this),f),e||!i&&!h.__actions__||(h.__actions__||(h.__actions__=[])).push({func:Xc,args:[b],thisArg:Ka}),new Ma(h,g)):this.thru(b)}}}),Sa("concat join pop push replace shift sort splice split unshift".split(" "),function(a){var b=(/^(?:replace|split)$/.test(a)?Td:Rd)[a],c=/^(?:push|sort|unshift)$/.test(a)?"tap":"thru",d=/^(?:join|pop|replace|shift)$/.test(a);Ka.prototype[a]=function(){var a=arguments;return d&&!this.__chain__?b.apply(this.value(),a):this[c](function(c){return b.apply(c,a)})}}),mb(Na.prototype,function(a,b){var c=Ka[b];if(c){var d=c.name;(Ie[d]||(Ie[d]=[])).push({name:b,func:c})}}),Ie[ic(null,x).name]=[{name:"wrapper",func:null}],Na.prototype.clone=function(){var a=this.__actions__,b=this.__iteratees__,c=this.__views__,d=new Na(this.__wrapped__);return d.__actions__=a?Ra(a):null,d.__dir__=this.__dir__,d.__filtered__=this.__filtered__,d.__iteratees__=b?Ra(b):null,d.__takeCount__=this.__takeCount__,d.__views__=c?Ra(c):null,d},Na.prototype.reverse=function(){if(this.__filtered__){var a=new Na(this);a.__dir__=-1,a.__filtered__=!0}else a=this.clone(),a.__dir__*=-1;return a},Na.prototype.value=function(){var a=this.__wrapped__.value();if(!Gf(a))return Jb(a,this.__actions__);var b,c=this.__dir__,d=0>c;b=a.length;for(var e=this.__views__,f=0,g=-1,h=e?e.length:0;++g<h;){var i=e[g],j=i.size;switch(i.type){case"drop":f+=j;break;case"dropRight":b-=j;break;case"take":b=ve(b,f+j);break;case"takeRight":f=ue(f,b-j)}}b={start:f,end:b},e=b.start,f=b.end,b=f-e,e=d?f:e-1,f=ve(b,this.__takeCount__),h=(g=this.__iteratees__)?g.length:0,i=0,j=[];a:for(;b--&&i<f;){for(var e=e+c,k=-1,l=a[e];++k<h;){var m=g[k],n=m.iteratee,o=m.type;if(o==J){if(m.done&&(d?e>m.index:e<m.index)&&(m.count=0,m.done=!1),m.index=e,!(m.done||(o=m.limit,m.done=-1<o?m.count++>=o:!n(l))))continue a}else if(m=n(l),o==L)l=m;else if(!m){if(o==K)continue a;break a}}j[i++]=l}return j},Ka.prototype.chain=function(){return Wc(this)},Ka.prototype.commit=function(){return new Ma(this.value(),this.__chain__)},Ka.prototype.plant=function(a){for(var b,c=this;c instanceof La;){var d=Lc(c);b?e.__wrapped__=d:b=d;var e=d,c=c.__wrapped__}return e.__wrapped__=a,b},Ka.prototype.reverse=function(){var a=this.__wrapped__;return a instanceof Na?(this.__actions__.length&&(a=new Na(this)),new Ma(a.reverse(),this.__chain__)):this.thru(function(a){return a.reverse()})},Ka.prototype.toString=function(){return this.value()+""},Ka.prototype.run=Ka.prototype.toJSON=Ka.prototype.valueOf=Ka.prototype.value=function(){return Jb(this.__wrapped__,this.__actions__)},Ka.prototype.collect=Ka.prototype.map,Ka.prototype.head=Ka.prototype.first,Ka.prototype.select=Ka.prototype.filter,Ka.prototype.tail=Ka.prototype.rest,Ka}var u,v="3.8.0",w=1,x=2,y=4,z=8,A=16,B=32,C=64,D=128,E=256,F=30,G="...",H=150,I=16,J=0,K=1,L=2,M="Expected a function",N="__lodash_placeholder__",O="[object Arguments]",P="[object Array]",Q="[object Boolean]",R="[object Date]",S="[object Error]",T="[object Function]",U="[object Number]",V="[object Object]",W="[object RegExp]",X="[object String]",Y="[object ArrayBuffer]",Z="[object Float32Array]",$="[object Float64Array]",_="[object Int8Array]",aa="[object Int16Array]",ba="[object Int32Array]",ca="[object Uint8Array]",da="[object Uint8ClampedArray]",ea="[object Uint16Array]",fa="[object Uint32Array]",ga=/\b__p\+='';/g,ha=/\b(__p\+=)''\+/g,ia=/(__e\(.*?\)|\b__t\))\+'';/g,ja=/&(?:amp|lt|gt|quot|#39|#96);/g,ka=/[&<>"'`]/g,la=RegExp(ja.source),ma=RegExp(ka.source),na=/<%-([\s\S]+?)%>/g,oa=/<%([\s\S]+?)%>/g,pa=/<%=([\s\S]+?)%>/g,qa=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,ra=/^\w*$/,sa=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,ta=/[.*+?^${}()|[\]\/\\]/g,ua=RegExp(ta.source),va=/[\u0300-\u036f\ufe20-\ufe23]/g,wa=/\\(\\)?/g,xa=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ya=/\w*$/,za=/^0[xX]/,Aa=/^\[object .+?Constructor\]$/,Ba=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,Ca=/($^)/,Da=/['\n\r\u2028\u2029\\]/g,Ea=RegExp("[A-Z\\xc0-\\xd6\\xd8-\\xde]+(?=[A-Z\\xc0-\\xd6\\xd8-\\xde][a-z\\xdf-\\xf6\\xf8-\\xff]+)|[A-Z\\xc0-\\xd6\\xd8-\\xde]?[a-z\\xdf-\\xf6\\xf8-\\xff]+|[A-Z\\xc0-\\xd6\\xd8-\\xde]+|[0-9]+","g"),Fa=" \t\v\f\ufeff\n\r\u2028\u2029",Ga="Array ArrayBuffer Date Error Float32Array Float64Array Function Int8Array Int16Array Int32Array Math Number Object RegExp Set String _ clearTimeout document isFinite parseInt setTimeout TypeError Uint8Array Uint8ClampedArray Uint16Array Uint32Array WeakMap window".split(" "),Ha={};Ha[Z]=Ha[$]=Ha[_]=Ha[aa]=Ha[ba]=Ha[ca]=Ha[da]=Ha[ea]=Ha[fa]=!0,Ha[O]=Ha[P]=Ha[Y]=Ha[Q]=Ha[R]=Ha[S]=Ha[T]=Ha["[object Map]"]=Ha[U]=Ha[V]=Ha[W]=Ha["[object Set]"]=Ha[X]=Ha["[object WeakMap]"]=!1;var Ia={};Ia[O]=Ia[P]=Ia[Y]=Ia[Q]=Ia[R]=Ia[Z]=Ia[$]=Ia[_]=Ia[aa]=Ia[ba]=Ia[U]=Ia[V]=Ia[W]=Ia[X]=Ia[ca]=Ia[da]=Ia[ea]=Ia[fa]=!0,Ia[S]=Ia[T]=Ia["[object Map]"]=Ia["[object Set]"]=Ia["[object WeakMap]"]=!1;var Ja={leading:!1,maxWait:0,trailing:!1},Ka={"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss"},La={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},Ma={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},Na={function:!0,object:!0},Oa={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Pa=Na[typeof exports]&&exports&&!exports.nodeType&&exports,Qa=Na[typeof module]&&module&&!module.nodeType&&module,Ra=Na[typeof self]&&self&&self.Object&&self,Sa=Na[typeof window]&&window&&window.Object&&window,Ta=Qa&&Qa.exports===Pa&&Pa,Ua=Pa&&Qa&&"object"==typeof global&&global&&global.Object&&global||Sa!==(this&&this.window)&&Sa||Ra||this,Va=t();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(Ua._=Va,define(function(){return Va})):Pa&&Qa?Ta?(Qa.exports=Va)._=Va:Pa._=Va:Ua._=Va}).call(this),ol.Overlay.Popup=function(a){var b=a||{};this.panMapIfOutOfView=b.panMapIfOutOfView,void 0===this.panMapIfOutOfView&&(this.panMapIfOutOfView=!0),this.ani=b.ani,void 0===this.ani&&(this.ani=ol.animation.pan),this.ani_opts=b.ani_opts,void 0===this.ani_opts&&(this.ani_opts={duration:250}),this.container=document.createElement("div"),this.container.className="ol-popup",this.container.id="djainpopup",this.content=document.createElement("div"),this.content.className="ol-popup-content",this.container.appendChild(this.content),ol.Overlay.call(this,{element:this.container,stopEvent:!0})},ol.inherits(ol.Overlay.Popup,ol.Overlay),ol.Overlay.Popup.prototype.show=function(a,b){this.setPosition(a),this.content.innerHTML=b,this.container.style.display="block";var c=this.content;return window.setTimeout(function(){c.scrollTop=0},100),this.panMapIfOutOfView&&this.panIntoView_(a),this},ol.Overlay.Popup.prototype.panIntoView_=function(a){var b={width:this.getElement().clientWidth+20,height:this.getElement().clientHeight+20},c=this.getMap().getSize(),d=20,e=60,f=b.width-e,g=this.getOffset(),h=this.getMap().getPixelFromCoordinate(a),i=h[0]-e,j=c[0]-(h[0]+f),k=h[1]-b.height+g[1],l=c[1]-(h[1]+d)-g[1],m=this.getMap().getView().getCenter(),n=this.getMap().getPixelFromCoordinate(m);return j<0?n[0]-=j:i<0&&(n[0]+=i),k<0?n[1]+=k:l<0&&(n[1]-=l),this.ani&&this.ani_opts&&(this.ani_opts.source=m,this.getMap().beforeRender(this.ani(this.ani_opts))),this.getMap().getView().setCenter(this.getMap().getCoordinateFromPixel(n)),this.getMap().getView().getCenter()},ol.Overlay.Popup.prototype.hide=function(){return this.container.style.display="none",this},ol.Overlay.Popup.prototype.showsame=function(){return this.container.style.display="block",this},function(a,b){"object"==typeof exports&&"undefined"!=typeof module?b(exports):"function"==typeof define&&define.amd?define(["exports"],b):(a=a||self,b(a.FullCalendar={}))}(this,function(a){"use strict";function b(a,b,c){var d=document.createElement(a);if(b)for(var e in b)"style"===e?q(d,b[e]):ne[e]?d[e]=b[e]:d.setAttribute(e,b[e]);return"string"==typeof c?d.innerHTML=c:null!=c&&g(d,c),d}function c(a){a=a.trim();var b=document.createElement(f(a));return b.innerHTML=a,b.firstChild}function d(a){return Array.prototype.slice.call(e(a))}function e(a){a=a.trim();var b=document.createElement(f(a));return b.innerHTML=a,b.childNodes}function f(a){return oe[a.substr(0,3)]||"div"}function g(a,b){for(var c=j(b),d=0;d<c.length;d++)a.appendChild(c[d])}function h(a,b){for(var c=j(b),d=a.firstChild||null,e=0;e<c.length;e++)a.insertBefore(c[e],d)}function i(a,b){for(var c=j(b),d=a.nextSibling||null,e=0;e<c.length;e++)a.parentNode.insertBefore(c[e],d)}function j(a){var b;return b="string"==typeof a?d(a):a instanceof Node?[a]:Array.prototype.slice.call(a)}function k(a){a.parentNode&&a.parentNode.removeChild(a)}function l(a,b){return qe.call(a,b)}function m(a,b){return pe.call(a,b)}function n(a,b){for(var c=a instanceof HTMLElement?[a]:a,d=[],e=0;e<c.length;e++)for(var f=c[e].querySelectorAll(b),g=0;g<f.length;g++)d.push(f[g]);return d}function o(a,b){for(var c=a instanceof HTMLElement?[a]:a,d=[],e=0;e<c.length;e++)for(var f=c[e].children,g=0;g<f.length;g++){var h=f[g];b&&!m(h,b)||d.push(h)}return d}function p(a,b,c){c?a.classList.add(b):a.classList.remove(b)}function q(a,b){for(var c in b)r(a,c,b[c])}function r(a,b,c){null==c?a.style[b]="":"number"==typeof c&&re.test(b)?a.style[b]=c+"px":a.style[b]=c}function s(a,b){return a.left>=b.left&&a.left<b.right&&a.top>=b.top&&a.top<b.bottom}function t(a,b){var c={left:Math.max(a.left,b.left),right:Math.min(a.right,b.right),top:Math.max(a.top,b.top),bottom:Math.min(a.bottom,b.bottom)};return c.left<c.right&&c.top<c.bottom&&c}function u(a,b,c){return{left:a.left+b,right:a.right+b,top:a.top+c,bottom:a.bottom+c}}function v(a,b){return{left:Math.min(Math.max(a.left,b.left),b.right),top:Math.min(Math.max(a.top,b.top),b.bottom)}}function w(a){return{left:(a.left+a.right)/2,top:(a.top+a.bottom)/2}}function x(a,b){return{left:a.left-b.left,top:a.top-b.top}}function y(){return null===se&&(se=z()),se}function z(){var a=b("div",{style:{position:"absolute",top:-1e3,left:0,border:0,padding:0,overflow:"scroll",direction:"rtl"}},"<div></div>");document.body.appendChild(a);var c=a.firstChild,d=c.getBoundingClientRect().left>a.getBoundingClientRect().left;return k(a),d}function A(a){return a=Math.max(0,a),a=Math.round(a)}function B(a,b){void 0===b&&(b=!1);var c=window.getComputedStyle(a),d=parseInt(c.borderLeftWidth,10)||0,e=parseInt(c.borderRightWidth,10)||0,f=parseInt(c.borderTopWidth,10)||0,g=parseInt(c.borderBottomWidth,10)||0,h=A(a.offsetWidth-a.clientWidth-d-e),i=A(a.offsetHeight-a.clientHeight-f-g),j={borderLeft:d,borderRight:e,borderTop:f,borderBottom:g,scrollbarBottom:i,scrollbarLeft:0,scrollbarRight:0};return y()&&"rtl"===c.direction?j.scrollbarLeft=h:j.scrollbarRight=h,b&&(j.paddingLeft=parseInt(c.paddingLeft,10)||0,j.paddingRight=parseInt(c.paddingRight,10)||0,j.paddingTop=parseInt(c.paddingTop,10)||0,j.paddingBottom=parseInt(c.paddingBottom,10)||0),j}function C(a,b){void 0===b&&(b=!1);var c=D(a),d=B(a,b),e={left:c.left+d.borderLeft+d.scrollbarLeft,right:c.right-d.borderRight-d.scrollbarRight,top:c.top+d.borderTop,bottom:c.bottom-d.borderBottom-d.scrollbarBottom};return b&&(e.left+=d.paddingLeft,e.right-=d.paddingRight,e.top+=d.paddingTop,e.bottom-=d.paddingBottom),e}function D(a){var b=a.getBoundingClientRect();return{left:b.left+window.pageXOffset,top:b.top+window.pageYOffset,right:b.right+window.pageXOffset,bottom:b.bottom+window.pageYOffset}}function E(){return{left:window.pageXOffset,right:window.pageXOffset+document.documentElement.clientWidth,top:window.pageYOffset,bottom:window.pageYOffset+document.documentElement.clientHeight}}function F(a){return a.getBoundingClientRect().height+G(a)}function G(a){var b=window.getComputedStyle(a);return parseInt(b.marginTop,10)+parseInt(b.marginBottom,10)}function H(a){for(var b=[];a instanceof HTMLElement;){var c=window.getComputedStyle(a);if("fixed"===c.position)break;/(auto|scroll)/.test(c.overflow+c.overflowY+c.overflowX)&&b.push(a),a=a.parentNode}return b}function I(a){return H(a).map(function(a){return C(a)}).concat(E()).reduce(function(a,b){return t(a,b)||b})}function J(a){a.preventDefault()}function K(a,b,c,d){function e(a){var b=l(a.target,c);b&&d.call(b,a,b)}return a.addEventListener(b,e),function(){a.removeEventListener(b,e)}}function L(a,b,c,d){var e;return K(a,"mouseover",b,function(a,b){if(b!==e){e=b,c(a,b);var f=function(a){e=null,d(a,b),b.removeEventListener("mouseleave",f)};b.addEventListener("mouseleave",f)}})}function M(a,b){var c=function(d){b(d),te.forEach(function(b){a.removeEventListener(b,c)})};te.forEach(function(b){a.addEventListener(b,c)})}function N(a,b){var c=fa(a);return c[2]+=7*b,ga(c)}function O(a,b){var c=fa(a);return c[2]+=b,ga(c)}function P(a,b){var c=fa(a);return c[6]+=b,ga(c)}function Q(a,b){
return R(a,b)/7}function R(a,b){return(b.valueOf()-a.valueOf())/864e5}function S(a,b){return(b.valueOf()-a.valueOf())/36e5}function T(a,b){return(b.valueOf()-a.valueOf())/6e4}function U(a,b){return(b.valueOf()-a.valueOf())/1e3}function V(a,b){var c=Y(a),d=Y(b);return{years:0,months:0,days:Math.round(R(c,d)),milliseconds:b.valueOf()-d.valueOf()-(a.valueOf()-c.valueOf())}}function W(a,b){var c=X(a,b);return null!==c&&c%7===0?c/7:null}function X(a,b){return ia(a)===ia(b)?Math.round(R(a,b)):null}function Y(a){return ga([a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate()])}function Z(a){return ga([a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate(),a.getUTCHours()])}function $(a){return ga([a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate(),a.getUTCHours(),a.getUTCMinutes()])}function _(a){return ga([a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate(),a.getUTCHours(),a.getUTCMinutes(),a.getUTCSeconds()])}function aa(a,b,c){var d=a.getUTCFullYear(),e=ba(a,d,b,c);if(e<1)return ba(a,d-1,b,c);var f=ba(a,d+1,b,c);return f>=1?Math.min(e,f):e}function ba(a,b,c,d){var e=ga([b,0,1+ca(b,c,d)]),f=Y(a),g=Math.round(R(e,f));return Math.floor(g/7)+1}function ca(a,b,c){var d=7+b-c,e=(7+ga([a,0,d]).getUTCDay()-b)%7;return-e+d-1}function da(a){return[a.getFullYear(),a.getMonth(),a.getDate(),a.getHours(),a.getMinutes(),a.getSeconds(),a.getMilliseconds()]}function ea(a){return new Date(a[0],a[1]||0,null==a[2]?1:a[2],a[3]||0,a[4]||0,a[5]||0)}function fa(a){return[a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate(),a.getUTCHours(),a.getUTCMinutes(),a.getUTCSeconds(),a.getUTCMilliseconds()]}function ga(a){return 1===a.length&&(a=a.concat([0])),new Date(Date.UTC.apply(Date,a))}function ha(a){return!isNaN(a.valueOf())}function ia(a){return 1e3*a.getUTCHours()*60*60+1e3*a.getUTCMinutes()*60+1e3*a.getUTCSeconds()+a.getUTCMilliseconds()}function ja(a,b){var c;return"string"==typeof a?ka(a):"object"==typeof a&&a?la(a):"number"==typeof a?la((c={},c[b||"milliseconds"]=a,c)):null}function ka(a){var b=we.exec(a);if(b){var c=b[1]?-1:1;return{years:0,months:0,days:c*(b[2]?parseInt(b[2],10):0),milliseconds:c*(60*(b[3]?parseInt(b[3],10):0)*60*1e3+60*(b[4]?parseInt(b[4],10):0)*1e3+1e3*(b[5]?parseInt(b[5],10):0)+(b[6]?parseInt(b[6],10):0))}}return null}function la(a){return{years:a.years||a.year||0,months:a.months||a.month||0,days:(a.days||a.day||0)+7*ma(a),milliseconds:60*(a.hours||a.hour||0)*60*1e3+60*(a.minutes||a.minute||0)*1e3+1e3*(a.seconds||a.second||0)+(a.milliseconds||a.millisecond||a.ms||0)}}function ma(a){return a.weeks||a.week||0}function na(a,b){return a.years===b.years&&a.months===b.months&&a.days===b.days&&a.milliseconds===b.milliseconds}function oa(a){return 0===a.years&&0===a.months&&1===a.days&&0===a.milliseconds}function pa(a,b){return{years:a.years+b.years,months:a.months+b.months,days:a.days+b.days,milliseconds:a.milliseconds+b.milliseconds}}function qa(a,b){return{years:a.years-b.years,months:a.months-b.months,days:a.days-b.days,milliseconds:a.milliseconds-b.milliseconds}}function ra(a,b){return{years:a.years*b,months:a.months*b,days:a.days*b,milliseconds:a.milliseconds*b}}function sa(a){return ua(a)/365}function ta(a){return ua(a)/30}function ua(a){return xa(a)/864e5}function va(a){return xa(a)/6e4}function wa(a){return xa(a)/1e3}function xa(a){return 31536e6*a.years+2592e6*a.months+864e5*a.days+a.milliseconds}function ya(a,b){for(var c=null,d=0;d<ve.length;d++){var e=ve[d];if(b[e]){var f=a[e]/b[e];if(!Ta(f)||null!==c&&c!==f)return null;c=f}else if(a[e])return null}return c}function za(a,b){var c=a.milliseconds;if(c){if(c%1e3!==0)return{unit:"millisecond",value:c};if(c%6e4!==0)return{unit:"second",value:c/1e3};if(c%36e5!==0)return{unit:"minute",value:c/6e4};if(c)return{unit:"hour",value:c/36e5}}return a.days?b||a.days%7!==0?{unit:"day",value:a.days}:{unit:"week",value:a.days/7}:a.months?{unit:"month",value:a.months}:a.years?{unit:"year",value:a.years}:{unit:"millisecond",value:0}}function Aa(a,b){b.left&&q(a,{borderLeftWidth:1,marginLeft:b.left-1}),b.right&&q(a,{borderRightWidth:1,marginRight:b.right-1})}function Ba(a){q(a,{marginLeft:"",marginRight:"",borderLeftWidth:"",borderRightWidth:""})}function Ca(){document.body.classList.add("fc-not-allowed")}function Da(){document.body.classList.remove("fc-not-allowed")}function Ea(a,b,c){var d=Math.floor(b/a.length),e=Math.floor(b-d*(a.length-1)),f=[],g=[],h=[],i=0;Fa(a),a.forEach(function(b,c){var j=c===a.length-1?e:d,k=b.getBoundingClientRect().height,l=k+G(b);l<j?(f.push(b),g.push(l),h.push(k)):i+=l}),c&&(b-=i,d=Math.floor(b/f.length),e=Math.floor(b-d*(f.length-1))),f.forEach(function(a,b){var c=b===f.length-1?e:d,i=g[b],j=h[b],k=c-(i-j);i<c&&(a.style.height=k+"px")})}function Fa(a){a.forEach(function(a){a.style.height=""})}function Ga(a){var b=0;return a.forEach(function(a){var c=a.firstChild;if(c instanceof HTMLElement){var d=c.getBoundingClientRect().width;d>b&&(b=d)}}),b++,a.forEach(function(a){a.style.width=b+"px"}),b}function Ha(a,b){var c={position:"relative",left:-1};q(a,c),q(b,c);var d=a.getBoundingClientRect().height-b.getBoundingClientRect().height,e={position:"",left:""};return q(a,e),q(b,e),d}function Ia(a){a.classList.add("fc-unselectable"),a.addEventListener("selectstart",J)}function Ja(a){a.classList.remove("fc-unselectable"),a.removeEventListener("selectstart",J)}function Ka(a){a.addEventListener("contextmenu",J)}function La(a){a.removeEventListener("contextmenu",J)}function Ma(a){var b,c,d=[],e=[];for("string"==typeof a?e=a.split(/\s*,\s*/):"function"==typeof a?e=[a]:Array.isArray(a)&&(e=a),b=0;b<e.length;b++)c=e[b],"string"==typeof c?d.push("-"===c.charAt(0)?{field:c.substring(1),order:-1}:{field:c,order:1}):"function"==typeof c&&d.push({func:c});return d}function Na(a,b,c){var d,e;for(d=0;d<c.length;d++)if(e=Oa(a,b,c[d]))return e;return 0}function Oa(a,b,c){return c.func?c.func(a,b):Pa(a[c.field],b[c.field])*(c.order||1)}function Pa(a,b){return a||b?null==b?-1:null==a?1:"string"==typeof a||"string"==typeof b?String(a).localeCompare(String(b)):a-b:0}function Qa(a){return a.charAt(0).toUpperCase()+a.slice(1)}function Ra(a,b){var c=String(a);return"000".substr(0,b-c.length)+c}function Sa(a,b){return a-b}function Ta(a){return a%1===0}function Ua(a,b,c){if("function"==typeof a&&(a=[a]),a){var d=void 0,e=void 0;for(d=0;d<a.length;d++)e=a[d].apply(b,c)||e;return e}}function Va(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];for(var c=0;c<a.length;c++)if(void 0!==a[c])return a[c]}function Wa(a,b){var c,d,e,f,g,h=function(){var i=(new Date).valueOf()-f;i<b?c=setTimeout(h,b-i):(c=null,g=a.apply(e,d),e=d=null)};return function(){return e=this,d=arguments,f=(new Date).valueOf(),c||(c=setTimeout(h,b)),g}}function Xa(a,b,c,d){void 0===c&&(c={});var e={};for(var f in b){var g=b[f];void 0!==a[f]?g===Function?e[f]="function"==typeof a[f]?a[f]:null:g?e[f]=g(a[f]):e[f]=a[f]:void 0!==c[f]?e[f]=c[f]:g===String?e[f]="":g&&g!==Number&&g!==Boolean&&g!==Function?e[f]=g(null):e[f]=null}if(d)for(var f in a)void 0===b[f]&&(d[f]=a[f]);return e}function Ya(a){var b=Math.floor(R(a.start,a.end))||1,c=Y(a.start),d=O(c,b);return{start:c,end:d}}function Za(a,b){void 0===b&&(b=ja(0));var c=null,d=null;if(a.end){d=Y(a.end);var e=a.end.valueOf()-d.valueOf();e&&e>=xa(b)&&(d=O(d,1))}return a.start&&(c=Y(a.start),d&&d<=c&&(d=O(c,1))),{start:c,end:d}}function $a(a){var b=Za(a);return R(b.start,b.end)>1}function _a(a,b,c,d){return"year"===d?ja(c.diffWholeYears(a,b),"year"):"month"===d?ja(c.diffWholeMonths(a,b),"month"):V(a,b)}function ab(a,b){function c(){this.constructor=a}xe(a,b),a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)}function bb(a,b,c,d,e){for(var f=0;f<d.length;f++){var g={},h=d[f].parse(a,g,c);if(h){var i=g.allDay;return delete g.allDay,null==i&&(i=b,null==i&&(i=h.allDayGuess,null==i&&(i=!1))),ye(e,g),{allDay:i,duration:h.duration,typeData:h.typeData,typeId:f}}}return null}function cb(a,b,c,d,e){var f=e[a.recurringDef.typeId],g=f.expand(a.recurringDef.typeData,{start:d.subtract(c.start,b),end:c.end},d);return a.allDay&&(g=g.map(Y)),g}function db(a,b){var c,d,e,f,g,h,i={};if(b)for(c=0;c<b.length;c++){for(d=b[c],e=[],f=a.length-1;f>=0;f--)if(g=a[f][d],"object"==typeof g&&g)e.unshift(g);else if(void 0!==g){i[d]=g;break}e.length&&(i[d]=db(e))}for(c=a.length-1;c>=0;c--){h=a[c];for(d in h)d in i||(i[d]=h[d])}return i}function eb(a,b){var c={};for(var d in a)b(a[d],d)&&(c[d]=a[d]);return c}function fb(a,b){var c={};for(var d in a)c[d]=b(a[d],d);return c}function gb(a){for(var b={},c=0,d=a;c<d.length;c++){var e=d[c];b[e]=!0}return b}function hb(a){var b=[];for(var c in a)b.push(a[c]);return b}function ib(a,b){for(var c in a)if(ze.call(a,c)&&!(c in b))return!1;for(var c in b)if(ze.call(b,c)&&a[c]!==b[c])return!1;return!0}function jb(a,b,c,d){for(var e=qb(),f=0,g=a;f<g.length;f++){var h=g[f],i=Dc(h,b,c,d);i&&kb(i,e)}return e}function kb(a,b){return void 0===b&&(b=qb()),b.defs[a.def.defId]=a.def,a.instance&&(b.instances[a.instance.instanceId]=a.instance),b}function lb(a,b,c){var d=c.dateEnv,e=a.defs,f=a.instances;f=eb(f,function(a){return!e[a.defId].recurringDef});for(var g in e){var h=e[g];if(h.recurringDef){var i=h.recurringDef.duration;i||(i=h.allDay?c.defaultAllDayEventDuration:c.defaultTimedEventDuration);for(var j=cb(h,i,b,c.dateEnv,c.pluginSystem.hooks.recurringTypes),k=0,l=j;k<l.length;k++){var m=l[k],n=Fc(g,{start:m,end:d.add(m,i)});f[n.instanceId]=n}}}return{defs:e,instances:f}}function mb(a,b){var c=a.instances[b];if(c){var d=a.defs[c.defId],e=sb(a,function(a){return nb(d,a)});return e.defs[d.defId]=d,e.instances[c.instanceId]=c,e}return qb()}function nb(a,b){return Boolean(a.groupId&&a.groupId===b.groupId)}function ob(a,b,c){var d=c.opt("eventDataTransform"),e=b?b.eventDataTransform:null;return e&&(a=pb(a,e)),d&&(a=pb(a,d)),a}function pb(a,b){var c;if(b){c=[];for(var d=0,e=a;d<e.length;d++){var f=e[d],g=b(f);g?c.push(g):null==g&&c.push(f)}}else c=a;return c}function qb(){return{defs:{},instances:{}}}function rb(a,b){return{defs:ye({},a.defs,b.defs),instances:ye({},a.instances,b.instances)}}function sb(a,b){var c=eb(a.defs,b),d=eb(a.instances,function(a){return c[a.defId]});return{defs:c,instances:d}}function tb(a,b){var c=null,d=null;return a.start&&(c=b.createMarker(a.start)),a.end&&(d=b.createMarker(a.end)),c||d?c&&d&&d<c?null:{start:c,end:d}:null}function ub(a,b){var c,d,e=[],f=b.start;for(a.sort(vb),c=0;c<a.length;c++)d=a[c],d.start>f&&e.push({start:f,end:d.start}),d.end>f&&(f=d.end);return f<b.end&&e.push({start:f,end:b.end}),e}function vb(a,b){return a.start.valueOf()-b.start.valueOf()}function wb(a,b){var c=a.start,d=a.end,e=null;return null!==b.start&&(c=null===c?b.start:new Date(Math.max(c.valueOf(),b.start.valueOf()))),null!=b.end&&(d=null===d?b.end:new Date(Math.min(d.valueOf(),b.end.valueOf()))),(null===c||null===d||c<d)&&(e={start:c,end:d}),e}function xb(a,b){return(null===a.start?null:a.start.valueOf())===(null===b.start?null:b.start.valueOf())&&(null===a.end?null:a.end.valueOf())===(null===b.end?null:b.end.valueOf())}function yb(a,b){return(null===a.end||null===b.start||a.end>b.start)&&(null===a.start||null===b.end||a.start<b.end)}function zb(a,b){return(null===a.start||null!==b.start&&b.start>=a.start)&&(null===a.end||null!==b.end&&b.end<=a.end)}function Ab(a,b){return(null===a.start||b>=a.start)&&(null===a.end||b<a.end)}function Bb(a,b){return null!=b.start&&a<b.start?b.start:null!=b.end&&a>=b.end?new Date(b.end.valueOf()-1):a}function Cb(a,b){for(var c=0,d=0;d<a.length;)a[d]===b?(a.splice(d,1),c++):d++;return c}function Db(a,b){var c,d=a.length;if(d!==b.length)return!1;for(c=0;c<d;c++)if(a[c]!==b[c])return!1;return!0}function Eb(a){var b,c;return function(){return b&&Db(b,arguments)||(b=arguments,c=a.apply(this,arguments)),c}}function Fb(a,b){var c=null;return function(){var d=a.apply(this,arguments);return(null===c||c!==d&&!b(c,d))&&(c=d),c}}function Gb(a,b,c){var d=Object.keys(a).length;return 1===d&&"short"===a.timeZoneName?function(a){return Sb(a.timeZoneOffset)}:0===d&&b.week?function(a){return Lb(c.computeWeekNumber(a.marker),c.weekLabel,c.locale,b.week)}:Hb(a,b,c)}function Hb(a,b,c){a=ye({},a),b=ye({},b),Ib(a,b),a.timeZone="UTC";var d,e=new Intl.DateTimeFormat(c.locale.codes,a);if(b.omitZeroMinute){var f=ye({},a);delete f.minute,d=new Intl.DateTimeFormat(c.locale.codes,f)}return function(f){var g,h=f.marker;g=d&&!h.getUTCMinutes()?d:e;var i=g.format(h);return Jb(i,f,a,b,c)}}function Ib(a,b){a.timeZoneName&&(a.hour||(a.hour="2-digit"),a.minute||(a.minute="2-digit")),"long"===a.timeZoneName&&(a.timeZoneName="short"),b.omitZeroMinute&&(a.second||a.millisecond)&&delete b.omitZeroMinute}function Jb(a,b,c,d,e){return a=a.replace(Fe,""),"short"===c.timeZoneName&&(a=Kb(a,"UTC"===e.timeZone||null==b.timeZoneOffset?"UTC":Sb(b.timeZoneOffset))),d.omitCommas&&(a=a.replace(De,"").trim()),d.omitZeroMinute&&(a=a.replace(":00","")),d.meridiem===!1?a=a.replace(Ce,"").trim():"narrow"===d.meridiem?a=a.replace(Ce,function(a,b){return b.toLocaleLowerCase()}):"short"===d.meridiem?a=a.replace(Ce,function(a,b){return b.toLocaleLowerCase()+"m"}):"lowercase"===d.meridiem&&(a=a.replace(Ce,function(a){return a.toLocaleLowerCase()})),a=a.replace(Ee," "),a=a.trim()}function Kb(a,b){var c=!1;return a=a.replace(Ge,function(){return c=!0,b}),c||(a+=" "+b),a}function Lb(a,b,c,d){var e=[];return"narrow"===d?e.push(b):"short"===d&&e.push(b," "),e.push(c.simpleNumberFormat.format(a)),c.options.isRtl&&e.reverse(),e.join("")}function Mb(a,b,c){return c.getMarkerYear(a)!==c.getMarkerYear(b)?5:c.getMarkerMonth(a)!==c.getMarkerMonth(b)?4:c.getMarkerDay(a)!==c.getMarkerDay(b)?2:ia(a)!==ia(b)?1:0}function Nb(a,b){var c={};for(var d in a)d in Be&&!(Be[d]<=b)||(c[d]=a[d]);return c}function Ob(a,b,c,d){for(var e=0;e<a.length;){var f=a.indexOf(b,e);if(f===-1)break;var g=a.substr(0,f);e=f+b.length;for(var h=a.substr(e),i=0;i<c.length;){var j=c.indexOf(d,i);if(j===-1)break;var k=c.substr(0,j);i=j+d.length;var l=c.substr(i);if(g===k&&h===l)return{before:g,after:h}}}return null}function Pb(a,b){return"object"==typeof a&&a?("string"==typeof b&&(a=ye({separator:b},a)),new He(a)):"string"==typeof a?new Ie(a,b):"function"==typeof a?new Je(a):void 0}function Qb(a,b,c){void 0===c&&(c=!1);var d=a.toISOString();return d=d.replace(".000",""),c&&(d=d.replace("T00:00:00Z","")),d.length>10&&(null==b?d=d.replace("Z",""):0!==b&&(d=d.replace("Z",Sb(b,!0)))),d}function Rb(a){return Ra(a.getUTCHours(),2)+":"+Ra(a.getUTCMinutes(),2)+":"+Ra(a.getUTCSeconds(),2)}function Sb(a,b){void 0===b&&(b=!1);var c=a<0?"-":"+",d=Math.abs(a),e=Math.floor(d/60),f=Math.round(d%60);return b?c+Ra(e,2)+":"+Ra(f,2):"GMT"+c+e+(f?":"+Ra(f,2):"")}function Tb(a,b,c,d){var e=Ub(a,c.calendarSystem),f=b?Ub(b,c.calendarSystem):null;return{date:e,start:e,end:f,timeZone:c.timeZone,localeCodes:c.locale.codes,separator:d}}function Ub(a,b){var c=b.markerToArray(a.marker);return{marker:a.marker,timeZoneOffset:a.timeZoneOffset,array:c,year:c[0],month:c[1],day:c[2],hour:c[3],minute:c[4],second:c[5],millisecond:c[6]}}function Vb(a,b,c,d){var e={},f={},g={},h=[],i=[],j=$b(a.defs,b);for(var k in a.defs){var l=a.defs[k];"inverse-background"===l.rendering&&(l.groupId?(e[l.groupId]=[],g[l.groupId]||(g[l.groupId]=l)):f[k]=[])}for(var m in a.instances){var n=a.instances[m],l=a.defs[n.defId],o=j[l.defId],p=n.range,q=!l.allDay&&d?Za(p,d):p,r=wb(q,c);r&&("inverse-background"===l.rendering?l.groupId?e[l.groupId].push(r):f[n.defId].push(r):("background"===l.rendering?h:i).push({def:l,ui:o,instance:n,range:r,isStart:q.start&&q.start.valueOf()===r.start.valueOf(),isEnd:q.end&&q.end.valueOf()===r.end.valueOf()}))}for(var s in e)for(var t=e[s],u=ub(t,c),v=0,w=u;v<w.length;v++){var x=w[v],l=g[s],o=j[l.defId];h.push({def:l,ui:o,instance:null,range:x,isStart:!1,isEnd:!1})}for(var k in f)for(var t=f[k],u=ub(t,c),y=0,z=u;y<z.length;y++){var x=z[y];h.push({def:a.defs[k],ui:j[k],instance:null,range:x,isStart:!1,isEnd:!1})}return{bg:h,fg:i}}function Wb(a){return"background"===a.rendering||"inverse-background"===a.rendering}function Xb(a,b,c){a.hasPublicHandlers("eventRender")&&(b=b.filter(function(b){var d=a.publiclyTrigger("eventRender",[{event:new Le(a.calendar,b.eventRange.def,b.eventRange.instance),isMirror:c,isStart:b.isStart,isEnd:b.isEnd,el:b.el,view:a}]);return d!==!1&&(d&&d!==!0&&(b.el=d),!0)}));for(var d=0,e=b;d<e.length;d++){var f=e[d];Yb(f.el,f)}return b}function Yb(a,b){a.fcSeg=b}function Zb(a){return a.fcSeg||null}function $b(a,b){return fb(a,function(a){return _b(a,b)})}function _b(a,b){var c=[];return b[""]&&c.push(b[""]),b[a.defId]&&c.push(b[a.defId]),c.push(a.ui),Bc(c)}function ac(a,b,c,d){var e=$b(a.defs,b),f=qb();for(var g in a.defs){var h=a.defs[g];f.defs[g]=bc(h,e[g],c,d.pluginSystem.hooks.eventDefMutationAppliers,d)}for(var i in a.instances){var j=a.instances[i],h=f.defs[j.defId];f.instances[i]=cc(j,h,e[j.defId],c,d)}return f}function bc(a,b,c,d,e){var f=c.standardProps||{};null==f.hasEnd&&b.durationEditable&&(c.startDelta||c.endDelta)&&(f.hasEnd=!0);var g=ye({},a,f,{ui:ye({},a.ui,f.ui)});c.extendedProps&&(g.extendedProps=ye({},g.extendedProps,c.extendedProps));for(var h=0,i=d;h<i.length;h++){var j=i[h];j(g,c,e)}return!g.hasEnd&&e.opt("forceEventDuration")&&(g.hasEnd=!0),g}function cc(a,b,c,d,e){var f=e.dateEnv,g=d.standardProps&&d.standardProps.allDay===!0,h=d.standardProps&&d.standardProps.hasEnd===!1,i=ye({},a);return g&&(i.range=Ya(i.range)),d.datesDelta&&c.startEditable&&(i.range={start:f.add(i.range.start,d.datesDelta),end:f.add(i.range.end,d.datesDelta)}),d.startDelta&&c.durationEditable&&(i.range={start:f.add(i.range.start,d.startDelta),end:i.range.end}),d.endDelta&&c.durationEditable&&(i.range={start:i.range.start,end:f.add(i.range.end,d.endDelta)}),h&&(i.range={start:i.range.start,end:e.getDefaultEventEnd(b.allDay,i.range.start)}),b.allDay&&(i.range={start:Y(i.range.start),end:Y(i.range.end)}),i.range.end<i.range.start&&(i.range.end=e.getDefaultEventEnd(b.allDay,i.range.start)),i}function dc(a,b,c,d,e){switch(b.type){case"RECEIVE_EVENTS":return ec(a,c[b.sourceId],b.fetchId,b.fetchRange,b.rawEvents,e);case"ADD_EVENTS":return fc(a,b.eventStore,d?d.activeRange:null,e);case"MERGE_EVENTS":return rb(a,b.eventStore);case"PREV":case"NEXT":case"SET_DATE":case"SET_VIEW_TYPE":return d?lb(a,d.activeRange,e):a;case"CHANGE_TIMEZONE":return gc(a,b.oldDateEnv,e.dateEnv);case"MUTATE_EVENTS":return hc(a,b.instanceId,b.mutation,b.fromApi,e);case"REMOVE_EVENT_INSTANCES":return jc(a,b.instances);case"REMOVE_EVENT_DEF":return sb(a,function(a){return a.defId!==b.defId});case"REMOVE_EVENT_SOURCE":return ic(a,b.sourceId);case"REMOVE_ALL_EVENT_SOURCES":return sb(a,function(a){return!a.sourceId});case"REMOVE_ALL_EVENTS":return qb();case"RESET_EVENTS":return{defs:a.defs,instances:a.instances};default:return a}}function ec(a,b,c,d,e,f){if(b&&c===b.latestFetchId){var g=jb(ob(e,b,f),b.sourceId,f);return d&&(g=lb(g,d,f)),rb(ic(a,b.sourceId),g)}return a}function fc(a,b,c,d){return c&&(b=lb(b,c,d)),rb(a,b)}function gc(a,b,c){var d=a.defs,e=fb(a.instances,function(a){var e=d[a.defId];return e.allDay||e.recurringDef?a:ye({},a,{range:{start:c.createMarker(b.toDate(a.range.start,a.forcedStartTzo)),end:c.createMarker(b.toDate(a.range.end,a.forcedEndTzo))},forcedStartTzo:c.canComputeOffset?null:a.forcedStartTzo,forcedEndTzo:c.canComputeOffset?null:a.forcedEndTzo})});return{defs:d,instances:e}}function hc(a,b,c,d,e){var f=mb(a,b),g=d?{"":{startEditable:!0,durationEditable:!0,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]}}:e.eventUiBases;return f=ac(f,g,c,e),rb(a,f)}function ic(a,b){return sb(a,function(a){return a.sourceId!==b})}function jc(a,b){return{defs:a.defs,instances:eb(a.instances,function(a){return!b[a.instanceId]})}}function kc(a,b){return mc({eventDrag:a},b)}function lc(a,b){return mc({dateSelection:a},b)}function mc(a,b){var c=b.view,d=ye({businessHours:c?c.props.businessHours:qb(),dateSelection:"",eventStore:b.state.eventStore,eventUiBases:b.eventUiBases,eventSelection:"",eventDrag:null,eventResize:null},a);return(b.pluginSystem.hooks.isPropsValid||nc)(d,b)}function nc(a,b,c,d){return void 0===c&&(c={}),!(a.eventDrag&&!oc(a,b,c,d))&&!(a.dateSelection&&!pc(a,b,c,d))}function oc(a,b,c,d){var e=a.eventDrag,f=e.mutatedEvents,g=f.defs,h=f.instances,i=$b(g,e.isEvent?a.eventUiBases:{"":b.selectionConfig});d&&(i=fb(i,d));var j=jc(a.eventStore,e.affectedEvents.instances),k=j.defs,l=j.instances,m=$b(k,a.eventUiBases);for(var n in h){var o=h[n],p=o.range,q=i[o.defId],r=g[o.defId];if(!qc(q.constraints,p,j,a.businessHours,b))return!1;var s=b.opt("eventOverlap");"function"!=typeof s&&(s=null);for(var t in l){var u=l[t];if(yb(p,u.range)){var v=m[u.defId].overlap;if(v===!1&&e.isEvent)return!1;if(q.overlap===!1)return!1;if(s&&!s(new Le(b,k[u.defId],u),new Le(b,r,o)))return!1}}for(var w=b.state.eventStore,x=0,y=q.allows;x<y.length;x++){var z=y[x],A=ye({},c,{range:o.range,allDay:r.allDay}),B=w.defs[r.defId],C=w.instances[n],D=void 0;if(D=B?new Le(b,B,C):new Le(b,r),!z(b.buildDateSpanApi(A),D))return!1}}return!0}function pc(a,b,c,d){var e=a.eventStore,f=e.defs,g=e.instances,h=a.dateSelection,i=h.range,j=b.selectionConfig;if(d&&(j=d(j)),!qc(j.constraints,i,e,a.businessHours,b))return!1;var k=b.opt("selectOverlap");"function"!=typeof k&&(k=null);for(var l in g){var m=g[l];if(yb(i,m.range)){if(j.overlap===!1)return!1;if(k&&!k(new Le(b,f[m.defId],m)))return!1}}for(var n=0,o=j.allows;n<o.length;n++){var p=o[n],q=ye({},c,h);if(!p(b.buildDateSpanApi(q),null))return!1}return!0}function qc(a,b,c,d,e){for(var f=0,g=a;f<g.length;f++){var h=g[f];if(!tc(rc(h,b,c,d,e),b))return!1}return!0}function rc(a,b,c,d,e){return"businessHours"===a?sc(lb(d,b,e)):"string"==typeof a?sc(sb(c,function(b){return b.groupId===a})):"object"==typeof a&&a?sc(lb(a,b,e)):[]}function sc(a){var b=a.instances,c=[];for(var d in b)c.push(b[d].range);return c}function tc(a,b){for(var c=0,d=a;c<d.length;c++){var e=d[c];if(zb(e,b))return!0}return!1}function uc(a,b){return Array.isArray(a)?jb(a,"",b,!0):"object"==typeof a&&a?jb([a],"",b,!0):null!=a?String(a):null}function vc(a){return(a+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;").replace(/\n/g,"<br />")}function wc(a){var b=[];for(var c in a){var d=a[c];null!=d&&""!==d&&b.push(c+":"+d)}return b.join(";")}function xc(a){var b=[];for(var c in a){var d=a[c];null!=d&&b.push(c+'="'+vc(d)+'"')}return b.join(" ")}function yc(a){return Array.isArray(a)?a:"string"==typeof a?a.split(/\s+/):[]}function zc(a,b,c){var d=Xa(a,Me,{},c),e=uc(d.constraint,b);return{startEditable:null!=d.startEditable?d.startEditable:d.editable,durationEditable:null!=d.durationEditable?d.durationEditable:d.editable,constraints:null!=e?[e]:[],overlap:d.overlap,allows:null!=d.allow?[d.allow]:[],backgroundColor:d.backgroundColor||d.color,borderColor:d.borderColor||d.color,textColor:d.textColor,classNames:d.classNames.concat(d.className)}}function Ac(a,b,c,d){var e={},f={};for(var g in Me){var h=a+Qa(g);e[g]=b[h],f[h]=!0}if("event"===a&&(e.editable=b.editable),d)for(var g in b)f[g]||(d[g]=b[g]);return zc(e,c)}function Bc(a){return a.reduce(Cc,Ne)}function Cc(a,b){return{startEditable:null!=b.startEditable?b.startEditable:a.startEditable,durationEditable:null!=b.durationEditable?b.durationEditable:a.durationEditable,constraints:a.constraints.concat(b.constraints),overlap:"boolean"==typeof b.overlap?b.overlap:a.overlap,allows:a.allows.concat(b.allows),backgroundColor:b.backgroundColor||a.backgroundColor,borderColor:b.borderColor||a.borderColor,textColor:b.textColor||a.textColor,classNames:a.classNames.concat(b.classNames)}}function Dc(a,b,c,d){var e=Jc(b,c),f={},g=bb(a,e,c.dateEnv,c.pluginSystem.hooks.recurringTypes,f);if(g){var h=Ec(f,b,g.allDay,Boolean(g.duration),c);return h.recurringDef={typeId:g.typeId,typeData:g.typeData,duration:g.duration},{def:h,instance:null}}var i={},j=Gc(a,e,c,i,d);if(j){var h=Ec(i,b,j.allDay,j.hasEnd,c),k=Fc(h.defId,j.range,j.forcedStartTzo,j.forcedEndTzo);return{def:h,instance:k}}return null}function Ec(a,b,c,d,e){var f={},g=Ic(a,e,f);g.defId=String(Qe++),g.sourceId=b,g.allDay=c,g.hasEnd=d;for(var h=0,i=e.pluginSystem.hooks.eventDefParsers;h<i.length;h++){var j=i[h],k={};j(g,f,k),f=k}return g.extendedProps=ye(f,g.extendedProps||{}),Object.freeze(g.ui.classNames),Object.freeze(g.extendedProps),g}function Fc(a,b,c,d){return{instanceId:String(Qe++),defId:a,range:b,forcedStartTzo:null==c?null:c,forcedEndTzo:null==d?null:d}}function Gc(a,b,c,d,e){var f,g,h=Hc(a,d),i=h.allDay,j=null,k=!1,l=null;if(f=c.dateEnv.createMarkerMeta(h.start))j=f.marker;else if(!e)return null;return null!=h.end&&(g=c.dateEnv.createMarkerMeta(h.end)),null==i&&(i=null!=b?b:(!f||f.isTimeUnspecified)&&(!g||g.isTimeUnspecified)),i&&j&&(j=Y(j)),g&&(l=g.marker,i&&(l=Y(l)),j&&l<=j&&(l=null)),l?k=!0:e||(k=c.opt("forceEventDuration")||!1,l=c.dateEnv.add(j,i?c.defaultAllDayEventDuration:c.defaultTimedEventDuration)),{allDay:i,hasEnd:k,range:{start:j,end:l},forcedStartTzo:f?f.forcedTzo:null,forcedEndTzo:g?g.forcedTzo:null}}function Hc(a,b){var c=Xa(a,Pe,{},b);return c.start=null!==c.start?c.start:c.date,delete c.date,c}function Ic(a,b,c){var d={},e=Xa(a,Oe,{},d),f=zc(d,b,c);return e.publicId=e.id,delete e.id,e.ui=f,e}function Jc(a,b){var c=null;if(a){var d=b.state.eventSources[a];c=d.allDayDefault}return null==c&&(c=b.opt("allDayDefault")),c}function Kc(a,b){return jb(Lc(a),"",b)}function Lc(a){var b;return b=a===!0?[{}]:Array.isArray(a)?a.filter(function(a){return a.daysOfWeek}):"object"==typeof a&&a?[a]:[],b=b.map(function(a){return ye({},Re,a)})}function Mc(a,b,c){function d(){if(g){for(var a=0,c=h;a<c.length;a++){var d=c[a];d.unrender()}b&&b.apply(f,g),g=null}}function e(){g&&Db(g,arguments)||(d(),f=this,g=arguments,a.apply(this,arguments))}void 0===c&&(c=[]);var f,g,h=[];e.dependents=h,e.unrender=d;for(var i=0,j=c;i<j.length;i++){var k=j[i];k.dependents.push(e)}return e}function Nc(a,b,c){var d=[];a&&d.push(a),b&&d.push(b);var e={"":Bc(d)};return c&&ye(e,c),e}function Oc(a,b,c,d){var e,f,g,h,i=a.dateEnv;return b instanceof Date?e=b:(e=b.date,f=b.type,g=b.forceOff),h={date:i.formatIso(e,{omitTime:!0}),type:f||"day"},"string"==typeof c&&(d=c,c=null),c=c?" "+xc(c):"",d=d||"",!g&&a.opt("navLinks")?"<a"+c+' data-goto="'+vc(JSON.stringify(h))+'">'+d+"</a>":"<span"+c+">"+d+"</span>"}function Pc(a){return a.opt("allDayHtml")||vc(a.opt("allDayText"))}function Qc(a,b,c,d){var e,f,g=c.calendar,h=c.view,i=c.theme,j=c.dateEnv,k=[];return Ab(b.activeRange,a)?(k.push("fc-"+ue[a.getUTCDay()]),h.opt("monthMode")&&j.getMonth(a)!==j.getMonth(b.currentRange.start)&&k.push("fc-other-month"),e=Y(g.getNow()),f=O(e,1),a<e?k.push("fc-past"):a>=f?k.push("fc-future"):(k.push("fc-today"),d!==!0&&k.push(i.getClass("today")))):k.push("fc-disabled-day"),k}function Rc(a,b,c){var d=!1,e=function(){d||(d=!0,b.apply(this,arguments))},f=function(){d||(d=!0,c&&c.apply(this,arguments))},g=a(e,f);g&&"function"==typeof g.then&&g.then(e,f)}function Sc(a,b,c){(a[b]||(a[b]=[])).push(c)}function Tc(a,b,c){c?a[b]&&(a[b]=a[b].filter(function(a){return a!==c})):delete a[b]}function Uc(a,b,c){var d={},e=!1;for(var f in b)f in a&&(a[f]===b[f]||c[f]&&c[f](a[f],b[f]))?d[f]=a[f]:(d[f]=b[f],e=!0);for(var f in a)if(!(f in b)){e=!0;break}return{anyChanges:e,comboProps:d}}function Vc(a){return{id:String(df++),deps:a.deps||[],reducers:a.reducers||[],eventDefParsers:a.eventDefParsers||[],isDraggableTransformers:a.isDraggableTransformers||[],eventDragMutationMassagers:a.eventDragMutationMassagers||[],eventDefMutationAppliers:a.eventDefMutationAppliers||[],dateSelectionTransformers:a.dateSelectionTransformers||[],datePointTransforms:a.datePointTransforms||[],dateSpanTransforms:a.dateSpanTransforms||[],views:a.views||{},viewPropsTransformers:a.viewPropsTransformers||[],isPropsValid:a.isPropsValid||null,externalDefTransforms:a.externalDefTransforms||[],eventResizeJoinTransforms:a.eventResizeJoinTransforms||[],viewContainerModifiers:a.viewContainerModifiers||[],eventDropTransformers:a.eventDropTransformers||[],componentInteractions:a.componentInteractions||[],calendarInteractions:a.calendarInteractions||[],themeClasses:a.themeClasses||{},eventSourceDefs:a.eventSourceDefs||[],cmdFormatter:a.cmdFormatter,recurringTypes:a.recurringTypes||[],namedTimeZonedImpl:a.namedTimeZonedImpl,defaultView:a.defaultView||"",elementDraggingImpl:a.elementDraggingImpl,optionChangeHandlers:a.optionChangeHandlers||{}}}function Wc(a,b){return{reducers:a.reducers.concat(b.reducers),eventDefParsers:a.eventDefParsers.concat(b.eventDefParsers),isDraggableTransformers:a.isDraggableTransformers.concat(b.isDraggableTransformers),eventDragMutationMassagers:a.eventDragMutationMassagers.concat(b.eventDragMutationMassagers),eventDefMutationAppliers:a.eventDefMutationAppliers.concat(b.eventDefMutationAppliers),dateSelectionTransformers:a.dateSelectionTransformers.concat(b.dateSelectionTransformers),datePointTransforms:a.datePointTransforms.concat(b.datePointTransforms),dateSpanTransforms:a.dateSpanTransforms.concat(b.dateSpanTransforms),views:ye({},a.views,b.views),viewPropsTransformers:a.viewPropsTransformers.concat(b.viewPropsTransformers),isPropsValid:b.isPropsValid||a.isPropsValid,externalDefTransforms:a.externalDefTransforms.concat(b.externalDefTransforms),eventResizeJoinTransforms:a.eventResizeJoinTransforms.concat(b.eventResizeJoinTransforms),viewContainerModifiers:a.viewContainerModifiers.concat(b.viewContainerModifiers),eventDropTransformers:a.eventDropTransformers.concat(b.eventDropTransformers),calendarInteractions:a.calendarInteractions.concat(b.calendarInteractions),componentInteractions:a.componentInteractions.concat(b.componentInteractions),themeClasses:ye({},a.themeClasses,b.themeClasses),eventSourceDefs:a.eventSourceDefs.concat(b.eventSourceDefs),cmdFormatter:b.cmdFormatter||a.cmdFormatter,recurringTypes:a.recurringTypes.concat(b.recurringTypes),namedTimeZonedImpl:b.namedTimeZonedImpl||a.namedTimeZonedImpl,defaultView:a.defaultView||b.defaultView,elementDraggingImpl:a.elementDraggingImpl||b.elementDraggingImpl,optionChangeHandlers:ye({},a.optionChangeHandlers,b.optionChangeHandlers)}}function Xc(a,b,c,d,e){a=a.toUpperCase();var f=null;"GET"===a?b=Yc(b,c):f=Zc(c);var g=new XMLHttpRequest;g.open(a,b,!0),"GET"!==a&&g.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),g.onload=function(){if(g.status>=200&&g.status<400)try{var a=JSON.parse(g.responseText);d(a,g)}catch(a){e("Failure parsing JSON",g)}else e("Request failed",g)},g.onerror=function(){e("Request failed",g)},g.send(f)}function Yc(a,b){return a+(a.indexOf("?")===-1?"?":"&")+Zc(b)}function Zc(a){var b=[];for(var c in a)b.push(encodeURIComponent(c)+"="+encodeURIComponent(a[c]));return b.join("&")}function $c(a,b,c){var d,e,f,g,h=c.dateEnv,i={};return d=a.startParam,null==d&&(d=c.opt("startParam")),e=a.endParam,null==e&&(e=c.opt("endParam")),f=a.timeZoneParam,null==f&&(f=c.opt("timeZoneParam")),g="function"==typeof a.extraParams?a.extraParams():a.extraParams||{},ye(i,g),i[d]=h.formatIso(b.start),i[e]=h.formatIso(b.end),"local"!==h.timeZone&&(i[f]=h.timeZone),i}function _c(a,b,c,d){for(var e=a?gb(a):null,f=Y(c.start),g=c.end,h=[];f<g;){var i=void 0;e&&!e[f.getUTCDay()]||(i=b?d.add(f,b):f,h.push(i)),f=O(f,1)}return h}function ad(a,b,c){for(var d=hb(b.state.eventSources),e=[],f=0,g=a;f<g.length;f++){for(var h=g[f],i=!1,j=0;j<d.length;j++)if(c(d[j]._raw,h)){d.splice(j,1),i=!0;break}i||e.push(h)}for(var k=0,l=d;k<l.length;k++){var m=l[k];b.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:m.sourceId})}for(var n=0,o=e;n<o.length;n++){var p=o[n];b.addEventSource(p)}}function bd(a,b){b.addPluginInputs(a)}function cd(a){return db(a,sf)}function dd(a){for(var b=[],c=0,d=a;c<d.length;c++){var e=d[c];if("string"==typeof e){var f="FullCalendar"+Qa(e);window[f]?b.push(window[f].default):console.warn("Plugin file not loaded for "+e)}else b.push(e)}return tf.concat(b)}function ed(a){for(var b=a.length>0?a[0].code:"en",c=window.FullCalendarLocalesAll||[],d=window.FullCalendarLocales||{},e=c.concat(hb(d),a),f={
en:uf},g=0,h=e;g<h.length;g++){var i=h[g];f[i.code]=i}return{map:f,defaultCode:b}}function fd(a,b){return"object"!=typeof a||Array.isArray(a)?gd(a,b):id(a.code,[a.code],a)}function gd(a,b){var c=[].concat(a||[]),d=hd(c,b)||uf;return id(a,c,d)}function hd(a,b){for(var c=0;c<a.length;c++)for(var d=a[c].toLocaleLowerCase().split("-"),e=d.length;e>0;e--){var f=d.slice(0,e).join("-");if(b[f])return b[f]}return null}function id(a,b,c){var d=db([uf,c],["buttonText"]);delete d.code;var e=d.week;return delete d.week,{codeArg:a,codes:b,week:e,simpleNumberFormat:new Intl.NumberFormat(a),options:d}}function jd(a,b){wf[a]=b}function kd(a){return new wf[a]}function ld(a){var b=yf.exec(a);if(b){var c=new Date(Date.UTC(Number(b[1]),b[3]?Number(b[3])-1:0,Number(b[5]||1),Number(b[7]||0),Number(b[8]||0),Number(b[10]||0),b[12]?1e3*Number("0."+b[12]):0));if(ha(c)){var d=null;return b[13]&&(d=("-"===b[15]?-1:1)*(60*Number(b[16]||0)+Number(b[18]||0))),{marker:c,isTimeUnspecified:!b[6],timeZoneOffset:d}}}return null}function md(a,b){var c=b.pluginSystem.hooks.eventSourceDefs;return!c[a.sourceDefId].ignoreRange}function nd(a,b){for(var c=b.pluginSystem.hooks.eventSourceDefs,d=c.length-1;d>=0;d--){var e=c[d],f=e.parseMeta(a);if(f){var g=od("object"==typeof a?a:{},f,d,b);return g._raw=a,g}}return null}function od(a,b,c,d){var e={},f=Xa(a,Af,{},e),g={},h=zc(e,d,g);return f.isFetching=!1,f.latestFetchId="",f.fetchRange=null,f.publicId=String(a.id||""),f.sourceId=String(Bf++),f.sourceDefId=c,f.meta=b,f.ui=h,f.extendedProps=g,f}function pd(a,b,c,d){switch(b.type){case"ADD_EVENT_SOURCES":return qd(a,b.sources,c?c.activeRange:null,d);case"REMOVE_EVENT_SOURCE":return rd(a,b.sourceId);case"PREV":case"NEXT":case"SET_DATE":case"SET_VIEW_TYPE":return c?sd(a,c.activeRange,d):a;case"FETCH_EVENT_SOURCES":case"CHANGE_TIMEZONE":return ud(a,b.sourceIds?gb(b.sourceIds):xd(a,d),c?c.activeRange:null,d);case"RECEIVE_EVENTS":case"RECEIVE_EVENT_ERROR":return wd(a,b.sourceId,b.fetchId,b.fetchRange);case"REMOVE_ALL_EVENT_SOURCES":return{};default:return a}}function qd(a,b,c,d){for(var e={},f=0,g=b;f<g.length;f++){var h=g[f];e[h.sourceId]=h}return c&&(e=sd(e,c,d)),ye({},a,e)}function rd(a,b){return eb(a,function(a){return a.sourceId!==b})}function sd(a,b,c){return ud(a,eb(a,function(a){return td(a,b,c)}),b,c)}function td(a,b,c){return md(a,c)?!c.opt("lazyFetching")||!a.fetchRange||b.start<a.fetchRange.start||b.end>a.fetchRange.end:!a.latestFetchId}function ud(a,b,c,d){var e={};for(var f in a){var g=a[f];b[f]?e[f]=vd(g,c,d):e[f]=g}return e}function vd(a,b,c){var d=c.pluginSystem.hooks.eventSourceDefs[a.sourceDefId],e=String(Cf++);return d.fetch({eventSource:a,calendar:c,range:b},function(d){var f,g,h=d.rawEvents,i=c.opt("eventSourceSuccess");a.success&&(g=a.success(h,d.xhr)),i&&(f=i(h,d.xhr)),h=g||f||h,c.dispatch({type:"RECEIVE_EVENTS",sourceId:a.sourceId,fetchId:e,fetchRange:b,rawEvents:h})},function(d){var f=c.opt("eventSourceFailure");console.warn(d.message,d),a.failure&&a.failure(d),f&&f(d),c.dispatch({type:"RECEIVE_EVENT_ERROR",sourceId:a.sourceId,fetchId:e,fetchRange:b,error:d})}),ye({},a,{isFetching:!0,latestFetchId:e})}function wd(a,b,c,d){var e,f=a[b];return f&&c===f.latestFetchId?ye({},a,(e={},e[b]=ye({},f,{isFetching:!1,fetchRange:d}),e)):a}function xd(a,b){return eb(a,function(a){return md(a,b)})}function yd(a,b){return xb(a.validRange,b.validRange)&&xb(a.activeRange,b.activeRange)&&xb(a.renderRange,b.renderRange)&&na(a.minTime,b.minTime)&&na(a.maxTime,b.maxTime)}function zd(a,b,c){for(var d=Ad(a.viewType,b),e=Bd(a.dateProfile,b,a.currentDate,d,c),f=pd(a.eventSources,b,e,c),g=ye({},a,{viewType:d,dateProfile:e,currentDate:Cd(a.currentDate,b,e),eventSources:f,eventStore:dc(a.eventStore,b,f,e,c),dateSelection:Dd(a.dateSelection,b,c),eventSelection:Ed(a.eventSelection,b),eventDrag:Fd(a.eventDrag,b,f,c),eventResize:Gd(a.eventResize,b,f,c),eventSourceLoadingLevel:Hd(f),loadingLevel:Hd(f)}),h=0,i=c.pluginSystem.hooks.reducers;h<i.length;h++){var j=i[h];g=j(g,b,c)}return g}function Ad(a,b){switch(b.type){case"SET_VIEW_TYPE":return b.viewType;default:return a}}function Bd(a,b,c,d,e){var f;switch(b.type){case"PREV":f=e.dateProfileGenerators[d].buildPrev(a,c);break;case"NEXT":f=e.dateProfileGenerators[d].buildNext(a,c);break;case"SET_DATE":a.activeRange&&Ab(a.currentRange,b.dateMarker)||(f=e.dateProfileGenerators[d].build(b.dateMarker,void 0,!0));break;case"SET_VIEW_TYPE":var g=e.dateProfileGenerators[d];if(!g)throw new Error(d?'The FullCalendar view "'+d+'" does not exist. Make sure your plugins are loaded correctly.':"No available FullCalendar view plugins.");f=g.build(b.dateMarker||c,void 0,!0)}return!f||!f.isValid||a&&yd(a,f)?a:f}function Cd(a,b,c){switch(b.type){case"PREV":case"NEXT":return Ab(c.currentRange,a)?a:c.currentRange.start;case"SET_DATE":case"SET_VIEW_TYPE":var d=b.dateMarker||a;return c.activeRange&&!Ab(c.activeRange,d)?c.currentRange.start:d;default:return a}}function Dd(a,b,c){switch(b.type){case"SELECT_DATES":return b.selection;case"UNSELECT_DATES":return null;default:return a}}function Ed(a,b){switch(b.type){case"SELECT_EVENT":return b.eventInstanceId;case"UNSELECT_EVENT":return"";default:return a}}function Fd(a,b,c,d){switch(b.type){case"SET_EVENT_DRAG":var e=b.state;return{affectedEvents:e.affectedEvents,mutatedEvents:e.mutatedEvents,isEvent:e.isEvent,origSeg:e.origSeg};case"UNSET_EVENT_DRAG":return null;default:return a}}function Gd(a,b,c,d){switch(b.type){case"SET_EVENT_RESIZE":var e=b.state;return{affectedEvents:e.affectedEvents,mutatedEvents:e.mutatedEvents,isEvent:e.isEvent,origSeg:e.origSeg};case"UNSET_EVENT_RESIZE":return null;default:return a}}function Hd(a){var b=0;for(var c in a)a[c].isFetching&&b++;return b}function Id(a,b,c){var d=Jd(a,b),e=d.range;if(!e.start)return null;if(!e.end){if(null==c)return null;e.end=b.add(e.start,c)}return d}function Jd(a,b){var c={},d=Xa(a,Ef,{},c),e=d.start?b.createMarkerMeta(d.start):null,f=d.end?b.createMarkerMeta(d.end):null,g=d.allDay;return null==g&&(g=e&&e.isTimeUnspecified&&(!f||f.isTimeUnspecified)),c.range={start:e?e.marker:null,end:f?f.marker:null},c.allDay=g,c}function Kd(a,b){return xb(a.range,b.range)&&a.allDay===b.allDay&&Ld(a,b)}function Ld(a,b){for(var c in b)if("range"!==c&&"allDay"!==c&&a[c]!==b[c])return!1;for(var c in a)if(!(c in b))return!1;return!0}function Md(a,b){return{start:b.toDate(a.range.start),end:b.toDate(a.range.end),startStr:b.formatIso(a.range.start,{omitTime:a.allDay}),endStr:b.formatIso(a.range.end,{omitTime:a.allDay}),allDay:a.allDay}}function Nd(a,b){return{date:b.toDate(a.range.start),dateStr:b.formatIso(a.range.start,{omitTime:a.allDay}),allDay:a.allDay}}function Od(a,b,c){var d=Ec({editable:!1},"",a.allDay,!0,c);return{def:d,ui:_b(d,b),instance:Fc(d.defId,a.range),range:a.range,isStart:!0,isEnd:!0}}function Pd(a,b){var c,d={};for(c in a)Qd(c,d,a,b);for(c in b)Qd(c,d,a,b);return d}function Qd(a,b,c,d){if(b[a])return b[a];var e=Rd(a,b,c,d);return e&&(b[a]=e),e}function Rd(a,b,c,d){var e=c[a],f=d[a],g=function(a){return e&&null!==e[a]?e[a]:f&&null!==f[a]?f[a]:null},h=g("class"),i=g("superType");!i&&h&&(i=Sd(h,d)||Sd(h,c));var j=null;if(i){if(i===a)throw new Error("Can't have a custom view type that references itself");j=Qd(i,b,c,d)}return!h&&j&&(h=j.class),h?{type:a,class:h,defaults:ye({},j?j.defaults:{},e?e.options:{}),overrides:ye({},j?j.overrides:{},f?f.options:{})}:null}function Sd(a,b){var c=Object.getPrototypeOf(a.prototype);for(var d in b){var e=b[d];if(e.class&&e.class.prototype===c)return d}return""}function Td(a){return fb(a,Ud)}function Ud(a){"function"==typeof a&&(a={class:a});var b={},c=Xa(a,Ff,{},b);return{superType:c.type,class:c.class,options:b}}function Vd(a,b){var c=Td(a),d=Td(b.overrides.views),e=Pd(c,d);return fb(e,function(a){return Wd(a,d,b)})}function Wd(a,b,c){var d=a.overrides.duration||a.defaults.duration||c.dynamicOverrides.duration||c.overrides.duration,e=null,f="",g="",h={};if(d&&(e=ja(d))){var i=za(e,!ma(d));f=i.unit,1===i.value&&(g=f,h=b[f]?b[f].options:{})}var j=function(b){var c=b.buttonText||{},d=a.defaults.buttonTextKey;return null!=d&&null!=c[d]?c[d]:null!=c[a.type]?c[a.type]:null!=c[g]?c[g]:void 0};return{type:a.type,class:a.class,duration:e,durationUnit:f,singleUnit:g,options:ye({},qf,a.defaults,c.dirDefaults,c.localeDefaults,c.overrides,h,a.overrides,c.dynamicOverrides),buttonTextOverride:j(c.dynamicOverrides)||j(c.overrides)||a.overrides.buttonText,buttonTextDefault:j(c.localeDefaults)||j(c.dirDefaults)||a.defaults.buttonText||j(qf)||a.type}}function Xd(a,b){var c;return c=/^(year|month)$/.test(a.currentRangeUnit)?a.currentRange:a.activeRange,this.dateEnv.formatRange(c.start,c.end,Pb(b.titleFormat||Yd(a),b.titleRangeSeparator),{isEndExclusive:a.isRangeAllDay})}function Yd(a){var b=a.currentRangeUnit;if("year"===b)return{year:"numeric"};if("month"===b)return{year:"numeric",month:"long"};var c=X(a.currentRange.start,a.currentRange.end);return null!==c&&c>1?{year:"numeric",month:"short",day:"numeric"}:{year:"numeric",month:"long",day:"numeric"}}function Zd(a){return a.map(function(a){return new a})}function $d(a,b){return{component:a,el:b.el,useEventCenter:null==b.useEventCenter||b.useEventCenter}}function _d(a){var b;return b={},b[a.component.uid]=a,b}function ae(a,b,c,d,e,f,g){return new zf({calendarSystem:"gregory",timeZone:b,namedTimeZoneImpl:c,locale:a,weekNumberCalculation:e,firstDay:d,weekLabel:f,cmdFormatter:g})}function be(a){var b=this.pluginSystem.hooks.themeClasses[a.themeSystem]||Mf;return new b(a)}function ce(a){var b=this.tryRerender.bind(this);return null!=a&&(b=Wa(b,a)),b}function de(a){return fb(a,function(a){return a.ui})}function ee(a,b,c){var d={"":b};for(var e in a){var f=a[e];f.sourceId&&c[f.sourceId]&&(d[e]=c[f.sourceId])}return d}function fe(a){var b=a.eventRange.def,c=a.eventRange.instance.range,d=c.start?c.start.valueOf():0,e=c.end?c.end.valueOf():0;return ye({},b.extendedProps,b,{id:b.publicId,start:d,end:e,duration:e-d,allDay:Number(b.allDay),_seg:a})}function ge(a,b){void 0===b&&(b={});var c=ie(b),d=Pb(b),e=c.createMarkerMeta(a);return e?c.format(e.marker,d,{forcedTzo:e.forcedTzo}):""}function he(a,b,c){var d=ie("object"==typeof c&&c?c:{}),e=Pb(c,qf.defaultRangeSeparator),f=d.createMarkerMeta(a),g=d.createMarkerMeta(b);return f&&g?d.formatRange(f.marker,g.marker,e,{forcedStartTzo:f.forcedTzo,forcedEndTzo:g.forcedTzo,isEndExclusive:c.isEndExclusive}):""}function ie(a){var b=fd(a.locale||"en",ed([]).map);return a=ye({timeZone:qf.timeZone,calendarSystem:"gregory"},a,{locale:b}),new zf(a)}function je(a){var b={},c=Xa(a,Tf,Uf,b);return c.leftoverProps=b,c}function ke(a,b){return!a||b>10?{weekday:"short"}:b>1?{weekday:"short",month:"numeric",day:"numeric",omitCommas:!0}:{weekday:"long"}}function le(a,b,c,d,e,f,g,h){var i,j=f.view,k=f.dateEnv,l=f.theme,m=f.options,n=Ab(b.activeRange,a),o=["fc-day-header",l.getClass("widgetHeader")];return i="function"==typeof m.columnHeaderHtml?m.columnHeaderHtml(k.toDate(a)):vc("function"==typeof m.columnHeaderText?m.columnHeaderText(k.toDate(a)):k.format(a,e)),c?o=o.concat(Qc(a,b,f,!0)):o.push("fc-"+ue[a.getUTCDay()]),'<th class="'+o.join(" ")+'"'+(n&&c?' data-date="'+k.formatIso(a,{omitTime:!0})+'"':"")+(g>1?' colspan="'+g+'"':"")+(h?" "+h:"")+">"+(n?Oc(j,{date:a,forceOff:!c||1===d},i):i)+"</th>"}function me(a,b){var c=a.activeRange;return b?c:{start:P(c.start,a.minTime.milliseconds),end:P(c.end,a.maxTime.milliseconds-864e5)}}var ne={className:!0,colSpan:!0,rowSpan:!0},oe={"<tr":"tbody","<td":"tr"},pe=Element.prototype.matches||Element.prototype.matchesSelector||Element.prototype.msMatchesSelector,qe=Element.prototype.closest||function(a){var b=this;if(!document.documentElement.contains(b))return null;do{if(m(b,a))return b;b=b.parentElement||b.parentNode}while(null!==b&&1===b.nodeType);return null},re=/(top|left|right|bottom|width|height)$/i,se=null,te=["webkitTransitionEnd","otransitionend","oTransitionEnd","msTransitionEnd","transitionend"],ue=["sun","mon","tue","wed","thu","fri","sat"],ve=["years","months","days","milliseconds"],we=/^(-?)(?:(\d+)\.)?(\d+):(\d\d)(?::(\d\d)(?:\.(\d\d\d))?)?/,xe=function(a,b){return(xe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])})(a,b)},ye=function(){return ye=Object.assign||function(a){for(var b,c=1,d=arguments.length;c<d;c++){b=arguments[c];for(var e in b)Object.prototype.hasOwnProperty.call(b,e)&&(a[e]=b[e])}return a},ye.apply(this,arguments)},ze=Object.prototype.hasOwnProperty,Ae={week:3,separator:0,omitZeroMinute:0,meridiem:0,omitCommas:0},Be={timeZoneName:7,era:6,year:5,month:4,day:2,weekday:2,hour:1,minute:1,second:1},Ce=/\s*([ap])\.?m\.?/i,De=/,/g,Ee=/\s+/g,Fe=/\u200e/g,Ge=/UTC|GMT/,He=function(){function a(a){var b={},c={},d=0;for(var e in a)e in Ae?(c[e]=a[e],d=Math.max(Ae[e],d)):(b[e]=a[e],e in Be&&(d=Math.max(Be[e],d)));this.standardDateProps=b,this.extendedSettings=c,this.severity=d,this.buildFormattingFunc=Eb(Gb)}return a.prototype.format=function(a,b){return this.buildFormattingFunc(this.standardDateProps,this.extendedSettings,b)(a)},a.prototype.formatRange=function(a,b,c){var d=this,e=d.standardDateProps,f=d.extendedSettings,g=Mb(a.marker,b.marker,c.calendarSystem);if(!g)return this.format(a,c);var h=g;!(h>1)||"numeric"!==e.year&&"2-digit"!==e.year||"numeric"!==e.month&&"2-digit"!==e.month||"numeric"!==e.day&&"2-digit"!==e.day||(h=1);var i=this.format(a,c),j=this.format(b,c);if(i===j)return i;var k=Nb(e,h),l=Gb(k,f,c),m=l(a),n=l(b),o=Ob(i,m,j,n),p=f.separator||"";return o?o.before+m+p+n+o.after:i+p+j},a.prototype.getLargestUnit=function(){switch(this.severity){case 7:case 6:case 5:return"year";case 4:return"month";case 3:return"week";default:return"day"}},a}(),Ie=function(){function a(a,b){this.cmdStr=a,this.separator=b}return a.prototype.format=function(a,b){return b.cmdFormatter(this.cmdStr,Tb(a,null,b,this.separator))},a.prototype.formatRange=function(a,b,c){return c.cmdFormatter(this.cmdStr,Tb(a,b,c,this.separator))},a}(),Je=function(){function a(a){this.func=a}return a.prototype.format=function(a,b){return this.func(Tb(a,null,b))},a.prototype.formatRange=function(a,b,c){return this.func(Tb(a,b,c))},a}(),Ke=function(){function a(a,b){this.calendar=a,this.internalEventSource=b}return a.prototype.remove=function(){this.calendar.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:this.internalEventSource.sourceId})},a.prototype.refetch=function(){this.calendar.dispatch({type:"FETCH_EVENT_SOURCES",sourceIds:[this.internalEventSource.sourceId]})},Object.defineProperty(a.prototype,"id",{get:function(){return this.internalEventSource.publicId},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"url",{get:function(){return this.internalEventSource.meta.url},enumerable:!0,configurable:!0}),a}(),Le=function(){function a(a,b,c){this._calendar=a,this._def=b,this._instance=c||null}return a.prototype.setProp=function(a,b){var c,d;if(a in Pe);else if(a in Oe)"function"==typeof Oe[a]&&(b=Oe[a](b)),this.mutate({standardProps:(c={},c[a]=b,c)});else if(a in Me){var e=void 0;"function"==typeof Me[a]&&(b=Me[a](b)),"color"===a?e={backgroundColor:b,borderColor:b}:"editable"===a?e={startEditable:b,durationEditable:b}:(d={},d[a]=b,e=d),this.mutate({standardProps:{ui:e}})}},a.prototype.setExtendedProp=function(a,b){var c;this.mutate({extendedProps:(c={},c[a]=b,c)})},a.prototype.setStart=function(a,b){void 0===b&&(b={});var c=this._calendar.dateEnv,d=c.createMarker(a);if(d&&this._instance){var e=this._instance.range,f=_a(e.start,d,c,b.granularity);b.maintainDuration?this.mutate({datesDelta:f}):this.mutate({startDelta:f})}},a.prototype.setEnd=function(a,b){void 0===b&&(b={});var c,d=this._calendar.dateEnv;if((null==a||(c=d.createMarker(a)))&&this._instance)if(c){var e=_a(this._instance.range.end,c,d,b.granularity);this.mutate({endDelta:e})}else this.mutate({standardProps:{hasEnd:!1}})},a.prototype.setDates=function(a,b,c){void 0===c&&(c={});var d,e=this._calendar.dateEnv,f={allDay:c.allDay},g=e.createMarker(a);if(g&&(null==b||(d=e.createMarker(b)))&&this._instance){var h=this._instance.range;c.allDay===!0&&(h=Ya(h));var i=_a(h.start,g,e,c.granularity);if(d){var j=_a(h.end,d,e,c.granularity);na(i,j)?this.mutate({datesDelta:i,standardProps:f}):this.mutate({startDelta:i,endDelta:j,standardProps:f})}else f.hasEnd=!1,this.mutate({datesDelta:i,standardProps:f})}},a.prototype.moveStart=function(a){var b=ja(a);b&&this.mutate({startDelta:b})},a.prototype.moveEnd=function(a){var b=ja(a);b&&this.mutate({endDelta:b})},a.prototype.moveDates=function(a){var b=ja(a);b&&this.mutate({datesDelta:b})},a.prototype.setAllDay=function(a,b){void 0===b&&(b={});var c={allDay:a},d=b.maintainDuration;null==d&&(d=this._calendar.opt("allDayMaintainDuration")),this._def.allDay!==a&&(c.hasEnd=d),this.mutate({standardProps:c})},a.prototype.formatRange=function(a){var b=this._calendar.dateEnv,c=this._instance,d=Pb(a,this._calendar.opt("defaultRangeSeparator"));return this._def.hasEnd?b.formatRange(c.range.start,c.range.end,d,{forcedStartTzo:c.forcedStartTzo,forcedEndTzo:c.forcedEndTzo}):b.format(c.range.start,d,{forcedTzo:c.forcedStartTzo})},a.prototype.mutate=function(a){var b=this._def,c=this._instance;if(c){this._calendar.dispatch({type:"MUTATE_EVENTS",instanceId:c.instanceId,mutation:a,fromApi:!0});var d=this._calendar.state.eventStore;this._def=d.defs[b.defId],this._instance=d.instances[c.instanceId]}},a.prototype.remove=function(){this._calendar.dispatch({type:"REMOVE_EVENT_DEF",defId:this._def.defId})},Object.defineProperty(a.prototype,"source",{get:function(){var a=this._def.sourceId;return a?new Ke(this._calendar,this._calendar.state.eventSources[a]):null},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"start",{get:function(){return this._instance?this._calendar.dateEnv.toDate(this._instance.range.start):null},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"end",{get:function(){return this._instance&&this._def.hasEnd?this._calendar.dateEnv.toDate(this._instance.range.end):null},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"id",{get:function(){return this._def.publicId},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"groupId",{get:function(){return this._def.groupId},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"allDay",{get:function(){return this._def.allDay},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"title",{get:function(){return this._def.title},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"url",{get:function(){return this._def.url},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"rendering",{get:function(){return this._def.rendering},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"startEditable",{get:function(){return this._def.ui.startEditable},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"durationEditable",{get:function(){return this._def.ui.durationEditable},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"constraint",{get:function(){return this._def.ui.constraints[0]||null},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"overlap",{get:function(){return this._def.ui.overlap},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"allow",{get:function(){return this._def.ui.allows[0]||null},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"backgroundColor",{get:function(){return this._def.ui.backgroundColor},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"borderColor",{get:function(){return this._def.ui.borderColor},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"textColor",{get:function(){return this._def.ui.textColor},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"classNames",{get:function(){return this._def.ui.classNames},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"extendedProps",{get:function(){return this._def.extendedProps},enumerable:!0,configurable:!0}),a}(),Me={editable:Boolean,startEditable:Boolean,durationEditable:Boolean,constraint:null,overlap:null,allow:null,className:yc,classNames:yc,color:String,backgroundColor:String,borderColor:String,textColor:String},Ne={startEditable:null,durationEditable:null,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]},Oe={id:String,groupId:String,title:String,url:String,rendering:String,extendedProps:null},Pe={start:null,date:null,end:null,allDay:null},Qe=0,Re={startTime:"09:00",endTime:"17:00",daysOfWeek:[1,2,3,4,5],rendering:"inverse-background",classNames:"fc-nonbusiness",groupId:"_businessHours"},Se=qb(),Te=function(){function a(){this.getKeysForEventDefs=Eb(this._getKeysForEventDefs),this.splitDateSelection=Eb(this._splitDateSpan),this.splitEventStore=Eb(this._splitEventStore),this.splitIndividualUi=Eb(this._splitIndividualUi),this.splitEventDrag=Eb(this._splitInteraction),this.splitEventResize=Eb(this._splitInteraction),this.eventUiBuilders={}}return a.prototype.splitProps=function(a){var b=this,c=this.getKeyInfo(a),d=this.getKeysForEventDefs(a.eventStore),e=this.splitDateSelection(a.dateSelection),f=this.splitIndividualUi(a.eventUiBases,d),g=this.splitEventStore(a.eventStore,d),h=this.splitEventDrag(a.eventDrag),i=this.splitEventResize(a.eventResize),j={};this.eventUiBuilders=fb(c,function(a,c){return b.eventUiBuilders[c]||Eb(Nc)});for(var k in c){var l=c[k],m=g[k]||Se,n=this.eventUiBuilders[k];j[k]={businessHours:l.businessHours||a.businessHours,dateSelection:e[k]||null,eventStore:m,eventUiBases:n(a.eventUiBases[""],l.ui,f[k]),eventSelection:m.instances[a.eventSelection]?a.eventSelection:"",eventDrag:h[k]||null,eventResize:i[k]||null}}return j},a.prototype._splitDateSpan=function(a){var b={};if(a)for(var c=this.getKeysForDateSpan(a),d=0,e=c;d<e.length;d++){var f=e[d];b[f]=a}return b},a.prototype._getKeysForEventDefs=function(a){var b=this;return fb(a.defs,function(a){return b.getKeysForEventDef(a)})},a.prototype._splitEventStore=function(a,b){var c=a.defs,d=a.instances,e={};for(var f in c)for(var g=0,h=b[f];g<h.length;g++){var i=h[g];e[i]||(e[i]=qb()),e[i].defs[f]=c[f]}for(var j in d)for(var k=d[j],l=0,m=b[k.defId];l<m.length;l++){var i=m[l];e[i]&&(e[i].instances[j]=k)}return e},a.prototype._splitIndividualUi=function(a,b){var c={};for(var d in a)if(d)for(var e=0,f=b[d];e<f.length;e++){var g=f[e];c[g]||(c[g]={}),c[g][d]=a[d]}return c},a.prototype._splitInteraction=function(a){var b={};if(a){var c=this._splitEventStore(a.affectedEvents,this._getKeysForEventDefs(a.affectedEvents)),d=this._getKeysForEventDefs(a.mutatedEvents),e=this._splitEventStore(a.mutatedEvents,d),f=function(d){b[d]||(b[d]={affectedEvents:c[d]||Se,mutatedEvents:e[d]||Se,isEvent:a.isEvent,origSeg:a.origSeg})};for(var g in c)f(g);for(var g in e)f(g)}return b},a}(),Ue=function(){function a(){}return a.mixInto=function(a){this.mixIntoObj(a.prototype)},a.mixIntoObj=function(a){var b=this;Object.getOwnPropertyNames(this.prototype).forEach(function(c){a[c]||(a[c]=b.prototype[c])})},a.mixOver=function(a){var b=this;Object.getOwnPropertyNames(this.prototype).forEach(function(c){a.prototype[c]=b.prototype[c]})},a}(),Ve=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return ab(b,a),b.prototype.on=function(a,b){return Sc(this._handlers||(this._handlers={}),a,b),this},b.prototype.one=function(a,b){return Sc(this._oneHandlers||(this._oneHandlers={}),a,b),this},b.prototype.off=function(a,b){return this._handlers&&Tc(this._handlers,a,b),this._oneHandlers&&Tc(this._oneHandlers,a,b),this},b.prototype.trigger=function(a){for(var b=[],c=1;c<arguments.length;c++)b[c-1]=arguments[c];return this.triggerWith(a,this,b),this},b.prototype.triggerWith=function(a,b,c){return this._handlers&&Ua(this._handlers[a],b,c),this._oneHandlers&&(Ua(this._oneHandlers[a],b,c),delete this._oneHandlers[a]),this},b.prototype.hasHandlers=function(a){return this._handlers&&this._handlers[a]&&this._handlers[a].length||this._oneHandlers&&this._oneHandlers[a]&&this._oneHandlers[a].length},b}(Ue),We=function(){function a(a,b,c,d){this.originEl=a,this.els=b,this.isHorizontal=c,this.isVertical=d}return a.prototype.build=function(){var a=this.originEl,b=this.originClientRect=a.getBoundingClientRect();this.isHorizontal&&this.buildElHorizontals(b.left),this.isVertical&&this.buildElVerticals(b.top)},a.prototype.buildElHorizontals=function(a){for(var b=[],c=[],d=0,e=this.els;d<e.length;d++){var f=e[d],g=f.getBoundingClientRect();b.push(g.left-a),c.push(g.right-a)}this.lefts=b,this.rights=c},a.prototype.buildElVerticals=function(a){for(var b=[],c=[],d=0,e=this.els;d<e.length;d++){var f=e[d],g=f.getBoundingClientRect();b.push(g.top-a),c.push(g.bottom-a)}this.tops=b,this.bottoms=c},a.prototype.leftToIndex=function(a){var b,c=this.lefts,d=this.rights,e=c.length;for(b=0;b<e;b++)if(a>=c[b]&&a<d[b])return b},a.prototype.topToIndex=function(a){var b,c=this.tops,d=this.bottoms,e=c.length;for(b=0;b<e;b++)if(a>=c[b]&&a<d[b])return b},a.prototype.getWidth=function(a){return this.rights[a]-this.lefts[a]},a.prototype.getHeight=function(a){return this.bottoms[a]-this.tops[a]},a}(),Xe=function(){function a(){}return a.prototype.getMaxScrollTop=function(){return this.getScrollHeight()-this.getClientHeight()},a.prototype.getMaxScrollLeft=function(){return this.getScrollWidth()-this.getClientWidth()},a.prototype.canScrollVertically=function(){return this.getMaxScrollTop()>0},a.prototype.canScrollHorizontally=function(){return this.getMaxScrollLeft()>0},a.prototype.canScrollUp=function(){return this.getScrollTop()>0},a.prototype.canScrollDown=function(){return this.getScrollTop()<this.getMaxScrollTop()},a.prototype.canScrollLeft=function(){return this.getScrollLeft()>0},a.prototype.canScrollRight=function(){return this.getScrollLeft()<this.getMaxScrollLeft()},a}(),Ye=function(a){function b(b){var c=a.call(this)||this;return c.el=b,c}return ab(b,a),b.prototype.getScrollTop=function(){return this.el.scrollTop},b.prototype.getScrollLeft=function(){return this.el.scrollLeft},b.prototype.setScrollTop=function(a){this.el.scrollTop=a},b.prototype.setScrollLeft=function(a){this.el.scrollLeft=a},b.prototype.getScrollWidth=function(){return this.el.scrollWidth},b.prototype.getScrollHeight=function(){return this.el.scrollHeight},b.prototype.getClientHeight=function(){return this.el.clientHeight},b.prototype.getClientWidth=function(){return this.el.clientWidth},b}(Xe),Ze=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return ab(b,a),b.prototype.getScrollTop=function(){return window.pageYOffset},b.prototype.getScrollLeft=function(){return window.pageXOffset},b.prototype.setScrollTop=function(a){window.scroll(window.pageXOffset,a)},b.prototype.setScrollLeft=function(a){window.scroll(a,window.pageYOffset)},b.prototype.getScrollWidth=function(){return document.documentElement.scrollWidth},b.prototype.getScrollHeight=function(){return document.documentElement.scrollHeight},b.prototype.getClientHeight=function(){return document.documentElement.clientHeight},b.prototype.getClientWidth=function(){return document.documentElement.clientWidth},b}(Xe),$e=function(a){function c(c,d){var e=a.call(this,b("div",{className:"fc-scroller"}))||this;return e.overflowX=c,e.overflowY=d,e.applyOverflow(),e}return ab(c,a),c.prototype.clear=function(){this.setHeight("auto"),this.applyOverflow()},c.prototype.destroy=function(){k(this.el)},c.prototype.applyOverflow=function(){q(this.el,{overflowX:this.overflowX,overflowY:this.overflowY})},c.prototype.lockOverflow=function(a){var b=this.overflowX,c=this.overflowY;a=a||this.getScrollbarWidths(),"auto"===b&&(b=a.bottom||this.canScrollHorizontally()?"scroll":"hidden"),"auto"===c&&(c=a.left||a.right||this.canScrollVertically()?"scroll":"hidden"),q(this.el,{overflowX:b,overflowY:c})},c.prototype.setHeight=function(a){r(this.el,"height",a)},c.prototype.getScrollbarWidths=function(){var a=B(this.el);return{left:a.scrollbarLeft,right:a.scrollbarRight,bottom:a.scrollbarBottom}},c}(Ye),_e=function(){function a(a){this.calendarOptions=a,this.processIconOverride()}return a.prototype.processIconOverride=function(){this.iconOverrideOption&&this.setIconOverride(this.calendarOptions[this.iconOverrideOption])},a.prototype.setIconOverride=function(a){var b,c;if("object"==typeof a&&a){b=ye({},this.iconClasses);for(c in a)b[c]=this.applyIconOverridePrefix(a[c]);this.iconClasses=b}else a===!1&&(this.iconClasses={})},a.prototype.applyIconOverridePrefix=function(a){var b=this.iconOverridePrefix;return b&&0!==a.indexOf(b)&&(a=b+a),a},a.prototype.getClass=function(a){return this.classes[a]||""},a.prototype.getIconClass=function(a){var b=this.iconClasses[a];return b?this.baseIconClass+" "+b:""},a.prototype.getCustomButtonIconClass=function(a){var b;return this.iconOverrideCustomButtonOption&&(b=a[this.iconOverrideCustomButtonOption])?this.baseIconClass+" "+this.applyIconOverridePrefix(b):""},a}();_e.prototype.classes={},_e.prototype.iconClasses={},_e.prototype.baseIconClass="",_e.prototype.iconOverridePrefix="";var af=0,bf=function(){function a(a,b){b&&(a.view=this),this.uid=String(af++),this.context=a,this.dateEnv=a.dateEnv,this.theme=a.theme,this.view=a.view,this.calendar=a.calendar,this.isRtl="rtl"===this.opt("dir")}return a.addEqualityFuncs=function(a){this.prototype.equalityFuncs=ye({},this.prototype.equalityFuncs,a)},a.prototype.opt=function(a){return this.context.options[a]},a.prototype.receiveProps=function(a){var b=Uc(this.props||{},a,this.equalityFuncs),c=b.anyChanges,d=b.comboProps;this.props=d,c&&this.render(d)},a.prototype.render=function(a){},a.prototype.destroy=function(){},a}();bf.prototype.equalityFuncs={};var cf=function(a){function b(b,c,d){var e=a.call(this,b,d)||this;return e.el=c,e}return ab(b,a),b.prototype.destroy=function(){a.prototype.destroy.call(this),k(this.el)},b.prototype.buildPositionCaches=function(){},b.prototype.queryHit=function(a,b,c,d){return null},b.prototype.isInteractionValid=function(a){var b=this.calendar,c=this.props.dateProfile,d=a.mutatedEvents.instances;if(c)for(var e in d)if(!zb(c.validRange,d[e].range))return!1;return kc(a,b)},b.prototype.isDateSelectionValid=function(a){var b=this.props.dateProfile;return!(b&&!zb(b.validRange,a.range))&&lc(a,this.calendar)},b.prototype.publiclyTrigger=function(a,b){var c=this.calendar;return c.publiclyTrigger(a,b)},b.prototype.publiclyTriggerAfterSizing=function(a,b){var c=this.calendar;return c.publiclyTriggerAfterSizing(a,b)},b.prototype.hasPublicHandlers=function(a){var b=this.calendar;return b.hasPublicHandlers(a)},b.prototype.triggerRenderedSegs=function(a,b){var c=this.calendar;if(this.hasPublicHandlers("eventPositioned"))for(var d=0,e=a;d<e.length;d++){var f=e[d];this.publiclyTriggerAfterSizing("eventPositioned",[{event:new Le(c,f.eventRange.def,f.eventRange.instance),isMirror:b,isStart:f.isStart,isEnd:f.isEnd,el:f.el,view:this}])}c.state.loadingLevel||(c.afterSizingTriggers._eventsPositioned=[null])},b.prototype.triggerWillRemoveSegs=function(a,b){for(var c=this.calendar,d=0,e=a;d<e.length;d++){var f=e[d];c.trigger("eventElRemove",f.el)}if(this.hasPublicHandlers("eventDestroy"))for(var g=0,h=a;g<h.length;g++){var f=h[g];this.publiclyTrigger("eventDestroy",[{event:new Le(c,f.eventRange.def,f.eventRange.instance),isMirror:b,el:f.el,view:this}])}},b.prototype.isValidSegDownEl=function(a){return!this.props.eventDrag&&!this.props.eventResize&&!l(a,".fc-mirror")&&(this.isPopover()||!this.isInPopover(a))},b.prototype.isValidDateDownEl=function(a){var b=l(a,this.fgSegSelector);return(!b||b.classList.contains("fc-mirror"))&&!l(a,".fc-more")&&!l(a,"a[data-goto]")&&!this.isInPopover(a)},b.prototype.isPopover=function(){return this.el.classList.contains("fc-popover")},b.prototype.isInPopover=function(a){return Boolean(l(a,".fc-popover"))},b}(bf);cf.prototype.fgSegSelector=".fc-event-container > *",cf.prototype.bgSegSelector=".fc-bgevent:not(.fc-nonbusiness)";var df=0,ef=function(){
function a(){this.hooks={reducers:[],eventDefParsers:[],isDraggableTransformers:[],eventDragMutationMassagers:[],eventDefMutationAppliers:[],dateSelectionTransformers:[],datePointTransforms:[],dateSpanTransforms:[],views:{},viewPropsTransformers:[],isPropsValid:null,externalDefTransforms:[],eventResizeJoinTransforms:[],viewContainerModifiers:[],eventDropTransformers:[],componentInteractions:[],calendarInteractions:[],themeClasses:{},eventSourceDefs:[],cmdFormatter:null,recurringTypes:[],namedTimeZonedImpl:null,defaultView:"",elementDraggingImpl:null,optionChangeHandlers:{}},this.addedHash={}}return a.prototype.add=function(a){if(!this.addedHash[a.id]){this.addedHash[a.id]=!0;for(var b=0,c=a.deps;b<c.length;b++){var d=c[b];this.add(d)}this.hooks=Wc(this.hooks,a)}},a}(),ff={ignoreRange:!0,parseMeta:function(a){return Array.isArray(a)?a:Array.isArray(a.events)?a.events:null},fetch:function(a,b){b({rawEvents:a.eventSource.meta})}},gf=Vc({eventSourceDefs:[ff]}),hf={parseMeta:function(a){return"function"==typeof a?a:"function"==typeof a.events?a.events:null},fetch:function(a,b,c){var d=a.calendar.dateEnv,e=a.eventSource.meta;Rc(e.bind(null,{start:d.toDate(a.range.start),end:d.toDate(a.range.end),startStr:d.formatIso(a.range.start),endStr:d.formatIso(a.range.end),timeZone:d.timeZone}),function(a){b({rawEvents:a})},c)}},jf=Vc({eventSourceDefs:[hf]}),kf={parseMeta:function(a){if("string"==typeof a)a={url:a};else if(!a||"object"!=typeof a||!a.url)return null;return{url:a.url,method:(a.method||"GET").toUpperCase(),extraParams:a.extraParams,startParam:a.startParam,endParam:a.endParam,timeZoneParam:a.timeZoneParam}},fetch:function(a,b,c){var d=a.eventSource.meta,e=$c(d,a.range,a.calendar);Xc(d.method,d.url,e,function(a,c){b({rawEvents:a,xhr:c})},function(a,b){c({message:a,xhr:b})})}},lf=Vc({eventSourceDefs:[kf]}),mf={parse:function(a,b,c){var d=c.createMarker.bind(c),e={daysOfWeek:null,startTime:ja,endTime:ja,startRecur:d,endRecur:d},f=Xa(a,e,{},b),g=!1;for(var h in f)if(null!=f[h]){g=!0;break}if(g){var i=null;return"duration"in b&&(i=ja(b.duration),delete b.duration),!i&&f.startTime&&f.endTime&&(i=qa(f.endTime,f.startTime)),{allDayGuess:Boolean(!f.startTime&&!f.endTime),duration:i,typeData:f}}return null},expand:function(a,b,c){var d=wb(b,{start:a.startRecur,end:a.endRecur});return d?_c(a.daysOfWeek,a.startTime,d,c):[]}},nf=Vc({recurringTypes:[mf]}),of=Vc({optionChangeHandlers:{events:function(a,b,c){ad([a],b,c)},eventSources:ad,plugins:bd}}),pf={},qf={defaultRangeSeparator:" - ",titleRangeSeparator:"  ",defaultTimedEventDuration:"01:00:00",defaultAllDayEventDuration:{day:1},forceEventDuration:!1,nextDayThreshold:"00:00:00",columnHeader:!0,defaultView:"",aspectRatio:1.35,header:{left:"title",center:"",right:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberCalculation:"local",editable:!1,scrollTime:"06:00:00",minTime:"00:00:00",maxTime:"24:00:00",showNonCurrentDates:!0,lazyFetching:!0,startParam:"start",endParam:"end",timeZoneParam:"timeZone",timeZone:"local",locales:[],locale:"",timeGridEventMinHeight:0,themeSystem:"standard",dragRevertDuration:500,dragScroll:!0,allDayMaintainDuration:!1,unselectAuto:!0,dropAccept:"*",eventOrder:"start,-duration,allDay,title",eventLimit:!1,eventLimitClick:"popover",dayPopoverFormat:{month:"long",day:"numeric",year:"numeric"},handleWindowResize:!0,windowResizeDelay:100,longPressDelay:1e3,eventDragMinDistance:5},rf={header:{left:"next,prev today",center:"",right:"title"},buttonIcons:{prev:"fc-icon-chevron-right",next:"fc-icon-chevron-left",prevYear:"fc-icon-chevrons-right",nextYear:"fc-icon-chevrons-left"}},sf=["header","footer","buttonText","buttonIcons"],tf=[gf,jf,lf,nf,of],uf={code:"en",week:{dow:0,doy:4},dir:"ltr",buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day",list:"list"},weekLabel:"W",allDayText:"all-day",eventLimitText:"more",noEventsMessage:"No events to display"},vf=function(){function a(a){this.overrides=ye({},a),this.dynamicOverrides={},this.compute()}return a.prototype.mutate=function(a,b,c){var d=c?this.dynamicOverrides:this.overrides;ye(d,a);for(var e=0,f=b;e<f.length;e++){var g=f[e];delete d[g]}this.compute()},a.prototype.compute=function(){var a=Va(this.dynamicOverrides.locales,this.overrides.locales,qf.locales),b=Va(this.dynamicOverrides.locale,this.overrides.locale,qf.locale),c=ed(a),d=fd(b||c.defaultCode,c.map).options,e=Va(this.dynamicOverrides.dir,this.overrides.dir,d.dir),f="rtl"===e?rf:{};this.dirDefaults=f,this.localeDefaults=d,this.computed=cd([qf,f,d,this.overrides,this.dynamicOverrides])},a}(),wf={},xf=function(){function a(){}return a.prototype.getMarkerYear=function(a){return a.getUTCFullYear()},a.prototype.getMarkerMonth=function(a){return a.getUTCMonth()},a.prototype.getMarkerDay=function(a){return a.getUTCDate()},a.prototype.arrayToMarker=function(a){return ga(a)},a.prototype.markerToArray=function(a){return fa(a)},a}();jd("gregory",xf);var yf=/^\s*(\d{4})(-(\d{2})(-(\d{2})([T ](\d{2}):(\d{2})(:(\d{2})(\.(\d+))?)?(Z|(([-+])(\d{2})(:?(\d{2}))?))?)?)?)?$/,zf=function(){function a(a){var b=this.timeZone=a.timeZone,c="local"!==b&&"UTC"!==b;a.namedTimeZoneImpl&&c&&(this.namedTimeZoneImpl=new a.namedTimeZoneImpl(b)),this.canComputeOffset=Boolean(!c||this.namedTimeZoneImpl),this.calendarSystem=kd(a.calendarSystem),this.locale=a.locale,this.weekDow=a.locale.week.dow,this.weekDoy=a.locale.week.doy,"ISO"===a.weekNumberCalculation&&(this.weekDow=1,this.weekDoy=4),"number"==typeof a.firstDay&&(this.weekDow=a.firstDay),"function"==typeof a.weekNumberCalculation&&(this.weekNumberFunc=a.weekNumberCalculation),this.weekLabel=null!=a.weekLabel?a.weekLabel:a.locale.options.weekLabel,this.cmdFormatter=a.cmdFormatter}return a.prototype.createMarker=function(a){var b=this.createMarkerMeta(a);return null===b?null:b.marker},a.prototype.createNowMarker=function(){return this.canComputeOffset?this.timestampToMarker((new Date).valueOf()):ga(da(new Date))},a.prototype.createMarkerMeta=function(a){if("string"==typeof a)return this.parse(a);var b=null;return"number"==typeof a?b=this.timestampToMarker(a):a instanceof Date?(a=a.valueOf(),isNaN(a)||(b=this.timestampToMarker(a))):Array.isArray(a)&&(b=ga(a)),null!==b&&ha(b)?{marker:b,isTimeUnspecified:!1,forcedTzo:null}:null},a.prototype.parse=function(a){var b=ld(a);if(null===b)return null;var c=b.marker,d=null;return null!==b.timeZoneOffset&&(this.canComputeOffset?c=this.timestampToMarker(c.valueOf()-60*b.timeZoneOffset*1e3):d=b.timeZoneOffset),{marker:c,isTimeUnspecified:b.isTimeUnspecified,forcedTzo:d}},a.prototype.getYear=function(a){return this.calendarSystem.getMarkerYear(a)},a.prototype.getMonth=function(a){return this.calendarSystem.getMarkerMonth(a)},a.prototype.add=function(a,b){var c=this.calendarSystem.markerToArray(a);return c[0]+=b.years,c[1]+=b.months,c[2]+=b.days,c[6]+=b.milliseconds,this.calendarSystem.arrayToMarker(c)},a.prototype.subtract=function(a,b){var c=this.calendarSystem.markerToArray(a);return c[0]-=b.years,c[1]-=b.months,c[2]-=b.days,c[6]-=b.milliseconds,this.calendarSystem.arrayToMarker(c)},a.prototype.addYears=function(a,b){var c=this.calendarSystem.markerToArray(a);return c[0]+=b,this.calendarSystem.arrayToMarker(c)},a.prototype.addMonths=function(a,b){var c=this.calendarSystem.markerToArray(a);return c[1]+=b,this.calendarSystem.arrayToMarker(c)},a.prototype.diffWholeYears=function(a,b){var c=this.calendarSystem;return ia(a)===ia(b)&&c.getMarkerDay(a)===c.getMarkerDay(b)&&c.getMarkerMonth(a)===c.getMarkerMonth(b)?c.getMarkerYear(b)-c.getMarkerYear(a):null},a.prototype.diffWholeMonths=function(a,b){var c=this.calendarSystem;return ia(a)===ia(b)&&c.getMarkerDay(a)===c.getMarkerDay(b)?c.getMarkerMonth(b)-c.getMarkerMonth(a)+12*(c.getMarkerYear(b)-c.getMarkerYear(a)):null},a.prototype.greatestWholeUnit=function(a,b){var c=this.diffWholeYears(a,b);return null!==c?{unit:"year",value:c}:(c=this.diffWholeMonths(a,b),null!==c?{unit:"month",value:c}:(c=W(a,b),null!==c?{unit:"week",value:c}:(c=X(a,b),null!==c?{unit:"day",value:c}:(c=S(a,b),Ta(c)?{unit:"hour",value:c}:(c=T(a,b),Ta(c)?{unit:"minute",value:c}:(c=U(a,b),Ta(c)?{unit:"second",value:c}:{unit:"millisecond",value:b.valueOf()-a.valueOf()}))))))},a.prototype.countDurationsBetween=function(a,b,c){var d;return c.years&&(d=this.diffWholeYears(a,b),null!==d)?d/sa(c):c.months&&(d=this.diffWholeMonths(a,b),null!==d)?d/ta(c):c.days&&(d=X(a,b),null!==d)?d/ua(c):(b.valueOf()-a.valueOf())/xa(c)},a.prototype.startOf=function(a,b){return"year"===b?this.startOfYear(a):"month"===b?this.startOfMonth(a):"week"===b?this.startOfWeek(a):"day"===b?Y(a):"hour"===b?Z(a):"minute"===b?$(a):"second"===b?_(a):void 0},a.prototype.startOfYear=function(a){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(a)])},a.prototype.startOfMonth=function(a){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(a),this.calendarSystem.getMarkerMonth(a)])},a.prototype.startOfWeek=function(a){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(a),this.calendarSystem.getMarkerMonth(a),a.getUTCDate()-(a.getUTCDay()-this.weekDow+7)%7])},a.prototype.computeWeekNumber=function(a){return this.weekNumberFunc?this.weekNumberFunc(this.toDate(a)):aa(a,this.weekDow,this.weekDoy)},a.prototype.format=function(a,b,c){return void 0===c&&(c={}),b.format({marker:a,timeZoneOffset:null!=c.forcedTzo?c.forcedTzo:this.offsetForMarker(a)},this)},a.prototype.formatRange=function(a,b,c,d){return void 0===d&&(d={}),d.isEndExclusive&&(b=P(b,-1)),c.formatRange({marker:a,timeZoneOffset:null!=d.forcedStartTzo?d.forcedStartTzo:this.offsetForMarker(a)},{marker:b,timeZoneOffset:null!=d.forcedEndTzo?d.forcedEndTzo:this.offsetForMarker(b)},this)},a.prototype.formatIso=function(a,b){void 0===b&&(b={});var c=null;return b.omitTimeZoneOffset||(c=null!=b.forcedTzo?b.forcedTzo:this.offsetForMarker(a)),Qb(a,c,b.omitTime)},a.prototype.timestampToMarker=function(a){return"local"===this.timeZone?ga(da(new Date(a))):"UTC"!==this.timeZone&&this.namedTimeZoneImpl?ga(this.namedTimeZoneImpl.timestampToArray(a)):new Date(a)},a.prototype.offsetForMarker=function(a){return"local"===this.timeZone?-ea(fa(a)).getTimezoneOffset():"UTC"===this.timeZone?0:this.namedTimeZoneImpl?this.namedTimeZoneImpl.offsetForArray(fa(a)):null},a.prototype.toDate=function(a,b){return"local"===this.timeZone?ea(fa(a)):"UTC"===this.timeZone?new Date(a.valueOf()):this.namedTimeZoneImpl?new Date(a.valueOf()-1e3*this.namedTimeZoneImpl.offsetForArray(fa(a))*60):new Date(a.valueOf()-(b||0))},a}(),Af={id:String,allDayDefault:Boolean,eventDataTransform:Function,success:Function,failure:Function},Bf=0,Cf=0,Df=function(){function a(a,b){this.viewSpec=a,this.options=a.options,this.dateEnv=b.dateEnv,this.calendar=b,this.initHiddenDays()}return a.prototype.buildPrev=function(a,b){var c=this.dateEnv,d=c.subtract(c.startOf(b,a.currentRangeUnit),a.dateIncrement);return this.build(d,-1)},a.prototype.buildNext=function(a,b){var c=this.dateEnv,d=c.add(c.startOf(b,a.currentRangeUnit),a.dateIncrement);return this.build(d,1)},a.prototype.build=function(a,b,c){void 0===c&&(c=!1);var d,e,f,g,h,i,j=null,k=null;return d=this.buildValidRange(),d=this.trimHiddenDays(d),c&&(a=Bb(a,d)),e=this.buildCurrentRangeInfo(a,b),f=/^(year|month|week|day)$/.test(e.unit),g=this.buildRenderRange(this.trimHiddenDays(e.range),e.unit,f),g=this.trimHiddenDays(g),h=g,this.options.showNonCurrentDates||(h=wb(h,e.range)),j=ja(this.options.minTime),k=ja(this.options.maxTime),h=this.adjustActiveRange(h,j,k),h=wb(h,d),i=yb(e.range,d),{validRange:d,currentRange:e.range,currentRangeUnit:e.unit,isRangeAllDay:f,activeRange:h,renderRange:g,minTime:j,maxTime:k,isValid:i,dateIncrement:this.buildDateIncrement(e.duration)}},a.prototype.buildValidRange=function(){return this.getRangeOption("validRange",this.calendar.getNow())||{start:null,end:null}},a.prototype.buildCurrentRangeInfo=function(a,b){var c,d=this,e=d.viewSpec,f=d.dateEnv,g=null,h=null,i=null;return e.duration?(g=e.duration,h=e.durationUnit,i=this.buildRangeFromDuration(a,b,g,h)):(c=this.options.dayCount)?(h="day",i=this.buildRangeFromDayCount(a,b,c)):(i=this.buildCustomVisibleRange(a))?h=f.greatestWholeUnit(i.start,i.end).unit:(g=this.getFallbackDuration(),h=za(g).unit,i=this.buildRangeFromDuration(a,b,g,h)),{duration:g,unit:h,range:i}},a.prototype.getFallbackDuration=function(){return ja({day:1})},a.prototype.adjustActiveRange=function(a,b,c){var d=this.dateEnv,e=a.start,f=a.end;return this.viewSpec.class.prototype.usesMinMaxTime&&(ua(b)<0&&(e=Y(e),e=d.add(e,b)),ua(c)>1&&(f=Y(f),f=O(f,-1),f=d.add(f,c))),{start:e,end:f}},a.prototype.buildRangeFromDuration=function(a,b,c,d){function e(){h=k.startOf(a,l),i=k.add(h,c),j={start:h,end:i}}var f,g,h,i,j,k=this.dateEnv,l=this.options.dateAlignment;return l||(f=this.options.dateIncrement,f?(g=ja(f),l=xa(g)<xa(c)?za(g,!ma(f)).unit:d):l=d),ua(c)<=1&&this.isHiddenDay(h)&&(h=this.skipHiddenDays(h,b),h=Y(h)),e(),this.trimHiddenDays(j)||(a=this.skipHiddenDays(a,b),e()),j},a.prototype.buildRangeFromDayCount=function(a,b,c){var d,e=this.dateEnv,f=this.options.dateAlignment,g=0,h=a;f&&(h=e.startOf(h,f)),h=Y(h),h=this.skipHiddenDays(h,b),d=h;do d=O(d,1),this.isHiddenDay(d)||g++;while(g<c);return{start:h,end:d}},a.prototype.buildCustomVisibleRange=function(a){var b=this.dateEnv,c=this.getRangeOption("visibleRange",b.toDate(a));return!c||null!=c.start&&null!=c.end?c:null},a.prototype.buildRenderRange=function(a,b,c){return a},a.prototype.buildDateIncrement=function(a){var b,c=this.options.dateIncrement;return c?ja(c):(b=this.options.dateAlignment)?ja(1,b):a?a:ja({days:1})},a.prototype.getRangeOption=function(a){for(var b=[],c=1;c<arguments.length;c++)b[c-1]=arguments[c];var d=this.options[a];return"function"==typeof d&&(d=d.apply(null,b)),d&&(d=tb(d,this.dateEnv)),d&&(d=Za(d)),d},a.prototype.initHiddenDays=function(){var a,b=this.options.hiddenDays||[],c=[],d=0;for(this.options.weekends===!1&&b.push(0,6),a=0;a<7;a++)(c[a]=b.indexOf(a)!==-1)||d++;if(!d)throw new Error("invalid hiddenDays");this.isHiddenDayHash=c},a.prototype.trimHiddenDays=function(a){var b=a.start,c=a.end;return b&&(b=this.skipHiddenDays(b)),c&&(c=this.skipHiddenDays(c,-1,!0)),null==b||null==c||b<c?{start:b,end:c}:null},a.prototype.isHiddenDay=function(a){return a instanceof Date&&(a=a.getUTCDay()),this.isHiddenDayHash[a]},a.prototype.skipHiddenDays=function(a,b,c){for(void 0===b&&(b=1),void 0===c&&(c=!1);this.isHiddenDayHash[(a.getUTCDay()+(c?b:0)+7)%7];)a=O(a,b);return a},a}(),Ef={start:null,end:null,allDay:Boolean},Ff={type:String,class:null},Gf=function(a){function d(c,d){var e=a.call(this,c)||this;return e._renderLayout=Mc(e.renderLayout,e.unrenderLayout),e._updateTitle=Mc(e.updateTitle,null,[e._renderLayout]),e._updateActiveButton=Mc(e.updateActiveButton,null,[e._renderLayout]),e._updateToday=Mc(e.updateToday,null,[e._renderLayout]),e._updatePrev=Mc(e.updatePrev,null,[e._renderLayout]),e._updateNext=Mc(e.updateNext,null,[e._renderLayout]),e.el=b("div",{className:"fc-toolbar "+d}),e}return ab(d,a),d.prototype.destroy=function(){a.prototype.destroy.call(this),this._renderLayout.unrender(),k(this.el)},d.prototype.render=function(a){this._renderLayout(a.layout),this._updateTitle(a.title),this._updateActiveButton(a.activeButton),this._updateToday(a.isTodayEnabled),this._updatePrev(a.isPrevEnabled),this._updateNext(a.isNextEnabled)},d.prototype.renderLayout=function(a){var b=this.el;this.viewsWithButtons=[],g(b,this.renderSection("left",a.left)),g(b,this.renderSection("center",a.center)),g(b,this.renderSection("right",a.right))},d.prototype.unrenderLayout=function(){this.el.innerHTML=""},d.prototype.renderSection=function(a,d){var e=this,f=this,h=f.theme,i=f.calendar,j=i.optionsManager,k=i.viewSpecs,l=b("div",{className:"fc-"+a}),m=j.computed.customButtons||{},n=j.overrides.buttonText||{},o=j.computed.buttonText||{};return d&&d.split(" ").forEach(function(a,b){var d,f=[],j=!0;if(a.split(",").forEach(function(a,b){var d,g,l,p,q,r,s,t,u;"title"===a?(f.push(c("<h2>&nbsp;</h2>")),j=!1):((d=m[a])?(l=function(a){d.click&&d.click.call(t,a)},(p=h.getCustomButtonIconClass(d))||(p=h.getIconClass(a))||(q=d.text)):(g=k[a])?(e.viewsWithButtons.push(a),l=function(){i.changeView(a)},(q=g.buttonTextOverride)||(p=h.getIconClass(a))||(q=g.buttonTextDefault)):i[a]&&(l=function(){i[a]()},(q=n[a])||(p=h.getIconClass(a))||(q=o[a])),l&&(s=["fc-"+a+"-button",h.getClass("button")],q?(r=vc(q),u=""):p&&(r="<span class='"+p+"'></span>",u=' aria-label="'+a+'"'),t=c('<button type="button" class="'+s.join(" ")+'"'+u+">"+r+"</button>"),t.addEventListener("click",l),f.push(t)))}),f.length>1){d=document.createElement("div");var p=h.getClass("buttonGroup");j&&p&&d.classList.add(p),g(d,f),l.appendChild(d)}else g(l,f)}),l},d.prototype.updateToday=function(a){this.toggleButtonEnabled("today",a)},d.prototype.updatePrev=function(a){this.toggleButtonEnabled("prev",a)},d.prototype.updateNext=function(a){this.toggleButtonEnabled("next",a)},d.prototype.updateTitle=function(a){n(this.el,"h2").forEach(function(b){b.innerText=a})},d.prototype.updateActiveButton=function(a){var b=this.theme.getClass("buttonActive");n(this.el,"button").forEach(function(c){a&&c.classList.contains("fc-"+a+"-button")?c.classList.add(b):c.classList.remove(b)})},d.prototype.toggleButtonEnabled=function(a,b){n(this.el,".fc-"+a+"-button").forEach(function(a){a.disabled=!b})},d}(bf),Hf=function(a){function c(c,d){var e=a.call(this,c)||this;e._renderToolbars=Mc(e.renderToolbars),e.buildViewPropTransformers=Eb(Zd),e.el=d,h(d,e.contentEl=b("div",{className:"fc-view-container"}));for(var f=e.calendar,g=0,i=f.pluginSystem.hooks.viewContainerModifiers;g<i.length;g++){var j=i[g];j(e.contentEl,f)}return e.toggleElClassNames(!0),e.computeTitle=Eb(Xd),e.parseBusinessHours=Eb(function(a){return Kc(a,e.calendar)}),e}return ab(c,a),c.prototype.destroy=function(){this.header&&this.header.destroy(),this.footer&&this.footer.destroy(),this.view&&this.view.destroy(),k(this.contentEl),this.toggleElClassNames(!1),a.prototype.destroy.call(this)},c.prototype.toggleElClassNames=function(a){var b=this.el.classList,c="fc-"+this.opt("dir"),d=this.theme.getClass("widget");a?(b.add("fc"),b.add(c),b.add(d)):(b.remove("fc"),b.remove(c),b.remove(d))},c.prototype.render=function(a){this.freezeHeight();var b=this.computeTitle(a.dateProfile,a.viewSpec.options);this._renderToolbars(a.viewSpec,a.dateProfile,a.currentDate,a.dateProfileGenerator,b),this.renderView(a,b),this.updateSize(),this.thawHeight()},c.prototype.renderToolbars=function(a,b,c,d,e){var f=this.opt("header"),i=this.opt("footer"),j=this.calendar.getNow(),k=d.build(j),l=d.buildPrev(b,c),m=d.buildNext(b,c),n={title:e,activeButton:a.type,isTodayEnabled:k.isValid&&!Ab(b.currentRange,j),isPrevEnabled:l.isValid,isNextEnabled:m.isValid};f?(this.header||(this.header=new Gf(this.context,"fc-header-toolbar"),h(this.el,this.header.el)),this.header.receiveProps(ye({layout:f},n))):this.header&&(this.header.destroy(),this.header=null),i?(this.footer||(this.footer=new Gf(this.context,"fc-footer-toolbar"),g(this.el,this.footer.el)),this.footer.receiveProps(ye({layout:i},n))):this.footer&&(this.footer.destroy(),this.footer=null)},c.prototype.renderView=function(a,b){var c=this.view,d=a.viewSpec,e=a.dateProfileGenerator;c&&c.viewSpec===d?c.addScroll(c.queryScroll()):(c&&c.destroy(),c=this.view=new d.class({calendar:this.calendar,view:null,dateEnv:this.dateEnv,theme:this.theme,options:d.options},d,e,this.contentEl)),c.title=b;for(var f={dateProfile:a.dateProfile,businessHours:this.parseBusinessHours(d.options.businessHours),eventStore:a.eventStore,eventUiBases:a.eventUiBases,dateSelection:a.dateSelection,eventSelection:a.eventSelection,eventDrag:a.eventDrag,eventResize:a.eventResize},g=this.buildViewPropTransformers(this.calendar.pluginSystem.hooks.viewPropsTransformers),h=0,i=g;h<i.length;h++){var j=i[h];ye(f,j.transform(f,d,a,c))}c.receiveProps(f)},c.prototype.updateSize=function(a){void 0===a&&(a=!1);var b=this.view;a&&b.addScroll(b.queryScroll()),(a||null==this.isHeightAuto)&&this.computeHeightVars(),b.updateSize(a,this.viewHeight,this.isHeightAuto),b.updateNowIndicator(),b.popScroll(a)},c.prototype.computeHeightVars=function(){var a=this.calendar,b=a.opt("height"),c=a.opt("contentHeight");if(this.isHeightAuto="auto"===b||"auto"===c,"number"==typeof c)this.viewHeight=c;else if("function"==typeof c)this.viewHeight=c();else if("number"==typeof b)this.viewHeight=b-this.queryToolbarsHeight();else if("function"==typeof b)this.viewHeight=b()-this.queryToolbarsHeight();else if("parent"===b){var d=this.el.parentNode;this.viewHeight=d.getBoundingClientRect().height-this.queryToolbarsHeight()}else this.viewHeight=Math.round(this.contentEl.getBoundingClientRect().width/Math.max(a.opt("aspectRatio"),.5))},c.prototype.queryToolbarsHeight=function(){var a=0;return this.header&&(a+=F(this.header.el)),this.footer&&(a+=F(this.footer.el)),a},c.prototype.freezeHeight=function(){q(this.el,{height:this.el.getBoundingClientRect().height,overflow:"hidden"})},c.prototype.thawHeight=function(){q(this.el,{height:"",overflow:""})},c}(bf),If=function(){function a(a){this.component=a.component}return a.prototype.destroy=function(){},a}(),Jf={},Kf=function(a){function b(b){var c=a.call(this,b)||this;c.handleSegClick=function(a,b){var d=c.component,e=Zb(b);if(e&&d.isValidSegDownEl(a.target)){var f=l(a.target,".fc-has-url"),g=f?f.querySelector("a[href]").href:"";d.publiclyTrigger("eventClick",[{el:b,event:new Le(d.calendar,e.eventRange.def,e.eventRange.instance),jsEvent:a,view:d.view}]),g&&!a.defaultPrevented&&(window.location.href=g)}};var d=b.component;return c.destroy=K(d.el,"click",d.fgSegSelector+","+d.bgSegSelector,c.handleSegClick),c}return ab(b,a),b}(If),Lf=function(a){function b(b){var c=a.call(this,b)||this;c.handleEventElRemove=function(a){a===c.currentSegEl&&c.handleSegLeave(null,c.currentSegEl)},c.handleSegEnter=function(a,b){Zb(b)&&(b.classList.add("fc-allow-mouse-resize"),c.currentSegEl=b,c.triggerEvent("eventMouseEnter",a,b))},c.handleSegLeave=function(a,b){c.currentSegEl&&(b.classList.remove("fc-allow-mouse-resize"),c.currentSegEl=null,c.triggerEvent("eventMouseLeave",a,b))};var d=b.component;return c.removeHoverListeners=L(d.el,d.fgSegSelector+","+d.bgSegSelector,c.handleSegEnter,c.handleSegLeave),d.calendar.on("eventElRemove",c.handleEventElRemove),c}return ab(b,a),b.prototype.destroy=function(){this.removeHoverListeners(),this.component.calendar.off("eventElRemove",this.handleEventElRemove)},b.prototype.triggerEvent=function(a,b,c){var d=this.component,e=Zb(c);b&&!d.isValidSegDownEl(b.target)||d.publiclyTrigger(a,[{el:c,event:new Le(this.component.calendar,e.eventRange.def,e.eventRange.instance),jsEvent:b,view:d.view}])},b}(If),Mf=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return ab(b,a),b}(_e);Mf.prototype.classes={widget:"fc-unthemed",widgetHeader:"fc-widget-header",widgetContent:"fc-widget-content",buttonGroup:"fc-button-group",button:"fc-button fc-button-primary",buttonActive:"fc-button-active",popoverHeader:"fc-widget-header",popoverContent:"fc-widget-content",headerRow:"fc-widget-header",dayRow:"fc-widget-content",listView:"fc-widget-content"},Mf.prototype.baseIconClass="fc-icon",Mf.prototype.iconClasses={close:"fc-icon-x",prev:"fc-icon-chevron-left",next:"fc-icon-chevron-right",prevYear:"fc-icon-chevrons-left",nextYear:"fc-icon-chevrons-right"},Mf.prototype.iconOverrideOption="buttonIcons",Mf.prototype.iconOverrideCustomButtonOption="icon",Mf.prototype.iconOverridePrefix="fc-icon-";var Nf=function(){function a(a,b){var c=this;this.parseRawLocales=Eb(ed),this.buildLocale=Eb(fd),this.buildDateEnv=Eb(ae),this.buildTheme=Eb(be),this.buildEventUiSingleBase=Eb(this._buildEventUiSingleBase),this.buildSelectionConfig=Eb(this._buildSelectionConfig),this.buildEventUiBySource=Fb(de,ib),this.buildEventUiBases=Eb(ee),this.interactionsStore={},this.actionQueue=[],this.isReducing=!1,this.needsRerender=!1,this.needsFullRerender=!1,this.isRendering=!1,this.renderingPauseDepth=0,this.buildDelayedRerender=Eb(ce),this.afterSizingTriggers={},this.isViewUpdated=!1,this.isDatesUpdated=!1,this.isEventsUpdated=!1,this.el=a,this.optionsManager=new vf(b||{}),this.pluginSystem=new ef,this.addPluginInputs(this.optionsManager.computed.plugins||[]),this.handleOptions(this.optionsManager.computed),this.publiclyTrigger("_init"),this.hydrate(),this.calendarInteractions=this.pluginSystem.hooks.calendarInteractions.map(function(a){return new a(c)})}return a.prototype.addPluginInputs=function(a){for(var b=dd(a),c=0,d=b;c<d.length;c++){var e=d[c];this.pluginSystem.add(e)}},Object.defineProperty(a.prototype,"view",{get:function(){return this.component?this.component.view:null},enumerable:!0,configurable:!0}),a.prototype.render=function(){this.component?this.requestRerender(!0):(this.renderableEventStore=qb(),this.bindHandlers(),this.executeRender())},a.prototype.destroy=function(){if(this.component){this.unbindHandlers(),this.component.destroy(),this.component=null;for(var a=0,b=this.calendarInteractions;a<b.length;a++){var c=b[a];c.destroy()}this.publiclyTrigger("_destroyed")}},a.prototype.bindHandlers=function(){var a=this;this.removeNavLinkListener=K(this.el,"click","a[data-goto]",function(b,c){var d=c.getAttribute("data-goto");d=d?JSON.parse(d):{};var e=a.dateEnv,f=e.createMarker(d.date),g=d.type,h=a.viewOpt("navLink"+Qa(g)+"Click");"function"==typeof h?h(e.toDate(f),b):("string"==typeof h&&(g=h),a.zoomTo(f,g))}),this.opt("handleWindowResize")&&window.addEventListener("resize",this.windowResizeProxy=Wa(this.windowResize.bind(this),this.opt("windowResizeDelay")))},a.prototype.unbindHandlers=function(){this.removeNavLinkListener(),this.windowResizeProxy&&(window.removeEventListener("resize",this.windowResizeProxy),this.windowResizeProxy=null)},a.prototype.hydrate=function(){var a=this;this.state=this.buildInitialState();var b=this.opt("eventSources")||[],c=this.opt("events"),d=[];c&&b.unshift(c);for(var e=0,f=b;e<f.length;e++){var g=f[e],h=nd(g,this);h&&d.push(h)}this.batchRendering(function(){a.dispatch({type:"INIT"}),a.dispatch({type:"ADD_EVENT_SOURCES",sources:d}),a.dispatch({type:"SET_VIEW_TYPE",viewType:a.opt("defaultView")||a.pluginSystem.hooks.defaultView})})},a.prototype.buildInitialState=function(){return{viewType:null,loadingLevel:0,eventSourceLoadingLevel:0,currentDate:this.getInitialDate(),dateProfile:null,eventSources:{},eventStore:qb(),dateSelection:null,eventSelection:"",eventDrag:null,eventResize:null}},a.prototype.dispatch=function(a){if(this.actionQueue.push(a),!this.isReducing){this.isReducing=!0;for(var b=this.state;this.actionQueue.length;)this.state=this.reduce(this.state,this.actionQueue.shift(),this);var c=this.state;this.isReducing=!1,!b.loadingLevel&&c.loadingLevel?this.publiclyTrigger("loading",[!0]):b.loadingLevel&&!c.loadingLevel&&this.publiclyTrigger("loading",[!1]);var d=this.component&&this.component.view;(b.eventStore!==c.eventStore||this.needsFullRerender)&&b.eventStore&&(this.isEventsUpdated=!0),(b.dateProfile!==c.dateProfile||this.needsFullRerender)&&(b.dateProfile&&d&&this.publiclyTrigger("datesDestroy",[{view:d,el:d.el}]),this.isDatesUpdated=!0),(b.viewType!==c.viewType||this.needsFullRerender)&&(b.viewType&&d&&this.publiclyTrigger("viewSkeletonDestroy",[{view:d,el:d.el}]),this.isViewUpdated=!0),this.requestRerender()}},a.prototype.reduce=function(a,b,c){return zd(a,b,c)},a.prototype.requestRerender=function(a){void 0===a&&(a=!1),this.needsRerender=!0,this.needsFullRerender=this.needsFullRerender||a,this.delayedRerender()},a.prototype.tryRerender=function(){this.component&&this.needsRerender&&!this.renderingPauseDepth&&!this.isRendering&&this.executeRender()},a.prototype.batchRendering=function(a){this.renderingPauseDepth++,a(),this.renderingPauseDepth--,this.needsRerender&&this.requestRerender()},a.prototype.executeRender=function(){var a=this.needsFullRerender;this.needsRerender=!1,this.needsFullRerender=!1,this.isRendering=!0,this.renderComponent(a),this.isRendering=!1,this.needsRerender&&this.delayedRerender()},a.prototype.renderComponent=function(a){var b=this,c=b.state,d=b.component,e=c.viewType,f=this.viewSpecs[e],g=a&&d?d.view.queryScroll():null;if(!f)throw new Error('View type "'+e+'" is not valid');var h=this.renderableEventStore=c.eventSourceLoadingLevel&&!this.opt("progressiveEventRendering")?this.renderableEventStore:c.eventStore,i=this.buildEventUiSingleBase(f.options),j=this.buildEventUiBySource(c.eventSources),k=this.eventUiBases=this.buildEventUiBases(h.defs,i,j);!a&&d||(d&&(d.freezeHeight(),d.destroy()),d=this.component=new Hf({calendar:this,view:null,dateEnv:this.dateEnv,theme:this.theme,options:this.optionsManager.computed},this.el),this.isViewUpdated=!0,this.isDatesUpdated=!0,this.isEventsUpdated=!0),d.receiveProps(ye({},c,{viewSpec:f,dateProfile:c.dateProfile,dateProfileGenerator:this.dateProfileGenerators[e],eventStore:h,eventUiBases:k,dateSelection:c.dateSelection,eventSelection:c.eventSelection,eventDrag:c.eventDrag,eventResize:c.eventResize})),g&&d.view.applyScroll(g,!1),this.isViewUpdated&&(this.isViewUpdated=!1,this.publiclyTrigger("viewSkeletonRender",[{view:d.view,el:d.view.el}])),this.isDatesUpdated&&(this.isDatesUpdated=!1,this.publiclyTrigger("datesRender",[{view:d.view,el:d.view.el}])),this.isEventsUpdated&&(this.isEventsUpdated=!1),this.releaseAfterSizingTriggers()},a.prototype.setOption=function(a,b){var c;this.mutateOptions((c={},c[a]=b,c),[],!0)},a.prototype.getOption=function(a){return this.optionsManager.computed[a]},a.prototype.opt=function(a){return this.optionsManager.computed[a]},a.prototype.viewOpt=function(a){return this.viewOpts()[a]},a.prototype.viewOpts=function(){return this.viewSpecs[this.state.viewType].options},a.prototype.mutateOptions=function(a,b,c,d){var e=this,f=this.pluginSystem.hooks.optionChangeHandlers,g={},h={},i=this.dateEnv,j=!1,k=!1,l=Boolean(b.length);for(var m in a)f[m]?h[m]=a[m]:g[m]=a[m];for(var n in g)/^(height|contentHeight|aspectRatio)$/.test(n)?k=!0:/^(defaultDate|defaultView)$/.test(n)||(l=!0,"timeZone"===n&&(j=!0));this.optionsManager.mutate(g,b,c),l&&(this.handleOptions(this.optionsManager.computed),this.needsFullRerender=!0),this.batchRendering(function(){if(l?(j&&e.dispatch({type:"CHANGE_TIMEZONE",oldDateEnv:i}),e.dispatch({type:"SET_VIEW_TYPE",viewType:e.state.viewType})):k&&e.updateSize(),d)for(var a in h)f[a](h[a],e,d)})},a.prototype.handleOptions=function(a){var b=this,c=this.pluginSystem.hooks;this.defaultAllDayEventDuration=ja(a.defaultAllDayEventDuration),this.defaultTimedEventDuration=ja(a.defaultTimedEventDuration),this.delayedRerender=this.buildDelayedRerender(a.rerenderDelay),this.theme=this.buildTheme(a);var d=this.parseRawLocales(a.locales);this.availableRawLocales=d.map;var e=this.buildLocale(a.locale||d.defaultCode,d.map);this.dateEnv=this.buildDateEnv(e,a.timeZone,c.namedTimeZonedImpl,a.firstDay,a.weekNumberCalculation,a.weekLabel,c.cmdFormatter),this.selectionConfig=this.buildSelectionConfig(a),this.viewSpecs=Vd(c.views,this.optionsManager),this.dateProfileGenerators=fb(this.viewSpecs,function(a){return new a.class.prototype.dateProfileGeneratorClass(a,b)})},a.prototype.getAvailableLocaleCodes=function(){return Object.keys(this.availableRawLocales)},a.prototype._buildSelectionConfig=function(a){return Ac("select",a,this)},a.prototype._buildEventUiSingleBase=function(a){return a.editable&&(a=ye({},a,{eventEditable:!0})),Ac("event",a,this)},a.prototype.hasPublicHandlers=function(a){return this.hasHandlers(a)||this.opt(a)},a.prototype.publiclyTrigger=function(a,b){var c=this.opt(a);if(this.triggerWith(a,this,b),c)return c.apply(this,b)},a.prototype.publiclyTriggerAfterSizing=function(a,b){var c=this.afterSizingTriggers;(c[a]||(c[a]=[])).push(b)},a.prototype.releaseAfterSizingTriggers=function(){var a=this.afterSizingTriggers;for(var b in a)for(var c=0,d=a[b];c<d.length;c++){var e=d[c];this.publiclyTrigger(b,e)}this.afterSizingTriggers={};
},a.prototype.isValidViewType=function(a){return Boolean(this.viewSpecs[a])},a.prototype.changeView=function(a,b){var c=null;b&&(b.start&&b.end?(this.optionsManager.mutate({visibleRange:b},[]),this.handleOptions(this.optionsManager.computed)):c=this.dateEnv.createMarker(b)),this.unselect(),this.dispatch({type:"SET_VIEW_TYPE",viewType:a,dateMarker:c})},a.prototype.zoomTo=function(a,b){var c;b=b||"day",c=this.viewSpecs[b]||this.getUnitViewSpec(b),this.unselect(),c?this.dispatch({type:"SET_VIEW_TYPE",viewType:c.type,dateMarker:a}):this.dispatch({type:"SET_DATE",dateMarker:a})},a.prototype.getUnitViewSpec=function(a){var b,c,d=this.component,e=[];d.header&&e.push.apply(e,d.header.viewsWithButtons),d.footer&&e.push.apply(e,d.footer.viewsWithButtons);for(var f in this.viewSpecs)e.push(f);for(b=0;b<e.length;b++)if(c=this.viewSpecs[e[b]],c&&c.singleUnit===a)return c},a.prototype.getInitialDate=function(){var a=this.opt("defaultDate");return null!=a?this.dateEnv.createMarker(a):this.getNow()},a.prototype.prev=function(){this.unselect(),this.dispatch({type:"PREV"})},a.prototype.next=function(){this.unselect(),this.dispatch({type:"NEXT"})},a.prototype.prevYear=function(){this.unselect(),this.dispatch({type:"SET_DATE",dateMarker:this.dateEnv.addYears(this.state.currentDate,-1)})},a.prototype.nextYear=function(){this.unselect(),this.dispatch({type:"SET_DATE",dateMarker:this.dateEnv.addYears(this.state.currentDate,1)})},a.prototype.today=function(){this.unselect(),this.dispatch({type:"SET_DATE",dateMarker:this.getNow()})},a.prototype.gotoDate=function(a){this.unselect(),this.dispatch({type:"SET_DATE",dateMarker:this.dateEnv.createMarker(a)})},a.prototype.incrementDate=function(a){var b=ja(a);b&&(this.unselect(),this.dispatch({type:"SET_DATE",dateMarker:this.dateEnv.add(this.state.currentDate,b)}))},a.prototype.getDate=function(){return this.dateEnv.toDate(this.state.currentDate)},a.prototype.formatDate=function(a,b){var c=this.dateEnv;return c.format(c.createMarker(a),Pb(b))},a.prototype.formatRange=function(a,b,c){var d=this.dateEnv;return d.formatRange(d.createMarker(a),d.createMarker(b),Pb(c,this.opt("defaultRangeSeparator")),c)},a.prototype.formatIso=function(a,b){var c=this.dateEnv;return c.formatIso(c.createMarker(a),{omitTime:b})},a.prototype.windowResize=function(a){!this.isHandlingWindowResize&&this.component&&a.target===window&&(this.isHandlingWindowResize=!0,this.updateSize(),this.publiclyTrigger("windowResize",[this.view]),this.isHandlingWindowResize=!1)},a.prototype.updateSize=function(){this.component&&this.component.updateSize(!0)},a.prototype.registerInteractiveComponent=function(a,b){var c=$d(a,b),d=[Kf,Lf],e=d.concat(this.pluginSystem.hooks.componentInteractions),f=e.map(function(a){return new a(c)});this.interactionsStore[a.uid]=f,Jf[a.uid]=c},a.prototype.unregisterInteractiveComponent=function(a){for(var b=0,c=this.interactionsStore[a.uid];b<c.length;b++){var d=c[b];d.destroy()}delete this.interactionsStore[a.uid],delete Jf[a.uid]},a.prototype.select=function(a,b){var c;c=null==b?null!=a.start?a:{start:a,end:null}:{start:a,end:b};var d=Id(c,this.dateEnv,ja({days:1}));d&&(this.dispatch({type:"SELECT_DATES",selection:d}),this.triggerDateSelect(d))},a.prototype.unselect=function(a){this.state.dateSelection&&(this.dispatch({type:"UNSELECT_DATES"}),this.triggerDateUnselect(a))},a.prototype.triggerDateSelect=function(a,b){var c=ye({},this.buildDateSpanApi(a),{jsEvent:b?b.origEvent:null,view:this.view});this.publiclyTrigger("select",[c])},a.prototype.triggerDateUnselect=function(a){this.publiclyTrigger("unselect",[{jsEvent:a?a.origEvent:null,view:this.view}])},a.prototype.triggerDateClick=function(a,b,c,d){var e=ye({},this.buildDatePointApi(a),{dayEl:b,jsEvent:d,view:c});this.publiclyTrigger("dateClick",[e])},a.prototype.buildDatePointApi=function(a){for(var b={},c=0,d=this.pluginSystem.hooks.datePointTransforms;c<d.length;c++){var e=d[c];ye(b,e(a,this))}return ye(b,Nd(a,this.dateEnv)),b},a.prototype.buildDateSpanApi=function(a){for(var b={},c=0,d=this.pluginSystem.hooks.dateSpanTransforms;c<d.length;c++){var e=d[c];ye(b,e(a,this))}return ye(b,Md(a,this.dateEnv)),b},a.prototype.getNow=function(){var a=this.opt("now");return"function"==typeof a&&(a=a()),null==a?this.dateEnv.createNowMarker():this.dateEnv.createMarker(a)},a.prototype.getDefaultEventEnd=function(a,b){var c=b;return a?(c=Y(c),c=this.dateEnv.add(c,this.defaultAllDayEventDuration)):c=this.dateEnv.add(c,this.defaultTimedEventDuration),c},a.prototype.addEvent=function(a,b){if(a instanceof Le){var c=a._def,d=a._instance;return this.state.eventStore.defs[c.defId]||this.dispatch({type:"ADD_EVENTS",eventStore:kb({def:c,instance:d})}),a}var e;if(b instanceof Ke)e=b.internalEventSource.sourceId;else if(null!=b){var f=this.getEventSourceById(b);if(!f)return console.warn('Could not find an event source with ID "'+b+'"'),null;e=f.internalEventSource.sourceId}var g=Dc(a,e,this);return g?(this.dispatch({type:"ADD_EVENTS",eventStore:kb(g)}),new Le(this,g.def,g.def.recurringDef?null:g.instance)):null},a.prototype.getEventById=function(a){var b=this.state.eventStore,c=b.defs,d=b.instances;a=String(a);for(var e in c){var f=c[e];if(f.publicId===a){if(f.recurringDef)return new Le(this,f,null);for(var g in d){var h=d[g];if(h.defId===f.defId)return new Le(this,f,h)}}}return null},a.prototype.getEvents=function(){var a=this.state.eventStore,b=a.defs,c=a.instances,d=[];for(var e in c){var f=c[e],g=b[f.defId];d.push(new Le(this,g,f))}return d},a.prototype.removeAllEvents=function(){this.dispatch({type:"REMOVE_ALL_EVENTS"})},a.prototype.rerenderEvents=function(){this.dispatch({type:"RESET_EVENTS"})},a.prototype.getEventSources=function(){var a=this.state.eventSources,b=[];for(var c in a)b.push(new Ke(this,a[c]));return b},a.prototype.getEventSourceById=function(a){var b=this.state.eventSources;a=String(a);for(var c in b)if(b[c].publicId===a)return new Ke(this,b[c]);return null},a.prototype.addEventSource=function(a){if(a instanceof Ke)return this.state.eventSources[a.internalEventSource.sourceId]||this.dispatch({type:"ADD_EVENT_SOURCES",sources:[a.internalEventSource]}),a;var b=nd(a,this);return b?(this.dispatch({type:"ADD_EVENT_SOURCES",sources:[b]}),new Ke(this,b)):null},a.prototype.removeAllEventSources=function(){this.dispatch({type:"REMOVE_ALL_EVENT_SOURCES"})},a.prototype.refetchEvents=function(){this.dispatch({type:"FETCH_EVENT_SOURCES"})},a.prototype.scrollToTime=function(a){var b=ja(a);b&&this.component.view.scrollToDuration(b)},a}();Ve.mixInto(Nf);var Of=function(a){function c(c,d,e,f){var g=a.call(this,c,b("div",{className:"fc-view fc-"+d.type+"-view"}),!0)||this;return g.renderDatesMem=Mc(g.renderDatesWrap,g.unrenderDatesWrap),g.renderBusinessHoursMem=Mc(g.renderBusinessHours,g.unrenderBusinessHours,[g.renderDatesMem]),g.renderDateSelectionMem=Mc(g.renderDateSelectionWrap,g.unrenderDateSelectionWrap,[g.renderDatesMem]),g.renderEventsMem=Mc(g.renderEvents,g.unrenderEvents,[g.renderDatesMem]),g.renderEventSelectionMem=Mc(g.renderEventSelectionWrap,g.unrenderEventSelectionWrap,[g.renderEventsMem]),g.renderEventDragMem=Mc(g.renderEventDragWrap,g.unrenderEventDragWrap,[g.renderDatesMem]),g.renderEventResizeMem=Mc(g.renderEventResizeWrap,g.unrenderEventResizeWrap,[g.renderDatesMem]),g.viewSpec=d,g.dateProfileGenerator=e,g.type=d.type,g.eventOrderSpecs=Ma(g.opt("eventOrder")),g.nextDayThreshold=ja(g.opt("nextDayThreshold")),f.appendChild(g.el),g.initialize(),g}return ab(c,a),c.prototype.initialize=function(){},Object.defineProperty(c.prototype,"activeStart",{get:function(){return this.dateEnv.toDate(this.props.dateProfile.activeRange.start)},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"activeEnd",{get:function(){return this.dateEnv.toDate(this.props.dateProfile.activeRange.end)},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"currentStart",{get:function(){return this.dateEnv.toDate(this.props.dateProfile.currentRange.start)},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"currentEnd",{get:function(){return this.dateEnv.toDate(this.props.dateProfile.currentRange.end)},enumerable:!0,configurable:!0}),c.prototype.render=function(a){this.renderDatesMem(a.dateProfile),this.renderBusinessHoursMem(a.businessHours),this.renderDateSelectionMem(a.dateSelection),this.renderEventsMem(a.eventStore),this.renderEventSelectionMem(a.eventSelection),this.renderEventDragMem(a.eventDrag),this.renderEventResizeMem(a.eventResize)},c.prototype.destroy=function(){a.prototype.destroy.call(this),this.renderDatesMem.unrender()},c.prototype.updateSize=function(a,b,c){var d=this.calendar;(a||d.isViewUpdated||d.isDatesUpdated||d.isEventsUpdated)&&this.updateBaseSize(a,b,c)},c.prototype.updateBaseSize=function(a,b,c){},c.prototype.renderDatesWrap=function(a){this.renderDates(a),this.addScroll({duration:ja(this.opt("scrollTime"))}),this.startNowIndicator(a)},c.prototype.unrenderDatesWrap=function(){this.stopNowIndicator(),this.unrenderDates()},c.prototype.renderDates=function(a){},c.prototype.unrenderDates=function(){},c.prototype.renderBusinessHours=function(a){},c.prototype.unrenderBusinessHours=function(){},c.prototype.renderDateSelectionWrap=function(a){a&&this.renderDateSelection(a)},c.prototype.unrenderDateSelectionWrap=function(a){a&&this.unrenderDateSelection(a)},c.prototype.renderDateSelection=function(a){},c.prototype.unrenderDateSelection=function(a){},c.prototype.renderEvents=function(a){},c.prototype.unrenderEvents=function(){},c.prototype.sliceEvents=function(a,b){var c=this.props;return Vb(a,c.eventUiBases,c.dateProfile.activeRange,b?this.nextDayThreshold:null).fg},c.prototype.computeEventDraggable=function(a,b){for(var c=this.calendar.pluginSystem.hooks.isDraggableTransformers,d=b.startEditable,e=0,f=c;e<f.length;e++){var g=f[e];d=g(d,a,b,this)}return d},c.prototype.computeEventStartResizable=function(a,b){return b.durationEditable&&this.opt("eventResizableFromStart")},c.prototype.computeEventEndResizable=function(a,b){return b.durationEditable},c.prototype.renderEventSelectionWrap=function(a){a&&this.renderEventSelection(a)},c.prototype.unrenderEventSelectionWrap=function(a){a&&this.unrenderEventSelection(a)},c.prototype.renderEventSelection=function(a){},c.prototype.unrenderEventSelection=function(a){},c.prototype.renderEventDragWrap=function(a){a&&this.renderEventDrag(a)},c.prototype.unrenderEventDragWrap=function(a){a&&this.unrenderEventDrag(a)},c.prototype.renderEventDrag=function(a){},c.prototype.unrenderEventDrag=function(a){},c.prototype.renderEventResizeWrap=function(a){a&&this.renderEventResize(a)},c.prototype.unrenderEventResizeWrap=function(a){a&&this.unrenderEventResize(a)},c.prototype.renderEventResize=function(a){},c.prototype.unrenderEventResize=function(a){},c.prototype.startNowIndicator=function(a){var b,c,d,e=this,f=this.dateEnv;this.opt("nowIndicator")&&(b=this.getNowIndicatorUnit(a),b&&(c=this.updateNowIndicator.bind(this),this.initialNowDate=this.calendar.getNow(),this.initialNowQueriedMs=(new Date).valueOf(),d=f.add(f.startOf(this.initialNowDate,b),ja(1,b)).valueOf()-this.initialNowDate.valueOf(),this.nowIndicatorTimeoutID=setTimeout(function(){e.nowIndicatorTimeoutID=null,c(),d="second"===b?1e3:6e4,e.nowIndicatorIntervalID=setInterval(c,d)},d)))},c.prototype.updateNowIndicator=function(){this.props.dateProfile&&this.initialNowDate&&(this.unrenderNowIndicator(),this.renderNowIndicator(P(this.initialNowDate,(new Date).valueOf()-this.initialNowQueriedMs)),this.isNowIndicatorRendered=!0)},c.prototype.stopNowIndicator=function(){this.isNowIndicatorRendered&&(this.nowIndicatorTimeoutID&&(clearTimeout(this.nowIndicatorTimeoutID),this.nowIndicatorTimeoutID=null),this.nowIndicatorIntervalID&&(clearInterval(this.nowIndicatorIntervalID),this.nowIndicatorIntervalID=null),this.unrenderNowIndicator(),this.isNowIndicatorRendered=!1)},c.prototype.getNowIndicatorUnit=function(a){},c.prototype.renderNowIndicator=function(a){},c.prototype.unrenderNowIndicator=function(){},c.prototype.addScroll=function(a){var b=this.queuedScroll||(this.queuedScroll={});ye(b,a)},c.prototype.popScroll=function(a){this.applyQueuedScroll(a),this.queuedScroll=null},c.prototype.applyQueuedScroll=function(a){this.applyScroll(this.queuedScroll||{},a)},c.prototype.queryScroll=function(){var a={};return this.props.dateProfile&&ye(a,this.queryDateScroll()),a},c.prototype.applyScroll=function(a,b){var c=a.duration;null!=c&&(delete a.duration,this.props.dateProfile&&ye(a,this.computeDateScroll(c))),this.props.dateProfile&&this.applyDateScroll(a)},c.prototype.computeDateScroll=function(a){return{}},c.prototype.queryDateScroll=function(){return{}},c.prototype.applyDateScroll=function(a){},c.prototype.scrollToDuration=function(a){this.applyScroll({duration:a},!1)},c}(cf);Ve.mixInto(Of),Of.prototype.usesMinMaxTime=!1,Of.prototype.dateProfileGeneratorClass=Df;var Pf=function(){function a(a){this.segs=[],this.isSizeDirty=!1,this.context=a}return a.prototype.renderSegs=function(a,b){this.rangeUpdated(),a=this.renderSegEls(a,b),this.segs=a,this.attachSegs(a,b),this.isSizeDirty=!0,this.context.view.triggerRenderedSegs(this.segs,Boolean(b))},a.prototype.unrender=function(a,b){this.context.view.triggerWillRemoveSegs(this.segs,Boolean(b)),this.detachSegs(this.segs),this.segs=[]},a.prototype.rangeUpdated=function(){var a,b,c=this.context.options;this.eventTimeFormat=Pb(c.eventTimeFormat||this.computeEventTimeFormat(),c.defaultRangeSeparator),a=c.displayEventTime,null==a&&(a=this.computeDisplayEventTime()),b=c.displayEventEnd,null==b&&(b=this.computeDisplayEventEnd()),this.displayEventTime=a,this.displayEventEnd=b},a.prototype.renderSegEls=function(a,b){var c,e="";if(a.length){for(c=0;c<a.length;c++)e+=this.renderSegHtml(a[c],b);d(e).forEach(function(b,c){var d=a[c];b&&(d.el=b)}),a=Xb(this.context.view,a,Boolean(b))}return a},a.prototype.getSegClasses=function(a,b,c,d){var e=["fc-event",a.isStart?"fc-start":"fc-not-start",a.isEnd?"fc-end":"fc-not-end"].concat(a.eventRange.ui.classNames);return b&&e.push("fc-draggable"),c&&e.push("fc-resizable"),d&&(e.push("fc-mirror"),d.isDragging&&e.push("fc-dragging"),d.isResizing&&e.push("fc-resizing")),e},a.prototype.getTimeText=function(a,b,c){var d=a.def,e=a.instance;return this._getTimeText(e.range.start,d.hasEnd?e.range.end:null,d.allDay,b,c,e.forcedStartTzo,e.forcedEndTzo)},a.prototype._getTimeText=function(a,b,c,d,e,f,g){var h=this.context.dateEnv;return null==d&&(d=this.eventTimeFormat),null==e&&(e=this.displayEventEnd),this.displayEventTime&&!c?e&&b?h.formatRange(a,b,d,{forcedStartTzo:f,forcedEndTzo:g}):h.format(a,d,{forcedTzo:f}):""},a.prototype.computeEventTimeFormat=function(){return{hour:"numeric",minute:"2-digit",omitZeroMinute:!0}},a.prototype.computeDisplayEventTime=function(){return!0},a.prototype.computeDisplayEventEnd=function(){return!0},a.prototype.getSkinCss=function(a){return{"background-color":a.backgroundColor,"border-color":a.borderColor,color:a.textColor}},a.prototype.sortEventSegs=function(a){var b=this.context.view.eventOrderSpecs,c=a.map(fe);return c.sort(function(a,c){return Na(a,c,b)}),c.map(function(a){return a._seg})},a.prototype.computeSizes=function(a){(a||this.isSizeDirty)&&this.computeSegSizes(this.segs)},a.prototype.assignSizes=function(a){(a||this.isSizeDirty)&&(this.assignSegSizes(this.segs),this.isSizeDirty=!1)},a.prototype.computeSegSizes=function(a){},a.prototype.assignSegSizes=function(a){},a.prototype.hideByHash=function(a){if(a)for(var b=0,c=this.segs;b<c.length;b++){var d=c[b];a[d.eventRange.instance.instanceId]&&(d.el.style.visibility="hidden")}},a.prototype.showByHash=function(a){if(a)for(var b=0,c=this.segs;b<c.length;b++){var d=c[b];a[d.eventRange.instance.instanceId]&&(d.el.style.visibility="")}},a.prototype.selectByInstanceId=function(a){if(a)for(var b=0,c=this.segs;b<c.length;b++){var d=c[b],e=d.eventRange.instance;e&&e.instanceId===a&&d.el&&d.el.classList.add("fc-selected")}},a.prototype.unselectByInstanceId=function(a){if(a)for(var b=0,c=this.segs;b<c.length;b++){var d=c[b];d.el&&d.el.classList.remove("fc-selected")}},a}(),Qf=function(){function a(a){this.fillSegTag="div",this.dirtySizeFlags={},this.context=a,this.containerElsByType={},this.segsByType={}}return a.prototype.getSegsByType=function(a){return this.segsByType[a]||[]},a.prototype.renderSegs=function(a,b){var c,d=this.renderSegEls(a,b),e=this.attachSegs(a,d);e&&(c=this.containerElsByType[a]||(this.containerElsByType[a]=[])).push.apply(c,e),this.segsByType[a]=d,"bgEvent"===a&&this.context.view.triggerRenderedSegs(d,!1),this.dirtySizeFlags[a]=!0},a.prototype.unrender=function(a){var b=this.segsByType[a];b&&("bgEvent"===a&&this.context.view.triggerWillRemoveSegs(b,!1),this.detachSegs(a,b))},a.prototype.renderSegEls=function(a,b){var c,e=this,f="";if(b.length){for(c=0;c<b.length;c++)f+=this.renderSegHtml(a,b[c]);d(f).forEach(function(a,c){var d=b[c];a&&(d.el=a)}),"bgEvent"===a&&(b=Xb(this.context.view,b,!1)),b=b.filter(function(a){return m(a.el,e.fillSegTag)})}return b},a.prototype.renderSegHtml=function(a,b){var c=null,d=[];return"highlight"!==a&&"businessHours"!==a&&(c={"background-color":b.eventRange.ui.backgroundColor}),"highlight"!==a&&(d=d.concat(b.eventRange.ui.classNames)),"businessHours"===a?d.push("fc-bgevent"):d.push("fc-"+a.toLowerCase()),"<"+this.fillSegTag+(d.length?' class="'+d.join(" ")+'"':"")+(c?' style="'+wc(c)+'"':"")+"></"+this.fillSegTag+">"},a.prototype.detachSegs=function(a,b){var c=this.containerElsByType[a];c&&(c.forEach(k),delete this.containerElsByType[a])},a.prototype.computeSizes=function(a){for(var b in this.segsByType)(a||this.dirtySizeFlags[b])&&this.computeSegSizes(this.segsByType[b])},a.prototype.assignSizes=function(a){for(var b in this.segsByType)(a||this.dirtySizeFlags[b])&&this.assignSegSizes(this.segsByType[b]);this.dirtySizeFlags={}},a.prototype.computeSegSizes=function(a){},a.prototype.assignSegSizes=function(a){},a}(),Rf=function(){function a(a){this.timeZoneName=a}return a}(),Sf=function(){function a(a){this.emitter=new Ve}return a.prototype.destroy=function(){},a.prototype.setMirrorIsVisible=function(a){},a.prototype.setMirrorNeedsRevert=function(a){},a.prototype.setAutoScrollEnabled=function(a){},a}(),Tf={startTime:ja,duration:ja,create:Boolean,sourceId:String},Uf={create:!0},Vf=function(a){function b(b,d){var e=a.call(this,b)||this;return d.innerHTML="",d.appendChild(e.el=c('<div class="fc-row '+e.theme.getClass("headerRow")+'"><table class="'+e.theme.getClass("tableGrid")+'"><thead></thead></table></div>')),e.thead=e.el.querySelector("thead"),e}return ab(b,a),b.prototype.destroy=function(){k(this.el)},b.prototype.render=function(a){var b=a.dates,c=a.datesRepDistinctDays,d=[];a.renderIntroHtml&&d.push(a.renderIntroHtml());for(var e=Pb(this.opt("columnHeaderFormat")||ke(c,b.length)),f=0,g=b;f<g.length;f++){var h=g[f];d.push(le(h,a.dateProfile,c,b.length,e,this.context))}this.isRtl&&d.reverse(),this.thead.innerHTML="<tr>"+d.join("")+"</tr>"},b}(bf),Wf=function(){function a(a,b){for(var c=a.start,d=a.end,e=[],f=[],g=-1;c<d;)b.isHiddenDay(c)?e.push(g+.5):(g++,e.push(g),f.push(c)),c=O(c,1);this.dates=f,this.indices=e,this.cnt=f.length}return a.prototype.sliceRange=function(a){var b=this.getDateDayIndex(a.start),c=this.getDateDayIndex(O(a.end,-1)),d=Math.max(0,b),e=Math.min(this.cnt-1,c);return d=Math.ceil(d),e=Math.floor(e),d<=e?{firstIndex:d,lastIndex:e,isStart:b===d,isEnd:c===e}:null},a.prototype.getDateDayIndex=function(a){var b=this.indices,c=Math.floor(R(this.dates[0],a));return c<0?b[0]-1:c>=b.length?b[b.length-1]+1:b[c]},a}(),Xf=function(){function a(a,b){var c,d,e,f=a.dates;if(b){for(d=f[0].getUTCDay(),c=1;c<f.length&&f[c].getUTCDay()!==d;c++);e=Math.ceil(f.length/c)}else e=1,c=f.length;this.rowCnt=e,this.colCnt=c,this.daySeries=a,this.cells=this.buildCells(),this.headerDates=this.buildHeaderDates()}return a.prototype.buildCells=function(){for(var a=[],b=0;b<this.rowCnt;b++){for(var c=[],d=0;d<this.colCnt;d++)c.push(this.buildCell(b,d));a.push(c)}return a},a.prototype.buildCell=function(a,b){return{date:this.daySeries.dates[a*this.colCnt+b]}},a.prototype.buildHeaderDates=function(){for(var a=[],b=0;b<this.colCnt;b++)a.push(this.cells[0][b].date);return a},a.prototype.sliceRange=function(a){var b=this.colCnt,c=this.daySeries.sliceRange(a),d=[];if(c)for(var e=c.firstIndex,f=c.lastIndex,g=e;g<=f;){var h=Math.floor(g/b),i=Math.min((h+1)*b,f+1);d.push({row:h,firstCol:g%b,lastCol:(i-1)%b,isStart:c.isStart&&g===e,isEnd:c.isEnd&&i-1===f}),g=i}return d},a}(),Yf=function(){function a(){this.sliceBusinessHours=Eb(this._sliceBusinessHours),this.sliceDateSelection=Eb(this._sliceDateSpan),this.sliceEventStore=Eb(this._sliceEventStore),this.sliceEventDrag=Eb(this._sliceInteraction),this.sliceEventResize=Eb(this._sliceInteraction)}return a.prototype.sliceProps=function(a,b,c,d){for(var e=[],f=4;f<arguments.length;f++)e[f-4]=arguments[f];var g=a.eventUiBases,h=this.sliceEventStore.apply(this,[a.eventStore,g,b,c,d].concat(e));return{dateSelectionSegs:this.sliceDateSelection.apply(this,[a.dateSelection,g,d].concat(e)),businessHourSegs:this.sliceBusinessHours.apply(this,[a.businessHours,b,c,d].concat(e)),fgEventSegs:h.fg,bgEventSegs:h.bg,eventDrag:this.sliceEventDrag.apply(this,[a.eventDrag,g,b,c,d].concat(e)),eventResize:this.sliceEventResize.apply(this,[a.eventResize,g,b,c,d].concat(e)),eventSelection:a.eventSelection}},a.prototype.sliceNowDate=function(a,b){for(var c=[],d=2;d<arguments.length;d++)c[d-2]=arguments[d];return this._sliceDateSpan.apply(this,[{range:{start:a,end:P(a,1)},allDay:!1},{},b].concat(c))},a.prototype._sliceBusinessHours=function(a,b,c,d){for(var e=[],f=4;f<arguments.length;f++)e[f-4]=arguments[f];return a?this._sliceEventStore.apply(this,[lb(a,me(b,Boolean(c)),d.calendar),{},b,c,d].concat(e)).bg:[]},a.prototype._sliceEventStore=function(a,b,c,d,e){for(var f=[],g=5;g<arguments.length;g++)f[g-5]=arguments[g];if(a){var h=Vb(a,b,me(c,Boolean(d)),d);return{bg:this.sliceEventRanges(h.bg,e,f),fg:this.sliceEventRanges(h.fg,e,f)}}return{bg:[],fg:[]}},a.prototype._sliceInteraction=function(a,b,c,d,e){for(var f=[],g=5;g<arguments.length;g++)f[g-5]=arguments[g];if(!a)return null;var h=Vb(a.mutatedEvents,b,me(c,Boolean(d)),d);return{segs:this.sliceEventRanges(h.fg,e,f),affectedInstances:a.affectedEvents.instances,isEvent:a.isEvent,sourceSeg:a.origSeg}},a.prototype._sliceDateSpan=function(a,b,c){for(var d=[],e=3;e<arguments.length;e++)d[e-3]=arguments[e];if(!a)return[];for(var f=Od(a,b,c.calendar),g=this.sliceRange.apply(this,[a.range].concat(d)),h=0,i=g;h<i.length;h++){var j=i[h];j.component=c,j.eventRange=f}return g},a.prototype.sliceEventRanges=function(a,b,c){for(var d=[],e=0,f=a;e<f.length;e++){var g=f[e];d.push.apply(d,this.sliceEventRange(g,b,c))}return d},a.prototype.sliceEventRange=function(a,b,c){for(var d=this.sliceRange.apply(this,[a.range].concat(c)),e=0,f=d;e<f.length;e++){var g=f[e];g.component=b,g.eventRange=a,g.isStart=a.isStart&&g.isStart,g.isEnd=a.isEnd&&g.isEnd}return d},a}(),Zf="4.3.1";a.Calendar=Nf,a.Component=bf,a.DateComponent=cf,a.DateEnv=zf,a.DateProfileGenerator=Df,a.DayHeader=Vf,a.DaySeries=Wf,a.DayTable=Xf,a.ElementDragging=Sf,a.ElementScrollController=Ye,a.EmitterMixin=Ve,a.EventApi=Le,a.FgEventRenderer=Pf,a.FillRenderer=Qf,a.Interaction=If,a.Mixin=Ue,a.NamedTimeZoneImpl=Rf,a.PositionCache=We,a.ScrollComponent=$e,a.ScrollController=Xe,a.Slicer=Yf,a.Splitter=Te,a.Theme=_e,a.View=Of,a.WindowScrollController=Ze,a.addDays=O,a.addDurations=pa,a.addMs=P,a.addWeeks=N,a.allowContextMenu=La,a.allowSelection=Ja,a.appendToElement=g,a.applyAll=Ua,a.applyMutationToEventStore=ac,a.applyStyle=q,a.applyStyleProp=r,a.asRoughMinutes=va,a.asRoughMs=xa,a.asRoughSeconds=wa,a.buildGotoAnchorHtml=Oc,a.buildSegCompareObj=fe,a.capitaliseFirstLetter=Qa,a.combineEventUis=Bc,a.compareByFieldSpec=Oa,a.compareByFieldSpecs=Na,a.compareNumbers=Sa,a.compensateScroll=Aa,a.computeClippingRect=I,a.computeEdges=B,a.computeFallbackHeaderFormat=ke,a.computeHeightAndMargins=F,a.computeInnerRect=C,a.computeRect=D,a.computeVisibleDayRange=Za,a.config=pf,a.constrainPoint=v,a.createDuration=ja,a.createElement=b,a.createEmptyEventStore=qb,a.createEventInstance=Fc,a.createFormatter=Pb,a.createPlugin=Vc,a.cssToStr=wc,a.debounce=Wa,a.diffDates=_a,a.diffDayAndTime=V,a.diffDays=R,a.diffPoints=x,a.diffWeeks=Q,a.diffWholeDays=X,a.diffWholeWeeks=W,a.disableCursor=Ca,a.distributeHeight=Ea,a.elementClosest=l,a.elementMatches=m,a.enableCursor=Da,a.eventTupleToStore=kb,a.filterEventStoreDefs=sb,a.filterHash=eb,a.findChildren=o,a.findElements=n,a.flexibleCompare=Pa,a.forceClassName=p,a.formatDate=ge,a.formatIsoTimeString=Rb,a.formatRange=he,a.getAllDayHtml=Pc,a.getClippingParents=H,a.getDayClasses=Qc,a.getElSeg=Zb,a.getRectCenter=w,a.getRelevantEvents=mb,a.globalDefaults=qf,a.greatestDurationDenominator=za,a.hasBgRendering=Wb,a.htmlEscape=vc,a.htmlToElement=c,a.insertAfterElement=i,a.interactionSettingsStore=Jf,a.interactionSettingsToStore=_d,a.intersectRanges=wb,a.intersectRects=t,a.isArraysEqual=Db,a.isDateSpansEqual=Kd,a.isInt=Ta,a.isInteractionValid=kc,a.isMultiDayRange=$a,a.isPropsEqual=ib,a.isPropsValid=nc,a.isSingleDay=oa,a.isValidDate=ha,a.listenBySelector=K,a.mapHash=fb,a.matchCellWidths=Ga,a.memoize=Eb,a.memoizeOutput=Fb,a.memoizeRendering=Mc,a.mergeEventStores=rb,a.multiplyDuration=ra,a.padStart=Ra,a.parseBusinessHours=Kc,a.parseDragMeta=je,a.parseEventDef=Ec,a.parseFieldSpecs=Ma,a.parseMarker=ld,a.pointInsideRect=s,a.prependToElement=h,a.preventContextMenu=Ka,a.preventDefault=J,a.preventSelection=Ia,a.processScopedUiProps=Ac,a.rangeContainsMarker=Ab,a.rangeContainsRange=zb,a.rangesEqual=xb,a.rangesIntersect=yb,a.refineProps=Xa,a.removeElement=k,a.removeExact=Cb,a.renderDateCell=le,a.requestJson=Xc,a.sliceEventStore=Vb,a.startOfDay=Y,a.subtractInnerElHeight=Ha,a.translateRect=u,a.uncompensateScroll=Ba,a.undistributeHeight=Fa,a.unpromisify=Rc,a.version=Zf,a.whenTransitionDone=M,a.wholeDivideDurations=ya,Object.defineProperty(a,"__esModule",{value:!0})}),function(a,b){"object"==typeof exports&&"undefined"!=typeof module?b(exports,require("@fullcalendar/core")):"function"==typeof define&&define.amd?define(["exports","@fullcalendar/core"],b):(a=a||self,b(a.FullCalendarInteraction={},a.FullCalendar))}(this,function(a,b){"use strict";function c(a,b){function c(){this.constructor=a}s(a,b),a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)}function d(a){return 0===a.button&&!a.ctrlKey}function e(){u++,setTimeout(function(){u--},b.config.touchMouseIgnoreWait)}function f(){v++||window.addEventListener("touchmove",h,{passive:!1})}function g(){--v||window.removeEventListener("touchmove",h,{passive:!1})}function h(a){w&&a.preventDefault()}function i(a){var b=a.tagName;return"HTML"===b||"BODY"===b}function j(a,c){return!a&&!c||Boolean(a)===Boolean(c)&&b.isDateSpansEqual(a.dateSpan,c.dateSpan)}function k(a){var b=a.opt("selectLongPressDelay");return null==b&&(b=a.opt("longPressDelay")),b}function l(a,c,d){var e=a.dateSpan,f=c.dateSpan,g=[e.range.start,e.range.end,f.range.start,f.range.end];g.sort(b.compareNumbers);for(var h={},i=0,j=d;i<j.length;i++){var k=j[i],l=k(a,c);if(l===!1)return null;l&&t(h,l)}return h.range={start:g[0],end:g[3]},h.allDay=e.allDay,h}function m(a,c,d){var e=a.dateSpan,f=c.dateSpan,g=e.range.start,h=f.range.start,i={};e.allDay!==f.allDay&&(i.allDay=f.allDay,i.hasEnd=c.component.opt("allDayMaintainDuration"),f.allDay&&(g=b.startOfDay(g)));var j=b.diffDates(g,h,a.component.dateEnv,a.component===c.component?a.component.largeUnit:null);j.milliseconds&&(i.allDay=!1);for(var k={datesDelta:j,standardProps:i},l=0,m=d;l<m.length;l++){var n=m[l];n(k,a,c)}return k}function n(a){var b=a.opt("eventLongPressDelay");return null==b&&(b=a.opt("longPressDelay")),b}function o(a,c,d,e,f){for(var g=a.component.dateEnv,h=a.dateSpan.range.start,i=c.dateSpan.range.start,j=b.diffDates(h,i,g,a.component.largeUnit),k={},l=0,m=f;l<m.length;l++){var n=m[l],o=n(a,c);if(o===!1)return null;o&&t(k,o)}if(d){if(g.add(e.start,j)<e.end)return k.startDelta=j,k}else if(g.add(e.end,j)>e.start)return k.endDelta=j,k;return null}function p(a,c,d){for(var e=t({},c.leftoverProps),f=0,g=d.pluginSystem.hooks.externalDefTransforms;f<g.length;f++){var h=g[f];t(e,h(a,c))}var i=b.parseEventDef(e,c.sourceId,a.allDay,d.opt("forceEventDuration")||Boolean(c.duration),d),j=a.range.start;a.allDay&&c.startTime&&(j=d.dateEnv.add(j,c.startTime));var k=c.duration?d.dateEnv.add(j,c.duration):d.getDefaultEventEnd(a.allDay,j),l=b.createEventInstance(i.defId,{start:j,end:k});return{def:i,instance:l}}function q(a){var c=r(a,"event"),d=c?JSON.parse(c):{create:!1};return b.parseDragMeta(d)}function r(a,c){var d=b.config.dataAttrPrefix,e=(d?d+"-":"")+c;return a.getAttribute("data-"+e)||""}var s=function(a,b){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])})(a,b)},t=function(){return t=Object.assign||function(a){for(var b,c=1,d=arguments.length;c<d;c++){b=arguments[c];for(var e in b)Object.prototype.hasOwnProperty.call(b,e)&&(a[e]=b[e])}return a},t.apply(this,arguments)};b.config.touchMouseIgnoreWait=500;var u=0,v=0,w=!1,x=function(){function a(a){var c=this;this.subjectEl=null,this.downEl=null,this.selector="",this.handleSelector="",this.shouldIgnoreMove=!1,this.shouldWatchScroll=!0,this.isDragging=!1,this.isTouchDragging=!1,this.wasTouchScroll=!1,this.handleMouseDown=function(a){if(!c.shouldIgnoreMouse()&&d(a)&&c.tryStart(a)){var b=c.createEventFromMouse(a,!0);c.emitter.trigger("pointerdown",b),c.initScrollWatch(b),c.shouldIgnoreMove||document.addEventListener("mousemove",c.handleMouseMove),document.addEventListener("mouseup",c.handleMouseUp)}},this.handleMouseMove=function(a){var b=c.createEventFromMouse(a);c.recordCoords(b),c.emitter.trigger("pointermove",b)},this.handleMouseUp=function(a){document.removeEventListener("mousemove",c.handleMouseMove),document.removeEventListener("mouseup",c.handleMouseUp),c.emitter.trigger("pointerup",c.createEventFromMouse(a)),c.cleanup()},this.handleTouchStart=function(a){if(c.tryStart(a)){c.isTouchDragging=!0;var b=c.createEventFromTouch(a,!0);c.emitter.trigger("pointerdown",b),c.initScrollWatch(b);var d=a.target;c.shouldIgnoreMove||d.addEventListener("touchmove",c.handleTouchMove),d.addEventListener("touchend",c.handleTouchEnd),d.addEventListener("touchcancel",c.handleTouchEnd),window.addEventListener("scroll",c.handleTouchScroll,!0)}},this.handleTouchMove=function(a){var b=c.createEventFromTouch(a);c.recordCoords(b),c.emitter.trigger("pointermove",b)},this.handleTouchEnd=function(a){if(c.isDragging){var b=a.target;b.removeEventListener("touchmove",c.handleTouchMove),b.removeEventListener("touchend",c.handleTouchEnd),b.removeEventListener("touchcancel",c.handleTouchEnd),window.removeEventListener("scroll",c.handleTouchScroll,!0),c.emitter.trigger("pointerup",c.createEventFromTouch(a)),c.cleanup(),c.isTouchDragging=!1,e()}},this.handleTouchScroll=function(){c.wasTouchScroll=!0},this.handleScroll=function(a){if(!c.shouldIgnoreMove){var b=window.pageXOffset-c.prevScrollX+c.prevPageX,d=window.pageYOffset-c.prevScrollY+c.prevPageY;c.emitter.trigger("pointermove",{origEvent:a,isTouch:c.isTouchDragging,subjectEl:c.subjectEl,pageX:b,pageY:d,deltaX:b-c.origPageX,deltaY:d-c.origPageY})}},this.containerEl=a,this.emitter=new b.EmitterMixin,a.addEventListener("mousedown",this.handleMouseDown),a.addEventListener("touchstart",this.handleTouchStart,{passive:!0}),f()}return a.prototype.destroy=function(){this.containerEl.removeEventListener("mousedown",this.handleMouseDown),this.containerEl.removeEventListener("touchstart",this.handleTouchStart,{passive:!0}),g()},a.prototype.tryStart=function(a){var c=this.querySubjectEl(a),d=a.target;return!(!c||this.handleSelector&&!b.elementClosest(d,this.handleSelector))&&(this.subjectEl=c,this.downEl=d,this.isDragging=!0,this.wasTouchScroll=!1,!0)},a.prototype.cleanup=function(){w=!1,this.isDragging=!1,this.subjectEl=null,this.downEl=null,
this.destroyScrollWatch()},a.prototype.querySubjectEl=function(a){return this.selector?b.elementClosest(a.target,this.selector):this.containerEl},a.prototype.shouldIgnoreMouse=function(){return u||this.isTouchDragging},a.prototype.cancelTouchScroll=function(){this.isDragging&&(w=!0)},a.prototype.initScrollWatch=function(a){this.shouldWatchScroll&&(this.recordCoords(a),window.addEventListener("scroll",this.handleScroll,!0))},a.prototype.recordCoords=function(a){this.shouldWatchScroll&&(this.prevPageX=a.pageX,this.prevPageY=a.pageY,this.prevScrollX=window.pageXOffset,this.prevScrollY=window.pageYOffset)},a.prototype.destroyScrollWatch=function(){this.shouldWatchScroll&&window.removeEventListener("scroll",this.handleScroll,!0)},a.prototype.createEventFromMouse=function(a,b){var c=0,d=0;return b?(this.origPageX=a.pageX,this.origPageY=a.pageY):(c=a.pageX-this.origPageX,d=a.pageY-this.origPageY),{origEvent:a,isTouch:!1,subjectEl:this.subjectEl,pageX:a.pageX,pageY:a.pageY,deltaX:c,deltaY:d}},a.prototype.createEventFromTouch=function(a,b){var c,d,e=a.touches,f=0,g=0;return e&&e.length?(c=e[0].pageX,d=e[0].pageY):(c=a.pageX,d=a.pageY),b?(this.origPageX=c,this.origPageY=d):(f=c-this.origPageX,g=d-this.origPageY),{origEvent:a,isTouch:!0,subjectEl:this.subjectEl,pageX:c,pageY:d,deltaX:f,deltaY:g}},a}(),y=function(){function a(){this.isVisible=!1,this.sourceEl=null,this.mirrorEl=null,this.sourceElRect=null,this.parentNode=document.body,this.zIndex=9999,this.revertDuration=0}return a.prototype.start=function(a,b,c){this.sourceEl=a,this.sourceElRect=this.sourceEl.getBoundingClientRect(),this.origScreenX=b-window.pageXOffset,this.origScreenY=c-window.pageYOffset,this.deltaX=0,this.deltaY=0,this.updateElPosition()},a.prototype.handleMove=function(a,b){this.deltaX=a-window.pageXOffset-this.origScreenX,this.deltaY=b-window.pageYOffset-this.origScreenY,this.updateElPosition()},a.prototype.setIsVisible=function(a){a?this.isVisible||(this.mirrorEl&&(this.mirrorEl.style.display=""),this.isVisible=a,this.updateElPosition()):this.isVisible&&(this.mirrorEl&&(this.mirrorEl.style.display="none"),this.isVisible=a)},a.prototype.stop=function(a,b){var c=this,d=function(){c.cleanup(),b()};a&&this.mirrorEl&&this.isVisible&&this.revertDuration&&(this.deltaX||this.deltaY)?this.doRevertAnimation(d,this.revertDuration):setTimeout(d,0)},a.prototype.doRevertAnimation=function(a,c){var d=this.mirrorEl,e=this.sourceEl.getBoundingClientRect();d.style.transition="top "+c+"ms,left "+c+"ms",b.applyStyle(d,{left:e.left,top:e.top}),b.whenTransitionDone(d,function(){d.style.transition="",a()})},a.prototype.cleanup=function(){this.mirrorEl&&(b.removeElement(this.mirrorEl),this.mirrorEl=null),this.sourceEl=null},a.prototype.updateElPosition=function(){this.sourceEl&&this.isVisible&&b.applyStyle(this.getMirrorEl(),{left:this.sourceElRect.left+this.deltaX,top:this.sourceElRect.top+this.deltaY})},a.prototype.getMirrorEl=function(){var a=this.sourceElRect,c=this.mirrorEl;return c||(c=this.mirrorEl=this.sourceEl.cloneNode(!0),c.classList.add("fc-unselectable"),c.classList.add("fc-dragging"),b.applyStyle(c,{position:"fixed",zIndex:this.zIndex,visibility:"",boxSizing:"border-box",width:a.right-a.left,height:a.bottom-a.top,right:"auto",bottom:"auto",margin:0}),this.parentNode.appendChild(c)),c},a}(),z=function(a){function b(b,c){var d=a.call(this)||this;return d.handleScroll=function(){d.scrollTop=d.scrollController.getScrollTop(),d.scrollLeft=d.scrollController.getScrollLeft(),d.handleScrollChange()},d.scrollController=b,d.doesListening=c,d.scrollTop=d.origScrollTop=b.getScrollTop(),d.scrollLeft=d.origScrollLeft=b.getScrollLeft(),d.scrollWidth=b.getScrollWidth(),d.scrollHeight=b.getScrollHeight(),d.clientWidth=b.getClientWidth(),d.clientHeight=b.getClientHeight(),d.clientRect=d.computeClientRect(),d.doesListening&&d.getEventTarget().addEventListener("scroll",d.handleScroll),d}return c(b,a),b.prototype.destroy=function(){this.doesListening&&this.getEventTarget().removeEventListener("scroll",this.handleScroll)},b.prototype.getScrollTop=function(){return this.scrollTop},b.prototype.getScrollLeft=function(){return this.scrollLeft},b.prototype.setScrollTop=function(a){this.scrollController.setScrollTop(a),this.doesListening||(this.scrollTop=Math.max(Math.min(a,this.getMaxScrollTop()),0),this.handleScrollChange())},b.prototype.setScrollLeft=function(a){this.scrollController.setScrollLeft(a),this.doesListening||(this.scrollLeft=Math.max(Math.min(a,this.getMaxScrollLeft()),0),this.handleScrollChange())},b.prototype.getClientWidth=function(){return this.clientWidth},b.prototype.getClientHeight=function(){return this.clientHeight},b.prototype.getScrollWidth=function(){return this.scrollWidth},b.prototype.getScrollHeight=function(){return this.scrollHeight},b.prototype.handleScrollChange=function(){},b}(b.ScrollController),A=function(a){function d(c,d){return a.call(this,new b.ElementScrollController(c),d)||this}return c(d,a),d.prototype.getEventTarget=function(){return this.scrollController.el},d.prototype.computeClientRect=function(){return b.computeInnerRect(this.scrollController.el)},d}(z),B=function(a){function d(c){return a.call(this,new b.WindowScrollController,c)||this}return c(d,a),d.prototype.getEventTarget=function(){return window},d.prototype.computeClientRect=function(){return{left:this.scrollLeft,right:this.scrollLeft+this.clientWidth,top:this.scrollTop,bottom:this.scrollTop+this.clientHeight}},d.prototype.handleScrollChange=function(){this.clientRect=this.computeClientRect()},d}(z),C="function"==typeof performance?performance.now:Date.now,D=function(){function a(){var a=this;this.isEnabled=!0,this.scrollQuery=[window,".fc-scroller"],this.edgeThreshold=50,this.maxVelocity=300,this.pointerScreenX=null,this.pointerScreenY=null,this.isAnimating=!1,this.scrollCaches=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.animate=function(){if(a.isAnimating){var b=a.computeBestEdge(a.pointerScreenX+window.pageXOffset,a.pointerScreenY+window.pageYOffset);if(b){var c=C();a.handleSide(b,(c-a.msSinceRequest)/1e3),a.requestAnimation(c)}else a.isAnimating=!1}}}return a.prototype.start=function(a,b){this.isEnabled&&(this.scrollCaches=this.buildCaches(),this.pointerScreenX=null,this.pointerScreenY=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.handleMove(a,b))},a.prototype.handleMove=function(a,b){if(this.isEnabled){var c=a-window.pageXOffset,d=b-window.pageYOffset,e=null===this.pointerScreenY?0:d-this.pointerScreenY,f=null===this.pointerScreenX?0:c-this.pointerScreenX;e<0?this.everMovedUp=!0:e>0&&(this.everMovedDown=!0),f<0?this.everMovedLeft=!0:f>0&&(this.everMovedRight=!0),this.pointerScreenX=c,this.pointerScreenY=d,this.isAnimating||(this.isAnimating=!0,this.requestAnimation(C()))}},a.prototype.stop=function(){if(this.isEnabled){this.isAnimating=!1;for(var a=0,b=this.scrollCaches;a<b.length;a++){var c=b[a];c.destroy()}this.scrollCaches=null}},a.prototype.requestAnimation=function(a){this.msSinceRequest=a,requestAnimationFrame(this.animate)},a.prototype.handleSide=function(a,b){var c=a.scrollCache,d=this.edgeThreshold,e=d-a.distance,f=e*e/(d*d)*this.maxVelocity*b,g=1;switch(a.name){case"left":g=-1;case"right":c.setScrollLeft(c.getScrollLeft()+f*g);break;case"top":g=-1;case"bottom":c.setScrollTop(c.getScrollTop()+f*g)}},a.prototype.computeBestEdge=function(a,b){for(var c=this.edgeThreshold,d=null,e=0,f=this.scrollCaches;e<f.length;e++){var g=f[e],h=g.clientRect,i=a-h.left,j=h.right-a,k=b-h.top,l=h.bottom-b;i>=0&&j>=0&&k>=0&&l>=0&&(k<=c&&this.everMovedUp&&g.canScrollUp()&&(!d||d.distance>k)&&(d={scrollCache:g,name:"top",distance:k}),l<=c&&this.everMovedDown&&g.canScrollDown()&&(!d||d.distance>l)&&(d={scrollCache:g,name:"bottom",distance:l}),i<=c&&this.everMovedLeft&&g.canScrollLeft()&&(!d||d.distance>i)&&(d={scrollCache:g,name:"left",distance:i}),j<=c&&this.everMovedRight&&g.canScrollRight()&&(!d||d.distance>j)&&(d={scrollCache:g,name:"right",distance:j}))}return d},a.prototype.buildCaches=function(){return this.queryScrollEls().map(function(a){return a===window?new B(!1):new A(a,!1)})},a.prototype.queryScrollEls=function(){for(var a=[],b=0,c=this.scrollQuery;b<c.length;b++){var d=c[b];"object"==typeof d?a.push(d):a.push.apply(a,Array.prototype.slice.call(document.querySelectorAll(d)))}return a},a}(),E=function(a){function d(c){var d=a.call(this,c)||this;d.delay=null,d.minDistance=0,d.touchScrollAllowed=!0,d.mirrorNeedsRevert=!1,d.isInteracting=!1,d.isDragging=!1,d.isDelayEnded=!1,d.isDistanceSurpassed=!1,d.delayTimeoutId=null,d.onPointerDown=function(a){d.isDragging||(d.isInteracting=!0,d.isDelayEnded=!1,d.isDistanceSurpassed=!1,b.preventSelection(document.body),b.preventContextMenu(document.body),a.isTouch||a.origEvent.preventDefault(),d.emitter.trigger("pointerdown",a),d.pointer.shouldIgnoreMove||(d.mirror.setIsVisible(!1),d.mirror.start(a.subjectEl,a.pageX,a.pageY),d.startDelay(a),d.minDistance||d.handleDistanceSurpassed(a)))},d.onPointerMove=function(a){if(d.isInteracting){if(d.emitter.trigger("pointermove",a),!d.isDistanceSurpassed){var b=d.minDistance,c=void 0,e=a.deltaX,f=a.deltaY;c=e*e+f*f,c>=b*b&&d.handleDistanceSurpassed(a)}d.isDragging&&("scroll"!==a.origEvent.type&&(d.mirror.handleMove(a.pageX,a.pageY),d.autoScroller.handleMove(a.pageX,a.pageY)),d.emitter.trigger("dragmove",a))}},d.onPointerUp=function(a){d.isInteracting&&(d.isInteracting=!1,b.allowSelection(document.body),b.allowContextMenu(document.body),d.emitter.trigger("pointerup",a),d.isDragging&&(d.autoScroller.stop(),d.tryStopDrag(a)),d.delayTimeoutId&&(clearTimeout(d.delayTimeoutId),d.delayTimeoutId=null))};var e=d.pointer=new x(c);return e.emitter.on("pointerdown",d.onPointerDown),e.emitter.on("pointermove",d.onPointerMove),e.emitter.on("pointerup",d.onPointerUp),d.mirror=new y,d.autoScroller=new D,d}return c(d,a),d.prototype.destroy=function(){this.pointer.destroy()},d.prototype.startDelay=function(a){var b=this;"number"==typeof this.delay?this.delayTimeoutId=setTimeout(function(){b.delayTimeoutId=null,b.handleDelayEnd(a)},this.delay):this.handleDelayEnd(a)},d.prototype.handleDelayEnd=function(a){this.isDelayEnded=!0,this.tryStartDrag(a)},d.prototype.handleDistanceSurpassed=function(a){this.isDistanceSurpassed=!0,this.tryStartDrag(a)},d.prototype.tryStartDrag=function(a){this.isDelayEnded&&this.isDistanceSurpassed&&(this.pointer.wasTouchScroll&&!this.touchScrollAllowed||(this.isDragging=!0,this.mirrorNeedsRevert=!1,this.autoScroller.start(a.pageX,a.pageY),this.emitter.trigger("dragstart",a),this.touchScrollAllowed===!1&&this.pointer.cancelTouchScroll()))},d.prototype.tryStopDrag=function(a){this.mirror.stop(this.mirrorNeedsRevert,this.stopDrag.bind(this,a))},d.prototype.stopDrag=function(a){this.isDragging=!1,this.emitter.trigger("dragend",a)},d.prototype.setIgnoreMove=function(a){this.pointer.shouldIgnoreMove=a},d.prototype.setMirrorIsVisible=function(a){this.mirror.setIsVisible(a)},d.prototype.setMirrorNeedsRevert=function(a){this.mirrorNeedsRevert=a},d.prototype.setAutoScrollEnabled=function(a){this.autoScroller.isEnabled=a},d}(b.ElementDragging),F=function(){function a(a){this.origRect=b.computeRect(a),this.scrollCaches=b.getClippingParents(a).map(function(a){return new A(a,!0)})}return a.prototype.destroy=function(){for(var a=0,b=this.scrollCaches;a<b.length;a++){var c=b[a];c.destroy()}},a.prototype.computeLeft=function(){for(var a=this.origRect.left,b=0,c=this.scrollCaches;b<c.length;b++){var d=c[b];a+=d.origScrollLeft-d.getScrollLeft()}return a},a.prototype.computeTop=function(){for(var a=this.origRect.top,b=0,c=this.scrollCaches;b<c.length;b++){var d=c[b];a+=d.origScrollTop-d.getScrollTop()}return a},a.prototype.isWithinClipping=function(a,c){for(var d={left:a,top:c},e=0,f=this.scrollCaches;e<f.length;e++){var g=f[e];if(!i(g.getEventTarget())&&!b.pointInsideRect(d,g.clientRect))return!1}return!0},a}(),G=function(){function a(a,c){var d=this;this.useSubjectCenter=!1,this.requireInitial=!0,this.initialHit=null,this.movingHit=null,this.finalHit=null,this.handlePointerDown=function(a){var b=d.dragging;d.initialHit=null,d.movingHit=null,d.finalHit=null,d.prepareHits(),d.processFirstCoord(a),d.initialHit||!d.requireInitial?(b.setIgnoreMove(!1),d.emitter.trigger("pointerdown",a)):b.setIgnoreMove(!0)},this.handleDragStart=function(a){d.emitter.trigger("dragstart",a),d.handleMove(a,!0)},this.handleDragMove=function(a){d.emitter.trigger("dragmove",a),d.handleMove(a)},this.handlePointerUp=function(a){d.releaseHits(),d.emitter.trigger("pointerup",a)},this.handleDragEnd=function(a){d.movingHit&&d.emitter.trigger("hitupdate",null,!0,a),d.finalHit=d.movingHit,d.movingHit=null,d.emitter.trigger("dragend",a)},this.droppableStore=c,a.emitter.on("pointerdown",this.handlePointerDown),a.emitter.on("dragstart",this.handleDragStart),a.emitter.on("dragmove",this.handleDragMove),a.emitter.on("pointerup",this.handlePointerUp),a.emitter.on("dragend",this.handleDragEnd),this.dragging=a,this.emitter=new b.EmitterMixin}return a.prototype.processFirstCoord=function(a){var c,d={left:a.pageX,top:a.pageY},e=d,f=a.subjectEl;f!==document&&(c=b.computeRect(f),e=b.constrainPoint(e,c));var g=this.initialHit=this.queryHitForOffset(e.left,e.top);if(g){if(this.useSubjectCenter&&c){var h=b.intersectRects(c,g.rect);h&&(e=b.getRectCenter(h))}this.coordAdjust=b.diffPoints(e,d)}else this.coordAdjust={left:0,top:0}},a.prototype.handleMove=function(a,b){var c=this.queryHitForOffset(a.pageX+this.coordAdjust.left,a.pageY+this.coordAdjust.top);!b&&j(this.movingHit,c)||(this.movingHit=c,this.emitter.trigger("hitupdate",c,!1,a))},a.prototype.prepareHits=function(){this.offsetTrackers=b.mapHash(this.droppableStore,function(a){return a.component.buildPositionCaches(),new F(a.el)})},a.prototype.releaseHits=function(){var a=this.offsetTrackers;for(var b in a)a[b].destroy();this.offsetTrackers={}},a.prototype.queryHitForOffset=function(a,c){var d=this,e=d.droppableStore,f=d.offsetTrackers,g=null;for(var h in e){var i=e[h].component,j=f[h];if(j.isWithinClipping(a,c)){var k=j.computeLeft(),l=j.computeTop(),m=a-k,n=c-l,o=j.origRect,p=o.right-o.left,q=o.bottom-o.top;if(m>=0&&m<p&&n>=0&&n<q){var r=i.queryHit(m,n,p,q);!r||i.props.dateProfile&&!b.rangeContainsRange(i.props.dateProfile.activeRange,r.dateSpan.range)||g&&!(r.layer>g.layer)||(r.rect.left+=k,r.rect.right+=k,r.rect.top+=l,r.rect.bottom+=l,g=r)}}}return g},a}(),H=function(a){function d(c){var d=a.call(this,c)||this;d.handlePointerDown=function(a){var b=d.dragging;b.setIgnoreMove(!d.component.isValidDateDownEl(b.pointer.downEl))},d.handleDragEnd=function(a){var b=d.component,c=d.dragging.pointer;if(!c.wasTouchScroll){var e=d.hitDragging,f=e.initialHit,g=e.finalHit;f&&g&&j(f,g)&&b.calendar.triggerDateClick(f.dateSpan,f.dayEl,b.view,a.origEvent)}};var e=c.component;d.dragging=new E(e.el),d.dragging.autoScroller.isEnabled=!1;var f=d.hitDragging=new G(d.dragging,b.interactionSettingsToStore(c));return f.emitter.on("pointerdown",d.handlePointerDown),f.emitter.on("dragend",d.handleDragEnd),d}return c(d,a),d.prototype.destroy=function(){this.dragging.destroy()},d}(b.Interaction),I=function(a){function d(c){var d=a.call(this,c)||this;d.dragSelection=null,d.handlePointerDown=function(a){var b=d,c=b.component,e=b.dragging,f=c.opt("selectable")&&c.isValidDateDownEl(a.origEvent.target);e.setIgnoreMove(!f),e.delay=a.isTouch?k(c):null},d.handleDragStart=function(a){d.component.calendar.unselect(a)},d.handleHitUpdate=function(a,c){var e=d.component.calendar,f=null,g=!1;a&&(f=l(d.hitDragging.initialHit,a,e.pluginSystem.hooks.dateSelectionTransformers),f&&d.component.isDateSelectionValid(f)||(g=!0,f=null)),f?e.dispatch({type:"SELECT_DATES",selection:f}):c||e.dispatch({type:"UNSELECT_DATES"}),g?b.disableCursor():b.enableCursor(),c||(d.dragSelection=f)},d.handlePointerUp=function(a){d.dragSelection&&(d.component.calendar.triggerDateSelect(d.dragSelection,a),d.dragSelection=null)};var e=c.component,f=d.dragging=new E(e.el);f.touchScrollAllowed=!1,f.minDistance=e.opt("selectMinDistance")||0,f.autoScroller.isEnabled=e.opt("dragScroll");var g=d.hitDragging=new G(d.dragging,b.interactionSettingsToStore(c));return g.emitter.on("pointerdown",d.handlePointerDown),g.emitter.on("dragstart",d.handleDragStart),g.emitter.on("hitupdate",d.handleHitUpdate),g.emitter.on("pointerup",d.handlePointerUp),d}return c(d,a),d.prototype.destroy=function(){this.dragging.destroy()},d}(b.Interaction),J=function(a){function d(c){var e=a.call(this,c)||this;e.subjectSeg=null,e.isDragging=!1,e.eventRange=null,e.relevantEvents=null,e.receivingCalendar=null,e.validMutation=null,e.mutatedRelevantEvents=null,e.handlePointerDown=function(a){var c=a.origEvent.target,d=e,f=d.component,g=d.dragging,h=g.mirror,i=f.calendar,j=e.subjectSeg=b.getElSeg(a.subjectEl),k=e.eventRange=j.eventRange,l=k.instance.instanceId;e.relevantEvents=b.getRelevantEvents(i.state.eventStore,l),g.minDistance=a.isTouch?0:f.opt("eventDragMinDistance"),g.delay=a.isTouch&&l!==f.props.eventSelection?n(f):null,h.parentNode=i.el,h.revertDuration=f.opt("dragRevertDuration");var m=f.isValidSegDownEl(c)&&!b.elementClosest(c,".fc-resizer");g.setIgnoreMove(!m),e.isDragging=m&&a.subjectEl.classList.contains("fc-draggable")},e.handleDragStart=function(a){var c=e.component.calendar,d=e.eventRange,f=d.instance.instanceId;a.isTouch?f!==e.component.props.eventSelection&&c.dispatch({type:"SELECT_EVENT",eventInstanceId:f}):c.dispatch({type:"UNSELECT_EVENT"}),e.isDragging&&(c.unselect(a),c.publiclyTrigger("eventDragStart",[{el:e.subjectSeg.el,event:new b.EventApi(c,d.def,d.instance),jsEvent:a.origEvent,view:e.component.view}]))},e.handleHitUpdate=function(a,c){if(e.isDragging){var d=e.relevantEvents,f=e.hitDragging.initialHit,g=e.component.calendar,h=null,i=null,k=null,l=!1,n={affectedEvents:d,mutatedEvents:b.createEmptyEventStore(),isEvent:!0,origSeg:e.subjectSeg};if(a){var o=a.component;h=o.calendar,g===h||o.opt("editable")&&o.opt("droppable")?(i=m(f,a,h.pluginSystem.hooks.eventDragMutationMassagers),i&&(k=b.applyMutationToEventStore(d,h.eventUiBases,i,h),n.mutatedEvents=k,o.isInteractionValid(n)||(l=!0,i=null,k=null,n.mutatedEvents=b.createEmptyEventStore()))):h=null}e.displayDrag(h,n),l?b.disableCursor():b.enableCursor(),c||(g===h&&j(f,a)&&(i=null),e.dragging.setMirrorNeedsRevert(!i),e.dragging.setMirrorIsVisible(!a||!document.querySelector(".fc-mirror")),e.receivingCalendar=h,e.validMutation=i,e.mutatedRelevantEvents=k)}},e.handlePointerUp=function(){e.isDragging||e.cleanup()},e.handleDragEnd=function(a){if(e.isDragging){var c=e.component.calendar,d=e.component.view,f=e,g=f.receivingCalendar,h=f.validMutation,i=e.eventRange.def,j=e.eventRange.instance,k=new b.EventApi(c,i,j),l=e.relevantEvents,m=e.mutatedRelevantEvents,n=e.hitDragging.finalHit;if(e.clearDrag(),c.publiclyTrigger("eventDragStop",[{el:e.subjectSeg.el,event:k,jsEvent:a.origEvent,view:d}]),h){if(g===c){c.dispatch({type:"MERGE_EVENTS",eventStore:m});for(var o={},p=0,q=c.pluginSystem.hooks.eventDropTransformers;p<q.length;p++){var r=q[p];t(o,r(h,c))}var s=t({},o,{el:a.subjectEl,delta:h.datesDelta,oldEvent:k,event:new b.EventApi(c,m.defs[i.defId],j?m.instances[j.instanceId]:null),revert:function(){c.dispatch({type:"MERGE_EVENTS",eventStore:l})},jsEvent:a.origEvent,view:d});c.publiclyTrigger("eventDrop",[s])}else if(g){c.publiclyTrigger("eventLeave",[{draggedEl:a.subjectEl,event:k,view:d}]),c.dispatch({type:"REMOVE_EVENT_INSTANCES",instances:e.mutatedRelevantEvents.instances}),g.dispatch({type:"MERGE_EVENTS",eventStore:e.mutatedRelevantEvents}),a.isTouch&&g.dispatch({type:"SELECT_EVENT",eventInstanceId:j.instanceId});var u=t({},g.buildDatePointApi(n.dateSpan),{draggedEl:a.subjectEl,jsEvent:a.origEvent,view:n.component});g.publiclyTrigger("drop",[u]),g.publiclyTrigger("eventReceive",[{draggedEl:a.subjectEl,event:new b.EventApi(g,m.defs[i.defId],m.instances[j.instanceId]),view:n.component}])}}else c.publiclyTrigger("_noEventDrop")}e.cleanup()};var f=e.component,g=e.dragging=new E(f.el);g.pointer.selector=d.SELECTOR,g.touchScrollAllowed=!1,g.autoScroller.isEnabled=f.opt("dragScroll");var h=e.hitDragging=new G(e.dragging,b.interactionSettingsStore);return h.useSubjectCenter=c.useEventCenter,h.emitter.on("pointerdown",e.handlePointerDown),h.emitter.on("dragstart",e.handleDragStart),h.emitter.on("hitupdate",e.handleHitUpdate),h.emitter.on("pointerup",e.handlePointerUp),h.emitter.on("dragend",e.handleDragEnd),e}return c(d,a),d.prototype.destroy=function(){this.dragging.destroy()},d.prototype.displayDrag=function(a,c){var d=this.component.calendar,e=this.receivingCalendar;e&&e!==a&&(e===d?e.dispatch({type:"SET_EVENT_DRAG",state:{affectedEvents:c.affectedEvents,mutatedEvents:b.createEmptyEventStore(),isEvent:!0,origSeg:c.origSeg}}):e.dispatch({type:"UNSET_EVENT_DRAG"})),a&&a.dispatch({type:"SET_EVENT_DRAG",state:c})},d.prototype.clearDrag=function(){var a=this.component.calendar,b=this.receivingCalendar;b&&b.dispatch({type:"UNSET_EVENT_DRAG"}),a!==b&&a.dispatch({type:"UNSET_EVENT_DRAG"})},d.prototype.cleanup=function(){this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingCalendar=null,this.validMutation=null,this.mutatedRelevantEvents=null},d.SELECTOR=".fc-draggable, .fc-resizable",d}(b.Interaction),K=function(a){function d(c){var d=a.call(this,c)||this;d.draggingSeg=null,d.eventRange=null,d.relevantEvents=null,d.validMutation=null,d.mutatedRelevantEvents=null,d.handlePointerDown=function(a){var b=d.component,c=d.querySeg(a),e=d.eventRange=c.eventRange;d.dragging.minDistance=b.opt("eventDragMinDistance"),d.dragging.setIgnoreMove(!d.component.isValidSegDownEl(a.origEvent.target)||a.isTouch&&d.component.props.eventSelection!==e.instance.instanceId)},d.handleDragStart=function(a){var c=d.component.calendar,e=d.eventRange;d.relevantEvents=b.getRelevantEvents(c.state.eventStore,d.eventRange.instance.instanceId),d.draggingSeg=d.querySeg(a),c.unselect(),c.publiclyTrigger("eventResizeStart",[{el:d.draggingSeg.el,event:new b.EventApi(c,e.def,e.instance),jsEvent:a.origEvent,view:d.component.view}])},d.handleHitUpdate=function(a,c,e){var f=d.component.calendar,g=d.relevantEvents,h=d.hitDragging.initialHit,i=d.eventRange.instance,k=null,l=null,m=!1,n={affectedEvents:g,mutatedEvents:b.createEmptyEventStore(),isEvent:!0,origSeg:d.draggingSeg};a&&(k=o(h,a,e.subjectEl.classList.contains("fc-start-resizer"),i.range,f.pluginSystem.hooks.eventResizeJoinTransforms)),k&&(l=b.applyMutationToEventStore(g,f.eventUiBases,k,f),n.mutatedEvents=l,d.component.isInteractionValid(n)||(m=!0,k=null,l=null,n.mutatedEvents=null)),l?f.dispatch({type:"SET_EVENT_RESIZE",state:n}):f.dispatch({type:"UNSET_EVENT_RESIZE"}),m?b.disableCursor():b.enableCursor(),c||(k&&j(h,a)&&(k=null),d.validMutation=k,d.mutatedRelevantEvents=l)},d.handleDragEnd=function(a){var c=d.component.calendar,e=d.component.view,f=d.eventRange.def,g=d.eventRange.instance,h=new b.EventApi(c,f,g),i=d.relevantEvents,j=d.mutatedRelevantEvents;c.publiclyTrigger("eventResizeStop",[{el:d.draggingSeg.el,event:h,jsEvent:a.origEvent,view:e}]),d.validMutation?(c.dispatch({type:"MERGE_EVENTS",eventStore:j}),c.publiclyTrigger("eventResize",[{el:d.draggingSeg.el,startDelta:d.validMutation.startDelta||b.createDuration(0),endDelta:d.validMutation.endDelta||b.createDuration(0),prevEvent:h,event:new b.EventApi(c,j.defs[f.defId],g?j.instances[g.instanceId]:null),revert:function(){c.dispatch({type:"MERGE_EVENTS",eventStore:i})},jsEvent:a.origEvent,view:e}])):c.publiclyTrigger("_noEventResize"),d.draggingSeg=null,d.relevantEvents=null,d.validMutation=null};var e=c.component,f=d.dragging=new E(e.el);f.pointer.selector=".fc-resizer",f.touchScrollAllowed=!1,f.autoScroller.isEnabled=e.opt("dragScroll");var g=d.hitDragging=new G(d.dragging,b.interactionSettingsToStore(c));return g.emitter.on("pointerdown",d.handlePointerDown),g.emitter.on("dragstart",d.handleDragStart),g.emitter.on("hitupdate",d.handleHitUpdate),g.emitter.on("dragend",d.handleDragEnd),d}return c(d,a),d.prototype.destroy=function(){this.dragging.destroy()},d.prototype.querySeg=function(a){return b.getElSeg(b.elementClosest(a.subjectEl,this.component.fgSegSelector))},d}(b.Interaction),L=function(){function a(a){var c=this;this.isRecentPointerDateSelect=!1,this.onSelect=function(a){a.jsEvent&&(c.isRecentPointerDateSelect=!0)},this.onDocumentPointerUp=function(a){var d=c,e=d.calendar,f=d.documentPointer,g=e.state;if(!f.wasTouchScroll){if(g.dateSelection&&!c.isRecentPointerDateSelect){var h=e.viewOpt("unselectAuto"),i=e.viewOpt("unselectCancel");!h||h&&b.elementClosest(f.downEl,i)||e.unselect(a)}g.eventSelection&&!b.elementClosest(f.downEl,J.SELECTOR)&&e.dispatch({type:"UNSELECT_EVENT"})}c.isRecentPointerDateSelect=!1},this.calendar=a;var d=this.documentPointer=new x(document);d.shouldIgnoreMove=!0,d.shouldWatchScroll=!1,d.emitter.on("pointerup",this.onDocumentPointerUp),a.on("select",this.onSelect)}return a.prototype.destroy=function(){this.calendar.off("select",this.onSelect),this.documentPointer.destroy()},a}(),M=function(){function a(a,c){var d=this;this.receivingCalendar=null,this.droppableEvent=null,this.suppliedDragMeta=null,this.dragMeta=null,this.handleDragStart=function(a){d.dragMeta=d.buildDragMeta(a.subjectEl)},this.handleHitUpdate=function(a,c,e){var f=d.hitDragging.dragging,g=null,h=null,i=!1,j={affectedEvents:b.createEmptyEventStore(),mutatedEvents:b.createEmptyEventStore(),isEvent:d.dragMeta.create,origSeg:null};a&&(g=a.component.calendar,d.canDropElOnCalendar(e.subjectEl,g)&&(h=p(a.dateSpan,d.dragMeta,g),j.mutatedEvents=b.eventTupleToStore(h),i=!b.isInteractionValid(j,g),i&&(j.mutatedEvents=b.createEmptyEventStore(),h=null))),d.displayDrag(g,j),f.setMirrorIsVisible(c||!h||!document.querySelector(".fc-mirror")),i?b.disableCursor():b.enableCursor(),c||(f.setMirrorNeedsRevert(!h),d.receivingCalendar=g,d.droppableEvent=h)},this.handleDragEnd=function(a){var c=d,e=c.receivingCalendar,f=c.droppableEvent;if(d.clearDrag(),e&&f){var g=d.hitDragging.finalHit,h=g.component.view,i=d.dragMeta,j=t({},e.buildDatePointApi(g.dateSpan),{draggedEl:a.subjectEl,jsEvent:a.origEvent,view:h});e.publiclyTrigger("drop",[j]),i.create&&(e.dispatch({type:"MERGE_EVENTS",eventStore:b.eventTupleToStore(f)}),a.isTouch&&e.dispatch({type:"SELECT_EVENT",eventInstanceId:f.instance.instanceId}),e.publiclyTrigger("eventReceive",[{draggedEl:a.subjectEl,event:new b.EventApi(e,f.def,f.instance),view:h}]))}d.receivingCalendar=null,d.droppableEvent=null};var e=this.hitDragging=new G(a,b.interactionSettingsStore);e.requireInitial=!1,e.emitter.on("dragstart",this.handleDragStart),e.emitter.on("hitupdate",this.handleHitUpdate),e.emitter.on("dragend",this.handleDragEnd),this.suppliedDragMeta=c}return a.prototype.buildDragMeta=function(a){return"object"==typeof this.suppliedDragMeta?b.parseDragMeta(this.suppliedDragMeta):"function"==typeof this.suppliedDragMeta?b.parseDragMeta(this.suppliedDragMeta(a)):q(a)},a.prototype.displayDrag=function(a,b){var c=this.receivingCalendar;c&&c!==a&&c.dispatch({type:"UNSET_EVENT_DRAG"}),a&&a.dispatch({type:"SET_EVENT_DRAG",state:b})},a.prototype.clearDrag=function(){this.receivingCalendar&&this.receivingCalendar.dispatch({type:"UNSET_EVENT_DRAG"})},a.prototype.canDropElOnCalendar=function(a,c){var d=c.opt("dropAccept");return"function"==typeof d?d(a):"string"!=typeof d||!d||Boolean(b.elementMatches(a,d))},a}();b.config.dataAttrPrefix="";var N=function(){function a(a,c){var d=this;void 0===c&&(c={}),this.handlePointerDown=function(a){var c=d.dragging,e=d.settings,f=e.minDistance,g=e.longPressDelay;c.minDistance=null!=f?f:a.isTouch?0:b.globalDefaults.eventDragMinDistance,c.delay=a.isTouch?null!=g?g:b.globalDefaults.longPressDelay:0},this.handleDragStart=function(a){a.isTouch&&d.dragging.delay&&a.subjectEl.classList.contains("fc-event")&&d.dragging.mirror.getMirrorEl().classList.add("fc-selected")},this.settings=c;var e=this.dragging=new E(a);e.touchScrollAllowed=!1,null!=c.itemSelector&&(e.pointer.selector=c.itemSelector),null!=c.appendTo&&(e.mirror.parentNode=c.appendTo),e.emitter.on("pointerdown",this.handlePointerDown),e.emitter.on("dragstart",this.handleDragStart),new M(e,c.eventData)}return a.prototype.destroy=function(){this.dragging.destroy()},a}(),O=function(a){function b(b){var c=a.call(this,b)||this;c.shouldIgnoreMove=!1,c.mirrorSelector="",c.currentMirrorEl=null,c.handlePointerDown=function(a){c.emitter.trigger("pointerdown",a),c.shouldIgnoreMove||c.emitter.trigger("dragstart",a)},c.handlePointerMove=function(a){c.shouldIgnoreMove||c.emitter.trigger("dragmove",a)},c.handlePointerUp=function(a){c.emitter.trigger("pointerup",a),c.shouldIgnoreMove||c.emitter.trigger("dragend",a)};var d=c.pointer=new x(b);return d.emitter.on("pointerdown",c.handlePointerDown),d.emitter.on("pointermove",c.handlePointerMove),d.emitter.on("pointerup",c.handlePointerUp),c}return c(b,a),b.prototype.destroy=function(){this.pointer.destroy()},b.prototype.setIgnoreMove=function(a){this.shouldIgnoreMove=a},b.prototype.setMirrorIsVisible=function(a){if(a)this.currentMirrorEl&&(this.currentMirrorEl.style.visibility="",this.currentMirrorEl=null);else{var b=this.mirrorSelector?document.querySelector(this.mirrorSelector):null;b&&(this.currentMirrorEl=b,b.style.visibility="hidden")}},b}(b.ElementDragging),P=function(){function a(a,b){var c=document;a===document||a instanceof Element?(c=a,b=b||{}):b=a||{};var d=this.dragging=new O(c);"string"==typeof b.itemSelector?d.pointer.selector=b.itemSelector:c===document&&(d.pointer.selector="[data-event]"),"string"==typeof b.mirrorSelector&&(d.mirrorSelector=b.mirrorSelector),new M(d,b.eventData)}return a.prototype.destroy=function(){this.dragging.destroy()},a}(),Q=b.createPlugin({componentInteractions:[H,I,J,K],calendarInteractions:[L],elementDraggingImpl:E});a.Draggable=N,a.FeaturefulElementDragging=E,a.PointerDragging=x,a.ThirdPartyDraggable=P,a.default=Q,Object.defineProperty(a,"__esModule",{value:!0})}),function(a,b){"object"==typeof exports&&"undefined"!=typeof module?b(exports,require("@fullcalendar/core")):"function"==typeof define&&define.amd?define(["exports","@fullcalendar/core"],b):(a=a||self,b(a.FullCalendarDayGrid={},a.FullCalendar))}(this,function(a,b){"use strict";function c(a,b){function c(){this.constructor=a}h(a,b),a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)}function d(a,b){var c,d;for(c=0;c<b.length;c++)if(d=b[c],d.firstCol<=a.lastCol&&d.lastCol>=a.firstCol)return!0;return!1}function e(a,b){return a.leftCol-b.leftCol}function f(a,c,d,e){var f=d.dateEnv,g=d.theme,h=b.rangeContainsMarker(c.activeRange,a),i=b.getDayClasses(a,c,d);return i.unshift("fc-day",g.getClass("widgetContent")),'<td class="'+i.join(" ")+'"'+(h?' data-date="'+f.formatIso(a,{omitTime:!0})+'"':"")+(e?" "+e:"")+"></td>"}function g(a,c){var d=new b.DaySeries(a.renderRange,c);return new b.DayTable(d,/year|month|week/.test(a.currentRangeUnit))}var h=function(a,b){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])})(a,b)},i=function(){return i=Object.assign||function(a){for(var b,c=1,d=arguments.length;c<d;c++){b=arguments[c];for(var e in b)Object.prototype.hasOwnProperty.call(b,e)&&(a[e]=b[e])}return a},i.apply(this,arguments)},j=function(a){function d(){return null!==a&&a.apply(this,arguments)||this}return c(d,a),d.prototype.buildRenderRange=function(c,d,e){var f,g=this.dateEnv,h=a.prototype.buildRenderRange.call(this,c,d,e),i=h.start,j=h.end;if(/^(year|month)$/.test(d)&&(i=g.startOfWeek(i),f=g.startOfWeek(j),f.valueOf()!==j.valueOf()&&(j=b.addWeeks(f,1))),this.options.monthMode&&this.options.fixedWeekCount){var k=Math.ceil(b.diffWeeks(i,j));j=b.addWeeks(j,6-k)}return{start:i,end:j}},d}(b.DateProfileGenerator),k=function(){function a(a){var b=this;this.isHidden=!0,this.margin=10,this.documentMousedown=function(a){b.el&&!b.el.contains(a.target)&&b.hide()},this.options=a}return a.prototype.show=function(){
this.isHidden&&(this.el||this.render(),this.el.style.display="",this.position(),this.isHidden=!1,this.trigger("show"))},a.prototype.hide=function(){this.isHidden||(this.el.style.display="none",this.isHidden=!0,this.trigger("hide"))},a.prototype.render=function(){var a=this,c=this.options,d=this.el=b.createElement("div",{className:"fc-popover "+(c.className||""),style:{top:"0",left:"0"}});"function"==typeof c.content&&c.content(d),c.parentEl.appendChild(d),b.listenBySelector(d,"click",".fc-close",function(b){a.hide()}),c.autoHide&&document.addEventListener("mousedown",this.documentMousedown)},a.prototype.destroy=function(){this.hide(),this.el&&(b.removeElement(this.el),this.el=null),document.removeEventListener("mousedown",this.documentMousedown)},a.prototype.position=function(){var a,c,d=this.options,e=this.el,f=e.getBoundingClientRect(),g=b.computeRect(e.offsetParent),h=b.computeClippingRect(d.parentEl);a=d.top||0,c=void 0!==d.left?d.left:void 0!==d.right?d.right-f.width:0,a=Math.min(a,h.bottom-f.height-this.margin),a=Math.max(a,h.top+this.margin),c=Math.min(c,h.right-f.width-this.margin),c=Math.max(c,h.left+this.margin),b.applyStyle(e,{top:a-g.top,left:c-g.left})},a.prototype.trigger=function(a){this.options[a]&&this.options[a].apply(this,Array.prototype.slice.call(arguments,1))},a}(),l=function(a){function d(){return null!==a&&a.apply(this,arguments)||this}return c(d,a),d.prototype.renderSegHtml=function(a,c){var d,e,f=this.context,g=f.view,h=f.options,i=a.eventRange,j=i.def,k=i.ui,l=j.allDay,m=g.computeEventDraggable(j,k),n=l&&a.isStart&&g.computeEventStartResizable(j,k),o=l&&a.isEnd&&g.computeEventEndResizable(j,k),p=this.getSegClasses(a,m,n||o,c),q=b.cssToStr(this.getSkinCss(k)),r="";return p.unshift("fc-day-grid-event","fc-h-event"),a.isStart&&(d=this.getTimeText(i),d&&(r='<span class="fc-time">'+b.htmlEscape(d)+"</span>")),e='<span class="fc-title">'+(b.htmlEscape(j.title||"")||"&nbsp;")+"</span>",'<a class="'+p.join(" ")+'"'+(j.url?' href="'+b.htmlEscape(j.url)+'"':"")+(q?' style="'+q+'"':"")+'><div class="fc-content">'+("rtl"===h.dir?e+" "+r:r+" "+e)+"</div>"+(n?'<div class="fc-resizer fc-start-resizer"></div>':"")+(o?'<div class="fc-resizer fc-end-resizer"></div>':"")+"</a>"},d.prototype.computeEventTimeFormat=function(){return{hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"narrow"}},d.prototype.computeDisplayEventEnd=function(){return!1},d}(b.FgEventRenderer),m=function(a){function f(b){var c=a.call(this,b.context)||this;return c.dayGrid=b,c}return c(f,a),f.prototype.attachSegs=function(a,b){var c=this.rowStructs=this.renderSegRows(a);this.dayGrid.rowEls.forEach(function(a,b){a.querySelector(".fc-content-skeleton > table").appendChild(c[b].tbodyEl)}),b||this.dayGrid.removeSegPopover()},f.prototype.detachSegs=function(){for(var a,c=this.rowStructs||[];a=c.pop();)b.removeElement(a.tbodyEl);this.rowStructs=null},f.prototype.renderSegRows=function(a){var b,c,d=[];for(b=this.groupSegRows(a),c=0;c<b.length;c++)d.push(this.renderSegRow(c,b[c]));return d},f.prototype.renderSegRow=function(a,c){function d(a){for(;g<a;)k=(t[e-1]||[])[g],k?k.rowSpan=(k.rowSpan||1)+1:(k=document.createElement("td"),h.appendChild(k)),s[e][g]=k,t[e][g]=k,g++}var e,f,g,h,i,j,k,l=this.dayGrid,m=l.colCnt,n=l.isRtl,o=this.buildSegLevels(c),p=Math.max(1,o.length),q=document.createElement("tbody"),r=[],s=[],t=[];for(e=0;e<p;e++){if(f=o[e],g=0,h=document.createElement("tr"),r.push([]),s.push([]),t.push([]),f)for(i=0;i<f.length;i++){j=f[i];var u=n?m-1-j.lastCol:j.firstCol,v=n?m-1-j.firstCol:j.lastCol;for(d(u),k=b.createElement("td",{className:"fc-event-container"},j.el),u!==v?k.colSpan=v-u+1:t[e][g]=k;g<=v;)s[e][g]=k,r[e][g]=j,g++;h.appendChild(k)}d(m);var w=l.renderProps.renderIntroHtml();w&&(l.isRtl?b.appendToElement(h,w):b.prependToElement(h,w)),q.appendChild(h)}return{row:a,tbodyEl:q,cellMatrix:s,segMatrix:r,segLevels:o,segs:c}},f.prototype.buildSegLevels=function(a){var b,c,f,g=this.dayGrid,h=g.isRtl,i=g.colCnt,j=[];for(a=this.sortEventSegs(a),b=0;b<a.length;b++){for(c=a[b],f=0;f<j.length&&d(c,j[f]);f++);c.level=f,c.leftCol=h?i-1-c.lastCol:c.firstCol,c.rightCol=h?i-1-c.firstCol:c.lastCol,(j[f]||(j[f]=[])).push(c)}for(f=0;f<j.length;f++)j[f].sort(e);return j},f.prototype.groupSegRows=function(a){var b,c=[];for(b=0;b<this.dayGrid.rowCnt;b++)c.push([]);for(b=0;b<a.length;b++)c[a[b].row].push(a[b]);return c},f.prototype.computeDisplayEventEnd=function(){return 1===this.dayGrid.colCnt},f}(l),n=function(a){function d(){return null!==a&&a.apply(this,arguments)||this}return c(d,a),d.prototype.attachSegs=function(a,c){var d=c.sourceSeg,e=this.rowStructs=this.renderSegRows(a);this.dayGrid.rowEls.forEach(function(a,c){var f,g,h=b.htmlToElement('<div class="fc-mirror-skeleton"><table></table></div>');d&&d.row===c?f=d.el:(f=a.querySelector(".fc-content-skeleton tbody"),f||(f=a.querySelector(".fc-content-skeleton table"))),g=f.getBoundingClientRect().top-a.getBoundingClientRect().top,h.style.top=g+"px",h.querySelector("table").appendChild(e[c].tbodyEl),a.appendChild(h)})},d}(m),o='<td style="pointer-events:none"></td>',p=function(a){function d(b){var c=a.call(this,b.context)||this;return c.fillSegTag="td",c.dayGrid=b,c}return c(d,a),d.prototype.renderSegs=function(b,c){"bgEvent"===b&&(c=c.filter(function(a){return a.eventRange.def.allDay})),a.prototype.renderSegs.call(this,b,c)},d.prototype.attachSegs=function(a,b){var c,d,e,f=[];for(c=0;c<b.length;c++)d=b[c],e=this.renderFillRow(a,d),this.dayGrid.rowEls[d.row].appendChild(e),f.push(e);return f},d.prototype.renderFillRow=function(a,c){var d,e,f,g=this.dayGrid,h=g.colCnt,i=g.isRtl,j=i?h-1-c.lastCol:c.firstCol,k=i?h-1-c.firstCol:c.lastCol,l=j,m=k+1;d="businessHours"===a?"bgevent":a.toLowerCase(),e=b.htmlToElement('<div class="fc-'+d+'-skeleton"><table><tr></tr></table></div>'),f=e.getElementsByTagName("tr")[0],l>0&&b.appendToElement(f,new Array(l+1).join(o)),c.el.colSpan=m-l,f.appendChild(c.el),m<h&&b.appendToElement(f,new Array(h-m+1).join(o));var n=g.renderProps.renderIntroHtml();return n&&(g.isRtl?b.appendToElement(f,n):b.prependToElement(f,n)),e},d}(b.FillRenderer),q=function(a){function d(c,d){var e=a.call(this,c,d)||this,f=e.eventRenderer=new r(e),g=e.renderFrame=b.memoizeRendering(e._renderFrame);return e.renderFgEvents=b.memoizeRendering(f.renderSegs.bind(f),f.unrender.bind(f),[g]),e.renderEventSelection=b.memoizeRendering(f.selectByInstanceId.bind(f),f.unselectByInstanceId.bind(f),[e.renderFgEvents]),e.renderEventDrag=b.memoizeRendering(f.hideByHash.bind(f),f.showByHash.bind(f),[g]),e.renderEventResize=b.memoizeRendering(f.hideByHash.bind(f),f.showByHash.bind(f),[g]),c.calendar.registerInteractiveComponent(e,{el:e.el,useEventCenter:!1}),e}return c(d,a),d.prototype.render=function(a){this.renderFrame(a.date),this.renderFgEvents(a.fgSegs),this.renderEventSelection(a.eventSelection),this.renderEventDrag(a.eventDragInstances),this.renderEventResize(a.eventResizeInstances)},d.prototype.destroy=function(){a.prototype.destroy.call(this),this.renderFrame.unrender(),this.calendar.unregisterInteractiveComponent(this)},d.prototype._renderFrame=function(a){var c=this,d=c.theme,e=c.dateEnv,f=e.format(a,b.createFormatter(this.opt("dayPopoverFormat")));this.el.innerHTML='<div class="fc-header '+d.getClass("popoverHeader")+'"><span class="fc-title">'+b.htmlEscape(f)+'</span><span class="fc-close '+d.getIconClass("close")+'"></span></div><div class="fc-body '+d.getClass("popoverContent")+'"><div class="fc-event-container"></div></div>',this.segContainerEl=this.el.querySelector(".fc-event-container")},d.prototype.queryHit=function(a,c,d,e){var f=this.props.date;if(a<d&&c<e)return{component:this,dateSpan:{allDay:!0,range:{start:f,end:b.addDays(f,1)}},dayEl:this.el,rect:{left:0,top:0,right:d,bottom:e},layer:1}},d}(b.DateComponent),r=function(a){function d(b){var c=a.call(this,b.context)||this;return c.dayTile=b,c}return c(d,a),d.prototype.attachSegs=function(a){for(var b=0,c=a;b<c.length;b++){var d=c[b];this.dayTile.segContainerEl.appendChild(d.el)}},d.prototype.detachSegs=function(a){for(var c=0,d=a;c<d.length;c++){var e=d[c];b.removeElement(e.el)}},d}(l),s=function(){function a(a){this.context=a}return a.prototype.renderHtml=function(a){var b=[];a.renderIntroHtml&&b.push(a.renderIntroHtml());for(var c=0,d=a.cells;c<d.length;c++){var e=d[c];b.push(f(e.date,a.dateProfile,this.context,e.htmlAttrs))}return a.cells.length||b.push('<td class="fc-day '+this.context.theme.getClass("widgetContent")+'"></td>'),"rtl"===this.context.options.dir&&b.reverse(),"<tr>"+b.join("")+"</tr>"},a}(),t=b.createFormatter({day:"numeric"}),u=b.createFormatter({week:"numeric"}),v=function(a){function d(c,d,e){var f=a.call(this,c,d)||this;f.bottomCoordPadding=0,f.isCellSizesDirty=!1;var g=f.eventRenderer=new m(f),h=f.fillRenderer=new p(f);f.mirrorRenderer=new n(f);var i=f.renderCells=b.memoizeRendering(f._renderCells,f._unrenderCells);return f.renderBusinessHours=b.memoizeRendering(h.renderSegs.bind(h,"businessHours"),h.unrender.bind(h,"businessHours"),[i]),f.renderDateSelection=b.memoizeRendering(h.renderSegs.bind(h,"highlight"),h.unrender.bind(h,"highlight"),[i]),f.renderBgEvents=b.memoizeRendering(h.renderSegs.bind(h,"bgEvent"),h.unrender.bind(h,"bgEvent"),[i]),f.renderFgEvents=b.memoizeRendering(g.renderSegs.bind(g),g.unrender.bind(g),[i]),f.renderEventSelection=b.memoizeRendering(g.selectByInstanceId.bind(g),g.unselectByInstanceId.bind(g),[f.renderFgEvents]),f.renderEventDrag=b.memoizeRendering(f._renderEventDrag,f._unrenderEventDrag,[i]),f.renderEventResize=b.memoizeRendering(f._renderEventResize,f._unrenderEventResize,[i]),f.renderProps=e,f}return c(d,a),d.prototype.render=function(a){var b=a.cells;this.rowCnt=b.length,this.colCnt=b[0].length,this.renderCells(b,a.isRigid),this.renderBusinessHours(a.businessHourSegs),this.renderDateSelection(a.dateSelectionSegs),this.renderBgEvents(a.bgEventSegs),this.renderFgEvents(a.fgEventSegs),this.renderEventSelection(a.eventSelection),this.renderEventDrag(a.eventDrag),this.renderEventResize(a.eventResize),this.segPopoverTile&&this.updateSegPopoverTile()},d.prototype.destroy=function(){a.prototype.destroy.call(this),this.renderCells.unrender()},d.prototype.getCellRange=function(a,c){var d=this.props.cells[a][c].date,e=b.addDays(d,1);return{start:d,end:e}},d.prototype.updateSegPopoverTile=function(a,b){var c=this.props;this.segPopoverTile.receiveProps({date:a||this.segPopoverTile.props.date,fgSegs:b||this.segPopoverTile.props.fgSegs,eventSelection:c.eventSelection,eventDragInstances:c.eventDrag?c.eventDrag.affectedInstances:null,eventResizeInstances:c.eventResize?c.eventResize.affectedInstances:null})},d.prototype._renderCells=function(a,c){var d,e,f=this,g=f.view,h=f.dateEnv,i=this,j=i.rowCnt,k=i.colCnt,l="";for(d=0;d<j;d++)l+=this.renderDayRowHtml(d,c);for(this.el.innerHTML=l,this.rowEls=b.findElements(this.el,".fc-row"),this.cellEls=b.findElements(this.el,".fc-day, .fc-disabled-day"),this.isRtl&&this.cellEls.reverse(),this.rowPositions=new b.PositionCache(this.el,this.rowEls,!1,!0),this.colPositions=new b.PositionCache(this.el,this.cellEls.slice(0,k),!0,!1),d=0;d<j;d++)for(e=0;e<k;e++)this.publiclyTrigger("dayRender",[{date:h.toDate(a[d][e].date),el:this.getCellEl(d,e),view:g}]);this.isCellSizesDirty=!0},d.prototype._unrenderCells=function(){this.removeSegPopover()},d.prototype.renderDayRowHtml=function(a,b){var c=this.theme,d=["fc-row","fc-week",c.getClass("dayRow")];b&&d.push("fc-rigid");var e=new s(this.context);return'<div class="'+d.join(" ")+'"><div class="fc-bg"><table class="'+c.getClass("tableGrid")+'">'+e.renderHtml({cells:this.props.cells[a],dateProfile:this.props.dateProfile,renderIntroHtml:this.renderProps.renderBgIntroHtml})+'</table></div><div class="fc-content-skeleton"><table>'+(this.getIsNumbersVisible()?"<thead>"+this.renderNumberTrHtml(a)+"</thead>":"")+"</table></div></div>"},d.prototype.getIsNumbersVisible=function(){return this.getIsDayNumbersVisible()||this.renderProps.cellWeekNumbersVisible||this.renderProps.colWeekNumbersVisible},d.prototype.getIsDayNumbersVisible=function(){return this.rowCnt>1},d.prototype.renderNumberTrHtml=function(a){var b=this.renderProps.renderNumberIntroHtml(a,this);return"<tr>"+(this.isRtl?"":b)+this.renderNumberCellsHtml(a)+(this.isRtl?b:"")+"</tr>"},d.prototype.renderNumberCellsHtml=function(a){var b,c,d=[];for(b=0;b<this.colCnt;b++)c=this.props.cells[a][b].date,d.push(this.renderNumberCellHtml(c));return this.isRtl&&d.reverse(),d.join("")},d.prototype.renderNumberCellHtml=function(a){var c,d,e=this,f=e.view,g=e.dateEnv,h="",i=b.rangeContainsMarker(this.props.dateProfile.activeRange,a),j=this.getIsDayNumbersVisible()&&i;return j||this.renderProps.cellWeekNumbersVisible?(c=b.getDayClasses(a,this.props.dateProfile,this.context),c.unshift("fc-day-top"),this.renderProps.cellWeekNumbersVisible&&(d=g.weekDow),h+='<td class="'+c.join(" ")+'"'+(i?' data-date="'+g.formatIso(a,{omitTime:!0})+'"':"")+">",this.renderProps.cellWeekNumbersVisible&&a.getUTCDay()===d&&(h+=b.buildGotoAnchorHtml(f,{date:a,type:"week"},{class:"fc-week-number"},g.format(a,u))),j&&(h+=b.buildGotoAnchorHtml(f,a,{class:"fc-day-number"},g.format(a,t))),h+="</td>"):"<td></td>"},d.prototype.updateSize=function(a){var b=this,c=b.fillRenderer,d=b.eventRenderer,e=b.mirrorRenderer;(a||this.isCellSizesDirty||this.view.calendar.isEventsUpdated)&&(this.buildPositionCaches(),this.isCellSizesDirty=!1),c.computeSizes(a),d.computeSizes(a),e.computeSizes(a),c.assignSizes(a),d.assignSizes(a),e.assignSizes(a)},d.prototype.buildPositionCaches=function(){this.buildColPositions(),this.buildRowPositions()},d.prototype.buildColPositions=function(){this.colPositions.build()},d.prototype.buildRowPositions=function(){this.rowPositions.build(),this.rowPositions.bottoms[this.rowCnt-1]+=this.bottomCoordPadding},d.prototype.positionToHit=function(a,b){var c=this,d=c.colPositions,e=c.rowPositions,f=d.leftToIndex(a),g=e.topToIndex(b);if(null!=g&&null!=f)return{row:g,col:f,dateSpan:{range:this.getCellRange(g,f),allDay:!0},dayEl:this.getCellEl(g,f),relativeRect:{left:d.lefts[f],right:d.rights[f],top:e.tops[g],bottom:e.bottoms[g]}}},d.prototype.getCellEl=function(a,b){return this.cellEls[a*this.colCnt+b]},d.prototype._renderEventDrag=function(a){a&&(this.eventRenderer.hideByHash(a.affectedInstances),this.fillRenderer.renderSegs("highlight",a.segs))},d.prototype._unrenderEventDrag=function(a){a&&(this.eventRenderer.showByHash(a.affectedInstances),this.fillRenderer.unrender("highlight"))},d.prototype._renderEventResize=function(a){a&&(this.eventRenderer.hideByHash(a.affectedInstances),this.fillRenderer.renderSegs("highlight",a.segs),this.mirrorRenderer.renderSegs(a.segs,{isResizing:!0,sourceSeg:a.sourceSeg}))},d.prototype._unrenderEventResize=function(a){a&&(this.eventRenderer.showByHash(a.affectedInstances),this.fillRenderer.unrender("highlight"),this.mirrorRenderer.unrender(a.segs,{isResizing:!0,sourceSeg:a.sourceSeg}))},d.prototype.removeSegPopover=function(){this.segPopover&&this.segPopover.hide()},d.prototype.limitRows=function(a){var b,c,d=this.eventRenderer.rowStructs||[];for(b=0;b<d.length;b++)this.unlimitRow(b),c=!!a&&("number"==typeof a?a:this.computeRowLevelLimit(b)),c!==!1&&this.limitRow(b,c)},d.prototype.computeRowLevelLimit=function(a){var c,d,e=this.rowEls[a],f=e.getBoundingClientRect().bottom,g=b.findChildren(this.eventRenderer.rowStructs[a].tbodyEl);for(c=0;c<g.length;c++)if(d=g[c],d.classList.remove("fc-limited"),d.getBoundingClientRect().bottom>f)return c;return!1},d.prototype.limitRow=function(a,c){var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s=this,t=this,u=t.colCnt,v=t.isRtl,w=this.eventRenderer.rowStructs[a],x=[],y=0,z=function(d){for(;y<d;)i=s.getCellSegs(a,y,c),i.length&&(l=e[c-1][y],r=s.renderMoreLink(a,y,i),q=b.createElement("div",null,r),l.appendChild(q),x.push(q)),y++};if(c&&c<w.segLevels.length){for(d=w.segLevels[c-1],e=w.cellMatrix,f=b.findChildren(w.tbodyEl).slice(c),f.forEach(function(a){a.classList.add("fc-limited")}),g=0;g<d.length;g++){h=d[g];var A=v?u-1-h.lastCol:h.firstCol,B=v?u-1-h.firstCol:h.lastCol;for(z(A),k=[],j=0;y<=B;)i=this.getCellSegs(a,y,c),k.push(i),j+=i.length,y++;if(j){for(l=e[c-1][A],m=l.rowSpan||1,n=[],o=0;o<k.length;o++)p=b.createElement("td",{className:"fc-more-cell",rowSpan:m}),i=k[o],r=this.renderMoreLink(a,A+o,[h].concat(i)),q=b.createElement("div",null,r),p.appendChild(q),n.push(p),x.push(p);l.classList.add("fc-limited"),b.insertAfterElement(l,n),f.push(l)}}z(this.colCnt),w.moreEls=x,w.limitedEls=f}},d.prototype.unlimitRow=function(a){var c=this.eventRenderer.rowStructs[a];c.moreEls&&(c.moreEls.forEach(b.removeElement),c.moreEls=null),c.limitedEls&&(c.limitedEls.forEach(function(a){a.classList.remove("fc-limited")}),c.limitedEls=null)},d.prototype.renderMoreLink=function(a,c,d){var e=this,f=this,g=f.view,h=f.dateEnv,i=b.createElement("a",{className:"fc-more"});return i.innerText=this.getMoreLinkText(d.length),i.addEventListener("click",function(b){var f=e.opt("eventLimitClick"),i=e.isRtl?e.colCnt-c-1:c,j=e.props.cells[a][i].date,k=b.currentTarget,l=e.getCellEl(a,c),m=e.getCellSegs(a,c),n=e.resliceDaySegs(m,j),o=e.resliceDaySegs(d,j);"function"==typeof f&&(f=e.publiclyTrigger("eventLimitClick",[{date:h.toDate(j),allDay:!0,dayEl:l,moreEl:k,segs:n,hiddenSegs:o,jsEvent:b,view:g}])),"popover"===f?e.showSegPopover(a,c,k,n):"string"==typeof f&&g.calendar.zoomTo(j,f)}),i},d.prototype.showSegPopover=function(a,c,d,e){var f,g,h=this,i=this,j=i.calendar,l=i.view,m=i.theme,n=this.isRtl?this.colCnt-c-1:c,o=d.parentNode;f=1===this.rowCnt?l.el:this.rowEls[a],g={className:"fc-more-popover "+m.getClass("popover"),parentEl:l.el,top:b.computeRect(f).top,autoHide:!0,content:function(b){h.segPopoverTile=new q(h.context,b),h.updateSegPopoverTile(h.props.cells[a][n].date,e)},hide:function(){h.segPopoverTile.destroy(),h.segPopoverTile=null,h.segPopover.destroy(),h.segPopover=null}},this.isRtl?g.right=b.computeRect(o).right+1:g.left=b.computeRect(o).left-1,this.segPopover=new k(g),this.segPopover.show(),j.releaseAfterSizingTriggers()},d.prototype.resliceDaySegs=function(a,c){for(var d=c,e=b.addDays(d,1),f={start:d,end:e},g=[],h=0,j=a;h<j.length;h++){var k=j[h],l=k.eventRange,m=l.range,n=b.intersectRanges(m,f);n&&g.push(i({},k,{eventRange:{def:l.def,ui:i({},l.ui,{durationEditable:!1}),instance:l.instance,range:n},isStart:k.isStart&&n.start.valueOf()===m.start.valueOf(),isEnd:k.isEnd&&n.end.valueOf()===m.end.valueOf()}))}return g},d.prototype.getMoreLinkText=function(a){var b=this.opt("eventLimitText");return"function"==typeof b?b(a):"+"+a+" "+b},d.prototype.getCellSegs=function(a,b,c){for(var d,e=this.eventRenderer.rowStructs[a].segMatrix,f=c||0,g=[];f<e.length;)d=e[f][b],d&&g.push(d),f++;return g},d}(b.DateComponent),w=b.createFormatter({week:"numeric"}),x=function(a){function d(c,d,e,f){var g=a.call(this,c,d,e,f)||this;g.renderHeadIntroHtml=function(){var a=g.theme;return g.colWeekNumbersVisible?'<th class="fc-week-number '+a.getClass("widgetHeader")+'" '+g.weekNumberStyleAttr()+"><span>"+b.htmlEscape(g.opt("weekLabel"))+"</span></th>":""},g.renderDayGridNumberIntroHtml=function(a,c){var d=g.dateEnv,e=c.props.cells[a][0].date;return g.colWeekNumbersVisible?'<td class="fc-week-number" '+g.weekNumberStyleAttr()+">"+b.buildGotoAnchorHtml(g,{date:e,type:"week",forceOff:1===c.colCnt},d.format(e,w))+"</td>":""},g.renderDayGridBgIntroHtml=function(){var a=g.theme;return g.colWeekNumbersVisible?'<td class="fc-week-number '+a.getClass("widgetContent")+'" '+g.weekNumberStyleAttr()+"></td>":""},g.renderDayGridIntroHtml=function(){return g.colWeekNumbersVisible?'<td class="fc-week-number" '+g.weekNumberStyleAttr()+"></td>":""},g.el.classList.add("fc-dayGrid-view"),g.el.innerHTML=g.renderSkeletonHtml(),g.scroller=new b.ScrollComponent("hidden","auto");var h=g.scroller.el;g.el.querySelector(".fc-body > tr > td").appendChild(h),h.classList.add("fc-day-grid-container");var i=b.createElement("div",{className:"fc-day-grid"});h.appendChild(i);var j;return g.opt("weekNumbers")?g.opt("weekNumbersWithinDays")?(j=!0,g.colWeekNumbersVisible=!1):(j=!1,g.colWeekNumbersVisible=!0):(g.colWeekNumbersVisible=!1,j=!1),g.dayGrid=new v(g.context,i,{renderNumberIntroHtml:g.renderDayGridNumberIntroHtml,renderBgIntroHtml:g.renderDayGridBgIntroHtml,renderIntroHtml:g.renderDayGridIntroHtml,colWeekNumbersVisible:g.colWeekNumbersVisible,cellWeekNumbersVisible:j}),g}return c(d,a),d.prototype.destroy=function(){a.prototype.destroy.call(this),this.dayGrid.destroy(),this.scroller.destroy()},d.prototype.renderSkeletonHtml=function(){var a=this.theme;return'<table class="'+a.getClass("tableGrid")+'">'+(this.opt("columnHeader")?'<thead class="fc-head"><tr><td class="fc-head-container '+a.getClass("widgetHeader")+'">&nbsp;</td></tr></thead>':"")+'<tbody class="fc-body"><tr><td class="'+a.getClass("widgetContent")+'"></td></tr></tbody></table>'},d.prototype.weekNumberStyleAttr=function(){return null!=this.weekNumberWidth?'style="width:'+this.weekNumberWidth+'px"':""},d.prototype.hasRigidRows=function(){var a=this.opt("eventLimit");return a&&"number"!=typeof a},d.prototype.updateSize=function(b,c,d){a.prototype.updateSize.call(this,b,c,d),this.dayGrid.updateSize(b)},d.prototype.updateBaseSize=function(a,c,d){var e,f,g=this.dayGrid,h=this.opt("eventLimit"),i=this.header?this.header.el:null;return g.rowEls?(this.colWeekNumbersVisible&&(this.weekNumberWidth=b.matchCellWidths(b.findElements(this.el,".fc-week-number"))),this.scroller.clear(),i&&b.uncompensateScroll(i),g.removeSegPopover(),h&&"number"==typeof h&&g.limitRows(h),e=this.computeScrollerHeight(c),this.setGridHeight(e,d),h&&"number"!=typeof h&&g.limitRows(h),void(d||(this.scroller.setHeight(e),f=this.scroller.getScrollbarWidths(),(f.left||f.right)&&(i&&b.compensateScroll(i,f),e=this.computeScrollerHeight(c),this.scroller.setHeight(e)),this.scroller.lockOverflow(f)))):void(d||(e=this.computeScrollerHeight(c),this.scroller.setHeight(e)))},d.prototype.computeScrollerHeight=function(a){return a-b.subtractInnerElHeight(this.el,this.scroller.el)},d.prototype.setGridHeight=function(a,c){this.opt("monthMode")?(c&&(a*=this.dayGrid.rowCnt/6),b.distributeHeight(this.dayGrid.rowEls,a,!c)):c?b.undistributeHeight(this.dayGrid.rowEls):b.distributeHeight(this.dayGrid.rowEls,a,!0)},d.prototype.computeDateScroll=function(a){return{top:0}},d.prototype.queryDateScroll=function(){return{top:this.scroller.getScrollTop()}},d.prototype.applyDateScroll=function(a){void 0!==a.top&&this.scroller.setScrollTop(a.top)},d}(b.View);x.prototype.dateProfileGeneratorClass=j;var y=function(a){function b(b,c){var d=a.call(this,b,c.el)||this;return d.slicer=new z,d.dayGrid=c,b.calendar.registerInteractiveComponent(d,{el:d.dayGrid.el}),d}return c(b,a),b.prototype.destroy=function(){a.prototype.destroy.call(this),this.calendar.unregisterInteractiveComponent(this)},b.prototype.render=function(a){var b=this.dayGrid,c=a.dateProfile,d=a.dayTable;b.receiveProps(i({},this.slicer.sliceProps(a,c,a.nextDayThreshold,b,d),{dateProfile:c,cells:d.cells,isRigid:a.isRigid}))},b.prototype.buildPositionCaches=function(){this.dayGrid.buildPositionCaches()},b.prototype.queryHit=function(a,b){var c=this.dayGrid.positionToHit(a,b);if(c)return{component:this.dayGrid,dateSpan:c.dateSpan,dayEl:c.dayEl,rect:{left:c.relativeRect.left,right:c.relativeRect.right,top:c.relativeRect.top,bottom:c.relativeRect.bottom},layer:0}},b}(b.DateComponent),z=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return c(b,a),b.prototype.sliceRange=function(a,b){return b.sliceRange(a)},b}(b.Slicer),A=function(a){function d(c,d,e,f){var h=a.call(this,c,d,e,f)||this;return h.buildDayTable=b.memoize(g),h.opt("columnHeader")&&(h.header=new b.DayHeader(h.context,h.el.querySelector(".fc-head-container"))),h.simpleDayGrid=new y(h.context,h.dayGrid),h}return c(d,a),d.prototype.destroy=function(){a.prototype.destroy.call(this),this.header&&this.header.destroy(),this.simpleDayGrid.destroy()},d.prototype.render=function(b){a.prototype.render.call(this,b);var c=this.props.dateProfile,d=this.dayTable=this.buildDayTable(c,this.dateProfileGenerator);this.header&&this.header.receiveProps({dateProfile:c,dates:d.headerDates,datesRepDistinctDays:1===d.rowCnt,renderIntroHtml:this.renderHeadIntroHtml}),this.simpleDayGrid.receiveProps({dateProfile:c,dayTable:d,businessHours:b.businessHours,dateSelection:b.dateSelection,eventStore:b.eventStore,eventUiBases:b.eventUiBases,eventSelection:b.eventSelection,eventDrag:b.eventDrag,eventResize:b.eventResize,isRigid:this.hasRigidRows(),nextDayThreshold:this.nextDayThreshold})},d}(x),B=b.createPlugin({defaultView:"dayGridMonth",views:{dayGrid:A,dayGridDay:{type:"dayGrid",duration:{days:1}},dayGridWeek:{type:"dayGrid",duration:{weeks:1}},dayGridMonth:{type:"dayGrid",duration:{months:1},monthMode:!0,fixedWeekCount:!0}}});a.AbstractDayGridView=x,a.DayBgRow=s,a.DayGrid=v,a.DayGridSlicer=z,a.DayGridView=A,a.SimpleDayGrid=y,a.buildBasicDayTable=g,a.default=B,Object.defineProperty(a,"__esModule",{value:!0})}),function(a,b){"object"==typeof exports&&"undefined"!=typeof module?b(exports,require("@fullcalendar/core"),require("@fullcalendar/daygrid")):"function"==typeof define&&define.amd?define(["exports","@fullcalendar/core","@fullcalendar/daygrid"],b):(a=a||self,b(a.FullCalendarTimeGrid={},a.FullCalendar,a.FullCalendarDayGrid))}(this,function(a,b,c){"use strict";function d(a,b){function c(){this.constructor=a}m(a,b),a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)}function e(a){var b,c,d,e=[];for(b=0;b<a.length;b++){for(c=a[b],d=0;d<e.length&&h(c,e[d]).length;d++);c.level=d,(e[d]||(e[d]=[])).push(c)}return e}function f(a){var b,c,d,e,f;for(b=0;b<a.length;b++)for(c=a[b],d=0;d<c.length;d++)for(e=c[d],e.forwardSegs=[],f=b+1;f<a.length;f++)h(e,a[f],e.forwardSegs)}function g(a){var b,c,d=a.forwardSegs,e=0;if(void 0===a.forwardPressure){for(b=0;b<d.length;b++)c=d[b],g(c),e=Math.max(e,1+c.forwardPressure);a.forwardPressure=e}}function h(a,b,c){void 0===c&&(c=[]);for(var d=0;d<b.length;d++)i(a,b[d])&&c.push(b[d]);return c}function i(a,b){return a.bottom>b.top&&a.top<b.bottom}function j(a){var c=b.buildSegCompareObj(a);return c.forwardPressure=a.forwardPressure,c.backwardCoord=a.backwardCoord,c}function k(a,b,c){for(var d=[],e=0,f=a.headerDates;e<f.length;e++){var g=f[e];d.push({start:c.add(g,b.minTime),end:c.add(g,b.maxTime)})}return d}function l(a,c){var d=new b.DaySeries(a.renderRange,c);return new b.DayTable(d,!1)}var m=function(a,b){return(m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])})(a,b)},n=function(){return n=Object.assign||function(a){for(var b,c=1,d=arguments.length;c<d;c++){b=arguments[c];for(var e in b)Object.prototype.hasOwnProperty.call(b,e)&&(a[e]=b[e])}return a},n.apply(this,arguments)},o=function(a){function c(c){var d=a.call(this,c.context)||this;return d.timeGrid=c,d.fullTimeFormat=b.createFormatter({hour:"numeric",minute:"2-digit",separator:d.context.options.defaultRangeSeparator}),d}return d(c,a),c.prototype.attachSegs=function(a,b){for(var c=this.timeGrid.groupSegsByCol(a),d=0;d<c.length;d++)c[d]=this.sortEventSegs(c[d]);this.segsByCol=c,this.timeGrid.attachSegsByCol(c,this.timeGrid.fgContainerEls)},c.prototype.detachSegs=function(a){a.forEach(function(a){b.removeElement(a.el)}),this.segsByCol=null},c.prototype.computeSegSizes=function(a){var b=this,c=b.timeGrid,d=b.segsByCol,e=c.colCnt;if(c.computeSegVerticals(a),d)for(var f=0;f<e;f++)this.computeSegHorizontals(d[f])},c.prototype.assignSegSizes=function(a){var b=this,c=b.timeGrid,d=b.segsByCol,e=c.colCnt;if(c.assignSegVerticals(a),d)for(var f=0;f<e;f++)this.assignSegCss(d[f])},c.prototype.computeEventTimeFormat=function(){return{hour:"numeric",minute:"2-digit",meridiem:!1}},c.prototype.computeDisplayEventEnd=function(){return!0},c.prototype.renderSegHtml=function(a,c){var d,e,f,g=this.context.view,h=a.eventRange,i=h.def,j=h.ui,k=i.allDay,l=g.computeEventDraggable(i,j),m=a.isStart&&g.computeEventStartResizable(i,j),n=a.isEnd&&g.computeEventEndResizable(i,j),o=this.getSegClasses(a,l,m||n,c),p=b.cssToStr(this.getSkinCss(j));if(o.unshift("fc-time-grid-event"),b.isMultiDayRange(h.range)){if(a.isStart||a.isEnd){var q=a.start,r=a.end;d=this._getTimeText(q,r,k),e=this._getTimeText(q,r,k,this.fullTimeFormat),f=this._getTimeText(q,r,k,null,!1)}}else d=this.getTimeText(h),e=this.getTimeText(h,this.fullTimeFormat),f=this.getTimeText(h,null,!1);return'<a class="'+o.join(" ")+'"'+(i.url?' href="'+b.htmlEscape(i.url)+'"':"")+(p?' style="'+p+'"':"")+'><div class="fc-content">'+(d?'<div class="fc-time" data-start="'+b.htmlEscape(f)+'" data-full="'+b.htmlEscape(e)+'"><span>'+b.htmlEscape(d)+"</span></div>":"")+(i.title?'<div class="fc-title">'+b.htmlEscape(i.title)+"</div>":"")+"</div>"+(n?'<div class="fc-resizer fc-end-resizer"></div>':"")+"</a>"},c.prototype.computeSegHorizontals=function(a){var b,c,d;if(b=e(a),f(b),c=b[0]){for(d=0;d<c.length;d++)g(c[d]);for(d=0;d<c.length;d++)this.computeSegForwardBack(c[d],0,0)}},c.prototype.computeSegForwardBack=function(a,b,c){var d,e=a.forwardSegs;if(void 0===a.forwardCoord)for(e.length?(this.sortForwardSegs(e),this.computeSegForwardBack(e[0],b+1,c),a.forwardCoord=e[0].backwardCoord):a.forwardCoord=1,a.backwardCoord=a.forwardCoord-(a.forwardCoord-c)/(b+1),d=0;d<e.length;d++)this.computeSegForwardBack(e[d],0,a.forwardCoord)},c.prototype.sortForwardSegs=function(a){var c=a.map(j),d=[{field:"forwardPressure",order:-1},{field:"backwardCoord",order:1}].concat(this.context.view.eventOrderSpecs);return c.sort(function(a,c){return b.compareByFieldSpecs(a,c,d)}),c.map(function(a){return a._seg})},c.prototype.assignSegCss=function(a){for(var c=0,d=a;c<d.length;c++){var e=d[c];b.applyStyle(e.el,this.generateSegCss(e)),e.level>0&&e.el.classList.add("fc-time-grid-event-inset"),e.eventRange.def.title&&e.bottom-e.top<30&&e.el.classList.add("fc-short")}},c.prototype.generateSegCss=function(a){var b,c,d=this.context.options.slotEventOverlap,e=a.backwardCoord,f=a.forwardCoord,g=this.timeGrid.generateSegVerticalCss(a),h=this.timeGrid.isRtl;return d&&(f=Math.min(1,e+2*(f-e))),h?(b=1-f,c=e):(b=e,c=1-f),g.zIndex=a.level+1,g.left=100*b+"%",g.right=100*c+"%",d&&a.forwardPressure&&(g[h?"marginLeft":"marginRight"]=20),g},c}(b.FgEventRenderer),p=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return d(b,a),b.prototype.attachSegs=function(a,b){this.segsByCol=this.timeGrid.groupSegsByCol(a),this.timeGrid.attachSegsByCol(this.segsByCol,this.timeGrid.mirrorContainerEls),this.sourceSeg=b.sourceSeg},b.prototype.generateSegCss=function(b){var c=a.prototype.generateSegCss.call(this,b),d=this.sourceSeg;if(d&&d.col===b.col){var e=a.prototype.generateSegCss.call(this,d);c.left=e.left,c.right=e.right,c.marginLeft=e.marginLeft,c.marginRight=e.marginRight}return c},b}(o),q=function(a){function b(b){var c=a.call(this,b.context)||this;return c.timeGrid=b,c}return d(b,a),b.prototype.attachSegs=function(a,b){var c,d=this.timeGrid;return"bgEvent"===a?c=d.bgContainerEls:"businessHours"===a?c=d.businessContainerEls:"highlight"===a&&(c=d.highlightContainerEls),d.attachSegsByCol(d.groupSegsByCol(b),c),b.map(function(a){return a.el})},b.prototype.computeSegSizes=function(a){this.timeGrid.computeSegVerticals(a)},b.prototype.assignSegSizes=function(a){this.timeGrid.assignSegVerticals(a)},b}(b.FillRenderer),r=[{hours:1},{minutes:30},{minutes:15},{seconds:30},{seconds:15}],s=function(a){function e(c,d,e){var f=a.call(this,c,d)||this;f.isSlatSizesDirty=!1,f.isColSizesDirty=!1,f.renderSlats=b.memoizeRendering(f._renderSlats);var g=f.eventRenderer=new o(f),h=f.fillRenderer=new q(f);f.mirrorRenderer=new p(f);var i=f.renderColumns=b.memoizeRendering(f._renderColumns,f._unrenderColumns);return f.renderBusinessHours=b.memoizeRendering(h.renderSegs.bind(h,"businessHours"),h.unrender.bind(h,"businessHours"),[i]),f.renderDateSelection=b.memoizeRendering(f._renderDateSelection,f._unrenderDateSelection,[i]),f.renderFgEvents=b.memoizeRendering(g.renderSegs.bind(g),g.unrender.bind(g),[i]),
f.renderBgEvents=b.memoizeRendering(h.renderSegs.bind(h,"bgEvent"),h.unrender.bind(h,"bgEvent"),[i]),f.renderEventSelection=b.memoizeRendering(g.selectByInstanceId.bind(g),g.unselectByInstanceId.bind(g),[f.renderFgEvents]),f.renderEventDrag=b.memoizeRendering(f._renderEventDrag,f._unrenderEventDrag,[i]),f.renderEventResize=b.memoizeRendering(f._renderEventResize,f._unrenderEventResize,[i]),f.processOptions(),d.innerHTML='<div class="fc-bg"></div><div class="fc-slats"></div><hr class="fc-divider '+f.theme.getClass("widgetHeader")+'" style="display:none" />',f.rootBgContainerEl=d.querySelector(".fc-bg"),f.slatContainerEl=d.querySelector(".fc-slats"),f.bottomRuleEl=d.querySelector(".fc-divider"),f.renderProps=e,f}return d(e,a),e.prototype.processOptions=function(){var a,c,d=this.opt("slotDuration"),e=this.opt("snapDuration");d=b.createDuration(d),e=e?b.createDuration(e):d,a=b.wholeDivideDurations(d,e),null===a&&(e=d,a=1),this.slotDuration=d,this.snapDuration=e,this.snapsPerSlot=a,c=this.opt("slotLabelFormat"),Array.isArray(c)&&(c=c[c.length-1]),this.labelFormat=b.createFormatter(c||{hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"short"}),c=this.opt("slotLabelInterval"),this.labelInterval=c?b.createDuration(c):this.computeLabelInterval(d)},e.prototype.computeLabelInterval=function(a){var c,d,e;for(c=r.length-1;c>=0;c--)if(d=b.createDuration(r[c]),e=b.wholeDivideDurations(d,a),null!==e&&e>1)return d;return a},e.prototype.render=function(a){var b=a.cells;this.colCnt=b.length,this.renderSlats(a.dateProfile),this.renderColumns(a.cells,a.dateProfile),this.renderBusinessHours(a.businessHourSegs),this.renderDateSelection(a.dateSelectionSegs),this.renderFgEvents(a.fgEventSegs),this.renderBgEvents(a.bgEventSegs),this.renderEventSelection(a.eventSelection),this.renderEventDrag(a.eventDrag),this.renderEventResize(a.eventResize)},e.prototype.destroy=function(){a.prototype.destroy.call(this),this.renderSlats.unrender(),this.renderColumns.unrender()},e.prototype.updateSize=function(a){var b=this,c=b.fillRenderer,d=b.eventRenderer,e=b.mirrorRenderer;(a||this.isSlatSizesDirty)&&(this.buildSlatPositions(),this.isSlatSizesDirty=!1),(a||this.isColSizesDirty)&&(this.buildColPositions(),this.isColSizesDirty=!1),c.computeSizes(a),d.computeSizes(a),e.computeSizes(a),c.assignSizes(a),d.assignSizes(a),e.assignSizes(a)},e.prototype._renderSlats=function(a){var c=this.theme;this.slatContainerEl.innerHTML='<table class="'+c.getClass("tableGrid")+'">'+this.renderSlatRowHtml(a)+"</table>",this.slatEls=b.findElements(this.slatContainerEl,"tr"),this.slatPositions=new b.PositionCache(this.el,this.slatEls,!1,!0),this.isSlatSizesDirty=!0},e.prototype.renderSlatRowHtml=function(a){for(var c,d,e,f=this,g=f.dateEnv,h=f.theme,i=f.isRtl,j="",k=b.startOfDay(a.renderRange.start),l=a.minTime,m=b.createDuration(0);b.asRoughMs(l)<b.asRoughMs(a.maxTime);)c=g.add(k,l),d=null!==b.wholeDivideDurations(m,this.labelInterval),e='<td class="fc-axis fc-time '+h.getClass("widgetContent")+'">'+(d?"<span>"+b.htmlEscape(g.format(c,this.labelFormat))+"</span>":"")+"</td>",j+='<tr data-time="'+b.formatIsoTimeString(c)+'"'+(d?"":' class="fc-minor"')+">"+(i?"":e)+'<td class="'+h.getClass("widgetContent")+'"></td>'+(i?e:"")+"</tr>",l=b.addDurations(l,this.slotDuration),m=b.addDurations(m,this.slotDuration);return j},e.prototype._renderColumns=function(a,d){var e=this,f=e.theme,g=e.dateEnv,h=e.view,i=new c.DayBgRow(this.context);this.rootBgContainerEl.innerHTML='<table class="'+f.getClass("tableGrid")+'">'+i.renderHtml({cells:a,dateProfile:d,renderIntroHtml:this.renderProps.renderBgIntroHtml})+"</table>",this.colEls=b.findElements(this.el,".fc-day, .fc-disabled-day");for(var j=0;j<this.colCnt;j++)this.publiclyTrigger("dayRender",[{date:g.toDate(a[j].date),el:this.colEls[j],view:h}]);this.isRtl&&this.colEls.reverse(),this.colPositions=new b.PositionCache(this.el,this.colEls,!0,!1),this.renderContentSkeleton(),this.isColSizesDirty=!0},e.prototype._unrenderColumns=function(){this.unrenderContentSkeleton()},e.prototype.renderContentSkeleton=function(){var a,c=[];c.push(this.renderProps.renderIntroHtml());for(var d=0;d<this.colCnt;d++)c.push('<td><div class="fc-content-col"><div class="fc-event-container fc-mirror-container"></div><div class="fc-event-container"></div><div class="fc-highlight-container"></div><div class="fc-bgevent-container"></div><div class="fc-business-container"></div></div></td>');this.isRtl&&c.reverse(),a=this.contentSkeletonEl=b.htmlToElement('<div class="fc-content-skeleton"><table><tr>'+c.join("")+"</tr></table></div>"),this.colContainerEls=b.findElements(a,".fc-content-col"),this.mirrorContainerEls=b.findElements(a,".fc-mirror-container"),this.fgContainerEls=b.findElements(a,".fc-event-container:not(.fc-mirror-container)"),this.bgContainerEls=b.findElements(a,".fc-bgevent-container"),this.highlightContainerEls=b.findElements(a,".fc-highlight-container"),this.businessContainerEls=b.findElements(a,".fc-business-container"),this.isRtl&&(this.colContainerEls.reverse(),this.mirrorContainerEls.reverse(),this.fgContainerEls.reverse(),this.bgContainerEls.reverse(),this.highlightContainerEls.reverse(),this.businessContainerEls.reverse()),this.el.appendChild(a)},e.prototype.unrenderContentSkeleton=function(){b.removeElement(this.contentSkeletonEl)},e.prototype.groupSegsByCol=function(a){var b,c=[];for(b=0;b<this.colCnt;b++)c.push([]);for(b=0;b<a.length;b++)c[a[b].col].push(a[b]);return c},e.prototype.attachSegsByCol=function(a,b){var c,d,e;for(c=0;c<this.colCnt;c++)for(d=a[c],e=0;e<d.length;e++)b[c].appendChild(d[e].el)},e.prototype.getNowIndicatorUnit=function(){return"minute"},e.prototype.renderNowIndicator=function(a,c){if(this.colContainerEls){var d,e=this.computeDateTop(c),f=[];for(d=0;d<a.length;d++){var g=b.createElement("div",{className:"fc-now-indicator fc-now-indicator-line"});g.style.top=e+"px",this.colContainerEls[a[d].col].appendChild(g),f.push(g)}if(a.length>0){var h=b.createElement("div",{className:"fc-now-indicator fc-now-indicator-arrow"});h.style.top=e+"px",this.contentSkeletonEl.appendChild(h),f.push(h)}this.nowIndicatorEls=f}},e.prototype.unrenderNowIndicator=function(){this.nowIndicatorEls&&(this.nowIndicatorEls.forEach(b.removeElement),this.nowIndicatorEls=null)},e.prototype.getTotalSlatHeight=function(){return this.slatContainerEl.getBoundingClientRect().height},e.prototype.computeDateTop=function(a,c){return c||(c=b.startOfDay(a)),this.computeTimeTop(b.createDuration(a.valueOf()-c.valueOf()))},e.prototype.computeTimeTop=function(a){var c,d,e=this.slatEls.length,f=this.props.dateProfile,g=(a.milliseconds-b.asRoughMs(f.minTime))/b.asRoughMs(this.slotDuration);return g=Math.max(0,g),g=Math.min(e,g),c=Math.floor(g),c=Math.min(c,e-1),d=g-c,this.slatPositions.tops[c]+this.slatPositions.getHeight(c)*d},e.prototype.computeSegVerticals=function(a){var b,c,d,e=this.opt("timeGridEventMinHeight");for(b=0;b<a.length;b++)c=a[b],d=this.props.cells[c.col].date,c.top=this.computeDateTop(c.start,d),c.bottom=Math.max(c.top+e,this.computeDateTop(c.end,d))},e.prototype.assignSegVerticals=function(a){var c,d;for(c=0;c<a.length;c++)d=a[c],b.applyStyle(d.el,this.generateSegVerticalCss(d))},e.prototype.generateSegVerticalCss=function(a){return{top:a.top,bottom:-a.bottom}},e.prototype.buildPositionCaches=function(){this.buildColPositions(),this.buildSlatPositions()},e.prototype.buildColPositions=function(){this.colPositions.build()},e.prototype.buildSlatPositions=function(){this.slatPositions.build()},e.prototype.positionToHit=function(a,c){var d=this,e=d.dateEnv,f=d.snapsPerSlot,g=d.slatPositions,h=d.colPositions,i=h.leftToIndex(a),j=g.topToIndex(c);if(null!=i&&null!=j){var k=g.tops[j],l=g.getHeight(j),m=(c-k)/l,n=Math.floor(m*f),o=j*f+n,p=this.props.cells[i].date,q=b.addDurations(this.props.dateProfile.minTime,b.multiplyDuration(this.snapDuration,o)),r=e.add(p,q),s=e.add(r,this.snapDuration);return{col:i,dateSpan:{range:{start:r,end:s},allDay:!1},dayEl:this.colEls[i],relativeRect:{left:h.lefts[i],right:h.rights[i],top:k,bottom:k+l}}}},e.prototype._renderEventDrag=function(a){a&&(this.eventRenderer.hideByHash(a.affectedInstances),a.isEvent?this.mirrorRenderer.renderSegs(a.segs,{isDragging:!0,sourceSeg:a.sourceSeg}):this.fillRenderer.renderSegs("highlight",a.segs))},e.prototype._unrenderEventDrag=function(a){a&&(this.eventRenderer.showByHash(a.affectedInstances),this.mirrorRenderer.unrender(a.segs,{isDragging:!0,sourceSeg:a.sourceSeg}),this.fillRenderer.unrender("highlight"))},e.prototype._renderEventResize=function(a){a&&(this.eventRenderer.hideByHash(a.affectedInstances),this.mirrorRenderer.renderSegs(a.segs,{isResizing:!0,sourceSeg:a.sourceSeg}))},e.prototype._unrenderEventResize=function(a){a&&(this.eventRenderer.showByHash(a.affectedInstances),this.mirrorRenderer.unrender(a.segs,{isResizing:!0,sourceSeg:a.sourceSeg}))},e.prototype._renderDateSelection=function(a){a&&(this.opt("selectMirror")?this.mirrorRenderer.renderSegs(a,{isSelecting:!0}):this.fillRenderer.renderSegs("highlight",a))},e.prototype._unrenderDateSelection=function(a){this.mirrorRenderer.unrender(a,{isSelecting:!0}),this.fillRenderer.unrender("highlight")},e}(b.DateComponent),t=function(a){function c(){return null!==a&&a.apply(this,arguments)||this}return d(c,a),c.prototype.getKeyInfo=function(){return{allDay:{},timed:{}}},c.prototype.getKeysForDateSpan=function(a){return a.allDay?["allDay"]:["timed"]},c.prototype.getKeysForEventDef=function(a){return a.allDay?b.hasBgRendering(a)?["timed","allDay"]:["allDay"]:["timed"]},c}(b.Splitter),u=5,v=b.createFormatter({week:"short"}),w=function(a){function e(d,e,f,g){var h=a.call(this,d,e,f,g)||this;h.splitter=new t,h.renderHeadIntroHtml=function(){var a,c=h,d=c.theme,e=c.dateEnv,f=h.props.dateProfile.renderRange,g=b.diffDays(f.start,f.end);return h.opt("weekNumbers")?(a=e.format(f.start,v),'<th class="fc-axis fc-week-number '+d.getClass("widgetHeader")+'" '+h.axisStyleAttr()+">"+b.buildGotoAnchorHtml(h,{date:f.start,type:"week",forceOff:g>1},b.htmlEscape(a))+"</th>"):'<th class="fc-axis '+d.getClass("widgetHeader")+'" '+h.axisStyleAttr()+"></th>"},h.renderTimeGridBgIntroHtml=function(){var a=h.theme;return'<td class="fc-axis '+a.getClass("widgetContent")+'" '+h.axisStyleAttr()+"></td>"},h.renderTimeGridIntroHtml=function(){return'<td class="fc-axis" '+h.axisStyleAttr()+"></td>"},h.renderDayGridBgIntroHtml=function(){var a=h.theme;return'<td class="fc-axis '+a.getClass("widgetContent")+'" '+h.axisStyleAttr()+"><span>"+b.getAllDayHtml(h)+"</span></td>"},h.renderDayGridIntroHtml=function(){return'<td class="fc-axis" '+h.axisStyleAttr()+"></td>"},h.el.classList.add("fc-timeGrid-view"),h.el.innerHTML=h.renderSkeletonHtml(),h.scroller=new b.ScrollComponent("hidden","auto");var i=h.scroller.el;h.el.querySelector(".fc-body > tr > td").appendChild(i),i.classList.add("fc-time-grid-container");var j=b.createElement("div",{className:"fc-time-grid"});if(i.appendChild(j),h.timeGrid=new s(h.context,j,{renderBgIntroHtml:h.renderTimeGridBgIntroHtml,renderIntroHtml:h.renderTimeGridIntroHtml}),h.opt("allDaySlot")){h.dayGrid=new c.DayGrid(h.context,h.el.querySelector(".fc-day-grid"),{renderNumberIntroHtml:h.renderDayGridIntroHtml,renderBgIntroHtml:h.renderDayGridBgIntroHtml,renderIntroHtml:h.renderDayGridIntroHtml,colWeekNumbersVisible:!1,cellWeekNumbersVisible:!1});var k=h.el.querySelector(".fc-divider");h.dayGrid.bottomCoordPadding=k.getBoundingClientRect().height}return h}return d(e,a),e.prototype.destroy=function(){a.prototype.destroy.call(this),this.timeGrid.destroy(),this.dayGrid&&this.dayGrid.destroy(),this.scroller.destroy()},e.prototype.renderSkeletonHtml=function(){var a=this.theme;return'<table class="'+a.getClass("tableGrid")+'">'+(this.opt("columnHeader")?'<thead class="fc-head"><tr><td class="fc-head-container '+a.getClass("widgetHeader")+'">&nbsp;</td></tr></thead>':"")+'<tbody class="fc-body"><tr><td class="'+a.getClass("widgetContent")+'">'+(this.opt("allDaySlot")?'<div class="fc-day-grid"></div><hr class="fc-divider '+a.getClass("widgetHeader")+'" />':"")+"</td></tr></tbody></table>"},e.prototype.getNowIndicatorUnit=function(){return this.timeGrid.getNowIndicatorUnit()},e.prototype.unrenderNowIndicator=function(){this.timeGrid.unrenderNowIndicator()},e.prototype.updateSize=function(b,c,d){a.prototype.updateSize.call(this,b,c,d),this.timeGrid.updateSize(b),this.dayGrid&&this.dayGrid.updateSize(b)},e.prototype.updateBaseSize=function(a,c,d){var e,f,g,h=this;if(this.axisWidth=b.matchCellWidths(b.findElements(this.el,".fc-axis")),!this.timeGrid.colEls)return void(d||(f=this.computeScrollerHeight(c),this.scroller.setHeight(f)));var i=b.findElements(this.el,".fc-row").filter(function(a){return!h.scroller.el.contains(a)});this.timeGrid.bottomRuleEl.style.display="none",this.scroller.clear(),i.forEach(b.uncompensateScroll),this.dayGrid&&(this.dayGrid.removeSegPopover(),e=this.opt("eventLimit"),e&&"number"!=typeof e&&(e=u),e&&this.dayGrid.limitRows(e)),d||(f=this.computeScrollerHeight(c),this.scroller.setHeight(f),g=this.scroller.getScrollbarWidths(),(g.left||g.right)&&(i.forEach(function(a){b.compensateScroll(a,g)}),f=this.computeScrollerHeight(c),this.scroller.setHeight(f)),this.scroller.lockOverflow(g),this.timeGrid.getTotalSlatHeight()<f&&(this.timeGrid.bottomRuleEl.style.display=""))},e.prototype.computeScrollerHeight=function(a){return a-b.subtractInnerElHeight(this.el,this.scroller.el)},e.prototype.computeDateScroll=function(a){var b=this.timeGrid.computeTimeTop(a);return b=Math.ceil(b),b&&b++,{top:b}},e.prototype.queryDateScroll=function(){return{top:this.scroller.getScrollTop()}},e.prototype.applyDateScroll=function(a){void 0!==a.top&&this.scroller.setScrollTop(a.top)},e.prototype.axisStyleAttr=function(){return null!=this.axisWidth?'style="width:'+this.axisWidth+'px"':""},e}(b.View);w.prototype.usesMinMaxTime=!0;var x=function(a){function c(c,d){var e=a.call(this,c,d.el)||this;return e.buildDayRanges=b.memoize(k),e.slicer=new y,e.timeGrid=d,c.calendar.registerInteractiveComponent(e,{el:e.timeGrid.el}),e}return d(c,a),c.prototype.destroy=function(){a.prototype.destroy.call(this),this.calendar.unregisterInteractiveComponent(this)},c.prototype.render=function(a){var b=a.dateProfile,c=a.dayTable,d=this.dayRanges=this.buildDayRanges(c,b,this.dateEnv);this.timeGrid.receiveProps(n({},this.slicer.sliceProps(a,b,null,this.timeGrid,d),{dateProfile:b,cells:c.cells[0]}))},c.prototype.renderNowIndicator=function(a){this.timeGrid.renderNowIndicator(this.slicer.sliceNowDate(a,this.timeGrid,this.dayRanges),a)},c.prototype.buildPositionCaches=function(){this.timeGrid.buildPositionCaches()},c.prototype.queryHit=function(a,b){var c=this.timeGrid.positionToHit(a,b);if(c)return{component:this.timeGrid,dateSpan:c.dateSpan,dayEl:c.dayEl,rect:{left:c.relativeRect.left,right:c.relativeRect.right,top:c.relativeRect.top,bottom:c.relativeRect.bottom},layer:0}},c}(b.DateComponent),y=function(a){function c(){return null!==a&&a.apply(this,arguments)||this}return d(c,a),c.prototype.sliceRange=function(a,c){for(var d=[],e=0;e<c.length;e++){var f=b.intersectRanges(a,c[e]);f&&d.push({start:f.start,end:f.end,isStart:f.start.valueOf()===a.start.valueOf(),isEnd:f.end.valueOf()===a.end.valueOf(),col:e})}return d},c}(b.Slicer),z=function(a){function e(d,e,f,g){var h=a.call(this,d,e,f,g)||this;return h.buildDayTable=b.memoize(l),h.opt("columnHeader")&&(h.header=new b.DayHeader(h.context,h.el.querySelector(".fc-head-container"))),h.simpleTimeGrid=new x(h.context,h.timeGrid),h.dayGrid&&(h.simpleDayGrid=new c.SimpleDayGrid(h.context,h.dayGrid)),h}return d(e,a),e.prototype.destroy=function(){a.prototype.destroy.call(this),this.header&&this.header.destroy(),this.simpleTimeGrid.destroy(),this.simpleDayGrid&&this.simpleDayGrid.destroy()},e.prototype.render=function(b){a.prototype.render.call(this,b);var c=this.props.dateProfile,d=this.buildDayTable(c,this.dateProfileGenerator),e=this.splitter.splitProps(b);this.header&&this.header.receiveProps({dateProfile:c,dates:d.headerDates,datesRepDistinctDays:!0,renderIntroHtml:this.renderHeadIntroHtml}),this.simpleTimeGrid.receiveProps(n({},e.timed,{dateProfile:c,dayTable:d})),this.simpleDayGrid&&this.simpleDayGrid.receiveProps(n({},e.allDay,{dateProfile:c,dayTable:d,nextDayThreshold:this.nextDayThreshold,isRigid:!1}))},e.prototype.renderNowIndicator=function(a){this.simpleTimeGrid.renderNowIndicator(a)},e}(w),A=b.createPlugin({defaultView:"timeGridWeek",views:{timeGrid:{class:z,allDaySlot:!0,slotDuration:"00:30:00",slotEventOverlap:!0},timeGridDay:{type:"timeGrid",duration:{days:1}},timeGridWeek:{type:"timeGrid",duration:{weeks:1}}}});a.AbstractTimeGridView=w,a.TimeGrid=s,a.TimeGridSlicer=y,a.TimeGridView=z,a.buildDayRanges=k,a.buildDayTable=l,a.default=A,Object.defineProperty(a,"__esModule",{value:!0})});var app=angular.module("TrackWebApp",["ngRoute","ngCookies","ngResource","angular-jwt","ngStorage","indexedDB","firebase","720kb.datepicker","ngFileUpload"]);app.config(["$routeProvider","$indexedDBProvider","$logProvider",function(a,b,c){a.when("/dashboard",{templateUrl:"./src/application/maps/maps.html",controller:"MapController",resolve:{delay:["$q","InitService","Auth","$location",function(a,b,c,d){var e=a.defer();return c.$requireSignIn().then(function(a){b.handshakeInit(a,e)},function(a){d.path("/login"),e.reject()}),e.promise}]}}).when("/maps/:deviceId",{templateUrl:"./src/application/maps/maps.html",controller:"MapController",resolve:{delay:["$q","InitService","Auth","$location",function(a,b,c,d){var e=a.defer();return c.$requireSignIn().then(function(a){b.handshakeInit(a,e)},function(a){d.path("/login"),e.reject()}),e.promise}]}}).when("/login",{templateUrl:"./src/application/login/login.html",controller:"LoginController",controllerAs:"credentials"}).when("/bus",{templateUrl:"src/application/bus/bus.html",controller:"busDBController",controllerAs:"busInfo",resolve:{delay:["$q","InitService","Auth","$location",function(a,b,c,d){var e=a.defer();return c.$requireSignIn().then(function(a){b.handshakeInit(a,e)},function(a){d.path("/login"),e.reject()}),e.promise}]}}).when("/routes",{templateUrl:"src/application/route/route.html",controller:"routeController",resolve:{delay:["$q","InitService","Auth","$location",function(a,b,c,d){var e=a.defer();return c.$requireSignIn().then(function(a){b.handshakeInit(a,e)},function(a){d.path("/login"),e.reject()}),e.promise}]}}).when("/subject",{templateUrl:"src/application/subject/subject.html",controller:"subjectController",controllerAs:"routeInfo",resolve:{delay:["$q","InitService","Auth","$location",function(a,b,c,d){var e=a.defer();return c.$requireSignIn().then(function(a){b.handshakeInit(a,e)},function(a){d.path("/login"),e.reject()}),e.promise}]}}).when("/routes/:routeID",{templateUrl:"src/application/route/routeinfo.html",controller:"routeInfoController",resolve:{delay:["$q","InitService","Auth","$location",function(a,b,c,d){var e=a.defer();return c.$requireSignIn().then(function(a){b.handshakeInit(a,e)},function(a){d.path("/login"),e.reject()}),e.promise}]}}).when("/routes/add",{templateUrl:"src/application/route/routeadd.html",controller:"routeAddController",resolve:{delay:["$q","InitService","Auth","$location",function(a,b,c,d){var e=a.defer();return c.$requireSignIn().then(function(a){b.handshakeInit(a,e)},function(a){d.path("/login"),e.reject()}),e.promise}]}}).when("/routes/view/:routeID",{templateUrl:"src/application/route/routeView.html",controller:"RouteViewController",resolve:{delay:["$q","InitService","Auth","$location",function(a,b,c,d){var e=a.defer();return c.$requireSignIn().then(function(a){b.handshakeInit(a,e)},function(a){d.path("/login"),e.reject()}),e.promise}]}}).when("/students",{templateUrl:"src/application/students/class.html",controller:"classController",resolve:{delay:["$q","InitService","Auth","$location",function(a,b,c,d){var e=a.defer();return c.$requireSignIn().then(function(a){b.handshakeInit(a,e)},function(a){d.path("/login"),e.reject()}),e.promise}]}}).when("/newFee",{templateUrl:"src/application/feeNew/newFee.html",controller:"newFeeController",resolve:{delay:["$q","InitService","Auth","$location",function(a,b,c,d){var e=a.defer();return c.$requireSignIn().then(function(a){b.handshakeInit(a,e)},function(a){d.path("/login"),e.reject()}),e.promise}]}}).when("/newFee/:feeID",{templateUrl:"src/application/feeNew/subCategory.html",controller:"subCategoryController",resolve:{delay:["$q","InitService","Auth","$location",function(a,b,c,d){var e=a.defer();return c.$requireSignIn().then(function(a){b.handshakeInit(a,e)},function(a){d.path("/login"),e.reject()}),e.promise}]}}).when("/studentsall",{templateUrl:"src/application/students/studentsall.html",controller:"studentsAllController",resolve:{delay:["$q","InitService","Auth","$location",function(a,b,c,d){var e=a.defer();return c.$requireSignIn().then(function(a){b.handshakeInit(a,e)},function(a){d.path("/login"),e.reject()}),e.promise}]}}).when("/students/:classID",{templateUrl:"src/application/students/students.html",controller:"studentsController",resolve:{delay:["$q","InitService","Auth","$location",function(a,b,c,d){var e=a.defer();return c.$requireSignIn().then(function(a){b.handshakeInit(a,e)},function(a){d.path("/login"),e.reject()}),e.promise}]}}).when("/course/:courseID/students",{templateUrl:"src/application/students/course-student-list.html",controller:"courseStudentsController",resolve:{delay:["$q","InitService","Auth","$location",function(a,b,c,d){var e=a.defer();return c.$requireSignIn().then(function(a){b.handshakeInit(a,e)},function(a){d.path("/login"),e.reject()}),e.promise}]}}).when("/questions",{templateUrl:"src/application/questions/questions.html",controller:"questionsController",resolve:{delay:["$q","InitService","Auth","$location",function(a,b,c,d){var e=a.defer();return c.$requireSignIn().then(function(a){b.handshakeInit(a,e)},function(a){d.path("/login"),e.reject()}),e.promise}]}}).when("/teachers",{templateUrl:"src/application/teachers/teachers.html",controller:"teachersController",resolve:{delay:["$q","InitService","Auth","$location",function(a,b,c,d){var e=a.defer();return c.$requireSignIn().then(function(a){b.handshakeInit(a,e)},function(a){d.path("/login"),e.reject()}),e.promise}]}}).when("/homework",{templateUrl:"src/application/homework/homework.html",controller:"homeworkController",resolve:{delay:["$q","InitService","Auth","$location",function(a,b,c,d){var e=a.defer();return c.$requireSignIn().then(function(a){b.handshakeInit(a,e)},function(a){d.path("/login"),e.reject()}),e.promise}]}}).when("/exam",{templateUrl:"src/application/exam/exam.html",controller:"examController",resolve:{delay:["$q","InitService","Auth","$location",function(a,b,c,d){var e=a.defer();return c.$requireSignIn().then(function(a){b.handshakeInit(a,e)},function(a){d.path("/login"),e.reject()}),e.promise}]}}).when("/exam/set",{templateUrl:"src/application/exam/setUpdateExamPaper.html",controller:"setUpdateExamController",resolve:{delay:["$q","InitService","Auth","$location",function(a,b,c,d){var e=a.defer();return c.$requireSignIn().then(function(a){b.handshakeInit(a,e)},function(a){d.path("/login"),e.reject()}),e.promise}]}}).when("/exam/update/:ExamID",{templateUrl:"src/application/exam/setUpdateExamPaper.html",controller:"setUpdateExamController",resolve:{delay:["$q","InitService","Auth","$location",function(a,b,c,d){var e=a.defer();return c.$requireSignIn().then(function(a){b.handshakeInit(a,e)},function(a){d.path("/login"),e.reject()}),e.promise}]}}).when("/exam/preview/:PreviewExamID",{templateUrl:"src/application/exam/setUpdateExamPaper.html",controller:"setUpdateExamController",resolve:{delay:["$q","InitService","Auth","$location",function(a,b,c,d){var e=a.defer();return c.$requireSignIn().then(function(a){b.handshakeInit(a,e)},function(a){d.path("/login"),e.reject()}),e.promise}]}}).when("/fees/feesType",{templateUrl:"src/application/fees/feesType/feesType.html",controller:"feesTypeController",resolve:{delay:["$q","InitService","Auth","$location",function(a,b,c,d){var e=a.defer();return c.$requireSignIn().then(function(a){b.handshakeInit(a,e)},function(a){d.path("/login"),e.reject()}),e.promise}]}}).when("/fees/feesSubCategory",{templateUrl:"src/application/fees/feesSubCategory/feesSubCategory.html",controller:"feesSubCategoryController",resolve:{delay:["$q","InitService","Auth","$location",function(a,b,c,d){var e=a.defer();return c.$requireSignIn().then(function(a){b.handshakeInit(a,e)},function(a){d.path("/login"),e.reject()}),e.promise}]}}).when("/fees/feesAllotment",{templateUrl:"src/application/fees/feesAllotment/feesAllotment.html",controller:"feesAllotmentController",resolve:{delay:["$q","InitService","Auth","$location",function(a,b,c,d){var e=a.defer();return c.$requireSignIn().then(function(a){b.handshakeInit(a,e)},function(a){d.path("/login"),e.reject()}),e.promise}]}}).when("/fees/feeCollection",{templateUrl:"src/application/fees/feeCollection/feeCollection.html",controller:"feeCollectionController",resolve:{delay:["$q","InitService","Auth","$location",function(a,b,c,d){var e=a.defer();return c.$requireSignIn().then(function(a){b.handshakeInit(a,e)},function(a){d.path("/login"),e.reject()}),e.promise}]}}).when("/fees/feeDetails",{templateUrl:"src/application/fees/feeDetails/feeDetails.html",controller:"feeDetailsController",resolve:{delay:["$q","InitService","Auth","$location",function(a,b,c,d){var e=a.defer();return c.$requireSignIn().then(function(a){b.handshakeInit(a,e)},function(a){d.path("/login"),e.reject()}),e.promise}]}}).when("/fees/feeReports",{templateUrl:"src/application/fees/feeReports/feeReports.html",controller:"feeReportsController",resolve:{delay:["$q","InitService","Auth","$location",function(a,b,c,d){var e=a.defer();return c.$requireSignIn().then(function(a){b.handshakeInit(a,e)},function(a){d.path("/login"),e.reject()}),e.promise}]}}).when("/fees/pocketMoney",{templateUrl:"src/application/fees/pocketMoney/pocketmoney.html",controller:"pocketmoneyController",resolve:{delay:["$q","InitService","Auth","$location",function(a,b,c,d){var e=a.defer();return c.$requireSignIn().then(function(a){b.handshakeInit(a,e)},function(a){d.path("/login"),e.reject()}),e.promise}]}}).when("/studentAttendance",{templateUrl:"src/application/studentAttendance/studentAttendance.html",controller:"studentAttendanceController",resolve:{delay:["$q","InitService","Auth","$location",function(a,b,c,d){var e=a.defer();return c.$requireSignIn().then(function(a){b.handshakeInit(a,e)},function(a){d.path("/login"),e.reject()}),e.promise}]}}).when("/gatettendance",{templateUrl:"src/application/gateAttendance/gateattendance.html",controller:"GateAttendanceController",resolve:{delay:["$q","InitService","Auth","$location",function(a,b,c,d){var e=a.defer();return c.$requireSignIn().then(function(a){b.handshakeInit(a,e)},function(a){d.path("/login"),e.reject()}),e.promise}]}}).when("/gatepass",{templateUrl:"src/application/gatepass/gatepass.html",controller:"gatepassController",resolve:{delay:["$q","InitService","Auth","$location",function(a,b,c,d){var e=a.defer();return c.$requireSignIn().then(function(a){b.handshakeInit(a,e)},function(a){d.path("/login"),e.reject()}),e.promise}]}}).when("/announce",{templateUrl:"src/application/announcement/announcement.html",controller:"announcementController",controllerAs:"vm",resolve:{delay:["$q","InitService","Auth","$location",function(a,b,c,d){var e=a.defer();return c.$requireSignIn().then(function(a){b.handshakeInit(a,e)},function(a){d.path("/login"),e.reject()}),e.promise}]}}).when("/currentstatus",{templateUrl:"src/application/currentStatus/currentStatus.html",controller:"statusController",resolve:{delay:["$q","InitService","Auth","$location",function(a,b,c,d){var e=a.defer();return c.$requireSignIn().then(function(a){b.handshakeInit(a,e)},function(a){d.path("/login"),e.reject()}),e.promise}]}}).when("/profile",{templateUrl:"src/application/profile/profilesettings.html",controller:"profileSettingsController",controllerAs:"vm",resolve:{delay:["$q","InitService","Auth","$location",function(a,b,c,d){var e=a.defer();return c.$requireSignIn().then(function(a){b.handshakeInit(a,e)},function(a){d.path("/login"),e.reject()}),e.promise}]}}).when("/alertsetting",{templateUrl:"src/application/settings/alertsettings.html",controller:"alertSettingsController",controllerAs:"vm",resolve:{delay:["$q","InitService","Auth","$location",function(a,b,c,d){var e=a.defer();return c.$requireSignIn().then(function(a){b.handshakeInit(a,e)},function(a){d.path("/login"),e.reject()}),e.promise}]}}).when("/reports",{templateUrl:"src/application/reports/reports.html",controller:"ReportsController",controllerAs:"vm",resolve:{delay:["$q","InitService","Auth","$location",function(a,b,c,d){var e=a.defer();return c.$requireSignIn().then(function(a){b.handshakeInit(a,e)},function(a){d.path("/login"),e.reject()}),e.promise}]}}).when("/reports/:historybusno",{templateUrl:"src/application/reports/reports.html",controller:"ReportsController",controllerAs:"vm",resolve:{delay:["$q","InitService","Auth","$location",function(a,b,c,d){var e=a.defer();return c.$requireSignIn().then(function(a){b.handshakeInit(a,e)},function(a){d.path("/login"),e.reject()}),e.promise}]}}).when("/classattendance",{templateUrl:"src/application/classattendance/classattendance.html",controller:"ClassAttendanceController",controllerAs:"vm",resolve:{delay:["$q","InitService","Auth","$location",function(a,b,c,d){var e=a.defer();return c.$requireSignIn().then(function(a){b.handshakeInit(a,e)},function(a){d.path("/login"),e.reject()}),e.promise}]}}).when("/attendance",{templateUrl:"src/application/attendance/attendance.html",controller:"AttendanceController",controllerAs:"vm",resolve:{delay:["$q","InitService","Auth","$location",function(a,b,c,d){var e=a.defer();return c.$requireSignIn().then(function(a){b.handshakeInit(a,e)},function(a){d.path("/login"),e.reject()}),e.promise}]}}).when("/geofence",{templateUrl:"src/application/geofence/geofence.html",controller:"geofenceController",resolve:{delay:["$q","InitService","Auth","$location",function(a,b,c,d){var e=a.defer();return c.$requireSignIn().then(function(a){b.handshakeInit(a,e)},function(a){d.path("/login"),e.reject()}),e.promise}]}}).when("/geofenceadd",{templateUrl:"src/application/geofence/geofenceAdd.html",controller:"geofenceAddController",resolve:{delay:["$q","InitService","Auth","$location",function(a,b,c,d){var e=a.defer();return c.$requireSignIn().then(function(a){b.handshakeInit(a,e)},function(a){d.path("/login"),e.reject()}),e.promise}]}}).when("/geofence/:geofenceId",{templateUrl:"src/application/geofence/geofenceView.html",controller:"geofenceController",resolve:{delay:["$q","InitService","Auth","$location",function(a,b,c,d){var e=a.defer();return c.$requireSignIn().then(function(a){b.handshakeInit(a,e)},function(a){d.path("/login"),e.reject()}),e.promise}]}}).when("/gateattendance",{templateUrl:"src/application/gateAttendance/gateattendance.html",controller:"GateAttendanceController",resolve:{delay:["$q","InitService","Auth","$location",function(a,b,c,d){var e=a.defer();return c.$requireSignIn().then(function(a){b.handshakeInit(a,e)},function(a){d.path("/login"),e.reject()}),e.promise}]}}).when("/smsreports",{templateUrl:"src/application/smsReports/smsreports.html",controller:"smsReportsController",resolve:{delay:["$q","InitService","Auth","$location",function(a,b,c,d){var e=a.defer();return c.$requireSignIn().then(function(a){b.handshakeInit(a,e)},function(a){d.path("/login"),e.reject()}),e.promise}]}}).when("/calender",{templateUrl:"src/application/eventCalender/calender.html",controller:"calenderController",resolve:{delay:["$q","InitService","Auth","$location",function(a,b,c,d){var e=a.defer();return c.$requireSignIn().then(function(a){b.handshakeInit(a,e)},function(a){d.path("/login"),e.reject()}),e.promise}]}}).when("/course-purchase",{templateUrl:"src/application/learningApp/course_purchase.html",controller:"coursePurchaseController",resolve:{delay:["$q","InitService","Auth","$location",function(a,b,c,d){
var e=a.defer();return c.$requireSignIn().then(function(a){b.handshakeInit(a,e)},function(a){d.path("/login"),e.reject()}),e.promise}]}}).when("/enquiry",{templateUrl:"src/application/enquiry/enquiry.html",controller:"enquiryController",resolve:{delay:["$q","InitService","Auth","$location",function(a,b,c,d){var e=a.defer();return c.$requireSignIn().then(function(a){b.handshakeInit(a,e)},function(a){d.path("/login"),e.reject()}),e.promise}]}}).when("/academic-session",{templateUrl:"src/application/academicSession/academicsession.html",controller:"academicSessionController",resolve:{delay:["$q","InitService","Auth","$location",function(a,b,c,d){var e=a.defer();return c.$requireSignIn().then(function(a){b.handshakeInit(a,e)},function(a){d.path("/login"),e.reject()}),e.promise}]}}).when("/timeTable/slots",{templateUrl:"src/application/timeTable/slots/slots.html",controller:"slotsController",resolve:{delay:["$q","InitService","Auth","$location",function(a,b,c,d){var e=a.defer();return c.$requireSignIn().then(function(a){b.handshakeInit(a,e)},function(a){d.path("/login"),e.reject()}),e.promise}]}}).when("/timeTable/timeTable",{templateUrl:"src/application/timeTable/timeTablemodule/timeTable.html",controller:"timeTableController",resolve:{delay:["$q","InitService","Auth","$location",function(a,b,c,d){var e=a.defer();return c.$requireSignIn().then(function(a){b.handshakeInit(a,e)},function(a){d.path("/login"),e.reject()}),e.promise}]}}).when("/course-subject/:courseId",{templateUrl:"src/application/course/subject/subject.html",controller:"courseSubjectController",resolve:{delay:["$q","InitService","Auth","$location",function(a,b,c,d){var e=a.defer();return c.$requireSignIn().then(function(a){b.handshakeInit(a,e)},function(a){d.path("/login"),e.reject()}),e.promise}]}}).when("/course-subject/chapter/:courseId/:subjectId",{templateUrl:"src/application/course/chapter/chapter.html",controller:"courseChapterController",resolve:{delay:["$q","InitService","Auth","$location",function(a,b,c,d){var e=a.defer();return c.$requireSignIn().then(function(a){b.handshakeInit(a,e)},function(a){d.path("/login"),e.reject()}),e.promise}]}}).when("/course-subject/chapter/topic/:courseId/:subjectId/:chapterId",{templateUrl:"src/application/course/topic/topic.html",controller:"courseTopicController",resolve:{delay:["$q","InitService","Auth","$location",function(a,b,c,d){var e=a.defer();return c.$requireSignIn().then(function(a){b.handshakeInit(a,e)},function(a){d.path("/login"),e.reject()}),e.promise}]}}).when("/newbooks",{templateUrl:"./src/application/library/addBooks/addbook.html",controller:"bookcontroller",resolve:{delay:["$q","InitService","Auth","$location",function(a,b,c,d){var e=a.defer();return c.$requireSignIn().then(function(a){b.handshakeInit(a,e)},function(a){d.path("/login"),e.reject()}),e.promise}]}}).when("/bookmanagment",{templateUrl:"./src/application/library/booksmanagment/booksManagment.html",controller:"booksmanagmentcontroller",resolve:{delay:["$q","InitService","Auth","$location",function(a,b,c,d){var e=a.defer();return c.$requireSignIn().then(function(a){b.handshakeInit(a,e)},function(a){d.path("/login"),e.reject()}),e.promise}]}}).when("/",{templateUrl:"src/application/onlineClass/liveClass/liveClass.html",controller:"liveClassController",resolve:{delay:["$q","InitService","Auth","$location",function(a,b,c,d){var e=a.defer();return c.$requireSignIn().then(function(a){b.handshakeInit(a,e)},function(a){d.path("/login"),e.reject()}),e.promise}]}}).otherwise({redirectTo:"/"}),b.connection("itrack").upgradeDatabase(1,function(a,b,c){var d=b.createObjectStore("student",{keyPath:"rollno"});d.createIndex("rfid","rfid",{unique:!0}),d.createIndex("gradeIndex","grade_id",{unique:!1}),d.createIndex("route_id","route_id",{unique:!1});var d=b.createObjectStore("route",{keyPath:"_id"}),d=b.createObjectStore("class",{keyPath:"name"})});var d={apiKey:"AIzaSyDYcp-NxPhPfOmLXh3E1lFiN1eXSTMzN8I",authDomain:"track-kid-fa7d2.firebaseapp.com"};firebase.initializeApp(d),c.debugEnabled(!1)}]),app.run(["$rootScope","$log","$interval",function(a,b,c){b.debug("run"),a.global={error:"",buswarning:!0,stuwarning:!1,routewarning:!1,showModal:!1,showSettingSubMenu:!1,ShowFeesmodule:!1,ShowTimeTablemodule:!1},a.rfidModule=!1,a.toolbar={visible:!0},a.showSideMenu=!0,a.changeServer=function(){a.selectserverUrl?a.serverURL="http://localhost:5000":a.serverURL="https://api.zuwagon.com",console.log("Server Url : ",a.serverURL)},a.toggleSideThruIcon=function(){a.showSideMenu=!a.showSideMenu,1==a.showSideMenu?$("#sidebar").removeClass("hide"):$("#sidebar").addClass("hide")},a.openSubFees=function(){0==a.global.ShowFeesmodule?a.global.ShowFeesmodule=!0:a.global.ShowFeesmodule=!1},a.closeSubFees=function(){a.global.ShowFeesmodule=!1},a.openTimeTable=function(){0==a.global.ShowTimeTablemodule?a.global.ShowTimeTablemodule=!0:a.global.ShowTimeTablemodule=!1},a.closeTimeTable=function(){a.global.ShowTimeTablemodule=!1},a.categoryLabel={schoolWithRFID:0,schoolWithoutRFID:1,general:2},a.stopRefresh=function(){angular.isDefined(a.refreshTokenStop)&&(b.debug("stoprefresh:"),c.cancel(a.refreshTokenStop),a.refreshTokenStop=void 0)}}]),app.filter("trusted",["$sce",function(a){return a.trustAsResourceUrl}]),app.directive("ngDropdownMultiselect",["$filter","$document","$compile","$parse","$log",function(a,b,c,d,e){return{restrict:"AE",scope:{selectedModel:"=",options:"=",extraSettings:"=",events:"=",searchFilter:"=?",translationTexts:"=",groupBy:"@"},template:function(a,b){var c=!!b.checkboxes,d=!!b.groupBy,e='<div class="col-sm-12 multiselect-parent btn-group dropdown-multiselect">';e+='<button type="button" class="dropdown-toggle" style="width: 100%;" ng-class="settings.buttonClasses" ng-click="toggleDropdown()">{{getButtonText()}}&nbsp;<span class="caret"></span></button>',e+="<ul class=\"dropdown-menu dropdown-menu-form\" ng-style=\"{display: open ? 'block' : 'none', height : settings.scrollable ? settings.scrollableHeight : 'auto' }\" style=\"overflow: scroll;margin-left: 15px;\" >",e+='<li ng-hide="!settings.showCheckAll || settings.selectionLimit > 0"><a data-ng-click="selectAll()"><span class="glyphicon glyphicon-ok"></span>  {{texts.checkAll}}</a>',e+='<li ng-show="settings.showUncheckAll"><a data-ng-click="deselectAll();"><span class="glyphicon glyphicon-remove"></span>   {{texts.uncheckAll}}</a></li>',e+='<li ng-hide="(!settings.showCheckAll || settings.selectionLimit > 0) && !settings.showUncheckAll" class="divider"></li>',e+='<li ng-show="settings.enableSearch"><div class="dropdown-header"><input type="text" class="form-control" style="width: 100%;" ng-model="searchFilter" placeholder="{{texts.searchPlaceholder}}" /></li>',e+='<li ng-show="settings.enableSearch" class="divider"></li>',d?(e+='<li ng-repeat-start="option in orderedItems | filter: searchFilter" ng-show="getPropertyForObject(option, settings.groupBy) !== getPropertyForObject(orderedItems[$index - 1], settings.groupBy)" role="presentation" class="dropdown-header">{{ getGroupTitle(getPropertyForObject(option, settings.groupBy)) }}</li>',e+='<li ng-repeat-end role="presentation">'):e+='<li role="presentation" ng-repeat="option in options | filter: searchFilter">',e+='<a role="menuitem" tabindex="-1" ng-click="setSelectedItem(getPropertyForObject(option,settings.idProp))">',e+=c?'<div class="checkbox"><label><input class="checkboxInput" type="checkbox" ng-click="checkboxClick($event, getPropertyForObject(option,settings.idProp))" ng-checked="isChecked(getPropertyForObject(option,settings.idProp))" /> {{getPropertyForObject(option, settings.displayProp)}}</label></div></a>':"<span data-ng-class=\"{'glyphicon glyphicon-ok': isChecked(getPropertyForObject(option,settings.idProp))}\"></span> {{getPropertyForObject(option, settings.displayProp)}}</a>",e+="</li>",e+='<li class="divider" ng-show="settings.selectionLimit > 1"></li>',e+='<li role="presentation" ng-show="settings.selectionLimit > 1"><a role="menuitem">{{selectedModel.length}} {{texts.selectionOf}} {{settings.selectionLimit}} {{texts.selectionCount}}</a></li>',e+="</ul>",e+="</div>",a.html(e)},link:function(c,d,f){function g(a){var b={};return""===c.settings.externalIdProp?b[c.settings.idProp]=a:b[c.settings.externalIdProp]=a,b}function h(a){for(var b in a)delete a[b]}var i=d.children()[0];c.toggleDropdown=function(){c.open=!c.open},c.checkboxClick=function(a,b){c.setSelectedItem(b),a.stopImmediatePropagation()},c.externalEvents={onItemSelect:angular.noop,onItemDeselect:angular.noop,onSelectAll:angular.noop,onDeselectAll:angular.noop,onInitDone:angular.noop,onMaxSelectionReached:angular.noop},c.settings={dynamicTitle:!0,scrollable:!1,scrollableHeight:"300px",closeOnBlur:!0,displayProp:"name",idProp:"_id",externalIdProp:"_id",enableSearch:!1,selectionLimit:0,showCheckAll:!0,showUncheckAll:!0,closeOnSelect:!1,buttonClasses:"btn btn-default",closeOnDeselect:!1,groupBy:f.groupBy||void 0,groupByTextProvider:null,smartButtonMaxItems:0,smartButtonTextConverter:angular.noop},c.texts={checkAll:"Check All",uncheckAll:"Uncheck All",selectionCount:"selected",selectionOf:"/",searchPlaceholder:"Search...",buttonDefaultText:"Select",dynamicButtonTextSuffix:"selected"},c.searchFilter=c.searchFilter||"",c.selectedDisplayList=[],angular.isDefined(c.settings.groupBy)&&c.$watch("options",function(b){angular.isDefined(b)&&(c.orderedItems=a("orderBy")(b,c.settings.groupBy))}),angular.extend(c.settings,c.extraSettings||[]),angular.extend(c.externalEvents,c.events||[]),angular.extend(c.texts,c.translationTexts),c.singleSelection=1===c.settings.selectionLimit,c.singleSelection&&angular.isArray(c.selectedModel)&&0===c.selectedModel.length&&h(c.selectedModel),c.settings.closeOnBlur&&b.on("click",function(a){for(var b=a.target.parentElement,d=!1;angular.isDefined(b)&&null!==b&&!d;)_.contains(b.className.split(" "),"multiselect-parent")&&!d&&b===i&&(d=!0),b=b.parentElement;d||c.$apply(function(){c.open=!1})}),c.getGroupTitle=function(a){return null!==c.settings.groupByTextProvider?c.settings.groupByTextProvider(a):a},c.getButtonText=function(){if(c.settings.dynamicTitle&&(c.selectedModel.length>0||angular.isObject(c.selectedModel)&&_.keys(c.selectedModel).length>0)){if(c.settings.smartButtonMaxItems>0){var a=[];return angular.forEach(c.options,function(b){if(c.isChecked(c.getPropertyForObject(b,c.settings.idProp))){var d=c.getPropertyForObject(b,c.settings.displayProp),e=c.settings.smartButtonTextConverter(d,b);a.push(e?e:d)}}),c.selectedModel.length>c.settings.smartButtonMaxItems&&(a=a.slice(0,c.settings.smartButtonMaxItems),a.push("...")),a.join(", ")}var b;return b=c.singleSelection?null!==c.selectedModel&&angular.isDefined(c.selectedModel[c.settings.idProp])?1:0:angular.isDefined(c.selectedModel)?c.selectedModel.length:0,0===b?c.texts.buttonDefaultText:"Class "+c.selectedDisplayList+" "}return c.texts.buttonDefaultText},c.getPropertyForObject=function(a,b){return angular.isDefined(a)&&a.hasOwnProperty(b)?a[b]:""},c.selectAll=function(){c.deselectAll(!1),c.externalEvents.onSelectAll(),angular.forEach(c.options,function(a){c.setSelectedItem(a[c.settings.idProp],!0)})},c.deselectAll=function(a){c.selectedDisplayList=[],a=a||!0,a&&c.externalEvents.onDeselectAll(),c.singleSelection?h(c.selectedModel):c.selectedModel.splice(0,c.selectedModel.length)},c.setSelectedItem=function(a,b){var d=g(a),f=null,i=_.find(c.options,d);if(e.debug("tempObj = ",JSON.stringify(i)),f=""===c.settings.externalIdProp?_.find(c.options,d):d,e.debug("finalObj = ",JSON.stringify(f)),c.singleSelection)return h(c.selectedModel),angular.extend(c.selectedModel,f),c.externalEvents.onItemSelect(f),void(c.settings.closeOnSelect&&(c.open=!1));b=b||!1;var j=_.findIndex(c.selectedModel,d)!==-1;if(e.debug("before $scope.selectedDisplayList = "+JSON.stringify(c.selectedDisplayList)),e.debug("before findObj $scope.selectedModel = "+d+JSON.stringify(c.selectedModel)),!b&&j){c.selectedModel.splice(_.findIndex(c.selectedModel,d),1);var k=c.selectedDisplayList.indexOf(i.name);e.debug("_.findIndex($scope.selectedDisplayList, tempObj.name) = "+k),c.selectedDisplayList.splice(k,1),c.externalEvents.onItemDeselect(d)}else!j&&(0===c.settings.selectionLimit||c.selectedModel.length<c.settings.selectionLimit)&&(c.selectedModel.push(f),c.selectedDisplayList.push(i.name),c.externalEvents.onItemSelect(f));e.debug("after $scope.selectedDisplayList = "+JSON.stringify(c.selectedDisplayList)),c.settings.closeOnSelect&&(c.open=!1)},c.isChecked=function(a){return c.singleSelection?null!==c.selectedModel&&angular.isDefined(c.selectedModel[c.settings.idProp])&&c.selectedModel[c.settings.idProp]===g(a)[c.settings.idProp]:_.findIndex(c.selectedModel,g(a))!==-1},c.externalEvents.onInitDone()}}}]),app.factory("AuthenticationService",["$http","$cookies","$rootScope","$log","HttpService","jwtHelper",function(a,b,c,d,e,f){function g(b,f,g){a.defaults.headers.common.Authorization.delete,d.debug("Auth login called");var h=e.HttpPostData(c.serverURL+"/auth/admin",{email:b,password:f,client_id:"customerapp"});h.then(function(a){1==a.success&&d.debug("result.data "+a.data.token),g(a)})}function h(e,g){c.customerData={currentUser:{eMailid:e,authdata:g}},a.defaults.headers.common.Authorization="Bearer "+g;var h=f.decodeToken(g),i=f.getTokenExpirationDate(g);d.debug("tokenPayload "+h),d.debug("tokenPayload "+i),b.put("customerData",JSON.stringify(c.customerData),{expires:i}),d.debug("cookie expiry date : "+i)}function i(){d.debug("clear cred call"),c.customerData={},b.remove("customerData"),a.defaults.headers.common.Authorization="Bearer"}var j={};return j.Login=g,j.SetCredentials=h,j.ClearCredentials=i,j}]),app.factory("Auth",["$firebaseAuth","firebase",function(a,b){return a()}]),app.factory("busService",["HttpService","FlashService","$sessionStorage","$rootScope","$q","$log",function(a,b,c,d,e,f){function g(){var g=e.defer(),i=a.HttpGetData(d.serverURL+"/customer/handshake");return i.then(function(a){if(1==a.success){f.debug("getBusDeviceList = "+a.data.fleet+"length"+a.data.fleet.length),h.busDeviceList=a.data.fleet;var d=[],e=[];angular.forEach(a.data.fleet,function(a){null==a.bus_number||""==a.bus_number||void 0==a.bus_number?e.push(a):d.push(a)}),h.busList=d,h.unassignedDeviceList=e,void 0==a.data.info.alert_idle&&(a.data.info.alert_idle=5),void 0==a.data.info.alert_speed&&(a.data.info.alert_speed=60),c.profileInfo=JSON.stringify(a.data.info),g.resolve()}else null==a.data||""==a.data||void 0==a.data?b.Error("Oops, something went wrong! Please login again."):b.Error(a.data),g.reject()}),g.promise}var h={};return h.busDeviceList=[],h.busList=[],h.unassignedDeviceList=[],h.getBusDeviceList=g,h}]),app.factory("constantService",["serverURLService",function(a){var b={};return b.runningBusIcon="../assets/img/bus.png",b.stoppedBusIcon="../assets/img/stoppedbus.png",b.bikeIcon="../assets/img/bike3760.png",b.stoppedBikeIcon="../assets/img/bike3760grey.png",b.notRespondingBikeIcon="../assets/img/bike3760red.png",b.carIcon="../assets/img/map_car_green.png",b.carIconzSvg="../assets/img/car23.svg",b.stoppedCarIcon="../assets/img/map_car.png",b.notRespondingCarIcon="../assets/img/map_car_red.png",b.idleIcon="../assets/img/map_car_amber.png",b.truckIcon="../assets/img/map_truck_green.png",b.stoppedTruckIcon="../assets/img/map_truck.png",b.notRespondingTruckIcon="../assets/img/map_truck_red.png",b.idleTruckIcon="../assets/img/map_truck_amber.png",b.new_truck="../assets/img/map_truck.png",b.schoolIcon="../assets/img/School-48.png",b.serverURL=a.serverURL,b.notRespondingBusIcon="../assets/img/redbus.png",b.stopIcon="../assets/img/stop.png",b.stop32Icon="../assets/img/stop32.png",b.beachFlagIcon="../assets/img/beachflag.png",b.defaultIconScale=1,b.stopIconScale=.4,b.defaultIconRotation=0,b.showPopuponClickorHover="pointermove",b.showPopuponClickorHoverGMap="mouseover",b.isMobileBroswer=!1,b.defaultZoom=10,b.minZoom=4,b.maxZoom=18,b.stoppedStatus=0,b.movingStatus=1,b.idleStatus=2,b.notRespondingStatus=3,window.mobileAndTabletcheck=function(){var a=!1;return function(b){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(b)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(b.substr(0,4)))&&(a=!0)}(navigator.userAgent||navigator.vendor||window.opera),a},b.isMobileBroswer=window.mobileAndTabletcheck(),b.isMobileBroswer&&(b.showPopuponClickorHover="click",b.showPopuponClickorHoverGMap="click"),b}]),app.directive("fileInput",function(){return{restrict:"AE",scope:{file:"@"},link:function(a,b,c){b.bind("change",function(b){var d=b.target.files;if(d&&d.length){var e=d[0],f=c.fileChangeHandlerName;if(f){var g=a.$parent[f];g&&g instanceof Function&&g(e)}}})}}}),app.factory("FlashService",["$rootScope",function(a){function b(){function b(){var b=a.flash;b&&(b.keepAfterLocationChange?b.keepAfterLocationChange=!1:delete a.flash)}a.$on("$locationChangeStart",function(){b()})}function c(b,c){a.flash={message:b,type:"success",keepAfterLocationChange:c}}function d(b,c){a.flash={message:b,type:"error",keepAfterLocationChange:c}}var e={};return e.Success=c,e.Error=d,b(),e}]),app.factory("geofenceService",function(){var a={};return a.geofenceList=[],a}),app.factory("HandShakeService",["HttpService","$indexedDB","$rootScope","busService","$q","FlashService","$log","$sessionStorage","$location",function(a,b,c,d,e,f,g,h,i){function j(b){g.debug("Inside getAllStudentInfo");var d=e.defer(),h="";b&&(h="?grade_id="+b);var i=a.HttpGetData(c.serverURL+"/customer/student/getStudentDataByallfilters"+h);return i.then(function(a){1==a.success?d.resolve(a.data.data):(null==a.data||""==a.data||void 0==a.data?f.Error("Oops, something went wrong! Please login again."):f.Error(a.data),d.reject(a.data))}),g.debug("End of getAllStudentInfo"),d.promise}function k(b){g.debug("Inside getRouteStopInfo");var d=e.defer(),h=a.HttpGetData(c.serverURL+"/customer/routes/"+b);return h.then(function(a){1==a.success?d.resolve(a.data[0]):(null==a.data||""==a.data||void 0==a.data?f.Error("Oops, something went wrong! Please login again."):f.Error(a.data),d.reject(a.data))}),g.debug("End of getRouteStopInfo"),d.promise}function l(a){e.defer();j("?grade_id="+a)}function m(a){g.debug("");var c=e.defer();return l(a).then(function(a){g.debug("stuList.length = "+a.length);var d=function(e){b.openStore("student",function(b){g.debug("going to delete stuList[iter].rollno "+a[e].rollno),b.delete(a[e].rollno).then(function(){g.debug("delete stuList[iter].name iter"+a[e]._id+a[e].name+" "+e),e<a.length-1?(g.debug("dleteing another iter + 1 "+e+1),d(e+1)):(g.debug("resolving"),c.resolve())})})};0!=a.length?d(0):c.resolve()}),c.promise}function n(){g.debug("Inside getGradeInfo");var b=e.defer(),d=a.HttpGetData(c.serverURL+"/customer/grades");return d.then(function(a){1==a.success?b.resolve(a.data):(null==a.data||""==a.data||void 0==a.data?f.Error("Oops, something went wrong! Please login again."):f.Error(a.data),b.reject(a.data))}),g.debug("End of getGradeInfo"),b.promise}function o(){g.debug("Inside getRouteInfo");var b=e.defer(),d=a.HttpGetData(c.serverURL+"/customer/routes");return d.then(function(a){1==a.success?b.resolve(a.data):(null==a.data||""==a.data||void 0==a.data?f.Error("Oops, something went wrong! Please login again."):f.Error(a.data),b.reject(a.data))}),g.debug("End of getRouteInfo"),b.promise}function p(){g.debug("clearing indexxeddb");var a=e.defer();return b.openStore("student",function(c){c.clear().then(function(){b.openStore("class",function(c){c.clear().then(function(){b.openStore("route",function(b){b.clear().then(function(){a.resolve()})})})})})}),a.promise}function q(){g.debug("stuwarningcheck called"),c.global.stuwarning=!1,b.openStore("class",function(a){a.count().then(function(b){0==b&&(c.global.stuwarning=!0),a.each().then(function(a){angular.forEach(a,function(a){g.debug("classObject._id = "+a._id),l(a._id).then(function(a){g.debug("stuList length = "+a.length),0==a.length&&0==c.global.stuwarning&&(c.global.stuwarning=!0)})})})})})}function r(){g.debug("routewarningcheck called"),c.global.routewarning=!1,b.openStore("route",function(a){a.count().then(function(b){0==b?c.global.routewarning=!0:a.each().then(function(a){angular.forEach(a,function(a){0!=a.stop_list.length&&0!=a.stucount||(c.global.routewarning=!0)})})})})}function s(){var b=e.defer(),j=a.HttpGetData(c.serverURL+"/customer/handshake");return j.then(function(a){if(1==a.success){g.debug("getBusDeviceList = "+a.data.fleet+"length"+a.data.fleet.length),d.busDeviceList=a.data.fleet,d.tripList=a.data.trip;var e=[],j=[];angular.forEach(a.data.fleet,function(a){a.bus_number?e.push(a):j.push(a)}),d.busList=e,d.unassignedDeviceList=j,void 0==a.data.info.alert_idle&&(a.data.info.alert_idle=5),void 0==a.data.info.alert_speed&&(a.data.info.alert_speed=60),c.firebaseUser&&(a.data.info.name=c.firebaseUser.displayName),h.profileInfo=JSON.stringify(a.data.info),a.data.info&&(c.category=a.data.info.category,0==a.data.info.category?(c.rfidModule=!0,b.resolve()):2==a.data.info.category&&i.host().indexOf("school.zuwagon.com")!==-1?(f.Error("You are not authorised to login"),b.reject("You are not authorised to login")):(c.rfidModule=!1,b.resolve()))}else null==a.data||""==a.data||void 0==a.data?f.Error("Oops, something went wrong! Please login again."):f.Error(a.data),b.reject()}),b.promise}function t(){g.debug("fullHandShake called"),u.hanshakeInProgress=!0;var a=e.defer();return s().then(function(){n().then(function(){o().then(function(b){c.$broadcast("callHeaderController"),a.resolve()})},function(b){c.mypageloading=!1,g.debug("fullHandShake: insert in getGradeInfo , error = "+b),a.reject(b)})},function(b){g.debug("Error in handshake = "+b),a.reject(b)}),a.promise}var u={};return u.getGradeInfo=n,u.getRouteInfo=o,u.getStudentInfo=j,u.getAllStudentInfo=j,u.deleteAllStudentOfClass=m,u.getRouteStopInfo=k,u.stuwarningcheck=q,u.routewarningcheck=r,u.fullHandShake=t,u.clearIndexedDB=p,u.handshakeAndUpdateBus=s,u.hanshakeInProgress=!1,u}]),function(a,b,c){"use strict";function d(b){j.logging&&a.console&&a.console.log&&a.console.log(b)}function e(a,b,c,d,e,f){var g,h,i,k,l=j.Util.getCSS(b,a,e);if(1===l.length&&(k=l[0],l=[],l[0]=k,l[1]=k),l[0].toString().indexOf("%")!==-1)i=parseFloat(l[0])/100,h=c.width*i,"backgroundSize"!==a&&(h-=(f||d).width*i);else if("backgroundSize"===a)if("auto"===l[0])h=d.width;else if(l[0].match(/contain|cover/)){var m=j.Util.resizeBounds(d.width,d.height,c.width,c.height,l[0]);h=m.width,g=m.height}else h=parseInt(l[0],10);else h=parseInt(l[0],10);return"auto"===l[1]?g=h/d.width*d.height:l[1].toString().indexOf("%")!==-1?(i=parseFloat(l[1])/100,g=c.height*i,"backgroundSize"!==a&&(g-=(f||d).height*i)):g=parseInt(l[1],10),[h,g]}function f(a,b){var c=[];return{storage:c,width:a,height:b,clip:function(){c.push({type:"function",name:"clip",arguments:arguments})},translate:function(){c.push({type:"function",name:"translate",arguments:arguments})},fill:function(){c.push({type:"function",name:"fill",arguments:arguments})},save:function(){c.push({type:"function",name:"save",arguments:arguments})},restore:function(){c.push({type:"function",name:"restore",arguments:arguments})},fillRect:function(){c.push({type:"function",name:"fillRect",arguments:arguments})},createPattern:function(){c.push({type:"function",name:"createPattern",arguments:arguments})},drawShape:function(){var a=[];return c.push({type:"function",name:"drawShape",arguments:a}),{moveTo:function(){a.push({name:"moveTo",arguments:arguments})},lineTo:function(){a.push({name:"lineTo",arguments:arguments})},arcTo:function(){a.push({name:"arcTo",arguments:arguments})},bezierCurveTo:function(){a.push({name:"bezierCurveTo",arguments:arguments})},quadraticCurveTo:function(){a.push({name:"quadraticCurveTo",arguments:arguments})}}},drawImage:function(){c.push({type:"function",name:"drawImage",arguments:arguments})},fillText:function(){c.push({type:"function",name:"fillText",arguments:arguments})},setVariable:function(a,b){c.push({type:"variable",name:a,arguments:b})}}}function g(a){return{zindex:a,children:[]}}var h,i,j={};j.Util={},j.Util.trimText=function(a){return function(b){return a?a.apply(b):((b||"")+"").replace(/^\s+|\s+$/g,"")}}(String.prototype.trim),j.Util.parseBackgroundImage=function(a){var b,c,d,e,f,g,h,i,j=" \r\n\t",k=[],l=0,m=0,n=function(){b&&('"'===c.substr(0,1)&&(c=c.substr(1,c.length-2)),c&&i.push(c),"-"===b.substr(0,1)&&(e=b.indexOf("-",1)+1)>0&&(d=b.substr(0,e),b=b.substr(e)),k.push({prefix:d,method:b.toLowerCase(),value:f,args:i})),i=[],b=d=c=f=""};n();for(var o=0,p=a.length;o<p;o++)if(g=a[o],!(0===l&&j.indexOf(g)>-1)){switch(g){case'"':h?h===g&&(h=null):h=g;break;case"(":if(h)break;if(0===l){l=1,f+=g;continue}m++;break;case")":if(h)break;if(1===l){if(0===m){l=0,f+=g,n();continue}m--}break;case",":if(h)break;if(0===l){n();continue}if(1===l&&0===m&&!b.match(/^url$/i)){i.push(c),c="",f+=g;continue}}f+=g,0===l?b+=g:c+=g}return n(),k},j.Util.Bounds=function(a){var b,c={};if(a.getBoundingClientRect)return b=a.getBoundingClientRect(),c.top=b.top,c.bottom=b.bottom||b.top+b.height,c.left=b.left,c.width=b.width||b.right-b.left,c.height=b.height||b.bottom-b.top,c},j.Util.getCSS=function(a,d,e){function f(b,c){var d,e=a.runtimeStyle&&a.runtimeStyle[b],f=a.style;return!/^-?[0-9]+\.?[0-9]*(?:px)?$/i.test(c)&&/^-?\d/.test(c)&&(d=f.left,e&&(a.runtimeStyle.left=a.currentStyle.left),f.left="fontSize"===b?"1em":c||0,c=f.pixelLeft+"px",f.left=d,e&&(a.runtimeStyle.left=e)),/^(thin|medium|thick)$/i.test(c)?c:Math.round(parseFloat(c))+"px"}var g,k=d.match(/^background(Size|Position)$/);if(h!==a&&(i=b.defaultView.getComputedStyle(a,null)),g=i[d],k)if(g=(g||"").split(","),g=g[e||0]||g[0]||"auto",g=j.Util.trimText(g).split(" "),"backgroundSize"!==d||g[0]&&!g[0].match(/cover|contain|auto/)){if(g[0]=g[0].indexOf("%")===-1?f(d+"X",g[0]):g[0],g[1]===c){if("backgroundSize"===d)return g[1]="auto",g;g[1]=g[0]}g[1]=g[1].indexOf("%")===-1?f(d+"Y",g[1]):g[1]}else;else if(/border(Top|Bottom)(Left|Right)Radius/.test(d)){var l=g.split(" ");l.length<=1&&(l[1]=l[0]),l[0]=parseInt(l[0],10),l[1]=parseInt(l[1],10),g=l}return g},j.Util.resizeBounds=function(a,b,c,d,e){var f,g,h=c/d,i=a/b;return e&&"auto"!==e?h<i^"contain"===e?(g=d,f=d*i):(f=c,g=c/i):(f=c,g=d),{width:f,height:g}},j.Util.BackgroundPosition=function(a,b,c,d,f){var g=e("backgroundPosition",a,b,c,d,f);return{left:g[0],top:g[1]}},j.Util.BackgroundSize=function(a,b,c,d){var f=e("backgroundSize",a,b,c,d);return{width:f[0],height:f[1]}},j.Util.Extend=function(a,b){for(var c in a)a.hasOwnProperty(c)&&(b[c]=a[c]);return b},j.Util.Children=function(a){var b;try{b=a.nodeName&&"IFRAME"===a.nodeName.toUpperCase()?a.contentDocument||a.contentWindow.document:function(a){var b=[];return null!==a&&!function(a,b){var d=a.length,e=0;if("number"==typeof b.length)for(var f=b.length;e<f;e++)a[d++]=b[e];else for(;b[e]!==c;)a[d++]=b[e++];return a.length=d,a}(b,a),b}(a.childNodes)}catch(a){d("html2canvas.Util.Children failed with exception: "+a.message),b=[]}return b},j.Util.Font=function(){var a={};return function(b,d,e){if(a[b+"-"+d]!==c)return a[b+"-"+d];var f,g,h,i=e.createElement("div"),j=e.createElement("img"),k=e.createElement("span"),l="Hidden Text";return i.style.visibility="hidden",i.style.fontFamily=b,i.style.fontSize=d,i.style.margin=0,i.style.padding=0,e.body.appendChild(i),j.src="data:image/gif;base64,R0lGODlhAQABAIABAP///wAAACwAAAAAAQABAAACAkQBADs=",j.width=1,j.height=1,j.style.margin=0,j.style.padding=0,j.style.verticalAlign="baseline",k.style.fontFamily=b,k.style.fontSize=d,k.style.margin=0,k.style.padding=0,k.appendChild(e.createTextNode(l)),i.appendChild(k),i.appendChild(j),f=j.offsetTop-k.offsetTop+1,i.removeChild(k),i.appendChild(e.createTextNode(l)),i.style.lineHeight="normal",j.style.verticalAlign="super",g=j.offsetTop-i.offsetTop+1,h={baseline:f,lineWidth:1,middle:g},a[b+"-"+d]=h,e.body.removeChild(i),h}}(),function(){j.Generate={};var a=[/^(-webkit-linear-gradient)\(([a-z\s]+)([\w\d\.\s,%\(\)]+)\)$/,/^(-o-linear-gradient)\(([a-z\s]+)([\w\d\.\s,%\(\)]+)\)$/,/^(-webkit-gradient)\((linear|radial),\s((?:\d{1,3}%?)\s(?:\d{1,3}%?),\s(?:\d{1,3}%?)\s(?:\d{1,3}%?))([\w\d\.\s,%\(\)\-]+)\)$/,/^(-moz-linear-gradient)\(((?:\d{1,3}%?)\s(?:\d{1,3}%?))([\w\d\.\s,%\(\)]+)\)$/,/^(-webkit-radial-gradient)\(((?:\d{1,3}%?)\s(?:\d{1,3}%?)),\s(\w+)\s([a-z\-]+)([\w\d\.\s,%\(\)]+)\)$/,/^(-moz-radial-gradient)\(((?:\d{1,3}%?)\s(?:\d{1,3}%?)),\s(\w+)\s?([a-z\-]*)([\w\d\.\s,%\(\)]+)\)$/,/^(-o-radial-gradient)\(((?:\d{1,3}%?)\s(?:\d{1,3}%?)),\s(\w+)\s([a-z\-]+)([\w\d\.\s,%\(\)]+)\)$/];j.Generate.parseGradient=function(b,c){var d,e,f,g,h,i,j,k,l,m,n,o,p=a.length;for(e=0;e<p&&!(f=b.match(a[e]));e+=1);if(f)switch(f[1]){case"-webkit-linear-gradient":case"-o-linear-gradient":if(d={type:"linear",x0:null,y0:null,x1:null,y1:null,colorStops:[]},h=f[2].match(/\w+/g))for(i=h.length,e=0;e<i;e+=1)switch(h[e]){case"top":d.y0=0,d.y1=c.height;break;case"right":d.x0=c.width,d.x1=0;break;case"bottom":d.y0=c.height,d.y1=0;break;case"left":d.x0=0,d.x1=c.width}if(null===d.x0&&null===d.x1&&(d.x0=d.x1=c.width/2),null===d.y0&&null===d.y1&&(d.y0=d.y1=c.height/2),h=f[3].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\)(?:\s\d{1,3}(?:%|px))?)+/g))for(i=h.length,j=1/Math.max(i-1,1),e=0;e<i;e+=1)k=h[e].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\))\s*(\d{1,3})?(%|px)?/),k[2]?(g=parseFloat(k[2]),g/="%"===k[3]?100:c.width):g=e*j,d.colorStops.push({color:k[1],stop:g});break;case"-webkit-gradient":if(d={type:"radial"===f[2]?"circle":f[2],x0:0,y0:0,x1:0,y1:0,colorStops:[]},h=f[3].match(/(\d{1,3})%?\s(\d{1,3})%?,\s(\d{1,3})%?\s(\d{1,3})%?/),h&&(d.x0=h[1]*c.width/100,d.y0=h[2]*c.height/100,d.x1=h[3]*c.width/100,d.y1=h[4]*c.height/100),h=f[4].match(/((?:from|to|color-stop)\((?:[0-9\.]+,\s)?(?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\)\))+/g))for(i=h.length,e=0;e<i;e+=1)k=h[e].match(/(from|to|color-stop)\(([0-9\.]+)?(?:,\s)?((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\))\)/),g=parseFloat(k[2]),"from"===k[1]&&(g=0),"to"===k[1]&&(g=1),d.colorStops.push({color:k[3],stop:g});break;case"-moz-linear-gradient":if(d={type:"linear",x0:0,y0:0,x1:0,y1:0,colorStops:[]},h=f[2].match(/(\d{1,3})%?\s(\d{1,3})%?/),h&&(d.x0=h[1]*c.width/100,
d.y0=h[2]*c.height/100,d.x1=c.width-d.x0,d.y1=c.height-d.y0),h=f[3].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\)(?:\s\d{1,3}%)?)+/g))for(i=h.length,j=1/Math.max(i-1,1),e=0;e<i;e+=1)k=h[e].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\))\s*(\d{1,3})?(%)?/),k[2]?(g=parseFloat(k[2]),k[3]&&(g/=100)):g=e*j,d.colorStops.push({color:k[1],stop:g});break;case"-webkit-radial-gradient":case"-moz-radial-gradient":case"-o-radial-gradient":if(d={type:"circle",x0:0,y0:0,x1:c.width,y1:c.height,cx:0,cy:0,rx:0,ry:0,colorStops:[]},h=f[2].match(/(\d{1,3})%?\s(\d{1,3})%?/),h&&(d.cx=h[1]*c.width/100,d.cy=h[2]*c.height/100),h=f[3].match(/\w+/),k=f[4].match(/[a-z\-]*/),h&&k)switch(k[0]){case"farthest-corner":case"cover":case"":l=Math.sqrt(Math.pow(d.cx,2)+Math.pow(d.cy,2)),m=Math.sqrt(Math.pow(d.cx,2)+Math.pow(d.y1-d.cy,2)),n=Math.sqrt(Math.pow(d.x1-d.cx,2)+Math.pow(d.y1-d.cy,2)),o=Math.sqrt(Math.pow(d.x1-d.cx,2)+Math.pow(d.cy,2)),d.rx=d.ry=Math.max(l,m,n,o);break;case"closest-corner":l=Math.sqrt(Math.pow(d.cx,2)+Math.pow(d.cy,2)),m=Math.sqrt(Math.pow(d.cx,2)+Math.pow(d.y1-d.cy,2)),n=Math.sqrt(Math.pow(d.x1-d.cx,2)+Math.pow(d.y1-d.cy,2)),o=Math.sqrt(Math.pow(d.x1-d.cx,2)+Math.pow(d.cy,2)),d.rx=d.ry=Math.min(l,m,n,o);break;case"farthest-side":"circle"===h[0]?d.rx=d.ry=Math.max(d.cx,d.cy,d.x1-d.cx,d.y1-d.cy):(d.type=h[0],d.rx=Math.max(d.cx,d.x1-d.cx),d.ry=Math.max(d.cy,d.y1-d.cy));break;case"closest-side":case"contain":"circle"===h[0]?d.rx=d.ry=Math.min(d.cx,d.cy,d.x1-d.cx,d.y1-d.cy):(d.type=h[0],d.rx=Math.min(d.cx,d.x1-d.cx),d.ry=Math.min(d.cy,d.y1-d.cy))}if(h=f[5].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\)(?:\s\d{1,3}(?:%|px))?)+/g))for(i=h.length,j=1/Math.max(i-1,1),e=0;e<i;e+=1)k=h[e].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\))\s*(\d{1,3})?(%|px)?/),k[2]?(g=parseFloat(k[2]),g/="%"===k[3]?100:c.width):g=e*j,d.colorStops.push({color:k[1],stop:g})}return d},j.Generate.Gradient=function(a,c){if(0!==c.width&&0!==c.height){var e,f,g,h,i=b.createElement("canvas"),k=i.getContext("2d");if(i.width=c.width,i.height=c.height,e=j.Generate.parseGradient(a,c))if("linear"===e.type){for(f=k.createLinearGradient(e.x0,e.y0,e.x1,e.y1),g=0,h=e.colorStops.length;g<h;g+=1)try{f.addColorStop(e.colorStops[g].stop,e.colorStops[g].color)}catch(b){d(["failed to add color stop: ",b,"; tried to add: ",e.colorStops[g],"; stop: ",g,"; in: ",a])}k.fillStyle=f,k.fillRect(0,0,c.width,c.height)}else if("circle"===e.type){for(f=k.createRadialGradient(e.cx,e.cy,0,e.cx,e.cy,e.rx),g=0,h=e.colorStops.length;g<h;g+=1)try{f.addColorStop(e.colorStops[g].stop,e.colorStops[g].color)}catch(b){d(["failed to add color stop: ",b,"; tried to add: ",e.colorStops[g],"; stop: ",g,"; in: ",a])}k.fillStyle=f,k.fillRect(0,0,c.width,c.height)}else if("ellipse"===e.type){var l=b.createElement("canvas"),m=l.getContext("2d"),n=Math.max(e.rx,e.ry),o=2*n;for(l.width=l.height=o,f=m.createRadialGradient(e.rx,e.ry,0,e.rx,e.ry,n),g=0,h=e.colorStops.length;g<h;g+=1)try{f.addColorStop(e.colorStops[g].stop,e.colorStops[g].color)}catch(b){d(["failed to add color stop: ",b,"; tried to add: ",e.colorStops[g],"; stop: ",g,"; in: ",a])}m.fillStyle=f,m.fillRect(0,0,o,o),k.fillStyle=e.colorStops[g-1].color,k.fillRect(0,0,i.width,i.height),k.drawImage(l,e.cx-e.rx,e.cy-e.ry,2*e.rx,2*e.ry)}return i}},j.Generate.ListAlpha=function(a){var b,c="";do b=a%26,c=String.fromCharCode(b+64)+c,a/=26;while(26*a>26);return c},j.Generate.ListRoman=function(a){var b,c=["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"],d=[1e3,900,500,400,100,90,50,40,10,9,5,4,1],e="",f=c.length;if(a<=0||a>=4e3)return a;for(b=0;b<f;b+=1)for(;a>=d[b];)a-=d[b],e+=c[b];return e}}(),j.Parse=function(e,h){function i(){return Math.max(Math.max(ha.body.scrollWidth,ha.documentElement.scrollWidth),Math.max(ha.body.offsetWidth,ha.documentElement.offsetWidth),Math.max(ha.body.clientWidth,ha.documentElement.clientWidth))}function k(){return Math.max(Math.max(ha.body.scrollHeight,ha.documentElement.scrollHeight),Math.max(ha.body.offsetHeight,ha.documentElement.offsetHeight),Math.max(ha.body.clientHeight,ha.documentElement.clientHeight))}function l(a,b){var c=parseInt(la(a,b),10);return isNaN(c)?0:c}function m(a,b,c,d,e,f){"transparent"!==f&&(a.setVariable("fillStyle",f),a.fillRect(b,c,d,e),ga+=1)}function n(a,b){switch(b){case"lowercase":return a.toLowerCase();case"capitalize":return a.replace(/(^|\s|:|-|\(|\))([a-z])/g,function(a,b,c){if(a.length>0)return b+c.toUpperCase()});case"uppercase":return a.toUpperCase();default:return a}}function o(a){return/^(normal|none|0px)$/.test(a)}function p(a,b,c,d){null!==a&&j.Util.trimText(a).length>0&&(d.fillText(a,b,c),ga+=1)}function q(a,b,c,d){var e=!1,f=la(b,"fontWeight"),g=la(b,"fontFamily"),h=la(b,"fontSize");switch(parseInt(f,10)){case 401:f="bold";break;case 400:f="normal"}if(a.setVariable("fillStyle",d),a.setVariable("font",[la(b,"fontStyle"),la(b,"fontVariant"),f,h,g].join(" ")),a.setVariable("textAlign",e?"right":"left"),"none"!==c)return j.Util.Font(g,h,ha)}function r(a,b,c,d,e){switch(b){case"underline":m(a,c.left,Math.round(c.top+d.baseline+d.lineWidth),c.width,1,e);break;case"overline":m(a,c.left,Math.round(c.top),c.width,1,e);break;case"line-through":m(a,c.left,Math.ceil(c.top+d.middle+d.lineWidth),c.width,1,e)}}function s(a,b,c,d){var e;if(ia.rangeBounds)"none"===c&&0===j.Util.trimText(b).length||(e=t(b,a.node,a.textOffset)),a.textOffset+=b.length;else if(a.node&&"string"==typeof a.node.nodeValue){var f=d?a.node.splitText(b.length):null;e=u(a.node),a.node=f}return e}function t(a,b,c){var d=ha.createRange();return d.setStart(b,c),d.setEnd(b,c+a.length),d.getBoundingClientRect()}function u(a){var b=a.parentNode,c=ha.createElement("wrapper"),d=a.cloneNode(!0);c.appendChild(a.cloneNode(!0)),b.replaceChild(c,a);var e=j.Util.Bounds(c);return b.replaceChild(d,c),e}function v(a,b,c){var d,e,f=c.ctx,g=la(a,"color"),i=la(a,"textDecoration"),k=la(a,"textAlign"),l={node:b,textOffset:0};j.Util.trimText(b.nodeValue).length>0&&(b.nodeValue=n(b.nodeValue,la(a,"textTransform")),k=k.replace(["-webkit-auto"],["auto"]),e=!h.letterRendering&&/^(left|right|justify|auto)$/.test(k)&&o(la(a,"letterSpacing"))?b.nodeValue.split(/(\b| )/):b.nodeValue.split(""),d=q(f,a,i,g),h.chinese&&e.forEach(function(a,b){/.*[\u4E00-\u9FA5].*$/.test(a)&&(a=a.split(""),a.unshift(b,1),e.splice.apply(e,a))}),e.forEach(function(a,b){var c=s(l,a,i,b<e.length-1);c&&(p(a,c.left,c.bottom,f),r(f,i,c,d,g))}))}function w(a,b){var c,d,e=ha.createElement("boundelement");return e.style.display="inline",c=a.style.listStyleType,a.style.listStyleType="none",e.appendChild(ha.createTextNode(b)),a.insertBefore(e,a.firstChild),d=j.Util.Bounds(e),a.removeChild(e),a.style.listStyleType=c,d}function x(a){var b=-1,c=1,d=a.parentNode.childNodes;if(a.parentNode){for(;d[++b]!==a;)1===d[b].nodeType&&c++;return c}return-1}function y(a,b){var c,d=x(a);switch(b){case"decimal":c=d;break;case"decimal-leading-zero":c=1===d.toString().length?d="0"+d.toString():d.toString();break;case"upper-roman":c=j.Generate.ListRoman(d);break;case"lower-roman":c=j.Generate.ListRoman(d).toLowerCase();break;case"lower-alpha":c=j.Generate.ListAlpha(d).toLowerCase();break;case"upper-alpha":c=j.Generate.ListAlpha(d)}return c+=". "}function z(a,b,c){var d,e,f,g=b.ctx,h=la(a,"listStyleType");if(/^(decimal|decimal-leading-zero|upper-alpha|upper-latin|upper-roman|lower-alpha|lower-greek|lower-latin|lower-roman)$/i.test(h)){if(e=y(a,h),f=w(a,e),q(g,a,"none",la(a,"color")),"inside"!==la(a,"listStylePosition"))return;g.setVariable("textAlign","left"),d=c.left,p(e,d,f.bottom,g)}}function A(a){var b=e[a];return!(!b||b.succeeded!==!0)&&b.img}function B(a,b){var c=Math.max(a.left,b.left),d=Math.max(a.top,b.top),e=Math.min(a.left+a.width,b.left+b.width),f=Math.min(a.top+a.height,b.top+b.height);return{left:c,top:d,width:e-c,height:f-d}}function C(a,b){var c;return b?"auto"!==a?(c=g(a),b.children.push(c),c):b:c=g(0)}function D(a,b,c,d,e){var f=l(b,"paddingLeft"),g=l(b,"paddingTop"),h=l(b,"paddingRight"),i=l(b,"paddingBottom");P(a,c,0,0,c.width,c.height,d.left+f+e[3].width,d.top+g+e[0].width,d.width-(e[1].width+e[3].width+f+h),d.height-(e[0].width+e[2].width+g+i))}function E(a){return["Top","Right","Bottom","Left"].map(function(b){return{width:l(a,"border"+b+"Width"),color:la(a,"border"+b+"Color")}})}function F(a){return["TopLeft","TopRight","BottomRight","BottomLeft"].map(function(b){return la(a,"border"+b+"Radius")})}function G(a,b,c,d){var e=function(a,b,c){return{x:a.x+(b.x-a.x)*c,y:a.y+(b.y-a.y)*c}};return{start:a,startControl:b,endControl:c,end:d,subdivide:function(f){var g=e(a,b,f),h=e(b,c,f),i=e(c,d,f),j=e(g,h,f),k=e(h,i,f),l=e(j,k,f);return[G(a,g,j,l),G(l,k,i,d)]},curveTo:function(a){a.push(["bezierCurve",b.x,b.y,c.x,c.y,d.x,d.y])},curveToReversed:function(d){d.push(["bezierCurve",c.x,c.y,b.x,b.y,a.x,a.y])}}}function H(a,b,c,d,e,f,g){b[0]>0||b[1]>0?(a.push(["line",d[0].start.x,d[0].start.y]),d[0].curveTo(a),d[1].curveTo(a)):a.push(["line",f,g]),(c[0]>0||c[1]>0)&&a.push(["line",e[0].start.x,e[0].start.y])}function I(a,b,c,d,e,f,g){var h=[];return b[0]>0||b[1]>0?(h.push(["line",d[1].start.x,d[1].start.y]),d[1].curveTo(h)):h.push(["line",a.c1[0],a.c1[1]]),c[0]>0||c[1]>0?(h.push(["line",f[0].start.x,f[0].start.y]),f[0].curveTo(h),h.push(["line",g[0].end.x,g[0].end.y]),g[0].curveToReversed(h)):(h.push(["line",a.c2[0],a.c2[1]]),h.push(["line",a.c3[0],a.c3[1]])),b[0]>0||b[1]>0?(h.push(["line",e[1].end.x,e[1].end.y]),e[1].curveToReversed(h)):h.push(["line",a.c4[0],a.c4[1]]),h}function J(a,b,c){var d=a.left,e=a.top,f=a.width,g=a.height,h=b[0][0],i=b[0][1],j=b[1][0],k=b[1][1],l=b[2][0],m=b[2][1],n=b[3][0],o=b[3][1],p=f-j,q=g-l,r=f-m,s=g-o;return{topLeftOuter:oa(d,e,h,i).topLeft.subdivide(.5),topLeftInner:oa(d+c[3].width,e+c[0].width,Math.max(0,h-c[3].width),Math.max(0,i-c[0].width)).topLeft.subdivide(.5),topRightOuter:oa(d+p,e,j,k).topRight.subdivide(.5),topRightInner:oa(d+Math.min(p,f+c[3].width),e+c[0].width,p>f+c[3].width?0:j-c[3].width,k-c[0].width).topRight.subdivide(.5),bottomRightOuter:oa(d+r,e+q,m,l).bottomRight.subdivide(.5),bottomRightInner:oa(d+Math.min(r,f+c[3].width),e+Math.min(q,g+c[0].width),Math.max(0,m-c[1].width),Math.max(0,l-c[2].width)).bottomRight.subdivide(.5),bottomLeftOuter:oa(d,e+s,n,o).bottomLeft.subdivide(.5),bottomLeftInner:oa(d+c[3].width,e+s,Math.max(0,n-c[3].width),Math.max(0,o-c[2].width)).bottomLeft.subdivide(.5)}}function K(a,b,c,d,e){var f=la(a,"backgroundClip"),g=[];switch(f){case"content-box":case"padding-box":H(g,d[0],d[1],b.topLeftInner,b.topRightInner,e.left+c[3].width,e.top+c[0].width),H(g,d[1],d[2],b.topRightInner,b.bottomRightInner,e.left+e.width-c[1].width,e.top+c[0].width),H(g,d[2],d[3],b.bottomRightInner,b.bottomLeftInner,e.left+e.width-c[1].width,e.top+e.height-c[2].width),H(g,d[3],d[0],b.bottomLeftInner,b.topLeftInner,e.left+c[3].width,e.top+e.height-c[2].width);break;default:H(g,d[0],d[1],b.topLeftOuter,b.topRightOuter,e.left,e.top),H(g,d[1],d[2],b.topRightOuter,b.bottomRightOuter,e.left+e.width,e.top),H(g,d[2],d[3],b.bottomRightOuter,b.bottomLeftOuter,e.left+e.width,e.top+e.height),H(g,d[3],d[0],b.bottomLeftOuter,b.topLeftOuter,e.left,e.top+e.height)}return g}function L(a,b,c){var d,e,f,g,h,i,j=b.left,k=b.top,l=b.width,m=b.height,n=F(a),o=J(b,n,c),p={clip:K(a,o,c,n,b),borders:[]};for(d=0;d<4;d++)if(c[d].width>0){switch(e=j,f=k,g=l,h=m-c[2].width,d){case 0:h=c[0].width,i=I({c1:[e,f],c2:[e+g,f],c3:[e+g-c[1].width,f+h],c4:[e+c[3].width,f+h]},n[0],n[1],o.topLeftOuter,o.topLeftInner,o.topRightOuter,o.topRightInner);break;case 1:e=j+l-c[1].width,g=c[1].width,i=I({c1:[e+g,f],c2:[e+g,f+h+c[2].width],c3:[e,f+h],c4:[e,f+c[0].width]},n[1],n[2],o.topRightOuter,o.topRightInner,o.bottomRightOuter,o.bottomRightInner);break;case 2:f=f+m-c[2].width,h=c[2].width,i=I({c1:[e+g,f+h],c2:[e,f+h],c3:[e+c[3].width,f],c4:[e+g-c[2].width,f]},n[2],n[3],o.bottomRightOuter,o.bottomRightInner,o.bottomLeftOuter,o.bottomLeftInner);break;case 3:g=c[3].width,i=I({c1:[e,f+h+c[2].width],c2:[e,f],c3:[e+g,f+c[0].width],c4:[e+g,f+h]},n[3],n[0],o.bottomLeftOuter,o.bottomLeftInner,o.topLeftOuter,o.topLeftInner)}p.borders.push({args:i,color:c[d].color})}return p}function M(a,b){var c=a.drawShape();return b.forEach(function(a,b){c[0===b?"moveTo":a[0]+"To"].apply(null,a.slice(1))}),c}function N(a,b,c){"transparent"!==c&&(a.setVariable("fillStyle",c),M(a,b),a.fill(),ga+=1)}function O(a,b,c){var e,f,g=ha.createElement("valuewrap"),h=["lineHeight","textAlign","fontFamily","color","fontSize","paddingLeft","paddingTop","width","height","border","borderLeftWidth","borderTopWidth"];h.forEach(function(b){try{g.style[b]=la(a,b)}catch(a){d("html2canvas: Parse: Exception caught in renderFormValue: "+a.message)}}),g.style.borderColor="black",g.style.borderStyle="solid",g.style.display="block",g.style.position="absolute",(/^(submit|reset|button|text|password)$/.test(a.type)||"SELECT"===a.nodeName)&&(g.style.lineHeight=la(a,"height")),g.style.top=b.top+"px",g.style.left=b.left+"px",e="SELECT"===a.nodeName?(a.options[a.selectedIndex]||0).text:a.value,e||(e=a.placeholder),f=ha.createTextNode(e),g.appendChild(f),ka.appendChild(g),v(a,f,c),ka.removeChild(g)}function P(a){a.drawImage.apply(a,Array.prototype.slice.call(arguments,1)),ga+=1}function Q(c,e){var f=a.getComputedStyle(c,e);if(f&&f.content&&"none"!==f.content&&"-moz-alt-content"!==f.content){var g=f.content+"",h=g.substr(0,1);h===g.substr(g.length-1)&&h.match(/'|"/)&&(g=g.substr(1,g.length-2));var i="url"===g.substr(0,3),k=b.createElement(i?"img":"span");return k.className=ma+"-before "+ma+"-after",Object.keys(f).filter(R).forEach(function(a){try{k.style[a]=f[a]}catch(b){d(["Tried to assign readonly property ",a,"Error:",b])}}),i?k.src=j.Util.parseBackgroundImage(g)[0].args[0]:k.innerHTML=g,k}}function R(b){return isNaN(a.parseInt(b,10))}function S(a,b){var c=Q(a,":before"),d=Q(a,":after");(c||d)&&(c&&(a.className+=" "+ma+"-before",a.parentNode.insertBefore(c,a),ca(c,b,!0),a.parentNode.removeChild(c),a.className=a.className.replace(ma+"-before","").trim()),d&&(a.className+=" "+ma+"-after",a.appendChild(d),ca(d,b,!0),a.removeChild(d),a.className=a.className.replace(ma+"-after","").trim()))}function T(a,b,c,d){var e=Math.round(d.left+c.left),f=Math.round(d.top+c.top);a.createPattern(b),a.translate(e,f),a.fill(),a.translate(-e,-f)}function U(a,b,c,d,e,f,g,h){var i=[];i.push(["line",Math.round(e),Math.round(f)]),i.push(["line",Math.round(e+g),Math.round(f)]),i.push(["line",Math.round(e+g),Math.round(h+f)]),i.push(["line",Math.round(e),Math.round(h+f)]),M(a,i),a.save(),a.clip(),T(a,b,c,d),a.restore()}function V(a,b,c){m(a,b.left,b.top,b.width,b.height,c)}function W(a,b,c,d,e){var f=j.Util.BackgroundSize(a,b,d,e),g=j.Util.BackgroundPosition(a,b,d,e,f),h=la(a,"backgroundRepeat").split(",").map(function(a){return a.trim()});switch(d=Y(d,f),h=h[e]||h[0]){case"repeat-x":U(c,d,g,b,b.left,b.top+g.top,99999,d.height);break;case"repeat-y":U(c,d,g,b,b.left+g.left,b.top,d.width,99999);break;case"no-repeat":U(c,d,g,b,b.left+g.left,b.top+g.top,d.width,d.height);break;default:T(c,d,g,{top:b.top,left:b.left,width:d.width,height:d.height})}}function X(a,b,c){for(var e,f=la(a,"backgroundImage"),g=j.Util.parseBackgroundImage(f),h=g.length;h--;)if(f=g[h],f.args&&0!==f.args.length){var i="url"===f.method?f.args[0]:f.value;e=A(i),e?W(a,b,c,e,h):d("html2canvas: Error loading background:",f)}}function Y(a,b){if(a.width===b.width&&a.height===b.height)return a;var c,d=ha.createElement("canvas");return d.width=b.width,d.height=b.height,c=d.getContext("2d"),P(c,a,0,0,a.width,a.height,0,0,b.width,b.height),d}function Z(a,b,c){var d=la(b,"opacity")*(c?c.opacity:1);return a.setVariable("globalAlpha",d),d}function $(a,b,c){var d=f(b?c.width:i(),b?c.height:k()),e={ctx:d,zIndex:C(la(a,"zIndex"),b?b.zIndex:null),opacity:Z(d,a,b),cssPosition:la(a,"position"),borders:E(a),clip:b&&b.clip?j.Util.Extend({},b.clip):null};return h.useOverflow===!0&&/(hidden|scroll|auto)/.test(la(a,"overflow"))===!0&&/(BODY)/i.test(a.nodeName)===!1&&(e.clip=e.clip?B(e.clip,c):c),e.zIndex.children.push(e),e}function _(a,b,c){var d={left:b.left+a[3].width,top:b.top+a[0].width,width:b.width-(a[1].width+a[3].width),height:b.height-(a[0].width+a[2].width)};return c&&(d=B(d,c)),d}function aa(a,b,c){var e,f=j.Util.Bounds(a),g=ja.test(a.nodeName)?"#efefef":la(a,"backgroundColor"),h=$(a,b,f),i=h.borders,k=h.ctx,l=_(i,f,h.clip),m=L(a,f,i);switch(M(k,m.clip),k.save(),k.clip(),l.height>0&&l.width>0&&(V(k,f,g),X(a,l,k)),k.restore(),m.borders.forEach(function(a){N(k,a.args,a.color)}),c||S(a,h),a.nodeName){case"IMG":(e=A(a.getAttribute("src")))?D(k,a,e,f,i):d("html2canvas: Error loading <img>:"+a.getAttribute("src"));break;case"INPUT":/^(text|url|email|submit|button|reset)$/.test(a.type)&&(a.value||a.placeholder).length>0&&O(a,f,h);break;case"TEXTAREA":(a.value||a.placeholder||"").length>0&&O(a,f,h);break;case"SELECT":(a.options||a.placeholder||"").length>0&&O(a,f,h);break;case"LI":z(a,h,l);break;case"CANVAS":D(k,a,a,f,i)}return h}function ba(a){return"none"!==la(a,"display")&&"hidden"!==la(a,"visibility")&&!a.hasAttribute("data-html2canvas-ignore")}function ca(a,b,c){ba(a)&&(b=aa(a,b,c)||b,ja.test(a.nodeName)||j.Util.Children(a).forEach(function(d){1===d.nodeType?ca(d,b,c):3===d.nodeType&&v(a,d,b)}))}function da(a,b){function c(a){var b,d,e,f,h,i=j.Util.Children(a),k=i.length;for(h=0;h<k;h+=1)if(f=i[h],3===f.nodeType)g+=f.nodeValue.replace(/</g,"&lt;").replace(/>/g,"&gt;");else if(1===f.nodeType&&!/^(script|meta|title)$/.test(f.nodeName.toLowerCase())){if(g+="<"+f.nodeName.toLowerCase(),f.hasAttributes())for(b=f.attributes,e=b.length,d=0;d<e;d+=1)g+=" "+b[d].name+'="'+b[d].value+'"';g+=">",c(f),g+="</"+f.nodeName.toLowerCase()+">"}}var d=new Image,e=i(),f=k(),g="";c(a),d.src=["data:image/svg+xml,","<svg xmlns='http://www.w3.org/2000/svg' version='1.1' width='"+e+"' height='"+f+"'>","<foreignObject width='"+e+"' height='"+f+"'>","<html xmlns='http://www.w3.org/1999/xhtml' style='margin:0;'>",g.replace(/\#/g,"%23"),"</html>","</foreignObject>","</svg>"].join(""),d.onload=function(){b.svgRender=d}}function ea(){var a=aa(fa,null);return ia.svgRendering&&da(b.documentElement,a),Array.prototype.slice.call(fa.children,0).forEach(function(b){ca(b,a)}),a.backgroundColor=la(b.documentElement,"backgroundColor"),ka.removeChild(na),a}a.scroll(0,0);var fa=h.elements===c?b.body:h.elements[0],ga=0,ha=fa.ownerDocument,ia=j.Util.Support(h,ha),ja=new RegExp("("+h.ignoreElements+")"),ka=ha.body,la=j.Util.getCSS,ma="___html2canvas___pseudoelement",na=ha.createElement("style");na.innerHTML="."+ma+'-before:before { content: "" !important; display: none !important; }.'+ma+'-after:after { content: "" !important; display: none !important; }',ka.appendChild(na),e=e||{};var oa=function(a){return function(b,c,d,e){var f=d*a,g=e*a,h=b+d,i=c+e;return{topLeft:G({x:b,y:i},{x:b,y:i-g},{x:h-f,y:c},{x:h,y:c}),topRight:G({x:b,y:c},{x:b+f,y:c},{x:h,y:i-g},{x:h,y:i}),bottomRight:G({x:h,y:c},{x:h,y:c+g},{x:b+f,y:i},{x:b,y:i}),bottomLeft:G({x:h,y:i},{x:h-f,y:i},{x:b,y:c+g},{x:b,y:c})}}}(4*((Math.sqrt(2)-1)/3));return ea()},j.Preload=function(e){function f(a){A.href=a,A.href=A.href;var b=A.protocol+A.host;return b===q}function g(){d("html2canvas: start: images: "+u.numLoaded+" / "+u.numTotal+" (failed: "+u.numFailed+")"),!u.firstRun&&u.numLoaded>=u.numTotal&&(d("Finished loading images: # "+u.numTotal+" (failed: "+u.numFailed+")"),"function"==typeof e.complete&&e.complete(u))}function h(b,d,f){var h,i,j=e.proxy;A.href=b,b=A.href,h="html2canvas_"+v++,f.callbackname=h,j+=j.indexOf("?")>-1?"&":"?",j+="url="+encodeURIComponent(b)+"&callback="+h,i=x.createElement("script"),a[h]=function(b){"error:"===b.substring(0,6)?(f.succeeded=!1,u.numLoaded++,u.numFailed++,g()):(p(d,f),d.src=b),a[h]=c;try{delete a[h]}catch(a){}i.parentNode.removeChild(i),i=null,delete f.script,delete f.callbackname},i.setAttribute("type","text/javascript"),i.setAttribute("src",j),f.script=i,a.document.body.appendChild(i)}function i(b,c){var d=a.getComputedStyle(b,c),e=d.content;"url"===e.substr(0,3)&&r.loadImage(j.Util.parseBackgroundImage(e)[0].args[0]),n(d.backgroundImage,b)}function k(a){i(a,":before"),i(a,":after")}function l(a,b){var d=j.Generate.Gradient(a,b);d!==c&&(u[a]={img:d,succeeded:!0},u.numTotal++,u.numLoaded++,g())}function m(a){return a&&a.method&&a.args&&a.args.length>0}function n(a,b){var d;j.Util.parseBackgroundImage(a).filter(m).forEach(function(a){"url"===a.method?r.loadImage(a.args[0]):a.method.match(/\-?gradient$/)&&(d===c&&(d=j.Util.Bounds(b)),l(a.value,d))})}function o(a){var b=!1;try{j.Util.Children(a).forEach(function(a){o(a)})}catch(a){}try{b=a.nodeType}catch(a){b=!1,d("html2canvas: failed to access some element's nodeType - Exception: "+a.message)}if(1===b||b===c){k(a);try{n(j.Util.getCSS(a,"backgroundImage"),a)}catch(a){d("html2canvas: failed to get background-image - Exception: "+a.message)}n(a)}}function p(b,d){b.onload=function(){d.timer!==c&&a.clearTimeout(d.timer),u.numLoaded++,d.succeeded=!0,b.onerror=b.onload=null,g()},b.onerror=function(){if("anonymous"===b.crossOrigin&&(a.clearTimeout(d.timer),e.proxy)){var c=b.src;return b=new Image,d.img=b,b.src=c,void h(b.src,b,d)}u.numLoaded++,u.numFailed++,d.succeeded=!1,b.onerror=b.onload=null,g()}}var q,r,s,t,u={numLoaded:0,numFailed:0,numTotal:0,cleanupDone:!1},v=0,w=e.elements[0]||b.body,x=w.ownerDocument,y=x.images,z=y.length,A=x.createElement("a"),B=function(a){return a.crossOrigin!==c}(new Image);for(A.href=a.location.href,q=A.protocol+A.host,r={loadImage:function(b){var d,g;b&&u[b]===c&&(d=new Image,b.match(/data:image\/.*;base64,/i)?(d.src=b.replace(/url\(['"]{0,}|['"]{0,}\)$/gi,""),g=u[b]={img:d},u.numTotal++,p(d,g)):f(b)||e.allowTaint===!0?(g=u[b]={img:d},u.numTotal++,p(d,g),d.src=b):B&&!e.allowTaint&&e.useCORS?(d.crossOrigin="anonymous",g=u[b]={img:d},u.numTotal++,p(d,g),d.src=b,d.customComplete=function(){this.img.complete?this.img.onerror():this.timer=a.setTimeout(this.img.customComplete,100)}.bind(g),d.customComplete()):e.proxy&&(g=u[b]={img:d},u.numTotal++,h(b,d,g)))},cleanupDOM:function(f){var h,i;if(!u.cleanupDone){d(f&&"string"==typeof f?"html2canvas: Cleanup because: "+f:"html2canvas: Cleanup after timeout: "+e.timeout+" ms.");for(i in u)if(u.hasOwnProperty(i)&&(h=u[i],"object"==typeof h&&h.callbackname&&h.succeeded===c)){a[h.callbackname]=c;try{delete a[h.callbackname]}catch(a){}h.script&&h.script.parentNode&&(h.script.setAttribute("src","about:blank"),h.script.parentNode.removeChild(h.script)),u.numLoaded++,u.numFailed++,d("html2canvas: Cleaned up failed img: '"+i+"' Steps: "+u.numLoaded+" / "+u.numTotal)}a.stop!==c?a.stop():b.execCommand!==c&&b.execCommand("Stop",!1),b.close!==c&&b.close(),u.cleanupDone=!0,f&&"string"==typeof f||g()}},renderingDone:function(){t&&a.clearTimeout(t)}},e.timeout>0&&(t=a.setTimeout(r.cleanupDOM,e.timeout)),d("html2canvas: Preload starts: finding background-images"),u.firstRun=!0,o(w),d("html2canvas: Preload: Finding images"),s=0;s<z;s+=1)r.loadImage(y[s].getAttribute("src"));return u.firstRun=!1,d("html2canvas: Preload: Done."),u.numTotal===u.numLoaded&&g(),r},j.Renderer=function(a,d){function e(a){var b=[],c=function(a){var d=[],e=[];a.children.forEach(function(a){a.children&&a.children.length>0?(d.push(a),e.push(a.zindex)):b.push(a)}),e.sort(function(a,b){return a-b}),e.forEach(function(a){var b;d.some(function(c,d){return b=d,c.zindex===a}),c(d.splice(b,1)[0])})};return c(a.zIndex),b}function f(a){var b;if("string"==typeof d.renderer&&j.Renderer[a]!==c)b=j.Renderer[a](d);else{if("function"!=typeof a)throw new Error("Unknown renderer");b=a(d)}if("function"!=typeof b)throw new Error("Invalid renderer defined");return b}return f(d.renderer)(a,d,b,e(a),j)},j.Util.Support=function(a,b){function e(){var a=new Image,e=b.createElement("canvas"),f=e.getContext!==c&&e.getContext("2d");if(f===!1)return!1;e.width=e.height=10,a.src=["data:image/svg+xml,","<svg xmlns='http://www.w3.org/2000/svg' width='10' height='10'>","<foreignObject width='10' height='10'>","<div xmlns='http://www.w3.org/1999/xhtml' style='width:10;height:10;'>","sup","</div>","</foreignObject>","</svg>"].join("");try{f.drawImage(a,0,0),e.toDataURL()}catch(a){return!1}return d("html2canvas: Parse: SVG powered rendering available"),!0}function f(){var a,c,d,e,f=!1;return b.createRange&&(a=b.createRange(),a.getBoundingClientRect&&(c=b.createElement("boundtest"),c.style.height="123px",c.style.display="block",b.body.appendChild(c),a.selectNode(c),d=a.getBoundingClientRect(),e=d.height,123===e&&(f=!0),b.body.removeChild(c))),f}return{rangeBounds:f(),svgRendering:a.svgRendering&&e()}},a.html2canvas=function(b,c){b=b.length?b:[b];var e,f,g={logging:!1,elements:b,background:"#fff",proxy:null,timeout:0,useCORS:!1,allowTaint:!1,svgRendering:!1,ignoreElements:"IFRAME|OBJECT|PARAM",useOverflow:!0,letterRendering:!1,chinese:!1,width:null,height:null,taintTest:!0,renderer:"Canvas"};return g=j.Util.Extend(c,g),j.logging=g.logging,g.complete=function(a){"function"==typeof g.onpreloaded&&g.onpreloaded(a)===!1||(e=j.Parse(a,g),"function"==typeof g.onparsed&&g.onparsed(e)===!1||(f=j.Renderer(e,g),"function"==typeof g.onrendered&&g.onrendered(f)))},a.setTimeout(function(){j.Preload(g)},0),{render:function(a,b){return j.Renderer(a,j.Util.Extend(b,g))},parse:function(a,b){return j.Parse(a,j.Util.Extend(b,g))},preload:function(a){return j.Preload(j.Util.Extend(a,g))},log:d}},a.html2canvas.log=d,a.html2canvas.Renderer={Canvas:c},j.Renderer.Canvas=function(a){function e(a,b){a.beginPath(),b.forEach(function(b){a[b.name].apply(a,b.arguments)}),a.closePath()}function f(a){if(j.indexOf(a.arguments[0].src)===-1){l.drawImage(a.arguments[0],0,0);try{l.getImageData(0,0,1,1)}catch(a){return k=i.createElement("canvas"),l=k.getContext("2d"),!1}j.push(a.arguments[0].src)}return!0}function g(a){return"transparent"===a||"rgba(0, 0, 0, 0)"===a}function h(b,c){switch(c.type){case"variable":b[c.name]=c.arguments;break;case"function":if("createPattern"===c.name){if(c.arguments[0].width>0&&c.arguments[0].height>0)try{b.fillStyle=b.createPattern(c.arguments[0],"repeat")}catch(a){d("html2canvas: Renderer: Error creating pattern",a.message)}}else"drawShape"===c.name?e(b,c.arguments):"drawImage"===c.name?c.arguments[8]>0&&c.arguments[7]>0&&(!a.taintTest||a.taintTest&&f(c))&&b.drawImage.apply(b,c.arguments):b[c.name].apply(b,c.arguments)}}a=a||{};var i=b,j=[],k=b.createElement("canvas"),l=k.getContext("2d"),m=a.canvas||i.createElement("canvas");return function(a,b,e,f,i){var j,k,l,n,o,p,q=m.getContext("2d");if(m.width=m.style.width=b.width||a.ctx.width,m.height=m.style.height=b.height||a.ctx.height,p=q.fillStyle,q.fillStyle=g(a.backgroundColor)&&b.background!==c?b.background:a.backgroundColor,q.fillRect(0,0,m.width,m.height),q.fillStyle=p,b.svgRendering&&a.svgRender!==c)q.drawImage(a.svgRender,0,0);else for(k=0,l=f.length;k<l;k+=1)j=f.splice(0,1)[0],j.canvasPosition=j.canvasPosition||{},q.textBaseline="bottom",j.clip&&(q.save(),q.beginPath(),q.rect(j.clip.left,j.clip.top,j.clip.width,j.clip.height),q.clip()),j.ctx.storage&&j.ctx.storage.forEach(h.bind(null,q)),j.clip&&q.restore();return d("html2canvas: Renderer: Canvas renderer done - returning canvas obj"),l=b.elements.length,1===l&&"object"==typeof b.elements[0]&&"BODY"!==b.elements[0].nodeName?(o=i.Util.Bounds(b.elements[0]),n=e.createElement("canvas"),n.width=o.width,n.height=o.height,q=n.getContext("2d"),q.drawImage(m,o.left,o.top,o.width,o.height,0,0,o.width,o.height),m=null,n):m}}}(window,document),app.factory("HttpService",["$http","$rootScope","$location","FlashService",function(a,b,c,d){function e(){b.firebaseUser.getToken().then(function(a){})}function f(c){return b.mypageloading=!0,e(),a.get(c).then(j,k)}function g(c,d){return b.mypageloading=!0,e(),a.post(c,d).then(j,k)}function h(c,d){return b.mypageloading=!0,e(),a.put(c,d).then(j,k)}function i(c){return b.mypageloading=!0,e(),a.delete(c).then(j,k)}function j(a){return b.mypageloading=!1,b.global.error="",{success:!0,data:a.data}}function k(a){return b.mypageloading=!1,"401"==a.status?"/login"!=c.path()&&(b.firebaseUser.getToken(!0).then(function(a){}),c.path("/login")):"500"==a.status||"-1"==a.status?b.global.error="Error connecting server, please try again after sometime.":"400"==a.status?null!=a.data&&""!=a.data&&void 0!=a.data||(a.data="Oops something went wrong, please try again after sometime"):"404"==a.status&&(a.data.message||(a.data="Bad request.")),null==a||""==a||void 0==a||null==a.data||""==a.data||void 0==a.data?d.Error("Oops, something went wrong! Please login again."):d.Error(a.data),{success:!1,data:a.data}}var l={};return l.HttpGetData=f,l.HttpPostData=g,l.HttpUpdateData=h,l.HttpDeleteData=i,l}]),app.factory("InitService",["$q","HandShakeService","$log","$rootScope","$http","$timeout","FlashService","$location","mapService","$interval",function(a,b,c,d,e,f,g,h,i,j){function k(a,f){c.debug("InitService - handshakeInit called"),d.firebaseUser=a,d.firebaseUser.getToken(!0).then(function(a){});var k=JSON.parse(JSON.stringify(a));e.defaults.headers.common.Authorization="Bearer "+k.stsTokenManager.accessToken;var m=jwt_decode(k.stsTokenManager.accessToken);if(m){var n={type:"ADMIN",user_id:m.user_id};localStorage.setItem("currentUserDetail",JSON.stringify(n))}1==l.isInitialized?(c.debug("InitService - handshakeInit already, isInitialized true"),d.toolbar.visible=!0,f.resolve()):(c.debug("InitService - handshake not done, doing handshake"),i.socketConnection(),b.fullHandShake().then(function(a){l.isInitialized=!0,d.toolbar.visible=!0,f.resolve(),i.updateBusLists(),b.hanshakeInProgress=!1,d.$broadcast("handshakefinished")},function(a){d.firebaseUser.getToken(!0).then(function(b){h.path("/login"),g.Error(a),f.reject(a)})})),angular.isDefined(d.refreshTokenStop)||(d.firebaseUser.getToken(!0).then(function(a){}),d.refreshTokenStop=j(function(){d.firebaseUser.getToken(!0).then(function(a){})},33e5))}var l={};return l.isInitialized=!1,l.handshakeInit=k,l}]),app.factory("mapService",["HttpService","constantService","busService","$sessionStorage","$rootScope","$q","Auth","socket","UtilService","$interval","$location","$log","$http","HandShakeService","$timeout",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){function p(){Q.IsMapInitialized=!1,Q.map="",Q.vectorSource="",Q.mapBusList=[],Q.currentList=[],Q.historyList=[],Q.bufferList=[],Q.busHash=[],Q.markersHash={},Q.tripHash=[],Q.tripDevIdHash=[],Q.tripList=[],Q.busList=[],h.isConnected=!1,angular.isDefined(Q.refreshBusStatus_10)&&(j.cancel(Q.refreshBusStatus_10),Q.refreshBusStatus_10=void 0)}function q(){var a=i.initiateMap("dashboardMap",b.defaultZoom);Q.map=a.map,Q.markersHash.school=a.schoolMarker,Q.IsMapInitialized=!0,google.maps.event.trigger(Q.map,"resize");var c=document.createElement("div"),d=document.createElement("div");d.style.backgroundColor="#fff",d.style.border="2px solid #fff",d.style.cursor="pointer",d.style.marginBottom="22px",d.style.textAlign="center",d.title="Click to recenter the map",c.appendChild(d);var e=document.createElement("div");e.style.color="rgb(25,25,25)",e.style.fontFamily="Roboto,Arial,sans-serif",e.style.fontSize="16px",e.style.lineHeight="38px",e.style.paddingLeft="5px",e.style.paddingRight="5px",e.innerHTML="Geofence",d.appendChild(e),d.addEventListener("click",function(){r(a.map)}),a.map.controls[google.maps.ControlPosition.TOP_CENTER].push(c)}function r(b){var c=a.HttpGetData(e.serverURL+"/customer/geofence");c.then(function(a){a.success&&(e.mypageloading=!1,angular.forEach(a.data,function(a){if(console.log("geofence.type"+JSON.stringify(a)),"circle"==a.type&&a.geopoints[0].radius){const c=new google.maps.Circle({strokeColor:"#FF0000",strokeOpacity:.8,strokeWeight:2,fillColor:"#FF0000",fillOpacity:.35,title:a.name,map:b,center:{lat:a.geopoints[0].center.latitude,lng:a.geopoints[0].center.longitude},radius:a.geopoints[0].radius});google.maps.event.addListener(c,"mouseover",function(){this.getMap().getDiv().setAttribute("title",this.get("title"))}),google.maps.event.addListener(c,"mouseout",function(){
this.getMap().getDiv().removeAttribute("title")})}else if("polygon"==a.type){for(var d=[],e=0;e<a.geopoints.length;e++)d.push({lat:a.geopoints[e].latitude,lng:a.geopoints[e].longitude});const f=new google.maps.Polygon({paths:d,strokeColor:"#FF0000",strokeOpacity:.8,strokeWeight:2,fillColor:"#FF0000",fillOpacity:.35});f.setMap(b)}}))})}function s(){var a=!1;h.connectit(),h.once("connect_timeout",function(){l.debug("socketConnection: connect_timeout")}),h.once("connect_error",function(){l.debug("socketConnection: connect_error"),a=!1}),l.debug("socket.isConnected = "+h.isConnected),h.isConnected||(l.debug("socket.isConnected = "+h.isConnected),h.on("connect",function(){l.debug("socketConnection: on connect called"),h.isConnected=!0,a||g.$requireSignIn().then(function(a){l.debug("socketConnection: Auth.$requireSignIn() success");var b=JSON.parse(JSON.stringify(a));m.defaults.headers.common.Authorization="Bearer "+b.stsTokenManager.accessToken,h.emit("authentication",{token:b.stsTokenManager.accessToken})},function(a){l.debug("Auth.$requireSignIn() error")})}),h.once("authenticated",function(){l.debug("socketConnection: authenticated"),a=!0}),h.once("unauthorized",function(){l.debug("socketConnection:  unauthorized"),a=!1}),h.on("trip",function(a){if(l.debug("socketConnection-trip: data = "+JSON.stringify(a)),Q.busHash[a._id]){if(a.location.time<Q.busHash[a._id].lkt)return void l.debug("socketConnection-trip: socket time is older than bus last known time");if(n.hanshakeInProgress)var b=e.$on("handshakefinished",function(){x(a),b()});else x(a)}else l.debug("socketConnection-trip: device id not available in busHash - "+a._id)}),h.on("heartbeat",function(a){if(l.debug("socketConnection-heartbeat: data = "+JSON.stringify(a)),Q.busHash[a._id]){if(a.time<Q.busHash[a._id].lkt)return void l.debug("socketConnection-heartbeat: socket time is older than bus lkt");if(n.hanshakeInProgress)var b=e.$on("handshakefinished",function(){B(a),b()});else B(a)}else l.debug("socketConnection-heartbeat: device id not available in busHash - "+a._id)}),h.on("v_activity",function(a){l.debug("socketConnection-v_activity: data = "+JSON.stringify(a)),void 0!=Q.busHash[a.fleet_id]?a.bus_number=Q.busHash[a.fleet_id].bus_number:a.bus_number="-",1==a.a_type?a.desc="Vehicle "+a.reg_no+" entered "+a.activity.name+" at "+i.timeInMin(new Date(a.time)):2==a.a_type?a.desc="Vehicle "+a.reg_no+" exited "+a.activity.name+" at "+i.timeInMin(new Date(a.time)):3==a.a_type?a.desc="SPEED ALERT! Vehicle "+a.reg_no+" exceeded speed limit  at "+i.timeInMin(new Date(a.time)):4==a.a_type?a.desc="IDLE ALERT! Vehicle "+a.reg_no+" is idle  since "+i.timeInMin(new Date(a.time)):5==a.a_type&&(a.desc="BATTERY REMOVAL ALERT! Vehicle "+a.reg_no+" at "+i.timeInMin(new Date(a.time))),i.createNotification(a)}),h.on("delay",function(a){void 0!=Q.busHash[a._id]?a.bus_number=Q.busHash[a._id].bus_number:a.bus_number="-",a.desc="Due to "+a.reason+", vehicle no "+a.bus_number+" will be late by "+a.delay+" minutes.",i.createNotification(a)}),h.on("stop_exit",function(a){l.debug("socketConnection: stop_exit = "+JSON.stringify(a)),w(a)}),h.on("end_trip",function(a){l.debug("socketConnection: end_trip "+JSON.stringify(a)),C(a)}),h.once("disconnect",function(){l.debug("socketConnection: disconnect"),h.isConnected=!1,a=!1}),h.on("idle_alert",function(a){l.debug("socketConnection: idle_alert = "+JSON.stringify(a)),t(a)}),h.on("speed_alert",function(a){l.debug("socketConnection: speed_alert = "+JSON.stringify(a)),v(a)}))}function t(a){if(l.debug("Inside processIdleAlertSocket"),Q.tripHash[a.trip_id]){a.bus_number=Q.tripHash[a.trip_id].bus_number;var b=new Date(a.stime);if(a.start_time=i.timeInMin(b),b=new Date(a.etime),a.end_time=i.timeInMin(b),"Idle"==Q.tripHash[a.trip_id].currstatus){angular.forEach(Q.tripHash[a.trip_id].idle_alert,function(b){"Still idle"==b.end_time&&(b.end_time=i.timeInMin(new Date(a.etime)))});var c=a.etime-a.stime;a.desc="Vehicle No. "+a.bus_number+" started moving after"+i.secondsToHm(c/1e3),i.createNotification(a)}else{var d={lat:Number(a.lat),lng:Number(a.lon)};i.getAddressForCoordinates(d).then(function(b){a.address=b,Q.tripHash[a.trip_id].idle_alert.push(a),a.desc="Vehicle No. "+a.bus_number+" detected idle at "+a.address,i.createNotification(a)})}}else console.log("processIdleAlertSocket trip_id = "+a.trip_id),u(a.trip_id)}function u(b){var c=f.defer(),d=a.HttpGetData(e.serverURL+"/customer/trip/detail/"+b);return d.then(function(a){if(1==a.success){if(void 0!=a.data&&null!=a.data&&""!=a.data){var d=a.data;E(d),Q.tripList.push(d),Q.tripDevIdHash[d.device_id]=d,Q.tripHash[b]=d,G(Q.busHash[d.device_id],d),e.$broadcast("socketUpdate"),c.resolve()}}else c.reject()}),c.promise}function v(a){if(l.debug("Inside processSpeedAlertSocket"),Q.tripHash[a.trip_id]){void 0!=Q.busHash[a._id]?a.bus_number=Q.busHash[a._id].bus_number:(a.bus_number="-",a.bus_number=Q.tripHash[a.trip_id].bus_number);var b={lat:Number(a.lat),lng:Number(a.lon)};i.getAddressForCoordinates(b).then(function(b){a.address=b;var c=new Date(a.time);a.time=i.timeInMin(c),Q.tripHash[a.trip_id].speed_alert.push(a),a.desc="Overspeed! Vehicle No. "+a.bus_number+" is riding at "+a.speed+" Kmph near "+a.address,i.createNotification(a),e.$broadcast("socketUpdate")})}else console.log("processSpeedAlertSocket trip_id = "+a.trip_id),u(a.trip_id)}function w(a){if(Q.tripHash[a.trip_id]){var b=0,c=[];for(b=0;b<Q.tripHash[a.trip_id].stud_list.length;b++)c[Q.tripHash[a.trip_id].stud_list[b]]=Q.tripHash[a.trip_id].stud_list[b];if(void 0!=a.sStud_list&&a.sStud_list.length>0){var b=0;for(b=0;b<a.sStud_list.length;b++)void 0!=c[a.sStud_list[b]._id]?("DROP"==Q.tripHash[a.trip_id].trip_type||(Q.tripHash[a.trip_id].onBoard++,(void 0==a.sStud_list[b].card||a.sStud_list[b].card)&&Q.tripHash[a.trip_id].withCard++),Q.tripHash[a.trip_id].stud_activity||(Q.tripHash[a.trip_id].stud_activity=[]),Q.tripHash[a.trip_id].stud_activity.push(a.sStud_list[b])):"DROP"==Q.tripHash[a.trip_id].trip_type?(Q.tripHash[a.trip_id].onBoard--,Q.tripHash[a.trip_id].stud_activity||(Q.tripHash[a.trip_id].stud_activity=[]),Q.tripHash[a.trip_id].stud_activity.push(a.sStud_list[b])):l.debug("updateStopExitSocketData: Stu ID doesnt exist");e.$broadcast("socketUpdate")}}else console.log("updateStopExitSocketData trip_id = "+a.trip_id),u(a.trip_id)}function x(a){if(l.debug("Inside processtripsocketdata"),Q.busHash[a._id].lkt=a.location.time,Q.busHash[a._id].c_loc=a.location,!a.status)return Q.busHash[a._id].status==b.notRespondingStatus?z(a._id):F(Q.busHash[a._id]),void D(a,!1);if(Q.tripHash[a.trip_id]){if(Q.busHash[a._id].status!=a.status&&a.status==b.idleStatus){var c={lat:a.location.lat,lng:a.location.lon};i.getAddressForCoordinates(c).then(function(b){a.address=b,a.desc="Vehicle idle! Vehicle No. "+Q.tripHash[a.trip_id].bus_number+" is idle at "+b,Q.tripHash[a.trip_id].idle_alert.push(a),a.bus_number=Q.tripHash[a.trip_id].bus_number,i.createNotification(a),e.$broadcast("socketUpdateWithChart")})}Q.busHash[a._id].status=a.status,F(Q.busHash[a._id]),D(a,!1)}else a.trip_id?(console.log("processtripsocketdata trip_id = "+a.trip_id),u(a.trip_id).then(function(){x(a)})):(Q.busHash[a._id].status=a.status,F(Q.busHash[a._id]))}function y(a){Q.busHash[a].status=b.movingStatus,Q.busHash[a].start_time=i.timeInMin(new Date),F(Q.busHash[a]);var c=Q.markersHash[a];if(c){var d=N(Q.busHash[a]);c.setIcon({url:i.getVehicleIcon(Q.busHash[a].v_type,1)+"#"+a,anchor:new google.maps.Point(25,25)}),c.infoWindow.setContent(d)}console.log("startVehicleTrip trip_id = "+Q.busHash[a].trip_id+" "+Q.busHash[a]._id),u(Q.busHash[a].trip_id),e.$broadcast("socketUpdateWithChart")}function z(a){Q.busHash[a].status=b.movingStatus,F(Q.busHash[a]);var c=Q.markersHash[a];if(c){var d=N(Q.busHash[a]);c.setIcon({url:i.getVehicleIcon(Q.busHash[a].v_type,1)+"#"+a,anchor:new google.maps.Point(25,25)}),c.infoWindow.setContent(d)}e.$broadcast("socketUpdateWithChart")}function A(a){Q.busHash[a].status=b.stoppedStatus,F(Q.busHash[a]),Q.busHash[a].end_time=i.timeInMin(new Date(Q.busHash[a].lkt)),Q.busHash[a].start_time="",Q.busHash[a].route="",Q.busHash[a].trip_type="",Q.busHash[a].speed="";var c=Q.markersHash[a];if(c){var d=N(Q.busHash[a]);c.setIcon({url:i.getVehicleIcon(Q.busHash[a].v_type,0)+"#"+a,anchor:new google.maps.Point(25,25)}),c.infoWindow.setContent(d)}e.$broadcast("socketUpdateWithChart")}function B(a){l.debug("Inside processHeartBeatsocketdata");var c=(new Date).getTime();if(Q.busHash[a._id].lkt=c,Q.busHash[a._id].ac=a.ac,Q.busHash[a._id].oil=a.oil,a.trip_id&&(Q.busHash[a._id].trip_id=a.trip_id),Q.busHash[a._id].status!=a.status?(a.status==b.stoppedStatus?(Q.busHash[a._id].lht=c,A(a._id)):Q.busHash[a._id].status||a.status!=b.movingStatus?z(a._id):(Q.busHash[a._id].lht=c,y(a._id)),Q.busHash[a._id].status=a.status,e.$broadcast("socketUpdateWithChart")):Q.busHash[a._id].status=a.status,F(Q.busHash[a._id]),Q.markersHash[a._id]){var d=N(Q.busHash[a._id]);Q.markersHash[a._id].infoWindow.setContent(d)}}function C(a){var b=new Date(a.end_time);Q.busHash[a._id].last_updated_time=i.timeInMin(b),Q.busHash[a._id].lkt=a.end_time,D(a,!0)}function D(a,b){"/"===k.path()||k.path().includes("maps")?I(a,b):(b&&(Q.busHash[a._id].status=0,Q.busHash[a._id].start_time="",Q.busHash[a._id].route="",Q.busHash[a._id].trip_type="",Q.busHash[a._id].speed=""),e.$broadcast("socketUpdate"))}function E(a){var b="",c="",d="",e="",f=0;a.distance=Number(a.distance/1e3).toFixed(2),a.bus_no?a.bus_number=a.bus_no:a.bus_number="Unknown",b=new Date(a.start_time),a.end_time&&(c=new Date(a.end_time)),b&&(a.start_time=i.timeInMin(b),a.start_time_org=b),c?(a.end_time=i.timeInMin(c),a.end_time_org=c,f=c.getTime()-b.getTime()):f=-1,f<0?(a.end_time="-",e="-"):(e=i.secondsToHm(f/1e3),a.active=!1),angular.forEach(a.stud_list,function(a){var b=a.split("_");b[1]?(a._id=b[0],a.card=b[1]):(a._id=b[0],a.card=!1)}),a.stud_list&&(a.total_count=a.stud_list.length,a.total_time=e,"PICKUP"===a.trip_type?(a.onBoard=a.stud_activity.length,a.withCard=0,angular.forEach(a.stud_activity,function(b){(void 0==b.card||b.card)&&a.withCard++})):(a.onBoard=a.total_count-a.stud_activity.length,a.withCard=0,angular.forEach(a.stud_activity,function(b){(void 0==b.card||b.card)&&a.withCard++}))),void 0!=a.last_known_location&&""!=a.last_known_location&&null!=a.last_known_location&&(a.last_known_location.speed=Number(a.last_known_location.speed).toFixed(0)),l.debug("beautifyTripObject: tripObject.idle_alert.length =  "+a.idle_alert.length),a.idle_alert.length>0&&angular.forEach(a.idle_alert,function(a){d=new Date(a.stime),a.start_time=i.timeInMin(d),d=new Date(a.etime),a.end_time=i.timeInMin(d);var b={lat:a.lat,lng:a.lon};!function(b){var c=new google.maps.Geocoder;c.geocode({location:b},function(b,c){"OK"===c&&b[1]?a.address=b[1].formatted_address:a.address=""})}(b)}),a.speed_alert.length>0&&angular.forEach(a.speed_alert,function(a){d=new Date(a.time),a.strtime=i.timeInMin(d),a.speed=Number(a.speed).toFixed(0);var b={lat:a.lat,lng:a.lon};!function(c){var d=new google.maps.Geocoder;d.geocode({location:b},function(b,c){"OK"===c&&b[1]?a.address=b[1].formatted_address:a.address=""})}(b)}),Q.tripHash[a._id]=a}function F(a){if(a.lkt){var c=new Date(a.lkt),d=new Date;1==a.status&&(d.getTime()-c.getTime())/6e4>1&&(a.status=b.notRespondingStatus,e.$broadcast("socketUpdateWithChart")),a.last_updated_time=i.timeInMin(c)}else a.c_loc&&a.c_loc.time?a.last_updated_time=i.timeInMin(new Date(a.c_loc.time)):a.last_updated_time="Not Available";switch(a.lht&&""!=a.lht&&void 0!=a.lht?a.last_activity_time=i.timeInMin(new Date(a.lht)):a.status&&Q.tripHash[a.trip_id]?a.last_activity_time=Q.tripHash[a.trip_id].start_time:a.last_activity_time=a.last_updated_time,a.c_loc&&(a.speed=Number(a.c_loc.speed).toFixed(0)),a.status){case 0:a.viewableStatus="Stopped";break;case 1:a.viewableStatus="Moving";break;case 2:a.viewableStatus="Idle";break;case 3:a.viewableStatus="Not Responding";break;default:a.viewableStatus="-"}}function G(a,b){a.route_name=b.route_name,a.trip_type=b.trip_type,a.start_time=b.start_time,b.end_time?a.end_time=b.end_time:a.end_time="-",a.trip_id=b._id,a.status=1,void 0!=b.last_known_location&&""!=b.last_known_location&&null!=b.last_known_location&&(a.c_loc.lon=b.last_known_location.lon,a.c_loc.lat=b.last_known_location.lat),F(a),a.address="-"}function H(){l.debug("updateBusLists called"),Q.busList=c.busList,Q.tripList=c.tripList,angular.forEach(Q.busList,function(a){F(a),Q.busHash[a._id]=a}),angular.forEach(Q.tripList,function(a){Q.tripHash[a._id]=a,Q.tripDevIdHash[a.device_id]=a,E(a)}),0==Q.busList.length&&l.debug("updateBusLists: busList count 0, No bus assigned."),Q.busList.length>0&&angular.forEach(Q.busList,function(a){if(0===a.status)null==a.c_loc&&void 0==a.c_loc||(a.start_time="",a.end_time="");else if(a.trip_id){var b=Q.tripHash[a.trip_id];void 0==b||null==b||""==b?(l.debug("updateBusLists:  Vehicle number - "+a.bus_number+" device_id - "+a._id+" trip id - "+a.trip_id+" trip details not available, getting it from server."),console.log("updateBusLists trip_id = "+a.trip_id),u(a.trip_id)):(l.debug("updateBusLists: Vehicle number - "+a.bus_number+" device_id - "+a._id+" status - "+a.status+"i.e. trip is on and we have the trip details"),G(a,b))}}),e.$broadcast("socketUpdateWithChart"),Q.refreshBusStatus_10=j(function(){angular.forEach(Q.busList,function(a){F(a)})},18e4)}function I(a,b){Q.IsMapInitialized||Q.mapInit();var c,d;b?(c=a.loc.lat,d=a.loc.lon,a.time=a.end_time):(c=a.location.lat,d=a.location.lon,a.time=a.location.time);var e=Q.markersHash[a._id];if(e){var f={lat:c,lon:d},g={_id:a._id,destinationCoord:f,isEnd:!1};b&&(g.isEnd=!0),e.status=Q.busHash[a._id].status;var h=10;i.moveMarker(e,f,h);var j=N(Q.busHash[a._id]);return void e.infoWindow.setContent(j);var j}}function J(){var a=new google.maps.LatLngBounds;return angular.forEach(Q.markersHash,function(b){a.extend(b.getPosition())}),a.extend(Q.markersHash.school.getPosition()),void Q.map.fitBounds(a)}function K(a){var b,c,d,e,f,g,h=Q.markersHash[a._id],j=a._id,k=a.destinationCoord,m=h.getPosition(),n={lat:m.lat(),lng:m.lng()};if(h.setIcon({url:i.getVehicleIcon(Q.busHash[j].v_type,Q.busHash[j].status)+"#"+j,anchor:new google.maps.Point(25,25)}),a.isEnd||n.lng!=k.lng&&n.lat!=k.lat){if(c={x:n.lng,y:n.lat},d={x:k.lng,y:k.lat},isNaN(c.x)||isNaN(c.y)||isNaN(d.x)||isNaN(d.y))return l.debug("moveVehicleSmoothly: NAn-- Number(endCoord.lon) = "+Number(k.lng)+" Number(endCoord.lat) = "+Number(k.lat)),void feature.set("geometry",new ol.geom.Point(ol.proj.transform([Number(k.lng),Number(k.lat)],"EPSG:4326","EPSG:3857")));e=new arc.GreatCircle(c,d),f=e.Arc(50,{offset:0}),f=f.json(),g=f.geometry.coordinates;var o={_id:a._id,coords_interval:g,anim_index:0,isEnd:a.isEnd},p=O(n.lat,n.lng,k.lat,k.lng);if(a.isEnd||!(1e3*p<2)){if(!a.isEnd&&1e3*p>150,!1)return void l.debug("moveVehicleSmoothly: Setting ");b=Math.atan2(k.lat-n.lat,k.lng-n.lng),b=90-b*(180/Math.PI);var q=(h.getIcon(),b);$('img[src="${iconpath.url}"]').css({"-webkit-transform":"rotate("+q+"deg)","-moz-transform":"rotate("+q+"deg)","-ms-transform":"rotate("+q+"deg)",transform:"rotate("+q+"deg)"}),browserAnimation.addRendererDash(Q.animateBusMove,o,10),Q.setZoomAccToVector()}}}function L(a){var b=a.coords_interval[a.anim_index];b&&Q.markersHash[a._id].setPosition({lat:Number(b[1]),lng:Number(b[0])}),a.anim_index++,a.anim_index>=a.coords_interval.length&&(browserAnimation.removeRenderer(L),a.anim_index=0,a.isEnd&&M(a._id))}function M(a){var c=a,d=Q.markersHash[a],e=(i.getMarkerIconStyle(b.stoppedBusIcon,b.defaultIconScale,b.defaultIconRotation,Q.busHash[c].bus_number.toString()),d.start_time);e=e.toLocaleString(),d.setIcon({url:b.stoppedBusIcon+"#"+c,anchor:new google.maps.Point(25,25)});var f=new Date,g=f.toLocaleTimeString();vehicleMarkers.end_time=g,Q.busHash[c].status=0,Q.busHash[c].start_time="",Q.busHash[c].route="",Q.busHash[c].trip_type="",Q.busHash[c].speed="";var h=N(Q.busHash[c]);vehicleMarkers.infoWindow.setContent(h),vehicleMarkers.lkt=new Date}function N(a){var b='<div class="map-popup" >';return a.bus_number&&(b+="<b>Vehicle: </b> "+a.reg_no+"<br>"),a.route_name&&a.status&&(b+="<b>Route: </b> "+a.route_name+"<br>"),a.trip_type&&a.status&&e.category==e.categoryLabel.schoolWithRFID&&(b+="<b>Trip: </b> "+a.trip_type+"<br>"),a.start_time&&a.status&&(b+="<b>Start time: </b> "+a.start_time+"<br>"),a.speed&&a.status&&(b+="<b>Speed: </b> "+a.speed+"<br>"),a.last_updated_time&&(b+="<b>Last updated: </b> "+a.last_updated_time+"<br>"),b+='<a ng-click="address('+a._id+')"><b>Address</b></a><br> ',b+='<a ng-click="history('+a.bus_number+')"><b>See History</b></a> ',b+="</div>"}function O(a,b,c,d){var e=6371,f=P(c-a),g=P(d-b),h=Math.sin(f/2)*Math.sin(f/2)+Math.cos(P(a))*Math.cos(P(c))*Math.sin(g/2)*Math.sin(g/2),i=2*Math.atan2(Math.sqrt(h),Math.sqrt(1-h)),j=e*i;return j}function P(a){return a*(Math.PI/180)}var Q={};return Q.IsMapInitialized=!1,Q.map="",Q.mapInit=q,Q.markersHash={},Q.vectorSource="",Q.socketConnection=s,Q.updateBusLists=H,Q.setZoomAccToVector=J,Q.updateBusOnMap=I,Q.popupContent=N,Q.mapBusList=[],Q.currentList=[],Q.historyList=[],Q.bufferList=[],Q.busHash=[],Q.tripHash=[],Q.tripDevIdHash=[],Q.tripList=[],Q.busList=[],Q.refreshBusStatus_10=void 0,Q.moveVehicleSmoothly=K,Q.resetAllVar=p,Q.animateBusMove=L,Q}]),angular.module("ui.multiselect",[]).factory("optionParser",["$parse",function(a){var b=/^\s*(.*?)(?:\s+as\s+(.*?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+(.*)$/;return{parse:function(c){var d=c.match(b);if(!d)throw new Error("Expected typeahead specification in form of '_modelValue_ (as _label_)? for _item_ in _collection_' but got '"+c+"'.");return{itemName:d[3],source:a(d[4]),viewMapper:a(d[2]||d[1]),modelMapper:a(d[1])}}}}]).directive("multiselect",["$parse","$document","$compile","optionParser",function(a,b,c,d){return{restrict:"E",require:"ngModel",link:function(b,e,f,g){function h(){r.items.length=0;for(var a=o.source(b),c=0;c<a.length;c++){var d={};d[o.itemName]=a[c],r.items.push({label:o.viewMapper(d),model:a[c],checked:!1})}}function i(){if(!g.$modelValue||!g.$modelValue.length)return r.header="Select";if(p)r.header=g.$modelValue.length+" selected";else{var a={};a[o.itemName]=g.$modelValue,r.header=o.viewMapper(a)}}function j(a){a.checked?r.uncheckAll():(r.uncheckAll(),a.checked=!a.checked),l(!1)}function k(a){a.checked=!a.checked,l(!0)}function l(a){var b;a?(b=[],angular.forEach(r.items,function(a){a.checked&&b.push(a.model)})):angular.forEach(r.items,function(a){if(a.checked)return b=a.model,!1}),g.$setViewValue(b)}function m(a){angular.isArray(a)?angular.forEach(a,function(a){angular.forEach(r.items,function(b){angular.equals(b.model,a)&&(b.checked=!0)})}):angular.forEach(r.items,function(b){if(angular.equals(b.model,a))return b.checked=!0,!1})}var n=f.options,o=d.parse(n),p=!!f.multiple,q=!1,r=b.$new(),s=f.change||anguler.noop;r.items=[],r.header="Select",r.multiple=p,r.disabled=!1,b.$on("$destroy",function(){r.$destroy()});var t=angular.element("<multiselect-popup></multiselect-popup>");(f.required||f.ngRequired)&&(q=!0),f.$observe("required",function(a){q=a}),r.$watch(function(){return a(f.disabled)(b)},function(a){r.disabled=a}),r.$watch(function(){return a(f.multiple)(b)},function(a){p=a||!1}),r.$watch(function(){return o.source(b)},function(a){angular.isDefined(a)&&h()}),r.$watch(function(){return g.$modelValue},function(a,b){angular.isDefined(a)&&(m(a),r.$eval(s)),i(),g.$setValidity("required",r.valid())},!0),h(),e.append(c(t)(r)),r.valid=function(){if(!q)return!0;var a=g.$modelValue;return angular.isArray(a)&&a.length>0||!angular.isArray(a)&&null!=a},r.checkAll=function(){p&&(angular.forEach(r.items,function(a){a.checked=!0}),l(!0))},r.uncheckAll=function(){angular.forEach(r.items,function(a){a.checked=!1}),l(!0)},r.select=function(a){p===!1?(j(a),r.toggleSelect()):k(a)}}}}]).directive("multiselectPopup",["$document",function(a){return{restrict:"E",scope:!1,replace:!0,templateUrl:"./multiselect.tmpl.html",link:function(b,c,d){function e(d){f(d.target,c.find(d.target.tagName))||(c.removeClass("open"),a.unbind("click",e),b.$digest())}b.isVisible=!1,b.toggleSelect=function(){c.hasClass("open")?(c.removeClass("open"),a.unbind("click",e)):(c.addClass("open"),b.focus(),a.bind("click",e))},b.focus=function(){var a=c.find("input")[0];a.focus()};var f=function(a,b){for(var c=0;c<b.length;c++)if(a==b[c])return!0;return!1}}}}]),!window.XMLHttpRequest||window.FileAPI&&FileAPI.shouldLoad||(window.XMLHttpRequest.prototype.setRequestHeader=function(a){return function(b,c){if("__setXHR_"===b){var d=c(this);d instanceof Function&&d(this)}else a.apply(this,arguments)}}(window.XMLHttpRequest.prototype.setRequestHeader));var ngFileUpload=angular.module("ngFileUpload",[]);ngFileUpload.version="12.2.13",ngFileUpload.service("UploadBase",["$http","$q","$timeout",function(a,b,c){function d(d){function e(a){j.notify&&j.notify(a),k.progressFunc&&c(function(){k.progressFunc(a)})}function h(a){return null!=d._start&&g?{loaded:a.loaded+d._start,total:d._file&&d._file.size||a.total,type:a.type,config:d,lengthComputable:!0,target:a.target}:a}function i(){a(d).then(function(a){if(g&&d._chunkSize&&!d._finished&&d._file){var b=d._file&&d._file.size||0;e({loaded:Math.min(d._end,b),total:b,config:d,type:"progress"}),f.upload(d,!0)}else d._finished&&delete d._finished,j.resolve(a)},function(a){j.reject(a)},function(a){j.notify(a)})}d.method=d.method||"POST",d.headers=d.headers||{};var j=d._deferred=d._deferred||b.defer(),k=j.promise;return d.disableProgress||(d.headers.__setXHR_=function(){return function(a){a&&a.upload&&a.upload.addEventListener&&(d.__XHR=a,d.xhrFn&&d.xhrFn(a),a.upload.addEventListener("progress",function(a){a.config=d,e(h(a))},!1),a.upload.addEventListener("load",function(a){a.lengthComputable&&(a.config=d,e(h(a)))},!1))}}),g?d._chunkSize&&d._end&&!d._finished?(d._start=d._end,d._end+=d._chunkSize,i()):d.resumeSizeUrl?a.get(d.resumeSizeUrl).then(function(a){d.resumeSizeResponseReader?d._start=d.resumeSizeResponseReader(a.data):d._start=parseInt((null==a.data.size?a.data:a.data.size).toString()),d._chunkSize&&(d._end=d._start+d._chunkSize),i()},function(a){throw a}):d.resumeSize?d.resumeSize().then(function(a){d._start=a,d._chunkSize&&(d._end=d._start+d._chunkSize),i()},function(a){throw a}):(d._chunkSize&&(d._start=0,d._end=d._start+d._chunkSize),i()):i(),k.success=function(a){return k.then(function(b){a(b.data,b.status,b.headers,d)}),k},k.error=function(a){return k.then(null,function(b){a(b.data,b.status,b.headers,d)}),k},k.progress=function(a){return k.progressFunc=a,k.then(null,null,function(b){a(b)}),k},k.abort=k.pause=function(){return d.__XHR&&c(function(){d.__XHR.abort()}),k},k.xhr=function(a){return d.xhrFn=function(b){return function(){b&&b.apply(k,arguments),a.apply(k,arguments)}}(d.xhrFn),k},f.promisesCount++,k.finally&&k.finally instanceof Function&&k.finally(function(){f.promisesCount--}),k}function e(a){var b={};for(var c in a)a.hasOwnProperty(c)&&(b[c]=a[c]);return b}var f=this;f.promisesCount=0,this.isResumeSupported=function(){return window.Blob&&window.Blob.prototype.slice};var g=this.isResumeSupported();this.isUploadInProgress=function(){return f.promisesCount>0},this.rename=function(a,b){return a.ngfName=b,a},this.jsonBlob=function(a){null==a||angular.isString(a)||(a=JSON.stringify(a));var b=new window.Blob([a],{type:"application/json"});return b._ngfBlob=!0,b},this.json=function(a){return angular.toJson(a)},this.isFile=function(a){return null!=a&&(a instanceof window.Blob||a.flashId&&a.name&&a.size)},this.upload=function(a,b){function c(b,c){if(b._ngfBlob)return b;if(a._file=a._file||b,null!=a._start&&g){a._end&&a._end>=b.size&&(a._finished=!0,a._end=b.size);var d=b.slice(a._start,a._end||b.size);return d.name=b.name,d.ngfName=b.ngfName,a._chunkSize&&(c.append("_chunkSize",a._chunkSize),c.append("_currentChunkSize",a._end-a._start),c.append("_chunkNumber",Math.floor(a._start/a._chunkSize)),c.append("_totalSize",a._file.size)),d}return b}function h(b,d,e){if(void 0!==d)if(angular.isDate(d)&&(d=d.toISOString()),angular.isString(d))b.append(e,d);else if(f.isFile(d)){var g=c(d,b),i=e.split(",");i[1]&&(g.ngfName=i[1].replace(/^\s+|\s+$/g,""),e=i[0]),a._fileKey=a._fileKey||e,b.append(e,g,g.ngfName||g.name)}else if(angular.isObject(d)){if(d.$$ngfCircularDetection)throw"ngFileUpload: Circular reference in config.data. Make sure specified data for Upload.upload() has no circular reference: "+e;d.$$ngfCircularDetection=!0;try{for(var j in d)if(d.hasOwnProperty(j)&&"$$ngfCircularDetection"!==j){var k=null==a.objectKey?"[i]":a.objectKey;d.length&&parseInt(j)>-1&&(k=null==a.arrayKey?k:a.arrayKey),h(b,d[j],e+k.replace(/[ik]/g,j))}}finally{delete d.$$ngfCircularDetection}}else b.append(e,d)}function i(){a._chunkSize=f.translateScalars(a.resumeChunkSize),a._chunkSize=a._chunkSize?parseInt(a._chunkSize.toString()):null,a.headers=a.headers||{},a.headers["Content-Type"]=void 0,a.transformRequest=a.transformRequest?angular.isArray(a.transformRequest)?a.transformRequest:[a.transformRequest]:[],a.transformRequest.push(function(b){var c,d=new window.FormData;b=b||a.fields||{},a.file&&(b.file=a.file);for(c in b)if(b.hasOwnProperty(c)){var e=b[c];a.formDataAppender?a.formDataAppender(d,c,e):h(d,e,c)}return d})}return b||(a=e(a)),a._isDigested||(a._isDigested=!0,i()),d(a)},this.http=function(b){return b=e(b),b.transformRequest=b.transformRequest||function(b){return window.ArrayBuffer&&b instanceof window.ArrayBuffer||b instanceof window.Blob?b:a.defaults.transformRequest[0].apply(this,arguments)},b._chunkSize=f.translateScalars(b.resumeChunkSize),b._chunkSize=b._chunkSize?parseInt(b._chunkSize.toString()):null,d(b)},this.translateScalars=function(a){if(angular.isString(a)){if(a.search(/kb/i)===a.length-2)return parseFloat(1024*a.substring(0,a.length-2));if(a.search(/mb/i)===a.length-2)return parseFloat(1048576*a.substring(0,a.length-2));if(a.search(/gb/i)===a.length-2)return parseFloat(1073741824*a.substring(0,a.length-2));if(a.search(/b/i)===a.length-1)return parseFloat(a.substring(0,a.length-1));if(a.search(/s/i)===a.length-1)return parseFloat(a.substring(0,a.length-1));if(a.search(/m/i)===a.length-1)return parseFloat(60*a.substring(0,a.length-1));if(a.search(/h/i)===a.length-1)return parseFloat(3600*a.substring(0,a.length-1))}return a},this.urlToBlob=function(c){var d=b.defer();return a({url:c,method:"get",responseType:"arraybuffer"}).then(function(a){var b=new Uint8Array(a.data),e=a.headers("content-type")||"image/WebP",f=new window.Blob([b],{type:e}),g=c.match(/.*\/(.+?)(\?.*)?$/);g.length>1&&(f.name=g[1]),d.resolve(f)},function(a){d.reject(a)}),d.promise},this.setDefaults=function(a){this.defaults=a||{}},this.defaults={},this.version=ngFileUpload.version}]),ngFileUpload.service("Upload",["$parse","$timeout","$compile","$q","UploadExif",function(a,b,c,d,e){function f(a,b,c){var e=[i.emptyPromise()];return angular.forEach(a,function(d,f){0===d.type.indexOf("image/jpeg")&&i.attrGetter("ngfFixOrientation",b,c,{$file:d})&&e.push(i.happyPromise(i.applyExifRotation(d),d).then(function(b){a.splice(f,1,b)}))}),d.all(e)}function g(a,b,c,e){var f=i.attrGetter("ngfResize",b,c);if(!f||!i.isResizeSupported()||!a.length)return i.emptyPromise();if(f instanceof Function){var g=d.defer();return f(a).then(function(d){h(d,a,b,c,e).then(function(a){g.resolve(a)},function(a){g.reject(a)})},function(a){g.reject(a)})}return h(f,a,b,c,e)}function h(a,b,c,e,f){function g(d,g){if(0===d.type.indexOf("image")){if(a.pattern&&!i.validatePattern(d,a.pattern))return;a.resizeIf=function(a,b){return i.attrGetter("ngfResizeIf",c,e,{$width:a,$height:b,$file:d})};var j=i.resize(d,a);h.push(j),j.then(function(a){b.splice(g,1,a)},function(a){d.$error="resize",(d.$errorMessages=d.$errorMessages||{}).resize=!0,d.$errorParam=(a?(a.message?a.message:a)+": ":"")+(d&&d.name),f.$ngfValidations.push({name:"resize",valid:!1}),i.applyModelValidation(f,b)})}}for(var h=[i.emptyPromise()],j=0;j<b.length;j++)g(b[j],j);return d.all(h)}var i=e;return i.getAttrWithDefaults=function(a,b){if(null!=a[b])return a[b];var c=i.defaults[b];return null==c?c:angular.isString(c)?c:JSON.stringify(c)},i.attrGetter=function(b,c,d,e){var f=this.getAttrWithDefaults(c,b);if(!d)return f;try{return e?a(f)(d,e):a(f)(d)}catch(a){if(b.search(/min|max|pattern/i))return f;throw a}},i.shouldUpdateOn=function(a,b,c){var d=i.attrGetter("ngfModelOptions",b,c);return!d||!d.updateOn||d.updateOn.split(" ").indexOf(a)>-1},i.emptyPromise=function(){var a=d.defer(),c=arguments;return b(function(){a.resolve.apply(a,c)}),a.promise},i.rejectPromise=function(){var a=d.defer(),c=arguments;return b(function(){a.reject.apply(a,c)}),a.promise},i.happyPromise=function(a,c){var e=d.defer();return a.then(function(a){e.resolve(a)},function(a){b(function(){throw a}),e.resolve(c)}),e.promise},i.updateModel=function(c,d,e,h,j,k,l){function m(f,g,j,l,m){d.$$ngfPrevValidFiles=f,d.$$ngfPrevInvalidFiles=g;var n=f&&f.length?f[0]:null,o=g&&g.length?g[0]:null;c&&(i.applyModelValidation(c,f),c.$setViewValue(m?n:f)),h&&a(h)(e,{$files:f,$file:n,$newFiles:j,$duplicateFiles:l,$invalidFiles:g,$invalidFile:o,$event:k});var p=i.attrGetter("ngfModelInvalid",d);p&&b(function(){a(p).assign(e,m?o:g)}),b(function(){})}function n(){function a(a,b){return a.name===b.name&&(a.$ngfOrigSize||a.size)===(b.$ngfOrigSize||b.size)&&a.type===b.type}function b(b){var c;for(c=0;c<r.length;c++)if(a(b,r[c]))return!0;for(c=0;c<s.length;c++)if(a(b,s[c]))return!0;return!1}if(j){q=[],t=[];for(var c=0;c<j.length;c++)b(j[c])?t.push(j[c]):q.push(j[c])}}function o(a){return angular.isArray(a)?a:[a]}function p(){function a(){b(function(){m(w?r.concat(v):v,w?s.concat(u):u,j,t,x)},z&&z.debounce?z.debounce.change||z.debounce:0)}var f=y?q:v;g(f,d,e,c).then(function(){y?i.validate(q,w?r.length:0,c,d,e).then(function(b){v=b.validsFiles,u=b.invalidsFiles,a()}):a()},function(){for(var b=0;b<f.length;b++){var c=f[b];if("resize"===c.$error){var d=v.indexOf(c);d>-1&&(v.splice(d,1),u.push(c)),a()}}})}var q,r,s,t=[],u=[],v=[];r=d.$$ngfPrevValidFiles||[],s=d.$$ngfPrevInvalidFiles||[],c&&c.$modelValue&&(r=o(c.$modelValue));var w=i.attrGetter("ngfKeep",d,e);q=(j||[]).slice(0),"distinct"!==w&&i.attrGetter("ngfKeepDistinct",d,e)!==!0||n(d,e);var x=!w&&!i.attrGetter("ngfMultiple",d,e)&&!i.attrGetter("multiple",d);if(!w||q.length){i.attrGetter("ngfBeforeModelChange",d,e,{$files:j,$file:j&&j.length?j[0]:null,$newFiles:q,$duplicateFiles:t,$event:k});var y=i.attrGetter("ngfValidateAfterResize",d,e),z=i.attrGetter("ngfModelOptions",d,e);i.validate(q,w?r.length:0,c,d,e).then(function(a){l?m(q,[],j,t,x):(z&&z.allowInvalid||y?v=q:(v=a.validFiles,u=a.invalidFiles),i.attrGetter("ngfFixOrientation",d,e)&&i.isExifSupported()?f(v,d,e).then(function(){p()}):p())})}},i}]),ngFileUpload.directive("ngfSelect",["$parse","$timeout","$compile","Upload",function(a,b,c,d){function e(a){var b=a.match(/Android[^\d]*(\d+)\.(\d+)/);if(b&&b.length>2){var c=d.defaults.androidFixMinorVersion||4;return parseInt(b[1])<4||parseInt(b[1])===c&&parseInt(b[2])<c}return a.indexOf("Chrome")===-1&&/.*Windows.*Safari.*/.test(a)}function f(a,b,c,d,f,h,i,j){function k(){return"input"===b[0].tagName.toLowerCase()&&c.type&&"file"===c.type.toLowerCase()}function l(){return t("ngfChange")||t("ngfSelect")}function m(b){if(j.shouldUpdateOn("change",c,a)){var e=b.__files_||b.target&&b.target.files,f=[];if(!e)return;for(var g=0;g<e.length;g++)f.push(e[g]);j.updateModel(d,c,a,l(),f.length?f:null,b)}}function n(a,d){function e(b){a.attr("id","ngf-"+b),d.attr("id","ngf-label-"+b)}for(var f=0;f<b[0].attributes.length;f++){var g=b[0].attributes[f];"type"!==g.name&&"class"!==g.name&&"style"!==g.name&&("id"===g.name?(e(g.value),u.push(c.$observe("id",e))):a.attr(g.name,g.value||"required"!==g.name&&"multiple"!==g.name?g.value:g.name))}}function o(){if(k())return b;var a=angular.element('<input type="file">'),c=angular.element("<label>upload</label>");return c.css("visibility","hidden").css("position","absolute").css("overflow","hidden").css("width","0px").css("height","0px").css("border","none").css("margin","0px").css("padding","0px").attr("tabindex","-1"),
n(a,c),g.push({el:b,ref:c}),document.body.appendChild(c.append(a)[0]),a}function p(c){if(b.attr("disabled"))return!1;if(!t("ngfSelectDisabled",a)){var d=q(c);if(null!=d)return d;r(c);try{k()||document.body.contains(x[0])||(g.push({el:b,ref:x.parent()}),document.body.appendChild(x.parent()[0]),x.bind("change",m))}catch(a){}return e(navigator.userAgent)?setTimeout(function(){x[0].click()},0):x[0].click(),!1}}function q(a){var b=a.changedTouches||a.originalEvent&&a.originalEvent.changedTouches;if(b){if("touchstart"===a.type)return w=b[0].clientX,v=b[0].clientY,!0;if("touchend"===a.type){var c=b[0].clientX,d=b[0].clientY;if(Math.abs(c-w)>20||Math.abs(d-v)>20)return a.stopPropagation(),a.preventDefault(),!1}return!0}}function r(b){j.shouldUpdateOn("click",c,a)&&x.val()&&(x.val(null),j.updateModel(d,c,a,l(),null,b,!0))}function s(a){if(x&&!x.attr("__ngf_ie10_Fix_")){if(!x[0].parentNode)return void(x=null);a.preventDefault(),a.stopPropagation(),x.unbind("click");var b=x.clone();return x.replaceWith(b),x=b,x.attr("__ngf_ie10_Fix_","true"),x.bind("change",m),x.bind("click",s),x[0].click(),!1}x.removeAttr("__ngf_ie10_Fix_")}var t=function(a,b){return j.attrGetter(a,c,b)};j.registerModelChangeValidator(d,c,a);var u=[];t("ngfMultiple")&&u.push(a.$watch(t("ngfMultiple"),function(){x.attr("multiple",t("ngfMultiple",a))})),t("ngfCapture")&&u.push(a.$watch(t("ngfCapture"),function(){x.attr("capture",t("ngfCapture",a))})),t("ngfAccept")&&u.push(a.$watch(t("ngfAccept"),function(){x.attr("accept",t("ngfAccept",a))})),u.push(c.$observe("accept",function(){x.attr("accept",t("accept"))}));var v=0,w=0,x=b;k()||(x=o()),x.bind("change",m),k()?b.bind("click",r):b.bind("click touchstart touchend",p),navigator.appVersion.indexOf("MSIE 10")!==-1&&x.bind("click",s),d&&d.$formatters.push(function(a){return null!=a&&0!==a.length||x.val()&&x.val(null),a}),a.$on("$destroy",function(){k()||x.parent().remove(),angular.forEach(u,function(a){a()})}),h(function(){for(var a=0;a<g.length;a++){var b=g[a];document.body.contains(b.el[0])||(g.splice(a,1),b.ref.remove())}}),window.FileAPI&&window.FileAPI.ngfFixIE&&window.FileAPI.ngfFixIE(b,x,m)}var g=[];return{restrict:"AEC",require:"?ngModel",link:function(e,g,h,i){f(e,g,h,i,a,b,c,d)}}}]),function(){function a(a){return"img"===a.tagName.toLowerCase()?"image":"audio"===a.tagName.toLowerCase()?"audio":"video"===a.tagName.toLowerCase()?"video":/./}function b(b,c,d,e,f,g,h,i){function j(a){var g=b.attrGetter("ngfNoObjectUrl",f,d);b.dataUrl(a,g).finally(function(){c(function(){var b=(g?a.$ngfDataUrl:a.$ngfBlobUrl)||a.$ngfDataUrl;i?e.css("background-image","url('"+(b||"")+"')"):e.attr("src",b),b?e.removeClass("ng-hide"):e.addClass("ng-hide")})})}c(function(){var c=d.$watch(f[g],function(c){var k=h;if("ngfThumbnail"===g&&(k||(k={width:e[0].naturalWidth||e[0].clientWidth,height:e[0].naturalHeight||e[0].clientHeight}),0===k.width&&window.getComputedStyle)){var l=getComputedStyle(e[0]);l.width&&l.width.indexOf("px")>-1&&l.height&&l.height.indexOf("px")>-1&&(k={width:parseInt(l.width.slice(0,-2)),height:parseInt(l.height.slice(0,-2))})}return angular.isString(c)?(e.removeClass("ng-hide"),i?e.css("background-image","url('"+c+"')"):e.attr("src",c)):void(!c||!c.type||0!==c.type.search(a(e[0]))||i&&0!==c.type.indexOf("image")?e.addClass("ng-hide"):k&&b.isResizeSupported()?(k.resizeIf=function(a,e){return b.attrGetter("ngfResizeIf",f,d,{$width:a,$height:e,$file:c})},b.resize(c,k).then(function(a){j(a)},function(a){throw a})):j(c))});d.$on("$destroy",function(){c()})})}ngFileUpload.service("UploadDataUrl",["UploadBase","$timeout","$q",function(a,b,c){var d=a;return d.base64DataUrl=function(a){if(angular.isArray(a)){var b=c.defer(),e=0;return angular.forEach(a,function(c){d.dataUrl(c,!0).finally(function(){if(e++,e===a.length){var c=[];angular.forEach(a,function(a){c.push(a.$ngfDataUrl)}),b.resolve(c,a)}})}),b.promise}return d.dataUrl(a,!0)},d.dataUrl=function(a,e){if(!a)return d.emptyPromise(a,a);if(e&&null!=a.$ngfDataUrl||!e&&null!=a.$ngfBlobUrl)return d.emptyPromise(e?a.$ngfDataUrl:a.$ngfBlobUrl,a);var f=e?a.$$ngfDataUrlPromise:a.$$ngfBlobUrlPromise;if(f)return f;var g=c.defer();return b(function(){if(window.FileReader&&a&&(!window.FileAPI||navigator.userAgent.indexOf("MSIE 8")===-1||a.size<2e4)&&(!window.FileAPI||navigator.userAgent.indexOf("MSIE 9")===-1||a.size<4e6)){var c=window.URL||window.webkitURL;if(c&&c.createObjectURL&&!e){var f;try{f=c.createObjectURL(a)}catch(c){return void b(function(){a.$ngfBlobUrl="",g.reject()})}b(function(){if(a.$ngfBlobUrl=f,f){g.resolve(f,a),d.blobUrls=d.blobUrls||[],d.blobUrlsTotalSize=d.blobUrlsTotalSize||0,d.blobUrls.push({url:f,size:a.size}),d.blobUrlsTotalSize+=a.size||0;for(var b=d.defaults.blobUrlsMaxMemory||268435456,e=d.defaults.blobUrlsMaxQueueSize||200;(d.blobUrlsTotalSize>b||d.blobUrls.length>e)&&d.blobUrls.length>1;){var h=d.blobUrls.splice(0,1)[0];c.revokeObjectURL(h.url),d.blobUrlsTotalSize-=h.size}}})}else{var h=new FileReader;h.onload=function(c){b(function(){a.$ngfDataUrl=c.target.result,g.resolve(c.target.result,a),b(function(){delete a.$ngfDataUrl},1e3)})},h.onerror=function(){b(function(){a.$ngfDataUrl="",g.reject()})},h.readAsDataURL(a)}}else b(function(){a[e?"$ngfDataUrl":"$ngfBlobUrl"]="",g.reject()})}),f=e?a.$$ngfDataUrlPromise=g.promise:a.$$ngfBlobUrlPromise=g.promise,f.finally(function(){delete a[e?"$$ngfDataUrlPromise":"$$ngfBlobUrlPromise"]}),f},d}]),ngFileUpload.directive("ngfSrc",["Upload","$timeout",function(a,c){return{restrict:"AE",link:function(d,e,f){b(a,c,d,e,f,"ngfSrc",a.attrGetter("ngfResize",f,d),!1)}}}]),ngFileUpload.directive("ngfBackground",["Upload","$timeout",function(a,c){return{restrict:"AE",link:function(d,e,f){b(a,c,d,e,f,"ngfBackground",a.attrGetter("ngfResize",f,d),!0)}}}]),ngFileUpload.directive("ngfThumbnail",["Upload","$timeout",function(a,c){return{restrict:"AE",link:function(d,e,f){var g=a.attrGetter("ngfSize",f,d);b(a,c,d,e,f,"ngfThumbnail",g,a.attrGetter("ngfAsBackground",f,d))}}}]),ngFileUpload.config(["$compileProvider",function(a){a.imgSrcSanitizationWhitelist&&a.imgSrcSanitizationWhitelist(/^\s*(https?|ftp|mailto|tel|webcal|local|file|data|blob):/),a.aHrefSanitizationWhitelist&&a.aHrefSanitizationWhitelist(/^\s*(https?|ftp|mailto|tel|webcal|local|file|data|blob):/)}]),ngFileUpload.filter("ngfDataUrl",["UploadDataUrl","$sce",function(a,b){return function(c,d,e){if(angular.isString(c))return b.trustAsResourceUrl(c);var f=c&&((d?c.$ngfDataUrl:c.$ngfBlobUrl)||c.$ngfDataUrl);return c&&!f?(!c.$ngfDataUrlFilterInProgress&&angular.isObject(c)&&(c.$ngfDataUrlFilterInProgress=!0,a.dataUrl(c,d)),""):(c&&delete c.$ngfDataUrlFilterInProgress,(c&&f?e?b.trustAsResourceUrl(f):f:c)||"")}}])}(),ngFileUpload.service("UploadValidate",["UploadDataUrl","$q","$timeout",function(a,b,c){function d(a){var b="",c=[];if(a.length>2&&"/"===a[0]&&"/"===a[a.length-1])b=a.substring(1,a.length-1);else{var e=a.split(",");if(e.length>1)for(var f=0;f<e.length;f++){var g=d(e[f]);g.regexp?(b+="("+g.regexp+")",f<e.length-1&&(b+="|")):c=c.concat(g.excludes)}else 0===a.indexOf("!")?c.push("^((?!"+d(a.substring(1)).regexp+").)*$"):(0===a.indexOf(".")&&(a="*"+a),b="^"+a.replace(new RegExp("[.\\\\+*?\\[\\^\\]$(){}=!<>|:\\-]","g"),"\\$&")+"$",b=b.replace(/\\\*/g,".*").replace(/\\\?/g,"."))}return{regexp:b,excludes:c}}function e(a,b){null==b||a.$dirty||(a.$setDirty?a.$setDirty():a.$dirty=!0)}var f=a;return f.validatePattern=function(a,b){if(!b)return!0;var c=d(b),e=!0;if(c.regexp&&c.regexp.length){var f=new RegExp(c.regexp,"i");e=null!=a.type&&f.test(a.type)||null!=a.name&&f.test(a.name)}for(var g=c.excludes.length;g--;){var h=new RegExp(c.excludes[g],"i");e=e&&(null==a.type||h.test(a.type))&&(null==a.name||h.test(a.name))}return e},f.ratioToFloat=function(a){var b=a.toString(),c=b.search(/[x:]/i);return b=c>-1?parseFloat(b.substring(0,c))/parseFloat(b.substring(c+1)):parseFloat(b)},f.registerModelChangeValidator=function(a,b,c){a&&a.$formatters.push(function(d){if(a.$dirty){var e=d;d&&!angular.isArray(d)&&(e=[d]),f.validate(e,0,a,b,c).then(function(){f.applyModelValidation(a,e)})}return d})},f.applyModelValidation=function(a,b){e(a,b),angular.forEach(a.$ngfValidations,function(b){a.$setValidity(b.name,b.valid)})},f.getValidationAttr=function(a,b,c,d,e){var g="ngf"+c[0].toUpperCase()+c.substr(1),h=f.attrGetter(g,a,b,{$file:e});if(null==h&&(h=f.attrGetter("ngfValidate",a,b,{$file:e}))){var i=(d||c).split(".");h=h[i[0]],i.length>1&&(h=h&&h[i[1]])}return h},f.validate=function(a,c,d,e,g){function h(b,c,h){if(a){for(var i=a.length,j=null;i--;){var n=a[i];if(n){var o=f.getValidationAttr(e,g,b,c,n);null!=o&&(h(n,o,i)||(k.indexOf(b)===-1?(n.$error=b,(n.$errorMessages=n.$errorMessages||{})[b]=!0,n.$errorParam=o,m.indexOf(n)===-1&&m.push(n),l||a.splice(i,1),j=!1):a.splice(i,1)))}}null!==j&&d.$ngfValidations.push({name:b,valid:j})}}function i(c,h,i,n,o){function p(b,d,e){function f(f){if(f())if(k.indexOf(c)===-1){if(d.$error=c,(d.$errorMessages=d.$errorMessages||{})[c]=!0,d.$errorParam=e,m.indexOf(d)===-1&&m.push(d),!l){var g=a.indexOf(d);g>-1&&a.splice(g,1)}b.resolve(!1)}else{var h=a.indexOf(d);h>-1&&a.splice(h,1),b.resolve(!0)}else b.resolve(!0)}null!=e?n(d,e).then(function(a){f(function(){return!o(a,e)})},function(){f(function(){return j("ngfValidateForce",{$file:d})})}):b.resolve(!0)}var q=[f.emptyPromise(!0)];a&&(a=void 0===a.length?[a]:a,angular.forEach(a,function(a){var d=b.defer();return q.push(d.promise),!i||null!=a.type&&0===a.type.search(i)?void("dimensions"===c&&null!=f.attrGetter("ngfDimensions",e)?f.imageDimensions(a).then(function(b){p(d,a,j("ngfDimensions",{$file:a,$width:b.width,$height:b.height}))},function(){d.resolve(!1)}):"duration"===c&&null!=f.attrGetter("ngfDuration",e)?f.mediaDuration(a).then(function(b){p(d,a,j("ngfDuration",{$file:a,$duration:b}))},function(){d.resolve(!1)}):p(d,a,f.getValidationAttr(e,g,c,h,a))):void d.resolve(!0)}));var r=b.defer();return b.all(q).then(function(a){for(var b=!0,e=0;e<a.length;e++)if(!a[e]){b=!1;break}d.$ngfValidations.push({name:c,valid:b}),r.resolve(b)}),r.promise}d=d||{},d.$ngfValidations=d.$ngfValidations||[],angular.forEach(d.$ngfValidations,function(a){a.valid=!0});var j=function(a,b){return f.attrGetter(a,e,g,b)},k=(f.attrGetter("ngfIgnoreInvalid",e,g)||"").split(" "),l=f.attrGetter("ngfRunAllValidations",e,g);if(null==a||0===a.length)return f.emptyPromise({validFiles:a,invalidFiles:[]});a=void 0===a.length?[a]:a.slice(0);var m=[];h("pattern",null,f.validatePattern),h("minSize","size.min",function(a,b){return a.size+.1>=f.translateScalars(b)}),h("maxSize","size.max",function(a,b){return a.size-.1<=f.translateScalars(b)});var n=0;if(h("maxTotalSize",null,function(b,c){return n+=b.size,!(n>f.translateScalars(c))||(a.splice(0,a.length),!1)}),h("validateFn",null,function(a,b){return b===!0||null===b||""===b}),!a.length)return f.emptyPromise({validFiles:[],invalidFiles:m});var o=b.defer(),p=[];return p.push(i("maxHeight","height.max",/image/,this.imageDimensions,function(a,b){return a.height<=b})),p.push(i("minHeight","height.min",/image/,this.imageDimensions,function(a,b){return a.height>=b})),p.push(i("maxWidth","width.max",/image/,this.imageDimensions,function(a,b){return a.width<=b})),p.push(i("minWidth","width.min",/image/,this.imageDimensions,function(a,b){return a.width>=b})),p.push(i("dimensions",null,/image/,function(a,b){return f.emptyPromise(b)},function(a){return a})),p.push(i("ratio",null,/image/,this.imageDimensions,function(a,b){for(var c=b.toString().split(","),d=!1,e=0;e<c.length;e++)Math.abs(a.width/a.height-f.ratioToFloat(c[e]))<.01&&(d=!0);return d})),p.push(i("maxRatio","ratio.max",/image/,this.imageDimensions,function(a,b){return a.width/a.height-f.ratioToFloat(b)<1e-4})),p.push(i("minRatio","ratio.min",/image/,this.imageDimensions,function(a,b){return a.width/a.height-f.ratioToFloat(b)>-1e-4})),p.push(i("maxDuration","duration.max",/audio|video/,this.mediaDuration,function(a,b){return a<=f.translateScalars(b)})),p.push(i("minDuration","duration.min",/audio|video/,this.mediaDuration,function(a,b){return a>=f.translateScalars(b)})),p.push(i("duration",null,/audio|video/,function(a,b){return f.emptyPromise(b)},function(a){return a})),p.push(i("validateAsyncFn",null,null,function(a,b){return b},function(a){return a===!0||null===a||""===a})),b.all(p).then(function(){if(l)for(var b=0;b<a.length;b++){var d=a[b];d.$error&&a.splice(b--,1)}l=!1,h("maxFiles",null,function(a,b,d){return c+d<b}),o.resolve({validFiles:a,invalidFiles:m})}),o.promise},f.imageDimensions=function(a){if(a.$ngfWidth&&a.$ngfHeight){var d=b.defer();return c(function(){d.resolve({width:a.$ngfWidth,height:a.$ngfHeight})}),d.promise}if(a.$ngfDimensionPromise)return a.$ngfDimensionPromise;var e=b.defer();return c(function(){return 0!==a.type.indexOf("image")?void e.reject("not image"):void f.dataUrl(a).then(function(b){function d(){var b=h[0].naturalWidth||h[0].clientWidth,c=h[0].naturalHeight||h[0].clientHeight;h.remove(),a.$ngfWidth=b,a.$ngfHeight=c,e.resolve({width:b,height:c})}function f(){h.remove(),e.reject("load error")}function g(){c(function(){h[0].parentNode&&(h[0].clientWidth?d():i++>10?f():g())},1e3)}var h=angular.element("<img>").attr("src",b).css("visibility","hidden").css("position","fixed").css("max-width","none !important").css("max-height","none !important");h.on("load",d),h.on("error",f);var i=0;g(),angular.element(document.getElementsByTagName("body")[0]).append(h)},function(){e.reject("load error")})}),a.$ngfDimensionPromise=e.promise,a.$ngfDimensionPromise.finally(function(){delete a.$ngfDimensionPromise}),a.$ngfDimensionPromise},f.mediaDuration=function(a){if(a.$ngfDuration){var d=b.defer();return c(function(){d.resolve(a.$ngfDuration)}),d.promise}if(a.$ngfDurationPromise)return a.$ngfDurationPromise;var e=b.defer();return c(function(){return 0!==a.type.indexOf("audio")&&0!==a.type.indexOf("video")?void e.reject("not media"):void f.dataUrl(a).then(function(b){function d(){var b=h[0].duration;a.$ngfDuration=b,h.remove(),e.resolve(b)}function f(){h.remove(),e.reject("load error")}function g(){c(function(){h[0].parentNode&&(h[0].duration?d():i>10?f():g())},1e3)}var h=angular.element(0===a.type.indexOf("audio")?"<audio>":"<video>").attr("src",b).css("visibility","none").css("position","fixed");h.on("loadedmetadata",d),h.on("error",f);var i=0;g(),angular.element(document.body).append(h)},function(){e.reject("load error")})}),a.$ngfDurationPromise=e.promise,a.$ngfDurationPromise.finally(function(){delete a.$ngfDurationPromise}),a.$ngfDurationPromise},f}]),ngFileUpload.service("UploadResize",["UploadValidate","$q",function(a,b){var c=a,d=function(a,b,c,d,e){var f=e?Math.max(c/a,d/b):Math.min(c/a,d/b);return{width:a*f,height:b*f,marginX:a*f-c,marginY:b*f-d}},e=function(a,e,f,g,h,i,j,k){var l=b.defer(),m=document.createElement("canvas"),n=document.createElement("img");return n.setAttribute("style","visibility:hidden;position:fixed;z-index:-100000"),document.body.appendChild(n),n.onload=function(){var a=n.width,b=n.height;if(n.parentNode.removeChild(n),null!=k&&k(a,b)===!1)return void l.reject("resizeIf");try{if(i){var o=c.ratioToFloat(i),p=a/b;p<o?(e=a,f=e/o):(f=b,e=f*o)}e||(e=a),f||(f=b);var q=d(a,b,e,f,j);m.width=Math.min(q.width,e),m.height=Math.min(q.height,f);var r=m.getContext("2d");r.drawImage(n,Math.min(0,-q.marginX/2),Math.min(0,-q.marginY/2),q.width,q.height),l.resolve(m.toDataURL(h||"image/WebP",g||.934))}catch(a){l.reject(a)}},n.onerror=function(){n.parentNode.removeChild(n),l.reject()},n.src=a,l.promise};return c.dataUrltoBlob=function(a,b,c){for(var d=a.split(","),e=d[0].match(/:(.*?);/)[1],f=atob(d[1]),g=f.length,h=new Uint8Array(g);g--;)h[g]=f.charCodeAt(g);var i=new window.Blob([h],{type:e});return i.name=b,i.$ngfOrigSize=c,i},c.isResizeSupported=function(){var a=document.createElement("canvas");return window.atob&&a.getContext&&a.getContext("2d")&&window.Blob},c.isResizeSupported()&&Object.defineProperty(window.Blob.prototype,"name",{get:function(){return this.$ngfName},set:function(a){this.$ngfName=a},configurable:!0}),c.resize=function(a,d){if(0!==a.type.indexOf("image"))return c.emptyPromise(a);var f=b.defer();return c.dataUrl(a,!0).then(function(b){e(b,d.width,d.height,d.quality,d.type||a.type,d.ratio,d.centerCrop,d.resizeIf).then(function(e){if("image/jpeg"===a.type&&d.restoreExif!==!1)try{e=c.restoreExif(b,e)}catch(a){setTimeout(function(){throw a},1)}try{var g=c.dataUrltoBlob(e,a.name,a.size);f.resolve(g)}catch(a){f.reject(a)}},function(b){"resizeIf"===b&&f.resolve(a),f.reject(b)})},function(a){f.reject(a)}),f.promise},c}]),function(){function a(a,c,d,e,f,g,h,i,j,k){function l(){return c.attr("disabled")||s("ngfDropDisabled",a)}function m(b,c,d){if(b){var e;try{e=b&&b.getData&&b.getData("text/html")}catch(a){}q(b.items,b.files,s("ngfAllowDir",a)!==!1,s("multiple")||s("ngfMultiple",a)).then(function(a){a.length?n(a,c):o(d,e).then(function(a){n(a,c)})})}}function n(b,c){i.updateModel(e,d,a,s("ngfChange")||s("ngfDrop"),b,c)}function o(b,c){if(!i.shouldUpdateOn(b,d,a)||"string"!=typeof c)return i.rejectPromise([]);var e=[];c.replace(/<(img src|img [^>]* src) *=\"([^\"]*)\"/gi,function(a,b,c){e.push(c)});var f=[],g=[];if(e.length){angular.forEach(e,function(a){f.push(i.urlToBlob(a).then(function(a){g.push(a)}))});var h=k.defer();return k.all(f).then(function(){h.resolve(g)},function(a){h.reject(a)}),h.promise}return i.emptyPromise()}function p(a,b,c,d){var e=s("ngfDragOverClass",a,{$event:c}),f="dragover";if(angular.isString(e))f=e;else if(e&&(e.delay&&(w=e.delay),e.accept||e.reject)){var g=c.dataTransfer.items;if(null!=g&&g.length)for(var h=e.pattern||s("ngfPattern",a,{$event:c}),j=g.length;j--;){if(!i.validatePattern(g[j],h)){f=e.reject;break}f=e.accept}else f=e.accept}d(f)}function q(b,c,e,f){function g(a,b){var c=k.defer();if(null!=a)if(a.isDirectory){var d=[i.emptyPromise()];if(m){var e={type:"directory"};e.name=e.path=(b||"")+a.name,n.push(e)}var f=a.createReader(),h=[],p=function(){f.readEntries(function(e){try{e.length?(h=h.concat(Array.prototype.slice.call(e||[],0)),p()):(angular.forEach(h.slice(0),function(c){n.length<=j&&o<=l&&d.push(g(c,(b?b:"")+a.name+"/"))}),k.all(d).then(function(){c.resolve()},function(a){c.reject(a)}))}catch(a){c.reject(a)}},function(a){c.reject(a)})};p()}else a.file(function(a){try{a.path=(b?b:"")+a.name,m&&(a=i.rename(a,a.path)),n.push(a),o+=a.size,c.resolve()}catch(a){c.reject(a)}},function(a){c.reject(a)});return c.promise}var j=i.getValidationAttr(d,a,"maxFiles");null==j&&(j=Number.MAX_VALUE);var l=i.getValidationAttr(d,a,"maxTotalSize");null==l&&(l=Number.MAX_VALUE);var m=s("ngfIncludeDir",a),n=[],o=0,p=[i.emptyPromise()];if(b&&b.length>0&&"file:"!==h.location.protocol)for(var q=0;q<b.length;q++){if(b[q].webkitGetAsEntry&&b[q].webkitGetAsEntry()&&b[q].webkitGetAsEntry().isDirectory){var r=b[q].webkitGetAsEntry();if(r.isDirectory&&!e)continue;null!=r&&p.push(g(r))}else{var t=b[q].getAsFile();null!=t&&(n.push(t),o+=t.size)}if(n.length>j||o>l||!f&&n.length>0)break}else if(null!=c)for(var u=0;u<c.length;u++){var v=c.item(u);if((v.type||v.size>0)&&(n.push(v),o+=v.size),n.length>j||o>l||!f&&n.length>0)break}var w=k.defer();return k.all(p).then(function(){if(f||m||!n.length)w.resolve(n);else{for(var a=0;n[a]&&"directory"===n[a].type;)a++;w.resolve([n[a]])}},function(a){w.reject(a)}),w.promise}var r=b(),s=function(a,b,c){return i.attrGetter(a,d,b,c)};if(s("dropAvailable")&&g(function(){a[s("dropAvailable")]?a[s("dropAvailable")].value=r:a[s("dropAvailable")]=r}),!r)return void(s("ngfHideOnDropNotAvailable",a)===!0&&c.css("display","none"));null==s("ngfSelect")&&i.registerModelChangeValidator(e,d,a);var t,u=null,v=f(s("ngfStopPropagation")),w=1;c[0].addEventListener("dragover",function(b){if(!l()&&i.shouldUpdateOn("drop",d,a)){if(b.preventDefault(),v(a)&&b.stopPropagation(),navigator.userAgent.indexOf("Chrome")>-1){var e=b.dataTransfer.effectAllowed;b.dataTransfer.dropEffect="move"===e||"linkMove"===e?"move":"copy"}g.cancel(u),t||(t="C",p(a,d,b,function(d){t=d,c.addClass(t),s("ngfDrag",a,{$isDragging:!0,$class:t,$event:b})}))}},!1),c[0].addEventListener("dragenter",function(b){!l()&&i.shouldUpdateOn("drop",d,a)&&(b.preventDefault(),v(a)&&b.stopPropagation())},!1),c[0].addEventListener("dragleave",function(b){!l()&&i.shouldUpdateOn("drop",d,a)&&(b.preventDefault(),v(a)&&b.stopPropagation(),u=g(function(){t&&c.removeClass(t),t=null,s("ngfDrag",a,{$isDragging:!1,$event:b})},w||100))},!1),c[0].addEventListener("drop",function(b){!l()&&i.shouldUpdateOn("drop",d,a)&&(b.preventDefault(),v(a)&&b.stopPropagation(),t&&c.removeClass(t),t=null,m(b.dataTransfer,b,"dropUrl"))},!1),c[0].addEventListener("paste",function(b){navigator.userAgent.toLowerCase().indexOf("firefox")>-1&&s("ngfEnableFirefoxPaste",a)&&b.preventDefault(),!l()&&i.shouldUpdateOn("paste",d,a)&&m(b.clipboardData||b.originalEvent.clipboardData,b,"pasteUrl")},!1),navigator.userAgent.toLowerCase().indexOf("firefox")>-1&&s("ngfEnableFirefoxPaste",a)&&(c.attr("contenteditable",!0),c.on("keypress",function(a){a.metaKey||a.ctrlKey||a.preventDefault()}))}function b(){var a=document.createElement("div");return"draggable"in a&&"ondrop"in a&&!/Edge\/12./i.test(navigator.userAgent)}ngFileUpload.directive("ngfDrop",["$parse","$timeout","$window","Upload","$http","$q",function(b,c,d,e,f,g){return{restrict:"AEC",require:"?ngModel",link:function(h,i,j,k){a(h,i,j,k,b,c,d,e,f,g)}}}]),ngFileUpload.directive("ngfNoFileDrop",function(){return function(a,c){b()&&c.css("display","none")}}),ngFileUpload.directive("ngfDropAvailable",["$parse","$timeout","Upload",function(a,c,d){return function(e,f,g){if(b()){var h=a(d.attrGetter("ngfDropAvailable",g));c(function(){h(e),h.assign&&h.assign(e,!0)})}}}])}(),ngFileUpload.service("UploadExif",["UploadResize","$q",function(a,b){function c(a,b,c,d){switch(b){case 2:return a.transform(-1,0,0,1,c,0);case 3:return a.transform(-1,0,0,-1,c,d);case 4:return a.transform(1,0,0,-1,0,d);case 5:return a.transform(0,1,1,0,0,0);case 6:return a.transform(0,1,-1,0,d,0);case 7:return a.transform(0,-1,-1,0,d,c);case 8:return a.transform(0,-1,1,0,0,c)}}function d(a){for(var b="",c=new Uint8Array(a),d=c.byteLength,e=0;e<d;e++)b+=String.fromCharCode(c[e]);return window.btoa(b)}var e=a;return e.isExifSupported=function(){return window.FileReader&&(new FileReader).readAsArrayBuffer&&e.isResizeSupported()},e.readOrientation=function(a){var c=b.defer(),d=new FileReader,e=a.slice?a.slice(0,65536):a;return d.readAsArrayBuffer(e),d.onerror=function(a){return c.reject(a)},d.onload=function(a){var b={orientation:1},d=new DataView(this.result);if(65496!==d.getUint16(0,!1))return c.resolve(b);for(var e=d.byteLength,f=2;f<e;){var g=d.getUint16(f,!1);if(f+=2,65505===g){if(1165519206!==d.getUint32(f+=2,!1))return c.resolve(b);var h=18761===d.getUint16(f+=6,!1);f+=d.getUint32(f+4,h);var i=d.getUint16(f,h);f+=2;for(var j=0;j<i;j++)if(274===d.getUint16(f+12*j,h)){var k=d.getUint16(f+12*j+8,h);return k>=2&&k<=8&&(d.setUint16(f+12*j+8,1,h),b.fixedArrayBuffer=a.target.result),b.orientation=k,c.resolve(b)}}else{if(65280!==(65280&g))break;f+=d.getUint16(f,!1)}}return c.resolve(b)},c.promise},e.applyExifRotation=function(a){if(0!==a.type.indexOf("image/jpeg"))return e.emptyPromise(a);var f=b.defer();return e.readOrientation(a).then(function(b){return b.orientation<2||b.orientation>8?f.resolve(a):void e.dataUrl(a,!0).then(function(g){var h=document.createElement("canvas"),i=document.createElement("img");i.onload=function(){try{h.width=b.orientation>4?i.height:i.width,h.height=b.orientation>4?i.width:i.height;var g=h.getContext("2d");c(g,b.orientation,i.width,i.height),g.drawImage(i,0,0);var j=h.toDataURL(a.type||"image/WebP",.934);j=e.restoreExif(d(b.fixedArrayBuffer),j);var k=e.dataUrltoBlob(j,a.name);f.resolve(k)}catch(a){return f.reject(a)}},i.onerror=function(){f.reject()},i.src=g},function(a){f.reject(a)})},function(a){f.reject(a)}),f.promise},e.restoreExif=function(a,b){var c={};return c.KEY_STR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",c.encode64=function(a){var b,c,d,e,f,g="",h="",i="",j=0;do b=a[j++],c=a[j++],h=a[j++],d=b>>2,e=(3&b)<<4|c>>4,f=(15&c)<<2|h>>6,i=63&h,isNaN(c)?f=i=64:isNaN(h)&&(i=64),g=g+this.KEY_STR.charAt(d)+this.KEY_STR.charAt(e)+this.KEY_STR.charAt(f)+this.KEY_STR.charAt(i),b=c=h="",d=e=f=i="";while(j<a.length);return g},c.restore=function(a,b){a.match("data:image/jpeg;base64,")&&(a=a.replace("data:image/jpeg;base64,",""));var c=this.decode64(a),d=this.slice2Segments(c),e=this.exifManipulation(b,d);return"data:image/jpeg;base64,"+this.encode64(e)},c.exifManipulation=function(a,b){var c=this.getExifArray(b),d=this.insertExif(a,c);return new Uint8Array(d)},c.getExifArray=function(a){for(var b,c=0;c<a.length;c++)if(b=a[c],255===b[0]&225===b[1])return b;return[]},c.insertExif=function(a,b){var c=a.replace("data:image/jpeg;base64,",""),d=this.decode64(c),e=d.indexOf(255,3),f=d.slice(0,e),g=d.slice(e),h=f;return h=h.concat(b),h=h.concat(g)},c.slice2Segments=function(a){for(var b=0,c=[];;){if(255===a[b]&218===a[b+1])break;if(255===a[b]&216===a[b+1])b+=2;else{var d=256*a[b+2]+a[b+3],e=b+d+2,f=a.slice(b,e);c.push(f),b=e}if(b>a.length)break}return c},c.decode64=function(a){var b,c,d,e,f,g="",h="",i=0,j=[],k=/[^A-Za-z0-9\+\/\=]/g;k.exec(a)&&console.log("There were invalid base64 characters in the input text.\nValid base64 characters are A-Z, a-z, 0-9, NaNExpect errors in decoding."),a=a.replace(/[^A-Za-z0-9\+\/\=]/g,"");do d=this.KEY_STR.indexOf(a.charAt(i++)),e=this.KEY_STR.indexOf(a.charAt(i++)),f=this.KEY_STR.indexOf(a.charAt(i++)),h=this.KEY_STR.indexOf(a.charAt(i++)),b=d<<2|e>>4,c=(15&e)<<4|f>>2,g=(3&f)<<6|h,j.push(b),64!==f&&j.push(c),64!==h&&j.push(g),b=c=g="",d=e=f=h="";while(i<a.length);return j},c.restore(a,b)},e}]),app.factory("serverURLService",function(){var a={};return a.serverURL="https://api.zuwagon.com",a}),app.factory("UtilService",["HttpService","$filter","$rootScope","constantService","$q","$sessionStorage","$log","$http",function(a,b,c,d,e,f,g,h){function i(a){console.log("Div Id :",a);var b=(document.body.innerHTML,document.getElementById(a).innerHTML),c=window.open("","_blank","width=400,height=300,size: landscape");c.document.open(),c.document.write('<html><head><link href="common/CSS/zuwagon.css" rel="stylesheet" /> <link href="../../assets/css/bootstrap.css" rel="stylesheet"></head><body onload="window.print()">'+b+"</body></html>"),c.document.close()}function j(a){var c=new Date;c=b("date")(c,"dd-MM-yyyy");var d=b("date")(a.time,"dd-MM-yyyy");if(c==d){var e=!1;return e}var e=!0;return e}function k(a,b,c,d){var e=6371,f=l(c-a),g=l(d-b),h=Math.sin(f/2)*Math.sin(f/2)+Math.cos(l(a))*Math.cos(l(c))*Math.sin(g/2)*Math.sin(g/2),i=2*Math.atan2(Math.sqrt(h),Math.sqrt(1-h)),j=e*i;return j}function l(a){return a*(Math.PI/180)}function m(a,b,c){var d=e.defer();return n(a,b,c,d),d.promise}function n(a,b,c,d){var e,f,h,i,j,l,m={lat:b.lat,lng:b.lon},n=a.getPosition(),p={lat:n.lat(),lng:n.lng()};if(a.setIcon({url:u(a.v_type,a.status)+"#"+a.id,anchor:new google.maps.Point(25,25)}),p.lng==m.lng||p.lat==m.lat)return d.resolve();if(f={x:p.lng,y:p.lat},h={x:m.lng,y:m.lat},isNaN(f.x)||isNaN(f.y)||isNaN(h.x)||isNaN(h.y))return g.debug("moveVehicleSmoothly: NAn-- Number(endCoord.lon) = "+Number(m.lng)+" Number(endCoord.lat) = "+Number(m.lat)),d.resolve();i=new arc.GreatCircle(f,h),j=i.Arc(50,{offset:0}),j=j.json(),l=j.geometry.coordinates;var q=[];angular.forEach(l,function(a){q.push({lat:a[1],lng:a[0]})});var r={marker:a,coords_interval:l,anim_index:0,markerMoveSpeed:c,defer:d},s=k(p.lat,p.lng,m.lat,m.lng);if(1e3*s<2){if(c>80){var j=new google.maps.Polyline({path:[p,m],strokeColor:"#FF0000",strokeOpacity:1,strokeWeight:3,map:a.getMap()});C.replayLines.push(j)}return a.setPosition(m),d.resolve()}var j;e=Math.atan2(m.lat-p.lat,m.lng-p.lng),e=90-e*(180/Math.PI);var t=a.getIcon(),v=e;$('img[src="'+t.url+'"]').css({"-webkit-transform":"rotate("+v+"deg)","-moz-transform":"rotate("+v+"deg)","-ms-transform":"rotate("+v+"deg)",transform:"rotate("+v+"deg)"}),browserAnimation.addRendererDash(o,r,c)}function o(a){if(C.replayLines||(C.replayLines=[]),a.marker.stopped){browserAnimation.removeRenderer(o),a.anim_index=0;for(var b=0;b<C.replayLines.length;b++)C.replayLines[b].setMap(null),C.replayLines[b].setVisible(!1);return void a.defer.resolve()}var c=a.coords_interval[a.anim_index];if(c){if(a.markerMoveSpeed>80&&a.anim_index<a.coords_interval.length-1){var d=new google.maps.Polyline({path:[{lat:a.coords_interval[a.anim_index][1],lng:a.coords_interval[a.anim_index][0]},{lat:a.coords_interval[a.anim_index+1][1],lng:a.coords_interval[a.anim_index+1][0]}],strokeColor:"#FF0000",strokeOpacity:1,strokeWeight:3,map:a.marker.getMap()});C.replayLines.push(d)}a.marker.setPosition({lat:Number(c[1]),lng:Number(c[0])})}a.anim_index++,a.anim_index>=a.coords_interval.length&&(browserAnimation.removeRenderer(o),a.anim_index=0,a.defer.resolve())}function p(a,b){var c=angular.fromJson(f.profileInfo),e={lat:Number(c.loc.lat),lng:Number(c.loc.lon)},g=new google.maps.Map(document.getElementById(a),{zoom:b,center:e}),h='<div class="map-popup" ><b>'+c.name+"</b><br></div>",i=new google.maps.InfoWindow({content:h}),j=new google.maps.Marker({position:e,map:g,icon:d.schoolIcon});return j.addListener(d.showPopuponClickorHoverGMap,function(){i.open(g,j)}),j.addListener("mouseout",function(){i.close(g,j)}),{map:g,schoolMarker:j}}function q(a,b,c,d){var e,f=new ol.style.Icon({anchor:[.5,46],anchorXUnits:"fraction",anchorYUnits:"pixels",opacity:1,src:a,scale:b,rotation:c});return e=d?new ol.style.Style({image:f,text:new ol.style.Text({textAlign:"center",textBaseline:"bottom",text:d,scale:1.3,font:"bold 9px Arial, Verdana, Helvetica, sans-serif",rotateWithView:!1,rotation:c,fill:new ol.style.Fill({color:"#fff"})})}):new ol.style.Style({image:f})}function r(a){return Number(a.toString().match(/^-?\d+(?:\.\d{0,6})?/)[0])}function s(){($(window).width()<=768||!c.showSideMenu&&!$("#sidebar").hasClass("hide"))&&$("#sidebar").addClass("hide")}function t(a){a=Number(a);var b=Math.floor(a/3600),c=Math.floor(a%3600/60);Math.floor(a%3600%60);return(b>0?b+" hr "+(c<10?"0":""):"")+c+" min"}function u(a,b){return"CAR"==a?0==b?d.stoppedCarIcon:3==b||2==b?d.notRespondingCarIcon:d.carIcon:"BIKE"==a?0==b?d.stoppedBikeIcon:3==b||2==b?d.notRespondingBikeIcon:d.bikeIcon:"TRUCK"==a?0==b?d.stoppedTruckIcon:3==b||2==b?d.notRespondingTruckIcon:d.truckIcon:0==b?d.stoppedBusIcon:3==b||2==b?d.notRespondingBusIcon:d.runningBusIcon}function v(a){var b=new Date,a=new Date(a),c=a.getHours(),d=a.getMinutes(),e=" AM";if(c>12?(c-=12,e=" PM"):12==c&&(e=" PM"),d<10&&(d="0"+d),b.getDate()!=a.getDate()){var f=a.getDate(),g=a.getMonth()+1,h=a.getFullYear();return f+"/"+g+"/"+h+" "+c+":"+d+e}return c+":"+d+e}function w(a){a.seen=0,a.shown=0;var b=new Date;a.time=b.toLocaleTimeString(),this.alertList.push(a),c.$broadcast("delayNotify")}function x(a){return 0==a?"OFF":"ON"}function y(b){var c=e.defer(),d=new google.maps.Geocoder;return d.geocode({location:b},function(d,e){var f="";if("OK"===e&&d[1]&&(f=d[1].formatted_address),f&&""!=f)c.resolve(f);else{var g="https://nominatim.openstreetmap.org/reverse?format=json&lat="+b.lat+"&lon="+b.lng+"&zoom=18&addressdetails=1",h=a.HttpGetData(g);h.then(function(a){1==a.success&&c.resolve(a.data.display_name)})}}),c.promise}function z(a){var b='<div class="map-popup" >';return a.bus_number&&(b+="<b>Vehicle: </b> "+a.reg_no+"<br>"),a.route_name&&a.status&&(b+="<b>Route: </b> "+a.route_name+"<br>"),a.trip_type&&a.status&&c.category==c.categoryLabel.schoolWithRFID&&(b+="<b>Trip: </b> "+a.trip_type+"<br>"),a.start_time&&a.status&&(b+="<b>Start time: </b> "+a.start_time+"<br>"),a.speed&&a.status&&(b+="<b>Speed: </b> "+a.speed+"<br>"),a.last_updated_time&&(b+="<b>Last updated: </b> "+a.last_updated_time+"<br>"),b+='<a ng-click="address('+a._id+')"><b>Address</b></a> ',b+="</div>"}function A(a){function b(){if(i<a.length){var e=a[i];c.notify({uploadProcessing:i+1,uploadProcessed:f,totalFiles:d,progress:1}),B(e,i).then(function(a){
f+=1,h.uploadSuccess+=1,h.data[a.fileKey]={isSuccess:!0,uploadUrl:a.url,error:null},f==d?h.uploadSuccess==d?c.resolve(h):c.reject(h):(i++,b())},function(a){g.error(a),f+=1,h.uploadFailed+=1,h.data[a.fileKey]={isSuccess:!1,uploadUrl:"",error:a.error},f==d?c.reject(h):(i++,b())},function(a){c.notify({uploadProcessing:i+1,uploadProcessed:f,totalFiles:d,progress:a.progress})})}}var c=e.defer(),d=a.length,f=0,h={data:{},uploadSuccess:0,uploadFailed:0},i=0;return b(),c.promise}function B(b,d){var f=e.defer(),h=c.serverURL+"/customer/getdoclink?path="+b.basePath+"&filetype="+b.file.name.split(".").pop();return a.HttpGetData(h).then(function(a){if(!a||(!a.data||!a.data.url))g.error("unable to fetch presigned URL for file upload"),f.reject({index:d,fileKey:b.fileKey,error:"unable to fetch presigned URL for file upload"});else{var c=a.data.url.split("?"),e=c&&c.length?c[0]:"";if(e){const h=new XMLHttpRequest;h.upload.addEventListener("progress",function(a){f.notify({index:d,progress:0!=a.total?Math.round(a.loaded/a.total*100):0})},!1),h.addEventListener("loadend",function(){200==h.status?f.resolve({index:d,fileKey:b.fileKey,url:e}):(g.error("there was an error while uploading a file"),f.reject({index:d,fileKey:b.fileKey,error:"there was an error while uploading a file"}))}),h.open("PUT",a.data.url,!0),h.setRequestHeader("Content-type",b.file.type),h.send(b.file)}else g.error("didn't get valid presigned URL to upload a file"),f.reject({index:d,fileKey:b.fileKey,error:"didn't get valid presigned URL to upload a file"})}}).catch(function(a){g.error("unexpected error occurred while fetching presigned URL for file upload"),f.reject({index:d,fileKey:b.fileKey,error:"unexpected error occurred while fetching presigned URL for file upload"})}),f.promise}var C={};return C.createNotification=w,C.getAddressForCoordinates=y,C.to5Decimals=r,C.onOffConverter=x,C.timeInMin=v,C.secondsToHm=t,C.getVehicleIcon=u,C.getMarkerIconStyle=q,C.setSidebar=s,C.alertList=[],C.initiateMap=p,C.moveMarker=m,C.getDistanceFromLatLonInKm=k,C.animateBusMove=o,C.checkDate=j,C.replayLines=[],C.popupContent=z,C.uploadFilesToAmazonS3=A,C.PrintDivContent=i,C}]),app.directive("modal",function(){return{template:'<div class="modal fade" data-backdrop="static" data-keyboard="false"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-hidden="true" ng-click="uncheckAllStudents()">&times;</button><h4 class="modal-title">{{ title }}</h4></div><div class="modal-body" ng-transclude></div></div></div></div>',restrict:"E",transclude:!0,replace:!0,scope:!0,link:function(a,b,c){a.title=c.title,a.$watch(c.visible,function(a){a===!0?$(b).modal("show"):$(b).modal("hide")}),$(b).on("shown.bs.modal",function(){a.$apply(function(){a.$parent[c.visible]=!0})}),$(b).on("hidden.bs.modal",function(){a.$apply(function(){a.$parent[c.visible]=!1})})}}}),app.factory("sidebarService",["$log",function(a){return{showSideNav:!0,update:function(a){this.showSideNav=a}}}]),app.controller("headercontroller",["$scope","$location","UtilService","sidebarService","$rootScope","busService","$sessionStorage","$log","HandShakeService",function(a,b,c,d,e,f,g,h,i){var j=j;e.$on("callHeaderController",function(){function i(a){document.getElementById("sound").innerHTML='<audio autoplay="autoplay"><source src="../../assets/img/'+a+'.mp3" type="audio/mpeg" /><source src="../../assets/img/'+a+'.ogg" type="audio/ogg" /><embed hidden="true" autostart="true" loop="false" src="../../assets/img/'+a+'.mp3" /></audio>'}h.debug("callHeaderController called in headercontroller"),e.showVer=!0,a.state=!1,a.showSideNav=!0,a.unSeen=0,a.toggleState=function(){e.showVer=!1,a.showSideNav=!a.showSideNav,a.state=!a.state,d.update(a.showSideNav)},a.isActive=function(a){return a===b.path()},a.showSubMenuFunc=function(){e.global.showSettingSubMenu=!e.global.showSettingSubMenu},a.schoolName=angular.fromJson(g.profileInfo).name,a.alertList=[],e.$on("delayNotify",function(){a.alertList=c.alertList,a.unSeen=0,angular.forEach(a.alertList,function(b){0===b.shown&&a.unSeen++}),i("notify")}),a.allSeen=function(){void 0!=a.alertList&&(a.unSeen=0,angular.forEach(a.alertList,function(b){1===b.shown&&(b.seen=1),b.shown=1,a.unSeen=0}),c.alertList=a.alertList)},0==f.unassignedDeviceList.length&&f.busList.length>0&&(e.global.buswarning=!1)})}]),app.directive("dropdownMultiselect",["$log",function(a){return{restrict:"E",scope:{model:"=",options:"=",dropdownTitle:"@"},template:"<div class='col-sm-10' data-ng-class='{open: open}'><input class='form-control' ng-click='open=!open;openDropDown()' name='comment' placeholder='{{pamp}}' ></input><ul style='margin-left:13px;max-height:300px;overflow: auto;' class='col-sm-10 dropdown-menu scrollable-menu' aria-labelledby='dropdownMenu'><li><input style='margin-left:10px;margin-right:4px;' type='checkbox' data-ng-change='checkAllClicked()' data-ng-model=checkAll> Check All</li><li class='divider'></li><li data-ng-repeat='option in options'> <input style='margin-left:10px;margin-right:4px;' type='checkbox' data-ng-change='setSelectedItem(option.id)' ng-model='selectedItems[option.id]'>{{option.name}}</li></ul></div>",controller:["$scope",function(b){function c(){b.pamp="Select Classes to Announce"}function d(){b.model=[],b.selectedItems={},angular.forEach(b.options,function(a){b.model.push(a.id)}),angular.forEach(b.model,function(a){b.selectedItems[a]=!0}),b.pamp="All Classes"}function e(){b.model=[],b.selectedItems={},a.debug(b.model),b.pamp="Select Class to Announce"}function f(){b.pamp="",a.debug("Init modelToDisplay "+b.pamp),angular.forEach(b.model,function(a){angular.forEach(b.options,function(c){c.id==a&&(b.pamp+=c.name,b.pamp+=", ")})}),a.debug("End modelToDisplay "+b.pamp)}b.selectedItems={},b.checkAll=!1,c(),b.openDropDown=function(){},b.checkAllClicked=function(){b.checkAll?d():e()},b.setSelectedItem=function(c){var d=[];return 1==b.selectedItems[c]?b.model.push(c):(d=b.model.filter(function(a){return a!=c}),b.model=d,b.checkAll=!1,b.pamp=d),a.debug(d),f(),!1}}]}}]),app.directive("myPageLoader",["$rootScope",function(a){return{template:'<div class="modal-backdrop fade in"><img id="loadingif"  src="../../assets/img/LoadingPage.gif" /></div>'}}]),app.directive("file",function(){return{restrict:"AE",scope:{file:"@"},link:function(a,b,c){b.bind("change",function(b){var c=b.target.files,d=c[0];a.file=d,a.$parent.file=d,a.$apply()})}}}),app.directive("stringToNumber",function(){return{require:"ngModel",link:function(a,b,c,d){d.$parsers.push(function(a){return""+a}),d.$formatters.push(function(a){return parseFloat(a,10)})}}}),app.directive("partialReadonly",function(){return{restrict:"A",link:function(a,b,c,d){b.on("keypress, keydown",function(a){var d=c.partialReadonly.length;if(37!=a.which&&39!=a.which&&(b[0].selectionStart<d||b[0].selectionStart==d&&8==a.which||b[0].selectionStart>d&&8!=a.which))return!1}),a.load=function(){a.temp=c.partialReadonly}}}}),app.directive("uppercased",function(){return{require:"ngModel",link:function(a,b,c,d){d.$parsers.push(function(a){return a?a.toUpperCase():""}),b.css("text-transform","uppercase")}}}),app.directive("routeLoadingIndicator",["$rootScope",function(a){return{restrict:"E",template:"<div class='routeLoad'  ng-if='isRouteLoading'><h1>Loading <i class='fa fa-cog fa-spin'></i></h1></div>",link:function(b,c,d){b.isRouteLoading=!1,a.$on("$routeChangeStart",function(){b.isRouteLoading=!0}),a.$on("$routeChangeSuccess",function(){b.isRouteLoading=!1})}}}]),app.factory("socket",["$rootScope","$log","constantService",function(a,b,c){a.serverURL=c.serverURL;var d="";return{isConnected:!1,connectit:function(){b.debug("socket connectit called"),d=io.connect(c.serverURL,{"sync disconnect on unload":!0})},on:function(b,c){d.on(b,function(){var b=arguments;a.$apply(function(){c.apply(d,b)})})},once:function(b,c){d.once(b,function(){var b=arguments;a.$apply(function(){c.apply(d,b)})})},emit:function(b,c,e){d.emit(b,c,function(){var b=arguments;a.$apply(function(){e&&e.apply(d,b)})})},disconnect:function(){d.disconnect()},isConnect:function(){return d.connected}}}]),app.directive("replace",function(){return{require:"ngModel",scope:{regex:"@replace",with:"@with"},link:function(a,b,c,d){d.$parsers.push(function(b){if(b){var c=new RegExp(a.regex),e=b.replace(c,a.with);return e!==b&&(d.$setViewValue(e),d.$render()),e}})}}}),app.directive("exportTable",function(){var a=function(a,b,c){a.$on("export-pdf",function(a,c){b.tableExport({type:"pdf",escape:!1})}),a.$on("export-excel",function(a,c){b.tableExport({type:"excel",escape:!1})}),a.$on("export-doc",function(a,c){b.tableExport({type:"doc",escape:!1})}),a.$on("export-csv",function(a,c){b.tableExport({type:"csv",escape:!1})})};return{restrict:"C",link:a}}),app.factory("examServices",["$rootScope","HttpService",function(a,b){var c={};return c.getSubjectList=function(c){var d=b.HttpGetData(a.serverURL+"/customer/subject");d.then(function(a){c(a)})},c.getExamList=function(c){requestHandle=b.HttpGetData(a.serverURL+"/education/exam/list"),requestHandle.then(function(a){c(a)})},c.getExamDetail=function(c,d){var e=b.HttpGetData(a.serverURL+"/education/exam/details?exam_id="+c);e.then(function(a){d(a)})},c.addExamDetails=function(c,d){var e=b.HttpPostData(a.serverURL+"/education/exam/add-exam",c);e.then(function(a){d(a)})},c.updateExamDetails=function(c,d){var e=b.HttpUpdateData(a.serverURL+"/education/exam/update-exam",c);e.then(function(a){d(a)})},c.addQuestion=function(c,d){var e=b.HttpPostData(a.serverURL+"/education/question/add",[c]);e.then(function(a){d(a)})},c.updateQuestion=function(c,d){var e=b.HttpUpdateData(a.serverURL+"/education/question/edit",c);e.then(function(a){d(a)})},c.updateExamSession=function(c,d){var e=b.HttpUpdateData(a.serverURL+"/education/user-exam/exam-session",c);e.then(function(a){d(a)})},c.getStudentsExamAnswerSheet=function(c,d,e){var f=b.HttpGetData(a.serverURL+"/education/user-exam/all-student-exam-anwser-sheet?exam_id="+c+"&grade_id="+d);f.then(function(a){e(a)})},c}]),app.factory("teacherServices",["$rootScope","HttpService",function(a,b){var c={};return c.getTeacherList=function(c){var d=b.HttpGetData(a.serverURL+"/customer/teacher");d.then(function(a){c(a)})},c}]),app.controller("announcementController",["$scope","$rootScope","HttpService","HandShakeService","UtilService","FlashService","$sessionStorage","$log",function(a,b,c,d,e,f,g,h){function i(d){h.debug("Send called!"),b.mypageloading=!0;var d=[],e=[];angular.forEach(a.selectedClassId,function(b){d.push(a.classHash[b._id]),e.push(b._id)}),a.classes.length==a.selectedClassId.length?m.to="All Classes":m.to=d.toString(),m.from=angular.fromJson(g.profileInfo).name,m.class_list=e,h.debug(m.to),h.debug(m.sub),h.debug(m.msg);var i=c.HttpPostData(b.serverURL+"/customer/announcement/send",m);i.then(function(c){if(c.success){h.debug("success"),a.showForm=!1,b.mypageloading=!1;var d=new Date;m.localDate=d.toLocaleString(),a.announcementList.push(m)}else h.debug("fail"),null==c.data||""==c.data||void 0==c.data?f.Error("Oops, something went wrong! Please login again."):f.Error(c.data)})}function j(){h.debug("cancel called"),a.showForm=!1}function k(){a.showForm=!0,a.clearToBox=!0,m.to="",m.sub="",m.msg="",b.mypageloading=!0,a.selectedClassId=[],d.getGradeInfo().then(function(c){h.debug("HandShakeService getGradeInfo received"),b.mypageloading=!1,a.classes=c,h.debug("classes = ",JSON.stringify(c)),angular.forEach(a.classes,function(b){a.classHash[b._id]=b.name,h.debug("classObject._id = "+b._id+"$scope.classHash[classObject._id] = "+a.classHash[b._id])})},function(a){b.mypageloading=!1,h.debug("insert in class objectstore failed1 , error = "+a)})}e.setSidebar(),b.showBackStrech=!1,b.mypageloading=!0,a.classHash=[],a.selectedClassId=[],a.showForm=!1,a.announcementList=[],h.debug("HandShakeService.existingClassList call");var l=c.HttpGetData(b.serverURL+"/customer/announcement");l.then(function(c){if(c.success){var d="";b.mypageloading=!1,a.announcementList=c.data,h.debug("$scope.announcementLis = "+JSON.stringify(a.announcementList)),angular.forEach(a.announcementList,function(a){d=new Date(a.date),a.localDate=d.toLocaleString()})}else null==c.data||""==c.data||void 0==c.data?f.Error("Oops, something went wrong! Please login again."):f.Error(c.data)}),h.debug("HandShakeService.existingClassList passed");var m=this;h.debug("in announcement conroller"),m.send=i,m.cancel=j,m.newMsg=k,a.example14settings={scrollableHeight:"400px",scrollable:!0,enableSearch:!0}}]),app.controller("AttendanceController",["$rootScope","$scope","UtilService","HttpService","HandShakeService","mapService","$sessionStorage","$timeout","$log",function(a,b,c,d,e,f,g,h,i){i.debug("AttendanceController reporting for duty."),c.setSidebar(),a.showBackStrech=!1,b.duration="Time",b.nextPressed=!1,b.fromMaxDate=Date(),b.toMaxDate=Date(),b.toMinDate="",b.fromDate="",b.toDate="",b.custom_date=!1,b.isDetail=!1;b.summary_list=[];var j=[],k=[];b.studentDaywiseList=[],b.student_list=[],b.classView=!0,b.classList=[],e.getGradeInfo().then(function(c){i.debug("HandShakeService getRouteInfo received"),a.mypageloading=!1,b.classList=c}),b.showStuList=function(c){var d=b.classList[c]._id;b.className=b.classList[c].name,b.classView=!1,a.mypageloading=!0,e.getStudentInfo(d).then(function(c){a.mypageloading=!1;angular.forEach(c,function(a){k[a._id]=a}),b.existingStudentList=c,b.calendar_select(0)})},b.getHistoryReport=function(c,e){b.isDetail=!1,b.fromDate=c,b.toDate=e,b.totalTime=0,b.totalDistance=0;var g,h,i,l;if("Custom date"==b.duration&&(b.duration=c,b.duration+=" - ",b.duration+=e),b.fromDate&&b.toDate){if(b.custom_date=!1,a.mypageloading=!0,b.fromDate&&(g=new Date(b.fromDate),h=g.valueOf()),b.toDate&&(i=new Date(b.toDate),l=i.valueOf()),h>l)return void(a.mypageloading=!1);h==l&&(l+=86399e3),b.student_list=[],j=[];var m=d.HttpGetData(a.serverURL+"/customer/trip?st="+h+"&et="+l);m.then(function(c){if(a.mypageloading=!1,1==c.success){if(b.tripList=c.data,0==b.tripList.length)return;angular.forEach(b.tripList,function(a){void 0!=f.busHash[a.device_id]?a.bus_number=f.busHash[a.device_id].bus_number:a.bus_number="-";var b=new Date(a.start_time);b.setHours(0),b.setMinutes(0),b.setSeconds(0),b.setMilliseconds(0);var c=b.getTime();a.withCard=0,angular.forEach(a.stud_activity,function(b){if(k[b._id]){k[b._id].dayHash=[],b.trip_type=a.trip_type;var d=new Date(Number(b.time));b.dateoftrip=d.toDateString(),"DROP"==b.trip_type?b.checkout=d.toLocaleTimeString():b.checkin=d.toLocaleTimeString(),k[b._id]&&(k[b._id].dayHash[c]=b),(void 0==b.card||b.card)&&a.withCard++}}),j[c]=a}),b.workingDaysCount=Object.keys(j).length,b.student_list=[],Object.keys(k).forEach(function(a){var c=k[a];k[a].dayHash?c.daysPresent=Object.keys(k[a].dayHash).length:c.daysPresent=0,b.student_list.push(c)})}})}},b.showDetailsStuList=function(a){b.isDetail=!0;var c=b.student_list[a];if(b.studentName=c.name,b.studentDaywiseList=[],j)Object.keys(j).forEach(function(a){var d={dateoftrip:"",attendance:"",trip_type:"",checkin:"",checkout:"",card:""};if(c.dayHash[a]){var e=new Date(Number(c.dayHash[a].time));d.dateoftrip=e.toDateString(),d.attendance="Present",void 0==c.dayHash[a].card||c.dayHash[a].card?d.card="Card":d.card="Manual",d.checkin=c.dayHash[a].checkin,d.checkout=c.dayHash[a].checkout}else{var e=new Date(Number(a));d.dateoftrip=e.toDateString(),d.attendance="Absent",d.card="-",d.checkin="-",d.checkout="-"}b.studentDaywiseList.push(d)});else{var d={dateoftrip:"",attendance:"",trip_type:"",checkin:"",checkout:"",card:""},e=new Date;d.dateoftrip=e.toDateString(),d.attendance="Absent",d.card="-",d.checkin="-",d.checkout="-"}},b.dateValidation=function(a,c){var d,e,f,g;b.fromDate=a,b.toDate=c,b.fromDate&&(d=new Date(b.fromDate),f=d.valueOf(),b.toMinDate=d.toString()),b.toDate&&(e=new Date(b.toDate),g=e.valueOf(),b.fromMaxDate=e.toString())},b.calendar_list=["Today","Yesterday","Last 7 days","Last 30 days","Custom"],b.calendar_select=function(a){var c=new Date;c.setHours(0),c.setMinutes(0),c.setSeconds(0);var d=c.getTime()+864e5;return 4==a?(b.duration="Custom date",b.visibility=!0,b.custom_date=!0,b.fromMaxDate=Date(),void(b.nextPressed=!1)):(0==a?(b.duration="Today",b.fromDate=d-864e5,b.toDate=d):1==a?(b.duration="Yesterday",b.fromDate=d-1728e5,b.toDate=d-864e5):2==a?(b.duration="Last 7 days",b.fromDate=d-6912e5,b.toDate=d):3==a&&(b.duration="Last Month",b.fromDate=d-26784e5,b.toDate=d),void b.getHistoryReport(b.fromDate,b.toDate))},b.cancel=function(){b.fromDate="",b.toDate="",b.custom_date=!1},b.next=function(){b.nextPressed=!0},b.back=function(){b.nextPressed=!1},b.exportAction=function(a){switch(a){case"pdf":b.$broadcast("export-pdf",{});break;case"excel":b.$broadcast("export-excel",{});break;case"doc":b.$broadcast("export-doc",{});break;case"csv":b.$broadcast("export-csv",{})}},b.export=function(){kendo.drawing.drawDOM($("#exportthis")).then(function(a){kendo.drawing.pdf.saveAs(a,"AttendanceList.pdf")})}}]),app.controller("busDBController",["$rootScope","$scope","busService","HandShakeService","mapService","UtilService","HttpService","FlashService","$indexedDB","$log",function(a,b,c,d,e,f,g,h,i,j){function k(){j.debug("addBus called"),j.debug("busInfo._id  "+o.unassignedListIndex+" busInfo.bus_number "+o.bus_number);var d={reg_no:o.reg_no,bus_number:o.bus_number,d_name:o.d_name,d_contact:o.d_contact,route_id:o.editBusRoute._id,d_license:o.d_license,v_type:o.v_type};o.selectedBus._id;var f;if(f=b.editing?n():m(),1==f){var i=g.HttpUpdateData(a.serverURL+"/customer/bus/"+o.selectedBus._id,d);i.then(function(f){if(1==f.success){if(b.showAddNewBusModal=!1,b.editing)b.busHash[b.busIdInEditing].reg_no=d.reg_no,b.busHash[b.busIdInEditing].bus_number=d.bus_number,b.busHash[b.busIdInEditing].d_name=d.d_name,b.busHash[b.busIdInEditing].d_contact=d.d_contact,b.busHash[b.busIdInEditing].route_id=d.route_id,b.busHash[b.busIdInEditing].d_license=d.d_license,b.busHash[b.busIdInEditing].d_license=d.d_license,b.busHash[b.busIdInEditing].d_license=d.d_license,b.busHash[b.busIdInEditing].v_type=d.v_type,o.editBusRoute._id&&b.routeHash[o.editBusRoute._id]&&(b.busHash[b.busIdInEditing].route_name=b.routeHash[o.editBusRoute._id].route_name);else{d._id=o.selectedBus._id,d.device_type=b.busHash[o.selectedBus._id].device_type,o.editBusRoute._id&&b.routeHash[o.editBusRoute._id]&&(d.route_name=b.routeHash[o.editBusRoute._id].route_name),d.number=b.busHash[o.selectedBus._id].number,b.busList.push(d);for(var g=0;g<b.unassignedDeviceList.length;g++)if(b.unassignedDeviceList[g]._id==o.selectedBus._id){b.unassignedDeviceList.splice(g,1);break}e.busList=b.busList,0==b.unassignedDeviceList.length&&b.busList.length>0&&(j.debug("buswarning 2"),a.global.buswarning=!1)}b.editing=!1,c.busList=b.busList}else null==f.data||""==f.data||void 0==f.data?h.Error("Oops, something went wrong! Please login again."):h.Error(f.data)})}else 0==f?h.Error("Bus Number should be unqiue."):(b.showAddNewBusModal=!1,b.editing=!1)}function l(d){j.debug("Deleting bus info, busno "+b.busHash[d].bus_number);var f=confirm("Routes associated with this bus will be not be effective on deletion of the bus.");if(f){var i=b.busHash[d]._id,k=g.HttpDeleteData(a.serverURL+"/customer/bus/"+b.busHash[d]._id);k.then(function(f){if(1==f.success){b.busHash[d].bus_number="",b.unassignedDeviceList.push(b.busHash[d]);for(var g=0;g<b.busList.length;g++)if(b.busList[g]._id==d){b.busList.splice(g,1);break}c.busList=b.busList,e.busList=b.busList;for(var j=0;j<e.mapBusList.length;j++)if(e.mapBusList[j]._id==i){e.mapBusList.splice(j,1);break}0==b.unassignedDeviceList.length&&0!=b.busList.length||(a.global.buswarning=!0)}else null==f.data||""==f.data||void 0==f.data?h.Error("Oops, something went wrong! Please login again."):h.Error(f.data)})}}function m(){j.debug("Inside check duplicate entries");for(var a=0;a<b.busList.length;a++)if(o.bus_number==b.busList[a].bus_number)return 0;return 1}function n(){j.debug("Inside check duplicate entries");for(var a=0;a<b.busInfo.editableBusList.length;a++){if(b.busInfo.editableBusList.length-1==a)return 1;if(o.bus_number==b.busInfo.editableBusList[a].bus_number)return 0}return 1}j.debug("busDBController reporting for duty."),a.showBackStrech=!1;var o=this;a.toolbar.visible=!0,b.showAddNewBusModal=!1,f.setSidebar(),b.routeHash=[],b.busHash=[],b.busList=c.busList,j.debug("$scope.busList "+b.busList),b.v_typeList=["BIKE","CAR","BUS","TRUCK"],o.selectedBus={},b.unassignedDeviceList=c.unassignedDeviceList,0==b.unassignedDeviceList.length&&b.busList.length>0&&(a.global.buswarning=!1),d.getRouteInfo().then(function(a){o.route_list=a,angular.forEach(o.route_list,function(a){b.routeHash[a._id]=a}),angular.forEach(b.unassignedDeviceList,function(a){b.busHash[a._id]=a}),angular.forEach(b.busList,function(a){b.busHash[a._id]=a})}),b.addNewBus=function(){j.debug("addnew bus called"),b.showAddNewBusModal=!b.showAddNewBusModal,o.editBusRoute={},o.selectedBus={},o.bus_number="",o.reg_no="",o.d_name="",o.d_contact="",o.d_license="",o.route_id="",o.v_type="",o.unassignedListIndex="",h.Error(""),b.objects=[],b.busInfo.editableBusList=[],b.unassignedDeviceList.length&&angular.copy(b.unassignedDeviceList,b.busInfo.editableBusList)},b.cancel=function(){j.debug("cancel called"),b.showAddNewBusModal=!1,h.Error("")},b.addBus=k,b.deleteBus=l,b.editBusInfo=function(a){j.debug("Editing bus info"),b.busIdInEditing=a,b.busInfo.editableBusList=[],b.busInfo.editBusRoute={};var c={bus_number:b.busHash[a].bus_number,reg_no:b.busHash[a].reg_no,d_name:b.busHash[a].d_name,d_contact:b.busHash[a].d_contact,d_license:b.busHash[a].d_license,route_id:b.busHash[a].route_id,_id:b.busHash[a]._id,v_type:b.busHash[a].v_type};b.busInfo.bus_number=c.bus_number,b.busInfo.reg_no=c.reg_no,b.busInfo.d_name=c.d_name,b.busInfo.d_contact=c.d_contact,b.busInfo.d_license=c.d_license,b.busInfo.route_id=c.route_id,b.busInfo._id=c._id,b.busInfo.v_type=c.v_type,angular.forEach(b.busInfo.route_list,function(a){a._id==c.route_id&&angular.copy(a,b.busInfo.editBusRoute)}),b.unassignedDeviceList.length&&angular.copy(b.unassignedDeviceList,b.busInfo.editableBusList),b.busInfo.editableBusList.push(b.busHash[a]),b.busInfo.deviceId=b.busHash[a].number,o.selectedBus._id=b.busHash[a]._id,o.selectedBus.device_type=b.busHash[a].device_type,b.showAddNewBusModal=!0,h.Error(""),b.editing=!0},b.cancelEdit=function(a){b.showAddNewBusModal=!1,b.editing=!1,h.Error(""),b.busList},b.export=function(){kendo.drawing.drawDOM($("#exportthis")).then(function(a){kendo.drawing.pdf.saveAs(a,"VehicleList.pdf")})},b.theftModeChange=function(b){var c={_id:b._id,theftmode:b.theft_mode},d=g.HttpUpdateData(a.serverURL+"/customer/bus/antitheft/update/",c);d.then(function(a){1==a.success||(b.theft_mode=!b.theft_mode)})};var p=document.getElementById("csv"),q=function(){Papa.parse(p.files[0],{header:!0,dynamicTyping:!0,complete:function(a){data=a.data;for(var b=[],c=0;c<data.length;c++)if(data[c]["Student Image Path"]){var d=data[c]["Student Image Path"].substring(data[c]["Student Image Path"].lastIndexOf("/")+1);"jpg"!=d.substring(d.lastIndexOf(".")+1).toLowerCase()&&(d+=".jpg"),b.push(d),data[c].photo=d}else console.log("Image path not available "+c);Papa.unparse(data)}})};p.addEventListener("change",q)}]),app.controller("statusController",["$scope","$rootScope","$indexedDB","mapService","$q","$log","UtilService","$location",function(a,b,c,d,e,f,g,h){function i(b){a.tripHash=d.tripHash,a.busRunningList=[],a.busStoppedList=[],a.busNotRespondingList=[],a.busIdleList=[],a.currentList=[],a.historyList=[],angular.forEach(d.busList,function(b){0==b.status?a.busStoppedList.push(b):1==b.status?a.busRunningList.push(b):2==b.status?a.busIdleList.push(b):a.busNotRespondingList.push(b)}),b&&(j(a.busRunningList,"serverstatus01","#34af23",1),j(a.busStoppedList,"serverstatus02","#696969",0),j(a.busNotRespondingList,"serverstatus03","#FF0000",3),j(a.busIdleList,"serverstatus04","#F0AD4E",2)),a.studentDetailsPopup&&angular.forEach(d.tripHash[o].stud_activity,function(a){"PICKUP"==d.tripHash[o].trip_type?void 0!=p[a._id]?(p[a._id].boardpick="Boarded",a.loc.stop&&(p[a._id].stop=a.loc.stop)):p[a._id].boardpick="":void 0!=p[a._id]?(p[a._id].boardpick="Dropped",a.loc.stop&&(p[a._id].stop=a.loc.stop)):p[a._id].boardpick=""})}function j(b,c,d,e){var f="",g=";";switch(e){case 0:f="Stopped",g="Not Stopped";break;case 1:f="Moving",g="Not Moving";break;case 2:f="Idle",g="Not Idle";break;case 3:f="Not Responding",g="Responding"}if(q[c])q[c].data={labels:[f,g],datasets:[{label:"Vehicles",backgroundColor:[d,"#fdfdfd"],borderColor:["#797979","#797979"],borderWidth:2,data:[a.set2Digits(b.length/a.busList.length*100),a.set2Digits((a.busList.length-b.length)/a.busList.length*100)]}]},q[c].update();else{var h=new Chart(document.getElementById(c),{type:"doughnut",data:{labels:[f,g],datasets:[{label:"Vehicles",backgroundColor:[d,"#fdfdfd"],borderColor:["#797979","#797979"],borderWidth:2,data:[a.set2Digits(b.length/a.busList.length*100),a.set2Digits((a.busList.length-b.length)/a.busList.length*100)]}]},options:{responsive:!0,maintainAspectRatio:!1,cutoutPercentage:70}});q[c]=h}}function k(){f.debug("getStudentHash called");var a=e.defer();return c.openStore("student",function(b){b.getAll().then(function(b){return angular.forEach(b,function(a){m[a._id]=a}),f.debug("getStudentHash return"),a.resolve()})}),a.promise}function l(a){return a.toFixed(0)}b.showBackStrech=!1,a.studentList=[],a.alertdetailspopup=!1,a.studentDetailsPopup=!1,g.setSidebar();var m=[],n=[],o="",p=[];a.set2Digits=l,Chart.defaults.global.legend.display=!1;var k=k;a.busList=d.busList,a.tripHash=d.tripHash;var q={};i(!0),b.$on("socketUpdate",function(){i(!1)}),b.$on("socketUpdateWithChart",function(a,b){i(!0)}),k(),a.showStuList=function(e){if(f.debug("showStuList called with tripId = "+e),b.category!=b.categoryLabel.general&&b.rfidModule){a.studentDetailsPopup||(a.studentDetailsPopup=!0),a.studentList=[],n=[],o=e;var g=[];if(f.debug("mapService.tripHash[tripId] = "+d.tripHash[e]),void 0!==d.tripHash[e]){var h=d.tripHash[e].stud_activity;f.debug("tripStuList length = "+h.length),f.debug("showlist called tripId = "+e),f.debug("got studentHash, tripStuList.length  = "+h.length),angular.forEach(h,function(a){n[a._id]=a}),"PICKUP"!=d.tripHash[e].trip_type&&angular.forEach(d.tripHash[e].stud_list,function(a){var b=a.split("_");g[b[0]]={card:b[1]},g[a._id]={card:a.card}}),c.openStore("student",function(b){f.debug("get student list for route = "+d.tripHash[e].route);var c=b.query();c=c.$eq(d.tripHash[e].route),c=c.$index("route_id"),b.eachWhere(c).then(function(b){angular.forEach(b,function(b){"PICKUP"==d.tripHash[e].trip_type?(void 0!=n[b._id]?(b.boardpick="Boarded",n[b._id].loc.stop&&(b.stop=n[b._id].loc.stop),void 0==n[b._id].card||n[b._id].card?b.card=!0:b.card=!1):b.boardpick="",b.trip_type="PICKUP",a.studentList.push(b),p[b._id]=b):g[b._id]&&(void 0!=n[b._id]?(b.boardpick="Dropped",n[b._id].loc.stop&&(b.stop=n[b._id].loc.stop)):b.boardpick="",void 0==g[b._id].card||"1"==g[b._id].card?b.card=!0:b.card=!1,b.trip_type="DROP",a.studentList.push(b),p[b._id]=b)})})}),f.debug("$scope.studentList.length = "+a.studentList.length)}}},a.showAlerts=function(b){a.alertdetailspopup=!0,void 0!==d.tripHash[b]&&(a.idleAlertList=d.tripHash[b].idle_alert,a.speedAlertList=d.tripHash[b].speed_alert)},a.attendance=function(a){return"PICKUP"==a.trip_type&&""==a.boardpick?"":void 0==a.card||a.card?"Card":"Manual"},a.getAddress=function(a){if(a)return g.getAddressForCoordinates(a)},a.filterVehicle=function(b){a.searchvehicle=b},a.viewOnMap=function(a){h.path("/maps/:"+a)},a.export=function(){kendo.drawing.drawDOM($("#exportthis")).then(function(a){kendo.drawing.pdf.saveAs(a,"CurrentStatus.pdf")})}}]),app.controller("LoginController",["$rootScope","$q","$location","$http","FlashService","$log","InitService","HandShakeService","mapService","socket","$timeout","Auth",function(a,b,c,d,e,f,g,h,i,j,k,l){function m(){f.debug("login called"),o.dataLoading=!0,l.$signInWithEmailAndPassword(o.eMailid,o.password).then(function(a){function d(a){var c=b.defer();return g.handshakeInit(a,c),c.promise}d(a).then(function(){c.path("/")},function(a){e.Error(a),o.dataLoading=!1})},function(a){f.debug("sign in error"),f.debug("error = "+a.code),"auth/wrong-password"==a.code&&(f.debug("error = "+a.code),a="Wrong password. Try again."),e.Error(a),o.dataLoading=!1})}function n(){f.debug("resetpass login called"),o.dataLoading=!0,l.$sendPasswordResetEmail(o.eMailid).then(function(){o.dataLoading=!1}).catch(function(a){o.dataLoading=!1})}a.toolbar.visible=!1,a.global.showModal=!1;var o=this;f.debug("login Controller - reporting for duty."),o.login=m,o.resetpass=n,function(){l.$signOut().then(function(b){f.debug("Auth signout success = "+b),localStorage.removeItem("currentUserDetail"),a.stopRefresh()},function(a){f.debug("Auth signout error = "+a)}),h.clearIndexedDB().then(function(){f.debug("IndexDB Cleared successfully")}),k(function(){j.isConnect()&&j.disconnect()},1e3),i.resetAllVar(),g.isInitialized=!1;var b=angular.element(".modal-backdrop");f.debug("document.getElementsByClassName: ",b),void 0!=b[0]&&(b[0].style.display="none")}(),a.showBackStrech=!0}]),app.controller("MapController",["$rootScope","$scope","mapService","$log","UtilService","constantService","$timeout","$routeParams","$compile","$location",function(a,b,c,d,e,f,g,h,i,j){function k(a){if(d.debug("addBusOn Map bus_number = "+a.bus_number),null!=a.c_loc){var g=e.getVehicleIcon(a.v_type,a.status),h=(Number(a.c_loc.lat),Number(a.c_loc.lon),""),j="";a.trip_id&&(j=a.trip_id);var k=new google.maps.Marker({position:{lat:Number(a.c_loc.lat),lng:Number(a.c_loc.lon)},map:c.map,icon:{url:g+"#"+a._id,anchor:new google.maps.Point(25,25)},trip_id:j,id:a._id,trip_type:"",v_type:a.v_type,lkt:"",infoWindow:{},optimized:!1});c.markersHash[a._id]=k;var n=new Date(a.start_time),o="";d.debug("trip_id = "+a.trip_id+" markerObject.start_time = "+a.start_time),o=e.timeInMin(n),"Invalid Date"==o&&(o=a.start_time),d.debug("start_time = "+o),a.status!==f.stoppedStatus?(a.status==f.notRespondingStatus&&(g=f.notRespondingBusIcon),h=c.popupContent(a)):(n=new Date(a.end_time),d.debug("start_time = "+o+"end_time = "+a.end_time),h=c.popupContent(a)),d.debug(" bus_number = "+a.bus_number);var p=i(h)(b),q=new google.maps.InfoWindow({content:p[0]});k.addListener("click",function(){var a=c.popupContent(c.busHash[k.id]);k.infoWindow.setContent(i(a)(b)[0]),q.open(c.map,k)}),c.map.addListener("click",function(){q.close(c.map,k)}),k.infoWindow=q}l++,l==c.busList.length&&(c.setZoomAccToVector(),angular.forEach(c.busList,function(a){m++,void 0!=c.bufferList[a._id]&&""!=c.bufferList[a._id]&&(d.debug("reading buffer data"),c.bufferList[a._id].socketTypeEnd===!0?(c.endTrip(c.bufferList[a._id],1),c.bufferList[a._id]=""):c.updateBusOnMap(c.bufferList[a._id])),m==c.busList.length&&(c.bufferList=[])}))}e.setSidebar(),a.showBackStrech=!1,d.debug("MapController called"),c.mapInit();var k=k,l=0,m=0;d.debug("mapService.busList length = "+c.busList.length),angular.forEach(c.busList,function(a){k(a)}),b.address=function(a){var b=c.busHash[a],d="",f={lat:Number(b.c_loc.lat),lng:Number(b.c_loc.lon)};e.getAddressForCoordinates(f).then(function(b){d=b;var f=c.markersHash[a];if(f){var g=e.popupContent(c.busHash[a]);g+=d,f.infoWindow.setContent(g)}})},b.history=function(a){j.path("/reports/:"+a)},g(function(){if(google.maps.event.trigger(c.map,"resize"),c.setZoomAccToVector(),h.deviceId){b.deviceId=h.deviceId.toString(),":"===b.deviceId.substring(0,1)&&(b.deviceId=b.deviceId.substring(1)),c.map.setCenter(new google.maps.LatLng(c.busHash[b.deviceId].c_loc.lat,c.busHash[b.deviceId].c_loc.lon)),c.map.setZoom(15);var a=c.markersHash[b.deviceId];a&&a.infoWindow.open(c.map,a)}c.busList.length||c.map.setZoom(15),b.$apply()})}]),app.controller("profileSettingsController",["$rootScope","$scope","$sessionStorage","UtilService","busService","FlashService","$http","$log","Auth",function(a,b,c,d,e,f,g,h,i){
function j(){h.debug("resetpopacc called"),f.Error(""),n.old_pass="",n.new_pass="",n.accpass=!0,n.devpass=!1,n.mailsent=""}function k(){h.debug("resetpopdev"),n.devpass=!0,n.accpass=!1,n.modalheader="Reset Zuwagon Driver App apssword",f.Error("")}function l(){a.mypageloading=!0,h.debug("resetdevpswd  called"),i.$requireSignIn().then(function(b){var c=JSON.parse(JSON.stringify(b));g.defaults.headers.common.Authorization="Bearer "+c.stsTokenManager.accessToken,i.$sendPasswordResetEmail(n.dev_email).then(function(){h.debug("Email sent to "+n.dev_emai),n.resetdone=!0,n.mailsent="Reset Email sent to "+n.dev_email},function(a){h.debug("Issue in sending email")}),a.mypageloading=!1,n.devpass=!1},function(b){f.Error(b),a.mypageloading=!1,angular.element("#myModal").modal("hide")})}function m(){h.debug("changeaccpswd  called"),f.Error(""),i.$signInWithEmailAndPassword(n.email,n.old_pass).then(function(a){var b=JSON.parse(JSON.stringify(a));g.defaults.headers.common.Authorization="Bearer "+b.stsTokenManager.accessToken,a.updatePassword(n.new_pass).then(function(a){h.debug("updatepass success"),n.accpass=!1},function(a){h.debug("updatepass fail"),f.Error(a)})},function(a){h.debug("login failed, incorrect password = "+a),f.Error(a)})}h.debug("profileSettingsController reporting for duty."),d.setSidebar(),a.showBackStrech=!1;var n=this;b.showAddNewBusModal=!1,b.showModalPW=!0,b.profileInfo=angular.fromJson(c.profileInfo),b.busList=e.busList,a.global.showSettingSubMenu=!0,n.deviceCount=b.busList.length,n.name=b.profileInfo.name,n.email=b.profileInfo.email,n.changeaccpswd=m,n.resetdevpswd=l,n.resetpopacc=j,n.resetpopdev=k,n.modalheader="tt",n.devmodal=!0;var o=new Date(b.profileInfo.license_expire),p=new Date;h.debug("tempDate = "+p.toDateString()),n.license_expire=o.toDateString(),n.address=b.profileInfo.address,h.debug("$scope.profileInfo.dev_email = "+b.profileInfo.dev_email),n.dev_email=b.profileInfo.dev_email,h.debug("vm.dev_email = "+n.dev_email),b.requestPwChange=function(){n.modalheader="Change Zuwagon account Password"},n.cancel=function(){n.accpass=!1,n.devpass=!1,f.Error("")},n.accpass=!1,n.devpass=!1,n.resetdone=!1,n.pswdconfirmmsg="Do you want to reset Zuwagon device password?"}]),app.controller("ReportsController",["$rootScope","$scope","$q","$indexedDB","mapService","constantService","HttpService","UtilService","HandShakeService","$sessionStorage","$timeout","$log","$routeParams",function(a,b,c,d,e,f,g,h,i,j,k,l,m){function n(){if(!t){var a=h.initiateMap("routeMap",13);N=a.map,v=a.schoolMarker;var c=b.tripCoords.length,d={lat:b.tripCoords[0].lat,lng:b.tripCoords[0].lon},g={lat:b.tripCoords[c-1].lat,lng:b.tripCoords[c-1].lon};b.busMarker=new google.maps.Marker({position:d,map:N,optimized:!1,draggable:!0});var i={url:f.beachFlagIcon,size:new google.maps.Size(20,32),origin:new google.maps.Point(0,0),anchor:new google.maps.Point(0,32)},j={url:f.stop32Icon,size:new google.maps.Size(20,32),origin:new google.maps.Point(0,0),anchor:new google.maps.Point(0,32)},k=new google.maps.Marker({position:d,map:N,optimized:!1,icon:i}),l=new google.maps.Marker({position:g,map:N,optimized:!1,icon:i}),m='<div class="map-popup" ><b>Vehicle: '+e.busHash[b.replay_deviceId].reg_no+"</b><br></div>";h.getAddressForCoordinates(d).then(function(a){var b='<div class="map-popup" style="max-width: 180px"><b>'+a+"</b><br></div>",c=new google.maps.InfoWindow({content:b});c.open(N,k)}),h.getAddressForCoordinates(g).then(function(a){var b='<div class="map-popup" style="max-width: 180px"><b>'+a+"</b><br></div>",c=new google.maps.InfoWindow({content:b});c.open(N,l)});var n=new google.maps.InfoWindow({content:m});b.busMarker.addListener("click",function(){n.open(N,b.busMarker)}),b.busMarker.infowindow=n,b.busMarker.setIcon({url:h.getVehicleIcon(e.busHash[b.replay_deviceId].v_type,1),anchor:new google.maps.Point(25,25)}),google.maps.event.addListener(N,"click",function(a){n.close(L,v)}),t=!0,angular.forEach(b.pin_delivery,function(a){var c=new google.maps.Marker({position:{lat:a.lat,lng:a.lon},map:N,optimized:!1,icon:j}),d=new google.maps.InfoWindow({content:'<div class="map-popup" ><b>Order Id: '+a.order_id+"</b><br><b>Type: "+a.type+"</b><br><b>Time: "+h.timeInMin(new Date(a.pin_time))+"</b><br><b>Distance: "+b.showDistanceInKm(a.distance)+"</b><br></div>"});d.open(N,c)})}}function o(a){a=Number(a);var b=Math.floor(a/3600),c=Math.floor(a%3600/60);Math.floor(a%3600%60);return(b>0?b+" hr "+(c<10?"0":""):"")+c+" min"}function p(a,b,c,d){var e=6371,f=q(c-a),g=q(d-b),h=Math.sin(f/2)*Math.sin(f/2)+Math.cos(q(a))*Math.cos(q(c))*Math.sin(g/2)*Math.sin(g/2),i=2*Math.atan2(Math.sqrt(h),Math.sqrt(1-h)),j=e*i;return j}function q(a){return a*(Math.PI/180)}function r(){var a=new google.maps.LatLngBounds;angular.forEach(b.tripCoords,function(b){a.extend({lat:b.lat,lng:b.lon})}),N.fitBounds(a)}l.debug("ReportsController reporting for duty."),a.showBackStrech=!1,h.setSidebar();var s="";b.studentDetailsPopup=!1,b.alertdetailspopup=!1,b.fromMaxDate=Date(),b.toMaxDate=Date(),b.toMinDate="",b.fromDate="",b.toDate="",b.tripList=[],b.replayView=!1,b.moving=!1,b.isPaused=!1,b.replaytime="",b.totalTime=0,b.totalDistance=0,b.totalFuel=0,b.custom_date=!1;var t=!1;b.includeMobileTemplate=!1,b.duration="Time",b.nextPressed=!1;var u=[];b.summary_list=[],b.isDetail=!1;var v={};b.busMarker={},h.replayLines=[],b.calender=!1;var w,x;filteredTripObject={};var y=window.innerWidth;y<760?b.includeMobileTemplate=!0:b.includeDesktopTemplate=!1;var z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O=[],P=[],Q="";b.allSeen=function(){b.calender=!0},M=angular.fromJson(j.profileInfo),b.dateValidation=function(a,c){var d,e,f,g;b.fromDate=a,b.toDate=c,b.fromDate&&(d=new Date(b.fromDate),f=d.valueOf(),b.toMinDate=d.toString()),b.toDate&&(e=new Date(b.toDate),g=e.valueOf(),b.fromMaxDate=e.toString())},b.getHistoryReport=function(c,d){b.isDetail,b.fromDate=c,b.toDate=d,b.totalTime=0,b.totalDistance=0,b.totalFuel=0,l.debug("getHistoryReport"),b.replayView=!1,b.moving=!1;var f,h,i,j;if("Custom date"==b.duration&&(b.duration=c,b.duration+=" - ",b.duration+=d),b.fromDate&&b.toDate){if(b.custom_date=!1,a.mypageloading=!0,b.fromDate&&(f=new Date(b.fromDate),h=f.valueOf()),b.toDate&&(i=new Date(b.toDate),j=i.valueOf()),h>j)return void(a.mypageloading=!1);h==j&&(j+=86399e3),b.calender=!1,w=h,x=j;var k=g.HttpGetData(a.serverURL+"/customer/trip?st="+h+"&et="+j);k.then(function(c){a.mypageloading=!1,b.calender=!1,1==c.success&&(b.tripList=c.data,u=[],angular.forEach(b.tripList,function(a){void 0!=e.busHash[a.device_id]?(a.bus_number=e.busHash[a.device_id].bus_number,s=e.busHash[a.device_id].v_type):a.bus_number="-";var c=new Date(a.start_time);a.dateoftrip=c.toDateString();var d=c.getTime();if(c=c.toLocaleTimeString(),a.end_time){var f=new Date(a.end_time),g=f.getTime();g<d?(g=-1,f="-"):f=f.toLocaleTimeString()}else if(a.last_known_time){var f=new Date(a.last_known_time),g=f.getTime();g<d?(g=-1,f="-"):f=f.toLocaleTimeString()}else g=-1,f="-";a.fuel&&(a.fuel=Math.abs(Number(a.fuel).toFixed(2)));var h="",i=g-d;if(Number(i)<0?(h="-",a.timems=0):(h=o(i/1e3),a.timems=i,b.totalTime+=i),a.withCard=0,angular.forEach(a.stud_activity,function(b){(void 0==b.card||b.card)&&a.withCard++}),a.total_time=h,a.start_time=c,a.end_time=f,a.distance=a.distance.toFixed(1),b.totalDistance+=Number(a.distance),a.fuel&&(b.totalFuel+=Number(a.fuel.toFixed(2))),u[a.bus_number])u[a.bus_number].trip_count++,u[a.bus_number].total_distance+=Number(a.distance),a.fuel&&(u[a.bus_number].total_fuel?u[a.bus_number].total_fuel+=Number(a.fuel.toFixed(2)):u[a.bus_number].total_fuel=Number(a.fuel.toFixed(2)),console.log(Number(a.fuel.toFixed(2))),console.log(u[a.bus_number].total_fuel)),i>0&&(u[a.bus_number].total_time+=i);else{var j={bus_number:a.bus_number,v_reg_no:a.v_reg_no,trip_count:1,total_distance:Number(a.distance),total_time:0};i>0&&(j.total_time=i),u[a.bus_number]=j,a.fuel&&(u[a.bus_number].total_fuel=Number(a.fuel.toFixed(2)))}}),b.totalTime=o(b.totalTime/1e3),b.totalDistance=b.totalDistance.toFixed(1),b.summary_list=[],Object.keys(u).forEach(function(a){var c=u[a];c.total_distance=Number(c.total_distance).toFixed(1),c.total_fuel&&(c.total_fuel=Number(c.total_fuel).toFixed(1)),0==c.total_time?c.total_time="-":c.total_time=o(c.total_time/1e3),b.summary_list.push(c)}),m.historybusno&&(b.historybusno=m.historybusno.toString(),":"===b.historybusno.substring(0,1)&&b.showDetails(b.historybusno.substring(1))))})}};var R=[];b.showStuList=function(c){if(a.rfidModule&&a.category!=a.categoryLabel.general){var e=b.tripList[c],f=e._id;l.debug("showStuList called with tripId = "+f),b.studentDetailsPopup=!b.studentDetailsPopup,b.studentList=[],R=[];var g=e.stud_activity;l.debug("tripStuList length = "+g.length),l.debug("showlist called tripId = "+f),l.debug("got studentHash, tripStuList.length  = "+g.length),angular.forEach(g,function(a){R[a._id]=a}),d.openStore("student",function(a){l.debug("get student list for route = "+e.route);var c=a.query();c=c.$eq(e.route),c=c.$index("route_id"),a.eachWhere(c).then(function(a){angular.forEach(a,function(a){"PICKUP"==e.trip_type?(void 0!=R[a._id]?(a.boardpick="Boarded",R[a._id].loc.stop&&(a.stop=R[a._id].loc.stop)):a.boardpick="",b.studentList.push(a)):(l.debug("tripStuHash[stuObject._id] = "+R[a._id]),void 0!=R[a._id]?(a.boardpick="Dropped",R[a._id].loc.stop&&(a.stop=R[a._id].loc.stop)):a.boardpick="",b.studentList.push(a))})})}),l.debug("$scope.studentList.length = "+b.studentList.length)}},b.showAlerts=function(a){b.alertdetailspopup=!0,void 0!==b.tripList[a]&&(l.debug("tripId = "+b.tripList[a]._id),b.idleAlertList=b.tripList[a].idle_alert,l.debug("$scope.idleAlertList = "+JSON.stringify(b.idleAlertList)),b.speedAlertList=b.tripList[a].speed_alert,l.debug("$scope.speedAlertList = "+JSON.stringify(b.speedAlertList)))},b.marker={},b.replayTripIndex=-1,b.replay=function(a,c){b.replayView||(b.replayTripIndex=a,b.busMarker.stopped=!1,b.busPosIndex=0,b.coords_interval=[],b.busAnimIndex=0,b.moving=!1,b.getTripDetails(a,c).then(function(a){b.replayView=!0}))},b.play=function(){b.isPaused=!1,b.busMarker.stopped=!1,b.moving=!0,b.busPosIndex=0,b.busAnimIndex=0,b.busMarker.id=b.replay_deviceId,b.busMarker.v_type=e.busHash[b.replay_deviceId].v_type,b.movebus(b.busPosIndex)},b.pause=function(){b.isPaused||(b.moving=!1,b.keepPasued={busPosIndex:b.busPosIndex,busAnimIndex:b.busAnimIndex},b.busPosIndex=b.tripCoords.length,b.busAnimIndex=b.coords_interval.length,b.isPaused=!0)},b.resume=function(){b.isPaused=!1,b.moving=!0,b.busPosIndex=b.keepPasued.busPosIndex,b.busAnimIndex=b.keepPasued.busAnimIndex,b.movebus(b.busPosIndex)},b.stop=function(){if(b.busPosIndex=b.tripCoords.length,b.busAnimIndex=b.coords_interval.length,b.moving=!1,b.isPaused=!1,b.busMarker.stopped=!0,b.tripCoords.length>0&&b.busMarker.setPosition({lat:Number(b.tripCoords[0].lat),lng:Number(b.tripCoords[0].lon)}),Q="",h.replayLines.length)for(var a=0;a<h.replayLines.length;a++)h.replayLines[a].setMap(null);h.replayLines=[]},b.close=function(){if(t=!1,b.busMarker.v_type="",b.busPosIndex=b.tripCoords.length,b.busAnimIndex=b.coords_interval.length,b.replayView=!1,b.moving=!1,b.isPaused=!1,z="",A="",B="",C="",D="",O=[],P=[],E="",F="",G="",H="",I="",K&&b.feature&&K.removeFeature(b.feature),Q&&K.removeFeature(Q),Q="",b.feature="",J="",b.replay_deviceId="",h.replayLines.length)for(var a=0;a<h.replayLines.length;a++)h.replayLines[a].setMap(null);h.replayLines=[]},b.getTripDetails=function(d,e){var f=c.defer();a.mypageloading=!0;var h;h=e?a.serverURL+"/customer/trip/detailall?st="+w+"&et="+x:a.serverURL+"/customer/trip/history/"+b.detailedTripList[d]._id;var i=g.HttpGetData(h);return i.then(function(c){a.mypageloading=!1,1==c.success?(b.tripCoords=c.data.location,b.pin_delivery=c.data.pin_delivery,b.tripCoords.sort(function(a,b){return a.time-b.time}),e?b.replay_deviceId=filteredTripObject.device_id:b.replay_deviceId=b.detailedTripList[d].device_id,b.replayView=!0,k(function(){n(),r()}),f.resolve()):f.reject()}),f.promise},moveGBus=function(a){I=Math.atan2(b.tripCoords[a+1].lat-b.tripCoords[a].lat,b.tripCoords[a+1].lon-b.tripCoords[a].lon),z={x:b.tripCoords[a].lon,y:b.tripCoords[a].lat},A={x:b.tripCoords[a+1].lon,y:b.tripCoords[a+1].lat},B=new arc.GreatCircle(z,A),C=B.Arc(20,{offset:0}),C=C.json(),O=C.geometry.coordinates,D=new ol.geom.LineString(O),E=Math.round(O.length/2-1),P=D.getCoordinates()},b.movebus=function(){var a=50*b.tripCoords.length>100?100*b.tripCoords.length:100;if(b.busPosIndex<b.tripCoords.length){var c=new Date(b.tripCoords[b.busPosIndex].time),d='<div class="map-popup" ><b>Vehicle: </b> '+e.busHash[b.replay_deviceId].reg_no+"<br><b>Speed:</b> "+b.tripCoords[b.busPosIndex].speed+"<br><b>Time:</b> "+c.toLocaleTimeString()+"<br></div>";if(b.busMarker.infowindow.setContent(d),b.busPosIndex>=1){p(b.tripCoords[b.busPosIndex-1].lat,b.tripCoords[b.busPosIndex-1].lon,b.tripCoords[b.busPosIndex].lat,b.tripCoords[b.busPosIndex].lon),b.tripCoords[b.busPosIndex].time-b.tripCoords[b.busPosIndex-1].time}h.moveMarker(b.busMarker,b.tripCoords[b.busPosIndex],a).then(function(){b.busPosIndex++,b.movebus()})}return;var c};b.showDistanceInKm=function(a){var b=Number((a/1e3).toFixed(2));return isNaN(b)&&(b="0"),b+" Km"},b.calendar_list=["Today","Yesterday","Last 7 days","Last 30 days","Custom"],b.calendar_select=function(a){var c=new Date;c.setHours(0),c.setMinutes(0),c.setSeconds(0);var d=c.getTime()+864e5;if(0==a)b.duration="Today",b.fromDate=d-864e5,b.toDate=d;else if(1==a)b.duration="Yesterday",b.fromDate=d-1728e5,b.toDate=d-864e5;else if(2==a)b.duration="Last 7 days",b.fromDate=d-6912e5,b.toDate=d;else if(3==a)b.duration="Last Month",b.fromDate=d-26784e5,b.toDate=d;else if(4==a)return b.duration="Custom date",b.visibility=!0,b.calender=!1,b.custom_date=!0,b.fromMaxDate=Date(),b.nextPressed=!1,b.fromDate=(new Date).toLocaleDateString(),void(b.toDate=(new Date).toLocaleDateString());b.calender=!1,b.getHistoryReport(b.fromDate,b.toDate)},b.cancel=function(){b.fromDate="",b.toDate="",b.calender=!1,b.custom_date=!1},b.next=function(){b.nextPressed=!0},b.back=function(){b.nextPressed=!1},b.bus_filter_text="All",b.filter_reports=function(a){b.bus_filter=a,b.bus_filter_text=a,b.totalDistance=0,b.totalTime=0,b.totalFuel=0,b.detailedTripList=[],filteredTripObject={},angular.forEach(b.tripList,function(a){a.bus_number==b.bus_filter&&(b.detailedTripList.push(a),b.totalTime+=a.timems,b.totalDistance+=Number(a.distance),a.fuel&&(b.totalFuel+=Number(a.fuel.toFixed(2))),filteredTripObject=a)}),b.totalTime=o(b.totalTime/1e3),b.totalDistance=Number(b.totalDistance.toFixed(1))},b.filter_reports_all=function(){b.bus_filter="",b.bus_filter_text="All",b.detailedTripList=b.tripList,b.totalDistance=0,b.totalFuel=0,b.totalTime=0,angular.forEach(b.tripList,function(a){a.bus_number&&(b.totalTime+=a.timems,b.totalDistance+=Number(a.distance),a.fuel&&(b.totalFuel+=Number(a.fuel.toFixed(2))))}),b.totalTime=o(b.totalTime/1e3)},b.showDetails=function(a){b.filter_reports(Number(a)),b.isDetail=!0},b.export=function(){html2canvas(document.getElementById("tableToExport"),{onrendered:function(a){var b=a.toDataURL(),c={content:[{image:b,width:500}]};pdfMake.createPdf(c).download("Bus Report.pdf")}})},b.attendance=function(a){return""==a.boardpick?"":void 0==a.card||a.card?"Card":"Manual"},b.calendar_select(0),b.exportAction=function(a){switch(a){case"pdf":b.$broadcast("export-pdf",{});break;case"excel":b.$broadcast("export-excel",{});break;case"doc":b.$broadcast("export-doc",{});break;case"csv":b.$broadcast("export-csv",{})}}}]),app.controller("routeController",["$rootScope","$location","HandShakeService","busService","UtilService","FlashService","$scope","HttpService","$sessionStorage","$indexedDB","$log",function(a,b,c,d,e,f,g,h,i,j,k){function l(){k.debug("Inside check duplicate entries");for(var a=0;a<g.newRouteList.length;a++){k.debug(g.newRouteList[a].route_key);for(var b=a+1;b<g.newRouteList.length;b++)if(g.newRouteList[b].route_key==g.newRouteList[a].route_key||g.newRouteList[b].route_name==g.newRouteList[a].route_name)return!1;for(var c=0;c<g.existingRouteList.length;c++)if(g.existingRouteList[c].route_key==g.newRouteList[a].route_key||g.existingRouteList[c].route_name==g.newRouteList[a].route_name)return!1}return!0}function m(){k.debug("Inside check duplicate entries while update");for(var a=0;a<g.existingRouteList.length;a++)if(a==n){if(g.existingRouteList[a]==g.newRouteList[0])return 0}else if(g.existingRouteList[a].route_key==g.newRouteList[0].route_key||g.existingRouteList[a].route_name==g.newRouteList[0].route_name)return-1;return 1}e.setSidebar(),g.noStopWarning=!1,k.debug("routeController reporting for duty."),a.showBackStrech=!1,g.newRouteList=[];var n=0;a.mypageloading=!1,g.busList=d.busList,g.existingRouteList=[],k.debug("HandShakeService.existingRouteList call"),c.getGradeInfo().then(function(){k.debug("HandShakeService getGradeInfo received  "),c.getRouteInfo().then(function(a){k.debug("HandShakeService getRouteInfo received result.length = "+a.length),g.existingRouteList=a,angular.forEach(g.existingRouteList,function(a){var b=0;if(a.stop_list.length>0)for(var c=0;c<a.stop_list.length;c++)void 0!=a.stop_list[c].name&&""!=a.stop_list[c].name&&null!=a.stop_list[c].name&&b++;a.assignedstop=b})})}),k.debug("HandShakeService.existingRouteList passed"),g.editing=!1,g.addNewRoute=function(){g.showAddNewRouteModal=!g.showAddNewRouteModal,g.newRouteList.length=0,g.newRouteList=[],g.editing=!1,k.debug("djain getting value from session $scope.busList = "+g.busList),g.addRoute(),f.Error("")},g.addRoute=function(){k.debug("addRoute called");var a={route_name:"",bus_number:"",route_key:""};k.debug("$scope.newRouteList.length "+g.newRouteList.length),g.newRouteList.push(a),k.debug("$scope.newRouteList.length "+g.newRouteList.length)},g.saveRoutes=function(){k.debug(" $scope.newRouteList.length"+g.newRouteList.length),a.mypageloading=!0;var b=l();if(k.debug("crossed checkDuplicateEntries duplicateCheck = "+b),1==b){var c=h.HttpPostData(a.serverURL+"/customer/routes",g.newRouteList);c.then(function(b){b.success?(a.global.routewarning=!0,g.existingRouteList=g.existingRouteList.concat(b.data),g.newRouteList.length=0,g.newRouteList=[],angular.forEach(b.data,function(a){a.stucount=0,a.assignedstop=0}),j.openStore("route",function(c){c.upsert(b.data).then(function(b){k.debug("upserted successfully in routeStore e= "+b),a.mypageloading=!1,g.showAddNewRouteModal=!1},function(a){k.debug("Error in upserting in routeStore = "+a)})})):f.Error(b.data)})}else a.mypageloading=!1,f.Error("Route Name and Route Short key should be unique.")},g.editRoute=function(a,b){k.debug("edit route called"),g.newRouteList.length=0,g.newRouteList=[],g.addRoute(),angular.copy(a,g.newRouteList[0]),i.newRouteList=g.newRouteList[0],g.showAddNewRouteModal=!g.showAddNewRouteModal,g.editing=!0;for(var c=0;c<g.existingRouteList.length;c++)if(g.existingRouteList[c]._id==a._id){n=c;break}f.Error("")},g.deleteRoute=function(b,c){var d=!1;if(d=b.stop_list.length>0?confirm(b.stop_list.length+" stop associated with "+b.route_name+" route. On deletion of the route, all the stop details will also be deleted."):!(b.stucount>0)||confirm(b.stucount+" student associated with "+b.route_name+" route. On deletion of the route, all the associated students will not belong to any group."),1==d){a.mypageloading=!0;var e=h.HttpDeleteData(a.serverURL+"/customer/routes/"+b._id);e.then(function(c){a.mypageloading=!1,1==c.success?j.openStore("route",function(a){a.delete(b._id).then(function(a){k.debug("deleted successfully in routeStore"),j.openStore("student",function(a){a.count().then(function(c){if(c>0){var d=a.query();d=d.$eq(b._id),d=d.$index("route_id"),a.eachWhere(d).then(function(c){angular.forEach(c,function(a){a.stop_id="",a.stop_name="",a.route_id=""}),a.upsert(c).then(function(a){k.debug("upsert successfully in studentStore");for(var c=-1,d=0;d<g.existingRouteList.length;d++)if(g.existingRouteList[d]._id==b._id){c=d;break}g.existingRouteList.splice(c,1)},function(a){k.debug("Error in deletion in routeStore = "+a)})})}})})},function(a){k.debug("Error in deletion in routeStore = "+a)})}):null==c.data||""==c.data||void 0==c.data?f.Error("Oops, something went wrong! Please login again."):f.Error(reFlassult.data)})}},g.cancel=function(){k.debug("cancel called"),g.newRouteList.length=0,g.newRouteList=[],g.showAddNewRouteModal=!1,f.Error("")},g.busChange1=function(a){k.debug("buschange1 called"),g.newRouteList[a].route_key=g.newRouteList[a].bus_number},g.updateRoute=function(){k.debug("update route called $index ");var b=m();if(k.debug("duplicatecheck = "+b),1==b){a.mypageloading=!0;var c=h.HttpUpdateData(a.serverURL+"/customer/routes/"+g.newRouteList[0]._id,g.newRouteList[0]);c.then(function(b){a.mypageloading=!1,1==b.success?(g.showAddNewRouteModal=!1,g.editing=!1,j.openStore("route",function(a){a.delete(g.existingRouteList[n]._id).then(function(){a.upsert(g.newRouteList[0]).then(function(a){k.debug("upserted successfully in routeStore"),g.existingRouteList[n]=g.newRouteList[0]},function(a){k.debug("Error in upserting in routeStore = "+a)})},function(a){k.debug("Error in upserting in routeStore = "+a)})})):null==b.data||""==b.data||void 0==b.data?f.Error("Oops, something went wrong! Please login again."):f.Error(b.data)})}else b==-1?f.Error("Route Name and Route Short key should be unique."):g.cancel()},g.openRouteDetails=function(a){var c=0;angular.forEach(g.existingRouteList,function(d){if(d._id==a)if(d.stop_list.length>0){for(var e=0;e<d.stop_list.length;e++)if(void 0!=d.stop_list[e].name&&""!=d.stop_list[e].name&&null!=d.stop_list[e].name){b.path("/routes/:"+a),c++;break}0==c&&(g.noStopWarning=!0)}else g.noStopWarning=!0})},g.openRouteView=function(a){0==a.stop_list.length?g.noStopWarning=!0:b.path("/routes/view/:"+a._id)},g.export=function(){kendo.drawing.drawDOM($("#exportthis")).then(function(a){kendo.drawing.pdf.saveAs(a,"RouteList.pdf")})}}]),app.controller("routeInfoController",["$rootScope","$scope","$q","$sessionStorage","$routeParams","$log","UtilService","HttpService","FlashService","$indexedDB","HandShakeService",function(a,b,c,d,e,f,g,h,i,j,k){function l(){f.debug("getStudentDetails $scope.routeID "+b.routeID),j.openStore("student",function(a){f.debug("studentStore opened");var c=a.query();c=c.$eq(b.routeID),c=c.$index("route_id"),a.eachWhere(c).then(function(a){f.debug("studentStore eachwhere queried"),b.existingStudentList=a,f.debug("$scope.existingStudentList len = "+b.existingStudentList.length),angular.forEach(b.existingStudentList,function(a){f.debug("studentObject.stop_id = "+a.stop_id),a.stop_name=r[a.stop_id].name})})})}function m(a){b.editing=!0,b.newStudentList.length=0,b.newStudentList=[];var c={name:"",rollno:"",gender:"",rfid:"",stop_id:"",stop_name:"",route_id:b.routeID,grade_id:""};f.debug("$scope.newStudentList.length "+b.newStudentList.length),b.newStudentList.push(c),angular.copy(b.existingStudentList[a],b.newStudentList[0]),f.debug("$scope.newStudentList[0].stop_id = "+b.newStudentList[0].stop_id),q=b.newStudentList[0].stop_id,b.showEditStudentModal=!0,t=a,i.Error("")}function n(a){if(f.debug("Inside checkDuplicateEntriesWhileUpdate"),f.debug(b.newStudentList[0].rollno),f.debug(b.newStudentList[0].rfid),f.debug("$scope.newStudentList[0].stop_Id = "+b.newStudentList[0].stop_id+"existingStopId = "+q),b.newStudentList[0].stop_id==q)return f.debug("Stop Name not changed"),0;for(var c=0;c<b.allStudentList.length;c++){if(b.allStudentList[c]._id==b.newStudentList[0]._id){if(b.allStudentList[c].stop_id==b.newStudentList[0].stop_id)return 0}else if(b.allStudentList[c].stop_id==b.newStudentList[0].stop_id)return-1;return 1}return!0}function o(){f.debug("start of  newListToServerFormat"),u=[],angular.forEach(b.newStudentList,function(a){var c={_id:"",stop_id:""};a.stop_name=r[a.stop_id].name,a.route_id=b.routeID,f.debug("stuInfo._id tuInfo.stop ",a._id+" "+a.stop_name),c._id=a._id,c.stop_id=a.stop_id,c.stop_name=a.stop_name,c.lat=r[a.stop_id].lat,c.lon=r[a.stop_id].lon,u.push(c)}),f.debug("length of newStuListInServerFormat "+u.length),f.debug("End of  newListToServerFormat")}function p(a){f.debug("updateStuCountInRoute stuCount = "+a),j.openStore("route",function(c){c.find(b.routeID).then(function(b){b.stucount=a,c.upsert(b).then(function(a){f.debug("upserted successfully in studentStore ")},function(a){f.debug("Error in upserting in studentStore = "+a)})})})}g.setSidebar(),f.debug("routeInfoController reporting for duty."),a.showBackStrech=!1,b.showAddNewStudentModal=!1,b.showEditStudentModal=!1,b.newStudentList=[],b.existingStudentList=[];var q="";b.routeID=e.routeID.toString(),":"===b.routeID.substring(0,1)&&(b.routeID=b.routeID.substring(1));var r=[];b.stopList=[];var s=function(){var a=c.defer();return j.openStore("route",function(c){c.find(b.routeID).then(function(c){b.routeName=c.route_name,angular.forEach(c.stop_list,function(c){void 0!==c.name&&null!==c.name&&""!==c.name&&(r[c._id]=c,b.stopList.push(c)),a.resolve()})})}),a.promise};s().then(function(){l()}),b.allStudentList=[],b.allUnassignedStudentList=[],b.addNewStudent=function(){b.allStudentList.length=0,b.allUnassignedStudentList.length=0,b.allStudentList=[],b.allUnassignedStudentList=[],b.query="",j.openStore("student",function(a){f.debug("opened studentStore"),a.getAll().then(function(a){b.allStudentList=a,f.debug("$scope.allStudentList = "+b.allStudentList.length),angular.forEach(b.allStudentList,function(a){""!=a.stop_id&&void 0!=a.stop_id||b.allUnassignedStudentList.push(a)}),f.debug("$scope.allUnassignedStudentList = "+b.allUnassignedStudentList.length)})}),b.showAddNewStudentModal=!b.showAddNewStudentModal,b.newStudentList.length=0,b.newStudentList=[],b.editing=!1,f.debug("$scope.newStudentList.length "+b.newStudentList.length),f.debug("$scope.newStudentList.length "+b.newStudentList.length)},b.addStudent=function(a){({name:"",rollno:"",gender:"",rfid:"",stop_id:"",stop_name:"",route_id:b.routeID,grade_id:""});f.debug("$scope.newStudentList.length "+b.newStudentList.length),b.newStudentList.indexOf(a)==-1?b.newStudentList.push(a):alert("Student has already been added in the list."),f.debug("$scope.allUnassignedStudentList.length "+b.allUnassignedStudentList.length),b.allUnassignedStudentList.splice(b.allUnassignedStudentList.indexOf(a),1),f.debug("$scope.allUnassignedStudentList.length "+b.allUnassignedStudentList.length),f.debug("$scope.newStudentList.length "+b.newStudentList.length),b.query=""},b.cancelAddStudent=function(){f.debug("cancelAddStudent called"),angular.forEach(b.newClassList,function(a){a.stop_id="",a.stop_name=""}),b.allUnassignedStudentList.concat(b.newClassList),b.newStudentList.length=0,b.newStudentList=[],b.showAddNewStudentModal=!1,b.showEditStudentModal=!1,i.Error("")},b.cancel=function(){f.debug("cancel called"),b.newStudentList.length=0,b.newStudentList=[],b.showAddNewStudentModal=!1,b.showEditStudentModal=!1,i.Error("")};var t=0,u=[];b.saveStudent=function(){f.debug("saveStudent called"),f.debug("stop_name = "+b.newStudentList[0].stop_name),f.debug("$scope.newStudentList.length"+b.newStudentList.length),o();var c={route_name:b.routeName,stud_list:u},e=h.HttpUpdateData(a.serverURL+"/customer/routes/addstud/"+b.routeID,c);e.then(function(a){1==a.success?(b.existingStudentList=b.existingStudentList.concat(b.newStudentList),f.debug("scope.existingStudentList.length = "+b.existingStudentList.length),f.debug("$scope.existingStudentList[0]"+b.existingStudentList[0].stop_name),d.tempexitstulist=b.existingStudentList,b.newStudentList.length=0,b.newStudentList=[],b.showAddNewStudentModal=!1,j.openStore("student",function(a){f.debug("opened studentStore"),a.upsert(b.existingStudentList).then(function(a){f.debug("upserted successfully in studentStore"),p(b.existingStudentList.length)},function(a){f.debug("Error in upserting in studentStore = "+a)})})):null==a.data||""==a.data||void 0==a.data?i.Error("Oops, something went wrong! Please login again."):i.Error(a.data)})},b.editStudentInfo=function(a){m(a),f.debug("Editing Student info")},b.reSendOtp=function(a){confirm("Do you want to resend the OTP for "+b.existingStudentList[a].name+" on "+b.existingStudentList[a].emer_1)},b.deleteNewStudent=function(a){f.debug("deleteNewStudent new called"),b.newStudentList[a].stop_id="",b.newStudentList[a].stop_name="",b.allUnassignedStudentList.push(b.newStudentList[a]),b.newStudentList.splice(a,1)},b.updateStudentInfo=function(){f.debug("inside updateStudentInfo");var c=n();if(f.debug("crossed checkDuplicateEntries duplicateCheck = "+c),1==c){b.newStudentList[0].stop_name=r[b.newStudentList[0].stop_id].name,b.newStudentList[0].lon=r[b.newStudentList[0].stop_id].lon,b.newStudentList[0].lat=r[b.newStudentList[0].stop_id].lat,f.debug("$scope.newStudentList[0].stop_name._id = "+b.newStudentList[0]._id+" $scope.newStudentList[0].stop_name = "+b.newStudentList[0].stop_name);var d=h.HttpUpdateData(a.serverURL+"/customer/routes/updstud/"+b.routeID,b.newStudentList[0]);d.then(function(a){1==a.success?(f.debug(),b.newStudentList[0].stop_id,b.existingStudentList[t]=b.newStudentList[0],b.showEditStudentModal=!1,b.editing=!1,j.openStore("student",function(a){f.debug("opened studentStore"),a.upsert(b.existingStudentList).then(function(a){f.debug("upserted successfully in studentStore")},function(a){f.debug("Error in upserting in studentStore = "+a)})})):null==a.data||""==a.data||void 0==a.data?i.Error("Oops, something went wrong! Please login again."):i.Error(a.data)})}else 0==c?(b.showEditStudentModal=!1,b.editing=!1):i.Error("Student Roll No and RFID should be unique.")},b.deleteStudent=function(c){f.debug("Deleting student info, index $scope.existingStudentList[$index]._id "+c+" "+b.existingStudentList[c]._id);var d={_id:b.existingStudentList[c]._id},e=h.HttpUpdateData(a.serverURL+"/customer/routes/delstud/"+b.routeID,d);e.then(function(a){1==a.success?j.openStore("student",function(a){b.existingStudentList[c].stop_id="",b.existingStudentList[c].stop_name="",b.existingStudentList[c].route_id="",a.upsert(b.existingStudentList[c]).then(function(a){f.debug("upsert successfully in routeStore"),b.allUnassignedStudentList.push(b.existingStudentList[c]),b.existingStudentList.splice(c,1),p(b.existingStudentList.length)},function(a){f.debug("Error in deletion in routeStore = "+a)})}):null==a.data||""==a.data||void 0==a.data?i.Error("Oops, something went wrong! Please login again."):i.Error(a.data)})}}]),app.controller("RouteViewController",["$rootScope","$scope","$indexedDB","HttpService","UtilService","$routeParams","FlashService","$compile","$sessionStorage","HandShakeService","$log",function(a,b,c,d,e,f,g,h,i,j,k){function l(){var a=angular.fromJson(i.profileInfo),b=a.loc,c=Number(b.lat),d=Number(b.lon);k.debug("schoolCoord = "+d+" "+c);var e=new ol.geom.Point(ol.proj.transform([d,c],"EPSG:4326","EPSG:3857")),f=new ol.Feature({type:"click",geometry:e}),g=new ol.style.Style({image:new ol.style.Icon({anchor:[.5,46],anchorXUnits:"fraction",anchorYUnits:"pixels",opacity:.75,src:"../assets/img/School-48.png"})}),h='<div class="map-popup" >'+a.name;f.setStyle(g),f.set("name",h),r.addFeature(f)}function m(a,b){var c=Number(a.lat),d=Number(a.lon);k.debug("lat lon  markerObject._id"+c+" "+d+" "+a._id);var e,f,g=new ol.geom.Point(ol.proj.transform([d,c],"EPSG:4326","EPSG:3857"));if(void 0==a.number||void 0==a.name||void 0==a.d_number){k.debug("Busunmarked"),e='<div class="map-popup" ><form class="form style-form"  ><div class="form-group"><label >Pick up Stop No.</label>&nbsp; <input  type="number" ng-model="number" string-to-number required/></div><div class="form-group"><label >Drop Stop No.</label>&nbsp; <input  type="number" ng-model="d_number" string-to-number required/></div> <div class="form-group" ><label >Stop Name</label>&nbsp; <input  type="text" ng-model="name" required/></div><div class="form-action" ><span ng-if="flash" ng-bind="flash.message" class="help-block text-danger"></span> <button type="submit"  style="width: 10em;  height: 2em;"  ng-click="addStop();">Add</button> <button type="button" style="width: 10em;  height: 2em;"  ng-hide ="false" ng-click="delete()">Delete </button><my-page-Loader ng-if="mypageloading"></my-page-Loader></div> </form></div>';
var h=new ol.Feature({type:"click",name:e,geometry:g,iter:b});f=new ol.style.Style({image:new ol.style.Icon({anchor:[.5,46],anchorXUnits:"fraction",anchorYUnits:"pixels",opacity:.75,src:"../assets/img/stop-unass.png"})})}else{k.debug("Busmarked markerObject.number = "+a.number+"markerObject.name =  "+a.name);var e='<div class="map-popup" ><div>Pick up Stop No: '+a.number+"<br>Drop Stop No: "+a.d_number+"<br>Stop Name: "+a.name+'</div><br><span ng-if="flash" ng-bind="flash.message" class="help-block text-danger"></span> <button type="submit"  ng-click="edit(); ">Edit</button> <button type="button"  ng-click="delete()">Delete</button><my-page-Loader ng-if="mypageloading"></my-page-Loader></div>',h=new ol.Feature({type:"click",name:e,geometry:g,iter:b});f=new ol.style.Style({image:new ol.style.Icon({anchor:[.5,46],anchorXUnits:"fraction",anchorYUnits:"pixels",opacity:.75,src:"../assets/img/stop.png"})})}h.setStyle(f),h.setId(a._id),r.addFeature(h)}function n(){k.debug("IsDuplicateEntry");var a=0;for(k.debug("$scope.name = "+b.name+"$scope.number = "+b.number+"$scope.d_number = "+b.d_number),a=0;a<b.markers.length;a++)if(k.debug("$scope.markers[i].name = "+b.markers[a].name+"$scope.markers[i].number = "+b.markers[a].number+"$scope.markers[i].d_number = "+b.markers[a].d_number),void 0!==b.markers[a].name&&b.markers[a].name===b.name||void 0!==b.markers[a].number&&b.markers[a].number==b.number||void 0!==b.markers[a].d_number&&b.markers[a].d_number==b.d_number)return k.debug("featureInEdit_index = "+w+" i = "+a),w===a?b.markers[a].name===b.name&&b.markers[a].number===b.number&&b.markers[a].d_number===b.d_number?-1:0:1;return 0}function o(){k.debug("IsDuplicateUpdate");var a=0;for(k.debug("$scope.markers.length = "+b.markers.length+"$scope.name = "+b.name+"$scope.number = "+b.number+"$scope.d_number = "+b.d_number+"featureInEdit_index = "+w),a=0;a<b.markers.length;a++)if(k.debug("$scope.markers[i].name = "+b.markers[a].name+"$scope.markers[i].number = "+b.markers[a].number),void 0!==b.markers[a].name&&b.markers[a].name===b.name||void 0!==b.markers[a].number&&b.markers[a].number==b.number||void 0!==b.markers[a].d_number&&b.markers[a].d_number==b.d_number)return k.debug("i = "+a),w===a?b.markers[a].name===b.name&&b.markers[a].number===b.number&&b.markers[a].d_number===b.d_number?-1:0:1;return 0}k.debug("RouteViewController reporting for duty."),e.setSidebar(),a.showBackStrech=!1;var n=n,o=o,p="",q="",r=new ol.source.Vector({}),s=ol.proj.transform([80.0686541,12.8538429],"EPSG:4326","EPSG:3857"),t=new ol.Map({layers:[new ol.layer.Tile({source:new ol.source.OSM}),new ol.layer.Vector({source:r})],target:"routeViewMap",view:new ol.View({center:s,zoom:13,maxZoom:19,minZoom:4})}),u=new ol.Overlay.Popup;t.addOverlay(u),t.on("click",function(a){var c=t.forEachFeatureAtPixel(a.pixel,function(a,b){return a});if(c&&"click"==c.get("type")){b.name="",b.number="",b.d_number="",q=c,p=c.getId();var d=c.getGeometry().getCoordinates(),e=(c.getProperties(),c.get("name"));u.setOffset([0,-22]),u.show(d,e);var f=angular.element(document.querySelector("#djainpopup"));h(f)(b)}else u.hide()}),t.on("pointermove",function(a){if(a.dragging)return void u.hide();var b=t.getEventPixel(a.originalEvent);t.hasFeatureAtPixel(b)}),b.routeID=f.routeID.toString(),":"===b.routeID.substring(0,1)&&(b.routeID=b.routeID.substring(1));var v;k.debug("HandShakeService.getRouteStopInfo call"),j.getRouteStopInfo(b.routeID).then(function(a){k.debug("HandShakeService getRouteStopInfo received result.length = "+a.stop_list.length),v=a,b.route_name=a.route_name,b.markers=a.stop_list;var c=0;angular.forEach(b.markers,function(a){m(a,c),c++}),l();var d=r.getExtent();k.debug("extent = "+t.getSize()+" zoom = "+t.getView().getZoom()),void 0!==t.getSize()&&t.getView().fit(d,t.getSize()),k.debug("extent = "+t.getSize()+" zoom = "+t.getView().getZoom())}),k.debug("HandShakeService.getRouteStopInfo passed");var w=0;b.addStop=function(){k.debug("addStop called");var e=q.get("iter");if(w=e,void 0===b.name||""==b.name||null==b.name||void 0===b.number||""==b.number||null==b.number||void 0===b.d_number||""==b.d_number||null==b.d_number)return void g.Error("Stop Name and Number should not be empty");var f=n();if(0===f){k.debug("Its not duplicate");var j={name:b.name,number:b.number,d_number:b.d_number},e=q.get("iter");b.markers[e].name=b.name,b.markers[e].number=b.number,b.markers[e].d_number=b.d_number,a.mypageloading=!0;var l=d.HttpUpdateData(a.serverURL+"/customer/routes/stop/"+b.routeID+"/"+p,j);l.then(function(d){if(a.mypageloading=!1,1==d.success){g.Error(""),k.debug("Stop updated successfully");var e='<div class="map-popup" ><div>Pick Up Stop No: '+b.number+"<br>Drop Stop No: "+b.d_number+"<br>Stop Name: "+b.name+'</div><br><span ng-if="flash" ng-bind="flash.message" class="help-block text-danger"></span> <button type="submit" style="width: 10em;  height: 2em;" ng-click="edit(); ">Edit</button> <button type="button" style="width: 10em;  height: 2em;" ng-click="delete()">Delete</button><my-page-Loader ng-if="mypageloading"></my-page-Loader></div>',f=new ol.style.Style({image:new ol.style.Icon({anchor:[.5,46],anchorXUnits:"fraction",anchorYUnits:"pixels",opacity:.75,src:"../assets/img/stop.png"})});q.set("name",e),q.setStyle(f),u.hide();var j=q.getGeometry().getCoordinates();u.setOffset([0,-22]),u.show(j,e);var l=angular.element(document.querySelector("#djainpopup"));h(l)(b),i.markers=b.markers,v.stop_list=b.markers,c.openStore("route",function(a){a.delete(b.routeID).then(function(){a.upsert(v).then(function(a){k.debug("upserted successfully in routeStore")},function(a){k.debug("Error in upserting in routeStore = "+a)})})})}else null==d.data||""==d.data||void 0==d.data?g.Error("Oops, something went wrong! Please login again."):g.Error(d.data)})}else k.debug("Stop Name and Number should be unique"),g.Error("Stop Name and Number should be unique"),alert("Stop Name and Number should be unique")},b.cancel=function(){k.debug("cancel called"),u.hide(),b.name="",b.number="",b.d_number=""},b.delete=function(){function e(e){k.debug("deletestop called");var f=d.HttpDeleteData(a.serverURL+"/customer/routes/stop/"+b.routeID+"/"+p);f.then(function(d){if(a.mypageloading=!1,1==d.success){var f=q.get("iter");b.markers.splice(f,1),u.hide(),r.removeFeature(q),v.stop_list=b.markers,v.stucount-=e,c.openStore("route",function(d){d.delete(b.routeID).then(function(){d.upsert(v).then(function(b){k.debug("upserted successfully in routeStore"),c.openStore("student",function(b){b.count().then(function(c){0==c&&(a.global.stuwarning=!0),b.each().then(function(a){angular.forEach(a,function(a){k.debug("studentObject._id = "+a._id),void 0!=a.stop_id&&""!=a.stop_id&&a.stop_id==p&&(a.stop_id="",a.stop_name="",a.route_id="",b.delete(a._id).then(function(){b.upsert(a).then(function(a){k.debug("Stop id removed from student db")})})),k.debug("studentObject.stop_id = "+a.stop_id)})})})})},function(a){k.debug("Error in upserting in routeStore = "+a)})})})}})}var f=0,g=!1;k.debug("delete called"),c.openStore("student",function(c){c.count().then(function(d){if(k.debug("studentCount = "+d),0==d)e(0);else{var h=c.query();h=h.$eq(b.routeID),h=h.$index("route_id"),c.eachWhere(h).then(function(b){k.debug("stuList length = "+b.length),angular.forEach(b,function(a){a.stop_id==p&&f++}),g=!(f>0)||confirm(f+" student associated with this stop. On deletion all the students will be unassigned from the route."),g&&(k.debug("delete stop featureInEdit_id = "+p),a.mypageloading=!0,e(f))})}})})},b.edit=function(){k.debug("edit called"),q.get("name");var a=q.get("iter");w=a,b.name=b.markers[a].name,b.number=b.markers[a].number,b.d_number=b.markers[a].d_number,p=q.getId(),k.debug(" Edit iter "+w);var c='<div class="map-popup" ><form name="form" role="form" class="form style-form"  ><div class="form-group"><label >Stop No.</label>&nbsp; <input  type="number" ng-model="number" required string-to-number/></div><div class="form-group"><label >Drop Stop No.</label>&nbsp; <input  type="number" ng-model="d_number" string-to-number required/></div> <div class="form-group" ><label >Stop Name</label>&nbsp; <input  type="text" ng-model="name" required/></div><div class="form-group" ><span ng-if="flash" ng-bind="flash.message" class="help-block text-danger"></span> <button type="submit" ng-disabled="!form.$valid" style="width: 10em;  height: 2em;" ng-click="update(); ">Ok</button> <button type="button" style="width: 10em;  height: 2em;" ng-hide ="false" ng-click="cancel()">Cancel</button></div><my-page-Loader ng-if="mypageloading"></my-page-Loader> </form></div>';u.hide();var d=q.getGeometry().getCoordinates();q.getProperties();u.setOffset([0,-22]),u.show(d,c);var e=angular.element(document.querySelector("#djainpopup"));h(e)(b)},b.update=function(){if(k.debug("update called"),void 0===b.name||""==b.name||null==b.name||void 0===b.number||""==b.number||null==b.number||void 0===b.d_number||""==b.d_number||null==b.d_number)return void alert("Stop Name and Number should not be empty");var e=o();if(0===e){k.debug("Its not Duplicate"),b.markers[w].name=b.name,b.markers[w].number=b.number,b.markers[w].d_number=b.d_number,a.mypageloading=!0;var f=d.HttpUpdateData(a.serverURL+"/customer/routes/stop/"+b.routeID+"/"+p,b.markers[w]);f.then(function(d){if(a.mypageloading=!1,1==d.success){g.Error("");var e='<div class="map-popup" ><div>Pick up Stop No: '+b.number+"<br>Drop Stop No: "+b.d_number+"</div><br><br>Stop Name: "+b.name+'</div><br><span ng-if="flash" ng-bind="flash.message" class="help-block text-danger"></span> <button type="submit" style="width: 10em;  height: 2em;" ng-click="edit(); ">Edit</button> <button type="button" style="width: 10em;  height: 2em;" ng-hide ="false" ng-click="delete()">Delete</button><my-page-Loader ng-if="mypageloading"></my-page-Loader></div>';q.set("name",e);var f=q.getGeometry().getCoordinates();u.setOffset([0,-22]),u.show(f,e);var j=angular.element(document.querySelector("#djainpopup"));h(j)(b);var l=new ol.style.Style({image:new ol.style.Icon({anchor:[.5,46],anchorXUnits:"fraction",anchorYUnits:"pixels",opacity:.75,src:"../assets/img/stop.png"})});q.setStyle(l),i.markers=b.markers,v.stop_list=b.markers,c.openStore("route",function(a){a.delete(b.routeID).then(function(){a.upsert(v).then(function(a){k.debug("upserted successfully in routeStore")},function(a){k.debug("Error in upserting in routeStore = "+a)})})})}else null==d.data||""==d.data||void 0==d.data?g.Error("Oops, something went wrong! Please login again."):g.Error(d.data)})}else{if(e==-1)return k.debug("Data not modified"),void u.hide();alert("Stop Number and Stop Name should be unique!"),g.Error("Stop Number and Stop Name should be unique!")}}}]),app.controller("alertSettingsController",["$rootScope","$scope","$sessionStorage","HttpService","FlashService","UtilService","$log","Auth",function(a,b,c,d,e,f,g,h){g.debug("alertSettingsController reporting for duty."),f.setSidebar(),a.global.showSettingSubMenu=!0,a.showBackStrech=!1;var i=this;b.showAddNewBusModal=!1,b.showModalPW=!0,i.speededit=!1,i.package=!1;var j=angular.fromJson(c.profileInfo);i.alert_idle=j.alert_idle,i.alert_speed=j.alert_speed,i.package_name=j.package_name,i.edit=function(a){"speed"==a?i.speededit=!0:"package"==a?i.package=!0:i.idleedit=!0},i.save=function(){var b=d.HttpUpdateData(a.serverURL+"/customer/settings/alert",{alert_speed:i.alert_speed,alert_idle:i.alert_idle});b.then(function(a){1==a.success?(g.debug("result.data "+a.data.token),i.speededit=!1,i.idleedit=!1,i.package=!1,j.alert_idle=i.alert_idle,j.alert_speed=i.alert_speed,c.profileInfo=JSON.stringify(j)):e.Error(a.data)})},i.savePackage=function(){var b=d.HttpUpdateData(a.serverURL+"/customer/settings/package",{package_name:i.package_name});b.then(function(a){1==a.success?(g.debug("result.data "+a.data.token),i.speededit=!1,i.idleedit=!1,i.package=!1,j.alert_idle=i.alert_idle,j.alert_speed=i.alert_speed,j.package_name=i.package_name,c.profileInfo=JSON.stringify(j)):e.Error(a.data)})},i.cancel=function(){e.Error(""),i.speededit=!1,i.idleedit=!1,i.package=!1,i.alert_idle=j.alert_idle,i.alert_speed=j.alert_speed}}]),app.controller("classController",["$rootScope","$location","HandShakeService","FlashService","$scope","$log","UtilService","HttpService","$indexedDB","$sessionStorage","$timeout","$http",function(a,b,c,d,e,f,g,h,i,j,k,l){function m(){a.mypageloading=!0,c.getGradeInfo().then(function(b){f.debug("HandShakeService getRouteInfo received"),e.allClassListArray=b,a.mypageloading=!1,e.existingClassList=b,e.getAllStudent()})}function n(){f.debug("Inside check duplicate entries");for(var a=0;a<e.newClassList.length;a++){f.debug(e.newClassList[a].name),f.debug(e.newClassList[a].section);for(var b=a+1;b<e.newClassList.length;b++)if(e.newClassList[b].name==e.newClassList[a].name&&e.newClassList[b].section==e.newClassList[a].section)return!1;for(var c=0;c<e.existingClassList.length;c++)if(f.debug(e.existingClassList[c].name),f.debug(e.existingClassList[c].section),e.existingClassList[c].name==e.newClassList[a].name&&e.existingClassList[c].section==e.newClassList[a].section)return!1}return!0}function o(){f.debug("Inside checkDuplicateEntriesWhileUpdate");for(var a=0;a<e.existingClassList.length;a++)if(f.debug(e.existingClassList[a].name),f.debug(e.existingClassList[a].section),f.debug(e.existingClassList[a]._id+" "+e.newClassList[0]._id),e.existingClassList[a].name==e.newClassList[0].name&&e.existingClassList[a].section==e.newClassList[0].section)return e.existingClassList[a]._id!=e.newClassList[0]._id?-1:0;return 1}function p(){var a=[];return angular.forEach(e.newClassList,function(b){var c={name:"",_id:""};c.name=b.name.split("-")[0],c.name+="-",c.name+=b.section,c._id=b._id,a.push(c)}),a}function q(b){0==e.isNewStudentList;var c=b[0].class+"-"+b[0].section,g=u[c];if(g&&b){var j=h.HttpPostData(a.serverURL+"/customer/student/"+g,b);j.then(function(c){1==c.success?i.openStore("student",function(g){f.debug("opened studentStore"),g.upsert(c.data).then(function(c){var f=e.newStudentList.indexOf(b);f>-1&&e.newStudentList.splice(f,1),e.newStudentList.length>0?q(e.newStudentList[0]):(e.newStudentList=[],0==e.isNewStudentList,u={},v=[],w={},x={},y=[],tempNewClassList=[],e.csvFileErrorReport={total_rows:0,total_success_rows:0,total_error_rows:0,total_no_of_new_class:0,total_no_of_new_student:0,csv_file_read_field_list:"",csv_file_unread_field_list:"",error_summary:{}},C={},D=[],e.isDataValidationProcessComplete=!1,a.mypageloading=!1,angular.element("#cvsFileLogModal").modal("hide"),e.getAllStudent(),d.Success("Student record succesfully added."),console.log("student data suceesfully store"))},function(a){f.debug("Error in upserting in existingStudentList = "+a)})}):null==c.data||""==c.data||void 0==c.data?d.Error("Oops, something went wrong! Please login again."):d.Error(c.data)})}else a.mypageloading=!1,angular.element("#cvsFileLogModal").modal("hide"),d.Error("something went wrong during students adding.")}function r(){function a(a){return function(b){return 0==a.filter(function(a){return a.rollno==b.rollno&&a.section==b.section&&a.class==b.class&&a.rfid==b.rfid}).length}}for(var b=0;b<D.length;b++){var c=[];data[b].SECTION||(data[b].SECTION="A"),D[b].ROLLNO||(c.push("Roll no. is required"),C[b+1]=c),D[b]["STUDENT NAME"]||(c.push("Student Name is required"),C[b+1]=c),D[b].CLASS||(c.push("Class name is required"),C[b+1]=c),D[b].CONTACT||(c.push("Contact no. is required"),C[b+1]=c),D[b].CONTACT&&10!=D[b].CONTACT.toString().length&&(c.push("Contact number should be 10 digit number."),C[b+1]=c),"CONTACT2"in D[b]&&D[b].CONTACT2&&10!=D[b].CONTACT2.toString().length&&(c.push("Alternative Contact number should be 10 digit number."),C[b+1]=c);var d=D[b].ROLLNO;if(d in w&&(c.push("Duplicate roll no."+D[b].ROLLNO+" exists in your cvs file."),C[b+1]=c),"CONTACT2"in D[b]&&D[b].CONTACT2&&10==D[b].CONTACT2.toString().length||"CONTACT2"in D[b]&&null==D[b].CONTACT2||void 0==D[b].CONTACT2)if(D[b].ROLLNO&&D[b]["STUDENT NAME"]&&D[b].CLASS&&D[b].CONTACT&&10==D[b].CONTACT.toString().length){var d=D[b].ROLLNO,f=data[b].CLASS.toString().trim().toUpperCase()+"-"+data[b].SECTION.toString().trim().toUpperCase(),g=u[f];if(void 0==g||""==g){var h=data[b].CLASS.toString().trim().toUpperCase(),i=data[b].SECTION.toString().trim().toUpperCase(),j={name:h,section:i};x[f]=j}if(d in w&&0!=b)e.csvFileErrorReport.total_error_rows=e.csvFileErrorReport.total_error_rows+1;else{var k=data[b].CLASS.toString().trim().toUpperCase(),l=data[b].SECTION.toString().trim().toUpperCase();if(e.studentList&&e.studentList.length>0)for(var m=0;m<e.studentList.length;m++)if(data[b].ROLLNO!=e.studentList[m].rfid.toString()||data[b].ROLLNO!=e.studentList[m].rollno.toString()){var n;n="GIRL",n="Male"==data[b].GENDER?"BOY":"Female"==data[b].GENDER?"GIRL":"OTHER";var o={rollno:data[b].ROLLNO?data[b].ROLLNO:"",rfid:data[b].ROLLNO?data[b].ROLLNO:"",class:k,section:l,name:data[b]["STUDENT NAME"],fathername:data[b]["FATHER NAME"]?data[b]["FATHER NAME"]:"",mothername:data[b]["MOTHER NAME"]?data[b]["MOTHER NAME"]:"",contact2:data[b].CONTACT2?data[b].CONTACT2:"",gender:n,address:data[b].ADDRESS?data[b].ADDRESS:"",city:data[b].CITY?data[b].CITY.toUpperCase():"",dob:data[b].DOB?data[b].DOB:"",emer_1:data[b].CONTACT?data[b].CONTACT:"",cat:data[b].CATEGORY?data[b].CATEGORY:""};w[d]=o}else{var n;n="GIRL",n="Male"==data[b].GENDER?"BOY":"Female"==data[b].GENDER?"GIRL":"OTHER",v.push({rollno:data[b].ROLLNO?data[b].ROLLNO:"",rfid:data[b].ROLLNO?data[b].ROLLNO:"",class:k,section:l,name:data[b]["STUDENT NAME"],fathername:data[b]["FATHER NAME"]?data[b]["FATHER NAME"].toUpperCase():"",mothername:data[b]["MOTHER NAME"]?data[b]["MOTHER NAME"].toUpperCase():"",contact2:data[b].CONTACT2?data[b].CONTACT2:"",gender:n,address:data[b].ADDRESS?data[b].ADDRESS:"",city:data[b].CITY?data[b].CITY.toUpperCase():"",dob:data[b].DOB?data[b].DOB:"",emer_1:data[b].CONTACT?data[b].CONTACT:"",cat:data[b].CATEGORY?data[b].CATEGORY:""}),data[b].ROLLNO==e.studentList[m].rfid.toString()&&c.push("Student Already Exists with RFID NO. "+data[b].ROLLNO),data[b].ROLLNO==e.studentList[m].rollno.toString()&&c.push("Student Already Exists with Roll No. "+data[b].ROLLNO),e.csvFileErrorReport.total_error_rows=e.csvFileErrorReport.total_error_rows+1,C[b+1]=c}else{var n;n="GIRL",n="Male"==data[b].GENDER?"BOY":"Female"==data[b].GENDER?"GIRL":"OTHER";var o={rollno:data[b].ROLLNO?data[b].ROLLNO:"",rfid:data[b].ROLLNO?data[b].ROLLNO:"",class:k,section:l,name:data[b]["STUDENT NAME"],fathername:data[b]["FATHER NAME"]?data[b]["FATHER NAME"].toUpperCase():"",mothername:data[b]["MOTHER NAME"]?data[b]["MOTHER NAME"].toUpperCase():"",contact2:data[b].CONTACT2?data[b].CONTACT2:"",gender:n,address:data[b].ADDRESS?data[b].ADDRESS:"",city:data[b].CITY?data[b].CITY.toUpperCase():"",dob:data[b].DOB?data[b].DOB:"",emer_1:data[b].CONTACT?data[b].CONTACT:"",cat:data[b].CATEGORY?data[b].CATEGORY:""};w[d]=o}}}else e.csvFileErrorReport.total_error_rows=e.csvFileErrorReport.total_error_rows+1;else e.csvFileErrorReport.total_error_rows=e.csvFileErrorReport.total_error_rows+1}for(var p=["SECTION","ROLLNO","STUDENT NAME","CLASS","CONTACT","GENDER","FATHER NAME","MOTHER NAME","DOB","ADDRESS","CITY","CATEGORY","CONTACT2"],m=0;m<z.length;m++)1==p.includes(z[m])?A.push(z[m]):B.push(z[m]);e.csvFileErrorReport.csv_file_read_field_list=A.toString(),e.csvFileErrorReport.csv_file_unread_field_list=B.toString(),angular.forEach(w,function(a,b){y.push(a)});var q=[];angular.forEach(x,function(a,b){q.push(a)});var r=y.filter(a(v)),s=v.filter(a(y)),t=r.concat(s);console.log("Duplicate Student List"),console.log(v),console.log("New Student List"),console.log(t),console.log("New Class List"),console.log(q),e.csvFileErrorReport.total_success_rows=t.length,e.csvFileErrorReport.total_no_of_new_class=q.length,e.csvFileErrorReport.total_no_of_new_student=t.length,e.isDataValidationProcessComplete=!1;for(var E={},b=0;b<t.length;b++){var f=t[b].class+"-"+t[b].section;if(f in E){var F=E[f];F.push(t[b]),E[f]=F}else E[f]=[t[b]]}angular.forEach(E,function(a,b){e.newStudentList.push(a)}),console.log(e.newStudentList),e.$apply(function(){e.csvFileErrorReport.error_summary=C})}function s(){if(e.existingCourseList&&e.existingCourseList.length>0){for(var a=0;a<e.existingCourseList.length;a++)if("_id"in e.courseForm&&e.courseForm._id){if(e.courseForm.name==e.existingCourseList[a].name&&e.courseForm._id!=e.existingCourseList[a]._id)return!0}else if(e.courseForm.name==e.existingCourseList[a].name)return!0;return!1}return!1}g.setSidebar(),a.showBackStrech=!1,e.showModal=!1,e.showAddCourseForm=!1,e.testModal=!1,e.showcourseModal=!1,e.selectedCourse,e.newClassList=[],e.studentList=[],e.showSearchedStudentList=[],e.showGloble=!1;var t={};e.showSearchedStudentModal=!1,e.existingCourseList=[],e.courseEdit=!1,e.globelSearchstudent={name:""},e.allClassListArray=[];var u={};e.existingClassList=[],e.isDataValidationProcessComplete=!1,e.newStudentList=[];var v=[],w={},x={},y=[],z=[],A=[],B=[];e.isNewStudentList=!1,e.csvFileErrorReport={total_rows:0,total_success_rows:0,total_error_rows:0,error_summary:{}};var C={};e.courseForm={name:"",type:"COURSE",recommended_classes:[],trail_period_duration:"",image:"",price:[{value:"",duration:""}]},e.courseImage={file:null,fileName:"",basePath:"course",fileKey:"courseImage",imagePreview:""},e.recommendedClasses=[],a.mypageloading=!0,e.lastAccessStudentCountObj={total_no_of_student_app_using:0,total_no_of_student_app_not_using:0,total_student:0};var D=[];e.courseImageChange=function(a){e.courseImage.file=a,e.courseImage.fileName=a.name;var b=new FileReader;b.onload=function(a){e.courseImage.imagePreview=a.target.result,e.courseForm.image="",e.$apply()},b.readAsDataURL(a)},e.deleteCourseImage=function(a){"local"==a?(e.courseImage.file=null,e.courseImage.fileName="",e.courseImage.imagePreview=""):e.courseForm.image=""},f.debug("HandShakeService.existingClassList call"),m(),f.debug("HandShakeService.existingClassList passed"),e.selectStudentSearch=function(a){e.globelSearchstudent={name:a.name};for(var b=0;b<e.existingClassList.length;b++)e.existingClassList[b]._id==a.grade_id&&(e.showSearchedStudentList.class=e.existingClassList[b].name?""+e.existingClassList[b].name+"-"+e.existingClassList[b].section:"NA");e.showSearchedStudentList.studentName=a.name?a.name:"NA",e.showSearchedStudentList.fatherName=a.fathername?a.fathername:"NA",e.showSearchedStudentList.motherName=a.mothername?a.mothername:"NA",e.showSearchedStudentList.rollno=a.rollno?a.rollno:"NA",e.showSearchedStudentList.city=a.city?a.city:"NA",e.showSearchedStudentList.address=a.address?a.address:"NA",e.showSearchedStudentList.gender=a.gender?a.gender:"NA",e.showSearchedStudentList.bloodGroup=a.blood?a.blood:"NA",e.showSearchedStudentList.emer_1=a.emer_1?a.emer_1:"NA",e.showSearchedStudentList.alternateEmer_1=a.contact2?a.contact2:"NA",e.showSearchedStudentList.rfid=a.rfid?a.rfid:"NA",e.showSearchedStudentList.doj=a.doj?a.doj:"NA",e.showSearchedStudentList.dob=a.dob?a.dob:"NA",e.showSearchedStudentList.rteorfees=a.rteorfees?a.rteorfees:"NA",e.showSearchedStudentModal=!0,e.showGloble=!1},e.ClickSearch=function(){return e.showSearchedStudentList.studentName="",e.showSearchedStudentList.fatherName="",e.showSearchedStudentList.motherName="",e.showSearchedStudentList.rollno="",e.showSearchedStudentList.class="",e.showSearchedStudentList.city="",e.showSearchedStudentList.address="",e.showSearchedStudentList.gender="",e.showSearchedStudentList.bloodGroup="",e.showSearchedStudentList.emer_1="",e.showSearchedStudentList.alternateEmer_1="",e.showSearchedStudentList.doj="",e.showSearchedStudentList.dob="",e.showSearchedStudentList.rteorfees="",""==e.globelSearchstudent.name?(e.showGloble=!1,e.showSearchedStudentModal=!1,!1):void(e.showGloble=!0)},e.getAllStudent=function(){a.mypageloading=!0,f.debug("HandShakeService.allStudentList call"),c.getAllStudentInfo().then(function(b){if(f.debug("HandShakeService existingStudentList received"),e.studentList=b,angular.forEach(b,function(a){t[a.rollno]=a}),console.log("allStudentDetails_hash = "+t),e.existingClassList&&e.existingClassList.length>0&&e.studentList&&e.studentList.length>0)for(var c=0;c<e.existingClassList.length;c++){e.existingClassList[c].total_last_access_students=0,e.existingClassList[c].total_last_access_remain_students=0;for(var d=0;d<e.studentList.length;d++)e.existingClassList[c]._id==e.studentList[d].grade_id&&0==e.studentList[d].is_deleted&&(e.existingClassList[c].count&&0!=e.existingClassList[c].count?e.existingClassList[c].count++:e.existingClassList[c].count=1,e.studentList[d].last_access_at&&"-"!=e.studentList[d].last_access_at?(e.existingClassList[c].total_last_access_students=e.existingClassList[c].total_last_access_students+1,e.lastAccessStudentCountObj.total_no_of_student_app_using=e.lastAccessStudentCountObj.total_no_of_student_app_using+1):(e.existingClassList[c].total_last_access_remain_students=e.existingClassList[c].total_last_access_remain_students+1,e.lastAccessStudentCountObj.total_no_of_student_app_not_using=e.lastAccessStudentCountObj.total_no_of_student_app_not_using+1));e.lastAccessStudentCountObj.total_student=e.studentList.length}a.mypageloading=!1}),f.debug("HandShakeService.existingStudentList passed")},e.getRecommendedClasses=function(){a.mypageloading=!0,h.HttpGetData(a.serverURL+"/register/get-boards").then(function(b){!b.success||!b||!b.data||!b.data.boards||!b.data.boards[0]||!b.data.boards[0].classes||(e.recommendedClasses=b.data.boards[0].classes),a.mypageloading=!1})},e.getRecommendedClasses(),e.addNewClass=function(){f.debug("add class callled"),e.courseForm={name:"",type:"COURSE",recommended_classes:[],trail_period_duration:"",image:"",price:[{value:"",duration:""}]},e.courseImage={file:null,fileName:"",basePath:"course",fileKey:"courseImage",imagePreview:""},d.Error(""),a.mypageloading=!1,e.showModal=!0,e.courseEdit=!1,e.newClassList.length=0,e.newClassList=[],e.editing=!1,e.showAddCourseForm=!1;var b={name:"",section:"",count:0};e.newClassList.push(b),d.Error("")},e.typeCourse=function(a){e.selectedCourse=a,e.showcourseModal=!0,console.log("course: ",a)},e.addClass=function(){f.debug("addClass called");var a={name:"",section:"",count:0};e.editing=!1,e.newClassList.push(a)},e.deleteNewClass=function(a){f.debug("deleteNewStudent new called"),1!=e.newClassList.length&&e.newClassList.splice(a,1)},e.saveClasses=function(){a.mypageloading=!0;var b=p();console.log(b);var c=n();if(f.debug("crossed checkDuplicateEntries duplicateCheck = "+c),f.debug("classListServer "+b),1==c){var g=h.HttpPostData(a.serverURL+"/customer/grades",b);g.then(function(a){if(a.success){return e.showModal=!1,e.newClassList.length=0,e.newClassList=[],void m()}})}else a.mypageloading=!1,d.Error("Class Name should be unique.")},e.editClass=function(a,b){if(f.debug("edit1 Class called"),d.Error(""),e.testModal=!0,e.editing=!0,e.courseEdit=!1,e.newClassList.length=0,e.newClassList=[],"COURSE"==a.type){e.courseForm={_id:a._id,name:a.name,type:a.type,recommended_classes:a.recommended_classes,trail_period_duration:parseInt(a.trail_period_duration),price:a.price,image:a.image?a.image:"",annouchment_list:a.annouchment_list,count:a.count,customer_id:a.customer_id},console.log(e.courseForm);for(var c=-1,g=0;g<e.existingClassList.length;g++)e.existingClassList[g]._id==e.courseForm._id&&(c=g);e.indexInEditing=c,e.editing=!1,e.courseEdit=!0,e.showAddCourseForm=!0}else{var h=a.name.split("-");a.name=h[0],a.section=h[1];for(var i={name:"",section:"",_id:""},c=-1,g=0;g<e.existingClassList.length;g++)e.existingClassList[g]._id==a._id&&(c=g);e.indexInEditing=c,angular.copy(a,i),e.newClassList.push(i)}e.showModal=!0,d.Error("")},e.deleteClass=function(b,c){f.debug("deleteClass called");var e=!0;if(e=confirm("Students associated with class "+b.name+" will be deleted permanently.")){a.mypageloading=!0;var g=h.HttpDeleteData(a.serverURL+"/customer/grades/"+b._id);g.then(function(b){a.mypageloading=!1,1==b.success?m():null==b.data||""==b.data||void 0==b.data?d.Error("Oops, something went wrong! Please login again."):d.Error(b.data)})}},e.viewSubjects=function(a){f.debug("view subjects called"),console.log(a._id),a&&a._id?b.path("/course-subject/"+a._id):f.error("There was an error to fetch id of class.")},e.cancel=function(){f.debug("cancel called"),e.newClassList.length=0,e.newClassList=[],e.showModal=!1},e.updateClass=function(){f.debug("update Class called  ");var b=o();if(f.debug("crossed checkDuplicateEntries duplicateCheck = "+b),1==b){var c=p(),g=h.HttpUpdateData(a.serverURL+"/customer/grades/"+c[0]._id,c[0]);g.then(function(a){1==a.success?(e.showModal=!1,e.editing=!1,m()):null==a.data||""==a.data||void 0==a.data?d.Error("Oops, something went wrong! Please login again."):d.Error(a.data)})}else b==-1?d.Error("Class Name should be unique."):(e.showModal=!1,e.editing=!1)},e.openClassDetails=function(a){"COURSE"==a.type?(j.className=a.name,b.path("/course/:"+a._id+"/students")):(j.className=a.name+"-"+a.section,b.path("/students/:"+a._id))},e.export=function(){kendo.drawing.drawDOM($("#exportthis")).then(function(a){kendo.drawing.pdf.saveAs(a,"ClassesList.pdf")})};var E=document.getElementById("csv"),F=function(a){var b=E.files[0];E.value="",Papa.parse(b,{header:!0,dynamicTyping:!0,skipEmptyLines:!0,complete:function(a){data=a.data,D=data,A=[],B=[],z=a.meta.fields;if(e.isNewStudentList=!1,e.newStudentList=[],v=[],w={},tempNewClassList=[],x={},y=[],C={},e.newClassList=[],e.csvFileErrorReport={total_rows:0,total_success_rows:0,total_error_rows:0,total_no_of_new_class:0,total_no_of_new_student:0,csv_file_read_field_list:"",csv_file_unread_field_list:"",error_summary:{}},z&&0==D.length){for(var b=["SECTION","ROLLNO","STUDENT NAME","CLASS","CONTACT","GENDER","FATHER NAME","MOTHER NAME","DOB","ADDRESS","CITY","CATEGORY","CONTACT2"],c=0;c<z.length;c++)1==b.includes(z[c])?A.push(z[c]):B.push(z[c]);e.csvFileErrorReport.csv_file_read_field_list=A.toString(),e.csvFileErrorReport.csv_file_unread_field_list=B.toString(),e.$apply(function(){}),angular.element("#cvsFileLogModal").modal("show")}if(D&&D.length>0){u={},e.isDataValidationProcessComplete=!0,e.isNewStudentList=!0,e.csvFileErrorReport.total_rows=D.length,angular.element("#cvsFileLogModal").modal("show");for(var d=0;d<e.existingClassList.length;d++){var f=e.existingClassList[d].name+"-"+e.existingClassList[d].section;u[f]=e.existingClassList[d]._id}r()}}})};E.addEventListener("change",F),e.download=function(){var a=document.createElement("a"),b='[{"ROLLNO":"1001","CLASS":"1","SECTION":"A","STUDENT NAME":"Ravi","FATHER NAME":"Yogesh", "MOTHER NAME":"Anjali", "CATEGORY":"General", "GENDER":"Male", "DOB":"05/12/2014", "CONTACT":"9999999999", "ADDRESS":"xyz street ", "CITY":"Mumbai","CONTACT2":"9999999999"}, {"ROLLNO":"1002","CLASS":"1","SECTION":"A","STUDENT NAME":"Priyanka","FATHER NAME":"Yogesh", "MOTHER NAME":"Anjali", "CATEGORY":"ST", "GENDER":"Female", "DOB":"05/12/2014", "CONTACT":"9999999999", "ADDRESS":"xyz street ", "CITY":"Mumbai", "CONTACT2":"9999999999"}]',c=Papa.unparse(b);if(window.navigator.msSaveOrOpenBlob){var d=new Blob([decodeURIComponent(encodeURI(c))],{type:"text/csv;charset=utf-8;"});navigator.msSaveBlob(d,"sample.csv")}else a.href="data:attachment/csv;charset=utf-8,"+encodeURI(c),a.target="_blank",a.download="sample.csv",document.body.appendChild(a),a.click()},e.addStudentDataOnServer=function(){e.isDataValidationProcessComplete=!0,a.mypageloading=!0,tempNewClassList=[],angular.forEach(x,function(a,b){tempNewClassList.push(a)}),e.newClassList=JSON.parse(JSON.stringify(tempNewClassList)),e.newClassList&&e.newClassList.length>0?e.saveClasses():e.newStudentList.length>0&&q(e.newStudentList[0])},e.sendOTP=function(){},e.addCourse=function(){function b(){if("_id"in e.courseForm){console.log(e.courseForm);var b=h.HttpUpdateData(a.serverURL+"/customer/grades/"+e.courseForm._id,e.courseForm);b.then(function(b){1==b.success?(i.openStore("class",function(a){a.delete(e.existingClassList[e.indexInEditing].name+"-"+e.existingClassList[e.indexInEditing].section).then(function(b){
e.courseForm.count=e.existingClassList[e.indexInEditing].count,a.upsert(e.courseForm).then(function(a){f.debug("upserted successfully in classStore"),e.existingClassList[e.indexInEditing]=e.courseForm},function(a){f.debug("Error in upserting in classStore = "+a)})},function(a){f.debug("Error in upserting in classStore = "+a)})}),a.mypageloading=!1,e.showModal=!1,e.courseEdit=!1,e.indexInEditing="",e.showAddCourseForm=!1,e.courseForm={},d.Error(""),e.courseImage={}):console.log(b.data)})}else a.mypageloading=!0,h.HttpPostData(a.serverURL+"/customer/grades",[e.courseForm]).then(function(b){b&&b.success&&(e.existingClassList.indexOf(b.data[0])==-1&&e.existingClassList.push(b.data[0]),i.openStore("class",function(a){f.debug("opened classStore"),a.upsert(b.data[0]).then(function(a){f.debug("upserted successfully in classStore")},function(a){f.debug("Error in upserting in classStore = "+a)})}),a.mypageloading=!1,d.Error(""),e.showModal=!1,e.showAddCourseForm=!1,e.courseForm={},e.courseImage={})})}var c=s();c&&d.Error("Course Name should be unique."),0==c&&(!!e.courseImage&&e.courseImage.file?(a.mypageloading=!0,g.uploadFilesToAmazonS3([e.courseImage]).then(function(a){!!a&&a.data&&(angular.forEach(Object.keys(a.data),function(b,c){e.courseForm.image=a.data[b].uploadUrl,e.courseImage.file=null,e.courseImage.fileName="",e.courseImage.imagePreview=""}),b())},function(b){f.error(b),a.mypageloading=!1},function(b){a.mypageloading=!0,e.uploadProgress=b})):b())},e.addNewPriceDetail=function(){e.courseForm.price.push({value:"",duration:""})},e.deletePriceDetail=function(a){e.courseForm.price.length>1&&e.courseForm.price.splice(a,1)}}]),app.controller("courseStudentsController",["$rootScope","$location","$scope","HandShakeService","UtilService","$sessionStorage","$routeParams","HttpService","FlashService","$indexedDB","$log",function(a,b,c,d,e,f,g,h,i,j,k){function l(){c.existingStudentList=[],a.mypageloading=!0;var b=h.HttpGetData(a.serverURL+"/education/courseStudentList/"+c.courseID);b.then(function(b){1==b.success?(console.log(b.data.studentList),c.existingStudentList=b.data.studentList,c.existingStudentList&&c.existingStudentList.length>0&&(c.courseName=c.existingStudentList[0].courseInfo.name),a.mypageloading=!1):(console.log(b),a.mypageloading=!1)})}e.setSidebar(),k.debug("studentsController reporting for duty."),i.Error(""),i.Success(""),c.existingStudentList=[],a.mypageloading=!0,c.courseID="",c.courseName="",g.courseID&&(c.courseID=g.courseID.toString(),":"===c.courseID.substring(0,1)&&(c.courseID=c.courseID.substring(1))),l(),c.openClassDetails=function(){b.path("/students")},c.export=function(){kendo.drawing.drawDOM($("#exportthis")).then(function(a){kendo.drawing.pdf.saveAs(a,"course_student_list.pdf")})}}]),app.controller("studentsController",["$rootScope","$location","$scope","HandShakeService","UtilService","$sessionStorage","$routeParams","HttpService","FlashService","$indexedDB","$log",function(a,b,c,d,e,f,g,h,i,j,k){function l(){c.existingStudentList=[],c.lastAccessStudentCountObj={total_no_of_student_app_using:0,total_no_of_student_app_not_using:0,total_student:0},c.classID&&d.getStudentInfo(c.classID).then(function(b){a.mypageloading=!1,c.existingStudentList=b,angular.forEach(c.existingStudentList,function(a){p[a._id]=a,c.getStudentIdToPromote.push(a._id),a.last_access_at?"number"==typeof a.last_access_at&&(a.last_access_at=e.timeInMin(new Date(a.last_access_at)),a.last_access_at&&"-"!=a.last_access_at?c.lastAccessStudentCountObj.total_no_of_student_app_using=c.lastAccessStudentCountObj.total_no_of_student_app_using+1:c.lastAccessStudentCountObj.total_no_of_student_app_not_using=c.lastAccessStudentCountObj.total_no_of_student_app_not_using+1):a.last_access_at="-"}),c.lastAccessStudentCountObj.total_student=c.existingStudentList.length,k.debug("studentInfo received"),d.getGradeInfo().then(function(a){c.classList=a;for(var e=0;e<c.classList.length;e++)if(c.classList[e]._id==c.classID){c.className=c.classList[e].name;break}angular.forEach(b,function(a){void 0!==a.route_id&&null!==a.route_id&&""!==a.route_id&&d.getRouteStopInfo(a.route_id).then(function(b){if(a.route_name=b.route_name,b.stop_list.length>0){var c=0;for(c=0;c<b.stop_list.length;c++)if(b.stop_list[c]._id===a.stop_id){a.stop_name=b.stop_list[c].name;break}}})})})})}function m(a,b){c.editing=!0,c.newStudentList.length=0,c.newStudentList=[],console.log(a),c.addStudent(),angular.copy(a,c.newStudentList[0]),c.newStudentList[0].dob=new Date(c.newStudentList[0].dob),c.newStudentList[0].doj=new Date(c.newStudentList[0].doj),k.debug("$scope.newStudentList[0].blood = "+c.newStudentList[0].blood);for(var d=0;d<c.bloodGroupList.length;d++)if(c.bloodGroupList[d]==c.newStudentList[0].blood){k.debug("bloodListIndex = "+d),c.newStudentList[0].bloodListIndex=d;break}c.showEditStudentModal=!0,r=b,i.Error("")}function n(){k.debug("Inside check duplicate entries"),f.newStudentList=c.newStudentList;for(var a=0;a<c.newStudentList.length;a++){c.newStudentList[a].blood=c.bloodGroupList[c.newStudentList[a].bloodListIndex],k.debug("allStudentList.length "+q.length);for(var b=0;b<c.existingStudentList.length;b++)if(c.existingStudentList[b].rollno==c.newStudentList[a].rollno||c.existingStudentList[b].rfid==c.newStudentList[a].rfid)return!1}return!0}function o(){if(k.debug("Inside checkDuplicateEntriesWhileUpdate"),c.newStudentList[0].blood=c.bloodGroupList[c.newStudentList[0].bloodListIndex],k.debug("$scope.newStudentList[0].blood = "+c.newStudentList[0].blood),q&&q.length>0){for(var a=0;a<q.length;a++)if(k.debug(q[a].rollno),k.debug(q[a].rfid),k.debug(q[a]._id+" "+c.newStudentList[0]._id),"_id"in c.newStudentList[0]&&c.newStudentList[0]._id){if(c.newStudentList[0]._id!=q[a]._id&&(c.newStudentList[0].rollno==q[a].rollno||c.newStudentList[0].rfid==q[a].rfid))return-1}else if(q[a].rollno==c.newStudentList[0].rollno||q[a].rfid==c.newStudentList[0].rfid)return-1;return 1}return 1}e.setSidebar(),k.debug("studentsController reporting for duty."),a.showBackStrech=!1,i.Error(""),i.Success(""),c.storeAWSUploadLink="",c.storeAWSUploadMethod="",c.showAddStudentModal=!1,c.addNewStudentModal=[],c.showSearchedStudentList=[],c.showViewStudentModal=!1,c.showAddNewStudentModal=!1,c.showEditStudentModal=!1,c.allClassListArray=[],c.getStudentIdToPromote=[],c.getClassIdToPromote=null,c.showPromoteClassModalBox=!1,c.totalSelectedStudents=0,c.checkAll=!0;var p={};c.newStudentList=[],c.existingStudentList=[],a.mypageloading=!0,c.classID="",c.className="",c.routeList=angular.fromJson(f.routeList),g.classID&&(c.classID=g.classID.toString(),":"===c.classID.substring(0,1)&&(c.classID=c.classID.substring(1))),c.bloodGroupList=["A+","A-","AB+","AB-","B+","B-","O+","O-","NA"],k.debug("HandShakeService.existingStudentList passed"),c.openClassDetails=function(){b.path("/students")},c.getClassIdChangeForStudentPromote=function(a){i.Error(""),c.getClassIdToPromote=a},c.getSelectedStudentsfunction=function(a,b){1==b&&(c.getStudentIdToPromote.indexOf(p[a]._id)!=-1?(c.totalSelectedStudents=c.totalSelectedStudents-1,c.getStudentIdToPromote.splice(c.getStudentIdToPromote.indexOf(p[a]._id),1)):c.getStudentIdToPromote.indexOf(p[a]._id)==-1&&(c.totalSelectedStudents=c.totalSelectedStudents+1,c.getStudentIdToPromote.push(p[a]._id)))},c.showPromoteClassModal=function(){c.showPromoteClassModalBox=!0,c.getStudentIdToPromote=[],c.getClassIdToPromote=null,c.totalSelectedStudents=0,i.Error(""),c.checkAllStudents(),angular.forEach(c.existingStudentList,function(a){c.getStudentIdToPromote.push(a._id),c.totalSelectedStudents=c.totalSelectedStudents+1})},c.checkAllStudents=function(){c.checkAll=!0},c.uncheckAllStudents=function(){c.checkAll=!1},c.promoteStudentsToClass=function(){if(c.getTempNewStudentList=[],i.Error(""),null==c.getClassIdToPromote||void 0==c.getClassIdToPromote)return i.Error("Please select class"),!1;if(0==c.getStudentIdToPromote.length)return i.Error("Please select student"),!1;a.mypageloading=!0;var b={grade_id:c.getClassIdToPromote,student_ids:c.getStudentIdToPromote};c.getTempNewStudentList=c.existingStudentList;var d=h.HttpUpdateData(a.serverURL+"/customer/student/promote/class",b);d.then(function(b){return b.success?(c.uncheckAllStudents(),c.showPromoteClassModalBox=!1,i.Success("Students promoted successfully."),void l()):void(a.mypageloading=!1)})};var q=[];c.addNewStudent=function(){c.showAddStudentModal=!0,c.addNewStudentModal.studentName="",c.addNewStudentModal.fatherName="",c.addNewStudentModal.motherName="",c.addNewStudentModal.rollno="",c.addNewStudentModal.city="",c.addNewStudentModal.address="",c.addNewStudentModal.gender="",c.addNewStudentModal.bloodGroup="",c.addNewStudentModal.emer_1="",c.addNewStudentModal.alternateEmer_1="",c.addNewStudentModal.rfid="",c.addNewStudentModal.routeID="",c.addNewStudentModal.stopID="",c.addNewStudentModal.parentNotify="",c.addNewStudentModal.doj="",c.addNewStudentModal.dob="",c.addNewStudentModal.type="",k.debug("HandShakeService.allStudentList call")},c.addNewStudentFunction=function(){return i.Error(""),void 0==c.addNewStudentModal.studentName||""==c.addNewStudentModal.studentName?(i.Error("Please enter student name"),!1):void 0==c.addNewStudentModal.rollno||""==c.addNewStudentModal.rollno?(i.Error("Please enter roll number"),!1):c.addNewStudentModal.rollno<1?(i.Error("Please enter correct roll number"),!1):void 0==c.addNewStudentModal.gender||""==c.addNewStudentModal.gender?(i.Error("Please select gender"),!1):void 0==c.addNewStudentModal.emer_1||""==c.addNewStudentModal.emer_1?(i.Error("Please enter contact number"),!1):c.addNewStudentModal.emer_1&&10!=c.addNewStudentModal.emer_1.toString().length?(i.Error("Contact number should be 10 digit number."),!1):"alternateEmer_1"in c.addNewStudentModal&&c.addNewStudentModal.alternateEmer_1&&10!=c.addNewStudentModal.alternateEmer_1.toString().length?(i.Error("Alternative Contact number should be 10 digit number."),!1):void 0==c.addNewStudentModal.rfid||""==c.addNewStudentModal.rfid?(i.Error("Please enter RFID"),!1):(void 0==c.addNewStudentModal.bloodGroup||""==c.addNewStudentModal.bloodGroup?c.addNewStudentModal.bloodGroup="Unknown":c.addNewStudentModal.bloodGroup=c.bloodGroupList[c.addNewStudentModal.bloodGroup],1==c.addNewStudentModal.parentNotify&&""!=c.addNewStudentModal.parentNotify||(c.addNewStudentModal.parentNotify=!1),void 0!=c.addNewStudentModal.type&&""!=c.addNewStudentModal.type||(c.addNewStudentModal.type="FEES"),a.mypageloading=!0,c.newStudentList=[{name:c.addNewStudentModal.studentName,fathername:c.addNewStudentModal.fatherName,mothername:c.addNewStudentModal.motherName,blood:c.addNewStudentModal.bloodGroup,address:c.addNewStudentModal.address,rollno:c.addNewStudentModal.rollno,gender:c.addNewStudentModal.gender,rfid:c.addNewStudentModal.rfid,city:c.addNewStudentModal.city,emer_1:c.addNewStudentModal.emer_1,contact2:c.addNewStudentModal.alternateEmer_1,route_id:c.addNewStudentModal.routeID,stop_id:c.addNewStudentModal.stopID,parent_notified:c.addNewStudentModal.parentNotify,doj:c.addNewStudentModal.doj,dob:c.addNewStudentModal.dob,rteorfees:c.addNewStudentModal.type}],void c.saveStudent())},c.addStudent=function(){k.debug("addStudent called");var a={name:"",rollno:"",gender:"",rfid:""};k.debug("$scope.newStudentList.length "+c.newStudentList.length),c.newStudentList.push(a),k.debug("$scope.newStudentList.length "+c.newStudentList.length)},c.cancel=function(){k.debug("cancel called"),c.newStudentList.length=0,c.newStudentList=[],c.showAddNewStudentModal=!1,c.showEditStudentModal=!1,i.Error("")};var r=0;c.saveStudent=function(){a.mypageloading=!0,k.debug("saveStudent called"),k.debug("$scope.newStudentList.length"+c.newStudentList.length),k.debug("$scope.newStudentList.length"+c.newStudentList[0].name);var b=n();if(k.debug("crossed checkDuplicateEntries duplicateCheck = "+b),1==b){var d=h.HttpPostData(a.serverURL+"/customer/student/"+c.classID,c.newStudentList);d.then(function(b){return 1==b.success?(c.showAddStudentModal=!1,k.debug("scope.existingStudentList = "+c.existingStudentList),c.newStudentList.length=0,c.newStudentList=[],c.showAddNewStudentModal=!1,a.mypageloading=!1,void l()):void(null==b.data||""==b.data||void 0==b.data?i.Error("Oops, something went wrong! Please login again."):i.Error(b.data))})}else i.Error("Student Roll No and RFID should be unique."),a.mypageloading=!1},c.editStudentInfo=function(a,b){k.debug("Editing Student info"),m(a,b)},c.resendOTP=function(b){console.log(JSON.stringify(b));var c=angular.fromJson(f.profileInfo).name,d={number:b.emer_1,message:"Hello "+b.name+"! Your OTP for school app is "+b.otp+"\nHow to? \nhttps://bit.ly/2YXYWRN \nRegards,\n "+c},e=confirm(d.message);if(e){var g=h.HttpPostData(a.serverURL+"/customer/sendsms",d);g.then(function(a){a.success?alert("OTP sent successfully"):i.Error(a.data.message)})}},c.deleteNewStudent=function(a){k.debug("deleteNewStudent new called"),c.newStudentList.splice(a,1)},c.updateStudentInfo=function(){if(k.debug("inside updateStudentInfo"),i.Error(""),console.log(c.newStudentList[0]),void 0==c.newStudentList[0].name||""==c.newStudentList[0].name)return i.Error("Please enter student name"),!1;if(void 0==c.newStudentList[0].rollno||""==c.newStudentList[0].rollno)return i.Error("Please enter roll number"),!1;if(c.newStudentList[0].rollno<1)return i.Error("Please enter correct roll number"),!1;if(void 0==c.newStudentList[0].gender||""==c.newStudentList[0].gender)return i.Error("Please select gender"),!1;if(void 0==c.newStudentList[0].emer_1||""==c.newStudentList[0].emer_1)return i.Error("Please enter contact number"),!1;if(c.newStudentList[0].emer_1&&10!=c.newStudentList[0].emer_1.toString().length)return i.Error("Contact number should be 10 digit number."),!1;if("contact2"in c.newStudentList[0]&&c.newStudentList[0].contact2&&10!=c.newStudentList[0].contact2.toString().length)return i.Error("Alternative Contact number should be 10 digit number."),!1;if(void 0==c.newStudentList[0].rfid||""==c.newStudentList[0].rfid)return i.Error("Please enter RFID"),!1;void 0!=c.newStudentList[0].blood&&""!=c.newStudentList[0].blood||(c.newStudentList[0].blood="Unknown"),1==c.newStudentList[0].parent_notified&&""!=c.newStudentList[0].parent_notified||(c.newStudentList[0].parent_notified=!1),void 0!=c.newStudentList[0].type&&""!=c.newStudentList[0].type||(c.newStudentList[0].type="FEES");var b=o();if(k.debug("crossed checkDuplicateEntries duplicateCheck = "+b),1==b){c.newStudentList[0].dob=new Date(c.newStudentList[0].dob),c.newStudentList[0].doj=new Date(c.newStudentList[0].doj);var d=h.HttpUpdateData(a.serverURL+"/customer/student/"+c.newStudentList[0]._id,c.newStudentList[0]);d.then(function(a){1==a.success?(c.showEditStudentModal=!1,c.editing=!1,l()):null==a.data||""==a.data||void 0==a.data?i.Error("Oops, something went wrong! Please login again."):i.Error(a.data)})}else b==-1?i.Error("Student Roll No and RFID should be unique."):(c.showEditStudentModal=!1,c.editing=!1)},c.deleteStudent=function(b,c){k.debug("Deleting student info, index "+c);var d=h.HttpDeleteData(a.serverURL+"/customer/student/"+b._id);d.then(function(a){1==a.success?l():null==a.data||""==a.data||void 0==a.data?i.Error("Oops, something went wrong! Please login again."):i.Error(a.data)})},c.myFile="",c.itemField=[{documentName:"",file:""}],c.addItem=function(){var a={documentName:"",file:c.myFile};c.itemField.push(a),console.log(c.itemField)},c.removeItem=function(a){console.log(a);var b=c.itemField.indexOf(a);c.itemField.splice(b,1)},c.getImageUploadLinkFunction=function(){},c.uploadFileToAWSLink=function(){},c.showViewStudentDetails=function(a){i.Error(""),c.showSearchedStudentList.studentName="",c.showSearchedStudentList.fatherName="",c.showSearchedStudentList.motherName="",c.showSearchedStudentList.rollno="",c.showSearchedStudentList.class="",c.showSearchedStudentList.city="",c.showSearchedStudentList.address="",c.showSearchedStudentList.gender="",c.showSearchedStudentList.bloodGroup="",c.showSearchedStudentList.emer_1="",c.showSearchedStudentList.alternateEmer_1="",c.showSearchedStudentList.doj="",c.showSearchedStudentList.dob="",c.showSearchedStudentList.rteorfees="",c.showSearchedStudentList.studentName=a.name?a.name:"NA",c.showSearchedStudentList.fatherName=a.fathername?a.fathername:"NA",c.showSearchedStudentList.motherName=a.mothername?a.mothername:"NA",c.showSearchedStudentList.rollno=a.rollno?a.rollno:"NA",c.showSearchedStudentList.class=c.className?c.className:"NA",c.showSearchedStudentList.city=a.city?a.city:"NA",c.showSearchedStudentList.address=a.address?a.address:"NA",c.showSearchedStudentList.emer_1=a.emer_1?a.emer_1:"NA",c.showSearchedStudentList.alternateEmer_1=a.contact2?a.contact2:"NA",c.showSearchedStudentList.rfid=a.rfid?a.rfid:"NA",c.showSearchedStudentList.gender=a.gender?a.gender:"NA",c.showSearchedStudentList.bloodGroup=a.blood?a.blood:"NA",c.showSearchedStudentList.doj=a.doj?a.doj:"NA",c.showSearchedStudentList.dob=a.dob?a.dob:"NA",c.showSearchedStudentList.rteorfees=a.rteorfees?a.rteorfees:"NA",c.showViewStudentModal=!0},c.blockParent=function(b,c){a.mypageloading=!0;var d=h.HttpUpdateData(a.serverURL+"/customer/student/block-parent/"+b,{is_block:c});d.then(function(d){return a.mypageloading=!1,1==d.success?(c?alert(p[b].name+"'s parents account blocked successfully"):alert(p[b].name+"'s parents account unblocked successfully"),void l()):(alert(d.data.message),void i.Error(d.data.message))})};var s=document.getElementById("csv"),t=function(){Papa.parse(s.files[0],{header:!0,dynamicTyping:!0,complete:function(a){data=a.data;c.newStudentList=[];for(var b=0;b<data.length;b++){c.className.split("-");if(data[b]["Scholor No."]&&data[b]["Mobile No."]&&data[b].Class&&data[b].Section&&data[b].Class.toUpperCase()+"-"+data[b].Section.toString().toUpperCase()==c.className){var d;d="GIRL",d="Male"==data[b].Gender?"BOY":"F"==data[b].Gender?"GIRL":"OTHER",data[b]["Mobile No."]||(console.log("number missing for "+data[b]["Student Name"]),alert("number missing for "+data[b]["Student Name"]),data[b]["Mobile No."]=1111111111),c.newStudentList.push({name:data[b]["Student Name"],fathername:data[b]["Father Name"]?data[b]["Father Name"]:"",mothername:data[b]["Mother Name"]?data[b]["Mother Name"]:"",address:data[b].Address?data[b].Address:"",city:data[b].Village?data[b].Village:"",rollno:data[b]["Scholor No."]?data[b]["Scholor No."]:"",rfid:data[b]["Scholor No."]?data[b]["Scholor No."]:"",gender:d,emer_1:data[b]["Mobile No."]})}else console.log("name or sch no doesnt exist "+b)}c.saveStudent()}})};s.addEventListener("change",t),l(),c.export=function(){kendo.drawing.drawDOM($("#exportthis")).then(function(a){kendo.drawing.pdf.saveAs(a,"class_student_list.pdf")})}}]),app.controller("studentsAllController",["$rootScope","$location","$scope","HandShakeService","UtilService","$sessionStorage","$routeParams","HttpService","FlashService","$indexedDB","$log",function(a,b,c,d,e,f,g,h,i,j,k){function l(){d.getGradeInfo().then(function(a){k.debug("HandShakeService getRouteInfo received"),c.allClassListArray=a,angular.forEach(c.allClassListArray,function(a){m[a._id]=a.name})});var b=h.HttpGetData(a.serverURL+"/customer/student/get-disabled-students");b.then(function(b){a.mypageloading=!1,1==b.success&&(c.studentList=b.data,angular.forEach(c.studentList,function(a){a.class_name=m[a.grade_id]}),a.mypageloading=!1)})}e.setSidebar(),k.debug("studentsController reporting for duty."),a.showBackStrech=!1,i.Error(""),i.Success(""),c.showSearchedStudentList=[],c.showViewStudentModal=!1,a.mypageloading=!0,l();var m={};c.enableStudent=function(b){a.mypageloading=!0;var d=h.HttpUpdateData(a.serverURL+"/customer/student/enable-students/"+b._id);d.then(function(b){a.mypageloading=!1,1==b.success&&(c.studentList=[],l(),a.mypageloading=!1)})}}]),app.controller("geofenceAddController",["$scope","$location","HttpService","$rootScope","$sessionStorage","constantService","UtilService","geofenceService","FlashService",function(a,b,c,d,e,f,g,h,i){function j(){var b=a.configGeofence.type;"None"!==b&&(s=new ol.interaction.Draw({source:n,type:b}),s.on("drawstart",function(b){n.clear(),a.isShapeProper=!1,a.$apply()}),s.on("drawend",function(b){var c=b.feature.getGeometry();if("Polygon"==c.getType()){var d=c.getCoordinates();a.configGeofence.geopoints=[];for(var e=0;e<d[0].length;e++){var f=ol.proj.transform(d[0][e],"EPSG:3857","EPSG:4326"),g=f[0],h=f[1],i={longitude:g,latitude:h};a.configGeofence.geopoints.push(i)}}else if("Circle"==c.getType()){var j=c.getRadius(),k=c.getCenter(),f=ol.proj.transform(k,"EPSG:3857","EPSG:4326"),g=f[0],h=f[1],i={radius:j,center:{longitude:g,latitude:h}};a.configGeofence.geopoints=[i]}a.isShapeProper=!0,a.$apply()}),l.addInteraction(s))}a.geofenceList=[],a.configGeofence={name:"",type:"Circle",geopoints:[]},g.setSidebar(),a.isShapeProper=!1,i.Error("");var k=angular.fromJson(e.profileInfo),l=new google.maps.Map(document.getElementById("map2"),{center:{lat:Number(k.loc.lat),lng:Number(k.loc.lon)},zoom:10,mapTypeId:"satellite"});const m=new google.maps.drawing.DrawingManager({drawingMode:google.maps.drawing.OverlayType.CIRCLE,drawingControl:!0,drawingControlOptions:{position:google.maps.ControlPosition.TOP_CENTER,drawingModes:[google.maps.drawing.OverlayType.MARKER,google.maps.drawing.OverlayType.CIRCLE,google.maps.drawing.OverlayType.POLYGON]},markerOptions:{icon:"https://developers.google.com/maps/documentation/javascript/examples/full/images/beachflag.png"},circleOptions:{fillColor:"#ffff00",fillOpacity:1,strokeWeight:5,clickable:!1,editable:!0,zIndex:1}});m.setMap(l),google.maps.event.addListener(m,"circlecomplete",function(a){a.getRadius()}),google.maps.event.addListener(m,"overlaycomplete",function(b){if(a.configGeofence.geopoints=[],a.isShapeProper=!0,"circle"==b.type){var c=b.overlay.getRadius(),d=b.overlay.getCenter();a.configGeofence.type="circle",a.configGeofence.geopoints.push({radius:c,center:{longitude:d.lng(),latitude:d.lat()}})}else if("polygon"==b.type){for(var e=b.overlay.getPath(),f=0;f<e.getLength();f++){const g=e.getAt(f);console.log(g.lat()+" "+g.lng());var h={longitude:g.lng(),latitude:g.lat()};a.configGeofence.geopoints.push(h)}a.configGeofence.type="polygon"}else if("marker"==b.type){a.configGeofence.type="marker";const g=b.overlay.getPosition();var h={longitude:g.lng(),latitude:g.lat()};a.configGeofence.geopoints.push(h)}});var n=new ol.source.Vector({wrapX:!1}),k=angular.fromJson(e.profileInfo),o=ol.proj.transform([Number(k.loc.lon),Number(k.loc.lat)],"EPSG:4326","EPSG:3857"),l=new ol.Map({layers:[new ol.layer.Tile({source:new ol.source.OSM}),new ol.layer.Vector({source:n})],target:"routeViewMap1",view:new ol.View({center:o,zoom:13,maxZoom:18,minZoom:4})}),p=new ol.Feature({type:f.showPopuponClickorHover,geometry:new ol.geom.Point(o)}),q=g.getMarkerIconStyle(f.schoolIcon,f.defaultIconScale,f.defaultIconRotation),r='<div class="map-popup" ><b>'+k.name+"</b><br></div>";p.setStyle(q),p.set("name",r),n.addFeature(p);var s;a.shapeChange=function(){l.removeInteraction(s),j(),n.clear(),a.isShapeProper=!1},j(),a.saveGeofence=function(){d.mypageloading=!0;for(var e=0;e<h.geofenceList.length;e++)if(h.geofenceList[e].name==a.configGeofence.name)return void i.Error("Geofence name "+a.configGeofence.name+" already exist, please enter unique name.");var f={type:a.configGeofence.type.toLowerCase(),name:a.configGeofence.name,geopoints:a.configGeofence.geopoints,fleet_list:["2343242342342","3242342343242"],common:1},g=c.HttpPostData(d.serverURL+"/customer/geofence/",f);g.then(function(a){d.mypageloading=!1,a.success&&(h.geofenceList.push(a.data),b.path("/geofence/:"+a.data._id),i.Error(""))})},a.cancel=function(){b.path("/geofence")}}]),app.controller("geofenceController",["$scope","$location","$rootScope","constantService","$sessionStorage","HttpService","$log","FlashService","$routeParams","UtilService","geofenceService",function(a,b,c,d,e,f,g,h,i,j,k){function l(){i.geofenceId&&(a.geofenceList==[]?b.path("/geofence"):(a.geofenceId=i.geofenceId.toString(),":"===a.geofenceId.substring(0,1)&&(a.geofenceId=a.geofenceId.substring(1)),angular.forEach(a.geofenceList,function(b){b._id==a.geofenceId&&(a.configGeofence=b)}),m()))}function m(){var b=angular.fromJson(e.profileInfo),c=new google.maps.Map(document.getElementById("geofenceViewMap"),{center:{lat:Number(b.loc.lat),lng:Number(b.loc.lon)},zoom:12});if("circle"==a.configGeofence.type){new google.maps.Circle({strokeColor:"#FF0000",strokeOpacity:.8,strokeWeight:2,fillColor:"#FF0000",fillOpacity:.35,map:c,center:{lat:a.configGeofence.geopoints[0].center.latitude,lng:a.configGeofence.geopoints[0].center.longitude},radius:a.configGeofence.geopoints[0].radius})}else if("polygon"==a.configGeofence.type){for(var d=[],f=0;f<a.configGeofence.geopoints.length;f++)d.push({lat:a.configGeofence.geopoints[f].latitude,lng:a.configGeofence.geopoints[f].longitude});const g=new google.maps.Polygon({paths:d,strokeColor:"#FF0000",strokeOpacity:.8,strokeWeight:2,fillColor:"#FF0000",fillOpacity:.35});g.setMap(c)}else"marker"==a.configGeofence.type&&new google.maps.Marker({position:{lat:a.configGeofence.geopoints[0].latitude,lng:a.configGeofence.geopoints[0].longitude},label:a.configGeofence.name,map:c})}a.geofenceList=[],a.configGeofence={name:"",type:"Circle",geopoints:[]},j.setSidebar();var l=l,m=m;if(k.geofenceList.length)a.geofenceList=k.geofenceList,l();else{var n=f.HttpGetData(c.serverURL+"/customer/geofence");n.then(function(b){b.success?(c.mypageloading=!1,angular.forEach(a.geofenceList,function(a){"circle"==a.type?a.type="Circle":"polygon"==a.type&&(a.type="Polygon")}),a.geofenceList=b.data,k.geofenceList=a.geofenceList,g.debug("$scope.geofenceList = "+JSON.stringify(a.geofenceList))):null==b.data||""==b.data||void 0==b.data?h.Error("Oops, something went wrong! Please login again."):h.Error(b.data),l()})}a.openAddGeofencePanel=function(){b.path("/geofenceadd")},a.openGeofenceView=function(a){b.path("/geofence/:"+a)},a.closeView=function(){b.path("/geofence")},a.export=function(){kendo.drawing.drawDOM($("#exportthis")).then(function(a){kendo.drawing.pdf.saveAs(a,"GeofenceList.pdf")})},a.deleteGeofence=function(b){g.debug("deleteGeofence "+b);var d=confirm("Are you sure you want to delete Geofence "+a.geofenceList[b].name);if(d){var e=f.HttpDeleteData(c.serverURL+"/customer/geofence/"+a.geofenceList[b]._id);e.then(function(c){1==c.success?a.geofenceList.splice(b,1):null==c.data||""==c.data||void 0==c.data?h.Error("Oops, something went wrong! Please login again."):h.Error(c.data)})}}}]),app.controller("teachersController",["$rootScope","$location","HandShakeService","FlashService","$scope","$log","UtilService","HttpService","$indexedDB","$sessionStorage","$timeout","$firebaseAuth","Auth",function(a,b,c,d,e,f,g,h,i,j,k,l,m){function n(){e.newTeacher={},e.classes=[],e.classHash=[],e.selectedClassIds=[],e.disablePassword=!1,e.classSubList=[]}function o(){var b=h.HttpGetData(a.serverURL+"/customer/teacher");b.then(function(b){a.mypageloading=!1,1==b.success&&(e.teachersList=b.data,p())})}function p(){angular.forEach(e.teachersList,function(a){a.classView="",a.classTeacherView="",angular.forEach(a.classes_subject,function(b){a.classView+=b.class+"->"+b.subject+"  "}),angular.forEach(a.class_teacher,function(b){a.classTeacherView+=b.class+" "}),a.last_access_at=a.last_access_at?g.timeInMin(new Date(a.last_access_at)):"-"})}function q(){f.debug("Inside check duplicate entries");for(var a=0;a<e.teachersList.length;a++)if(e.teachersList[a].contact==e.newTeacher.contact)return d.Error("Teacher contact number should be unique."),!0;for(var b=[],c=0;c<e.newTeacher.classes_subject.length;c++){if(b[e.newTeacher.classes_subject[c].class+e.newTeacher.classes_subject[c].subject])return d.Error("Class subject combination should be unique"),b=[],!0;b[e.newTeacher.classes_subject[c].class+e.newTeacher.classes_subject[c].subject]=1}return!1}function r(){f.debug("Inside anyDuplicateWhileUpdate");for(var a=0;a<e.teachersList.length;a++)if(a!=e.indexInEditing&&e.teachersList[a].contact==e.newTeacher.contact)return d.Error("Teacher contact number should be unique."),!0;for(var b=[],c=0;c<e.newTeacher.classes_subject.length;c++){if(b[e.newTeacher.classes_subject[c].class+e.newTeacher.classes_subject[c].subject])return d.Error("Class subject combination should be unique"),b=[],!0;b[e.newTeacher.classes_subject[c].class+e.newTeacher.classes_subject[c].subject]=1}return!1}function s(b){var c={number:b.contact,message:"Hello "+b.name+"! Your password for the Teacher's app by Zuwagon is "+b.password+" Download the app now https://bit.ly/2J3rPE4"};C.push({"TEACHER NAME":b.name,CONTACT:b.contact,PASSWORD:b.password});var f=h.HttpPostData(a.serverURL+"/customer/sendsms",c);f.then(function(c){if(1==c.success){var f=e.newTeacherList.indexOf(b);f>-1&&e.newTeacherList.splice(f,1),e.newTeacherList.length>0?t(e.newTeacherList[0]):(e.newTeacherList=[],w=[],x={},y=[],e.csvFileErrorReport={total_rows:0,total_success_rows:0,total_error_rows:0,total_no_of_new_teacher:0,csv_file_read_field_list:"",csv_file_unread_field_list:"",error_summary:{}},D={},v=[],e.isDataValidationProcessComplete=!1,a.mypageloading=!1,angular.element("#cvsFileLogModal").modal("hide"),o(),d.Success("Teacher record succesfully added."),console.log("teacher data suceesfully store"),e.download(!1))}else d.Error(c.data.message)})}function t(b){if(b){var c=h.HttpPostData(a.serverURL+"/customer/teacher/",b);c.then(function(a){1==a.success?s(b):d.Error(a.data.message)})}else a.mypageloading=!1,angular.element("#cvsFileLogModal").modal("hide"),d.Error("something went wrong during teacher record adding.")}function u(){function a(a){return function(b){return 0==a.filter(function(a){return a.contact==b.contact}).length}}for(var b=0;b<v.length;b++){var c=[];v[b]["TEACHER NAME"]||(c.push("Teacher Name is required"),D[b+1]=c),v[b]["TEACHER NAME"]&&v[b]["TEACHER NAME"].toString().length>30&&(c.push("Teacher Name cannot contain more than 30 characters!"),D[b+1]=c),v[b].CONTACT||(c.push("Contact no. is required"),D[b+1]=c),v[b].CONTACT&&10!=v[b].CONTACT.toString().length&&(c.push("Contact number should be 10 digit number."),D[b+1]=c);var d=v[b].CONTACT;if(d in x&&(c.push("Duplicate contact no."+v[b].CONTACT+" exists in your cvs file."),D[b+1]=c),v[b]["TEACHER NAME"]&&v[b]["TEACHER NAME"].toString().length<=30&&v[b].CONTACT&&10==v[b].CONTACT.toString().length){var d=v[b].CONTACT;if(d in x&&0!=b)e.csvFileErrorReport.total_error_rows=e.csvFileErrorReport.total_error_rows+1;else if(e.teachersList&&e.teachersList.length>0)for(var f=0;f<e.teachersList.length;f++){var g=Math.floor(1e5+9e5*Math.random());if(data[b].CONTACT!=e.teachersList[f].contact){var h={name:data[b]["TEACHER NAME"],contact:data[b].CONTACT,role:"",password:g.toString(),class_teacher:[],classes_subject:[]};x[d]=h}else w.push({name:data[b]["TEACHER NAME"],contact:data[b].CONTACT,role:"",password:g.toString(),class_teacher:[],classes_subject:[]}),data[b].CONTACT==e.teachersList[f].contact&&c.push("Teacher Already Exists with Contact No. "+data[b].CONTACT),e.csvFileErrorReport.total_error_rows=e.csvFileErrorReport.total_error_rows+1,D[b+1]=c}else{var g=Math.floor(1e5+9e5*Math.random()),h={name:data[b]["TEACHER NAME"],contact:data[b].CONTACT,role:"",password:g.toString(),class_teacher:[],classes_subject:[]};x[d]=h}}else e.csvFileErrorReport.total_error_rows=e.csvFileErrorReport.total_error_rows+1}for(var i=["TEACHER NAME","CONTACT"],f=0;f<z.length;f++)1==i.includes(z[f])?A.push(z[f]):B.push(z[f]);e.csvFileErrorReport.csv_file_read_field_list=A.toString(),e.csvFileErrorReport.csv_file_unread_field_list=B.toString(),angular.forEach(x,function(a,b){y.push(a)});var j=y.filter(a(w)),k=w.filter(a(y));e.newTeacherList=j.concat(k),console.log("Duplicate Teacher List"),console.log(w),console.log("New Teacher List"),console.log(e.newTeacherList),e.csvFileErrorReport.total_success_rows=e.newTeacherList.length,e.csvFileErrorReport.total_no_of_new_teacher=e.newTeacherList.length,e.isDataValidationProcessComplete=!1,e.$apply(function(){e.csvFileErrorReport.error_summary=D;
})}g.setSidebar(),a.showBackStrech=!1,e.showModal=!1,e.testModal=!1,e.teachersList=[],e.subjectList=[],e.SubjectListing=[];var v=[];e.newTeacherList=[];var w=[],x={},y=[],z=[],A=[],B=[],C=[];e.csvFileErrorReport={total_rows:0,total_success_rows:0,total_error_rows:0,error_summary:{}};var D={};e.isDataValidationProcessComplete=!1,a.mypageloading=!0,n(),o(),e.addNewTeacher=function(){f.debug("addNewTeacher callled"),n(),e.classSubList=[],c.getGradeInfo().then(function(b){f.debug("HandShakeService getGradeInfo received"),a.mypageloading=!1,e.classes=b,f.debug("classes = ",JSON.stringify(b)),angular.forEach(e.classes,function(a){e.classHash[a.name]={_id:a._id,name:a.name}}),e.showModal=!0,e.selectedClassIds=[],e.newTeacher={name:"",contact:"",role:"",password:"",class_teacher:[],classes_subject:[],uid:""},e.editing=!1,d.Error("")},function(b){a.mypageloading=!1,f.debug("insert in class objectstore failed1 , error = "+b)})},e.getAllSubjects=function(){var b=h.HttpGetData(a.serverURL+"/customer/subject");b.then(function(a){1==a.success&&(e.SubjectListing=a.data,e.subjectList=[],angular.forEach(e.SubjectListing,function(a){a&&a.classes&&angular.forEach(a.classes,function(b){b&&e.subjectList.push({class_id:b,customer_id:a.customer_id,name:a.name})})}))})},e.getAllSubjects(),e.editTeacher=function(b,g){f.debug("addNewTeacher callled"),n(),e.editing=!0,e.disablePassword=!0;e.editTeacherInfo=b;for(var h=-1,i=0;i<e.teachersList.length;i++)e.teachersList[i]._id==b._id&&(h=i);e.indexInEditing=h,c.getGradeInfo().then(function(c){f.debug("HandShakeService getGradeInfo received"),a.mypageloading=!1,angular.forEach(c,function(a){e.classes.push({_id:a._id,name:a.name}),e.classHash[a._id]={_id:a._id,name:a.name}}),e.showModal=!0,e.selectedClassIds=[],angular.forEach(b.class_teacher,function(a){a.class_id&&e.selectedClassIds.push({_id:a.class_id})}),angular.forEach(b.classes_subject,function(a){a.class_id&&e.getSubjectsAccordingToclass(a,"edit")}),e.newTeacher={name:b.name,contact:b.contact,teacher_id:Number(b.teacher_id),role:b.role,password:"",class_teacher:b.class_teacher,classes_subject:b.classes_subject,uid:b.uid},d.Error("")},function(b){a.mypageloading=!1,f.debug("insert in class objectstore failed1 , error = "+b)})},e.getSubjectsAccordingToclass=function(a,b){var c=e.subjectList.reduce(function(a,b){return a[b.class_id]=a[b.class_id]||[],a[b.class_id].push(b),a},Object.create(null));"edit"==b?angular.forEach(c,function(b,c){if(a.class_id===c){var d=[];angular.forEach(b,function(a,b){d.push(a.name)}),e.classSubList.push({subject:a.subject,_id:a.class_id,name:a.class,subjectList:d})}}):angular.forEach(c,function(b,c){if(a._id===c){var d=[];angular.forEach(b,function(a,b){d.push(a.name)}),a.subjectList=d}})},e.addNewClassSub=function(){e.classSubList.push({subject:"",_id:"",name:"",subjectList:[]})},e.deleteNewClassSub=function(a){e.classSubList.splice(a,1)},e.saveNewTeacher=function(){a.mypageloading=!0,e.newTeacher.classes_subject=[],e.newTeacher.class_teacher=[],angular.forEach(e.selectedClassIds,function(a){a._id&&angular.forEach(e.classes,function(b){b._id==a._id&&e.newTeacher.class_teacher.push({class:b.name,class_id:a._id})})}),angular.forEach(e.classSubList,function(a){a._id&&angular.forEach(e.classes,function(b){if(b._id==a._id){var c;angular.forEach(e.SubjectListing,function(b){b.name==a.subject&&(c=b._id)}),e.newTeacher.classes_subject.push({class:b.name,class_id:b._id,subject:a.subject,subject_id:c})}})});var b=q();if(0==b){var c=h.HttpPostData(a.serverURL+"/customer/teacher/",e.newTeacher);c.then(function(b){b.success?(o(),e.showModal=!1,a.mypageloading=!1,n()):d.Error(b.data.message)})}else a.mypageloading=!1},e.deleteTeacher=function(b,c){var e=!0;if(e=confirm("Are you sure you want to delete the teacher ?")){a.mypageloading=!0;var f=h.HttpDeleteData(a.serverURL+"/customer/teacher/profile/"+b.teacher_id);f.then(function(b){b.success?(o(),a.mypageloading=!1):d.Error(b.data.message)})}},e.cancel=function(){f.debug("cancel called"),e.newTeacher={},e.showModal=!1,n()},e.updateTeacher=function(){f.debug("updateTeacher called  "),e.newTeacher.class_teacher=[],e.newTeacher.classes_subject=[],a.mypageloading=!0,angular.forEach(e.selectedClassIds,function(a){a._id&&angular.forEach(e.classes,function(b){b._id==a._id&&e.newTeacher.class_teacher.push({class:b.name,class_id:a._id})})}),angular.forEach(e.classSubList,function(a){if(a._id&&e.classHash[a._id]){var b=null;angular.forEach(e.SubjectListing,function(c){c.name==a.subject&&(b=c._id)}),e.newTeacher.classes_subject.push({class:e.classHash[a._id].name,class_id:a._id,subject:a.subject,subject_id:b})}});var b=r(),c={};if(angular.copy(e.newTeacher,c),0==b){e.disablePassword&&delete c.password;var g=h.HttpUpdateData(a.serverURL+"/customer/teacher/profile/"+c.teacher_id,c);g.then(function(b){b.success?(o(),e.showModal=!1,a.mypageloading=!1,c={},n()):d.Error(b.data.message)})}else a.mypageloading=!1},e.example14settings={scrollableHeight:"300px",scrollable:!0,enableSearch:!0,showCheckAll:!1,showUncheckAll:!1},e.export=function(){kendo.drawing.drawDOM($("#exportthis")).then(function(a){kendo.drawing.pdf.saveAs(a,"TeachersList.pdf")})},e.download=function(a){var b=document.createElement("a"),c="",d="";a?(d="sample.csv",c='[{"TEACHER NAME":"Ravi Sharma","CONTACT":"9999999999"}, {"TEACHER NAME":"Ravi Shah","CONTACT":"9999999991"}, {"TEACHER NAME":"Ravi Tripati","CONTACT":"9999999992"}]'):(d="teacher_details.csv",c=JSON.stringify(C));var e=Papa.unparse(c);if(window.navigator.msSaveOrOpenBlob){var f=new Blob([decodeURIComponent(encodeURI(e))],{type:"text/csv;charset=utf-8;"});navigator.msSaveBlob(f,"sample.csv")}else b.href="data:attachment/csv;charset=utf-8,"+encodeURI(e),b.target="_blank",b.download=d,document.body.appendChild(b),b.click(),C=[]};var E=document.getElementById("csv"),F=function(a){var b=E.files[0];E.value="",Papa.parse(b,{header:!0,dynamicTyping:!0,skipEmptyLines:!0,complete:function(a){if(data=a.data,v=data,A=[],B=[],z=a.meta.fields,e.newTeacherList=[],w=[],x={},y=[],C=[],D={},e.csvFileErrorReport={total_rows:0,total_success_rows:0,total_error_rows:0,total_no_of_new_teacher:0,csv_file_read_field_list:"",csv_file_unread_field_list:"",error_summary:{}},z&&0==v.length){for(var b=["TEACHER NAME","CONTACT"],c=0;c<z.length;c++)1==b.includes(z[c])?A.push(z[c]):B.push(z[c]);e.csvFileErrorReport.csv_file_read_field_list=A.toString(),e.csvFileErrorReport.csv_file_unread_field_list=B.toString(),e.$apply(function(){}),angular.element("#cvsFileLogModal").modal("show")}v&&v.length>0&&(e.isDataValidationProcessComplete=!0,e.csvFileErrorReport.total_rows=v.length,angular.element("#cvsFileLogModal").modal("show"),u())}})};E.addEventListener("change",F),e.addTeacherDataOnServer=function(){e.isDataValidationProcessComplete=!0,a.mypageloading=!0,e.newTeacherList.length>0&&t(e.newTeacherList[0])}}]);var mymodal=angular.module("homework",[]);app.controller("homeworkController",["$rootScope","$location","HandShakeService","FlashService","$scope","$log","UtilService","HttpService","$indexedDB","$sessionStorage","$timeout","$firebaseAuth","Auth",function(a,b,c,d,e,f,g,h,i,j,k,l,m){g.setSidebar(),a.showBackStrech=!1,e.showModal=!1,e.testModal=!1,a.mypageloading=!0,e.showHomworkList=!1,e.showPhotos=!1,e.homeworkList=[],e.defaultHomeworkList=[],e.showDefaultHomework=!0,e.classSelect="",e.SubjectSelect="",e.Images=[],e.subjectList=[],a.mypageloading=!1,e.getClasses=function(){c.getGradeInfo().then(function(a){f.debug("HandShakeService getRouteInfo received"),e.classList=a})},e.getClasses(),e.getSubjects=function(){var b=h.HttpGetData(a.serverURL+"/customer/subject/class?class_id="+e.classSelect);b.then(function(a){1==a.success&&(e.subjectList=a.data,e.getHomeWork())})},e.selectedClass=function(a){""!=a?(e.showDefaultHomework=!1,e.classSelect=a,e.SubjectSelect="",e.homeworkList=[],e.showHomworkList=!1,e.getSubjects()):(e.homeworkList=[],e.showDefaultHomework=!0,e.getDefaultHomework())},e.chooseSubject=function(a){e.SubjectSelect=a,e.getHomeWork()},e.getHomeWork=function(){var b=new Date;e.timeStampValue=b.getTime();var c=h.HttpGetData(a.serverURL+"/customer/teacher/homework?class_id="+e.classSelect+"&time="+e.timeStampValue+"&subject="+e.SubjectSelect);c.then(function(a){1==a.success&&(e.homeworkList=a.data,console.log(e.homeworkList),0==e.homeworkList.length?e.showHomworkList=!0:angular.forEach(e.allotmentList,function(a){a.Datestatus=g.checkDate(a)}),e.homeworkList.sort(function(a,b){return new Date(b.time)-new Date(a.time)}))})},e.getDefaultHomework=function(){a.mypageloading=!0;var b=h.HttpGetData(a.serverURL+"/customer/teacher/todayhomework");b.then(function(b){1==b.success?(e.defaultHomeworkList=b.data,e.showDefaultHomework=!0,e.homeworkList=[],e.classSelect="",e.SubjectSelect="",e.showHomworkList=!1,a.mypageloading=!1):a.mypageloading=!1})},e.getDefaultHomework(),e.homeWorkInfo="",e.toggleModal=function(a){e.homeWorkInfo=a,e.showModal=!e.showModal},e.example14settings={scrollableHeight:"300px",scrollable:!0,enableSearch:!0,showCheckAll:!1,showUncheckAll:!1}}]),app.controller("examController",["$rootScope","$location","HandShakeService","FlashService","teacherServices","examServices","$scope","$log","UtilService","HttpService","$indexedDB","$sessionStorage","$timeout","$firebaseAuth","Auth",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){function p(){var b=j.HttpGetData(a.serverURL+"/customer/result/getresult?class_id="+g.classId+"&exam_id="+g.examId);return b.then(function(a){if(a.success)return a.data.result_list})}function q(a){for(var b,c=0,d=0,e=!0,f=0;f<a.marks.length;f++)if("-"!=a.marks[f]){null==a.marks[f]||void 0==a.marks[f]?(c+=0,e=!1):c+=Number(a.marks[f]),d+=g.totmaxmark[f];var h=100*a.marks[f]/Number(g.totmaxmark[f]);(h<33||0==Number(a.marks[f])||"-"==a.marks[f])&&(e=!1)}b=0==a.marks.length?{result_status:"-",percentage:"-",total:c,maxtot:d}:e?{result_status:"Pass",percentage:(100*c/d).toFixed(2)+"%",total:c,maxtot:d}:{result_status:"Fail",percentage:"-",total:c,maxtot:d},a.calculatedResult=b}i.setSidebar(),g.timeInMin=i.timeInMin,g.currentUserDetail=JSON.parse(localStorage.getItem("currentUserDetail")),a.loginUserType=JSON.parse(localStorage.getItem("currentUserDetail")),g.profileInfo=angular.fromJson(l.profileInfo),a.mypageloading=!0,g.examId="",g.classId="",g.showAddExam=!1,g.Information=!1,g.is_declare=!1,g.checkuncheck=!1,g.studentList=[],g.totmaxmark=[],g.subjectList=[],g.showeditMarksModal=!1,g.selctstudentsMarks=[],g.chkall=!1,g.classList=[],g.classSelect="",g.examSelect="",g.classHash=[],g.modelType="Add",g.searchExam="",g.searchQuestion="",g.generateResult=!1,g.getData=[],g.examClassData={},g.currentExamdata={};var r={},s={};g.classNamesArray=[],g.setExamName={name:"",results_declared:"",time:"",startdate:"",enddate:""},d.Error(""),d.Success(""),a.mypageloading=!1,g.showViewExamModal=!1,g.addExams={examName:"",addExamClass:[],startDate:"",endDate:""},g.isSubmit=!1,g.questionList=[],g.setExamArrayModal={exam_id:"",exam_name:"",is_scheduled:!0,instructions:"",total_time:0,total_marks:0,is_online:!0,start_time:"",questions:[],syllabus:"",start_time_buffer:0,end_time_buffer:10},g.checkModel=!1,g.showSetExamPreviewModal=!1,g.setExamQuestionsModal=!1,g.hideExamAnswer=!1,g.showQuestionModalBox=!1,g.selectedClassIds=[],g.classDetails=[],g.classes=[];var t={},u={};g.example14settings={scrollableHeight:"300px",scrollable:!0,enableSearch:!0,showCheckAll:!0,showUncheckAll:!0},g.example14settings={scrollableHeight:"300px",smartButtonMaxItems:5,enableSearch:!0,scrollable:!0,smartButtonTextConverter:function(a,b){return a}},g.currentStudentDetail={},g.isPrintStudentAnsweSheet=!1,g.teacherName_hash={},g.examTypeSelectionModel=!1,g.currentSelectedExamTypeData={isOnlineExam:"true"},g.isDisplayResultGradeWise={is_checked:!1},g.isExamResultCombine={is_checked:!1,examList:[]},g.offlineExamList=[],g.offlineExamDataObj={},g.currentOfflineExamData={},g.getTeacherList=function(){a.mypageloading=!0,e.getTeacherList(function(a){if(1==a.success&&a.data&&a.data.length>0)for(var b=a.data,c=0;c<b.length;c++)g.teacherName_hash[b[c].teacher_id]=b[c].name,u[b[c].teacher_id]=b[c].name})},g.currentUserDetail&&g.currentUserDetail.type&&"ADMIN"==g.currentUserDetail.type&&g.getTeacherList(),g.loadExamList=function(){g.offlineExamList=[],g.isExamResultCombine={is_checked:!1,examList:[]},f.getExamList(function(a){1==a.success?(g.examList=a.data,angular.forEach(g.examList,function(a){r[a._id]=a,null==g.examId&&""==g.examId&&void 0==g.examId||a._id==g.examId&&(g.examDetails=a,console.log("Exam Object : ",a)),"is_online"in a&&0==a.is_online&&(g.offlineExamList.push({_id:a._id,name:a.name}),g.offlineExamDataObj[a._id]=a.name)}),console.log(g.offlineExamList),g.getClasses()):g.examList=[]})},g.loadExamList(),g.backtoExam=function(){g.examId="",g.classId="",g.is_declare=!1,g.studentResult=[]},g.getExamDetails=function(a){d.Error(""),d.Success(""),0==a.is_approved?alert("This Exam has not been approved by admin"):(g.setExamArrayModal.exam_id=a._id,g.examDetails=a,g.classNamesArray=[],g.setExamName={name:"",results_declared:"",time:"",startdate:"",enddate:""},angular.forEach(g.examList,function(b){b._id==a._id&&(g.setExamName.name=r[b._id].name,g.setExamName.results_declared=r[b._id].results_declared,g.setExamName.time=r[b._id].time,g.setExamName.startdate=r[b._id].startdate,g.setExamName.enddate=r[b._id].enddate,r[b._id].previous_exam_id&&(g.setExamName.previous_exam_id=r[b._id].previous_exam_id))}),angular.forEach(a.classes,function(a){s[a]&&g.classNamesArray.push(s[a])}),g.showViewExamModal=!0)},g.selectedExam=function(a){g.examId=a,g.classSelect="",g.searchExam="",g.getClasses()},g.selectedclass=function(b){g.isDisplayResultGradeWise.is_checked=!1,g.studentList=[],g.classDetail=b,g.classId=b._id,g.examId=g.examDetails._id,g.classname=b.name,g.searchExam="",g.classexamResults=[],g.currentUserDetail&&g.currentUserDetail.type&&"ADMIN"==g.currentUserDetail.type?p().then(function(d){for(var e=0;e<d.length;e++)g.classexamResults.push(d[e]);if(g.classDetail&&"type"in g.classDetail&&"COURSE"==g.classDetail.type){a.mypageloading=!0;var f=j.HttpGetData(a.serverURL+"/education/courseStudentList/"+g.classDetail._id);f.then(function(c){1==c.success?(angular.forEach(c.data.studentList,function(a){var b={_id:a.user_id,rollno:"-",rfid:"-",name:a.userInfo.name,fathername:"-",calculatedResult:{result_status:"-",percentage:"-",total:0,maxtot:0},marks:[],result:{},grade_id:g.classDetail._id};g.studentList.push(b)}),console.log(g.studentList),a.mypageloading=!1,1==g.examDetails.is_online?g.getOnlineExamDetails(g.examDetails._id,b._id):g.getResult()):(console.log(c),a.mypageloading=!1)})}else c.getStudentInfo(b._id).then(function(a){g.studentList=a,1==g.examDetails.is_online?g.getOnlineExamDetails(g.examDetails._id,b._id):g.getResult()})}):c.getStudentInfo(b._id).then(function(a){g.studentList=a,1==g.examDetails.is_online?g.getOnlineExamDetails(g.examDetails._id,b._id):g.getResult()})},g.getOnlineExamDetails=function(a,b){g.getExamPreviewFunction(g.examDetails,!1,!1),f.getStudentsExamAnswerSheet(a,b,function(a){if(a.success){g.studentOnlineExamResult=[],g.totmaxmark=[],g.subjectList=[],g.totmaxmark.push(g.examDetails.total_marks),g.subjectList.push(g.examDetails.name),g.currentExamQuestion=a.data.exam_question;a.data.submitted_exam_list;g.currentUserDetail&&g.currentUserDetail.type&&"TEACHER"==g.currentUserDetail.type&&(g.studentList=a.data.submitted_exam_list),angular.forEach(g.studentList,function(b){b.marks=[],b.result={},b.your_ans,b.checked,g.currentUserDetail&&g.currentUserDetail.type&&"ADMIN"==g.currentUserDetail.type?(angular.forEach(a.data.submitted_exam_list,function(a){a.student_id==b._id&&(b.your_ans=a,console.log("Log : ",a.total_marks_obtained),b.marks.push(a.total_marks_obtained?a.total_marks_obtained:"0"),1==a.is_eligible?b.checked=!0:0==a.is_eligible&&(b.checked=!1))}),q(b),angular.forEach(g.classexamResults,function(a){a.student_id==b._id&&(b.result=a)})):(b.your_ans=b,b.marks.push(b.total_marks_obtained?b.total_marks_obtained:"0"),1==b.is_eligible?b.checked=!0:0==b.is_eligible&&(b.checked=!1),q(b))}),g.showViewExamModal=!1}})},g.checkall=function(a){0==a?angular.forEach(g.studentList,function(a){void 0!=a.your_ans?1==a.your_ans.is_eligible&&(a.checked=!1):g.examDetails.is_online||(a.checked=!1)}):angular.forEach(g.studentList,function(a){void 0!=a.your_ans?1==a.your_ans.is_eligible&&(a.checked=!0):g.examDetails.is_online||(a.checked=!0)})},g.openAnswersheet=function(a,b){"student"in a&&"TEACHER"==g.currentUserDetail.type?g.currentStudentDetail={name:a.student.name,rollno:a.student.rollno}:g.currentStudentDetail={name:a.name,rollno:a.rollno},g.studentonlieresult=g.currentExamQuestion,g.examsession_id=a.your_ans._id,g.studentexamobject=a,angular.forEach(g.studentonlieresult,function(b){b.your_Answer,b.your_marks,angular.forEach(a.your_ans.questions,function(a){a._id==b._id&&(b.your_Answer=a.answer,b.your_marks=a.mark_obtained)})}),g.studentmarksheet=b},g.changemarksobtaind=function(a){a.your_marks>a.marks&&(a.your_marks=0,alert("Please Enter Valid Marks"))},g.updateSession=function(b){for(var c=0,d=[],e=0;e<b.length;e++){c+=void 0==b[e].your_marks?Number(0):Number(b[e].your_marks),0==b[e].options.length&&(void 0==b[e].your_Answer?(b[e].your_Answer=" ",b[e].options.push({answer:b[e].your_Answer})):b[e].options.push({answer:b[e].your_Answer[0]}));var h={_id:b[e]._id,options:b[e].options,answer:b[e].your_Answer?b[e].your_Answer:null,mark_obtained:b[e].your_marks?b[e].your_marks:0};d.push(h)}g.studentexamobject.marks=[c],console.log("Total Marks : ",c);var i={questions:d,examsession_id:g.examsession_id,total_marks_obtained:c};console.log("Update Session : ",i),0==i.questions.length&&null==i||(f.updateExamSession(i,function(b){b.success&&(a.mypageloading=!1,null!=g.studentexamobject.result._id||void 0!=g.studentexamobject.result._id?g.addresult(g.studentexamobject).then(function(a){1==g.studentexamobject.result.is_declare?g.multipelStudentDeclare(g.studentexamobject):g.selectedclass(g.classDetail)}):g.selectedclass(g.classDetail))}),alert("Marks Updated"),g.studentmarksheet=!1)},g.resetStudentMarks=function(b){angular.forEach(b,function(b){if(0!=b.marks.length){console.log("Reset Student Marks : ",b);for(var c=0,d=b.your_ans.questions,e=0;e<d.length;e++)c+=void 0==d[e].mark_obtained?Number(0):Number(d[e].mark_obtained);var h={questions:b.your_ans.questions,examsession_id:b.your_ans._id,total_marks_obtained:c,show_answersheet:!0};b.marks=[c],console.log("Update Session : ",h),0==h.questions.length&&null==h||(f.updateExamSession(h,function(b){b.success&&(a.mypageloading=!1)}),g.studentmarksheet=!1)}}),g.selectedclass(g.classDetail)},g.yesDeclare=function(){g.is_declare=!0},g.noDeclare=function(){g.is_declare=!1},g.getClasses=function(){if("TEACHER"==g.currentUserDetail.type){var a=JSON.parse(localStorage.getItem("classData"));angular.forEach(a,function(a,b){g.classList.push(a)}),g.classes=g.classList,g.classDetails=g.classList,angular.forEach(g.classList,function(a){s[a._id]=a,t[a._id]=a,g.examClassData[a._id]=a.name})}else c.getGradeInfo().then(function(a){h.debug("HandShakeService getRouteInfo received"),g.classList=a,g.classDetails=a,g.classes=a,angular.forEach(g.classList,function(a){s[a._id]=a,t[a._id]=a,g.examClassData[a._id]=a.name})})},g.getResults=function(){var b=j.HttpGetData(a.serverURL+"/customer/exam/result?class_id="+g.classId+"&exam_id="+g.examId);b.then(function(a){if(1==a.success){var b=a.data;g.studentResult=[],console.sub("Get Response : ",b),angular.forEach(g.studentList,function(a){if(b[a._id]){var c=b[a._id],d={studentInfo:a,resultList:[]};console.sub("Get Response Studentresults : ",c),angular.forEach(g.subjectList,function(a){console.sub("Get Response Studentresults Sub : ",c[a]),c[a]?d.resultList.push(c[a]):d.resultList.push("-")}),g.studentResult.push(d)}})}})},g.getResult=function(){g.showViewExamModal=!1;var b=j.HttpGetData(a.serverURL+"/customer/exam/marks?class_id="+g.classId+"&exam_id="+g.examId);b.then(function(a){if(1==a.success){var b=a.data;g.studentmarks=a.data,g.totmaxmark=[],g.subjectList=[];for(var c=0;c<b.length;c++)g.subjectList.push(b[c].subject),g.totmaxmark.push(b[c].maxmarks);g.currentUserDetail&&g.currentUserDetail.type&&"TEACHER"==g.currentUserDetail.type&&(g.studentList=b),angular.forEach(g.studentList,function(a){a.marks=[],a.result={},a.checked,g.currentUserDetail&&g.currentUserDetail.type&&"ADMIN"==g.currentUserDetail.type?(angular.forEach(b,function(b){a.marks.push(b.students_marks[a._id]?b.students_marks[a._id]:"-")}),q(a),angular.forEach(g.classexamResults,function(b){b.student_id==a._id&&(a.result=b,a.checked=!0)})):(a.marks.push(a.students_marks[a._id]?a.students_marks[a._id]:"-"),q(a))})}})},g.openAddExam=function(){d.Error(""),d.Success(""),g.modelType="Add",g.addExams={examName:"",addExamClass:[],startDate:"",endDate:""},g.getClasses(),g.showAddExam=!0};var v=this;g.CheckAddExam=function(){if(g.isSubmit=!0,""==g.addExams.examName)return!1;if(0==g.addExams.addExamClass.length)return!1;d.Error("");var a=[],b=[];g.classHash=[],angular.forEach(g.addExams.addExamClass,function(c){a.push(g.classHash[c._id]),b.push(c._id)}),v.to=a.toString(),v.from=angular.fromJson(l.profileInfo).name,v.class_list=b,g.addExam()},g.addExam=function(){var b={},c=g.addExams.startDate,e=g.addExams.endDate;""!=c&&null!=c&&void 0!=c?c.toDateString():c="",""!=e&&null!=e&&void 0!=e?e.toDateString():e="";var h=[],i=[];g.classHash=[],angular.forEach(g.addExams.addExamClass,function(a){h.push(g.classHash[a._id]),i.push(a._id)});var b={name:g.addExams.examName,is_online:!1,classes:i,startdate:c,enddate:e};if(1==g.isExamResultCombine.is_checked&&g.isExamResultCombine.examList&&g.isExamResultCombine.examList.length>0&&(b.previous_exam_id=g.isExamResultCombine.examList.map(function(a){return a._id})),console.log(b),"examID"in g.addExams&&"Edit"==g.modelType){var b=g.currentOfflineExamData;b.exam_id=g.currentOfflineExamData._id,b.name=g.addExams.examName,b.classes=i,b.startdate=c,b.enddate=e,b.previous_exam_id=g.isExamResultCombine.examList.map(function(a){return a._id}),f.updateExamDetails(b,function(a){console.log(a),1==a.success?(g.showAddExam=!1,g.isSubmit=!1,g.addExams={examName:"",addExamClass:[],startDate:"",endDate:""},g.currentOfflineExamData={},g.loadExamList()):(console.log(a),d.Error(a.data.message))})}else{var k=j.HttpPostData(a.serverURL+"/education/exam/add-exam",b);k.then(function(a){console.log(a),1==a.success?(d.Error(a.data.message),""==a.data.result||(g.showAddExam=!1,g.isSubmit=!1,g.addExams={examName:"",addExamClass:[],startDate:"",endDate:""},g.loadExamList())):d.Error(a.data.message)})}},g.export=function(){kendo.drawing.drawDOM($("#exportthis")).then(function(a){kendo.drawing.pdf.saveAs(a,"Exam&Result.pdf")})},g.editRoute=function(a,b){g.showAddExam=!1,g.showAddExam=!0,g.getClasses(),g.modelType="Edit",g.addExams.examName=a.name,g.addExams.addExamClass=[];var c=[];angular.forEach(a.classes,function(a){c.push({_id:a})}),g.addExams.addExamClass=c},g.Modifymarks=function(b){for(var c={result:[]},d=0;d<b.marks.length;d++){var e={result_id:g.studentmarks[d]._id,student_id:b._id,marks:b.marks[d]};c.result.push(e)}if(0!=c.result.length||null!=c){var f=j.HttpUpdateData(a.serverURL+"/customer/exam/result",c);f.then(function(c){c.success&&(a.mypageloading=!1,null!=b.result._id||void 0!=b.result._id?g.addresult(b).then(function(a){1==b.result.is_declare?g.multipelStudentDeclare(b):g.selectedclass(g.classDetail)}):g.selectedclass(g.classDetail),alert("Marks Updated"),g.showeditMarksModal=!1)})}},g.multipelStudentDeclare=function(b){if(g.currentUserDetail&&g.currentUserDetail.type&&"ADMIN"==g.currentUserDetail.type){a.mypageloading=!0;var c={exam_id:g.examId,result_ids:[]};if(angular.forEach(b,function(a){a.checked&&void 0!=a.result._id&&c.result_ids.push(a.result._id)}),c.result_ids.length>0||void 0==c.result_ids){var d=j.HttpUpdateData(a.serverURL+"/customer/result/declare-result",c);d.then(function(b){b.success&&(alert("Result declared successfully"),g.loadExamList(),g.selectedclass(g.classDetail),g.is_declare=!1,a.mypageloading=!1)})}else alert("Please Select Students"),a.mypageloading=!1}},g.results=[],g.editMarks=function(a,b){g.results=[],g.selctstudentsMarks=a,g.showeditMarksModal=b},g.changevalue=function(a,b){null==a||void 0==a||""==a||a.marks[b]>g.totmaxmark[b]?(alert("Please Enter Valid Vlaue"),a.marks[b]="0"):q(a)},g.addresult=function(b){if(g.currentUserDetail&&g.currentUserDetail.type&&"ADMIN"==g.currentUserDetail.type){for(var c=[],d=0;d<g.subjectList.length;d++){var e={subject:g.subjectList[d],score:b.marks[d],max:g.totmaxmark[d]};if(1==g.isDisplayResultGradeWise.is_checked){if(void 0!=b.marks[d]&&void 0!=g.totmaxmark[d]){var f=100*parseFloat(b.marks[d])/parseFloat(g.totmaxmark[d]),h=g.getGradeFromMarks(f);h&&(e.score=h)}else e.score="-";e.max="A+++"}"-"!=e.score&&void 0!=e.score&&""!=e.score&&c.push(e)}var i={student_id:b._id,student_name:b.name,exam_id:g.examId,exam_name:g.examDetails.name,class_id:b.grade_id,marks:c,total:b.calculatedResult.total,score:b.calculatedResult.percentage,max_value:b.calculatedResult.maxtot,result_type:"precent",result_status:b.calculatedResult.result_status};if(1==g.isDisplayResultGradeWise.is_checked&&void 0!=b.calculatedResult.maxtot&&void 0!=b.calculatedResult.percentage&&b.calculatedResult.percentage){var k=b.calculatedResult.percentage.replace("%",""),f=parseFloat(k),h=g.getGradeFromMarks(f);h&&(i.score=h)}if(console.log(i),i.marks&&i.marks.length>0){var l=j.HttpPostData(a.serverURL+"/customer/result/addresult",i);return l.then(function(b){if(b.success)return a.mypageloading=!1,g.selectedclass(g.classDetail),g.showeditMarksModal=!1,g.studentmarksheet=!1,b})}a.mypageloading=!1,g.showeditMarksModal=!1,g.studentmarksheet=!1}},g.checkResultsforClass=function(a){0==a.length?g.addmulresults(g.studentList):(g.information_MSG="Result Already genrated for some Students, this Opertaion will update their Result.",g.Information=!0)},g.information_yes=function(){g.addmulresults(g.studentList)},g.information_No=function(){g.Information=!1,g.information_MSG=""},g.addmulresults=function(b){g.Information=!1,g.information_MSG="";var c=[];if(angular.forEach(b,function(a){for(var b=[],d=0;d<g.subjectList.length;d++){var e={subject:g.subjectList[d],score:a.marks[d],max:g.totmaxmark[d]};if(1==g.isDisplayResultGradeWise.is_checked){if(void 0!=a.marks[d]&&void 0!=g.totmaxmark[d]){var f=100*parseFloat(a.marks[d])/parseFloat(g.totmaxmark[d]),h=g.getGradeFromMarks(f);h&&(e.score=h)}else e.score="-";e.max="A+++"}"-"!=e.score&&void 0!=e.score&&""!=e.score&&b.push(e)}var i={student_id:a._id,student_name:a.name,exam_id:g.examId,exam_name:g.examDetails.name,class_id:a.grade_id,marks:b,total:a.calculatedResult.total,score:a.calculatedResult.percentage,max_value:a.calculatedResult.maxtot,result_type:"precent",result_status:a.calculatedResult.result_status};if(1==g.isDisplayResultGradeWise.is_checked&&void 0!=a.calculatedResult.maxtot&&void 0!=a.calculatedResult.percentage&&a.calculatedResult.percentage){var j=a.calculatedResult.percentage.replace("%",""),f=parseFloat(j),h=g.getGradeFromMarks(f);h&&(i.score=h)}i.marks&&i.marks.length>0&&c.push(i),console.log(c)}),g.currentUserDetail&&g.currentUserDetail.type&&"ADMIN"==g.currentUserDetail.type&&(0!=c.length||null!=c)){var d=j.HttpPostData(a.serverURL+"/customer/result/addresults",c);d.then(function(b){b.success&&(a.mypageloading=!1,g.selectedclass(g.classDetail),alert("Results generated successfully"))})}},g.resultView=function(a,b){g.results=[],g.selctstudentsMarks=a,g.generateResult=b,g.totalMarks=0},g.resultDownload=function(){a.mypageloading=!0,g.totalMarks=0,g.selctstudentsMarks.length>0&&(g.getData=g.ResultInfo.result[0],g.getData&&g.getData.English&&(g.totalMarks=g.totalMarks+g.getData.English),g.getData&&g.getData.Hindi&&(g.totalMarks=g.totalMarks+g.getData.Hindi),g.getData&&g.getData.Science&&(g.totalMarks=g.totalMarks+g.getData.Science)),m(function(){kendo.drawing.drawDOM($("#resultPrint")).then(function(a){kendo.drawing.pdf.saveAs(a,g.selctstudentsMarks.name+".pdf")}),a.mypageloading=!1},2e3)},g.AllDownload=function(){g.generateResult=!0,a.mypageloading=!0,angular.forEach(g.studentResult,function(b){g.totalMarks=0,g.ResultInfo=b,g.ResultInfo.result.length>0&&(g.getData=g.ResultInfo.result[0],g.getData&&g.getData.English&&(g.totalMarks=g.totalMarks+g.getData.English),g.getData&&g.getData.Hindi&&(g.totalMarks=g.totalMarks+g.getData.Hindi),g.getData&&g.getData.Science&&(g.totalMarks=g.totalMarks+g.getData.Science)),m(function(){kendo.drawing.drawDOM($("#resultPrint")).then(function(a){kendo.drawing.pdf.saveAs(a,b.studentInfo.name+".pdf")}),a.mypageloading=!1,g.generateResult=!1},2e3)})},g.updateExamFunction=function(a){localStorage.removeItem("currentExamDetail"),localStorage.removeItem("currentExamQuestionDetail"),localStorage.removeItem("currentExamChapterDetail"),b.path("/exam/update/"+a._id)},g.openexampreview=function(){d.Error(""),d.Success(""),g.showSetExamdataPreviewModal=!0},g.getExamPreviewFunction=function(a,b,c){d.Error(""),d.Success(""),g.currentExamdata=a,f.getExamDetail(a._id,function(a){if(1==a.success&&a.data.exam){console.log(a.data.exam);var e=a.data.exam;g.setExamArrayModal={exam_id:e._id,exam_name:e.name,instructions:e.instructions?e.instructions:"NA",total_time:e.total_time?e.total_time:0,total_marks:e.total_marks?e.total_marks:0,classes:e.classes?e.classes:[],is_online:!e.is_online||e.is_online,start_time:e.start_time?new Date(e.start_time):"",questions:e.questions,syllabus:null!=e.syllabus?e.syllabus:"NA",start_time_buffer:e.start_time_buffer?e.start_time_buffer:0,end_time_buffer:e.end_time_buffer?e.end_time_buffer:10,created_at:e.time?e.time:"",updated_at:e.updated_at?e.updated_at:""},0==e.is_scheduled?g.setExamArrayModal.is_scheduled=!1:g.setExamArrayModal.is_scheduled=!0,0==g.setExamArrayModal.is_scheduled&&(g.setExamArrayModal.end_time_buffer=0),"TEACHER"==e.created_by&&e.created_by_id&&(g.setExamArrayModal.exam_created_name=u[e.created_by_id]);for(var f=0;f<e.questions.length;f++)"MULTI-SELECT"==e.questions[f].type&&(e.questions[f].answer=[e.questions[f].answer]),e.questions[f].customer_id=e.customer_id;g.questionList=e.questions,g.setExamQuestionsModal=b,g.showSetExamPreviewModal=b,g.showSetExamdataPreviewModal=c}else d.Error("")})},g.showExamPreview=function(a){b.path("/exam/preview/"+a._id)},g.approveOrUnApproveExam=function(b,c){if(d.Error(""),d.Success(""),g.currentUserDetail&&g.currentUserDetail.type&&"ADMIN"==g.currentUserDetail.type){var e={exam_id:b._id,is_approved:c},f=j.HttpUpdateData(a.serverURL+"/customer/exam/approve-disapprove",e);f.then(function(a){a.data?(d.Success(b.name+" "+a.data.message),g.loadExamList()):console.log("something went wrong in approve exam")})}},g.closeFlashMessages=function(){d.Error(""),d.Success("")},g.getOnlineExamChanges=function(a){d.Error(""),d.Success(""),"true"==a?g.setExamArrayModal.is_online=!0:"false"==a&&(g.setExamArrayModal.is_online=!1)},g.openNewAddExam=function(){localStorage.removeItem("currentExamDetail"),localStorage.removeItem("currentExamQuestionDetail"),localStorage.removeItem("currentExamChapterDetail"),b.path("/exam/set")},g.changeExamTypeSelection=function(a,b){if(console.log(a),console.log(b),1==a&&b){if(g.currentOfflineExamData=b,g.isExamResultCombine.is_checked=!1,g.isExamResultCombine.examList=[],"previous_exam_id"in g.currentOfflineExamData&&g.currentOfflineExamData.previous_exam_id.length>0){g.isExamResultCombine.is_checked=!0;for(var c=0;c<g.currentOfflineExamData.previous_exam_id.length;c++){var d=g.currentOfflineExamData.previous_exam_id[c];g.isExamResultCombine.examList.push({_id:d,name:g.offlineExamDataObj[d]})}}if(g.examTypeSelectionModel=!1,g.modelType="Edit",g.addExams={examID:g.currentOfflineExamData._id,examName:g.currentOfflineExamData.name,addExamClass:[],startDate:g.currentOfflineExamData.startdate?new Date(g.currentOfflineExamData.startdate):"",endDate:g.currentOfflineExamData.enddate?new Date(g.currentOfflineExamData.enddate):""
},"classes"in g.currentOfflineExamData&&g.currentOfflineExamData.classes.length>0)for(var c=0;c<g.currentOfflineExamData.classes.length;c++){var e=g.currentOfflineExamData.classes[c];g.addExams.addExamClass.push({_id:e})}console.log(g.isExamResultCombine),console.log(g.addExams),g.showAddExam=!0}else"true"==g.currentSelectedExamTypeData.isOnlineExam?(g.examTypeSelectionModel=!1,m(function(){g.openNewAddExam()},1e3)):(g.isExamResultCombine={is_checked:!1,examList:[]},g.examTypeSelectionModel=!1,g.modelType="Add",g.addExams={examName:"",addExamClass:[],startDate:"",endDate:""},g.showAddExam=!0)},g.openExamTypeSelectionModel=function(){g.examTypeSelectionModel=!0,g.currentSelectedExamTypeData={isOnlineExam:"true"}},g.printContent=function(a){var b=document.getElementById(a).innerHTML,c=window.open("","_blank","width=400,height=300,size: landscape");c.document.open(),c.document.write('<html><head><link href="common/CSS/zuwagon.css" rel="stylesheet" /> <link href="../../assets/css/bootstrap.css" rel="stylesheet"></head><body onload="window.print()">'+b+"</body></html>"),c.document.close(),g.isPrintStudentAnsweSheet=!1},g.exportStudentAnswerSheet=function(a){g.isPrintStudentAnsweSheet=!0,g.isPrintStudentAnsweSheet&&m(function(){g.printContent(a)},1e3)},g.download=function(){function a(a){var b=document.createElement("a"),c=JSON.stringify(a),d=Papa.unparse(c);if(window.navigator.msSaveOrOpenBlob){var e=new Blob([decodeURIComponent(encodeURI(d))],{type:"text/csv;charset=utf-8;"});navigator.msSaveBlob(e,"time_table.csv")}else b.href="data:attachment/csv;charset=utf-8,"+encodeURI(d),b.target="_blank",b.download="time_table.csv",document.body.appendChild(b),b.click()}if(console.log(g.examDetails),console.log(g.studentList),g.studentList&&g.studentList.length>0){for(var b=[],c=0;c<g.studentList.length;c++){var d={"Student Name":"-","Roll No":"-",Average:"-",Result:"-",Eligible:"No","Start Time":"","End Time":"","Result Declared":"No",Remark:""};if("ADMIN"==g.currentUserDetail.type?(d["Student Name"]=g.studentList[c].name,d["Roll No"]=g.studentList[c].rollno):"TEACHER"==g.currentUserDetail.type&&(d["Student Name"]=g.studentList[c].student.name,d["Roll No"]=g.studentList[c].student.rollno),g.subjectList&&g.subjectList.length>0)for(var e=0;e<g.subjectList.length;e++){var f=g.subjectList[e];d[f]="-",1==g.examDetails.is_online&&(g.studentList[c].marks[e]?d[f]=g.studentList[c].marks[e]:d[f]="-")}d.Average=g.studentList[c].calculatedResult.percentage,d.Result=g.studentList[c].calculatedResult.result_status,1==g.examDetails.is_online&&g.studentList[c].your_ans&&(1==g.studentList[c].your_ans.is_eligible?d.Eligible="Yes":d.Eligible="No"),1==g.examDetails.is_online&&g.studentList[c].your_ans&&(d["Start Time"]=g.timeInMin(g.studentList[c].your_ans.started_at),d["End Time"]=g.timeInMin(g.studentList[c].your_ans.submit_time)),g.studentList[c].result.is_declared?d["Result Declared"]="Yes":d["Result Declared"]="No",b.push(d)}a(b)}else{var b=[{"Student Name":"-","Roll No":"-",Average:"-",Result:"-",Eligible:"No","Start Time":"","End Time":"","Result Declared":"No",Remark:""}];a(b)}},g.clearExamSessionData=function(b){if(b&&"your_ans"in b){var c=j.HttpDeleteData(a.serverURL+"/education/exam/deleteExamsession/"+b.your_ans._id);c.then(function(a){a.data?(d.Success("Session Data clear successfully"),g.selectedclass(g.classDetail)):console.log("something went wrong in session data clear")})}},g.getGradeFromMarks=function(a){if(a&&void 0!=a){var b=String(a).replace("%",""),c=parseFloat(b);return c>=80?"A+++":c<80&&c>=60?"A++":c<60&&c>=40?"A+":c<39?"A":"-"}}}]),app.controller("oldExamController",["$rootScope","$location","HandShakeService","FlashService","$scope","$log","UtilService","HttpService","$indexedDB","$sessionStorage","$timeout","$firebaseAuth","Auth",function(a,b,c,d,e,f,g,h,i,j,k,l,m){function n(){var b=h.HttpGetData(a.serverURL+"/customer/teacher");b.then(function(b){if(a.mypageloading=!1,1==b.success&&b.data&&b.data.length>0)for(var c=b.data,d=0;d<c.length;d++)y[c[d].teacher_id]=c[d].name})}function o(){var b=h.HttpGetData(a.serverURL+"/customer/result/getresult?class_id="+e.classId+"&exam_id="+e.examId);return b.then(function(a){if(a.success)return a.data.result_list})}function p(a){for(var b,c=0,d=0,f=!0,g=0;g<a.marks.length;g++){"-"==a.marks[g]||null==a.marks[g]||void 0==a.marks[g]?(c+=0,f=!1):c+=Number(a.marks[g]),d+=e.totmaxmark[g];var h=100*a.marks[g]/Number(e.totmaxmark[g]);(h<33||0==Number(a.marks[g])||"-"==a.marks[g])&&(f=!1)}b=0==a.marks.length?{result_status:"-",percentage:"-",total:c,maxtot:d}:f?{result_status:"Pass",percentage:(100*c/d).toFixed(2)+"%",total:c,maxtot:d}:{result_status:"Fail",percentage:"-",total:c,maxtot:d},a.calculatedResult=b}function q(b){var c=JSON.parse(JSON.stringify(b));if(c.marks=parseFloat(c.marks),"NUMBER"!=c.type){for(var d=[],f=0;f<c.options.length;f++)""!=c.options[f].answer&&d.push(c.options[f]);c.options=d}"MULTI-SELECT"==c.type&&(c.answer=c.answer[0]),c.grades=e.selectedClassIds.map(function(a){return a._id}),c.id=c._id,console.log(c);var g=h.HttpUpdateData(a.serverURL+"/customer/question/edit",c);g.then(function(b){console.log(b),1==b.success?(console.log(b),a.mypageloading=!1):(console.log("something went wrong in update question request"),a.mypageloading=!1)})}function r(b){var c=JSON.parse(JSON.stringify(b));if(c.marks=parseFloat(c.marks),"NUMBER"!=c.type){for(var d=[],f=0;f<c.options.length;f++)""!=c.options[f].answer&&d.push(c.options[f]);c.options=d}"MULTI-SELECT"==c.type&&(c.answer=c.answer[0]),c.grades=e.selectedClassIds.map(function(a){return a._id}),console.log(c);var g=h.HttpPostData(a.serverURL+"/customer/question/add",[c]);g.then(function(c){if(console.log(c),1==c.success){var d=c.data.data[0]._id,f=e.questionList.indexOf(b);e.questionList[f]._id=d,console.log(e.questionList[f]),a.mypageloading=!1}else console.log("something went wrong in add question request"),a.mypageloading=!1})}g.setSidebar(),e.timeInMin=g.timeInMin,a.showBackStrech=!1,e.profileInfo=angular.fromJson(j.profileInfo),e.showModal=!1,e.testModal=!1,a.mypageloading=!0,e.examId="",e.classId="",e.showAddExam=!1,e.Information=!1,e.is_declare=!1,e.checkuncheck=!1,e.studentList=[],e.subjectList=[],e.totmaxmark=[],e.subjectList=[],e.showeditMarksModal=!1,e.selctstudentsMarks=[],e.chkall=!1,e.classList=[],e.classSelect="",e.examSelect="",e.classHash=[],e.modelType="Add",e.searchExam="",e.searchQuestion="",e.generateResult=!1,e.getData=[],e.examClassData={},e.currentExamdata={};var s={},t={},u={};e.classNamesArray=[],e.setExamName={name:"",results_declared:"",time:"",startdate:"",enddate:""},d.Error(""),d.Success(""),a.mypageloading=!1,e.showViewExamModal=!1,e.addExams={examName:"",addExamClass:[],startDate:"",endDate:""},e.isSubmit=!1,e.questionList=[],e.setExamArrayModal={exam_id:"",exam_name:"",is_scheduled:!0,instructions:"",total_time:0,total_marks:0,is_online:!0,start_time:"",questions:[],syllabus:"",start_time_buffer:0,end_time_buffer:10},e.$watch("setExamArrayModal.is_scheduled",function(){0==e.setExamArrayModal.is_scheduled?(e.setExamArrayModal.start_time_buffer=0,e.setExamArrayModal.end_time_buffer=0,e.setExamArrayModal.start_time="",e.setExamArrayModal.total_time=0):e.setExamArrayModal.end_time_buffer=10});var v={},w={};e.questionSelection=[],e.quesAfterSelection=[],e.checkModel=!1,e.showSetExamPreviewModal=!1,e.setExamQuestionsModal=!1,e.ifDirectGoToExamPreview=!1,e.getQuestionDetailsModal={question:"",subject_id:"",subject_name:"",level:"",answer:[],options:[],type:"",customer_id:"",grades:"",marks:0,solution:"",photos:[],localPhotos:[]},e.answer="",e.showQuestionModalBox=!1,e.existingResultList=[],e.selectedClassIds=[];var x={},y={};e.example14settings={scrollableHeight:"300px",scrollable:!0,enableSearch:!0,showCheckAll:!0,showUncheckAll:!0},e.example14settings={smartButtonMaxItems:5,smartButtonTextConverter:function(a,b){return a}},e.classDetails=[],e.classes=[];var z={},A=0;e.questionModalPhotoChange=function(a){A++;var b=new FileReader;b.onload=function(b){e.getQuestionDetailsModal.localPhotos.push({file:a,fileName:a.name,basePath:"question",fileKey:"dkQuestionPhoto"+A,imagePreview:b.target.result}),e.$apply()},b.readAsDataURL(a)},e.deletePhoto=function(a,b){"local"===a?e.getQuestionDetailsModal.localPhotos.splice(b,1):e.getQuestionDetailsModal.photos.splice(b,1)},e.loadExamList=function(){var b=h.HttpGetData(a.serverURL+"/customer/exam/");b.then(function(a){1==a.success?(e.examList=a.data,angular.forEach(e.examList,function(a){s[a._id]=a,null==e.examId&&""==e.examId&&void 0==e.examId||a._id==e.examId&&(e.examDetails=a,console.log("Exam Object : ",a))}),e.getClasses(),n()):e.examList=[]})},e.loadExamList(),e.backtoExam=function(){e.examId="",e.classId="",e.is_declare=!1,e.studentResult=[]},e.getExamDetails=function(a){d.Error(""),d.Success(""),0==a.is_approved?alert("This Exam has not been approved by admin"):(e.setExamArrayModal.exam_id=a._id,e.examDetails=a,e.classNamesArray=[],e.setExamName={name:"",results_declared:"",time:"",startdate:"",enddate:""},angular.forEach(e.examList,function(b){b._id==a._id&&(e.setExamName.name=s[b._id].name,e.setExamName.results_declared=s[b._id].results_declared,e.setExamName.time=s[b._id].time,e.setExamName.startdate=s[b._id].startdate,e.setExamName.enddate=s[b._id].enddate)}),angular.forEach(a.classes,function(a){t[a]&&e.classNamesArray.push(t[a])}),e.showViewExamModal=!0)},e.selectedExam=function(a){e.examId=a,e.classSelect="",e.searchExam="",e.getClasses()},e.selectedclass=function(a){e.classDetail=a,e.classId=a._id,e.examId=e.examDetails._id,e.classname=a.name,e.searchExam="",e.classexamResults=[],o().then(function(b){for(var d=0;d<b.length;d++)e.classexamResults.push(b[d]);c.getStudentInfo(a._id).then(function(a){e.studentList=a,1==e.examDetails.is_online?e.getOnlineExamDetails(e.examDetails._id):e.getResult()})})},e.getSubjects=function(){var b=h.HttpGetData(a.serverURL+"/customer/subject/class?class_id="+e.classId);b.then(function(a){1==a.success&&(e.subjectList=a.data,e.getResult())})},e.getOnlineExamDetails=function(b){e.getExamPreviewFunction(e.examDetails,!1,!1);var c=h.HttpGetData(a.serverURL+"/customer/exam/exam-anwser-sheet?exam_id="+b);c.then(function(a){if(a.success){e.studentOnlineExamResult=[],e.totmaxmark=[],e.subjectList=[],e.totmaxmark.push(e.examDetails.total_marks),e.subjectList.push(e.examDetails.name),e.currentExamQuestion=a.data.exam_question;a.data.submitted_exam_list;angular.forEach(e.studentList,function(b){b.marks=[],b.result={},b.your_ans,b.checked,angular.forEach(a.data.submitted_exam_list,function(a){a.student_id==b._id&&(b.your_ans=a,console.log("Log : ",a.total_marks_obtained),b.marks.push(a.total_marks_obtained?a.total_marks_obtained:"0"),1==a.is_eligible?b.checked=!0:0==a.is_eligible&&(b.checked=!1))}),p(b),angular.forEach(e.classexamResults,function(a){a.student_id==b._id&&(b.result=a)})}),e.showViewExamModal=!1}})},e.checkall=function(a){0==a?angular.forEach(e.studentList,function(a){void 0!=a.your_ans?1==a.your_ans.is_eligible&&(a.checked=!1):e.examDetails.is_online||(a.checked=!1)}):angular.forEach(e.studentList,function(a){void 0!=a.your_ans?1==a.your_ans.is_eligible&&(a.checked=!0):e.examDetails.is_online||(a.checked=!0)})},e.openAnswersheet=function(a,b){e.studentonlieresult=e.currentExamQuestion,e.examsession_id=a.your_ans._id,e.studentexamobject=a,angular.forEach(e.studentonlieresult,function(b){b.your_Answer,b.your_marks,angular.forEach(a.your_ans.questions,function(a){a._id==b._id&&(b.your_Answer=a.answer,b.your_marks=a.mark_obtained)})}),e.studentmarksheet=b},e.changemarksobtaind=function(a){a.your_marks>a.marks&&(a.your_marks=0,alert("Please Enter Valid Marks"))},e.updateSession=function(b){for(var c=0,d=[],f=0;f<b.length;f++){c+=void 0==b[f].your_marks?Number(0):Number(b[f].your_marks),0==b[f].options.length&&b[f].options.push({answer:b[f].your_Answer[0]});var g={_id:b[f]._id,options:b[f].options,answer:b[f].your_Answer,mark_obtained:b[f].your_marks};d.push(g)}e.studentexamobject.marks=[c],console.log("Total Marks : ",c);var i={questions:d,examsession_id:e.examsession_id,total_marks_obtained:c};if(console.log("Update Session : ",i),0!=i.questions.length||null!=i){var j=h.HttpUpdateData(a.serverURL+"/customer/exam/exam-session",i);j.then(function(b){b.success&&(a.mypageloading=!1,null!=e.studentexamobject.result._id||void 0!=e.studentexamobject.result._id?e.addresult(e.studentexamobject).then(function(a){1==e.studentexamobject.result.is_declare?e.multipelStudentDeclare(e.studentexamobject):e.selectedclass(e.classDetail)}):e.selectedclass(e.classDetail))}),alert("Marks Updated"),e.studentmarksheet=!1}},e.resetStudentMarks=function(b){angular.forEach(b,function(b){if(0!=b.marks.length){console.log("Reset Student Marks : ",b);for(var c=0,d=b.your_ans.questions,f=0;f<d.length;f++)c+=void 0==d[f].mark_obtained?Number(0):Number(d[f].mark_obtained);var g={questions:b.your_ans.questions,examsession_id:b.your_ans._id,total_marks_obtained:c};if(b.marks=[c],console.log("Update Session : ",g),0!=g.questions.length||null!=g){var i=h.HttpUpdateData(a.serverURL+"/customer/exam/exam-session",g);i.then(function(b){b.success&&(a.mypageloading=!1)}),e.studentmarksheet=!1}}}),e.selectedclass(e.classDetail)},e.yesDeclare=function(){e.is_declare=!0},e.noDeclare=function(){e.is_declare=!1},e.getClasses=function(){c.getGradeInfo().then(function(a){f.debug("HandShakeService getRouteInfo received"),e.classList=a,angular.forEach(e.classList,function(a){t[a._id]=a})})},e.getResults=function(){var b=h.HttpGetData(a.serverURL+"/customer/exam/result?class_id="+e.classId+"&exam_id="+e.examId);b.then(function(a){if(1==a.success){var b=a.data;e.studentResult=[],console.sub("Get Response : ",b),angular.forEach(e.studentList,function(a){if(b[a._id]){var c=b[a._id],d={studentInfo:a,resultList:[]};console.sub("Get Response Studentresults : ",c),angular.forEach(e.subjectList,function(a){console.sub("Get Response Studentresults Sub : ",c[a]),c[a]?d.resultList.push(c[a]):d.resultList.push("-")}),e.studentResult.push(d)}})}})},e.getResult=function(){e.showViewExamModal=!1;var b=h.HttpGetData(a.serverURL+"/customer/exam/marks?class_id="+e.classId+"&exam_id="+e.examId);b.then(function(a){if(1==a.success){var b=a.data;e.studentmarks=a.data,e.totmaxmark=[],e.subjectList=[];for(var c=0;c<b.length;c++)e.subjectList.push(b[c].subject),e.totmaxmark.push(b[c].maxmarks);angular.forEach(e.studentList,function(a){a.marks=[],a.result={},a.checked,angular.forEach(b,function(b){a.marks.push(b.students_marks[a._id]?b.students_marks[a._id]:"-")}),p(a),angular.forEach(e.classexamResults,function(b){b.student_id==a._id&&(a.result=b,a.checked=!0)})})}})},e.openAddExam=function(){d.Error(""),d.Success(""),e.modelType="Add",e.addExams={examName:"",addExamClass:[],startDate:"",endDate:""},e.getClasses(),e.showAddExam=!0};var B=this;e.CheckAddExam=function(){if(e.isSubmit=!0,""==e.addExams.examName)return!1;if(0==e.addExams.addExamClass.length)return!1;d.Error("");var a=[],b=[];e.classHash=[],angular.forEach(e.addExams.addExamClass,function(c){a.push(e.classHash[c._id]),b.push(c._id)}),B.to=a.toString(),B.from=angular.fromJson(j.profileInfo).name,B.class_list=b,e.addExam()},e.addExam=function(){var b={},c=e.addExams.startDate,f=e.addExams.endDate;""!=c&&null!=c&&void 0!=c?c.toDateString():c="",""!=f&&null!=f&&void 0!=f?f.toDateString():f="";var g=[],i=[];e.classHash=[],angular.forEach(e.addExams.addExamClass,function(a){g.push(e.classHash[a._id]),i.push(a._id)});var b={name:e.addExams.examName,classes:i,startdate:c,enddate:f},j=h.HttpPostData(a.serverURL+"/customer/exam",b);j.then(function(a){1==a.success&&(d.Error(a.data.message),""==a.data.result||(e.showAddExam=!1,e.isSubmit=!1,e.addExams={examName:"",addExamClass:[],startDate:"",endDate:""},e.loadExamList()))})},e.allDownload=function(){},e.oneDownload=function(){},e.export=function(){kendo.drawing.drawDOM($("#exportthis")).then(function(a){kendo.drawing.pdf.saveAs(a,"Exam&Result.pdf")})},e.editRoute=function(a,b){e.showAddExam=!1,e.showAddExam=!0,e.getClasses(),e.modelType="Edit",e.addExams.examName=a.name,e.addExams.addExamClass=[];var c=[];angular.forEach(a.classes,function(a){c.push({_id:a})}),e.addExams.addExamClass=c},e.Modifymarks=function(b){for(var c={result:[]},d=0;d<b.marks.length;d++){var f={result_id:e.studentmarks[d]._id,student_id:b._id,marks:b.marks[d]};c.result.push(f)}if(0!=c.result.length||null!=c){var g=h.HttpUpdateData(a.serverURL+"/customer/exam/result",c);g.then(function(c){c.success&&(a.mypageloading=!1,null!=b.result._id||void 0!=b.result._id?e.addresult(b).then(function(a){1==b.result.is_declare?e.multipelStudentDeclare(b):e.selectedclass(e.classDetail)}):e.selectedclass(e.classDetail),alert("Marks Updated"),e.showeditMarksModal=!1)})}},e.multipelStudentDeclare=function(b){a.mypageloading=!0;var c={exam_id:e.examId,result_ids:[]};if(angular.forEach(b,function(a){a.checked&&void 0!=a.result._id&&c.result_ids.push(a.result._id)}),c.result_ids.length>0||void 0==c.result_ids){var d=h.HttpUpdateData(a.serverURL+"/customer/result/declare-result",c);d.then(function(b){b.success&&(alert("Result declared successfully"),e.loadExamList(),e.selectedclass(e.classDetail),e.is_declare=!1,a.mypageloading=!1)})}else alert("Please Select Students"),a.mypageloading=!1},e.results=[],e.editMarks=function(a,b){e.results=[],e.selctstudentsMarks=a,e.showeditMarksModal=b},e.changevalue=function(a,b){null==a||void 0==a||""==a||a.marks[b]>e.totmaxmark[b]?(alert("Please Enter Valid Vlaue"),a.marks[b]="0"):p(a)},e.addresult=function(b){for(var c=[],d=0;d<e.subjectList.length;d++){var f={subject:e.subjectList[d],score:b.marks[d],max:e.totmaxmark[d]};c.push(f)}var g={student_id:b._id,student_name:b.name,exam_id:e.examId,exam_name:e.examDetails.name,class_id:b.grade_id,marks:c,total:b.calculatedResult.total,score:b.calculatedResult.percentage,max_value:b.calculatedResult.maxtot,result_type:"precent",result_status:b.calculatedResult.result_status},i=h.HttpPostData(a.serverURL+"/customer/result/addresult",g);return i.then(function(b){if(b.success)return a.mypageloading=!1,e.selectedclass(e.classDetail),e.showeditMarksModal=!1,e.studentmarksheet=!1,b})},e.checkResultsforClass=function(a){0==a.length?e.addmulresults(e.studentList):(e.information_MSG="Result Already genrated for some Students, this Opertaion will update their Result.",e.Information=!0)},e.information_yes=function(){e.addmulresults(e.studentList)},e.information_No=function(){e.Information=!1,e.information_MSG=""},e.addmulresults=function(b){e.Information=!1,e.information_MSG="";var c=[];if(angular.forEach(b,function(a){for(var b=[],d=0;d<e.subjectList.length;d++){var f={subject:e.subjectList[d],score:a.marks[d],max:e.totmaxmark[d]};b.push(f)}var g={student_id:a._id,student_name:a.name,exam_id:e.examId,exam_name:e.examDetails.name,class_id:a.grade_id,marks:b,total:a.calculatedResult.total,score:a.calculatedResult.percentage,max_value:a.calculatedResult.maxtot,result_type:"precent",result_status:a.calculatedResult.result_status};c.push(g)}),0!=c.length||null!=c){var d=h.HttpPostData(a.serverURL+"/customer/result/addresults",c);d.then(function(b){b.success&&(a.mypageloading=!1,e.selectedclass(e.classDetail),alert("Results generated successfully"))})}},e.resultView=function(a,b){e.results=[],e.selctstudentsMarks=a,e.generateResult=b,e.totalMarks=0},e.resultDownload=function(){a.mypageloading=!0,e.totalMarks=0,e.selctstudentsMarks.length>0&&(e.getData=e.ResultInfo.result[0],e.getData&&e.getData.English&&(e.totalMarks=e.totalMarks+e.getData.English),e.getData&&e.getData.Hindi&&(e.totalMarks=e.totalMarks+e.getData.Hindi),e.getData&&e.getData.Science&&(e.totalMarks=e.totalMarks+e.getData.Science)),k(function(){kendo.drawing.drawDOM($("#resultPrint")).then(function(a){kendo.drawing.pdf.saveAs(a,e.selctstudentsMarks.name+".pdf")}),a.mypageloading=!1},2e3)},e.AllDownload=function(){e.generateResult=!0,a.mypageloading=!0,angular.forEach(e.studentResult,function(b){e.totalMarks=0,e.ResultInfo=b,e.ResultInfo.result.length>0&&(e.getData=e.ResultInfo.result[0],e.getData&&e.getData.English&&(e.totalMarks=e.totalMarks+e.getData.English),e.getData&&e.getData.Hindi&&(e.totalMarks=e.totalMarks+e.getData.Hindi),e.getData&&e.getData.Science&&(e.totalMarks=e.totalMarks+e.getData.Science)),k(function(){kendo.drawing.drawDOM($("#resultPrint")).then(function(a){kendo.drawing.pdf.saveAs(a,b.studentInfo.name+".pdf")}),a.mypageloading=!1,e.generateResult=!1},2e3)})},e.updateSetExamFunction=function(b){d.Error(""),d.Success(""),e.currentExamdata=b,e.quesAfterSelection=[];var c={},f=h.HttpGetData(a.serverURL+"/customer/exam/details?exam_id="+b._id);f.then(function(a){if(1==a.success&&a.data.exam){console.log(a.data.exam);var b=a.data.exam;angular.forEach(b.questions,function(a){c[a._id]=a}),1==b.is_online?e.getIsExamOnineSelection="true":0==b.is_online&&(e.getIsExamOnineSelection="false");for(var f=0;f<b.questions.length;f++)"MULTI-SELECT"==b.questions[f].type&&(b.questions[f].answer=[b.questions[f].answer]),b.questions[f].customer_id=b.customer_id;if(e.setExamArrayModal={exam_id:b._id,exam_name:b.name,instructions:b.instructions?b.instructions:"NA",total_time:b.total_time?b.total_time:0,total_marks:b.total_marks?b.total_marks:0,classes:b.classes?b.classes:[],is_online:!b.is_online||b.is_online,start_time:b.start_time?new Date(b.start_time):"",questions:b.questions,syllabus:null!=b.syllabus?b.syllabus:"NA",start_time_buffer:b.start_time_buffer?b.start_time_buffer:0,end_time_buffer:b.end_time_buffer?b.end_time_buffer:10,created_at:b.time?b.time:"",updated_at:b.updated_at?b.updated_at:""},0==b.is_scheduled?e.setExamArrayModal.is_scheduled=!1:e.setExamArrayModal.is_scheduled=!0,e.questionList=b.questions,e.selectedClassIds=[],0==e.setExamArrayModal.is_scheduled&&(e.setExamArrayModal.end_time_buffer=0),"TEACHER"==b.created_by&&b.created_by_id&&(e.setExamArrayModal.exam_created_name=y[b.created_by_id]),b.classes&&b.classes.length>0)for(var f=0;f<b.classes.length;f++)e.selectedClassIds.push({_id:b.classes[f]});e.getQuestionDetailsModal.subject_name=e.questionList[0].subject_name,e.getQuestionDetailsModal.subject_id=e.questionList[0].subject_id,e.setExamQuestionsModal=!0,e.showSetExamPreviewModal=!1,e.searchQuestion=""}else d.Error("")})},e.openexampreview=function(){d.Error(""),d.Success(""),e.showSetExamdataPreviewModal=!0},e.getExamPreviewFunction=function(b,c,f){d.Error(""),d.Success(""),e.quesAfterSelection=[],e.currentExamdata=b;var g=h.HttpGetData(a.serverURL+"/customer/exam/details?exam_id="+b._id);g.then(function(a){if(1==a.success&&a.data.exam){console.log(a.data.exam);var b=a.data.exam;e.setExamArrayModal={exam_id:b._id,exam_name:b.name,instructions:b.instructions?b.instructions:"NA",total_time:b.total_time?b.total_time:0,total_marks:b.total_marks?b.total_marks:0,classes:b.classes?b.classes:[],is_online:!b.is_online||b.is_online,start_time:b.start_time?new Date(b.start_time):"",questions:b.questions,syllabus:null!=b.syllabus?b.syllabus:"NA",start_time_buffer:b.start_time_buffer?b.start_time_buffer:0,end_time_buffer:b.end_time_buffer?b.end_time_buffer:10,created_at:b.time?b.time:"",updated_at:b.updated_at?b.updated_at:""},0==b.is_scheduled?e.setExamArrayModal.is_scheduled=!1:e.setExamArrayModal.is_scheduled=!0,0==e.setExamArrayModal.is_scheduled&&(e.setExamArrayModal.end_time_buffer=0),"TEACHER"==b.created_by&&b.created_by_id&&(e.setExamArrayModal.exam_created_name=y[b.created_by_id]);for(var g=0;g<b.questions.length;g++)"MULTI-SELECT"==b.questions[g].type&&(b.questions[g].answer=[b.questions[g].answer]),b.questions[g].customer_id=b.customer_id;e.questionList=b.questions,e.setExamQuestionsModal=c,e.showSetExamPreviewModal=c,e.ifDirectGoToExamPreview=c,e.showSetExamdataPreviewModal=f}else d.Error("")})},e.approveExam=function(b){d.Error(""),d.Success("");var c={exam_id:b._id,is_approved:!0},f=h.HttpUpdateData(a.serverURL+"/customer/exam/approve-disapprove",c);f.then(function(a){a.data?(d.Success(b.name+" exam is approved"),e.loadExamList()):console.log("something went wrong in approve exam")})},e.closeFlashMessages=function(){d.Error(""),d.Success("")},e.hideSetExamTab=function(){d.Error(""),d.Success(""),e.setExamQuestionsModal=!1,e.showSetExamPreviewModal=!1,e.ifDirectGoToExamPreview=!1,e.questionList=[],e.questionSelection=[],e.quesAfterSelection=[]},e.getOnlineExamChanges=function(a){d.Error(""),d.Success(""),"true"==a?e.setExamArrayModal.is_online=!0:"false"==a&&(e.setExamArrayModal.is_online=!1)},e.selectQuetionsByCheckBoxFunction=function(a,b){d.Error(""),d.Success(""),1==a?(b.checked=!0,e.questionSelection.push({_id:b._id,marks:b.marks}),e.quesAfterSelection.push({_id:b._id,questionName:b.question,marks:b.marks,checked:!0})):0==a&&(b.checked=!1,e.questionSelection.splice(e.questionSelection.indexOf(v[b._id]),1),e.quesAfterSelection.splice(e.quesAfterSelection.indexOf(w[b._id]),1)),angular.forEach(e.questionSelection,function(a){v[a._id]=a}),angular.forEach(e.quesAfterSelection,function(a){w[a._id]=a})},e.showSetExamModalFUnction=function(b){if(d.Error(""),d.Success(""),e.questionSelection=[],e.quesAfterSelection=[],e.checkModel=!1,a.mypageloading=!1,e.setExamArrayModal={exam_id:"",exam_name:"",is_scheduled:!0,instructions:"",total_time:0,total_marks:0,is_online:!0,start_time:"",questions:[],syllabus:"",start_time_buffer:0,end_time_buffer:10},e.getQuestionDetailsModal={question:"",subject_id:"",subject_name:"",level:"",answer:[],options:[],type:"",customer_id:"",grades:"",marks:"",solution:"",photos:[],localPhotos:[]},e.answer="",e.selectedClassIds=[],b.classes&&b.classes.length>0)for(var c=0;c<b.classes.length;c++)e.selectedClassIds.push({_id:b.classes[c]});e.setExamArrayModal.exam_id=b._id,e.setExamArrayModal.exam_name=b.name,e.currentExamdata=b,e.setExamQuestionsModal=!0,e.showSetExamPreviewModal=!1,e.questionList=[],e.searchQuestion=""},e.updateMarksIfAnyChangeOnField=function(a){angular.forEach(e.questionSelection,function(b){b._id==a._id&&(b.marks=a.marks)}),angular.forEach(e.quesAfterSelection,function(b){b._id==a._id&&(b.marks=a.marks)})},e.getQuestions=function(){a.mypageloading=!0;var b=h.HttpGetData(a.serverURL+"/customer/question/list");b.then(function(b){1==b.success?(e.questionList=b.data.data.question,angular.forEach(e.questionList,function(a){u[a._id]=a}),a.mypageloading=!1):console.log("something went wrong in set exam paper")})},e.addSetExamFunction=function(){d.Error(""),d.Success("");var b={exam_id:e.setExamArrayModal.exam_id,exam_name:e.setExamArrayModal.exam_name,is_scheduled:e.setExamArrayModal.is_scheduled,instructions:e.setExamArrayModal.instructions,total_marks:e.setExamArrayModal.total_marks,classes:e.setExamArrayModal.classes,is_online:e.setExamArrayModal.is_online,questions:[],syllabus:e.setExamArrayModal.syllabus};1==e.setExamArrayModal.is_scheduled&&(b.total_time=e.setExamArrayModal.total_time,b.start_time=e.setExamArrayModal.start_time.getTime(),b.start_time_buffer=e.setExamArrayModal.start_time_buffer,b.end_time_buffer=e.setExamArrayModal.end_time_buffer),console.log(b),a.mypageloading=!0,e.questionList.forEach(function(a){delete a.key}),questionIdList=[];for(var c=0;c<e.questionList.length;c++)questionIdList.push({_id:e.questionList[c]._id,marks:parseFloat(e.questionList[c].marks)});b.questions=questionIdList,console.log(e.questionList);var f=h.HttpUpdateData(a.serverURL+"/customer/exam/setpaper",b);f.then(function(b){console.log(b),1==b.success?(e.showSetExamPreviewModal=!1,e.setExamQuestionsModal=!1,a.mypageloading=!1,e.loadExamList(),d.Success("Exam updated successfully")):console.log("something went wrong in set exam paper")})},e.cancelShowPreviewBeforeSetExamFunction=function(){d.Error(""),d.Success(""),e.showSetExamPreviewModal=!1},e.showPreviewBeforeSetExamFunction=function(){if(d.Error(""),d.Success(""),e.questionList&&e.questionList.length>0&&(e.setExamArrayModal.classes=e.selectedClassIds.map(function(a){return a._id})),0==e.questionList.length||e.questionList.length<0)return d.Error("Please select question."),!1;if(1==e.setExamArrayModal.is_scheduled){if(void 0==e.setExamArrayModal.start_time||e.setExamArrayModal.start_time<=0||""==e.setExamArrayModal.start_time)return d.Error("Please check start time."),!1;if(void 0==e.setExamArrayModal.total_time||e.setExamArrayModal.total_time<=0||""==e.setExamArrayModal.total_time)return d.Error("Please check total time."),!1;if(void 0==e.setExamArrayModal.start_time_buffer||e.setExamArrayModal.start_time_buffer<=0||""==e.setExamArrayModal.start_time)return d.Error("Please check allow late time."),!1}if(0==e.setExamArrayModal.total_marks||e.setExamArrayModal.total_marks<0)return d.Error("Please check total marks."),!1;if(void 0==e.questionList[0].subject_id||""==e.questionList[0].subject_id)return d.Error("Please select subject"),!1;if(0==e.selectedClassIds.length)return d.Error("Please select atleast one class for which this question is suitable"),!1;e.showSetExamPreviewModal=!0},e.showQuestionsModal=function(){return d.Error(""),d.Success(""),void 0==e.getQuestionDetailsModal.subject_id||""==e.getQuestionDetailsModal.subject_id?(d.Error("Please select subject"),!1):0==e.selectedClassIds.length?(d.Error("Please select atleast one class for which this question is suitable"),!1):(e.getQuestionDetailsModal.question="",e.getQuestionDetailsModal.customer_id=e.getQuestionDetailsModal.customer_id?e.getQuestionDetailsModal.customer_id:"",e.getQuestionDetailsModal.grades=e.selectedClassIds.map(function(a){return a._id})?e.getQuestionDetailsModal.grades:"",e.getQuestionDetailsModal.subject_id=e.getQuestionDetailsModal.subject_id?e.getQuestionDetailsModal.subject_id:"",e.getQuestionDetailsModal.subject_name=e.getQuestionDetailsModal.subject_name?e.getQuestionDetailsModal.subject_name:"",e.getQuestionDetailsModal.marks="",e.getQuestionDetailsModal.level="EASY",e.getQuestionDetailsModal.answer=[],e.getQuestionDetailsModal.options=[],e.getQuestionDetailsModal.type="",e.getQuestionDetailsModal.solution="",e.getQuestionDetailsModal.photos=[],e.getQuestionDetailsModal.localPhotos=[],e.getQuestionDetailsModal.key=0,e.answer="",e.showQuestionModalBox=!0,void(e.uploadProgress={}))},e.getQuestionLevelChange=function(a){e.getQuestionDetailsModal.level=a},e.getQuestionTypeChange=function(a){e.getQuestionDetailsModal.type=a,"SINGLE-SELECT"==a||"MULTI-SELECT"==a?e.getQuestionDetailsModal.options=[{id:"A",answer:""},{id:"B",answer:""},{id:"C",answer:""},{id:"D",answer:""}]:e.getQuestionDetailsModal.options=[]},e.getSubjectChange=function(a){a&&(e.getQuestionDetailsModal.subject_name=x[a].name,e.getQuestionDetailsModal.subject_id=x[a]._id,e.getQuestionDetailsModal.customer_id=x[a].customer_id)},e.addQuestions=function(){function b(){if(e.uploadProgress={},e.questionList&&e.questionList.length>0&&0!=e.getQuestionDetailsModal.key)for(var b=0;b<e.questionList.length;b++)"_id"in e.getQuestionDetailsModal&&e.questionList[b]._id==e.getQuestionDetailsModal._id&&(e.questionList[b].question=e.getQuestionDetailsModal.question,e.questionList[b].subject_id=e.getQuestionDetailsModal.subject_id,e.questionList[b].subject_name=e.getQuestionDetailsModal.subject_name,e.questionList[b].marks=e.getQuestionDetailsModal.marks,e.questionList[b].answer=e.getQuestionDetailsModal.answer,e.questionList[b].options=e.getQuestionDetailsModal.options,e.questionList[b].type=e.getQuestionDetailsModal.type,e.questionList[b].customer_id=e.getQuestionDetailsModal.customer_id,e.questionList[b].grades=e.getQuestionDetailsModal.grades,e.questionList[b].photos=e.getQuestionDetailsModal.photos,q(e.questionList[b]));else{var c={question:e.getQuestionDetailsModal.question,subject_id:e.getQuestionDetailsModal.subject_id?e.getQuestionDetailsModal.subject_id:"",subject_name:e.getQuestionDetailsModal.subject_name?e.getQuestionDetailsModal.subject_name:"",marks:e.getQuestionDetailsModal.marks?e.getQuestionDetailsModal.marks:0,level:e.getQuestionDetailsModal.level,answer:e.getQuestionDetailsModal.answer,options:e.getQuestionDetailsModal.options,type:e.getQuestionDetailsModal.type,
customer_id:e.getQuestionDetailsModal.customer_id?e.getQuestionDetailsModal.customer_id:"",grades:e.selectedClassIds.map(function(a){return a._id})?e.getQuestionDetailsModal.grades:"",key:e.questionList.length+1,photos:e.getQuestionDetailsModal.photos},d=e.getQuestionDetailsModal.subject_id;c.subject_name=x[d].name,c.customer_id=x[d].customer_id,e.questionList.push(c),r(c),console.log(c)}e.setExamArrayModal.total_marks=e.questionList.reduce(function(a,b){return a+parseFloat(b.marks)},0),e.showQuestionModalBox=!1,a.mypageloading1=!0,e.getQuestionDetailsModal.question="",e.getQuestionDetailsModal.marks=0,e.getQuestionDetailsModal.level="EASY",e.getQuestionDetailsModal.answer=[],e.getQuestionDetailsModal.options=[],e.getQuestionDetailsModal.type="",e.getQuestionDetailsModal.solution="",e.getQuestionDetailsModal.key=0,e.getQuestionDetailsModal.photos=[],e.getQuestionDetailsModal.localPhotos=[],e.answer=""}if(d.Error(""),d.Success(""),void 0==e.getQuestionDetailsModal.question||""==e.getQuestionDetailsModal.question)return d.Error("Please enter question"),!1;if(void 0==e.getQuestionDetailsModal.level||""==e.getQuestionDetailsModal.level)return d.Error("Please set level"),!1;if(void 0==e.getQuestionDetailsModal.type||""==e.getQuestionDetailsModal.type)return d.Error("Please set type"),!1;if(void 0==e.getQuestionDetailsModal.marks||0==e.getQuestionDetailsModal.marks||""==e.getQuestionDetailsModal.marks)return d.Error("Please enter marks"),!1;if(0==e.getQuestionDetailsModal.answer.length)return d.Error("Please select answer"),!1;if("MULTI-SELECT"==e.getQuestionDetailsModal.type&&0==e.getQuestionDetailsModal.answer[0].length)return d.Error("Please select answer"),!1;if("SINGLE-SELECT"==e.getQuestionDetailsModal.type||"MULTI-SELECT"==e.getQuestionDetailsModal.type)for(var c=0;c<e.getQuestionDetailsModal.options.length;c++){if("SINGLE-SELECT"==e.getQuestionDetailsModal.type&&(""==e.getQuestionDetailsModal.options[c].answer||void 0==e.getQuestionDetailsModal.options[c].answer)&&1==e.getQuestionDetailsModal.answer.includes(e.getQuestionDetailsModal.options[c].id))return d.Error("Please choose valid answer"),!1;if("MULTI-SELECT"==e.getQuestionDetailsModal.type&&(""==e.getQuestionDetailsModal.options[c].answer||void 0==e.getQuestionDetailsModal.options[c].answer)&&1==e.getQuestionDetailsModal.answer[0].includes(e.getQuestionDetailsModal.options[c].id)){var h=e.getQuestionDetailsModal.answer[0].indexOf(e.getQuestionDetailsModal.options[c].id);h>-1&&e.getQuestionDetailsModal.answer[0].splice(h,1)}}e.getQuestionDetailsModal&&e.getQuestionDetailsModal.localPhotos&&e.getQuestionDetailsModal.localPhotos.length?(a.mypageloading=!0,g.uploadFilesToAmazonS3(e.getQuestionDetailsModal.localPhotos).then(function(a){!!a&&a.data&&(angular.forEach(Object.keys(a.data),function(b,c){e.getQuestionDetailsModal.photos.push(a.data[b].uploadUrl)}),e.getQuestionDetailsModal.localPhotos=[],b())},function(b){f.error(b),a.mypageloading=!1},function(b){a.mypageloading=!0,e.uploadProgress=b})):b()},e.getSubjectList=function(){var b=h.HttpGetData(a.serverURL+"/customer/subject");b.then(function(a){e.existingResultList=a.data,angular.forEach(e.existingResultList,function(a){x[a._id]=a})})},e.getSubjectList(),e.getClassDetails=function(){a.mypageloading1=!0,c.getGradeInfo().then(function(a){e.classDetails=a,e.classes=a,angular.forEach(a,function(a){z[a._id]=a,e.examClassData[a._id]=a.name})},function(a){f.debug("insert in class objectstore failed1 , error = "+a)})},e.getClassDetails(),e.deleteQuestion=function(a){var b=e.questionList.indexOf(a);b>-1&&e.questionList.splice(b,1),e.setExamArrayModal.total_marks=e.questionList.reduce(function(a,b){return a+parseFloat(b.marks)},0)},e.updateQuestionDetail=function(a){if(void 0==e.getQuestionDetailsModal.subject_id||""==e.getQuestionDetailsModal.subject_id)return d.Error("Please select subject"),!1;if(0==e.selectedClassIds.length)return d.Error("Please select atleast one class for which this question is suitable"),!1;if(console.log(a),e.getQuestionDetailsModal={question:a.question,subject_id:e.getQuestionDetailsModal.subject_id,subject_name:e.getQuestionDetailsModal.subject_name,level:a.level,answer:a.answer,options:a.options,type:a.type,customer_id:e.getQuestionDetailsModal.customer_id?e.getQuestionDetailsModal.customer_id:a.customer_id,grades:a.grades?e.getQuestionDetailsModal.grades:"",marks:a.marks,solution:a.solution?e.getQuestionDetailsModal.solution:"",photos:a.photos,localPhotos:[]},"_id"in a&&(e.getQuestionDetailsModal._id=a._id),"key"in a)e.getQuestionDetailsModal.key=a.key;else{var b=e.questionList.indexOf(a);e.getQuestionDetailsModal.key=b+1}e.answer=e.getQuestionDetailsModal.answer[0],e.showQuestionModalBox=!0},e.setOptionAnswerValue=function(a,b){for(var c=0;c<e.getQuestionDetailsModal.options.length;c++)e.getQuestionDetailsModal.options[c].id==a&&(e.getQuestionDetailsModal.options[c].answer=b)},e.setAnswerValue=function(a){e.getQuestionDetailsModal.answer=[],a?"MULTI-SELECT"==e.getQuestionDetailsModal.type?e.getQuestionDetailsModal.answer.push(a):e.getQuestionDetailsModal.answer.push(a.toString()):e.getQuestionDetailsModal.answer=[]}}]),app.controller("setUpdateExamController",["$rootScope","$routeParams","$location","HandShakeService","FlashService","examServices","teacherServices","$scope","$log","UtilService","HttpService","$indexedDB","$sessionStorage","$timeout","$firebaseAuth","Auth",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){function q(){h.showQuestionModalBox=!1,h.getQuestionDetailsModal.question="",h.getQuestionDetailsModal.marks=0,h.getQuestionDetailsModal.level="EASY",h.getQuestionDetailsModal.answer=[],h.getQuestionDetailsModal.options=[],h.getQuestionDetailsModal.type="",h.getQuestionDetailsModal.solution="",h.getQuestionDetailsModal.key=0,h.getQuestionDetailsModal.photos=[],h.getQuestionDetailsModal.localPhotos=[],h.answer=""}function r(b){var c=JSON.parse(JSON.stringify(b));if(c.marks=parseFloat(c.marks),"NUMBER"!=c.type){for(var d=[],e=0;e<c.options.length;e++)""!=c.options[e].answer&&d.push(c.options[e]);c.options=d}"MULTI-SELECT"==c.type&&(c.answer=c.answer[0]),c.grades=h.selectedClassIds.map(function(a){return a._id}),c.id=c._id,console.log(c),f.updateQuestion(c,function(b){console.log(b),1==b.success?(console.log(b),h.setExamArrayModal.total_marks=h.questionList.reduce(function(a,b){return a+parseFloat(b.marks)},0),t(),a.mypageloading=!1):(console.log("something went wrong in update question request"),a.mypageloading=!1)})}function s(b){var c=JSON.parse(JSON.stringify(b));if(c.marks=parseFloat(c.marks),"NUMBER"!=c.type){for(var d=[],e=0;e<c.options.length;e++)""!=c.options[e].answer&&d.push(c.options[e]);c.options=d}"MULTI-SELECT"==c.type&&(c.answer=c.answer[0]),c.grades=h.selectedClassIds.map(function(a){return a._id}),console.log(c),f.addQuestion(c,function(c){if(console.log(c),1==c.success){var d=c.data.data[0]._id;h.questionList.push(b);var e=h.questionList.indexOf(b);h.questionList[e]._id=d,h.setExamArrayModal.total_marks=h.questionList.reduce(function(a,b){return a+parseFloat(b.marks)},0),console.log(h.questionList[e]),t(),a.mypageloading=!1}else console.log("something went wrong in add question request"),a.mypageloading=!1})}function t(){h.setExamArrayModal.classes=[],h.questionList&&h.questionList.length>0&&(h.setExamArrayModal.classes=h.selectedClassIds.map(function(a){return a._id})),h.setExamArrayModal.start_time&&(h.setExamArrayModal.start_time=h.setExamArrayModal.start_time.getTime()),localStorage.setItem("currentExamDetail",JSON.stringify(h.setExamArrayModal)),localStorage.setItem("currentExamQuestionDetail",JSON.stringify(h.questionList)),localStorage.setItem("currentExamChapterDetail",JSON.stringify(h.examChapterModel)),h.setExamArrayModal.start_time&&(h.setExamArrayModal.start_time=h.setExamArrayModal.start_time?new Date(h.setExamArrayModal.start_time):0),q()}function u(){if(localStorage.getItem("currentExamDetail")&&(h.setExamArrayModal=JSON.parse(localStorage.getItem("currentExamDetail")),h.setExamArrayModal.start_time&&(h.setExamArrayModal.start_time=h.setExamArrayModal.start_time?new Date(h.setExamArrayModal.start_time):0),h.setExamArrayModal.classes&&h.setExamArrayModal.classes.length>0))for(var b=0;b<h.setExamArrayModal.classes.length;b++)h.selectedClassIds.push({_id:h.setExamArrayModal.classes[b]});localStorage.getItem("currentExamQuestionDetail")&&(h.questionList=JSON.parse(localStorage.getItem("currentExamQuestionDetail")),h.getQuestionDetailsModal.subject_name=h.questionList[0].subject_name,h.getQuestionDetailsModal.subject_id=h.questionList[0].subject_id),localStorage.getItem("currentExamChapterDetail")&&(h.examChapterModel=JSON.parse(localStorage.getItem("currentExamChapterDetail"))),a.mypageloading=!1}j.setSidebar(),h.PrintDivContent=j.PrintDivContent,h.currentUserDetail=JSON.parse(localStorage.getItem("currentUserDetail")),e.Error(""),e.Success(""),a.mypageloading=!0,h.examId="";var v={};h.classList=[],h.classes=[],h.subjectList=[];var w={};h.examClassData={};var x={};h.currentExamdata={},h.examSetErrorMessage="",h.setExamArrayModal={exam_id:"",name:"",classes:[],is_scheduled:!0,instructions:"",total_time:0,total_marks:0,is_online:!0,start_time:"",questions:[],syllabus:"",start_time_buffer:0,end_time_buffer:10,chapter_id:[]},h.getQuestionDetailsModal={question:"",subject_id:"",subject_name:"",level:"",answer:[],options:[],type:"",customer_id:"",grades:"",marks:0,solution:"",photos:[],localPhotos:[]},h.answer="",h.hideExamAnswer=!1,h.selectedClassIds=[],h.questionList=[],h.uploadProgress={},h.showSetExamPreviewModal=!1,h.setExamQuestionsModal=!1,h.ifDirectGoToExamPreview=!1,h.showQuestionModalBox=!1,h.example14settings={scrollableHeight:"300px",scrollable:!0,enableSearch:!0,showCheckAll:!0,showUncheckAll:!0},h.example14settings={scrollableHeight:"300px",smartButtonMaxItems:5,enableSearch:!0,scrollable:!0,smartButtonTextConverter:function(a,b){return a}},h.example15settings={scrollableHeight:"300px",scrollable:!0,enableSearch:!0,showCheckAll:!0,showUncheckAll:!0},h.example15settings={scrollableHeight:"300px",smartButtonMaxItems:5,enableSearch:!0,scrollable:!0,displayProp:"chapter_name",smartButtonTextConverter:function(a,b){return a}},h.classSubjectObj={},h.classSubjectChapterList=[],h.examChapters=[],h.chapterHashObj={},h.examChapterModel={is_exam_chapter_assign:!1,class_id:"",subject_id:"",newExamChapterList:[]},h.isPrint=!1,h.$watch("setExamArrayModal.is_scheduled",function(){0==h.setExamArrayModal.is_scheduled?(h.setExamArrayModal.start_time_buffer=0,h.setExamArrayModal.end_time_buffer=0,h.setExamArrayModal.start_time="",h.setExamArrayModal.total_time=0):h.setExamArrayModal.end_time_buffer=10}),h.$watch("examChapterModel.is_exam_chapter_assign",function(){0==h.examChapterModel.is_exam_chapter_assign&&(h.examChapterModel.class_id="",h.examChapterModel.subject_id="",h.examChapterModel.newExamChapterList=[],h.classSubjectChapterList=[],h.examChapters=[])}),h.$watch("setExamArrayModal.name",function(a,b,c){a!=b&&(h.examSetErrorMessage="")},!0),h.getClasses=function(){if("TEACHER"==h.currentUserDetail.type){var a=JSON.parse(localStorage.getItem("classData"));angular.forEach(a,function(a,b){h.classList.push(a)}),h.classes=h.classList,angular.forEach(h.classList,function(a){v[a._id]=a,h.examClassData[a._id]=a.name})}else d.getGradeInfo().then(function(a){i.debug("HandShakeService getRouteInfo received"),h.classList=a,h.classes=a,angular.forEach(h.classList,function(a){v[a._id]=a,h.examClassData[a._id]=a.name})})},h.getSubjectList=function(){var a=[];if("TEACHER"==h.currentUserDetail.type){var b=JSON.parse(localStorage.getItem("subjectData"));angular.forEach(b,function(a,b){h.subjectList.push(a),w[a._id]=a;var c=a.class_id;if(c in h.classSubjectObj){var d=h.classSubjectObj[c];d.push({class_id:a.classes_id,subject_name:a.name,subject_id:a._id}),h.classSubjectObj[c]=d}else h.classSubjectObj[c]=[{class_id:a.classes_id,subject_name:a.name,subject_id:a._id}]})}else f.getSubjectList(function(b){h.subjectList=b.data,angular.forEach(h.subjectList,function(b){w[b._id]=b,b&&b.classes&&angular.forEach(b.classes,function(c){c&&a.push({class_id:c,subject_name:b.name,subject_id:b._id})})}),h.classSubjectObj=a.reduce(function(a,b){return a[b.class_id]=a[b.class_id]||[],a[b.class_id].push(b),a},Object.create(null))})},h.getTeacherList=function(){a.mypageloading=!0,g.getTeacherList(function(a){if(1==a.success&&a.data&&a.data.length>0)for(var b=a.data,c=0;c<b.length;c++)x[b[c].teacher_id]=b[c].name})},h.getClasses(),h.getSubjectList(),h.currentUserDetail&&h.currentUserDetail.type&&"ADMIN"==h.currentUserDetail.type&&h.getTeacherList(),h.resetExamChapterData=function(){h.examChapterModel.class_id="",h.examChapterModel.subject_id="",h.classSubjectChapterList=[],h.examChapters=[],console.log(h.examChapterModel)},h.addNewExamChapterModel=function(){function a(a){return h.examChapterModel.newExamChapterList.some(function(b){return a._id===b._id})}for(var b=0;b<h.examChapters.length;b++){var c={_id:h.examChapters[b]._id,chapter_name:h.chapterHashObj[h.examChapters[b]._id]},d=a(c);d||h.examChapterModel.newExamChapterList.push(c)}h.resetExamChapterData()},h.removeNewExamChapterModel=function(a){if(a){var b=h.examChapterModel.newExamChapterList.indexOf(a);b>-1&&h.examChapterModel.newExamChapterList.splice(b,1)}},h.getChapterListByClassAndSubject=function(){if(h.examChapterModel.class_id&&h.examChapterModel.subject_id){a.mypageloading=!0;var b=k.HttpGetData(a.serverURL+"/education/chapter/list?class_id="+h.examChapterModel.class_id+"&subject_id="+h.examChapterModel.subject_id);b.then(function(b){1==b.success&&b.data?(h.classSubjectChapterList=b.data.chapterList,angular.forEach(h.classSubjectChapterList,function(a){h.chapterHashObj[a._id]=a.chapter_name}),a.mypageloading=!1):(a.mypageloading=!1,console.log(b))})}},h.getExamPreviewFunction=function(b){e.Error(""),e.Success(""),h.examChapterModel={is_exam_chapter_assign:!1,class_id:"",subject_id:"",newExamChapterList:[]},h.classSubjectChapterList=[],h.examChapters=[],a.mypageloading=!0,f.getExamDetail(b,function(b){if(1==b.success&&b.data.exam){console.log(b.data.exam);var c=b.data.exam;h.currentExamdata=b.data.exam,h.setExamArrayModal={exam_id:c._id,name:c.name,instructions:c.instructions?c.instructions:"NA",total_time:c.total_time?c.total_time:0,total_marks:c.total_marks?c.total_marks:0,classes:c.classes?c.classes:[],is_online:!c.is_online||c.is_online,start_time:c.start_time?new Date(c.start_time):"",questions:c.questions,syllabus:null!=c.syllabus?c.syllabus:"NA",start_time_buffer:c.start_time_buffer?c.start_time_buffer:0,end_time_buffer:c.end_time_buffer?c.end_time_buffer:10,created_at:c.time?c.time:"",updated_at:c.updated_at?c.updated_at:""},"chapters"in c&&(h.examChapterModel.is_exam_chapter_assign=!0,h.examChapterModel.newExamChapterList=c.chapters),0==c.is_scheduled?h.setExamArrayModal.is_scheduled=!1:h.setExamArrayModal.is_scheduled=!0,0==h.setExamArrayModal.is_scheduled&&(h.setExamArrayModal.end_time_buffer=0),"TEACHER"==c.created_by&&c.created_by_id&&(h.setExamArrayModal.exam_created_name=x[c.created_by_id]);for(var d=0;d<c.questions.length;d++)"MULTI-SELECT"==c.questions[d].type&&(c.questions[d].answer=[c.questions[d].answer]),c.questions[d].customer_id=c.customer_id;h.questionList=c.questions,h.setExamQuestionsModal=!0,h.showSetExamPreviewModal=!0,h.ifDirectGoToExamPreview=!0,a.mypageloading=!1}else e.Error(""),a.mypageloading=!1})},h.updateSetExamFunction=function(b){e.Error(""),e.Success(""),a.mypageloading=!0,h.examChapterModel={is_exam_chapter_assign:!1,class_id:"",subject_id:"",newExamChapterList:[]},h.classSubjectChapterList=[],h.examChapters=[],localStorage.getItem("currentExamDetail")&&localStorage.getItem("currentExamQuestionDetail")?(h.currentExamdata=JSON.parse(localStorage.getItem("currentExamDetail")),u(),h.setExamQuestionsModal=!0,h.showSetExamPreviewModal=!1):f.getExamDetail(b,function(b){if(1==b.success&&b.data.exam){console.log(b.data.exam);var c=b.data.exam;h.currentExamdata=b.data.exam,h.setExamArrayModal={exam_id:c._id,name:c.name,instructions:c.instructions?c.instructions:"NA",total_time:c.total_time?c.total_time:0,total_marks:c.total_marks?c.total_marks:0,classes:c.classes?c.classes:[],is_online:!c.is_online||c.is_online,start_time:c.start_time?new Date(c.start_time):"",questions:c.questions,syllabus:null!=c.syllabus?c.syllabus:"NA",start_time_buffer:c.start_time_buffer?c.start_time_buffer:0,end_time_buffer:c.end_time_buffer?c.end_time_buffer:10,created_at:c.time?c.time:"",updated_at:c.updated_at?c.updated_at:""},"chapters"in c&&(h.examChapterModel.is_exam_chapter_assign=!0,h.examChapterModel.newExamChapterList=c.chapters),0==c.is_scheduled?h.setExamArrayModal.is_scheduled=!1:h.setExamArrayModal.is_scheduled=!0,h.selectedClassIds=[],0==h.setExamArrayModal.is_scheduled&&(h.setExamArrayModal.end_time_buffer=0),"TEACHER"==c.created_by&&c.created_by_id&&(h.setExamArrayModal.exam_created_name=x[c.created_by_id]);for(var d=0;d<c.questions.length;d++)"MULTI-SELECT"==c.questions[d].type&&(c.questions[d].answer=[c.questions[d].answer]),c.questions[d].customer_id=c.customer_id;if(c.classes&&c.classes.length>0)for(var d=0;d<c.classes.length;d++)h.selectedClassIds.push({_id:c.classes[d]});h.questionList=c.questions,h.questionList&&h.questionList.length>0&&("subject_name"in h.questionList[0]||"subject_id"in h.questionList[0])&&(h.getQuestionDetailsModal.subject_name=h.questionList[0].subject_name,h.getQuestionDetailsModal.subject_id=h.questionList[0].subject_id),h.setExamQuestionsModal=!0,h.showSetExamPreviewModal=!1,a.mypageloading=!1}else e.Error(""),a.mypageloading=!1})},h.hideSetExamTab=function(){c.path("/exam")};var y=0;if(h.questionModalPhotoChange=function(a){y++;var b=new FileReader;b.onload=function(b){h.getQuestionDetailsModal.localPhotos.push({file:a,fileName:a.name,basePath:"question",fileKey:"dkQuestionPhoto"+y,imagePreview:b.target.result}),h.$apply()},b.readAsDataURL(a)},h.deletePhoto=function(a,b){"local"===a?h.getQuestionDetailsModal.localPhotos.splice(b,1):h.getQuestionDetailsModal.photos.splice(b,1)},h.showQuestionsModal=function(){return e.Error(""),e.Success(""),void 0==h.getQuestionDetailsModal.subject_id||""==h.getQuestionDetailsModal.subject_id?(e.Error("Please select subject"),!1):0==h.selectedClassIds.length?(e.Error("Please select atleast one class for which this question is suitable"),!1):(h.getQuestionDetailsModal.question="",h.getQuestionDetailsModal.customer_id=h.getQuestionDetailsModal.customer_id?h.getQuestionDetailsModal.customer_id:"",h.getQuestionDetailsModal.grades=h.selectedClassIds.map(function(a){return a._id})?h.getQuestionDetailsModal.grades:"",h.getQuestionDetailsModal.subject_id=h.getQuestionDetailsModal.subject_id?h.getQuestionDetailsModal.subject_id:"",h.getQuestionDetailsModal.subject_name=h.getQuestionDetailsModal.subject_name?h.getQuestionDetailsModal.subject_name:"",h.getQuestionDetailsModal.marks="",h.getQuestionDetailsModal.level="EASY",h.getQuestionDetailsModal.answer=[],h.getQuestionDetailsModal.options=[],h.getQuestionDetailsModal.type="",h.getQuestionDetailsModal.solution="",h.getQuestionDetailsModal.photos=[],h.getQuestionDetailsModal.localPhotos=[],h.getQuestionDetailsModal.key=0,h.answer="",h.showQuestionModalBox=!0,void(h.uploadProgress={}))},h.getQuestionTypeChange=function(a){h.getQuestionDetailsModal.type=a,"SINGLE-SELECT"==a||"MULTI-SELECT"==a?h.getQuestionDetailsModal.options=[{id:"A",answer:""},{id:"B",answer:""},{id:"C",answer:""},{id:"D",answer:""}]:h.getQuestionDetailsModal.options=[]},h.getSubjectChange=function(a){a?(h.getQuestionDetailsModal.subject_name=w[a].name,h.getQuestionDetailsModal.subject_id=w[a]._id,h.getQuestionDetailsModal.customer_id=w[a].customer_id):(h.getQuestionDetailsModal.subject_name="",h.getQuestionDetailsModal.subject_id="")},h.setOptionAnswerValue=function(a,b){for(var c=0;c<h.getQuestionDetailsModal.options.length;c++)h.getQuestionDetailsModal.options[c].id==a&&(h.getQuestionDetailsModal.options[c].answer=b)},h.setAnswerValue=function(a){h.getQuestionDetailsModal.answer=[],a?"MULTI-SELECT"==h.getQuestionDetailsModal.type?h.getQuestionDetailsModal.answer.push(a):h.getQuestionDetailsModal.answer.push(a.toString()):h.getQuestionDetailsModal.answer=[]},h.deleteQuestion=function(a){var b=h.questionList.indexOf(a);b>-1&&h.questionList.splice(b,1),h.setExamArrayModal.total_marks=h.questionList.reduce(function(a,b){return a+parseFloat(b.marks)},0),t()},h.updateQuestionDetail=function(a){if(void 0==h.getQuestionDetailsModal.subject_id||""==h.getQuestionDetailsModal.subject_id)return e.Error("Please select subject"),!1;if(0==h.selectedClassIds.length)return e.Error("Please select atleast one class for which this question is suitable"),!1;if(console.log(a),h.getQuestionDetailsModal={question:a.question,subject_id:h.getQuestionDetailsModal.subject_id,subject_name:h.getQuestionDetailsModal.subject_name,level:a.level,answer:a.answer,options:a.options,type:a.type,customer_id:h.getQuestionDetailsModal.customer_id?h.getQuestionDetailsModal.customer_id:a.customer_id,grades:a.grades?h.getQuestionDetailsModal.grades:"",marks:a.marks,solution:a.solution?h.getQuestionDetailsModal.solution:"",photos:a.photos,localPhotos:[]},"_id"in a&&(h.getQuestionDetailsModal._id=a._id),"key"in a)h.getQuestionDetailsModal.key=a.key;else{var b=h.questionList.indexOf(a);h.getQuestionDetailsModal.key=b+1}h.answer=h.getQuestionDetailsModal.answer[0],h.showQuestionModalBox=!0},h.addQuestions=function(){function b(){if(h.uploadProgress={},h.questionList&&h.questionList.length>0&&0!=h.getQuestionDetailsModal.key)for(var a=0;a<h.questionList.length;a++)"_id"in h.getQuestionDetailsModal&&h.questionList[a]._id==h.getQuestionDetailsModal._id&&(h.questionList[a].question=h.getQuestionDetailsModal.question,h.questionList[a].subject_id=h.getQuestionDetailsModal.subject_id,h.questionList[a].subject_name=h.getQuestionDetailsModal.subject_name,h.questionList[a].marks=h.getQuestionDetailsModal.marks,h.questionList[a].answer=h.getQuestionDetailsModal.answer,h.questionList[a].options=h.getQuestionDetailsModal.options,h.questionList[a].type=h.getQuestionDetailsModal.type,h.questionList[a].customer_id=h.getQuestionDetailsModal.customer_id,h.questionList[a].grades=h.getQuestionDetailsModal.grades,h.questionList[a].photos=h.getQuestionDetailsModal.photos,r(h.questionList[a]));else{var b={question:h.getQuestionDetailsModal.question,subject_id:h.getQuestionDetailsModal.subject_id?h.getQuestionDetailsModal.subject_id:"",subject_name:h.getQuestionDetailsModal.subject_name?h.getQuestionDetailsModal.subject_name:"",marks:h.getQuestionDetailsModal.marks?h.getQuestionDetailsModal.marks:0,level:h.getQuestionDetailsModal.level,answer:h.getQuestionDetailsModal.answer,options:h.getQuestionDetailsModal.options,type:h.getQuestionDetailsModal.type,customer_id:h.getQuestionDetailsModal.customer_id?h.getQuestionDetailsModal.customer_id:"",grades:h.selectedClassIds.map(function(a){return a._id})?h.getQuestionDetailsModal.grades:"",key:h.questionList.length+1,photos:h.getQuestionDetailsModal.photos},c=h.getQuestionDetailsModal.subject_id;b.subject_name=w[c].name,b.customer_id=w[c].customer_id,s(b),console.log(b)}}if(e.Error(""),e.Success(""),void 0==h.getQuestionDetailsModal.question||""==h.getQuestionDetailsModal.question)return e.Error("Please enter question"),!1;if(void 0==h.getQuestionDetailsModal.level||""==h.getQuestionDetailsModal.level)return e.Error("Please set level"),!1;if(void 0==h.getQuestionDetailsModal.type||""==h.getQuestionDetailsModal.type)return e.Error("Please set type"),!1;if(void 0==h.getQuestionDetailsModal.marks||0==h.getQuestionDetailsModal.marks||""==h.getQuestionDetailsModal.marks)return e.Error("Please enter marks"),!1;if(0==h.getQuestionDetailsModal.answer.length)return e.Error("Please select answer"),!1;if("MULTI-SELECT"==h.getQuestionDetailsModal.type&&0==h.getQuestionDetailsModal.answer[0].length)return e.Error("Please select answer"),!1;if("SINGLE-SELECT"==h.getQuestionDetailsModal.type||"MULTI-SELECT"==h.getQuestionDetailsModal.type)for(var c=0;c<h.getQuestionDetailsModal.options.length;c++){if("SINGLE-SELECT"==h.getQuestionDetailsModal.type&&(""==h.getQuestionDetailsModal.options[c].answer||void 0==h.getQuestionDetailsModal.options[c].answer)&&1==h.getQuestionDetailsModal.answer.includes(h.getQuestionDetailsModal.options[c].id))return e.Error("Please choose valid answer"),!1;if("MULTI-SELECT"==h.getQuestionDetailsModal.type&&(""==h.getQuestionDetailsModal.options[c].answer||void 0==h.getQuestionDetailsModal.options[c].answer)&&1==h.getQuestionDetailsModal.answer[0].includes(h.getQuestionDetailsModal.options[c].id)){var d=h.getQuestionDetailsModal.answer[0].indexOf(h.getQuestionDetailsModal.options[c].id);d>-1&&h.getQuestionDetailsModal.answer[0].splice(d,1)}}h.getQuestionDetailsModal&&h.getQuestionDetailsModal.localPhotos&&h.getQuestionDetailsModal.localPhotos.length?(a.mypageloading=!0,j.uploadFilesToAmazonS3(h.getQuestionDetailsModal.localPhotos).then(function(a){!!a&&a.data&&(angular.forEach(Object.keys(a.data),function(b,c){h.getQuestionDetailsModal.photos.push(a.data[b].uploadUrl)}),h.getQuestionDetailsModal.localPhotos=[],b())},function(b){i.error(b),a.mypageloading=!1},function(b){a.mypageloading=!0,h.uploadProgress=b})):b()},h.cancelShowPreviewBeforeSetExamFunction=function(){e.Error(""),e.Success(""),h.showSetExamPreviewModal=!1},h.showPreviewBeforeSetExamFunction=function(){if(e.Error(""),e.Success(""),h.questionList&&h.questionList.length>0&&(h.setExamArrayModal.classes=h.selectedClassIds.map(function(a){return a._id})),0==h.questionList.length||h.questionList.length<0)return e.Error("Please select question."),!1;if(void 0==h.setExamArrayModal.name||""==h.setExamArrayModal.name)return e.Error("Please enter exam name."),!1;if(1==h.setExamArrayModal.is_scheduled){if(void 0==h.setExamArrayModal.start_time||h.setExamArrayModal.start_time<=0||""==h.setExamArrayModal.start_time)return e.Error("Please check start time."),!1;if(void 0==h.setExamArrayModal.total_time||h.setExamArrayModal.total_time<=0||""==h.setExamArrayModal.total_time)return e.Error("Please check total time."),!1;if(void 0==h.setExamArrayModal.start_time_buffer||h.setExamArrayModal.start_time_buffer<=0||""==h.setExamArrayModal.start_time)return e.Error("Please check allow late time."),!1}return 0==h.setExamArrayModal.total_marks||h.setExamArrayModal.total_marks<0?(e.Error("Please check total marks."),!1):void 0==h.questionList[0].subject_id||""==h.questionList[0].subject_id?(e.Error("Please select subject"),!1):0==h.selectedClassIds.length?(e.Error("Please select atleast one class for which this question is suitable"),!1):void(h.showSetExamPreviewModal=!0)},h.setOrUpdateExam=function(){h.examSetErrorMessage="",e.Error(""),e.Success("");var b={exam_id:h.setExamArrayModal.exam_id,name:h.setExamArrayModal.name,is_scheduled:h.setExamArrayModal.is_scheduled,instructions:h.setExamArrayModal.instructions,total_marks:h.setExamArrayModal.total_marks,classes:h.setExamArrayModal.classes,is_online:h.setExamArrayModal.is_online,questions:[],syllabus:h.setExamArrayModal.syllabus,chapter_id:[]};if(1==h.setExamArrayModal.is_scheduled&&(b.total_time=h.setExamArrayModal.total_time,b.start_time=h.setExamArrayModal.start_time.getTime(),b.start_time_buffer=h.setExamArrayModal.start_time_buffer,b.end_time_buffer=h.setExamArrayModal.end_time_buffer),h.examChapterModel.is_exam_chapter_assign&&h.examChapterModel.newExamChapterList&&h.examChapterModel.newExamChapterList.length>0)for(var d=0;d<h.examChapterModel.newExamChapterList.length;d++)b.chapter_id.push(h.examChapterModel.newExamChapterList[d]._id);a.mypageloading=!0,h.questionList.forEach(function(a){delete a.key}),questionIdList=[];for(var d=0;d<h.questionList.length;d++)questionIdList.push({_id:h.questionList[d]._id,marks:parseFloat(h.questionList[d].marks)});b.questions=questionIdList,b.total_question=questionIdList.length,console.log(b),b.exam_id?f.updateExamDetails(b,function(b){console.log(b),1==b.success?(h.showSetExamPreviewModal=!1,h.setExamQuestionsModal=!1,a.mypageloading=!1,localStorage.removeItem("currentExamDetail"),localStorage.removeItem("currentExamQuestionDetail"),localStorage.removeItem("currentExamChapterDetail"),e.Success("Exam updated successfully"),c.path("/exam")):(console.log(result),h.examSetErrorMessage=result.data.message,console.log("something went wrong in updated exam paper"),h.cancelShowPreviewBeforeSetExamFunction())}):f.addExamDetails(b,function(b){console.log(b),1==b.success?(h.showSetExamPreviewModal=!1,h.setExamQuestionsModal=!1,a.mypageloading=!1,e.Success("Exam added successfully"),localStorage.removeItem("currentExamDetail"),localStorage.removeItem("currentExamQuestionDetail"),localStorage.removeItem("currentExamChapterDetail"),c.path("/exam")):(console.log(result),h.examSetErrorMessage=result.data.message,console.log("something went wrong in set exam paper"),h.cancelShowPreviewBeforeSetExamFunction())})},h.printContent=function(a){var b=document.getElementById(a).innerHTML,c=window.open("","_blank","width=400,height=300,size: landscape");c.document.open(),c.document.write('<html><head><link href="common/CSS/zuwagon.css" rel="stylesheet" /> <link href="../../assets/css/bootstrap.css" rel="stylesheet"></head><body onload="window.print()">'+b+"</body></html>"),c.document.close(),h.isPrint=!1,h.hideExamAnswer=!1},h.examPreviewExport=function(a){h.hideExamAnswer=a,h.isPrint=!0,h.isPrint&&n(function(){h.printContent("examPreview")},1e3)},b.ExamID)h.currentExamID=b.ExamID.toString(),h.showSetExamPreviewModal=!1,h.updateSetExamFunction(h.currentExamID);else if(b.PreviewExamID){var z=b.PreviewExamID.toString();h.setExamQuestionsModal=!1,h.getExamPreviewFunction(z)}else window.location.href.includes("/exam/set")?(h.showSetExamPreviewModal=!1,h.setExamQuestionsModal=!0,u()):u()}]),app.controller("questionsController",["$rootScope","$scope","FlashService","$q","$indexedDB","mapService","constantService","HttpService","UtilService","HandShakeService","$sessionStorage","$timeout","$log","$routeParams",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){a.showBackStrech=!1,i.setSidebar(),b.example14settings={scrollableHeight:"200px",scrollable:!0,enableSearch:!0},a.mypageloading=!1,b.showQuestionModalBox=!1,b.questionList=[],b.classDetails=[],b.studentList=[],b.existingResultList=[],b.classes=[],b.selectedClassIds=[];var o={},p={},q={};b.answer="",b.selectedAnswers=[],b.getQuestionDetailsModal={question:"",subject_id:"",subject_name:"",level:"",answer:[],options:[],type:"",customer_id:"",grades:"",marks:0,solution:""},c.Error(""),c.Success(""),b.showQuestionsModal=function(){c.Error(""),c.Success(""),b.selectedClassIds=[],b.getQuestionDetailsModal={question:"",subject_id:"",subject_name:"",level:"",answer:[],options:[],type:"",customer_id:"",grades:"",marks:0,solution:""},b.showQuestionModalBox=!0},b.getSubjectChange=function(a){b.getQuestionDetailsModal.subject_name=q[a].name,b.getQuestionDetailsModal.subject_id=q[a]._id,b.getQuestionDetailsModal.customer_id=q[a].customer_id},b.getClassChange=function(a){b.getQuestionDetailsModal.grade_name=p[a].name},b.getQuestionTypeChange=function(a){b.getQuestionDetailsModal.type=a,"SINGLE-SELECT"==a||"MULTI-SELECT"==a?b.getQuestionDetailsModal.options=[{id:"A",answer:""},{id:"B",answer:""},{id:"C",answer:""},{id:"D",answer:""}]:b.getQuestionDetailsModal.options=[]},b.getQuestionLevelChange=function(a){b.getQuestionDetailsModal.level=a},b.getQuestions=function(){a.mypageloading=!0;var c=h.HttpGetData(a.serverURL+"/customer/question/list");c.then(function(c){1==c.success?(b.questionList=c.data.data.question,console.log(b.getQuestions),a.mypageloading=!1):console.log("something went wrong in sms reports")})},b.addQuestions=function(){if(c.Error(""),c.Success(""),b.getQuestionDetailsModal.answer=[],"MULTI-SELECT"==b.getQuestionDetailsModal.type||b.getQuestionDetailsModal.answer.push(b.answer.toString()),void 0==b.getQuestionDetailsModal.question||""==b.getQuestionDetailsModal.question)return c.Error("Please enter question"),
!1;if(void 0==b.getQuestionDetailsModal.level||""==b.getQuestionDetailsModal.level)return c.Error("Please set level"),!1;if(void 0==b.getQuestionDetailsModal.type||""==b.getQuestionDetailsModal.type)return c.Error("Please set type"),!1;if(0==b.selectedClassIds.length)return c.Error("Please select atleast one class for which this question is suitable"),!1;if(void 0==b.getQuestionDetailsModal.subject_id||""==b.getQuestionDetailsModal.subject_id)return c.Error("Please select subject"),!1;if(0==b.getQuestionDetailsModal.answer.length)return c.Error("Please select answer"),!1;var d={question:b.getQuestionDetailsModal.question,subject_id:b.getQuestionDetailsModal.subject_id?b.getQuestionDetailsModal.subject_id:"",subject_name:b.getQuestionDetailsModal.subject_name?b.getQuestionDetailsModal.subject_name:"",marks:b.getQuestionDetailsModal.marks?b.getQuestionDetailsModal.marks:0,level:b.getQuestionDetailsModal.level,answer:b.getQuestionDetailsModal.answer,options:b.getQuestionDetailsModal.options,type:b.getQuestionDetailsModal.type,customer_id:b.getQuestionDetailsModal.customer_id,grades:b.selectedClassIds.map(function(a){return a._id})};console.log(d),a.mypageloading=!0;var e=h.HttpPostData(a.serverURL+"/customer/question/add",d);e.then(function(c){1==c.success?(console.log(c),b.getQuestions(),b.showQuestionModalBox=!1,a.mypageloading=!1):console.log("something went wrong in add question request")})},b.getResult=function(){var c=h.HttpGetData(a.serverURL+"/customer/subject");c.then(function(a){b.existingResultList=a.data,angular.forEach(b.existingResultList,function(a){q[a._id]=a}),console.log(a.data),b.getQuestions()})},b.getStudentsDetails=function(){j.getAllStudentInfo().then(function(a){m.debug("HandShakeService existingStudentList received"),b.studentList=a,angular.forEach(a,function(a){o[a._id]=a}),b.getResult()})},b.getClassDetails=function(){a.mypageloading=!0,j.getGradeInfo().then(function(a){b.classDetails=a,b.classes=a,angular.forEach(a,function(a){p[a._id]=a}),b.getStudentsDetails()},function(a){m.debug("insert in class objectstore failed1 , error = "+a)})},b.getClassDetails(),b.export=function(){b.getSmsReportsData.length&&kendo.drawing.drawDOM($("#exportthis")).then(function(a){kendo.drawing.pdf.saveAs(a,"SmsReports-"+b.onDate+".pdf")})}}]),app.controller("subjectController",["$rootScope","$location","HandShakeService","busService","UtilService","FlashService","$scope","HttpService","$sessionStorage","$indexedDB","$log",function(a,b,c,d,e,f,g,h,i,j,k){e.setSidebar(),g.noStopWarning=!1,g.EditSubjectName="",g.modelType="Add",g.classSelect="",g.classHash=[],g.viewClasses=!1,g.showDataFromName="",g.showDataFrom=[],g.subjectImage={file:null,fileName:"",basePath:"subject",fileKey:"subjectImage"},g.selectedClassId=[],g.classes=[],k.debug("routeController reporting for duty."),a.showBackStrech=!1,g.newRouteList=[];a.mypageloading=!1,g.busList=d.busList,g.existingResultList=[],g.classList=[],g.classNameList=[],g.subjectImageChange=function(a){g.subjectImage.file=a,g.subjectImage.fileName=a.name;var b=new FileReader;b.onload=function(a){g.subjectImage.imagePreview=a.target.result,g.newSubjectList.image="",g.$apply()},b.readAsDataURL(a)},g.deleteSubjectImage=function(a){"local"==a?(g.subjectImage.file=null,g.subjectImage.fileName="",g.subjectImage.imagePreview=""):g.newSubjectList.image=""},g.getClasses=function(){c.getGradeInfo().then(function(a){k.debug("HandShakeService getRouteInfo received"),g.classList=a,g.classes=a,g.getResult()})},g.getClasses(),k.debug("HandShakeService.existingRouteList passed"),g.getResult=function(){var b=h.HttpGetData(a.serverURL+"/customer/subject");b.then(function(a){g.existingResultList=a.data;for(var b=0;b<=g.existingResultList.length-1;b++){g.classNameList=[];for(var c=0;c<=g.existingResultList[b].classes.length-1;c++)for(var d=0;d<=g.classList.length-1;d++)g.existingResultList[b].classes[c]==g.classList[d]._id&&g.classNameList.push(g.classList[d].name);g.existingResultList[b].classname=g.classNameList.toString(),g.existingResultList[b].ClassNameArray=g.classNameList}})},g.addNewClass=function(){g.modelType="Add",g.modelTitle="Add New Subject",g.selectedClassId=[],g.showAddNewRouteModal=!g.showAddNewRouteModal,g.newSubjectList={name:"",classes:[]},g.subjectImage={file:null,fileName:"",basePath:"subject",fileKey:"subjectImage"},f.Error("")};var l=this;g.saveSubject=function(){function b(){var b=[],c=[];angular.forEach(g.selectedClassId,function(a){b.push(g.classHash[a._id]),c.push(a._id)}),l.to=b.toString(),l.from=angular.fromJson(i.profileInfo).name,l.class_list=c,g.newSubjectList.classes=c,k.debug(" $scope.newSubjectList.length"+g.newSubjectList.length),a.mypageloading=!0;var d=h.HttpPostData(a.serverURL+"/customer/subject",g.newSubjectList);d.then(function(b){b.success?(f.Error(b.data.message),k.debug("upserted successfully in routeStore e= "),a.mypageloading=!1,""==b.data.result||(g.showAddNewRouteModal=!1,a.global.routewarning=!0,g.existingResultList=g.existingResultList.concat(b.data),g.getResult())):f.Error(b.data)})}return f.Error(""),0==g.selectedClassId.length?(f.Error("Please Select Class "),!1):void(!!g.subjectImage&&g.subjectImage.file?(a.mypageloading=!0,e.uploadFilesToAmazonS3([g.subjectImage]).then(function(a){!!a&&a.data&&(angular.forEach(Object.keys(a.data),function(b,c){g.newSubjectList.image=a.data[b].uploadUrl,g.subjectImage.file=null,g.subjectImage.fileName="",g.subjectImage.imagePreview=""}),b())},function(b){k.error(b),a.mypageloading=!1},function(b){a.mypageloading=!0,g.uploadProgress=b})):b())},g.editRoute=function(a,b){g.subjectImage={file:null,fileName:"",basePath:"subject",fileKey:"subjectImage"},g.selectedClassId=[];var c=[];angular.forEach(a.classes,function(a){c.push({_id:a})}),g.selectedClassId=c,g.modelType="Edit",g.EditSubjectName=a.name,g.EditSubjectId=a._id,g.newSubjectList={name:g.EditSubjectName,image:a.image,classes:[]},k.debug("edit route called"),g.showAddNewRouteModal=!g.showAddNewRouteModal,f.Error("")},g.deleteRoute=function(b,c){g.selectedClassId=[];var d=[];angular.forEach(b.classes,function(a){d.push({_id:a})}),g.selectedClassId=d,g.EditSubjectName=b.name,g.EditSubjectId=b._id,g.newSubjectList={name:g.EditSubjectName,classes:[g.selectedClassId]},a.mypageloading=!0;var e=h.HttpDeleteData(a.serverURL+"/customer/subject/"+g.EditSubjectId,g.newSubjectList);e.then(function(b){a.mypageloading=!1,1==b.success?(k.debug("deleted successfully "),g.getResult()):k.debug("deleted Unsuccessfully")})},g.cancel=function(){k.debug("cancel called"),g.showAddNewRouteModal=!1,f.Error("")},g.updateSubject=function(){function b(){g.newSubjectList.classes=[g.classSelect];var b=[],c=[];g.classHash=[],angular.forEach(g.selectedClassId,function(a){b.push(g.classHash[a._id]),c.push(a._id)}),l.to=b.toString(),l.from=angular.fromJson(i.profileInfo).name,l.class_list=c,g.newSubjectList.classes=c;var d=h.HttpUpdateData(a.serverURL+"/customer/subject/"+g.EditSubjectId,g.newSubjectList);a.mypageloading=!0,d.then(function(b){a.mypageloading=!1,g.classSelect="",1==b.success?(f.Error(b.data.message),g.subjectImage={},""==b.data.result||(g.showAddNewRouteModal=!1,g.getResult())):f.Error(b.data)})}return f.Error(""),0==g.selectedClassId.length?(f.Error("Please Select Class "),!1):void(!!g.subjectImage&&g.subjectImage.file?(a.mypageloading=!0,e.uploadFilesToAmazonS3([g.subjectImage]).then(function(a){!!a&&a.data&&(angular.forEach(Object.keys(a.data),function(b,c){g.newSubjectList.image=a.data[b].uploadUrl,g.subjectImage.file=null,g.subjectImage.fileName="",g.subjectImage.imagePreview=""}),b())},function(b){k.error(b),a.mypageloading=!1},function(b){a.mypageloading=!0,g.uploadProgress=b})):b())},g.selectedclass=function(a){g.classSelect=a},g.viewclassList=function(a){g.showDataFromName="",g.showDataFrom=[],g.showDataFromName=a.name,g.showDataFrom=a.ClassNameArray,g.viewClasses=!0},g.example14settings={scrollableHeight:"400px",scrollable:!0,enableSearch:!0},g.example14settings={smartButtonMaxItems:5,smartButtonTextConverter:function(a,b){return a}},g.export=function(){kendo.drawing.drawDOM($("#exportthis")).then(function(a){kendo.drawing.pdf.saveAs(a,"SubjectList.pdf")})}}]),app.controller("feesTypeController",["$rootScope","$location","HandShakeService","FlashService","$scope","$log","UtilService","HttpService","$indexedDB","$sessionStorage","$timeout","$firebaseAuth","Auth",function(a,b,c,d,e,f,g,h,i,j,k,l,m){g.setSidebar(),a.showBackStrech=!1,a.mypageloading=!0,e.Category=[],e.showAddCat=!1,e.showModel="Add",e.checkCatName="",e.AddCat={name:"",prefix:"",description:""},a.mypageloading=!1,e.cat=function(){a.mypageloading=!0;var b=h.HttpGetData(a.serverURL+"/customer/feecat");b.then(function(b){a.mypageloading=!1,b.success?(e.Category=b.data,angular.forEach(e.Category,function(a){a.Datestatus=g.checkDate(a)}),e.Category.sort(function(a,b){return new Date(b.time)-new Date(a.time)})):d.Error(b.message)})},e.cat(),e.save=function(){if(d.Error(""),""==e.AddCat.name)return d.Error("Please Enter Category Name"),!1;if(""==e.AddCat.prefix)return d.Error("Please Enter Prefix"),!1;a.mypageloading=!0;var b=h.HttpPostData(a.serverURL+"/customer/feecat",e.AddCat);b.then(function(b){a.mypageloading=!1,b.success?(d.Error(b.data.message),""==b.data.result||(d.Error(b.data.message),e.cat(),e.showAddCat=!1,e.AddCat.name="",e.AddCat.description="",e.AddCat.prefix="A")):(e.AddCat.name="",e.AddCat.description="",e.AddCat.prefix="A",d.Error(b.data.message))})},e.openAddCat=function(){d.Error(""),e.showModel="Add",e.AddCat={name:"",prefix:"A",description:""},e.showAddCat=!0},e.Update=function(){if(d.Error(""),""==e.AddCat.name)return d.Error("Please Enter Category Name"),!1;if(""==e.AddCat.prefix)return d.Error("Please Enter Prefix"),!1;e.AddCat.name==e.checkCatName||angular.forEach(e.Category,function(a){if(a.name==e.AddCat.name)return d.Error("Fees Category Name "+e.AddCat.name+" already exists"),!1}),a.mypageloading=!0;var b=h.HttpUpdateData(a.serverURL+"/customer/feecat/"+e.UpdateCatId,e.AddCat);b.then(function(b){a.mypageloading=!1,b.success?(d.Error(b.data.message),""==b.data.result||(d.Error(b.data.message),e.cat(),e.showAddCat=!1,e.AddCat.name="",e.AddCat.prefix="",e.AddCat.description="")):(e.AddCat.name="",e.AddCat.description="",e.AddCat.prefix="",e.showAddCat=!1,d.Error(b.message))})},e.UpdateCatId="",e.editAddCat=function(a){d.Error(""),e.checkCatName="",e.checkCatName=a.name,e.AddCat.name=a.name,e.AddCat.prefix=a.prefix,e.AddCat.description=a.description,e.UpdateCatId=a._id,e.showModel="Edit",e.showAddCat=!0},e.example14settings={scrollableHeight:"300px",scrollable:!0,enableSearch:!0,showCheckAll:!1,showUncheckAll:!1},e.export=function(){kendo.drawing.drawDOM($("#exportthis")).then(function(a){kendo.drawing.pdf.saveAs(a,"FeeCategory.pdf")})}}]),app.controller("feesSubCategoryController",["$rootScope","$interval","$location","HandShakeService","FlashService","$scope","$log","UtilService","HttpService","$indexedDB","$sessionStorage","$timeout","$firebaseAuth","Auth",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){h.setSidebar(),a.showBackStrech=!1,f.catSelect="",f.cashType="",f.Category=[],f.subCategory=[],f.subcatSelect="",f.showModel="",f.startDate="",f.dueDate="",f.endDate="",f.feeTypeInstallment=[],f.InstallmentTempArray=[],f.visibility=!1,f.Subcat=function(){a.mypageloading=!0;var b=i.HttpGetData(a.serverURL+"/customer/feesubcat/");b.then(function(b){a.mypageloading=!1,b.success?(f.subCategory=b.data,angular.forEach(f.subCategory,function(a){a.Datestatus=h.checkDate(a),a.catName="";for(var b=0;b<=f.Category.length-1;b++)a.feecatid==f.Category[b]._id&&(a.catName=f.Category[b].name)}),f.subCategory.sort(function(a,b){return new Date(b.time)-new Date(a.time)})):e.Error(b.message)})},f.cat=function(){if(0!=f.Category.length)return!1;a.mypageloading=!0;var b=i.HttpGetData(a.serverURL+"/customer/feecat");b.then(function(b){a.mypageloading=!1,b.success?(f.Category=b.data,f.Subcat()):e.Error(b.message)})},f.cat(),f.selectedCat=function(a){f.catSelect=a,f.subcatSelect="",f.Subcat()},f.SelectCat=function(a){f.AddSubCat.feecatid=a,f.feeTypeInstallment=[],f.AddSubCat={name:"",amount:"",feetype:"",feecatid:a,description:""}},f.save=function(){if(e.Error(""),""==f.AddSubCat.feecatid)return e.Error("Please Select Category"),!1;if(""==f.AddSubCat.name)return e.Error("Please Enter Sub Category Name"),!1;if(""==f.AddSubCat.amount)return e.Error("Please Enter Amount"),!1;if(""==f.AddSubCat.feetype)return e.Error("Please Select FeeType"),!1;if(0==f.feeTypeInstallment.length)return e.Error("Please Select FeeType"),f.AddSubCat.feetype="",!1;var b=0;f.InstallmentTempArray=[];var c=0;if(angular.forEach(f.feeTypeInstallment,function(a){return c++,b=a.amount+b,""==a.start?(e.Error("Installment "+c+" Start Date Should not blank"),!1):""==a.due?(e.Error("Installment "+c+" Due Date Should not blank"),!1):""==a.end?(e.Error("Installment "+c+" End Date Should not blank"),!1):new Date(a.start).getTime()>new Date(a.due).getTime()?(e.Error("Installment "+c+" start Date Should not greater then Due Date"),!1):new Date(a.start).getTime()>new Date(a.end).getTime()?(e.Error("Installment "+c+" start Date Should not greater then end Date"),!1):new Date(a.due).getTime()>new Date(a.end).getTime()?(e.Error("Installment "+c+" due Date Should not greater then end Date"),!1):void f.InstallmentTempArray.push({amount:a.amount,start:new Date(a.start).getTime(),due:new Date(a.due).getTime(),end:new Date(a.end).getTime()})}),""!=f.flash.message)return!1;if(b!=f.AddSubCat.amount)return e.Error("Please Fill correct Installment Amount"),!1;var d={name:f.AddSubCat.name,amount:f.AddSubCat.amount,feetype:f.AddSubCat.feetype,feecatid:f.AddSubCat.feecatid,description:f.AddSubCat.description,installments:f.InstallmentTempArray};a.mypageloading=!0;var g=i.HttpPostData(a.serverURL+"/customer/feesubcat",d);g.then(function(b){a.mypageloading=!1,b.success?(e.Error(b.data.message),""==b.data.result||(e.Error(b.data.message),f.Subcat(),f.showAddCat=!1)):e.Error(b.data.message)})},f.openAddSubCat=function(){e.Error(""),f.cat(),f.feeTypeInstallment=[],f.showModel="Add",f.AddSubCat={name:"",amount:"",feetype:"",feecatid:"",description:""},f.showAddCat=!0},f.viewSubCat=function(a){},f.addInstallment=function(a){f.feeTypeInstallment=[],e.Error("");var b=0;if(""==f.AddSubCat.amount)return e.Error("Please Enter Amount"),!1;if(f.AddSubCat.amount<=0)return e.Error("Please Enter Amount more then 0"),!1;"ANNUALLY"==a&&(b=1),"QUARTERLY"==a&&(b=4),"HALF-YEARLY"==a&&(b=2),"MONTHLY"==a&&(b=12),"ONE-TIME"==a&&(b=1);for(var c=f.AddSubCat.amount/b,d=c.toFixed(2),g=parseFloat(d),h=0;h<b;h++)f.feeTypeInstallment.push({amount:g,start:"",due:"",end:""})},f.remove=function(a){e.Error(""),f.feeTypeInstallment.splice(a,1),0==f.feeTypeInstallment.length&&(f.AddSubCat.feetype="");var b=0;b=f.AddSubCat.amount/f.feeTypeInstallment.length,angular.forEach(f.feeTypeInstallment,function(a){a.amount=b})},f.export=function(){kendo.drawing.drawDOM($("#exportthis")).then(function(a){kendo.drawing.pdf.saveAs(a,"FeeSubCategory.pdf")})},f.example14settings={scrollableHeight:"300px",scrollable:!0,enableSearch:!0,showCheckAll:!1,showUncheckAll:!1},f.Amountchange=function(){""==f.AddSubCat.feetype?(""!=f.AddSubCat.feetype,f.feeTypeInstallment=[]):f.addInstallment(f.AddSubCat.feetype),f.visibility=!1,e.Error("")},f.change=function(){f.visibility=!1,e.Error("")},f.setCalender=function(){f.visibility=!0},f.dateValidation=function(a,b){e.Error("")},f.dateValidation=function(a,b){}}]),app.controller("slotsController",["$rootScope","$interval","$location","HandShakeService","FlashService","$scope","$log","UtilService","HttpService","$indexedDB","$sessionStorage","$timeout","$firebaseAuth","Auth",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){function o(a,b,c){function d(a,b){var c=a+"";for(b=b||2;c.length<b;)c="0"+c;return c}var e=["\0","January","February","March","April","May","June","July","August","September","October","November","December"],f=["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],g=["","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],h=["","Sun","Mon","Tue","Wed","Thu","Fri","Sat"],i=c?a.getUTCFullYear():a.getFullYear();b=b.replace(/(^|[^\\])yyyy+/g,"$1"+i),b=b.replace(/(^|[^\\])yy/g,"$1"+i.toString().substr(2,2)),b=b.replace(/(^|[^\\])y/g,"$1"+i);var j=(c?a.getUTCMonth():a.getMonth())+1;b=b.replace(/(^|[^\\])MMMM+/g,"$1"+e[0]),b=b.replace(/(^|[^\\])MMM/g,"$1"+f[0]),b=b.replace(/(^|[^\\])MM/g,"$1"+d(j)),b=b.replace(/(^|[^\\])M/g,"$1"+j);var k=c?a.getUTCDate():a.getDate();b=b.replace(/(^|[^\\])dddd+/g,"$1"+g[0]),b=b.replace(/(^|[^\\])ddd/g,"$1"+h[0]),b=b.replace(/(^|[^\\])dd/g,"$1"+d(k)),b=b.replace(/(^|[^\\])d/g,"$1"+k);var l=c?a.getUTCHours():a.getHours();b=b.replace(/(^|[^\\])HH+/g,"$1"+d(l)),b=b.replace(/(^|[^\\])H/g,"$1"+l);var m=l>12?l-12:0==l?12:l;b=b.replace(/(^|[^\\])hh+/g,"$1"+d(m)),b=b.replace(/(^|[^\\])h/g,"$1"+m);var n=c?a.getUTCMinutes():a.getMinutes();b=b.replace(/(^|[^\\])mm+/g,"$1"+d(n)),b=b.replace(/(^|[^\\])m/g,"$1"+n);var o=c?a.getUTCSeconds():a.getSeconds();b=b.replace(/(^|[^\\])ss+/g,"$1"+d(o)),b=b.replace(/(^|[^\\])s/g,"$1"+o);var p=c?a.getUTCMilliseconds():a.getMilliseconds();b=b.replace(/(^|[^\\])fff+/g,"$1"+d(p,3)),p=Math.round(p/10),b=b.replace(/(^|[^\\])ff/g,"$1"+d(p)),p=Math.round(p/10),b=b.replace(/(^|[^\\])f/g,"$1"+p);var q=l<12?"AM":"PM";b=b.replace(/(^|[^\\])TT+/g,"$1"+q),b=b.replace(/(^|[^\\])T/g,"$1"+q.charAt(0));var r=q.toLowerCase();b=b.replace(/(^|[^\\])tt+/g,"$1"+r),b=b.replace(/(^|[^\\])t/g,"$1"+r.charAt(0));var s=-a.getTimezoneOffset(),t=c||!s?"Z":s>0?"+":"-";if(!c){s=Math.abs(s);var u=Math.floor(s/60),v=s%60;t+=d(u)+":"+d(v)}b=b.replace(/(^|[^\\])K/g,"$1"+t);var w=(c?a.getUTCDay():a.getDay())+1;return b=b.replace(new RegExp(g[0],"g"),g[w]),b=b.replace(new RegExp(h[0],"g"),h[w]),b=b.replace(new RegExp(e[0],"g"),e[j]),b=b.replace(new RegExp(f[0],"g"),f[j]),b=b.replace(/\\(.)/g,"$1")}h.setSidebar(),a.showBackStrech=!1,f.catSelect="",f.cashType="",f.Category=[],f.timeTableSlots=[],f.subcatSelect="",f.showModel="",f.startDate="",f.dueDate="",f.endDate="",f.feeTypeInstallment=[],f.InstallmentTempArray=[],f.visibility=!1,f.Subcat=function(){a.mypageloading=!0;var b=i.HttpGetData(a.serverURL+"/customer/slot/getlectureslots/");b.then(function(b){a.mypageloading=!1,b.success?(f.timeTableSlots=b.data,angular.forEach(f.timeTableSlots,function(a){a.Datestatus=h.checkDate(a),a.catName="";for(var b=0;b<=f.Category.length-1;b++)a.feecatid==f.Category[b]._id&&(a.catName=f.Category[b].name)}),f.timeTableSlots.sort(function(a,b){return new Date(b.time)-new Date(a.time)})):e.Error(b.message)})},f.Subcat(),f.save=function(){if(e.Error(""),""==f.AddSlot.name)return e.Error("Please Enter Slot Name"),!1;if(""==f.AddSlot.startTime)return e.Error("Please Enter Start Time"),!1;if(""==f.AddSlot.endTime)return e.Error("Please Select End Time"),!1;if(""!=f.flash.message)return!1;var b=new Date(f.AddSlot.startTime).format("h:mmtt"),c=new Date(f.AddSlot.endTime).format("h:mmtt"),d=[{name:f.AddSlot.name,starttime:b,endtime:c}];a.mypageloading=!0;var g=i.HttpPostData(a.serverURL+"/customer/slot/addlectureslot",d);g.then(function(b){a.mypageloading=!1,b.success?(e.Error(b.data.message),""==b.data.result?f.Subcat():(e.Error(b.data.message),f.Subcat(),f.showAddSlot=!1)):e.Error(b.data.message)})},f.delete=function(b){console.log(b);var c=i.HttpDeleteData(a.serverURL+"/customer/slot/deletelectureslot?id="+b._id);c.then(function(b){a.mypageloading=!1,b.success?(e.Error(b.data.message),""==b.data.result?f.Subcat():(e.Error(b.data.message),f.Subcat(),f.showAddSlot=!1)):e.Error(b.data.message)})},f.openAddSlot=function(){e.Error(""),f.showModel="Add",f.AddSlot={name:"",startTime:"",endTime:""},f.showAddSlot=!0},f.viewSubCat=function(a){},f.export=function(){kendo.drawing.drawDOM($("#exportthis")).then(function(a){kendo.drawing.pdf.saveAs(a,"FeeSubCategory.pdf")})},f.example14settings={scrollableHeight:"300px",scrollable:!0,enableSearch:!0,showCheckAll:!1,showUncheckAll:!1},f.setCalender=function(){f.visibility=!0},f.dateValidation=function(a,b){e.Error("")},f.dateValidation=function(a,b){},Date.prototype.format=function(a,b){return o(this,a,b)}}]),app.controller("liveClassController",["$rootScope","$interval","$location","HandShakeService","FlashService","$scope","$log","UtilService","HttpService","$indexedDB","$sessionStorage","$timeout","$firebaseAuth","Auth",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){h.setSidebar(),a.showBackStrech=!1,f.catSelect="",f.cashType="",f.Category=[],f.liveClasses=[],f.gettallliveSelect="",f.showModel="",f.startDate="",f.dueDate="",f.endDate="",f.feeTypeInstallment=[],f.InstallmentTempArray=[],f.visibility=!1,f.joinClass=!0,f.mddate=(new Date).toDateString().slice(4),f.flag=!1;var o={},p=new Date;p.setHours(0,0,0,0);var q=new Date;q.setHours(23,59,59,999),f.getReport=function(){if(a.mypageloading=!0,f.flag){f.start_date=new Date(f.mddate).setHours(0,0,0,0),f.end_date=new Date(f.mddate).setHours(23,59,59,999);var b=i.HttpGetData(a.serverURL+"/customer/timetable/getreport?stime="+f.start_date+"&etime="+f.end_date);b.then(function(b){a.mypageloading=!1,b.success?(f.liveClasses=b.data,angular.forEach(f.liveClasses,function(a){var b=f.classList.findIndex(function(b){return b._id==a.grade_id}),c=f.teachersList.findIndex(function(b){return b.teacher_id==a.teacher_id});c!=-1&&(a.teacher=f.teachersList[c].name),b!=-1&&(a.class=f.classList[b].name)})):e.Error(b.message)})}else{var b=i.HttpGetData(a.serverURL+"/customer/timetable/getreport?stime="+p.getTime());b.then(function(b){a.mypageloading=!1,b.success?(f.liveClasses=b.data,f.flag=!0,angular.forEach(f.liveClasses,function(a){var b=f.classList.findIndex(function(b){return b._id==a.grade_id}),c=f.teachersList.findIndex(function(b){return b.teacher_id==a.teacher_id});c!=-1&&(a.teacher=f.teachersList[c].name),b!=-1&&(a.class=f.classList[b].name)}),f.TotalDuration=f.liveClasses.end_date-f.liveClasses.end_date):e.Error(b.message)})}},f.getDuration=function(a){var b;b=a.end_time?a.end_time-a.start_time:Date.now()-a.start_time;var c=b/=6e4;return Math.abs(Math.round(c))},f.joinClass=function(a){window.open(a)},f.delete=function(b){var c=i.HttpDeleteData(a.serverURL+"/customer/slot/deletelectureslot?id="+b._id);c.then(function(b){a.mypageloading=!1,b.success?(e.Error(b.data.message),""==b.data.result?f.getReport():(e.Error(b.data.message),f.getReport(),f.showViewStudent=!1)):e.Error(b.data.message)})},f.openViewStudent=function(a){console.log("item===",a),e.Error(""),f.showModel="Add",f.subCat=a,angular.forEach(f.subCat.joinees,function(a){o[a._id]&&(a.name=o[a._id].name,a.rollno=o[a._id].rollno)}),f.AddSlot={name:"",startTime:"",endTime:""},f.showViewStudent=!0},f.viewgettalllive=function(a){},f.export=function(){kendo.drawing.drawDOM($("#exportthis")).then(function(a){kendo.drawing.pdf.saveAs(a,"Feegettallliveegory.pdf")})},d.getGradeInfo().then(function(b){f.classList=b,i.HttpGetData(a.serverURL+"/customer/teacher").then(function(b){a.mypageloading=!1,1==b.success&&(f.teachersList=b.data,f.getReport())})}),d.getAllStudentInfo().then(function(b){g.debug("HandShakeService existingStudentList received"),f.studentList=b,angular.forEach(f.studentList,function(a){o[a._id]=a}),a.mypageloading=!1}),f.example14settings={scrollableHeight:"300px",scrollable:!0,enableSearch:!0,showCheckAll:!1,showUncheckAll:!1},f.refresh=function(){f.getReport()}}]),app.controller("timeTableController",["$rootScope","$interval","$location","HandShakeService","FlashService","$scope","$log","UtilService","HttpService","$indexedDB","$sessionStorage","$timeout","$firebaseAuth","Auth",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){h.setSidebar(),a.showBackStrech=!1,f.catSelect="",f.cashType="",f.Category=[],f.timeTableSlots=[],f.subcatSelect="",f.showModel="",f.startDate="",f.dueDate="",f.endDate="",f.feeTypeInstallment=[],f.InstallmentTempArray=[],f.visibility=!1,f.weeksList=[{name:"Monday",value:1},{name:"Tuesday",value:2},{name:"Wednesday",value:3},{name:"Thursday",value:4},{name:"Friday",value:5},{name:"Saturday",value:6}],f.timetableData={entryList:[{}],selectBy:"class"},f.getTimeTable=function(b){a.mypageloading=!0;var c="/customer/timetable/gettimetable/";b&&b.byClass&&(c="/customer/timetable/gettimetablebyclass?class_id="+b.byClass),b&&b.byTeacher&&(c="/customer/timetable/gettimetablebyteacher?teacher_id="+b.byTeacher);var d=i.HttpGetData(a.serverURL+c);d.then(function(b){if(a.mypageloading=!1,b.success){var c=[];new Map;angular.forEach(b.data,function(a){var b=c.findIndex(function(b){return b.name==a.slot_id.name});if(b==-1)c.push({name:a.slot_id.name,timeTableId:a._id,day:[{id:a._id,day:a.day,class_name:a.class_name,teacher_name:a.teacher_name,subject_name:a.subject_name}]});else{c[b].day.findIndex(function(b){return b.day==a.day});c[b].day.push({id:a._id,day:a.day,class_name:a.class_name,teacher_name:a.teacher_name,subject_name:a.subject_name})}}),f.timeTableSlots=c,f.timeTableSlots.sort(function(a,b){return a.name-b.name}),console.log(c)}else e.Error(b.message)})},f.save=function(){if(e.Error(""),""==f.timetableData.class_id)return e.Error("Please Select Class"),!1;if(!f.timetableData.entryList.length)return e.Error("Please Select required Entry"),!1;if(!f.timetableData.entryList[0].slot_id||!f.timetableData.entryList[0].teacher_id||!f.timetableData.entryList[0].subject_id)return e.Error("Please Select required Entry"),!1;var b=!0,c=!1;if(angular.forEach(f.timetableData.entryList,function(a){return a.slot_id&&a.teacher_id&&a.subject_id?void(a.day||(b=!1)):void(c=!0)}),c)return e.Error("Please Select required Entry"),!1;if(!b)return e.Error("Select atleast one day"),!1;for(var d=[],g=0;g<f.timetableData.entryList.length;g++){var h=Object.keys(f.timetableData.entryList[g].day);if(h.length)for(var j=0;j<h.length;j++)h[j]=h[j]++;var k={class_id:f.timetableData.class_id,day:h,slot_id:f.timetableData.entryList[g].slot_id,teacher_id:f.timetableData.entryList[g].teacher_id,subject_id:f.timetableData.entryList[g].subject_id};d.push(k)}console.log(d),a.mypageloading=!0;var l=i.HttpPostData(a.serverURL+"/customer/timetable/addtimetable",d);l.then(function(b){a.mypageloading=!1,b.success?(e.Error(b.data.message),""==b.data.result?f.onChange():(e.Error(b.data.message),f.onChange(),f.showAddTT=!1)):e.Error(b.data.message)})},f.checkAll=function(a,b){if(a)for(var c=0;c<f.weeksList.length;c++)f.timetableData.entryList[b].day[f.weeksList[c].value]=!0;else for(var d=0;d<f.weeksList.length;d++)f.timetableData.entryList[b].day=[]},f.openAddSlot=function(){e.Error(""),f.showModel="Add",f.timetableData.class_id="",f.timetableData.entryList=[{}],f.showAddTT=!0},f.viewSubCat=function(a){},f.export=function(){kendo.drawing.drawDOM($("#exportthis")).then(function(a){kendo.drawing.pdf.saveAs(a,"FeeSubCategory.pdf")})},f.example14settings={scrollableHeight:"300px",scrollable:!0,enableSearch:!0,showCheckAll:!1,showUncheckAll:!1},f.setCalender=function(){f.visibility=!0},f.dateValidation=function(a,b){e.Error("")},f.dateValidation=function(a,b){},d.getGradeInfo().then(function(a){f.classList=a,f.timetableData.selectedClass=a[0]._id,f.getTimeTable({byClass:f.timetableData.selectedClass})}),i.HttpGetData(a.serverURL+"/customer/slot/getlectureslots/").then(function(a){a.success&&(f.slotsList=a.data)}),i.HttpGetData(a.serverURL+"/customer/teacher").then(function(b){a.mypageloading=!1,1==b.success&&(f.teachersList=b.data,f.timetableData.selectedTeacher=b.data[0]._id)}),i.HttpGetData(a.serverURL+"/customer/subject").then(function(a){1==a.success&&(f.subjectList=a.data)}),f.addEntry=function(){f.timetableData.entryList.push({index:f.timetableData.entryList.length+1})},f.delete=function(a){f.timetableData.entryList.splice(a,1)},f.deleteTT=function(b){var c=i.HttpDeleteData(a.serverURL+"/customer/timetable/deletetimetable?id="+b);c.then(function(b){a.mypageloading=!1,b.success?(e.Error(b.data.message),""==b.data.result?f.onChange():(e.Error(b.data.message),f.onChange(),f.showAddSlot=!1)):e.Error(b.data.message)})},f.onChange=function(a){console.log(f.timetableData.selectBy),"class"==f.timetableData.selectBy?f.getTimeTable({byClass:f.timetableData.selectedClass}):f.getTimeTable({byTeacher:f.timetableData.selectedTeacher})},f.download=function(){function a(){var a=document.createElement("a"),c=JSON.stringify(b),d=Papa.unparse(c);if(window.navigator.msSaveOrOpenBlob){var e=new Blob([decodeURIComponent(encodeURI(d))],{type:"text/csv;charset=utf-8;"});navigator.msSaveBlob(e,"time_table.csv")}else a.href="data:attachment/csv;charset=utf-8,"+encodeURI(d),a.target="_blank",a.download="time_table.csv",document.body.appendChild(a),a.click()}if(f.timeTableSlots&&f.timeTableSlots.length>0){for(var b=[],c=0;c<f.timeTableSlots.length;c++){var d={Slots:f.timeTableSlots[c].name,Monday:"",Tuesday:"",Wednesday:"",Thursday:"",Friday:"",Saturday:""};if(f.timeTableSlots[c].day)for(var e=f.timeTableSlots[c].day,g=0;g<e.length;g++)1==e[g].day?d.Monday=e[g].class_name+" "+e[g].subject_name:2==e[g].day?d.Tuesday=e[g].class_name+" "+e[g].subject_name:3==e[g].day?d.Wednesday=e[g].class_name+" "+e[g].subject_name:4==e[g].day?d.Thursday=e[g].class_name+" "+e[g].subject_name:5==e[g].day?d.Friday=e[g].class_name+" "+e[g].subject_name:6==e[g].day&&(d.Saturday=e[g].class_name+" "+e[g].subject_name);b.push(d)}a()}else{var b=[{Slots:"",Monday:"",Tuesday:"",Wednesday:"",Thursday:"",Friday:"",Saturday:""}];a()}}}]),app.controller("feesAllotmentController",["$rootScope","$location","HandShakeService","FlashService","$scope","$log","UtilService","HttpService","$indexedDB","$sessionStorage","$timeout","$firebaseAuth","Auth",function(a,b,c,d,e,f,g,h,i,j,k,l,m){g.setSidebar(),a.showBackStrech=!1,a.mypageloading=!0,e.viewAllotment=!1,e.allotmentList=[],e.Category=[],e.subCategory=[],e.classList=[],e.existingRouteList=[],e.selectedId=[],e.MultiselectedLIsting=[],e.studentList=[],e.SelectedAmount="",e.selectedClassId=[],e.SaveValues={feeType:"",catSelect:"",subcatSelect:"",description:""},e.ShowSubCatError=!1,e.allAllotment=function(){a.mypageloading=!0;var b=h.HttpGetData(a.serverURL+"/customer/feeallotment");b.then(function(b){if(b.success){e.allotmentList=b.data;angular.forEach(e.allotmentList,function(a){if(a.Datestatus=g.checkDate(a),"CLASS"==a.allotto){var b=[];angular.forEach(a.allottoidlist,function(c){for(var d=0;d<=e.classList.length-1;d++)c==e.classList[d]._id&&b.push({name:e.classList[d].name});a.name=b})}if("ROUTE"==a.allotto){var c=[];angular.forEach(a.allottoidlist,function(b){for(var d=0;d<=e.existingRouteList.length-1;d++)b==e.existingRouteList[d]._id&&c.push({name:e.existingRouteList[d].route_name});a.name=c})}if("STUDENT"==a.allotto){var d=[];angular.forEach(a.allottoidlist,function(b){for(var c=0;c<=e.studentList.length-1;c++)b==e.studentList[c]._id&&d.push({name:e.studentList[c].name});a.name=d})}}),e.allotmentList.sort(function(a,b){return new Date(b.time)-new Date(a.time)}),a.mypageloading=!1}else d.Error(b.message)})},e.getRoute=function(){return 0==e.existingRouteList.length&&void c.getRouteInfo().then(function(a){e.existingRouteList=a,e.getStudent()})},e.getStudent=function(){a.mypageloading=!0,c.getAllStudentInfo().then(function(a){f.debug("HandShakeService getRouteInfo received"),e.studentList=a,e.allAllotment()})},e.getClass=function(){return 0==e.classList.length&&void c.getGradeInfo().then(function(a){f.debug("HandShakeService getRouteInfo received"),e.classList=a,e.getRoute()})},e.getClass(),e.openFeeAllotment=function(){d.Error(""),e.SaveValues={feeType:"",catSelect:"",subcatSelect:""},e.ShowSubCatError=!1,e.cat(),e.showModel="Add",e.catSelect="",e.selectedId=[],e.subcatSelect="",e.SelectedAmount="",e.SaveValues={description:""},e.showAddAllotment=!0},e.cat=function(){if(0!=e.Category.length)return!1;a.mypageloading=!0;var b=h.HttpGetData(a.serverURL+"/customer/feecat");b.then(function(b){a.mypageloading=!1,b.success?e.Category=b.data:d.Error(b.message)})},e.selectedCat=function(a){d.Error(""),e.SaveValues.catSelect=a,e.ShowSubCatError=!1,
e.SaveValues.subcatSelect="",e.SelectedAmount=0,e.Subcat()},e.Subcat=function(){a.mypageloading=!0;var b=h.HttpGetData(a.serverURL+"/customer/feesubcat?feecatid="+e.SaveValues.catSelect);b.then(function(b){a.mypageloading=!1,b.success?(e.subCategory=b.data,0==e.subCategory.length&&(e.ShowSubCatError=!0)):d.Error(b.message)})},e.selectedSubCat=function(a){e.SaveValues.subcatSelect=a,e.PaidAmount()},e.PaidAmount=function(){d.Error(""),a.mypageloading=!0;var b=h.HttpGetData(a.serverURL+"/customer/feesubcat/"+e.SaveValues.subcatSelect);b.then(function(b){a.mypageloading=!1,b.success?e.SelectedAmount=b.data.amount:d.Error(b.message)})};var n=this;a.mypageloading=!1,e.save=function(){var b={allotto:e.SaveValues.feeType,allottoidlist:e.selectedId,feecatid:e.SaveValues.catSelect,feesubcatid:e.SaveValues.subcatSelect,description:e.SaveValues.description};if(""==b.allotto||void 0==b.allotto)return d.Error("Please Select Fee Type"),!1;if(0==b.allottoidlist.length)return d.Error(" Please select a "+b.allotto),!1;if(""==b.feecatid||void 0==b.feecatid)return d.Error("Please Select Category for "+b.allotto),!1;if(""==b.feesubcatid||void 0==b.feesubcatid)return d.Error("Please select a fee sub category for "+b.allotto),!1;var c=[],f=[];e.classHash=[],angular.forEach(b.allottoidlist,function(a){c.push(e.classHash[a._id]),f.push(a._id)}),n.to=c.toString(),n.from=angular.fromJson(j.profileInfo).name,n.class_list=f,b.allottoidlist=f,a.mypageloading=!0;var g=h.HttpPostData(a.serverURL+"/customer/feeallotment",b);g.then(function(b){a.mypageloading=!1,b.success?(d.Error(b.data.message),""==b.data.result?e.showAddAllotment=!1:(d.Error(b.data.message),e.allAllotment(),e.showAddAllotment=!1)):d.Error(b.data.message)})},e.selectedFeeFor=function(a){if(d.Error(""),e.SaveValues.feeType=a,e.MultiselectedLIsting=[],e.selectedId=[],"CLASS"==a&&(e.MultiselectedLIsting=e.classList),"ROUTE"==a){e.MultiselectedLIsting=e.existingRouteList;var b=0;angular.forEach(e.existingRouteList,function(a){e.existingRouteList[b].name=a.route_name,b++})}"STUDENT"==a&&(e.MultiselectedLIsting=e.studentList),e.SaveValues.feeType=a},e.change=function(){d.Error("")},e.view=function(a){e.showDataFromName=a.allotto,e.showDataFrom=a.name,e.viewAllotment=!0},e.example14settings={scrollableHeight:"300px",scrollable:!0,enableSearch:!0},e.export=function(){kendo.drawing.drawDOM($("#exportthis")).then(function(a){kendo.drawing.pdf.saveAs(a,"FeeAllotment.pdf")})}}]),app.controller("feeCollectionController",["$rootScope","$location","HandShakeService","FlashService","$scope","$log","UtilService","HttpService","$indexedDB","$sessionStorage","$timeout","$firebaseAuth","Auth",function(a,b,c,d,e,f,g,h,i,j,k,l,m){function n(a){var b=e.classList.find(function(b){return b._id===a});return b.name}g.setSidebar(),e.showTableLoadingBar=!0,a.showBackStrech=!1,a.mypageloading=!0,e.showStudentInfo=!1,e.showPayAlert=!1,e.feePaidList=[],e.studentList=[],e.FessDetails=[],e.FullValue=[],e.FessPaid=[],e.Installment=[],e.searchstudent="";var o=864e5;e.currentDate=new Date,e.currentDate.setTime(e.currentDate.getTime()-o),e.currentDateTimeStamp=e.currentDate.getTime(),e.globelSearchstudent={name:""},e.showGloble=!1,e.PaymentMode="",e.classList=[],e.classSelect="",e.studentListForPay=[],e.ShowStudentDetails=[],e.OldRecpt=[],e.StudentSelect="",e.lateFeeAmount=0,e.discountAmount=0,e.description="",e.TodayDate=new Date,e.profileInfo=angular.fromJson(j.profileInfo),e.visibility=!1,e.yourchoice="",e.studentList=[];var p={};e.balanceText="",e.showConfirmButton=!1;var q={};e.ChequeInfo={cheque_number:"",micr_number:"",bank_name:"",brach_name:"",data:""},e.FeeDetails={allot_id:"",feesubcat_id:"",installment_id:"",feesucatname:"",installment_name:"",feecatname:"",classSelect:"",StudentSelect:""},e.currentDate=new Date,e.getAllStudent=function(){f.debug("HandShakeService.allStudentList call"),c.getAllStudentInfo().then(function(a){f.debug("HandShakeService existingStudentList received"),e.studentList=a,angular.forEach(a,function(a){q[a.rollno]=a}),console.log("allStudentDetails_hash = "+q)}),f.debug("HandShakeService.existingStudentList passed")},e.getAllStudent(),e.allfeePaidList=function(){e.showTableLoadingBar=!0;var b=h.HttpGetData(a.serverURL+"/customer/feespaid");b.then(function(a){a.success?(e.feePaidList=a.data,angular.forEach(e.feePaidList,function(a){a.Datestatus=g.checkDate(a),a.name="",a.rollno="",a.grade="",a.emer_1="";for(var b=0;b<=e.studentList.length-1;b++)a.student_id==e.studentList[b]._id&&(a.name=e.studentList[b].name,a.rollno=e.studentList[b].rollno,a.grade=n(e.studentList[b].grade_id),a.emer_1=e.studentList[b].emer_1)}),e.feePaidList.sort(function(a,b){return new Date(b.time)-new Date(a.time)}),e.showTableLoadingBar=!1):d.Error(a.message)})},e.getStudent=function(){a.mypageloading=!0,c.getAllStudentInfo().then(function(b){f.debug("HandShakeService getRouteInfo received"),e.studentList=b,a.mypageloading=!1,e.allfeePaidList()})},e.getClass=function(){return 0==e.classList.length&&void c.getGradeInfo().then(function(a){f.debug("HandShakeService getRouteInfo received"),e.classList=a,e.getStudent()})},e.getClass(),e.viewStudentt=function(a){e.FessDetails=[],e.FessPaid=[],e.Installment=[],e.searchstudent="",e.FessPaid=a;var b=e.InstallmentValue(e.FessPaid.feeDetails[0].installment_name);e.FessPaid.feeDetails[0].installment_name=b,e.showStudentInfo=!0},e.viewAddPay=function(){a.firebaseUser.getToken().then(function(a){}),e.globelSearchstudent.name="",e.showGloble=!1,e.PaymentMode="",e.StudentSelect="",e.lateFeeAmount=20,e.discountAmount=10,e.payTotalAmount=0,e.description="",e.classSelect="",e.OldRecpt=[],e.studentInstallment=[],e.ShowStudentDetails=[],e.ChequeInfo={cheque_number:"",micr_number:"",bank_name:"",brach_name:"",date:""},e.FeeDetails={allot_id:"",feesubcat_id:"",installment_id:"",feesucatname:"",installment_name:"",feecatname:"",classSelect:"",StudentSelect:""},e.payOtherDetails={description:"",PaymentMode:""},e.showAddPay=!0},a.mypageloading=!1,e.selectedClass=function(b){e.showGloble=!1,e.FeeDetails.classSelect=b,e.globelSearchstudent.name="",e.FeeDetails.StudentSelect="",e.studentListForPay=[],e.OldRecpt=[],e.studentInstallment=[],e.payOtherDetails={description:"",PaymentMode:""},e.ChequeInfo={cheque_number:"",micr_number:"",bank_name:"",brach_name:"",date:""},d.Error(""),a.mypageloading=!0,c.getStudentInfo(b).then(function(b){a.mypageloading=!1,e.studentListForPay=b})},e.InstallmentValue=function(a){var b=a%10,c=a%100;return 1==b&&11!=c?a+"st":2==b&&12!=c?a+"nd":3==b&&13!=c?a+"rd":a+"th"},e.selectedStudent=function(b){e.showGloble=!1,d.Error(""),e.FeeDetails.StudentSelect=b,e.StudentSelect=b,e.ShowStudentDetails=[];var c=h.HttpGetData(a.serverURL+"/customer/feeallotment/student?student_id="+b);c.then(function(a){if(a.success){if(e.OldRecpt=[],e.studentInstallment=[],e.ShowStudentDetails=a.data,console.log(a.data),e.OldRecpt=a.data.fees_paid,""==e.ShowStudentDetails.result)return angular.forEach(e.studentListForPay,function(a){a._id==b&&d.Error(e.ShowStudentDetails.message+" "+a.name)}),!1;e.FeeDetails={allot_id:e.ShowStudentDetails.fees_details[0]._id,classSelect:e.FeeDetails.classSelect,StudentSelect:e.FeeDetails.StudentSelect,feesubcat_id:e.ShowStudentDetails.fees_details[0].feesubcatid,installment_id:"",feesucatname:e.ShowStudentDetails.fees_details[0].feesubcatname,installment_name:"",feecatname:e.ShowStudentDetails.fees_details[0].feecatname},e.studentInstallment=a.data.fees_details;var c=a.data.fees_details;if(c){var f=[];angular.forEach(c,function(a){a.feesubcat.installments&&angular.forEach(a.feesubcat.installments,function(b){var c=!1;e.currentDate>new Date(b.due)&&(c=!0),f.push({_id:b._id,name:b.name,start:b.start,due:b.due,end:b.end,amount:b.amount,feecatname:a.feecatname,feesubcatname:a.feesubcatname,status:b.status,check:!1,isDueover:c,feesubcat_id:a.feesubcatid,feecatid:a.feecatid})})})}e.studentInstallment=f,angular.forEach(e.studentInstallment,function(a){var b=e.InstallmentValue(a.name);a.name=b}),p={};for(var g=0;g<=e.studentList.length-1;g++)b==e.studentList[g]._id&&(p=e.studentList[g]);angular.forEach(e.OldRecpt,function(a){var b=e.InstallmentValue(a.feeDetails[0].installment_name);a.feeDetails[0].installment_name=b,a.name=p.name,a.rollno=p.rollno,a.grade=n(p.grade_id),a.emer_1=p.emer_1}),e.studentInstallment.discountAmount="",e.studentInstallment.discountRamark="",e.studentInstallment.lateFeeAmount="",e.studentInstallment.lateFeeRemark="",e.studentInstallment.newBalance={amount:"",reason:""},e.calculateAmount()}else d.Error(a.message)})},e.calculateAmount=function(){var a=0;d.Error(""),angular.forEach(e.studentInstallment,function(b){1==b.check&&(a=b.amount+a)}),a+=e.studentInstallment.lateFeeAmount,a-=e.studentInstallment.discountAmount,p&&p.balance&&(e.studentInstallment.balance=-1*p.balance,p.balance<0?e.balanceText="Previous Due":p.balance>0&&(e.balanceText="Previous Balance"),a+=-1*p.balance),e.payTotalAmount=a},e.calculateBalance=function(){e.studentInstallment.newBalance.amount=e.studentInstallment.actualAmount-e.payTotalAmount},e.change=function(){d.Error(""),e.showGloble=!1,e.visibility=!1},e.changeModeArray=function(a){"CHEQUE"==a&&(e.ChequeInfo={cheque_number:"",micr_number:"",bank_name:"",brach_name:"",date:""}),"NEFT/RTGS"==a&&(e.ChequeInfo={transaction_number:""}),d.Error(""),e.visibility=!1},e.CheckBoxStatus=function(a,b){d.Error(""),e.studentInstallment[a].check==b,e.calculateAmount()},e.checkPermission=function(){e.showPayAlert=!0},e.close=function(){e.showGloble=!1,e.showPayAlert=!1,e.showAddPay=!0},e.ClickSearch=function(){return""==e.globelSearchstudent.name?(e.showGloble=!1,!1):void(e.showGloble=!0)},e.selectStudentSearch=function(a){console.log(a),e.globelSearchstudent={name:a.name},e.FeeDetails.StudentSelect=a._id,e.showGloble=!1,e.selectedStudent(a._id)},e.PayAmount=function(){e.showPayAlert=!1,e.FeeDetails2=[],angular.forEach(e.studentInstallment,function(a){1==a.check&&e.FeeDetails2.push({allot_id:a._id,feesubcat_id:a.feesubcat_id,installment_id:a._id,feesubcatname:a.feesubcatname,installment_name:a.name,feecatname:a.feecatname,amount:a.amount})});var b={topay:e.payTotalAmount,amount:e.studentInstallment.actualAmount,balance:e.studentInstallment.newBalance,student_id:e.StudentSelect,description:e.payOtherDetails.description,paymentmode:e.payOtherDetails.PaymentMode,paymentmodedetails:e.ChequeInfo,feeDetails:e.FeeDetails2,prevbalance:p.balance,latefees:{amount:e.studentInstallment.lateFeeAmount,reason:e.studentInstallment.lateFeeRemark},discount:{amount:e.studentInstallment.discountAmount,reason:e.studentInstallment.discountRamark}};if(""==b.student_id)return d.Error("Please Select Student"),!1;if(!b.amount)return d.Error("Please fill actual amount"),!1;if(""==b.payloadRequest)return d.Error("Please Select Minimun 1 Installment"),!1;if(b.payloadRequest<1)return d.Error("Please use Correct Amount"),!1;if(0==b.feeDetails.length)return d.Error("Please Select Minimun 1 Installment"),!1;if(""==b.paymentmode)return d.Error("Please Select Payment Mode"),!1;if("CHEQUE"==b.paymentmode){if(""==b.paymentmodedetails.bank_name||void 0==b.paymentmodedetails.bank_name)return d.Error("Please Enter Bank Name"),!1;if(""==b.paymentmodedetails.brach_name||void 0==b.paymentmodedetails.brach_name)return d.Error("Please Enter Branch Name"),!1;if(""==b.paymentmodedetails.cheque_number||void 0==b.paymentmodedetails.cheque_number)return d.Error("Please Enter Cheque Number"),!1;if(""!=b.paymentmodedetails.micr_number&&void 0!=b.paymentmodedetails.micr_number||(b.paymentmodedetails.micr_number=0),""==b.paymentmodedetails.date)return d.Error("Please Select Date"),!1}"NEFT/RTGS"==b.paymentmode&&(""!=b.paymentmodedetails.transaction_number&&void 0!=b.paymentmodedetails.transaction_number||(b.paymentmodedetails.transaction_number=0)),a.mypageloading=!0;var c=h.HttpPostData(a.serverURL+"/customer/feespaid",b);c.then(function(b){if(a.mypageloading=!1,b.success){var c=b.data;angular.forEach(e.studentList,function(a){a._id===c.student_id&&(c.rollno=a.rollno,c.name=a.name,c.emer_1=a.emer_1,c.grade=n(a.grade_id))}),e.viewStudentt(c),e.allfeePaidList(),e.showAddPay=!1,p.balance=c.balance.amount,p.balance&&i.openStore("student",function(a){a.delete(p.rollno).then(function(b){var c=[p];a.upsert(c).then(function(a){f.debug("upserted successfully in studentStore")},function(a){f.debug("Error in upserting in studentStore = "+a)})},function(a){f.debug("Error in upserting in studentStore = "+a)})})}else d.Error(b.data.message)})},e.example14settings={scrollableHeight:"300px",scrollable:!0,enableSearch:!0,showCheckAll:!1,showUncheckAll:!1},e.example14settings2={scrollableHeight:"300px",scrollable:!0,selectionLimit:0,enableSearch:!0,showCheckAll:!1,showUncheckAll:!1},e.export=function(){kendo.drawing.drawDOM($("#exportthis")).then(function(a){kendo.drawing.pdf.saveAs(a,"FeeAllotment.pdf")})},e.setCalender=function(){e.visibility=!0},e.printToCart=function(a){kendo.drawing.drawDOM($("#printSectionId")).then(function(b){kendo.drawing.pdf.saveAs(b,"Fee_Receipt_No_"+a+".pdf")})},e.printToCart1=function(a,b){kendo.drawing.drawDOM($("#"+a)).then(function(a){kendo.drawing.pdf.saveAs(a,"Fee_Receipt_No_"+b+".pdf")})};var r=document.getElementById("csv"),s=function(){Papa.parse(r.files[0],{header:!0,dynamicTyping:!0,complete:function(b){function c(b){if(!data[b])return void console.log("file completed - "+b-1);if(data[b]["Name Of Students"]&&(data[b]["Receipt 1 Instalment"]>0||data[b]["Receipt 2 Instalment"]>0)){for(var f=0;f<e.studentList.length;f++)if(e.studentList[f].name.toUpperCase()==data[b]["Name Of Students"].toUpperCase()){d=f;break}var g=h.HttpGetData(a.serverURL+"/customer/feeallotment/student?student_id="+e.studentList[d]._id);g.then(function(a){if(a.success){var f={1:[],2:[],3:[],4:[]};if(a.data.fees_details&&a.data.fees_details.length>0){var g=[];angular.forEach(a.data.fees_details,function(a){a.feesubcat.installments.length&&angular.forEach(a.feesubcat.installments,function(b){f[b.name].push({allot_id:a._id,feesubcat_id:a.feesubcat._id,installment_id:b._id,feesubcatname:a.feesubcatname,installment_name:b.name,feecatname:a.feecatname,amount:b.amount})})});var h=data[b]["Receipt 2"];for(var i in f)if(f.hasOwnProperty(i)){var j=f[i],k=0;j.length&&angular.forEach(j,function(a){k+=a.amount,h>=a.amount&&(g.push(a),h-=a.amount)})}if(console.log(data[b]["Name Of Students"]+data[b]["Receipt 2"]+" totalPaid remaining="+h),g.length&&h!=data[b]["Receipt 2"]){({topay:data[b]["Receipt 2"]-h,amount:data[b]["Receipt 2"]-h,balance:{amount:0,reason:""},student_id:e.studentList[d]._id,description:"",paymentmode:"CASH",paymentmodedetails:{cheque_number:"",micr_number:"",bank_name:"",brach_name:"",date:""},feeDetails:g,prevbalance:0,latefees:{amount:"",reason:""},discount:{amount:"",reason:""}})}else console.log("no fees paid for student "+data[b]["Name Of Students"]),c(b+1)}}})}else console.log("rcpt amount 0"),c(b+1)}data=b.data;var d=-1;c(0)}})};r.addEventListener("change",s),e.showUploadExcelFileModelFunction=function(){e.showUploadExcelFileModel=!0,e.showSuccessAndErrorRows=!1,e.analyzedArray=[],e.listOfColumnNames=[],e.showErrorLogsButton=!1,e.showLoadedTable=!1,e.showResponseLogsButton=!1,e.showErrorLogs=!1,e.IsVisible=!1,e.showTableWhenUploadFile=!1,e.analyseDataButton=!1,e.confirmPayButton=!1,$("#xlsxFile").val("")},e.SelectFile=function(a){e.SelectedFile=null,e.SelectedFile=a,null!=e.SelectedFile&&e.Upload()},e.Upload=function(){e.showLoadingWhenLoadingData=!1;var a=/^([a-zA-Z0-9\s_\\.\-:])+(.xls|.xlsx)$/;if(a.test(e.SelectedFile.name.toLowerCase()))if("undefined"!=typeof FileReader){var b=new FileReader;b.readAsBinaryString?(b.onload=function(a){e.ProcessExcel(a.target.result)},b.readAsBinaryString(e.SelectedFile)):(b.onload=function(a){for(var b="",c=new Uint8Array(a.target.result),d=0;d<c.byteLength;d++)b+=String.fromCharCode(c[d]);e.ProcessExcel(b)},b.readAsArrayBuffer(e.SelectedFile))}else $window.alert("This browser does not support HTML5.");else $window.alert("Please upload a valid Excel file.")},e.ProcessExcel=function(b){a.mypageloading=!0;var c=XLSX.read(b,{type:"binary"}),d=c.SheetNames[0],f=XLSX.utils.sheet_to_row_object_array(c.Sheets[d]);e.$apply(function(){e.isNoDataDisplay=!1,e.showResponseLogsButton=!1,e.showErrorLogsButton=!1,e.showErrorLogs=!1,e.showLoadedTable=!1,a.mypageloading=!0,e.feeCatInXlsFileArray=[],e.listOfColumnNames=[];e.Customers=f,e.listOfColumnNames=Object.keys(e.Customers[0]),e.tables=[],e.tables.push({rows:e.Customers,cols:Object.keys(e.Customers[0])}),e.IsVisible=!0,e.showTableWhenUploadFile=!0,e.analyseDataButton=!0,e.confirmPayButton=!1,e.analyseFileDataFunction()}),a.mypageloading=!1},e.confirmNotifyParentsFunction=function(){e.showConfirmButton=!0},e.cancelNotifyParentsFunction=function(){e.showConfirmButton=!1},e.notifyParentsFunction=function(){a.mypageloading=!0,e.showConfirmButton=!1;var b=h.HttpGetData(a.serverURL+"/customer/feespaid/remainder");b.then(function(b){b.success?(a.mypageloading=!1,window.alert("Successfully sent notification to all parents")):window.alert("Something went wrong on notification.")})},e.showErrorLogsFunction=function(){e.showErrorLogsButton=!1,e.showLoadedTable=!1,e.showResponseLogsButton=!0,e.showErrorLogs=!0},e.showResposneLogsFunction=function(){e.showErrorLogsButton=!0,e.showLoadedTable=!0,e.showResponseLogsButton=!1,e.showErrorLogs=!1},e.confirmPaymentFunction=function(){e.confirmPayButton=!0,e.IsVisible=!1},e.cancelPaymentFunction=function(){e.confirmPayButton=!1,e.IsVisible=!0},e.submitFeesByXlxsFileFunction=function(){function b(d){c={};var f=!1;if(e.getFeeDetailsOfSingleStudent=[],void 0!=e.Customers[d])if(isPresent=e.studentList.some(function(a){return e.Customers[d].rollno==a.rollno}),isPresent)if(void 0!=q[e.Customers[d].rollno]){if(e.Customers[d].rollno==q[e.Customers[d].rollno].rollno){var g=0;e.totalPayableAmount=0,e.balanceRemainingFromTotalPayable=0,e.isBalanceGreaterThanActualFee=0;var i="";e.feeDetailArray=[],e.toPayFeeNames=[],e.installmentNameAndFeeName=[];var j=h.HttpGetData(a.serverURL+"/customer/feeallotment/student?student_id="+q[e.Customers[d].rollno]._id);j.then(function(c){if(c.success){console.log("fees paid length "+c.data.fees_paid.length),e.getFeeDetailsOfSingleStudent=c.data;for(var j=3;j<e.listOfColumnNames.length;j++){f=!1;var k=!0;e.toPayInstallmentNumber=[],e.isBalanceGreaterThanActualFee=e.Customers[d][e.listOfColumnNames[j]];for(var l=e.listOfColumnNames[j].toUpperCase(),m=0;m<e.getFeeDetailsOfSingleStudent.fees_details.length;m++)if(e.getFeeDetailsOfSingleStudent.fees_details[m].feecatname==l){f=!0;var n=e.getFeeDetailsOfSingleStudent.fees_details[m].feesubcat.installments;for(var o in n){var p=n[o],r=p.name;"DUE"==p.status?void 0!=e.Customers[d][e.listOfColumnNames[j]]&&(p.amount<=e.isBalanceGreaterThanActualFee?(e.isBalanceGreaterThanActualFee=parseInt(e.isBalanceGreaterThanActualFee-p.amount),e.toPayInstallmentNumber.push(p.name),0!=e.toPayFeeNames.length?(isFeePresent=e.toPayFeeNames.some(function(a){return l==a}),isFeePresent||e.toPayFeeNames.push(l)):e.toPayFeeNames.push(l),0!=e.installmentNameAndFeeName.length?(isFeeAndInstalmentPresent=e.installmentNameAndFeeName.some(function(a){return e.Customers[d][e.listOfColumnNames[j]]==a.amount&&e.listOfColumnNames[j]==a.feeName}),isFeeAndInstalmentPresent||(e.installmentNameAndFeeName.push({amount:e.Customers[d][e.listOfColumnNames[j]],feeName:e.listOfColumnNames[j]}),e.totalPayableAmount=e.totalPayableAmount+parseInt(e.Customers[d][e.listOfColumnNames[j]]))):(e.installmentNameAndFeeName.push({amount:e.Customers[d][e.listOfColumnNames[j]],feeName:e.listOfColumnNames[j]}),e.totalPayableAmount=e.totalPayableAmount+parseInt(e.Customers[d][e.listOfColumnNames[j]])),g=parseInt(g+p.amount),i=q[e.Customers[d].rollno]._id,e.feeDetailArray.push({allot_id:p._id,amount:p.amount,feecatname:e.getFeeDetailsOfSingleStudent.fees_details[m].feecatname,feesubcat_id:e.getFeeDetailsOfSingleStudent.fees_details[m].feesubcat._id,feesubcatname:e.getFeeDetailsOfSingleStudent.fees_details[m].feesubcatname,installment_id:p._id,installment_name:r,studentName:e.Customers[d].name})):r==o&&k&&(k=!1,e.isBalanceGreaterThanActualFee=parseInt(e.isBalanceGreaterThanActualFee))):"PAID"==p.status}}"number"==typeof e.isBalanceGreaterThanActualFee&&(e.balanceRemainingFromTotalPayable=parseInt(e.balanceRemainingFromTotalPayable+e.isBalanceGreaterThanActualFee))}if(0!=e.feeDetailArray.length){var s={amount:e.totalPayableAmount,topay:g,balance:{amount:parseInt(e.balanceRemainingFromTotalPayable+q[e.Customers[d].rollno].balance),reason:""},student_id:i,description:"",paymentmode:"CASH",paymentmodedetails:{cheque_number:"",micr_number:"",bank_name:"",brach_name:"",date:""},feeDetails:e.feeDetailArray,prevbalance:q[e.Customers[d].rollno].balance,latefees:{amount:"",reason:""},discount:{amount:"",reason:""}};e.totalPayableAmount=0;var t=h.HttpPostData(a.serverURL+"/customer/feespaid",s);t.then(function(a){e.afterPayFeesShowTotalBalance=!0,a.success?(e.showDataInATable.push({balance:parseInt(e.balanceRemainingFromTotalPayable+q[e.Customers[d].rollno].balance),studentName:e.Customers[d].name,rollno:e.Customers[d].rollno,contact:e.Customers[d].contact,status:"PAYMENT SUCCESSFULL",feeAmount:e.totalPayableAmount,prevBalance:q[e.Customers[d].rollno].balance}),d++,b(d)):(e.showDataInATable.push({balance:parseInt(e.balanceRemainingFromTotalPayable),studentName:e.Customers[d].name,rollno:e.Customers[d].rollno,contact:e.Customers[d].contact,status:"ERROR",feeAmount:e.totalPayableAmount,prevBalance:q[e.Customers[d].rollno].balance}),d++,b(d))})}else d++,b(d)}})}}else d++,b(d);else d++,b(d);else e.showLoadingWhenLoadingData=!1,e.allfeePaidList()}e.showSuccessAndErrorRows=!1,e.beforePayFeesShowPrevBalance=!1,e.afterPayFeesShowTotalBalance=!1,a.mypageloading=!0,e.showLoadingWhenLoadingData=!0,e.showLoadedTable=!0,e.showErrorLogsButton=!1,e.showResponseLogsButton=!1,e.analyseDataButton=!1,e.confirmPayButton=!1,e.IsVisible=!1,e.feeCategoryOrInstallmentNotFoundArray=[],e.fileLengthCount=0,e.getFeeDetailsOfSingleStudent=[],e.totalPayableAmount=0,e.showDataInATable=[];var c={};b(0),a.mypageloading=!1},e.analyseFileDataFunction=function(){function b(c){if(e.getFeeDetailsOfSingleStudent=[],void 0!=e.Customers[c])if(isPresent=e.studentList.some(function(a){return e.Customers[c].rollno==a.rollno}),isPresent)if(void 0!=q[e.Customers[c].rollno]){if(e.Customers[c].rollno==q[e.Customers[c].rollno].rollno){e.isBalanceGreaterThanActualFee=0,e.balanceRemainingFromTotalPayable=0,e.insertArrayRowByRow=[];var d=!1,f=h.HttpGetData(a.serverURL+"/customer/feeallotment/student?student_id="+q[e.Customers[c].rollno]._id);f.then(function(a){if(a.success){e.getFeeDetailsOfSingleStudent=a.data;for(var f=0;f<e.listOfColumnNames.length;f++){var g=e.listOfColumnNames[f].toUpperCase(),h=!0;if("NAME"==g||"ROLLNO"==g||"CONTACT"==g)void 0==e.Customers[c][e.listOfColumnNames[f]]||""==e.Customers[c][e.listOfColumnNames[f]]?e.insertArrayRowByRow.push("EMPTY"):e.insertArrayRowByRow.push(e.Customers[c][e.listOfColumnNames[f]]);else if("BALANCE"==g||"STATUS"==g||"PREVIOUS BALANCE"==g);else{e.toPayInstallmentNumber=[],e.isBalanceGreaterThanActualFee=e.Customers[c][e.listOfColumnNames[f]];for(var i=0;i<e.getFeeDetailsOfSingleStudent.fees_details.length;i++){var j=!1,k=!1;if(e.toPayInstallmentNumber=[],e.getFeeDetailsOfSingleStudent.fees_details[i].feecatname==g){var l=e.getFeeDetailsOfSingleStudent.fees_details[i].feesubcat.installments;for(var m in l){var n=l[m];"DUE"==n.status?(j=!0,n.amount<=e.isBalanceGreaterThanActualFee&&(e.isBalanceGreaterThanActualFee=parseInt(e.isBalanceGreaterThanActualFee-n.amount),e.toPayInstallmentNumber.push(n.name),d=!0)):"PAID"==n.status&&(k=!0)}j?void 0==e.Customers[c][e.listOfColumnNames[f]]||""==e.Customers[c][e.listOfColumnNames[f]]?(e.insertArrayRowByRow.push("EMPTY"),e.isBalanceGreaterThanActualFee=e.isBalanceGreaterThanActualFee):0==e.toPayInstallmentNumber.length?(e.isBalanceGreaterThanActualFee=e.isBalanceGreaterThanActualFee,e.insertArrayRowByRow.push("INSUFF. AMOUNT")):(e.arrayToString=function(a){return a.join(", ")},e.insertArrayRowByRow.push(e.arrayToString(e.toPayInstallmentNumber))):k&&(void 0==e.Customers[c][e.listOfColumnNames[f]]||""==e.Customers[c][e.listOfColumnNames[f]]?e.insertArrayRowByRow.push("EMPTY"):e.insertArrayRowByRow.push("ALREADY PAID"))}else isFeeNamePresent=e.getFeeDetailsOfSingleStudent.fees_details.some(function(a){return g==a.feecatname}),isFeeNamePresent||h&&e.insertArrayRowByRow.push("NOT FOUND"),h=!1;0!=e.toPayInstallmentNumber.length&&(d=!0)}"number"==typeof e.isBalanceGreaterThanActualFee&&(e.balanceRemainingFromTotalPayable=parseInt(e.balanceRemainingFromTotalPayable+e.isBalanceGreaterThanActualFee))}}e.insertArrayRowByRow.push(e.balanceRemainingFromTotalPayable),e.insertArrayRowByRow.push(q[e.Customers[c].rollno].balance),d?(e.totalSuccessRowCount=e.totalSuccessRowCount+1,e.insertArrayRowByRow.push("OK")):e.insertArrayRowByRow.push("ERROR"),e.analyzedArray.push(e.insertArrayRowByRow),c++,b(c)}})}}else c++,b(c);else{e.insertArrayRowByRow=[];for(var g=0;g<e.listOfColumnNames.length;g++)"ROLLNO"==e.listOfColumnNames[g].toUpperCase()?e.insertArrayRowByRow.push("STUDENT NOT FOUND"):"NAME"==e.listOfColumnNames[g].toUpperCase()?void 0==e.Customers[c][e.listOfColumnNames[g]]?e.insertArrayRowByRow.push("EMPTY"):e.insertArrayRowByRow.push(e.Customers[c][e.listOfColumnNames[g]]):e.insertArrayRowByRow.push("EMPTY");e.analyzedArray.push(e.insertArrayRowByRow),c++,b(c)}else e.showSuccessAndErrorRows=!0}e.showSuccessAndErrorRows=!1,e.formArray=[],e.errorLogs=[],e.analyzedArray=[],e.insertArrayRowByRow=[],e.installmentDueArray=[],e.totalSuccessRowCount=0,e.totalErrorRowCount=e.Customers.length,e.listOfColumnNames.push("Balance"),e.listOfColumnNames.push("Previous Balance"),e.listOfColumnNames.push("Status");b(0)},e.confirmDeleteFeesFunction=function(a){a.confirm=!0},e.cancelDeleteFeesFunction=function(a){a.confirm=!1},e.deleteFeesCollection=function(b){b.confirm=!1,a.mypageloading=!0;var c=h.HttpUpdateData(a.serverURL+"/customer/feespaid/deleteFee/"+b._id);c.then(function(b){b.success?e.allfeePaidList():(a.mypageloading=!1,window.alert("Something went wrong."))})}}]),app.controller("feeDetailsController",["$rootScope","$location","HandShakeService","FlashService","$scope","$log","UtilService","HttpService","$indexedDB","$sessionStorage","$timeout","$firebaseAuth","Auth",function(a,b,c,d,e,f,g,h,i,j,k,l,m){function n(a){var b=e.classList.find(function(b){return b._id===a});return b.name}e.styles={"box-shadow":"rgb(136, 136, 136) 0px 4px 4px 4px"},e.headerStyles={color:"white",background:"rgb(78, 205, 196)"},e.selectedItem="to_be_collected",e.total_paid="Total paid",e.total_collected="Total collected",e.total_remainy="Total remainy",e.total_defaulties="Total defaulties",e.selectedItemName="Total paid",e.defaulties=[{id:0,class_name:"6th",student_name:"Riya Shah",section:"A",amount:4e4},{id:0,class_name:"7th",student_name:"Rahul Gupta",section:"B",amount:35e3}],e.remainy=[{id:0,class_name:"6th",student_name:"Rohit Chouhan",section:"A",amount:25e3},{id:0,class_name:"7th",student_name:"Amy Jakson",section:"B",amount:2e4}],e.collected=[{id:0,class_name:"6th",student_name:"Pavan Sharma",section:"A",amount:1e5},{id:0,class_name:"7th",student_name:"Juhi Jain",section:"B",amount:1e5}],e.to_be_collected=[{id:0,class_name:"6th",student_name:"Harish Ayyar",section:"A",amount:5e4},{id:0,class_name:"7th",student_name:"Lokendra Solanki",section:"B",amount:7e5}],e.selectItemType=function(a,b){e.searchTerm="",e.selectedItem=a,e.selectedItemName=b},g.setSidebar(),a.showBackStrech=!1,a.mypageloading=!0,e.showStudentInfo=!1,e.showPayAlert=!1,e.feePaidList=[],e.studentList=[],e.FessDetails=[],e.FullValue=[],e.FessPaid=[],e.Installment=[],e.searchstudent="";var o=864e5;e.currentDate=new Date,e.currentDate.setTime(e.currentDate.getTime()-o),e.currentDateTimeStamp=e.currentDate.getTime(),e.globelSearchstudent={name:""},e.showGloble=!1,e.PaymentMode="",e.classList=[],e.classSelect="",e.studentListForPay=[],e.ShowStudentDetails=[],e.OldRecpt=[],e.StudentSelect="",e.lateFeeAmount=0,e.discountAmount=0,e.description="",e.TodayDate=new Date,e.profileInfo=angular.fromJson(j.profileInfo),e.visibility=!1,e.yourchoice="",e.studentList=[];var p={};e.balanceText="",e.ChequeInfo={cheque_number:"",micr_number:"",bank_name:"",brach_name:"",data:""},e.FeeDetails={allot_id:"",feesubcat_id:"",installment_id:"",feesucatname:"",installment_name:"",feecatname:"",classSelect:"",StudentSelect:""},e.currentDate=new Date,e.getAllStudent=function(){f.debug("HandShakeService.allStudentList call"),c.getAllStudentInfo().then(function(a){f.debug("HandShakeService existingStudentList received"),e.studentList=a}),f.debug("HandShakeService.existingStudentList passed")},e.getAllStudent(),e.allfeePaidList=function(){a.mypageloading=!0;var b=h.HttpGetData(a.serverURL+"/customer/feespaid");b.then(function(b){b.success?(e.feePaidList=b.data,angular.forEach(e.feePaidList,function(a){a.Datestatus=g.checkDate(a),a.name="",a.rollno="",a.grade="",a.emer_1="";for(var b=0;b<=e.studentList.length-1;b++)a.student_id==e.studentList[b]._id&&(a.name=e.studentList[b].name,a.rollno=e.studentList[b].rollno,a.grade=n(e.studentList[b].grade_id),a.emer_1=e.studentList[b].emer_1)}),e.feePaidList.sort(function(a,b){return new Date(b.time)-new Date(a.time)}),a.mypageloading=!1):d.Error(b.message)})},e.getStudent=function(){a.mypageloading=!0,c.getAllStudentInfo().then(function(a){f.debug("HandShakeService getRouteInfo received"),e.studentList=a,e.allfeePaidList()})},e.getClass=function(){return 0==e.classList.length&&void c.getGradeInfo().then(function(a){f.debug("HandShakeService getRouteInfo received"),e.classList=a,e.getStudent()})},e.getClass(),e.viewStudentt=function(a){e.FessDetails=[],e.FessPaid=[],e.Installment=[],e.searchstudent="",e.FessPaid=a;var b=e.InstallmentValue(e.FessPaid.feeDetails[0].installment_name);e.FessPaid.feeDetails[0].installment_name=b,e.showStudentInfo=!0},e.viewAddPay=function(){e.globelSearchstudent.name="",e.showGloble=!1,e.PaymentMode="",e.StudentSelect="",e.lateFeeAmount=20,e.discountAmount=10,e.payTotalAmount=0,e.description="",e.classSelect="",e.OldRecpt=[],e.studentInstallment=[],e.ShowStudentDetails=[],e.ChequeInfo={cheque_number:"",micr_number:"",bank_name:"",brach_name:"",date:""},e.FeeDetails={allot_id:"",feesubcat_id:"",installment_id:"",feesucatname:"",installment_name:"",feecatname:"",classSelect:"",StudentSelect:""},e.payOtherDetails={description:"",PaymentMode:""},e.showAddPay=!0},a.mypageloading=!1,e.selectedClass=function(b){e.showGloble=!1,e.FeeDetails.classSelect=b,e.globelSearchstudent.name="",e.FeeDetails.StudentSelect="",e.studentListForPay=[],e.OldRecpt=[],e.studentInstallment=[],e.payOtherDetails={description:"",PaymentMode:""},e.ChequeInfo={cheque_number:"",micr_number:"",bank_name:"",brach_name:"",date:""},d.Error(""),a.mypageloading=!0,c.getStudentInfo(b).then(function(b){a.mypageloading=!1,e.studentListForPay=b})},e.InstallmentValue=function(a){var b=a%10,c=a%100;return 1==b&&11!=c?a+"st":2==b&&12!=c?a+"nd":3==b&&13!=c?a+"rd":a+"th"},e.selectedStudent=function(b){e.showGloble=!1,d.Error(""),e.FeeDetails.StudentSelect=b,e.StudentSelect=b,e.ShowStudentDetails=[];var c=h.HttpGetData(a.serverURL+"/customer/feeallotment/student?student_id="+b);c.then(function(a){if(a.success){if(e.OldRecpt=[],e.studentInstallment=[],e.ShowStudentDetails=a.data,e.OldRecpt=a.data.fees_paid,""==e.ShowStudentDetails.result)return angular.forEach(e.studentListForPay,function(a){a._id==b&&d.Error(e.ShowStudentDetails.message+" "+a.name)}),!1;e.FeeDetails={allot_id:e.ShowStudentDetails.fees_details[0]._id,classSelect:e.FeeDetails.classSelect,StudentSelect:e.FeeDetails.StudentSelect,feesubcat_id:e.ShowStudentDetails.fees_details[0].feesubcatid,installment_id:"",feesucatname:e.ShowStudentDetails.fees_details[0].feesubcatname,installment_name:"",feecatname:e.ShowStudentDetails.fees_details[0].feecatname
},e.studentInstallment=a.data.fees_details;var c=a.data.fees_details;if(c){var f=[];angular.forEach(c,function(a){a.feesubcat.installments&&angular.forEach(a.feesubcat.installments,function(b){var c=!1;e.currentDate>new Date(b.due)&&(c=!0),f.push({_id:b._id,name:b.name,start:b.start,due:b.due,end:b.end,amount:b.amount,feecatname:a.feecatname,feesubcatname:a.feesubcatname,status:b.status,check:!1,isDueover:c,feesubcat_id:a.feesubcatid,feecatid:a.feecatid})})})}e.studentInstallment=f,angular.forEach(e.studentInstallment,function(a){var b=e.InstallmentValue(a.name);a.name=b}),p={};for(var g=0;g<=e.studentList.length-1;g++)b==e.studentList[g]._id&&(p=e.studentList[g]);angular.forEach(e.OldRecpt,function(a){var b=e.InstallmentValue(a.feeDetails[0].installment_name);a.feeDetails[0].installment_name=b,a.name=p.name,a.rollno=p.rollno,a.grade=n(p.grade_id),a.emer_1=p.emer_1}),e.studentInstallment.discountAmount="",e.studentInstallment.discountRamark="",e.studentInstallment.lateFeeAmount="",e.studentInstallment.lateFeeRemark="",e.studentInstallment.newBalance={amount:"",reason:""},e.calculateAmount()}else d.Error(a.message)})},e.calculateAmount=function(){var a=0;d.Error(""),angular.forEach(e.studentInstallment,function(b){1==b.check&&(a=b.amount+a)}),a+=e.studentInstallment.lateFeeAmount,a-=e.studentInstallment.discountAmount,p&&p.balance&&(e.studentInstallment.balance=-1*p.balance,p.balance<0?e.balanceText="Previous Due":p.balance>0&&(e.balanceText="Previous Balance"),a+=-1*p.balance),e.payTotalAmount=a},e.calculateBalance=function(){e.studentInstallment.newBalance.amount=e.studentInstallment.actualAmount-e.payTotalAmount},e.change=function(){d.Error(""),e.showGloble=!1,e.visibility=!1},e.changeModeArray=function(a){"CHEQUE"==a&&(e.ChequeInfo={cheque_number:"",micr_number:"",bank_name:"",brach_name:"",date:""}),"NEFT/RTGS"==a&&(e.ChequeInfo={transaction_number:""}),d.Error(""),e.visibility=!1},e.CheckBoxStatus=function(a,b){d.Error(""),e.studentInstallment[a].check==b,e.calculateAmount()},e.checkPermission=function(){e.showPayAlert=!0},e.close=function(){e.showGloble=!1,e.showPayAlert=!1,e.showAddPay=!0},e.ClickSearch=function(){return""==e.globelSearchstudent.name?(e.showGloble=!1,!1):void(e.showGloble=!0)},e.selectStudentSearch=function(a){console.log(a.name),e.globelSearchstudent={name:a.name},e.FeeDetails.StudentSelect=a._id,e.showGloble=!1,e.selectedStudent(a._id)},e.PayAmount=function(){e.showPayAlert=!1,e.FeeDetails2=[],angular.forEach(e.studentInstallment,function(a){1==a.check&&e.FeeDetails2.push({allot_id:a._id,feesubcat_id:a.feesubcat_id,installment_id:a._id,feesubcatname:a.feesubcatname,installment_name:a.name,feecatname:a.feecatname,amount:a.amount})});var b={topay:e.payTotalAmount,amount:e.studentInstallment.actualAmount,balance:e.studentInstallment.newBalance,student_id:e.StudentSelect,description:e.payOtherDetails.description,paymentmode:e.payOtherDetails.PaymentMode,paymentmodedetails:e.ChequeInfo,feeDetails:e.FeeDetails2,prevbalance:p.balance,latefees:{amount:e.studentInstallment.lateFeeAmount,reason:e.studentInstallment.lateFeeRemark},discount:{amount:e.studentInstallment.discountAmount,reason:e.studentInstallment.discountRamark}};if(""==b.student_id)return d.Error("Please Select Student"),!1;if(!b.amount)return d.Error("Please fill actual amount"),!1;if(""==b.payloadRequest)return d.Error("Please Select Minimun 1 Installment"),!1;if(b.payloadRequest<1)return d.Error("Please use Correct Amount"),!1;if(0==b.feeDetails.length)return d.Error("Please Select Minimun 1 Installment"),!1;if(""==b.paymentmode)return d.Error("Please Select Payment Mode"),!1;if("CHEQUE"==b.paymentmode){if(""==b.paymentmodedetails.bank_name||void 0==b.paymentmodedetails.bank_name)return d.Error("Please Enter Bank Name"),!1;if(""==b.paymentmodedetails.brach_name||void 0==b.paymentmodedetails.brach_name)return d.Error("Please Enter Branch Name"),!1;if(""==b.paymentmodedetails.cheque_number||void 0==b.paymentmodedetails.cheque_number)return d.Error("Please Enter Cheque Number"),!1;if(""==b.paymentmodedetails.micr_number||void 0==b.paymentmodedetails.micr_number)return d.Error("Please Select Micr Number"),!1;if(""==b.paymentmodedetails.date)return d.Error("Please Select Date"),!1}if("NEFT/RTGS"==b.paymentmode&&(""==b.paymentmodedetails.transaction_number||void 0==b.paymentmodedetails.transaction_number))return d.Error("Please Enter transaction number"),!1;a.mypageloading=!0;var c=h.HttpPostData(a.serverURL+"/customer/feespaid",b);c.then(function(b){if(a.mypageloading=!1,b.success){var c=b.data;angular.forEach(e.studentList,function(a){a._id===c.student_id&&(c.rollno=a.rollno,c.name=a.name,c.emer_1=a.emer_1,c.grade=n(a.grade_id))}),e.viewStudentt(c),e.allfeePaidList(),e.showAddPay=!1,p.balance=c.balance.amount,p.balance&&i.openStore("student",function(a){a.delete(p.rollno).then(function(b){var c=[p];a.upsert(c).then(function(a){f.debug("upserted successfully in studentStore")},function(a){f.debug("Error in upserting in studentStore = "+a)})},function(a){f.debug("Error in upserting in studentStore = "+a)})})}else d.Error(b.data.message)})},e.example14settings={scrollableHeight:"300px",scrollable:!0,enableSearch:!0,showCheckAll:!1,showUncheckAll:!1},e.example14settings2={scrollableHeight:"300px",scrollable:!0,selectionLimit:0,enableSearch:!0,showCheckAll:!1,showUncheckAll:!1},e.export=function(){kendo.drawing.drawDOM($("#exportthis")).then(function(a){kendo.drawing.pdf.saveAs(a,"FeeAllotment.pdf")})},e.setCalender=function(){e.visibility=!0},e.printToCart=function(a){var b=document.getElementById("printSectionId").innerHTML,c=document.body.innerHTML;document.body.innerHTML=b,window.print(),document.body.innerHTML=c,kendo.drawing.drawDOM($("#printSectionId")).then(function(b){kendo.drawing.pdf.saveAs(b,"Fee_Receipt_No_"+a+".pdf")})},e.printToCart1=function(a,b){kendo.drawing.drawDOM($("#"+a)).then(function(a){kendo.drawing.pdf.saveAs(a,"Fee_Receipt_No_"+b+".pdf")})}}]),app.controller("feeReportsController",["$rootScope","$location","HandShakeService","FlashService","$scope","$log","UtilService","HttpService","$indexedDB","$sessionStorage","$timeout","$firebaseAuth","Auth",function(a,b,c,d,e,f,g,h,i,j,k,l,m){function n(a){return 0==e.filterObject.classIdList.length||e.filterObjClassIdArray.indexOf(a.grade_id)!=-1}function o(a){return 0==e.filterObject.installmentNameList.length||e.filterObjInstallmentNameList.indexOf(a)!=-1}function p(a){return 0==e.filterObject.feeCatIdList.length||e.filterObjFeeCatIdList.indexOf(a)!=-1}function q(a){return!e.filterObject.feestatus||a==e.filterObject.feestatus}function r(){var b=h.HttpGetData(a.serverURL+"/customer/feecat");b.then(function(a){a.success&&(e.Category=a.data,angular.forEach(a.data,function(a){t[a._id]=a.name})),e.getInstallmentDetails()})}e.showFeeReports=!1,g.setSidebar(),e.showConfirmButton=!1,e.currentDate=new Date,e.getStudentStatus=[],e.classDetails=[],e.feeCategory=[];var s={};e.selectedClassId=[],e.selectedFeeId=[];var t={};e.showIndividualStudentClassName=!1,e.filterObjClassIdArray=[],e.filterObjFeeCatIdList=[],e.filterObjInstallmentNameList=[],e.onDate=(new Date).toDateString(),a.mypageloading=!0,e.exportFileType="pdf",e.example14settings={scrollableHeight:"200px",scrollable:!0,enableSearch:!0},e.filterObject={classIdList:[],feestatus:"",installmentNameList:[],feeCatIdList:[]},e.confirmNotifyParentsFunction=function(){e.showConfirmButton=!0},e.cancelNotifyParentsFunction=function(){e.showConfirmButton=!1},e.notifyParentsFunction=function(){a.mypageloading=!0,e.showConfirmButton=!1;var b=h.HttpGetData(a.serverURL+"/customer/feespaid/remainder");b.then(function(b){b.success?(a.mypageloading=!1,window.alert("Successfully sent notification to all parents")):window.alert("Something went wrong on notification.")})},e.filterFunction=function(){e.viewFilteredList=[],e.filterObjClassIdArray=[],e.filterObjFeeCatIdList=[],e.filterObjInstallmentNameList=[];for(var a=0;a<e.filterObject.classIdList.length;a++)e.filterObjClassIdArray.push(e.filterObject.classIdList[a]._id);for(var a=0;a<e.filterObject.feeCatIdList.length;a++)e.filterObjFeeCatIdList.push(e.filterObject.feeCatIdList[a]._id);for(var a=0;a<e.filterObject.installmentNameList.length;a++)e.filterObjInstallmentNameList.push(e.filterObject.installmentNameList[a]._id);angular.forEach(e.installmentDetails,function(a){var b=!0,c=!1,d=!1,f="PAID",g=0;if(n(a)&&Object.keys(a.installments).length)for(var h in a.installments){var i=a.installments[h];if(o(h)){d=!0;for(var j=0;j<i.length;j++)p(i[j].feecatid)?(0!=e.filterObject.feeCatIdList.length&&(c=!0),"UNPAID"==i[j].status&&(f="UNPAID",g+=i[j].amount)):c||(b=!1);d&&c&&(b=!0)}else d||(b=!1)}else b=!1;a.status=f,q(f)||(b=!1),b&&e.viewFilteredList.push({rollno:a.rollno,name:a.name,emer_1:a.emer_1,installmentData:a.installments,status:a.status,totalAmount:g,balance:a.balance,class:s[a.grade_id].name,grade_id:a.grade_id})}),e.showIndividualStudentClassName=!0},e.viewFeeReport=function(a){e.viewInstallmentDetailsArray=[];for(var b=0;b<e.installmentDetails.length;b++){if(e.installmentDetails[b].rollno==a.rollno){var c=e.installmentDetails[b].installments;for(var d in c)for(var f=c[d],g=0;g<f.length;g++)e.viewInstallmentDetailsArray.push({feeCatID:t[f[g].feecatid],feeName:f[g].fees,amount:f[g].amount,status:f[g].status,installmentNo:[d]});e.studentName=e.installmentDetails[b].name,e.studentRollNumber=e.installmentDetails[b].rollno,e.studentContactNumber=e.installmentDetails[b].emer_1,e.studentGradeId=e.installmentDetails[b].grade_id,e.studentBalance=a.balance}e.showFeeReports=!0}var h=a.class.split("-");e.studentClassName=h[0],e.studentSectionName=h[1],e.showFeeReports=!0},e.getInstallmentDetails=function(){e.filterObject={classIdList:[],feestatus:"",installmentNameList:[],feeCatIdList:[]},a.mypageloading=!0,e.getStudentStatus=[],e.selectedClassId=[],e.selectedFeeId=[],e.viewFilteredList=[],e.showIndividualStudentClassName=!0,e.insertInstallmentData=[],e.finalInstallmentCount=[],e.getAllInstallmentCountIteration=[];var b=h.HttpGetData(a.serverURL+"/customer/feesaggregate/due");b.then(function(b){if(1==b.success){e.installmentDetails=b.data;for(var c=0;c<e.installmentDetails.length;c++){e.insertInstallmentData=[];var d="PAID",g=0,h=e.installmentDetails[c].installments;for(var i in h){for(var j=h[i],k=0;k<j.length;k++)"UNPAID"==j[k].status&&(d="UNPAID",g+=j[k].amount);e.getAllInstallmentCountIteration.push({name:i,_id:i})}e.viewFilteredList.push({rollno:e.installmentDetails[c].rollno,name:e.installmentDetails[c].name,emer_1:e.installmentDetails[c].emer_1,installmentData:e.insertInstallmentData,status:d,totalAmount:g,balance:e.installmentDetails[c].balance,class:s[e.installmentDetails[c].grade_id].name,grade_id:s[e.installmentDetails[c].grade_id]._id})}angular.forEach(e.getAllInstallmentCountIteration,function(a){e.finalInstallmentCount[a.name]=a}),a.mypageloading=!1}else f.debug("Error in feesaggregate/due ")})},e.getClassDetails=function(){a.mypageloading=!0,c.getGradeInfo().then(function(a){e.classDetails=a,angular.forEach(a,function(a){s[a._id]=a}),r()},function(a){f.debug("insert in class objectstore failed1 , error = "+a)})},e.export=function(){e.viewFilteredList.length&&kendo.drawing.drawDOM($("#exportthis")).then(function(a){kendo.drawing.pdf.saveAs(a,"FeeReports-"+e.onDate+".pdf")})},e.exportAction=function(){switch(e.exportFileType){case"pdf":kendo.drawing.drawDOM($("#exportthis")).then(function(a){kendo.drawing.pdf.saveAs(a,"FeeReports-"+e.onDate+".pdf")});break;case"xls":e.$broadcast("export-excel",{});break;case"doc":e.$broadcast("export-doc",{});break;case"csv":e.$broadcast("export-csv",{})}},e.getClassDetails()}]),app.controller("pocketmoneyController",["$rootScope","$location","HandShakeService","FlashService","$scope","$log","UtilService","HttpService","$indexedDB","$sessionStorage","$timeout","$firebaseAuth","Auth",function(a,b,c,d,e,f,g,h,i,j,k,l,m){g.setSidebar(),a.showBackStrech=!1,a.mypageloading=!0,e.showStudentInfo=!1,e.showPayAlert=!1,e.feePaidList=[],e.studentList=[],e.FessDetails=[],e.FullValue=[],e.FessPaid=[],e.Installment=[],e.searchstudent="";var n=864e5;e.currentDate=new Date,e.currentDate.setTime(e.currentDate.getTime()-n),e.currentDateTimeStamp=e.currentDate.getTime(),e.exportFileType="pdf",e.globelSearchstudent={name:""},e.showGloble=!1,e.PaymentMode="",e.classList=[],e.classSelect="",e.studentListForPay=[],e.ShowStudentDetails=[],e.OldRecpt=[],e.StudentSelect="",e.lateFeeAmount=0,e.discountAmount=0,e.description="",e.TodayDate=new Date,e.profileInfo=angular.fromJson(j.profileInfo),e.visibility=!1,e.yourchoice="",e.studentList=[];var o={};e.balanceText="",e.payType="CREDIT",e.onDate=(new Date).toDateString(),e.pocketMoneyOfSelectedStudent=0,e.getNameOfSelectedStudent="",e.getRollNoOfSelectedStudent="",e.getClassOfSelectedStudent="",e.getContactNoOfSelectedStudent="",e.getPaymentModeOfSelectedStudent="",e.getTotalPocketMoneyOfSelectedStudent=0,e.showWhenpaymentFailed=!1,e.showPocketMoneyPayment=!0,e.getTransactionListOfStudents=[];var p={},q={};e.ChequeInfo={cheque_number:"",micr_number:"",bank_name:"",brach_name:"",data:""},e.FeeDetails={allot_id:"",feesubcat_id:"",installment_id:"",feesucatname:"",installment_name:"",feecatname:"",classSelect:"",StudentSelect:""},e.currentDate=new Date,e.getAllStudent=function(){f.debug("HandShakeService.allStudentList call"),c.getAllStudentInfo().then(function(a){f.debug("HandShakeService existingStudentList received"),e.studentList=a,angular.forEach(e.studentList,function(a){p[a.grade_id]._id==a.grade_id&&(q[a._id]=a,q[a._id].class=p[a.grade_id].name)}),e.getTransactionDetails()}),f.debug("HandShakeService.existingStudentList passed")},e.getTransactionDetails=function(){e.getTransactionListOfStudents=[];var b=h.HttpGetData(a.serverURL+"/customer/transaction/getTransactionbyCustId");b.then(function(a){a.success?angular.forEach(a.data,function(a){q[a.student_id]._id==a.student_id&&e.getTransactionListOfStudents.push({name:q[a.student_id].name,class:q[a.student_id].class,rollno:q[a.student_id].rollno,pocketMoney:q[a.student_id].pocketMoney,contactNo:q[a.student_id].emer_1,amount:a.amount,credit:a.credit,debit:a.debit,mode:a.mode,status:a.status,time:a.time,type:a.type})}):d.Error(a.data.message)})},e.getClass=function(){return 0==e.classList.length&&void c.getGradeInfo().then(function(a){f.debug("HandShakeService getRouteInfo received"),e.classList=a,angular.forEach(a,function(a){p[a._id]=a}),e.getAllStudent()})},e.getClass(),e.viewAddPay=function(){a.firebaseUser.getToken(!0).then(function(a){}),e.globelSearchstudent.name="",e.showGloble=!1,e.PaymentMode="",e.StudentSelect="",e.lateFeeAmount=20,e.discountAmount=10,e.payTotalAmount=0,e.description="",e.classSelect="",e.OldRecpt=[],e.studentInstallment=[],e.ShowStudentDetails=[],e.ChequeInfo={cheque_number:"",micr_number:"",bank_name:"",brach_name:"",date:""},e.FeeDetails={allot_id:"",feesubcat_id:"",installment_id:"",feesucatname:"",installment_name:"",feecatname:"",classSelect:"",StudentSelect:""},e.payOtherDetails={description:"",PaymentMode:""},e.studentListForPay=[],e.getNameOfSelectedStudent="",e.getRollNoOfSelectedStudent="",e.getClassOfSelectedStudent="",e.getContactNoOfSelectedStudent="",e.getPaymentModeOfSelectedStudent="",e.getTotalPocketMoneyOfSelectedStudent=0,e.showWhenpaymentFailed=!1,e.showPocketMoneyPayment=!0,e.showAddPay=!0},e.InstallmentValue=function(a){var b=a%10,c=a%100;return 1==b&&11!=c?a+"st":2==b&&12!=c?a+"nd":3==b&&13!=c?a+"rd":a+"th"},e.calculateAmount=function(){var a=0;d.Error(""),angular.forEach(e.studentInstallment,function(b){1==b.check&&(a=b.amount+a)}),a+=e.studentInstallment.lateFeeAmount,a-=e.studentInstallment.discountAmount,o&&o.balance&&(e.studentInstallment.balance=-1*o.balance,o.balance<0?e.balanceText="Previous Due":o.balance>0&&(e.balanceText="Previous Balance"),a+=-1*o.balance),e.payTotalAmount=a},e.calculateBalance=function(){e.studentInstallment.newBalance.amount=e.studentInstallment.actualAmount-e.payTotalAmount},e.change=function(){d.Error(""),e.showGloble=!1,e.visibility=!1},e.changeModeArray=function(a){"CHEQUE"==a&&(e.ChequeInfo={cheque_number:"",micr_number:"",bank_name:"",brach_name:"",date:""}),"NEFT/RTGS"==a&&(e.ChequeInfo={transaction_number:""}),d.Error(""),e.visibility=!1},e.CheckBoxStatus=function(a,b){d.Error(""),e.studentInstallment[a].check==b,e.calculateAmount()},e.checkPermission=function(){e.showPayAlert=!0},e.close=function(){e.showGloble=!1,e.showPayAlert=!1,e.showAddPay=!0},e.ClickSearch=function(){return""==e.globelSearchstudent.name?(e.FeeDetails.StudentSelect="",e.showGloble=!1,!1):void(e.showGloble=!0)},e.selectedClass=function(b,f){for(var g=0;g<f.length;g++)f[g]._id==b&&(e.getClassOfSelectedStudent=f[g].name);e.showGloble=!1,e.FeeDetails.classSelect=b,e.globelSearchstudent.name="",e.FeeDetails.StudentSelect="",e.studentListForPay=[],e.OldRecpt=[],e.studentInstallment=[],e.payOtherDetails={description:"",PaymentMode:""},e.ChequeInfo={cheque_number:"",micr_number:"",bank_name:"",brach_name:"",date:""},d.Error(""),a.mypageloading=!0,c.getStudentInfo(b).then(function(b){a.mypageloading=!1,e.studentListForPay=b})},e.selectedStudent=function(a,b){for(var c=0;c<b.length;c++)b[c]._id==a&&(e.getNameOfSelectedStudent=b[c].name,e.getRollNoOfSelectedStudent=b[c].rollno,e.getContactNoOfSelectedStudent=b[c].emer_1,b[c].pocketMoney?e.pocketMoneyOfSelectedStudent=b[c].pocketMoney:e.pocketMoneyOfSelectedStudent=0);e.FeeDetails.StudentSelect=a},e.selectStudentSearch=function(a){e.globelSearchstudent={name:a.name},e.getNameOfSelectedStudent=a.name,e.getRollNoOfSelectedStudent=a.rollno,e.getClassOfSelectedStudent=a.class,e.getContactNoOfSelectedStudent=a.emer_1,a.pocketMoney?e.pocketMoneyOfSelectedStudent=a.pocketMoney:e.pocketMoneyOfSelectedStudent=0,e.FeeDetails.StudentSelect=a._id,e.showGloble=!1},e.PayAmount=function(){e.showPayAlert=!1;var b={amount:e.studentInstallment.actualAmount,student_id:e.FeeDetails.StudentSelect,type:e.payType,mode:e.payOtherDetails.PaymentMode,credit:"",debit:""};if(e.getTotalPocketMoneyOfSelectedStudent=e.studentInstallment.actualAmount,e.getPaymentModeOfSelectedStudent=e.payOtherDetails.PaymentMode,""==b.student_id)return d.Error("Please Select Student"),!1;if(!b.amount)return d.Error("Please fill actual amount"),!1;if(""==b.payloadRequest)return d.Error("Please Select Minimun 1 Installment"),!1;if(b.payloadRequest<1)return d.Error("Please use Correct Amount"),!1;if(""==b.mode)return d.Error("Please Select Payment Mode"),!1;var c=h.HttpPostData(a.serverURL+"/customer/transaction/addTransaction",b);c.then(function(b){if(a.mypageloading=!1,b.success){e.showPocketMoneyPayment=!1;var c=q[e.FeeDetails.StudentSelect];i.openStore("student",function(a){a.delete(c.rollno).then(function(b){c.pocketMoney?c.pocketMoney+=e.studentInstallment.actualAmount:c.pocketMoney=e.studentInstallment.actualAmount;var d=[c];a.upsert(d).then(function(a){f.debug("upserted successfully in studentStore")},function(a){f.debug("Error in upserting in studentStore = "+a)})},function(a){f.debug("Error in upserting in studentStore = "+a)})})}else e.showPocketMoneyPayment=!1,e.showWhenpaymentFailed=!0,d.Error(b.data.message)})},e.example14settings={scrollableHeight:"300px",scrollable:!0,enableSearch:!0,showCheckAll:!1,showUncheckAll:!1},e.example14settings2={scrollableHeight:"300px",scrollable:!0,selectionLimit:0,enableSearch:!0,showCheckAll:!1,showUncheckAll:!1},e.export=function(){kendo.drawing.drawDOM($("#exportthis")).then(function(a){kendo.drawing.pdf.saveAs(a,"pocketMoney.pdf")})},e.setCalender=function(){e.visibility=!0},e.printToCart=function(a){},e.printToCart1=function(){kendo.drawing.drawDOM($("#printSectionId")).then(function(a){kendo.drawing.pdf.saveAs(a,"Pocketmoney-"+e.getNameOfSelectedStudent+"-"+e.onDate+".pdf")})},e.exportAction=function(){switch(e.exportFileType){case"pdf":kendo.drawing.drawDOM($("#printSectionId")).then(function(a){kendo.drawing.pdf.saveAs(a,"Pocketmoney-"+e.getNameOfSelectedStudent+"-"+e.onDate+".pdf")});break;case"xls":e.$broadcast("export-excel",{});break;case"doc":e.$broadcast("export-doc",{});break;case"csv":e.$broadcast("export-csv",{})}}}]),app.controller("studentAttendanceController",["$rootScope","$location","HandShakeService","FlashService","$scope","$log","UtilService","HttpService","$indexedDB","$sessionStorage","$timeout","$firebaseAuth","Auth",function(a,b,c,d,e,f,g,h,i,j,k,l,m){g.setSidebar(),a.showBackStrech=!1,e.totalPresentCount=0,e.totalAbsentCount=0,e.totalMissingClassCount=0,e.showDefaultAttendance=[],e.showModal=!1,e.testModal=!1,a.mypageloading=!0,e.classSelect="",e.monthSelect="",e.searchstudent="",e.monthDay=[],e.studentList=[],e.studentNameList=[],e.timeStampValue="",e.studentAttendance=[],e.currentCalendarSession="",e.monthList=[{monthId:"1",name:"Jan"},{monthId:"2",name:"Feb"},{monthId:"3",name:"March"},{monthId:"4",name:"April"},{monthId:"5",name:"May"},{monthId:"6",name:"June"},{monthId:"7",name:"July"},{monthId:"8",name:"August"},{monthId:"9",name:"Sep"},{monthId:"10",name:"Oct"},{monthId:"11",name:"Nov"},{monthId:"12",name:"Dec"}];var n=new Date;e.currentYear=n.getFullYear();var o=function(){e.totalPresentCount=0,e.totalAbsentCount=0;var b=h.HttpGetData(a.serverURL+"/customer/teacher/todayattendance");b.then(function(b){if(a.mypageloading=!1,1==b.success){e.todaysattendance=b.data,e.totalMissingClassCount=parseInt(e.classList.length-e.todaysattendance.length);for(var c=0;c<e.todaysattendance.length;c++){e.todaysattendance[c].presentCount=0,e.todaysattendance[c].absentCount=0,e.todaysattendance[c].time=g.timeInMin(new Date(Number(e.todaysattendance[c].time))),angular.forEach(e.classList,function(a){if(a._id===e.todaysattendance[c].class_id){e.todaysattendance[c].class_name=a.name;var b=e.showDefaultAttendance.indexOf(a.name);b!==-1&&e.showDefaultAttendance.splice(b,1)}}),angular.forEach(e.teachersList,function(a){a.teacher_id===e.todaysattendance[c].teacher_id&&(e.todaysattendance[c].teacher_name=a.name)}),angular.forEach(e.teachersList,function(a){a.teacher_id===e.todaysattendance[c].teacher_id&&(e.todaysattendance[c].teacher_name=a.name)});for(var d in e.todaysattendance[c].students)if(e.todaysattendance[c].students.hasOwnProperty(d)){var f=e.todaysattendance[c].students[d];f?e.todaysattendance[c].presentCount++:e.todaysattendance[c].absentCount++}e.totalPresentCount=e.totalPresentCount+e.todaysattendance[c].presentCount,e.totalAbsentCount=e.totalAbsentCount+e.todaysattendance[c].absentCount}}})};e.getClasses=function(){c.getGradeInfo().then(function(a){f.debug("HandShakeService getRouteInfo received"),e.classList=a;for(var b=0;b<e.classList.length;b++)e.showDefaultAttendance.push(e.classList[b].name);p()})},e.getClasses();var p=function(){var b=h.HttpGetData(a.serverURL+"/customer/teacher");b.then(function(b){a.mypageloading=!1,1==b.success&&(e.teachersList=b.data,o())})};e.selectClass=function(a){e.classSelect=a,c.getStudentInfo(a).then(function(a){e.studentList=a,e.monthSelect=""})},e.getDaysInMonth=function(a,b){return(new Date(b,a).getTime()-new Date(b,a-1).getTime())/864e5},e.getMonthList=function(a){for(var b=1;b<=a;b++)e.monthDay.push(b)},e.changeSchoolCalendarSession=function(){if(e.currentCalendarSession){e.timeStampValue=e.currentCalendarSession.getTime()+1296e6;var a=new Date(e.timeStampValue),b=a.getMonth()+1;e.monthSelect=b;var c=a.getFullYear(),d=e.getDaysInMonth(b,c);e.monthDay=[],e.getMonthList(d),e.getAttendance()}},e.getAttendance=function(){a.mypageloading=!0;var b=h.HttpGetData(a.serverURL+"/customer/teacher/attendance?class_id="+e.classSelect+"&&time="+e.timeStampValue);b.then(function(b){if(b.success){e.array=[],e.studentAttendance=[],e.allData=[];var c=b.data;if(console.log(b.data),c){for(var d=1;d<=e.monthDay.length;d++)c[d]?e.allData[d]=c[d]:e.allData[d]="";e.studentAttendance=[],angular.forEach(e.studentList,function(a){for(var b=[],d=1;d<=e.monthDay.length;d++)c[d]&&void 0!=c[d][a._id]?b.push(c[d][a._id]):b.push("-");var f=0,g=0,h=0;if(b)for(var i=0;i<b.length;i++)"-"==b[i]&&(h+=1),1==b[i]&&(f+=1),0==b[i]&&(g+=1);e.studentAttendance.push({studentInfo:a,attendance:b,totalPresent:f,totalAbsent:g,totalholiday:h})})}}a.mypageloading=!1})},e.example14settings={scrollableHeight:"300px",scrollable:!0,enableSearch:!0,showCheckAll:!1,showUncheckAll:!1},e.export=function(){kendo.drawing.drawDOM($("#exportthis")).then(function(a){kendo.drawing.pdf.saveAs(a,"StudentAttendance.pdf")})}}]),app.controller("GateAttendanceController",["$rootScope","$scope","$q","$indexedDB","mapService","constantService","HttpService","UtilService","HandShakeService","$sessionStorage","$timeout","$log","$routeParams",function(a,b,c,d,e,f,g,h,i,j,k,l,m){function n(a){a.sort(function(a,b){var c=new Date(a.time),d=new Date(b.time);return c<d?-1:c>d?1:0})}l.debug("ReportsController reporting for duty."),a.showBackStrech=!1,h.setSidebar(),b.onDate=(new Date).toDateString(),b.calenderVisibility=!1;b.studentDetailsPopup=!1,b.alertdetailspopup=!1,b.fromMaxDate=Date(),b.toMaxDate=Date(),b.toMinDate="",b.fromDate="",b.toDate="",b.tripList=[],b.replayView=!1,b.moving=!1,b.isPaused=!1,b.replaytime="",b.totalTime=0,b.totalDistance=0,b.custom_date=!1;b.includeMobileTemplate=!1,b.duration="Time",b.nextPressed=!1;b.summary_list=[],b.isDetail=!1;b.busMarker={},h.replayLines=[],b.calender=!1,b.exportFileType="pdf",b.student_list=[],b.attendance_data=[];var o={},p={},q={};b.showSingleStudentAttendance=!1,i.getGradeInfo().then(function(a){angular.forEach(a,function(a){p[a._id]=a}),i.getAllStudentInfo().then(function(a){l.debug("HandShakeService existingStudentList received"),b.student_list=a,angular.forEach(b.student_list,function(a){o[a._id]=a}),b.getAttendanceByDate()})}),b.getAttendanceByDate=function(){b.attendance_data=[],q={};var c=g.HttpGetData(a.serverURL+"/customer/door/getdoorAttendence/date/"+b.onDate);c.then(function(a){if(1==a.success&&(b.getAttendanceDetails=a.data,b.getAttendanceDetails&&b.getAttendanceDetails.length&&b.student_list&&b.student_list.length)){var c={};angular.forEach(b.getAttendanceDetails,function(a){c[a.time+a.id]||(c[a.time+a.id]=1,q[a.id]?q[a.id].push(a):q[a.id]=[a])});for(var d in q)q.hasOwnProperty(d)&&(n(q[d]),b.attendance_data.push({name:o[d].name,punches:q[d],class:p[o[d].grade_id].name}))}})},b.getListOfStudentAttendance=function(){b.getListOfStudentAttendanceArray=[],b.showDefaultDetailsOfAttendance=[],b.StudentId=[],b.studentInData=[],b.studentOutDataArray=[],firstDataIsOut=!1,inDataisInserted=!1;var a="";if(void 0!=b.getAttendanceDetails.length){for(var c=0;c<b.getAttendanceDetails.length;c++){var d=0;if(b.student_list&&b.student_list.length>0)for(var e=0;e<b.student_list.length;e++){var f=0;if(b.getAttendanceDetails[c].id==b.student_list[e]._id)if(0!=b.getListOfStudentAttendanceArray.length){for(var g=0;g<b.getListOfStudentAttendanceArray.length;g++)b.student_list[e].name==b.getListOfStudentAttendanceArray[g]&&(f+=1,"in"==b.getAttendanceDetails[c].punch&&1==firstDataIsOut&&1!=inDataisInserted&&(b.studentInData.push(b.getAttendanceDetails[c].time),inDataisInserted=!0),"out"==b.getAttendanceDetails[c].punch&&(a=b.getAttendanceDetails[c].time));1!=f&&(b.getListOfStudentAttendanceArray.push(b.student_list[e].name),b.StudentId.push(b.student_list[e]._id),b.studentOutDataArray.push(a),"out"==b.getAttendanceDetails[c].punch&&(firstDataIsOut=!0),"in"==b.getAttendanceDetails[c].punch&&0==d&&(b.studentInData.push(b.getAttendanceDetails[c].time),d+=1,firstDataIsOut=!1,inDataisInserted=!1))}else b.getListOfStudentAttendanceArray.push(b.student_list[e].name),b.StudentId.push(b.student_list[e]._id),"out"==b.getAttendanceDetails[c].punch&&(a=b.getAttendanceDetails[c].time,firstDataIsOut=!0),"in"==b.getAttendanceDetails[c].punch&&(b.studentInData.push(b.getAttendanceDetails[c].time),d+=1,firstDataIsOut=!1,inDataisInserted=!1)}}b.studentOutDataArray.push(a);for(var h=0;h<b.getListOfStudentAttendanceArray.length;h++)b.showDefaultDetailsOfAttendance.push({name:b.getListOfStudentAttendanceArray[h],firstIn:b.studentInData[h],lastOut:b.studentOutDataArray[h],id:b.StudentId[h]});console.log(b.showDefaultDetailsOfAttendance)}else b.getListOfStudentAttendance()},b.showStudentAttendance=function(a){if(b.modealStudentDetails=a,b.studentName=[],b.firstIn=[],b.lastOut=[],b.showInformationOfStudent=[],void 0!=b.getAttendanceDetails.length)for(var c=0;c<b.getAttendanceDetails.length;c++)if(a.id==b.getAttendanceDetails[c].id&&(b.nameOfStudent=a.name,b.studentName.push(a.name),"in"==b.getAttendanceDetails[c].punch&&b.firstIn.push(b.getAttendanceDetails[c].time),"out"==b.getAttendanceDetails[c].punch&&b.lastOut.push(b.getAttendanceDetails[c].time)),void 0!=b.student_list.length)for(var d=0;d<b.student_list.length;d++)a.id==b.student_list[d]._id&&(b.rollNo=b.student_list[d].rollno,b.gender=b.student_list[d].gender,b.contactNo=b.student_list[d].emer_1,b.rfid=b.student_list[d].rfid);for(var e=0;e<b.studentName.length;e++)b.showInformationOfStudent.push({name:b.studentName[e],firstIn:b.firstIn[e],lastOut:b.lastOut[e]});b.showSingleStudentAttendance=!0},b.export=function(){b.onDate&&b.attendance_data.length&&kendo.drawing.drawDOM($("#exportthis")).then(function(a){kendo.drawing.pdf.saveAs(a,"GateAttendance-"+b.onDate+".pdf")})},b.exportAction=function(){switch(b.exportFileType){case"pdf":kendo.drawing.drawDOM($("#exportthis")).then(function(a){kendo.drawing.pdf.saveAs(a,"GateAttendance-"+b.onDate+".pdf")});break;case"xls":b.$broadcast("export-excel",{});break;case"doc":b.$broadcast("export-doc",{});break;case"csv":b.$broadcast("export-csv",{})}}}]),app.controller("smsReportsController",["$rootScope","$scope","$q","$indexedDB","mapService","constantService","HttpService","UtilService","HandShakeService","$sessionStorage","$timeout","$log","$routeParams",function(a,b,c,d,e,f,g,h,i,j,k,l,m){function n(a){return 0==b.filterObject.classNames.length||b.filterClassIdArray.indexOf(a.grade_id)!=-1}function o(a){return 0==b.filterObject.studentNames.length||b.filterStudentIdArray.indexOf(a._id)!=-1}function p(a){return""==a||null==a||void 0==a||b.filterStudentDateArray.indexOf(a)!=-1}l.debug("ReportsController reporting for duty."),a.showBackStrech=!1,h.setSidebar(),b.example14settings={scrollableHeight:"200px",scrollable:!0,enableSearch:!0},b.filterObject={studentNames:[],classNames:[]},b.fromDate="",b.toDate="",b.onDate=(new Date).toDateString(),a.mypageloading=!0,b.exportFileType="pdf",b.getSmsReportsData=[],b.filterStudentIdArray=[],b.filterStudentDateArray=[],b.filterClassIdArray=[];var q={},r={},s={},t={};b.getSmsReports=function(){b.getSmsReportsData=[],b.showSmsReportsData=[],b.viewFilteredSmsReportsData=[],b.getStudentNamesAndIdForFiter=[],b.filterObject={studentNames:[],classNames:[]},q={};var c=g.HttpGetData(a.serverURL+"/customer/getSmsReport");c.then(function(c){1==c.success?(b.getSmsReportsData=c.data,angular.forEach(b.getSmsReportsData,function(a,c){q[a._id]=a;var d=a.date.split(" "),e=d[0];d[1];if(b.showSmsReportsData.push({_id:a.student_id,grade_id:a.student_id?r[a.student_id].grade_id:"",senderId:a.senderId,number:a.number,status:a.status,desc:a.desc,date:e,time:a.date,userId:a.userId,message:a.message?a.message:"",class:a.student_id?s[r[a.student_id].grade_id].name:"",studname:a.student_id?r[a.student_id].name:"",rollno:a.student_id?r[a.student_id].rollno:""}),b.viewFilteredSmsReportsData.push({number:a.number,desc:a.desc,date:e,time:a.date,message:a.message?a.message:"",class:a.student_id?s[r[a.student_id].grade_id].name:"",studname:a.student_id?r[a.student_id].name:"",rollno:a.student_id?r[a.student_id].rollno:""}),a.student_id)if(0==b.getStudentNamesAndIdForFiter.length)b.getStudentNamesAndIdForFiter.push({name:r[a.student_id].name,_id:a.student_id});else{var f=b.getStudentNamesAndIdForFiter.some(function(b){return b._id==a.student_id});f||b.getStudentNamesAndIdForFiter.push({name:r[a.student_id].name,_id:a.student_id})}}),angular.forEach(b.showSmsReportsData,function(a){t[a._id]=a}),a.mypageloading=!1):console.log("something went wrong in sms reports");
})},b.applyFilterFunction=function(){b.filterStudentIdArray=[],b.filterStudentDateArray=[],b.filterClassIdArray=[],b.viewFilteredSmsReportsData=[];for(var a=0;a<b.filterObject.studentNames.length;a++)b.filterStudentIdArray.push(b.filterObject.studentNames[a]._id);for(var a=0;a<b.showSmsReportsData.length;a++)b.filterStudentDateArray.push(b.showSmsReportsData[a].date);for(var a=0;a<b.filterObject.classNames.length;a++)b.filterClassIdArray.push(b.filterObject.classNames[a]._id);angular.forEach(b.showSmsReportsData,function(a){var c=!0,d=!1;o(a)?n(a)?p(b.fromDate)?""!=b.fromDate&&null!=b.fromDate&&void 0!=b.fromDate&&(d=!0):(c=!1,d=!1):c=!1:(c=!1,d=!1),c&&(d?b.fromDate==a.date&&b.viewFilteredSmsReportsData.push({number:a.number,desc:a.desc,time:a.time,class:a.class,message:a.message,studname:a.studname,rollno:a.rollno}):b.viewFilteredSmsReportsData.push({number:a.number,desc:a.desc,time:a.time,class:a.class,message:a.message,studname:a.studname,rollno:a.rollno}))})},b.getStudentsDetails=function(){i.getAllStudentInfo().then(function(a){l.debug("HandShakeService existingStudentList received"),angular.forEach(a,function(a){r[a._id]=a}),b.getSmsReports()})},b.getClassDetails=function(){a.mypageloading=!0,i.getGradeInfo().then(function(a){b.classDetails=a,angular.forEach(a,function(a){s[a._id]=a}),b.getStudentsDetails()},function(a){l.debug("insert in class objectstore failed1 , error = "+a)})},b.getClassDetails(),b.export=function(){b.getSmsReportsData.length&&kendo.drawing.drawDOM($("#exportthis")).then(function(a){kendo.drawing.pdf.saveAs(a,"SmsReports-"+b.onDate+".pdf")})},b.exportAction=function(){switch(b.exportFileType){case"pdf":kendo.drawing.drawDOM($("#exportthis")).then(function(a){kendo.drawing.pdf.saveAs(a,"SmsReports-"+b.onDate+".pdf")});break;case"xls":b.$broadcast("export-excel",{});break;case"doc":b.$broadcast("export-doc",{});break;case"csv":b.$broadcast("export-csv",{})}}}]),app.controller("calenderController",["$rootScope","$scope","$filter","$q","$indexedDB","mapService","constantService","HttpService","UtilService","HandShakeService","$sessionStorage","$timeout","$log","$routeParams",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){a.mypageloading=!0,b.eventTitle="",b.eventDescription="",b.eventType="",b.showError=!1,b.disableAddButton=!0;var o={};b.selectedDefaultDate=void 0,b.showCalenderEventsFunction=function(){var a=document.getElementById("calendar"),d=new FullCalendar.Calendar(a,{plugins:["interaction","dayGrid","timeGrid"],header:{left:"prev,next today",center:"title",right:"dayGridMonth,timeGridWeek,timeGridDay"},defaultDate:b.selectedDefaultDate,navLinks:!0,selectable:!0,selectMirror:!0,select:function(a){b.showError=!1,b.disableAddButton=!0,$("#eventTitle").val(""),$("#eventDescription").val(""),$("#eventType").val(""),$("#createEventModal").modal("show"),b.selectedDefaultDate=c("date")(a.start,"yyyy-MM-dd"),b.dateSelected=a.start.toDateString(),d.unselect()},editable:!0,eventLimit:!0,eventRender:function(a,b){$("#calendar").tooltip({title:a.title})},eventClick:function(a){b.disableAddButton=!0,angular.forEach(b.calenderEvents,function(d){o[d.id]=d,a.event.id==o[d.id]._id&&($("#updateEventTitle").val(o[d.id].title),$("#updateEventDescription").val(o[d.id].description),$("#updateEventType").val(o[d.id]._type),b.dateSelected=c("date")(o[d.id].date,"yyyy-MM-dd"),b.selectedDefaultDate=c("date")(o[d.id].date,"yyyy-MM-dd"),b.updateEventTitle=o[d.id].title,b.updateEventDescription=o[d.id].description,b.updateEventType=o[d.id]._type,b.updateEventId=o[d.id]._id,$("#updateOrDeleteEventModal").modal("show"))})},events:b.getEvents});d.render()},b.hideModal=function(){b.disableAddButton=!0,b.showError=!1,$("#eventTitle").val(""),$("#eventDescription").val(""),$("#eventType").val(""),b.eventTitle="",b.eventDescription="",b.eventType="Select type",$("#createEventModal").modal("hide"),$("#updateOrDeleteEventModal").modal("hide")},b.detectChangesFunction=function(a,c){""!=a&&null!=a&&""!=c&&"Select type"!=c&&null!=c?b.disableAddButton=!1:b.disableAddButton=!0},b.detectChangesInUpdateFunction=function(a,c){""!=a&&null!=a&&""!=c&&"Select type"!=c&&null!=c?b.disableAddButton=!1:b.disableAddButton=!0},b.addEventInCalender=function(c,d,e){if(b.showError=!1,""==c||null==c||""==e||"Select type"==e||null==e)return b.showError=!0,!1;b.eventTitle="",b.eventDescription="",b.eventType="Select type",b.hideModal(),b.disableAddButton=!0,a.mypageloading=!0;var f=[{title:c,description:d,type:e,date:[b.dateSelected]}],g=h.HttpPostData(a.serverURL+"/customer/calender/addHoliday",f);g.then(function(a){a.success?b.getCalenderEvent():console.log("Error in get calender events")})},b.updteEventInCalender=function(c,d,e,f){if("Select type"==f)return console.log(f),!1;var g={_id:b.updateEventId,title:d,description:e,type:f,date:c};b.hideModal();var i=h.HttpUpdateData(a.serverURL+"/customer/calender/updateHoliday",g);i.then(function(a){a.success?b.getCalenderEvent():(window.alert("Something went wrong in event updation."),console.log("Error in get calender events"))})},b.deleteCalenderEvent=function(){b.hideModal();var c=h.HttpDeleteData(a.serverURL+"/customer/calender/deleteHoliday/"+b.updateEventId);c.then(function(a){a.success?b.getCalenderEvent():(window.alert("Something went wrong in event deletion."),console.log("Error in get calender events"))})},b.getCalenderEvent=function(){b.getEvents=[];var d=h.HttpGetData(a.serverURL+"/customer/calender/getAllHoliday");d.then(function(d){if(d.success){b.calenderEvents=d.data,angular.forEach(d.data,function(a){o[a.id]=a});for(var e=0;e<b.calenderEvents.length;e++){if("Holiday"==b.calenderEvents[e]._type)var f="#C88729";else if("Exam"==b.calenderEvents[e]._type)var f="#C4472C";else if("Event"==b.calenderEvents[e]._type)var f="#AEAC21";else if("Other"==b.calenderEvents[e]._type)var f="purple";else var f="#1AAE7A";b.getEvents.push({title:b.calenderEvents[e].title,start:c("date")(b.calenderEvents[e].date,"yyyy-MM-dd"),id:b.calenderEvents[e]._id,color:f})}a.mypageloading=!1,document.getElementById("calendar").innerHTML="",b.showCalenderEventsFunction()}else console.log("Error in get calender events")})},b.getCalenderEvent()}]),app.controller("gatepassController",["$rootScope","FlashService","$scope","$q","$indexedDB","mapService","constantService","HttpService","UtilService","HandShakeService","$sessionStorage","$timeout","$log","$routeParams",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){a.showBackStrech=!1,i.setSidebar();var o={};c.profileInfo=angular.fromJson(k.profileInfo),c.classList=[],c.allGatePassDetails=[],c.getAllGatePassesDetails=[],c.showAddOrUpdateModal=!1,c.showGatePassReceipt=!1,c.showGloble=!1;var p={};c.showSearchedStudentModal=!1,c.globelSearchstudent={_id:"",name:"",emer_1:""},c.reasonList=["He/She is not feeling well","Urgent work","Any other"],c.getGatePassesDetailsFunction=function(){a.mypageloading=!0;var b=h.HttpGetData(a.serverURL+"/customer/gatepass/getpass");b.then(function(b){1==b.success?void 0!=b.data&&null!=b.data&&""!=b.data&&(console.log(b.data),c.getAllGatePassesDetails=b.data,a.mypageloading=!1):(c.getAllGatePassesDetails=[],a.mypageloading=!1)})},c.showAddOrUpdateModalFunction=function(){b.Error(""),c.showAddOrUpdateModal=!0,c.globelSearchstudent.name="",c.allGatePassDetails.class="",c.allGatePassDetails.reason="",c.allGatePassDetails.receiverName="",c.allGatePassDetails.receiverRelation="",c.allGatePassDetails.receiverContact="",c.allGatePassDetails.vehicleNo="",c.allGatePassDetails.date="",c.allGatePassDetails.otherReason=""},c.addGatePassFunction=function(){if(b.Error(""),c.allGatePassDetails.date=new Date,void 0==c.globelSearchstudent.name||""==c.globelSearchstudent.name)return b.Error("Please select student name"),!1;if(void 0==c.allGatePassDetails.reason||""==c.allGatePassDetails.reason)return b.Error("Please specify reason"),!1;if(void 0==c.allGatePassDetails.receiverContact||""==c.allGatePassDetails.receiverContact)return b.Error("Please enter contact number"),!1;if(c.allGatePassDetails.receiverContact<1)return b.Error("Please  enter correct contact number"),!1;"Any other"!=c.allGatePassDetails.reason?c.allGatePassDetails.otherReason="":c.allGatePassDetails.reason=c.allGatePassDetails.otherReason;var d={student_id:c.globelSearchstudent._id,name:c.globelSearchstudent.name,class:c.allGatePassDetails.class,reason:c.allGatePassDetails.reason,receiver_name:c.allGatePassDetails.receiverName,relation:c.allGatePassDetails.receiverRelation,receiver_contact:c.allGatePassDetails.receiverContact,vehicle_number:c.allGatePassDetails.vehicleNo};a.mypageloading=!0;var e=h.HttpPostData(a.serverURL+"/customer/gatepass/addgatepass",d);e.then(function(d){1==d.success?void 0!=d.data&&null!=d.data&&""!=d.data&&(c.showAddOrUpdateModal=!1,c.showGatePassReceipt=!0,c.getGatePassesDetailsFunction(),a.mypageloading=!1):(b.Error("Something went wrong in adding gate pass. Please try again."),a.mypageloading=!1)})},c.getSinglePassDetailsFunction=function(a){c.globelSearchstudent.name=a.name,c.allGatePassDetails.class=a.class,c.allGatePassDetails.reason=a.reason,c.allGatePassDetails.receiverName=a.receiver_name,c.allGatePassDetails.receiverRelation=a.relation,c.allGatePassDetails.receiverContact=parseInt(a.receiver_contact),c.allGatePassDetails.vehicleNo=a.vehicle_number,c.allGatePassDetails.date=a.time,c.showGatePassReceipt=!0},c.selectStudentSearch=function(a){console.log(a),angular.forEach(c.classList,function(b){b._id==a.grade_id&&(c.allGatePassDetails.class=b.name)}),c.globelSearchstudent={_id:a._id,name:a.name,emer_1:a.emer_1},c.showSearchedStudentModal=!0,c.showGloble=!1},c.ClickSearch=function(){return""==c.globelSearchstudent.name?(c.showGloble=!1,c.showSearchedStudentModal=!1,!1):void(c.showGloble=!0)},c.getAllStudent=function(){a.mypageloading=!0,m.debug("HandShakeService.allStudentList call"),j.getAllStudentInfo().then(function(b){m.debug("HandShakeService existingStudentList received"),c.studentList=b,angular.forEach(b,function(a){p[a.rollno]=a}),c.getClasses(),a.mypageloading=!1}),m.debug("HandShakeService.existingStudentList passed")},c.getClasses=function(){j.getGradeInfo().then(function(a){m.debug("HandShakeService getRouteInfo received"),c.classList=a,angular.forEach(c.classList,function(a){o[a.grade_id]=a}),c.getGatePassesDetailsFunction()})},c.printToCart1=function(a){kendo.drawing.drawDOM($("#printSectionId")).then(function(b){kendo.drawing.pdf.saveAs(b,"Gate_Pass_To_"+a+".pdf"),c.showGatePassReceipt=!1})},c.getAllStudent()}]),app.controller("enquiryController",["$rootScope","FlashService","$scope","$q","$indexedDB","mapService","constantService","HttpService","UtilService","HandShakeService","$sessionStorage","$timeout","$log","$routeParams",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){a.showBackStrech=!1,i.setSidebar(),c.allEnquiryDetails=[],c.getAllEnquiryDetails=[],c.showAddOrUpdateModal=!1,c.isModalAddOrUpdate="",c.bloodGroupList=["A+","A-","AB+","AB-","B+","B-","O+","O-","NA"],c.getEnquiryFunction=function(){var b=h.HttpGetData(a.serverURL+"/customer/enquiry/getall");b.then(function(b){1==b.success?void 0!=b.data&&null!=b.data&&""!=b.data&&(c.getAllEnquiryDetails=b.data,a.mypageloading=!1):(c.getAllEnquiryDetails=[],a.mypageloading=!1)})},c.showAddOrUpdateModalFunction=function(){b.Error(""),c.showAddOrUpdateModal=!0,c.isModalAddOrUpdate="addEnquiry",c.allEnquiryDetails._id="",c.allEnquiryDetails.name="",c.allEnquiryDetails.fathername="",c.allEnquiryDetails.mothername="",c.allEnquiryDetails.address="",c.allEnquiryDetails.city="",c.allEnquiryDetails.gender="",c.allEnquiryDetails.contact="",c.allEnquiryDetails.grade_id="",c.allEnquiryDetails.dob="",c.allEnquiryDetails.blood="",c.allEnquiryDetails.parent_contact="",c.allEnquiryDetails.parent_email="",c.allEnquiryDetails.guardian_name="",c.allEnquiryDetails.guardian_contact="",c.allEnquiryDetails.last_school="",c.allEnquiryDetails.admission_form_issued=!1,c.allEnquiryDetails.transport=!1,c.allEnquiryDetails.mess=!1,c.allEnquiryDetails.hostel=!1},c.addEnquiryFunction=function(){if(b.Error(""),void 0==c.allEnquiryDetails.name||""==c.allEnquiryDetails.name)return b.Error("Please enter name"),!1;if(void 0==c.allEnquiryDetails.grade_id||""==c.allEnquiryDetails.grade_id)return b.Error("Please enter class"),!1;if(void 0==c.allEnquiryDetails.contact||""==c.allEnquiryDetails.contact)return b.Error("Please enter contact"),!1;if(c.allEnquiryDetails.contact<1)return b.Error("Please enter correct contact"),!1;if(void 0==c.allEnquiryDetails.gender||""==c.allEnquiryDetails.gender)return b.Error("Please select gender"),!1;void 0==c.allEnquiryDetails.dob||""==c.allEnquiryDetails.dob?""==c.allEnquiryDetails.dob:c.allEnquiryDetails.dob=c.allEnquiryDetails.dob.toDateString(),void 0==c.allEnquiryDetails.blood||""==c.allEnquiryDetails.blood?c.allEnquiryDetails.blood="Unknown":c.allEnquiryDetails.blood=c.bloodGroupList[c.allEnquiryDetails.blood],a.mypageloading=!0;var d={name:c.allEnquiryDetails.name,fathername:c.allEnquiryDetails.fathername,mothername:c.allEnquiryDetails.mothername,address:c.allEnquiryDetails.address,city:c.allEnquiryDetails.city,gender:c.allEnquiryDetails.gender,contact:parseInt(c.allEnquiryDetails.contact),grade_id:c.allEnquiryDetails.grade_id,dob:c.allEnquiryDetails.dob,blood:c.allEnquiryDetails.blood,parent_contact:c.allEnquiryDetails.parent_contact,parent_email:c.allEnquiryDetails.parent_email,guardian_name:c.allEnquiryDetails.guardian_name,guardian_contact:c.allEnquiryDetails.guardian_contact,last_school:c.allEnquiryDetails.last_school,admission_form_issued:c.allEnquiryDetails.admission_form_issued,transport:c.allEnquiryDetails.transport,mess:c.allEnquiryDetails.mess,hostel:c.allEnquiryDetails.hostel},e=h.HttpPostData(a.serverURL+"/customer/enquiry/addenquiry",d);e.then(function(b){1==b.success?void 0!=b.data&&null!=b.data&&""!=b.data&&(c.showAddOrUpdateModal=!1,c.getEnquiryFunction(),a.mypageloading=!1):(c.allEnquiryDetails=[],a.mypageloading=!1)})},c.getSingleEnquiryDetailsFunction=function(b){c.showAddOrUpdateModal=!0,c.isModalAddOrUpdate="updateEnquiry",c.allEnquiryDetails.parent_contact="",c.allEnquiryDetails.parent_email="",c.allEnquiryDetails.guardian_name="",c.allEnquiryDetails.guardian_contact="",c.allEnquiryDetails.last_school="",c.allEnquiryDetails.admission_form_issued=!1,c.allEnquiryDetails.transport=!1,c.allEnquiryDetails.mess=!1,c.allEnquiryDetails.hostel=!1,c.allEnquiryDetails.dob="";var d=h.HttpGetData(a.serverURL+"/customer/enquiry/getenquirybynum?number="+b.enquiry_number);d.then(function(b){1==b.success?void 0!=b.data&&null!=b.data&&""!=b.data&&(c.allEnquiryDetails._id=b.data[0]._id,c.allEnquiryDetails.name=b.data[0].name,c.allEnquiryDetails.fathername=b.data[0].fathername,c.allEnquiryDetails.mothername=b.data[0].mothername,c.allEnquiryDetails.address=b.data[0].address,c.allEnquiryDetails.city=b.data[0].city,c.allEnquiryDetails.gender=b.data[0].gender,c.allEnquiryDetails.contact=parseInt(b.data[0].contact2),c.allEnquiryDetails.grade_id=b.data[0].grade_id,c.allEnquiryDetails.blood=b.data[0].blood,c.allEnquiryDetails.admission_form_issued=b.data[0].admission_form_issued,c.allEnquiryDetails.transport=b.data[0].transport,c.allEnquiryDetails.mess=b.data[0].mess,c.allEnquiryDetails.hostel=b.data[0].hostel,""!=b.data[0].dob?c.allEnquiryDetails.dob=new Date(b.data[0].dob):c.allEnquiryDetails.dob="NA",a.mypageloading=!1):a.mypageloading=!1})},c.updateEnquiryFunction=function(){if(b.Error(""),void 0==c.allEnquiryDetails.name||""==c.allEnquiryDetails.name)return b.Error("Please enter name"),!1;if(void 0==c.allEnquiryDetails.contact||""==c.allEnquiryDetails.contact)return b.Error("Please enter contact"),!1;if(c.allEnquiryDetails.contact<1)return b.Error("Please enter correct contact"),!1;a.mypageloading=!0;var d={_id:c.allEnquiryDetails._id,name:c.allEnquiryDetails.name,fathername:c.allEnquiryDetails.fathername,mothername:c.allEnquiryDetails.mothername,address:c.allEnquiryDetails.address,city:c.allEnquiryDetails.city,contact:parseInt(c.allEnquiryDetails.contact),grade_id:c.allEnquiryDetails.grade_id,parent_contact:c.allEnquiryDetails.parent_contact,parent_email:c.allEnquiryDetails.parent_email,guardian_name:c.allEnquiryDetails.guardian_name,guardian_contact:c.allEnquiryDetails.guardian_contact,last_school:c.allEnquiryDetails.last_school,admission_form_issued:c.allEnquiryDetails.admission_form_issued,transport:c.allEnquiryDetails.transport,mess:c.allEnquiryDetails.mess,hostel:c.allEnquiryDetails.hostel},e=h.HttpUpdateData(a.serverURL+"/customer/enquiry/updateenquiry",d);e.then(function(b){1==b.success?void 0!=b.data&&null!=b.data&&""!=b.data&&(c.showAddOrUpdateModal=!1,c.getEnquiryFunction()):a.mypageloading=!1})},c.confirmEnquiryFunction=function(a){a.confirm=!0},c.cancelEnquiryFunction=function(a){a.confirm=!1},c.deleteEnquiryFunction=function(b){b.confirm=!1;var d=h.HttpDeleteData(a.serverURL+"/customer/enquiry/delete?number="+b.enquiry_number);d.then(function(b){1==b.success?void 0!=b.data&&null!=b.data&&""!=b.data&&c.getEnquiryFunction():a.mypageloading=!1})},c.getEnquiryFunction()}]),app.controller("courseSubjectController",["$rootScope","$routeParams","$location","$scope","$log","UtilService","HttpService",function(a,b,c,d,e,f,g){f.setSidebar(),a.showBackStrech=!1,a.mypageloading=!0,d.subjectList=[],d.courseId=b.courseId?b.courseId:-1,d.showGloble=!1,d.getAllSubjects=function(){e.log("Fetch list of subjects"),a.mypageloading=!0,g.HttpGetData(a.serverURL+"/customer/subject").then(function(b){if(b&&b.success&&b.data){var c=b.data;d.subjectList=[],angular.forEach(c,function(a){a&&a.classes&&angular.forEach(a.classes,function(b){d.courseId==b&&d.subjectList.push({id:a._id,name:a.name,customerId:a.customer_id,courseId:b})})})}else e.error("Unable to fetch subjects.");a.mypageloading=!1})},d.getAllSubjects(),d.openCourseListPage=function(){c.path("/students")},d.openChaptersListPage=function(a){c.path("/course-subject/chapter/"+a.courseId+"/"+a.id)}}]),app.controller("courseChapterController",["$rootScope","$routeParams","$location","$scope","$log","UtilService","HttpService","FlashService",function(a,b,c,d,e,f,g,h){f.setSidebar(),a.showBackStrech=!1,d.isAddOrUpdateChapterDialogShown=!1,a.mypageloading=!0,d.chapterList=[],d.courseId=b.courseId?b.courseId:-1,d.subjectId=b.subjectId?b.subjectId:-1,d.isEdit=!1,d.chapterImage={file:null,fileName:"",basePath:"chapter",fileKey:"chapterImage"},d.uploadProgress={},d.chapterForm={chapter_name:"",image:""},d.getAllChapter=function(){var b=a.serverURL+"/education/chapter/list?class_id="+d.courseId+"&subject_id="+d.subjectId;a.mypageloading=!0,g.HttpGetData(b).then(function(b){b&&b.success&&b.data&&b.data.chapterList?d.chapterList=b.data.chapterList:e.error("Unable to fetch subjects."),a.mypageloading=!1})},d.getAllChapter(),d.showAddOrUpdateChapterDialog=function(){d.resetChapterForm(!1),d.isAddOrUpdateChapterDialogShown=!0},d.hideAddOrUpdateChapterDialog=function(){d.isAddOrUpdateChapterDialogShown=!1},d.resetChapterForm=function(a){d.isEdit=a,d.uploadProgress={},d.chapterImage={file:null,fileName:"",basePath:"chapter",fileKey:"chapterImage"},d.chapterForm={chapter_name:"",image:""}},d.saveChapter=function(){function b(){if(a.mypageloading=!0,"chapter_id"in d.chapterForm)g.HttpUpdateData(a.serverURL+"/education/chapter/"+d.chapterForm.chapter_id,d.chapterForm).then(function(b){b&&b.success?(d.uploadProgress={},a.mypageloading=!1,d.isEdit=!1,d.getAllChapter(),d.hideAddOrUpdateChapterDialog()):(d.uploadProgress={},a.mypageloading=!1)});else{var b={subject_id:d.subjectId,class_id:d.courseId,chapters:[d.chapterForm]};a.mypageloading=!0,g.HttpPostData(a.serverURL+"/education/chapter/map",b).then(function(b){b&&b.success&&(d.getAllChapter(),d.hideAddOrUpdateChapterDialog()),a.mypageloading=!1})}}a.mypageloading=!0,d.chapterImage&&d.chapterImage.file?f.uploadFilesToAmazonS3([d.chapterImage]).then(function(a){!a||!a.data||!a.data.chapterImage||!a.data.chapterImage.isSuccess||(d.chapterForm.image=a&&a.data&&a.data.chapterImage?a.data.chapterImage.uploadUrl:"",d.chapterImage.file=null,d.chapterImage.fileName="",d.chapterImage.imagePreview="",b())},function(b){a.mypageloading=!1,e.error(b)},function(b){a.mypageloading=!0,d.uploadProgress=b}):b()},d.fileChange=function(a){d.chapterImage.file=a,d.chapterImage.fileName=a.name;var b=new FileReader;b.onload=function(a){d.chapterImage.imagePreview=a.target.result,d.chapterForm.image="",d.$apply()},b.readAsDataURL(a)},d.deletePhoto=function(a){"local"===a?(d.chapterImage.file=null,d.chapterImage.fileName="",d.chapterImage.imagePreview=""):d.chapterForm.image=""},d.openSubjectsListPage=function(){c.path("/course-subject/"+d.courseId)},d.openTopicsListPage=function(a,b){c.path("/course-subject/chapter/topic/"+d.courseId+"/"+d.subjectId+"/"+a._id)},d.editChapter=function(a){d.uploadProgress={},d.isEdit=!0,d.chapterForm={chapter_id:a._id,chapter_name:a.chapter_name,image:a.image,exam_id:a.exam_id,topic_ids:a.topic_ids},d.isAddOrUpdateChapterDialogShown=!0,d.isEdit=!0,console.log(d.chapterForm)},d.removeChapter=function(b){var c=!1;c=confirm("Are you sure to delete this chapter?"),c&&g.HttpDeleteData(a.serverURL+"/education/chapter/"+b._id).then(function(b){console.log(b),b&&b.success?(a.mypageloading=!1,d.getAllChapter()):a.mypageloading=!1})}}]),app.controller("courseTopicController",["$rootScope","$routeParams","$location","$scope","$log","$http","UtilService","HttpService","FlashService",function(a,b,c,d,e,f,g,h,i){g.setSidebar(),a.showBackStrech=!1,a.mypageloading=!0,d.showtopic=!1,d.topicList=[],d.isAddOrUpdateTopicDialogShown=!1,d.courseId=b.courseId?b.courseId:-1,d.subjectId=b.subjectId?b.subjectId:-1,d.chapterId=b.chapterId?b.chapterId:-1,d.isEdit=!1,d.topicForm={topic_name:"",topic_attachments:[],localTopicAttachments:[],video_thumbnail:"",video_link:"",description:"",assignment:"",localAssignmentAttachments:[],assignment_attachments:[]},d.uploadProgress={},d.topicAttachment={thumbnail:{file:null,fileName:"",basePath:"topic",fileKey:"thumbnail"},video:{file:null,fileName:"",basePath:"topic/video",fileKey:"video"}};var j=0;d.topicAssignmentAttachmentChange=function(a){j++;var b=new FileReader;b.onload=function(b){d.topicForm.localAssignmentAttachments.push({file:a,fileName:a.name,basePath:"topic",fileKey:"topicAssignmentAttachments"+j,imagePreview:b.target.result}),d.$apply()},b.readAsDataURL(a)};var k=0;d.topicAttachmentChange=function(a){k++;var b=new FileReader;b.onload=function(b){d.topicForm.localTopicAttachments.push({file:a,fileName:a.name,basePath:"topic",fileKey:"topicAttachments"+k,imagePreview:b.target.result}),d.$apply()},b.readAsDataURL(a)},d.deletePhoto=function(a,b){"video"===a?(d.topicAttachment.video.file=null,d.topicAttachment.video.fileName="",d.topicAttachment.video.videoPreview=""):"thumbnail"===a?(d.topicAttachment.thumbnail.file=null,d.topicAttachment.thumbnail.fileName="",d.topicAttachment.thumbnail.imagePreview=""):"video_link"===a?d.topicForm.video_link="":"video_thumbnail"===a?d.topicForm.video_thumbnail="":"assignment-attachments-local"===a?d.topicForm.localAssignmentAttachments.splice(b,1):"assignment-attachments"===a?d.topicForm.assignment_attachments.splice(b,1):"topic-attachments-local"===a?d.topicForm.localTopicAttachments.splice(b,1):d.topicForm.topic_attachments.splice(b,1)},d.getAllTopics=function(){var b=a.serverURL+"/education/topic/list?chapter_id="+d.chapterId;a.mypageloading=!0,h.HttpGetData(b).then(function(b){b&&b.success&&b.data&&b.data.topicList?d.topicList=b.data.topicList:e.error("Unable to fetch subjects."),a.mypageloading=!1})},d.getAllTopics(),d.resetTopicForm=function(a){d.isEdit=a,d.uploadProgress={},d.topicAttachment={thumbnail:{fileKey:"thumbnail",file:null,basePath:"topic"},video:{fileKey:"video",file:null,basePath:"topic/video"}},d.topicForm={topic_name:"",topic_attachments:[],localTopicAttachments:[],video_thumbnail:"",video_link:"",description:"",assignment:"",localAssignmentAttachments:[],assignment_attachments:[]}},d.viewtopic=function(a){d.singeltopic=a,d.showtopic=!0},d.backtoTopic=function(){d.showtopic=!1},d.showAddOrUpdateTopicDialog=function(a){d.resetTopicForm(a),d.isAddOrUpdateTopicDialogShown=!0},d.hideAddOrUpdateTopicDialog=function(){d.isAddOrUpdateTopicDialogShown=!1,d.topicForm={topic_name:"",topic_attachments:[],localTopicAttachments:[],video_thumbnail:"",video_link:"",description:"",assignment:"",localAssignmentAttachments:[],assignment_attachments:[]},d.topicAttachment={thumbnail:{fileKey:"thumbnail",file:null,basePath:"topic"},video:{fileKey:"video",file:null,basePath:"topic/video"}}},d.saveTopic=function(){function b(){if(a.mypageloading=!0,"topic_id"in d.topicForm)h.HttpUpdateData(a.serverURL+"/education/topic/"+d.topicForm.topic_id,d.topicForm).then(function(b){b&&b.success?(d.uploadProgress={},a.mypageloading=!1,d.isEdit=!1,d.getAllTopics(),d.hideAddOrUpdateTopicDialog()):(d.uploadProgress={},a.mypageloading=!1)});else{var b={chapter_id:d.chapterId,topics:[{topic_name:d.topicForm.topic_name,video_thumbnail:d.topicForm.video_thumbnail,video_link:d.topicForm.video_link,description:d.topicForm.description,assignment:d.topicForm.assignment,assignment_attachments:d.topicForm.assignment_attachments,topic_attachments:d.topicForm.topic_attachments}]};h.HttpPostData(a.serverURL+"/education/topic/map",b).then(function(b){b&&b.success?(d.uploadProgress={},a.mypageloading=!1,d.getAllTopics(),d.hideAddOrUpdateTopicDialog()):(d.uploadProgress={},a.mypageloading=!1)})}}function c(){d.topicForm&&d.topicForm.localAssignmentAttachments&&d.topicForm.localAssignmentAttachments.length?(a.mypageloading=!0,g.uploadFilesToAmazonS3(d.topicForm.localAssignmentAttachments).then(function(a){!!a&&a.data&&(angular.forEach(Object.keys(a.data),function(b,c){d.topicForm.assignment_attachments.push(a.data[b].uploadUrl)}),d.topicForm.localAssignmentAttachments=[],b())},function(b){e.error(b),a.mypageloading=!1},function(b){d.uploadProgress=b,a.mypageloading=!0})):b()}function f(){d.topicForm&&d.topicForm.localTopicAttachments&&d.topicForm.localTopicAttachments.length?(a.mypageloading=!0,g.uploadFilesToAmazonS3(d.topicForm.localTopicAttachments).then(function(a){!!a&&a.data&&(angular.forEach(Object.keys(a.data),function(b,c){d.topicForm.topic_attachments.push(a.data[b].uploadUrl)}),d.topicForm.localTopicAttachments=[],c())},function(b){e.error(b),a.mypageloading=!1},function(b){d.uploadProgress=b,a.mypageloading=!0})):c()}var i=[];d.topicAttachment.thumbnail.file&&i.push(d.topicAttachment.thumbnail),d.topicAttachment.video.file&&i.push(d.topicAttachment.video),i&&i.length>0?(a.mypageloading=!0,g.uploadFilesToAmazonS3(i).then(function(a){!!a&&a.data&&(!!a.data.video&&a.data.video.isSuccess&&(d.topicForm.video_link=a&&a.data&&a.data.video?a.data.video.uploadUrl:"",d.topicAttachment.thumbnail.imagePreview=""),!!a.data.thumbnail&&a.data.thumbnail.isSuccess&&(d.topicForm.video_thumbnail=a&&a.data&&a.data.thumbnail?a.data.thumbnail.uploadUrl:"",d.topicAttachment.video.videoPreview=""),f())},function(b){e.error(b),a.mypageloading=!1},function(b){d.uploadProgress=b,a.mypageloading=!0})):f()},d.openChapterListPage=function(){c.path("/course-subject/chapter/"+d.courseId+"/"+d.subjectId)},d.thumbnailChange=function(a){d.topicAttachment.thumbnail.file=a,d.topicAttachment.thumbnail.fileName=a.name;var b=new FileReader;b.onload=function(a){d.topicAttachment.thumbnail.imagePreview=a.target.result,d.topicForm.video_thumbnail="",d.$apply()},b.readAsDataURL(a)},d.videoChange=function(a){d.topicAttachment.video.file=a,d.topicAttachment.video.fileName=a.name;var b=new FileReader;b.onload=function(b){d.topicAttachment.video.videoPreview=URL.createObjectURL(a),d.topicForm.video_link="",d.$apply()},b.readAsDataURL(a)},d.editTopic=function(a){d.topicForm={topic_name:a.topic_name,topic_attachments:a.topic_attachments,localTopicAttachments:[],video_thumbnail:a.video_thumbnail,video_link:a.video_link,description:a.description,assignment:a.assignment,localAssignmentAttachments:[],assignment_attachments:a.assignment_attachments,topic_id:a._id},console.log(d.topicForm),d.isEdit=!0,d.isAddOrUpdateTopicDialogShown=!0},d.removeTopic=function(b){var c=!1;c=confirm("Are you sure to delete this topic?"),c&&h.HttpDeleteData(a.serverURL+"/education/topic/"+b._id).then(function(b){console.log(b),b&&b.success?(a.mypageloading=!1,d.getAllTopics()):a.mypageloading=!1})}}]),app.filter("trusted",["$sce",function(a){return a.trustAsResourceUrl}]),app.controller("coursePurchaseController",["$rootScope","$routeParams","$location","$scope","$log","UtilService","HandShakeService","HttpService","FlashService",function(a,b,c,d,e,f,g,h,i){f.setSidebar(),i.Error(""),i.Success(""),a.mypageloading=!0,d.isCoursePurchaseModelOpen=!1,d.courseList=[],d.studentList=[],d.existStudentList=[],d.globelSearchstudent={name:"",is_student_search:!0},d.isSearchResult=!1,d.studentName="",d.currentCoursePackage=[],d.coursePurchaseObj={course_id:"",student_id:"",type:"PAID",price:"",mode:"OFFLINE",channel:"",remark:""},d.$watch("globelSearchstudent.is_student_search",function(){d.globelSearchstudent.name="",d.studentList=[],d.coursePurchaseObj.student_id="",1==d.globelSearchstudent.is_student_search?(a.mypageloading=!1,d.isSearchResult=!1):a.mypageloading=!0}),d.getCourseList=function(){g.getGradeInfo().then(function(a){a&&a.length>0&&angular.forEach(a,function(a){"COURSE"==a.type&&d.courseList.push(a)})})},d.getCourseList(),d.getCoursePackages=function(){if(d.coursePurchaseObj.course_id){for(var a=0;a<d.courseList.length;a++)if(d.coursePurchaseObj.course_id===d.courseList[a]._id){d.currentCoursePackage=d.courseList[a].price,console.log(d.currentCoursePackage);break}}else d.currentCoursePackage=[],d.coursePurchaseObj.price="",d.coursePurchaseObj.course_id=""},d.getStudentList=function(b){var c="";if(d.isSearchResult=!1,d.globelSearchstudent.name&&1==d.globelSearchstudent.is_student_search){var c=h.HttpGetData(a.serverURL+"/education/learnUserListByCustomerId?page=''&perPage=''&serchByname="+d.globelSearchstudent.name);a.mypageloading=!1}else{var c=h.HttpGetData(a.serverURL+"/education/learnUserListByCustomerId?page=''&perPage=5000&serchByname=");a.mypageloading=!0}c.then(function(c){1==c.success&&c.data.learnUserList?(d.studentList=c.data.learnUserList,0==b&&(d.existStudentList=c.data.learnUserList),a.mypageloading=!1,d.studentList&&d.studentList.length>0&&(d.isSearchResult=!0),console.log(d.studentList)):(d.existStudentList=[],d.studentList=[],d.isSearchResult=!1)})},d.getStudentList(!1),d.openCoursePurchaseModel=function(){a.mypageloading=!1,i.Error(""),i.Success(""),d.globelSearchstudent={name:"",is_student_search:!0},d.currentCoursePackage=[],d.studentList=[],d.studentName="",d.isSearchResult=!1,d.coursePurchaseObj={course_id:"",student_id:"",type:"PAID",price:"",mode:"OFFLINE",channel:"",remark:""},d.isCoursePurchaseModelOpen=!0},d.selectedStudent=function(b){a.mypageloading=!1,b&&(d.coursePurchaseObj.student_id=b._id,d.globelSearchstudent.name=b.name,d.isSearchResult=!1)},d.saveCoursePurchaseDetail=function(){if(""==d.coursePurchaseObj.student_id||void 0==d.coursePurchaseObj.student_id)return i.Error("Please select student"),!1;if(""==d.coursePurchaseObj.course_id||void 0==d.coursePurchaseObj.course_id)return i.Error("Please select course"),!1;if(""==d.coursePurchaseObj.price||void 0==d.coursePurchaseObj.price)return i.Error("Please select course package"),!1;if(""==d.coursePurchaseObj.channel||void 0==d.coursePurchaseObj.channel)return i.Error("Please enter channel "),!1;a.mypageloading=!0,d.coursePurchaseObj.price=parseFloat(d.coursePurchaseObj.price);var b=h.HttpPostData(a.serverURL+"/education/purchase-course",d.coursePurchaseObj);b.then(function(b){console.log(b),1==b.success?(d.isCoursePurchaseModelOpen=!1,d.globelSearchstudent={name:"",is_student_search:!0},d.currentCoursePackage=[],d.studentList=[],d.studentName="",d.isSearchResult=!1,d.coursePurchaseObj={course_id:"",student_id:"",type:"PAID",price:"",mode:"OFFLINE",channel:"",remark:""},a.mypageloading=!1):(console.log(b),a.mypageloading=!1)})}}]);